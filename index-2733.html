<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2733) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2733.html">
<link rel="prev" href="index-2734.html" type="text/html">
<link rel="next" href="index-2732.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-does-noqa-mean-in-python-comments/" class="u-url">What does '# noqa' mean in Python comments?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-does-noqa-mean-in-python-comments/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T13:51:02+08:00" itemprop="datePublished" title="2023-03-05 13:51">2023-03-05 13:51</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>While searching through a Python project, I found a few lines commented with
<code># noqa</code>.</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">r</span><span class="s1">'C:\dev'</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">some_module</span>   <span class="c1"># noqa</span>
</pre></div>

<p>What does <code>noqa</code> mean in Python? Is it specific to Python only?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Adding <code># noqa</code> to a line indicates that the linter (a program that
automatically checks code quality) should not check this line. Any warnings
that code may have generated will be ignored.</p>
<p>That line may have something that "looks bad" to the linter, but the developer
understands and intends it to be there for some reason.</p>
<p>For more information, see the Flake8 documentation for Selecting and Ignoring
Violations.</p>
<p><br></p>
<h3>Suggest</h3>
<h2>noqa = NO-QA (NO Quality Assurance)</h2>
<p>It's generally used in Python code to ignore PEP8 warnings.</p>
<p>Lines with <code>#noqa</code> at the end will be ignored by linter programs and won't
raise any warnings.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/why-should-i-always-enable-compiler-warnings/" class="u-url">Why should I always enable compiler warnings?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/why-should-i-always-enable-compiler-warnings/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T13:49:12+08:00" itemprop="datePublished" title="2023-03-05 13:49">2023-03-05 13:49</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I often hear that when compiling C and C++ programs I should "always enable
compiler warnings". Why is this necessary? How do I do that?</p>
<p>Sometimes I also hear that I should "treat warnings as errors". Should I? How
do I do that?</p>
<p><br><br></p>
<h2>Answer</h2>
<h2>Why should I enable warnings?</h2>
<p>C and C++ compilers are notoriously bad at reporting some common programmer
mistakes <em>by default</em> , such as:</p>
<ul>
<li>forgetting to initialise a variable</li>
<li>forgetting to <code>return</code> a value from a function</li>
<li>arguments in <code>printf</code> and <code>scanf</code> families not matching the format string</li>
<li>a function is used without being declared beforehand (C only)</li>
</ul>
<p>These can be detected and reported, just usually not by default; this feature
must be explicitly requested via compiler options.</p>
<h2>How can I enable warnings?</h2>
<p>This depends on your compiler.</p>
<p>Microsoft C and C++ compilers understand switches like <code>/W1</code>, <code>/W2</code>, <code>/W3</code>,
<code>/W4</code> and <code>/Wall</code>. Use at least <code>/W3</code>. <code>/W4</code> and <code>/Wall</code> may emit spurious
warnings for system header files, but if your project compiles cleanly with
one of these options, go for it. These options are mutually exclusive.</p>
<p>Most other compilers understand options like <code>-Wall</code>, <code>-Wpedantic</code> and
<code>-Wextra</code>. <code>-Wall</code> is essential and all the rest are recommended (note that,
despite its name, <code>-Wall</code> only enables the most important warnings, not <em>all</em>
of them). These options can be used separately or all together.</p>
<p>Your IDE may have a way to enable these from the user interface.</p>
<h2>Why should I treat warnings as errors? They are just warnings!</h2>
<p>A compiler warning signals a potentially serious problem in your code. The
problems listed above are almost always fatal; others may or may not be, but
you want compilation to fail <em>even if</em> it turns out to be a false alarm.
Investigate each warning, find the root cause, and fix it. In the case of a
false alarm, work around it — that is, use a different language feature or
construct so that the warning is no longer triggered. If this proves to be
very hard, disable that particular warning on a case by case basis.</p>
<p>You don't want to just leave warnings as warnings even if all of them are
false alarms. It could be OK for very small projects where the total number of
warnings emitted is less than 7. Anything more, and it's easy for a new
warning to get lost in a flood of old familiar ones. Don't allow that. Just
cause all your project to compile cleanly.</p>
<p>Note this applies to program development. If you are releasing your project to
the world in the source form, then it might be a good idea not to supply
<code>-Werror</code> or equivalent in your <em>released</em> build script. People might try to
build your project with a different version of the compiler, or with a
different compiler altogether, which may have a different set of warnings
enabled. You may want their build to succeed. It is still a good idea to keep
the warnings enabled, so that people who see warning messages could send you
bug reports or patches.</p>
<h2>How can I treat warnings as errors?</h2>
<p>This is again done with compiler switches. <code>/WX</code> is for Microsoft, most others
use <code>-Werror</code>. In either case, the compilation will fail if there are any
warnings produced.</p>
<h2>Is this enough?</h2>
<p>Probably not! As you crank up your optimisation level, the compiler starts
looking at the code more and more closely, and this closer scrutiny may reveal
more mistakes. Thus, do not be content with the warning switches by
themselves, always use them when compiling with optimisations enabled (<code>-O2</code>
or <code>-O3</code>, or <code>/O2</code> if using MSVC).</p>
<p><br></p>
<h3>Suggest</h3>
<p>C is, famously, a rather low-level language as HLLs go. C++, though it might
seem to be a considerably higher-level language than C, still shares a number
of its traits. And one of those traits is that the languages were designed by
programmers, for programmers — and, specifically, programmers who knew what
they were doing.</p>
<p>(For the rest of this answer I'm going to focus on C. Most of what I'll say
also applies to C++, though perhaps not as strongly. Although as Bjarne
Stroustrup has famously said, <em>"C makes it easy to shoot yourself in the foot;
C++ makes it harder, but when you do it blows your whole leg off."</em>.)</p>
<p>If you know what you are doing — <em>really</em> know what you are doing — sometimes
you may have to "break the rules". But most of the time, most of us will agree
that well-intentioned rules keep us all out of trouble, and that wantonly
breaking those rules all the time is a bad idea.</p>
<p>But in C and C++, there are surprisingly large numbers of things you can do
that are "bad ideas", but which aren't formally "against the rules". Sometimes
they're a bad idea some of the time (but might be defensible other times);
sometimes they're a bad idea virtually all of the time. But the tradition has
always been <em>not</em> to warn about these things — because, again, the assumption
is that programmers know what they are doing, they wouldn't be doing these
things without a good reason, and they'd be annoyed by a bunch of unnecessary
warnings.</p>
<p>But of course not all programmers <em>really</em> know what they're doing. And, in
particular, every C programmer (no matter how experienced) goes through a
phase of being a beginning C programmer. And even experienced C programmers
can get careless and make mistakes.</p>
<p>Finally, experience has shown not only that programmers do make mistakes, but
that these mistakes can have real, serious consequences. If you make a
mistake, and the compiler doesn't warn you about it, and somehow the program
doesn't immediately crash or do something obviously wrong because of it, the
mistake can lurk there, hidden, sometimes for years, until it causes a
<em>really</em> big problem.</p>
<p>So it turns out that, most of the time, warnings are a good idea, after all.
Even the experienced programmers have learned that (actually, it's "
<em>especially</em> the experienced programmers have learned that"), on balance, the
warnings tend to do more good than harm. For every time you did something
wrong deliberately and the warning was a nuisance, there are probably at least
ten times you did something wrong by accident and the warning saved you from
further trouble. And most warnings can be disabled or worked around for those
few times when you really want to do the "wrong" thing.</p>
<p>(A classic example of such a "mistake" is the test <code>if(a = b)</code>. Most of the
time, this is truly a mistake, so most compilers these days warn about it —
some even by default. But if you <em>really</em> want to both assign <code>b</code> to <code>a</code> and
test the result, you can disable the warning by typing <code>if((a = b))</code>.)</p>
<p>The second question is, why would you want to ask the compiler to treat
warnings as errors? I'd say it's because of human nature, specifically, the
all-too-easy reaction of saying "Oh, that's just a warning, that's not so
important, I'll clean that up later." But if you're a procrastinator (and I
don't know about you, but I'm a world-class procrastinator) it's easy to put
off the necessary cleanup for basically ever — and if you get into the habit
of ignoring warnings, it gets easier and easier to miss an <em>important</em> warning
message that's sitting there, unnoticed, in the midst of all the ones you're
relentlessly ignoring.</p>
<p>So asking the compiler to treat warnings as errors is a little trick you can
play on yourself to get around this human foible, to force yourself to fix the
warnings <em>today</em> , because otherwise your program won't compile.</p>
<p>Personally, I'm not as insistent about treating warnings as errors — in fact,
if I'm honest, I can say that I don't tend to enable that option in my
"personal" programming. But you can be sure I've got that option enabled at
work, where our style guide (which I wrote) mandates its use. And I would say
— I suspect most professional programmers would say — that any shop that
doesn't treat warnings as errors in C is behaving irresponsibly, is not
adhering to commonly-accepted industry best practices.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/create-a-path-from-string-in-java7/" class="u-url">Create a Path from String in Java7</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/create-a-path-from-string-in-java7/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T13:47:47+08:00" itemprop="datePublished" title="2023-03-05 13:47">2023-03-05 13:47</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How can I create a <code>java.nio.file.Path</code> object from a <code>String</code> object in Java
7?</p>
<p>I.e.</p>
<div class="code"><pre class="code literal-block"><span class="nt">String</span><span class="w"> </span><span class="nt">textPath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"c:/dir1/dir2/dir3"</span><span class="o">;</span>
<span class="nt">Path</span><span class="w"> </span><span class="nt">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">?;</span>
</pre></div>

<p>where <code>?</code> is the missing code that uses <code>textPath</code>.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can just use the <code>Paths</code> class:</p>
<div class="code"><pre class="code literal-block">Path path = Paths.get(textPath);
</pre></div>

<p>... assuming you want to use the default file system, of course.</p>
<p><br></p>
<h3>Suggest</h3>
<p>From the
javadocs..http://docs.oracle.com/javase/tutorial/essential/io/pathOps.html</p>
<div class="code"><pre class="code literal-block">Path p1 = Paths.get("/tmp/foo");
</pre></div>

<p>is the same as</p>
<div class="code"><pre class="code literal-block"><span class="nt">Path</span><span class="w"> </span><span class="nt">p4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">FileSystems</span><span class="p">.</span><span class="nc">getDefault</span><span class="o">()</span><span class="p">.</span><span class="nc">getPath</span><span class="o">(</span><span class="s2">"/tmp/foo"</span><span class="o">);</span>

<span class="nt">Path</span><span class="w"> </span><span class="nt">p3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">Paths</span><span class="p">.</span><span class="nc">get</span><span class="o">(</span><span class="nt">URI</span><span class="p">.</span><span class="nc">create</span><span class="o">(</span><span class="s2">"file:///Users/joe/FileTest.java"</span><span class="o">));</span>

<span class="nt">Path</span><span class="w"> </span><span class="nt">p5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">Paths</span><span class="p">.</span><span class="nc">get</span><span class="o">(</span><span class="nt">System</span><span class="p">.</span><span class="nc">getProperty</span><span class="o">(</span><span class="s2">"user.home"</span><span class="o">),</span><span class="s2">"logs"</span><span class="o">,</span><span class="w"> </span><span class="s2">"foo.log"</span><span class="o">);</span>
</pre></div>

<p>In Windows, creates file <em>C:\joe\logs\foo.log (assuming user home as C:\joe)</em><br>
In Unix, creates file <em>/u/joe/logs/foo.log (assuming user home as /u/joe)</em></p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2734.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2732.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

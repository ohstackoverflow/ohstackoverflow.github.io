<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1940) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1940.html">
<link rel="prev" href="index-1941.html" type="text/html">
<link rel="next" href="index-1939.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-does-git-rev-parse-do/" class="u-url">What does git rev-parse do?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-does-git-rev-parse-do/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T13:02:32+08:00" itemprop="datePublished" title="2023-03-03 13:02">2023-03-03 13:02</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What does <code>git rev-parse</code> do?</p>
<p>I have read the man page but it raised more questions than answers. Things
like:</p>
<blockquote>
<p>Pick out and <strong>massage</strong> parameters</p>
</blockquote>
<p><em>Massage</em>? What does that mean?</p>
<p>I'm using as a resolver (to SHA1) of revision specifiers, like</p>
<div class="code"><pre class="code literal-block">git rev-parse HEAD^
</pre></div>

<p>or</p>
<div class="code"><pre class="code literal-block">git rev-parse origin/master
</pre></div>

<p>Is this the command’s purpose? If not, is even correct to use it to achieve
this?</p>
<p><br><br></p>
<h2>Answer</h2>
<p><code>git rev-parse</code> is an ancillary <code>plumbing</code> command primarily used for
manipulation.</p>
<p>One common usage of <code>git rev-parse</code> is to print the SHA1 hashes given a
revision specifier. In addition, it has various options to format this output
such as <code>--short</code> for printing a shorter unique SHA1.</p>
<p>There are other use cases as well (in scripts and other tools built on top of
git) that I've used for:</p>
<ul>
<li>
<code>--verify</code> to verify that the specified object is a valid git object.</li>
<li>
<code>--git-dir</code> for displaying the abs/relative path of the <code>.git</code> directory.</li>
<li>Checking if you're currently within a repository using <code>--is-inside-git-dir</code> or within a work-tree using <code>--is-inside-work-tree</code>
</li>
<li>Checking if the repo is a bare using <code>--is-bare-repository</code>
</li>
<li>Printing SHA1 hashes of branches (<code>--branches</code>), tags (<code>--tags</code>) and the refs can also be filtered based on the remote (using <code>--remote</code>)</li>
<li>
<code>--parse-opt</code> to normalize arguments in a script (kind of similar to <code>getopt</code>) and print an output string that can be used with <code>eval</code>
</li>
</ul>
<p><code>Massage</code> just implies that it is possible to convert the info from one form
into another i.e. a transformation command. These are some quick examples I
can think of:</p>
<ul>
<li>a branch or tag name into the commit's SHA1 it is pointing to so that it can be passed to a plumbing command which only accepts SHA1 values for the commit.</li>
<li>a revision range <code>A..B</code> for <code>git log</code> or <code>git diff</code> into the equivalent arguments for the underlying plumbing command as <code>B ^A</code>
</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<p>Just to elaborate on the etymology of the command name <code>rev-parse</code>, Git
consistently uses the term <code>rev</code> in plumbing commands as short for "revision"
and generally meaning the 40-character SHA1 hash for a commit. The command
<code>rev-list</code> for example prints a list of 40-char commit hashes for a branch or
whatever.</p>
<p>In this case the name might be expanded to <code>parse-a-commitish-to-a-full-
SHA1-hash</code>. While the command has the several ancillary functions mentioned in
Tuxdude's answer, its namesake appears to be the use case of transforming a
user-friendly reference like a branch name or abbreviated hash into the
unambiguous 40-character SHA1 hash most useful for many programming/plumbing
purposes.</p>
<p>I know I was thinking it was "reverse-parse" something for quite a while
before I figured it out and had the same trouble making sense of the terms
"massaging" and "manipulation" :)</p>
<p>Anyway, I find this "parse-to-a-revision" notion a satisfying way to think of
it, and a reliable concept for bringing this command to mind when I need that
sort of thing. Frequently in scripting Git you take a user-friendly commit
reference as user input and generally want to get it resolved to a validated
and unambiguous working reference as soon after receiving it as possible.
Otherwise input translation and validation tends to proliferate through the
script.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/define-what-is-a-hashset/" class="u-url">Define: What is a HashSet?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/define-what-is-a-hashset/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T13:02:11+08:00" itemprop="datePublished" title="2023-03-03 13:02">2023-03-03 13:02</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p><strong>HashSet</strong> The C# HashSet data structure was introduced in the .NET Framework
3.5. A full list of the implemented members can be found at the HashSet MSDN
page.</p>
<ol>
<li>Where is it used?</li>
<li>Why would you want to use it?</li>
</ol>
<p><br><br></p>
<h2>Answer</h2>
<ol>
<li>
<ol>
<li>A <code>HashSet</code> holds a set of objects, but in a way that allows you to easily and quickly determine whether an object is already in the set or not. It does so by internally managing an array and storing the object using an index which is calculated from the hashcode of the object. Take a look here</li>
</ol>
</li>
<li>
<p><code>HashSet</code> is an unordered collection containing unique elements. It has the standard collection operations Add, Remove, Contains, but since it uses a hash-based implementation, these operations are O(1). (As opposed to List for example, which is O(n) for Contains and Remove.) <code>HashSet</code> also provides standard set operations such as <em>union</em> , <em>intersection</em> , and <em>symmetric difference</em>. Take a look here</p>
</li>
<li>
<p>There are different implementations of Sets. Some make insertion and lookup operations super fast by hashing elements. However, that means that the order in which the elements were added is lost. Other implementations preserve the added order at the cost of slower running times.</p>
</li>
</ol>
<p>The <code>HashSet</code> class in C# goes for the first approach, thus <strong>not</strong> preserving
the order of elements. It is much faster than a regular <code>List</code>. Some basic
benchmarks showed that HashSet is decently faster when dealing with primary
types (int, double, bool, etc.). It is a lot faster when working with class
objects. So the point is that HashSet is fast.</p>
<p>The only catch of <code>HashSet</code> is that there is no access by indices. To access
elements you can either use an enumerator or use the built-in function to
convert the <code>HashSet</code> into a <code>List</code> and iterate through that. Take a look here</p>
<p><br></p>
<h3>Suggest</h3>
<p>A <code>HashSet</code> has an internal structure (hash), where items can be searched and
identified quickly. The downside is that iterating through a <code>HashSet</code> (or
getting an item by index) is rather slow.</p>
<p>So why would someone want be able to know if an entry already exists in a set?</p>
<p>One situation where a <code>HashSet</code> is useful is in getting distinct values from a
list where duplicates may exist. Once an item is added to the <code>HashSet</code> it is
quick to determine if the item exists (<code>Contains</code> operator).</p>
<p>Other advantages of the <code>HashSet</code> are the Set operations: <code>IntersectWith</code>,
<code>IsSubsetOf</code>, <code>IsSupersetOf</code>, <code>Overlaps</code>, <code>SymmetricExceptWith</code>, <code>UnionWith</code>.</p>
<p>If you are familiar with the object constraint language then you will identify
these set operations. You will also see that it is one step closer to an
implementation of executable UML.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-the-ld-preload-trick/" class="u-url">What is the LD_PRELOAD trick?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-the-ld-preload-trick/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T13:01:45+08:00" itemprop="datePublished" title="2023-03-03 13:01">2023-03-03 13:01</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I came across a reference to it recently on proggit and (as of now) it is not
explained.</p>
<p>I suspect this might be it, but I don't know for sure.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>If you set <code>LD_PRELOAD</code> to the path of a shared object, that file will be
loaded <strong>before</strong> any other library (including the C runtime, <code>libc.so</code>). So
to run <code>ls</code> with your special <code>malloc()</code> implementation, do this:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span><span class="nv">LD_PRELOAD</span><span class="o">=</span>/path/to/my/malloc.so<span class="w"> </span>/bin/ls
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>You can override symbols in the stock libraries by creating a library with the
same symbols and specifying the library in <code>LD_PRELOAD</code>.</p>
<p>Some people use it to specify libraries in nonstandard locations, but
<code>LD_LIBRARY_PATH</code> is better for that purpose.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1941.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1939.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1484) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1484.html">
<link rel="prev" href="index-1485.html" type="text/html">
<link rel="next" href="index-1483.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-accurately-convert-eth-to-wei-when-sending-transaction/" class="u-url">How do I accurately convert ETH to WEI when sending transaction?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-accurately-convert-eth-to-wei-when-sending-transaction/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-28T05:06:25+08:00" itemprop="datePublished" title="2023-02-28 05:06">2023-02-28 05:06</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am trying to send <code>ETH</code> from one account to another but the conversion from
<code>ETH</code> to <code>WEI</code> keeps giving me headaches. In this case, I am trying to send
<code>0.11 ETH</code> but in the confirmation window, I get <code>313.59464925 ETH</code> instead.</p>
<div class="code"><pre class="code literal-block"><span class="c1">// This is my transaction code</span>

<span class="n">await</span><span class="w"> </span><span class="nb">window</span><span class="p">.</span><span class="n">ethereum</span>
<span class="w">  </span><span class="p">.</span><span class="n">request</span><span class="p">({</span>
<span class="w">    </span><span class="n">method</span><span class="p">:</span><span class="w"> </span><span class="s">"eth_sendTransaction"</span><span class="p">,</span>
<span class="w">    </span><span class="n">params</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">          </span><span class="n">from</span><span class="p">:</span><span class="w"> </span><span class="nb">window</span><span class="p">.</span><span class="n">ethereum</span><span class="p">.</span><span class="n">selectedAddress</span><span class="p">,</span>
<span class="w">          </span><span class="n">to</span><span class="p">:</span><span class="w"> </span><span class="s">"0x4dxxxxxxxxxxxxxxxxxx2dr9820C"</span><span class="p">,</span>
<span class="w">          </span><span class="n">value</span><span class="p">:</span><span class="w"> </span><span class="n">String</span><span class="p">(</span><span class="mf">0.11</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">1000000000000000000</span><span class="p">),</span><span class="w"> </span><span class="c1">// convert to WEI</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">      </span><span class="p">})</span>
<span class="w">  </span><span class="p">.</span><span class="nb">then</span><span class="p">((</span><span class="n">result</span><span class="p">)</span><span class="w"> </span><span class="p">=</span><span class="o">&gt;</span><span class="w"> </span><span class="n">console</span><span class="p">.</span><span class="nb">log</span><span class="p">(</span><span class="n">result</span><span class="p">))</span>
<span class="w">  </span><span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nb">error</span><span class="p">)</span><span class="w"> </span><span class="p">=</span><span class="o">&gt;</span><span class="w"> </span><span class="n">console</span><span class="p">.</span><span class="nb">log</span><span class="p">(</span><span class="nb">error</span><span class="p">));</span>
</pre></div>

<p>I have also tried using BigNumber but it doesn't solve the problem, I guess
I'm messing something up. How do I accurately convert <code>ETH</code> to <code>WEI</code>?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>i prefer using web3 utils to have cleaner code and prevent unexpected bugs so
with that you can write this:</p>
<div class="code"><pre class="code literal-block">value: "0x" + Web3.utils.toBN(Web3.utils.toWei("0.11", "ether")).toString(16)
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Are you using <strong>ethers.js</strong> with <strong>hardhat?</strong> If yes, to convert Ethers to
Wei, you can use <strong>ethers.utils</strong> as follows:</p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">ethers</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">require</span><span class="p">(</span><span class="s2">"hardhat"</span><span class="p">);</span><span class="w">    </span>
<span class="n">let</span><span class="w"> </span><span class="n">ethersToWei</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ethers</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">parseUnits</span><span class="p">(</span><span class="mf">1.</span><span class="n">toString</span><span class="p">(),</span><span class="w"> </span><span class="s2">"ether"</span><span class="p">);</span>
</pre></div>

<p>The code above converts 1 ether to equivalent Wei.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-get-private-and-public-keys-for-the-wallet-by-providing-a-seed-phrase-near-protocol/" class="u-url">How to get private and public keys for the wallet by providing a seed phrase (NEAR Protocol)</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-get-private-and-public-keys-for-the-wallet-by-providing-a-seed-phrase-near-protocol/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-28T05:06:04+08:00" itemprop="datePublished" title="2023-02-28 05:06">2023-02-28 05:06</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I need to be able to get public and private keys for NEAR wallet by providing
it's seed-phrase. I've found a specific library/repo in NEAR's GitHub account
that looks very promising for my case :) : https://github.com/near/near-seed-
phrase</p>
<p>But, after some testing it looks like the results provided by this library
(parseSeedPhrase function) don't match the actual keys which can be obtained
by using near-cli utility.</p>
<p>I have an assumption that maybe NEAR's Testnet is using different value for a
derivationPath parameter, and the one that is included as a default one inside
the library is for the Mainnet only. Maybe I just missing something, any help
would be appreciated.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>near-seed-phrase works just fine, and the key generated by it is used for
account creation (proof), but then Wallet generates a new random keypair and
adds it to the account (proof) and stores it in the Local Storage of the
browser. Thus, if you compare the key in the local storage, that won't match
the one that is derived from the seed phrase since Wallet does not want you to
invalidate your seed phrase after you sign in from a new device (you should be
able to just remove the access key after you are done with the session).</p>
<p>Let's re-iterate, Wallet only uses the key derived from the seed phrase to add
a fresh key to a given account, and never stores the seed phrase or the key
derived from the seed phrase in the local storage.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/is-move-a-turing-complete-language/" class="u-url">Is Move a Turing-complete language?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/is-move-a-turing-complete-language/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-28T05:05:44+08:00" itemprop="datePublished" title="2023-02-28 05:05">2023-02-28 05:05</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Will Move (on the Diem platform), like Ethereum, be turing complete? I have
read the white paper but have been unable to decide.</p>
<p>This is the white paper:
https://developers.libra.org/docs/assets/papers/libra-move-a-language-with-
programmable-resources.pdf</p>
<p><br><br></p>
<h2>Answer</h2>
<p>It is a Turing-complete programming language. It supports while loops and
Recursion.</p>
<p>See the Move Basics documentation for more information.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1485.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1483.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

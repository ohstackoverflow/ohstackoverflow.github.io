<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1834) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1834.html">
<link rel="prev" href="index-1835.html" type="text/html">
<link rel="next" href="index-1833.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/in-ruby-on-rails-what-s-the-difference-between-datetime-timestamp-time-and-date/" class="u-url">In Ruby on Rails, what's the difference between DateTime, Timestamp, Time and Date?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/in-ruby-on-rails-what-s-the-difference-between-datetime-timestamp-time-and-date/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T10:28:07+08:00" itemprop="datePublished" title="2023-03-03 10:28">2023-03-03 10:28</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>In my experience, getting dates/times right when programming is always fraught
with danger and difficulity.</p>
<p>Ruby and Rails have always eluded me on this one, if only due to the
overwhelming number of options; I never have any idea which I should pick.</p>
<p>When I'm using Rails and looking at ActiveRecord datatypes I can find the
following</p>
<blockquote>
<p>:datetime, :timestamp, :time, and :date</p>
</blockquote>
<p>and have no idea what the differences are or where the gotchas lurk.</p>
<p>What's the difference? What do you use them for?</p>
<p>(P.S. I'm using Rails3)</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The difference between different date/time formats in ActiveRecord has little
to do with Rails and everything to do with whatever database you're using.</p>
<p>Using MySQL as an example (if for no other reason because it's most popular),
you have <code>DATE</code>, <code>DATETIME</code>, <code>TIME</code> and <code>TIMESTAMP</code> column data types; just as
you have <code>CHAR</code>, <code>VARCHAR</code>, <code>FLOAT</code> and <code>INTEGER</code>.</p>
<p>So, you ask, what's the difference? Well, some of them are self-explanatory.
<code>DATE</code> only stores a date, <code>TIME</code> only stores a time of day, while <code>DATETIME</code>
stores both.</p>
<p>The difference between <code>DATETIME</code> and <code>TIMESTAMP</code> is a bit more subtle:
<code>DATETIME</code> is formatted as <code>YYYY-MM-DD HH:MM:SS</code>. Valid ranges go from the
year 1000 to the year 9999 (and everything in between. While <code>TIMESTAMP</code>
<em>looks</em> similar when you fetch it from the database, it's really a just a
front for a unix timestamp. Its valid range goes from 1970 to 2038. The
difference here, aside from the various built-in functions within the database
engine, is storage space. Because <code>DATETIME</code> stores every digit in the year,
month day, hour, minute and second, it uses up a total of 8 bytes. As
<code>TIMESTAMP</code> only stores the number of seconds since 1970-01-01, it uses 4
bytes.</p>
<p>You can read more about the differences between time formats in MySQL here.</p>
<p>In the end, it comes down to what you need your date/time column to do:</p>
<ul>
<li>Do you need to store dates and times before 1970 or after 2038? =&gt; Use <code>DATETIME</code>.</li>
<li>Do you need to worry about database size and you're within that timerange? =&gt; Use <code>TIMESTAMP</code>.</li>
<li>Do you only need to store a date? =&gt; Use <code>DATE</code>.</li>
<li>Do you only need to store a time? =&gt; Use <code>TIME</code>.</li>
</ul>
<p>Having said all of this, <strong>Rails actually makes some of these decisions for
you</strong>. Both <code>:timestamp</code> and <code>:datetime</code> will default to <code>DATETIME</code>, while
<code>:date</code> and <code>:time</code> corresponds to <code>DATE</code> and <code>TIME</code>, respectively.</p>
<p>This means that within Rails, you only have to decide whether you need to
store date, time or both.</p>
<p><br></p>
<h3>Suggest</h3>
<ol>
<li>
<p>:datetime (8 bytes)</p>
<ul>
<li>Stores Date and Time formatted YYYY-MM-DD HH:MM:SS</li>
<li>Useful for columns like birth_date</li>
<li>
<p>:timestamp (4 bytes)</p>
</li>
<li>
<p>Stores number of seconds since 1970-01-01</p>
</li>
<li>Useful for columns like updated_at, created_at</li>
<li>:date (3 bytes) </li>
<li>Stores Date</li>
<li>:time (3 bytes) </li>
<li>Stores Time</li>
</ul>
</li>
</ol>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/caution-provisional-headers-are-shown-in-chrome-debugger/" class="u-url">"CAUTION: provisional headers are shown" in Chrome debugger</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/caution-provisional-headers-are-shown-in-chrome-debugger/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T10:27:42+08:00" itemprop="datePublished" title="2023-03-03 10:27">2023-03-03 10:27</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I noticed a strange caution message when looking at downloaded resources using
Google chrome inspector (<code>F12</code>):</p>
<blockquote>
<p>Caution provisional headers are shown</p>
</blockquote>
<p><img alt="enter image description here" src="images/PrUY4.jpg"></p>
<p>I found something possibly relevant, Network Panel: add caution about
provisional request headers, but I could not fully understand it. Related
questions can be found Chrome block requests as well as XMLHttpRequest cannot
load. Unloaded resources show caution: Provisional headers are shown.</p>
<p>Similar to the first question, my resource was blocked, but later
automatically loaded the same resource. Unlike the second question, I don't
want to fix anything; I want to know what this message means and why I
received it.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The resource could be being blocked by an extension (AdBlock in my case).</p>
<p>The message is there because the request to retrieve that resource was never
made, so the headers being shown are not the real thing. As explained in the
issue you referenced, the real headers are updated when the server responds,
but there is no response if the request was blocked.</p>
<hr>
<p>The way I found about the extension that was blocking my resource was through
the net-internals tool in Chrome:</p>
<p><strong>For Latest Versions of chrome</strong></p>
<ul>
<li>Type <code>chrome://net-export/</code> in the address bar and hit enter.</li>
<li>Start Recording. And save Recording file to local.</li>
<li>Open the page that is showing problems.</li>
<li>Go back to net-internals</li>
<li>You can view Recorded Log file Here https://netlog-viewer.appspot.com/#import</li>
<li>click on <strong>events (###)</strong> and use the textfield to find the event related to your resource (use parts of the URL).</li>
<li>Finally, click on the event and see if the info shown tells you something.</li>
</ul>
<p><strong>For Older Versions of chrome</strong></p>
<ul>
<li>Type <code>chrome://net-internals</code> in the address bar and hit enter.</li>
<li>Open the page that is showing problems.</li>
<li>Go back to net-internals, click on <strong>events (###)</strong> and use the textfield to find the event related to your resource (use parts of the URL).</li>
<li>Finally, click on the event and see if the info shown tells you something.</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<p>I believe it happens when the actual request is not sent. Usually happens when
you are loading a cached resource.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-convert-all-strings-in-a-list-of-lists-to-integers/" class="u-url">How do I convert all strings in a list of lists to integers?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-convert-all-strings-in-a-list-of-lists-to-integers/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T10:27:17+08:00" itemprop="datePublished" title="2023-03-03 10:27">2023-03-03 10:27</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a tuple of tuples containing strings:</p>
<div class="code"><pre class="code literal-block">T1 = (('13', '17', '18', '21', '32'),
      ('07', '11', '13', '14', '28'),
      ('01', '05', '06', '08', '15', '16'))
</pre></div>

<p>I want to convert all the string elements into integers and put them back into
a list of lists:</p>
<div class="code"><pre class="code literal-block">T2 = [[13, 17, 18, 21, 32],
      [7, 11, 13, 14, 28],
      [1, 5, 6, 8, 15, 16]]
</pre></div>

<p><strong>Related:</strong></p>
<ul>
<li>Convert <code>str -&gt; int</code>
</li>
<li>Convert <code>list[str] -&gt; list[int]</code>
</li>
</ul>
<p><br><br></p>
<h2>Answer</h2>
<p><code>int()</code> is the Python standard built-in function to convert a string into an
integer value. You call it with a string containing a number as the argument,
and it returns the number converted to an integer:</p>
<div class="code"><pre class="code literal-block">&gt;&gt;&gt; int("1") + 1
2
</pre></div>

<p>If you know the structure of your list, T1 (that it simply contains lists,
only one level), you could do this in Python 3:</p>
<div class="code"><pre class="code literal-block"><span class="nv">T2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="nv">list</span><span class="ss">(</span><span class="nv">map</span><span class="ss">(</span><span class="nv">int</span>,<span class="w"> </span><span class="nv">x</span><span class="ss">))</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">T1</span>]
</pre></div>

<p>In Python 2:</p>
<div class="code"><pre class="code literal-block"><span class="nv">T2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="nv">map</span><span class="ss">(</span><span class="nv">int</span>,<span class="w"> </span><span class="nv">x</span><span class="ss">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">T1</span>]
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>You can do this with a list comprehension:</p>
<div class="code"><pre class="code literal-block"><span class="nv">T2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[[<span class="nv">int</span><span class="ss">(</span><span class="nv">column</span><span class="ss">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">column</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">row</span>]<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">row</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">T1</span>]
</pre></div>

<p>The inner list comprehension (<code>[int(column) for column in row]</code>) builds a
<code>list</code> of <code>int</code>s from a sequence of <code>int</code>-able objects, like decimal strings,
in <code>row</code>. The outer list comprehension (<code>[... for row in T1])</code>) builds a list
of the results of the inner list comprehension applied to each item in <code>T1</code>.</p>
<p>The code snippet will fail if any of the rows contain objects that can't be
converted by <code>int</code>. You'll need a smarter function if you want to process rows
containing non-decimal strings.</p>
<p>If you know the structure of the rows, you can replace the inner list
comprehension with a call to a function of the row. Eg.</p>
<div class="code"><pre class="code literal-block"><span class="nv">T2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="nv">parse_a_row_of_T1</span><span class="ss">(</span><span class="nv">row</span><span class="ss">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">row</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">T1</span>]
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1835.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1833.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2243) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2243.html">
<link rel="prev" href="index-2244.html" type="text/html">
<link rel="next" href="index-2242.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/unicode-utf-8-reading-and-writing-to-files-in-python/" class="u-url">Unicode (UTF-8) reading and writing to files in Python</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/unicode-utf-8-reading-and-writing-to-files-in-python/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T01:40:53+08:00" itemprop="datePublished" title="2023-03-04 01:40">2023-03-04 01:40</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm having some brain failure in understanding reading and writing text to a
file (Python 2.4).</p>
<div class="code"><pre class="code literal-block"># The string, which has an a-acute in it.
ss = u'Capit\xe1n'
ss8 = ss.encode('utf8')
repr(ss), repr(ss8)
</pre></div>

<blockquote>
<p>("u'Capit\xe1n'", "'Capit\xc3\xa1n'")</p>
</blockquote>
<div class="code"><pre class="code literal-block">print ss, ss8
print &gt;&gt; open('f1','w'), ss8

&gt;&gt;&gt; file('f1').read()
'Capit\xc3\xa1n\n'
</pre></div>

<p>So I type in <code>Capit\xc3\xa1n</code> into my favorite editor, in file f2.</p>
<p>Then:</p>
<div class="code"><pre class="code literal-block">&gt;&gt;&gt; open('f1').read()
'Capit\xc3\xa1n\n'
&gt;&gt;&gt; open('f2').read()
'Capit\\xc3\\xa1n\n'
&gt;&gt;&gt; open('f1').read().decode('utf8')
u'Capit\xe1n\n'
&gt;&gt;&gt; open('f2').read().decode('utf8')
u'Capit\\xc3\\xa1n\n'
</pre></div>

<p>What am I not understanding here? Clearly there is some vital bit of magic (or
good sense) that I'm missing. What does one type into text files to get proper
conversions?</p>
<p>What I'm truly failing to grok here, is what the point of the UTF-8
representation is, if you can't actually get Python to recognize it, when it
comes from outside. Maybe I should just JSON dump the string, and use that
instead, since that has an asciiable representation! More to the point, is
there an ASCII representation of this Unicode object that Python will
recognize and decode, when coming in from a file? If so, how do I get it?</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="nb">print</span><span class="w"> </span><span class="n">simplejson</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">ss</span><span class="p">)</span>
<span class="s1">'"Capit</span><span class="se">\u00e1</span><span class="s1">n"'</span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="nb">print</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">file</span><span class="p">(</span><span class="s1">'f3'</span><span class="p">,</span><span class="s1">'w'</span><span class="p">),</span><span class="w"> </span><span class="n">simplejson</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">ss</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">simplejson</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">open</span><span class="p">(</span><span class="s1">'f3'</span><span class="p">))</span>
<span class="sa">u</span><span class="s1">'Capit</span><span class="se">\xe1</span><span class="s1">n'</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>In the notation <code>u'Capit\xe1n\n'</code> (should be just <code>'Capit\xe1n\n'</code> in 3.x, and
<em>must</em> be in 3.0 and 3.1), the <code>\xe1</code> represents just one character. <code>\x</code> is
an escape sequence, indicating that <code>e1</code> is in hexadecimal.</p>
<p>Writing <code>Capit\xc3\xa1n</code> into the file in a text editor means that it actually
contains <code>\xc3\xa1</code>. Those are 8 bytes and the code reads them all. We can see
this by displaying the result:</p>
<div class="code"><pre class="code literal-block"># Python 3.x - reading the file as bytes rather than text,
# to ensure we see the raw data
&gt;&gt;&gt; open('f2', 'rb').read()
b'Capit\\xc3\\xa1n\n'

# Python 2.x
&gt;&gt;&gt; open('f2').read()
'Capit\\xc3\\xa1n\n'
</pre></div>

<p>Instead, just input characters like <code>á</code> in the editor, which should then
handle the conversion to UTF-8 and save it.</p>
<p>In 2.x, a string that actually contains these backslash-escape sequences can
be decoded using the <code>string_escape</code> codec:</p>
<div class="code"><pre class="code literal-block"># Python 2.x
&gt;&gt;&gt; print 'Capit\\xc3\\xa1n\n'.decode('string_escape')
Capitán
</pre></div>

<p>The result is a <code>str</code> that is encoded in UTF-8 where the accented character is
represented by the two bytes that were written <code>\\xc3\\xa1</code> in the original
string. To get a <code>unicode</code> result, decode again with UTF-8.</p>
<p>In 3.x, the <code>string_escape</code> codec is replaced with <code>unicode_escape</code>, and it is
strictly enforced that we can only <code>encode</code> from a <code>str</code> to <code>bytes</code>, and
<code>decode</code> from <code>bytes</code> to <code>str</code>. <code>unicode_escape</code> needs to start with a <code>bytes</code>
in order to process the escape sequences (the other way around, it <em>adds</em>
them); and then it will treat the resulting <code>\xc3</code> and <code>\xa1</code> as <em>character</em>
escapes rather than <em>byte</em> escapes. As a result, we have to do a bit more
work:</p>
<div class="code"><pre class="code literal-block"># Python 3.x
&gt;&gt;&gt; 'Capit\\xc3\\xa1n\n'.encode('ascii').decode('unicode_escape').encode('latin-1').decode('utf-8')
'Capitán\n'
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>In the notation <code>u'Capit\xe1n\n'</code> (should be just <code>'Capit\xe1n\n'</code> in 3.x, and
<em>must</em> be in 3.0 and 3.1), the <code>\xe1</code> represents just one character. <code>\x</code> is
an escape sequence, indicating that <code>e1</code> is in hexadecimal.</p>
<p>Writing <code>Capit\xc3\xa1n</code> into the file in a text editor means that it actually
contains <code>\xc3\xa1</code>. Those are 8 bytes and the code reads them all. We can see
this by displaying the result:</p>
<div class="code"><pre class="code literal-block"># Python 3.x - reading the file as bytes rather than text,
# to ensure we see the raw data
&gt;&gt;&gt; open('f2', 'rb').read()
b'Capit\\xc3\\xa1n\n'

# Python 2.x
&gt;&gt;&gt; open('f2').read()
'Capit\\xc3\\xa1n\n'
</pre></div>

<p>Instead, just input characters like <code>á</code> in the editor, which should then
handle the conversion to UTF-8 and save it.</p>
<p>In 2.x, a string that actually contains these backslash-escape sequences can
be decoded using the <code>string_escape</code> codec:</p>
<div class="code"><pre class="code literal-block"># Python 2.x
&gt;&gt;&gt; print 'Capit\\xc3\\xa1n\n'.decode('string_escape')
Capitán
</pre></div>

<p>The result is a <code>str</code> that is encoded in UTF-8 where the accented character is
represented by the two bytes that were written <code>\\xc3\\xa1</code> in the original
string. To get a <code>unicode</code> result, decode again with UTF-8.</p>
<p>In 3.x, the <code>string_escape</code> codec is replaced with <code>unicode_escape</code>, and it is
strictly enforced that we can only <code>encode</code> from a <code>str</code> to <code>bytes</code>, and
<code>decode</code> from <code>bytes</code> to <code>str</code>. <code>unicode_escape</code> needs to start with a <code>bytes</code>
in order to process the escape sequences (the other way around, it <em>adds</em>
them); and then it will treat the resulting <code>\xc3</code> and <code>\xa1</code> as <em>character</em>
escapes rather than <em>byte</em> escapes. As a result, we have to do a bit more
work:</p>
<div class="code"><pre class="code literal-block"># Python 3.x
&gt;&gt;&gt; 'Capit\\xc3\\xa1n\n'.encode('ascii').decode('unicode_escape').encode('latin-1').decode('utf-8')
'Capitán\n'
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-go-back-to-previous-page-if-back-button-is-pressed-in-webview/" class="u-url">How to go back to previous page if back button is pressed in WebView?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-go-back-to-previous-page-if-back-button-is-pressed-in-webview/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T01:39:35+08:00" itemprop="datePublished" title="2023-03-04 01:39">2023-03-04 01:39</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have an app in which I have a <code>WebView</code> where I display some websites. It
works, clicking a link in the webpage goes to the next page in the website
inside my app. But when I click the phone's back button, it takes me straight
into my app. I want to go back to the previous page in the website instead.
How can I do this?</p>
<p>Here is the code sample I'm using:</p>
<div class="code"><pre class="code literal-block"><span class="n">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">Webdisplay</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="n">Activity</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="err">@</span><span class="n">Override</span>
<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="nb nb-Type">void</span><span class="w"> </span><span class="n">onCreate</span><span class="p">(</span><span class="n">Bundle</span><span class="w"> </span><span class="n">savedInstanceState</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="n">TODO</span><span class="w"> </span><span class="n">Auto</span><span class="o">-</span><span class="n">generated</span><span class="w"> </span><span class="n">method</span><span class="w"> </span><span class="n">stub</span>
<span class="w">        </span><span class="n">super</span><span class="o">.</span><span class="n">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span>

<span class="w">        </span><span class="n">this</span><span class="o">.</span><span class="n">getWindow</span><span class="p">()</span><span class="o">.</span><span class="n">requestFeature</span><span class="p">(</span><span class="n">Window</span><span class="o">.</span><span class="n">FEATURE_PROGRESS</span><span class="p">);</span>
<span class="w">        </span><span class="n">setContentView</span><span class="p">(</span><span class="n">R</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">webdisplay</span><span class="p">);</span>

<span class="w">        </span><span class="n">getWindow</span><span class="p">()</span><span class="o">.</span><span class="n">setFeatureInt</span><span class="p">(</span><span class="n">Window</span><span class="o">.</span><span class="n">FEATURE_PROGRESS</span><span class="p">,</span>
<span class="w">                </span><span class="n">Window</span><span class="o">.</span><span class="n">PROGRESS_VISIBILITY_ON</span><span class="p">);</span>

<span class="w">        </span><span class="n">Toast</span><span class="w"> </span><span class="n">loadingmess</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Toast</span><span class="o">.</span><span class="n">makeText</span><span class="p">(</span><span class="n">this</span><span class="p">,</span>
<span class="w">                </span><span class="s2">"Cargando El Diario de Hoy"</span><span class="p">,</span><span class="w"> </span><span class="n">Toast</span><span class="o">.</span><span class="n">LENGTH_SHORT</span><span class="p">);</span>
<span class="w">        </span><span class="n">loadingmess</span><span class="o">.</span><span class="n">show</span><span class="p">();</span>

<span class="w">        </span><span class="n">WebView</span><span class="w"> </span><span class="n">myWebView</span><span class="p">;</span>

<span class="w">        </span><span class="n">myWebView</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">WebView</span><span class="p">)</span><span class="w"> </span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">webview</span><span class="p">);</span>
<span class="w">        </span><span class="n">myWebView</span><span class="o">.</span><span class="n">getSettings</span><span class="p">()</span><span class="o">.</span><span class="n">setJavaScriptEnabled</span><span class="p">(</span><span class="bp">true</span><span class="p">);</span>
<span class="w">        </span><span class="n">myWebView</span><span class="o">.</span><span class="n">loadUrl</span><span class="p">(</span><span class="s2">"http://www.elsalvador.com"</span><span class="p">);</span>
<span class="w">        </span><span class="n">myWebView</span><span class="o">.</span><span class="n">setWebViewClient</span><span class="p">(</span><span class="n">new</span><span class="w"> </span><span class="n">WebViewClient</span><span class="p">());</span>
<span class="w">        </span><span class="n">myWebView</span><span class="o">.</span><span class="n">setInitialScale</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="w">        </span><span class="n">myWebView</span><span class="o">.</span><span class="n">getSettings</span><span class="p">()</span><span class="o">.</span><span class="n">setBuiltInZoomControls</span><span class="p">(</span><span class="bp">true</span><span class="p">);</span>
<span class="w">        </span><span class="n">myWebView</span><span class="o">.</span><span class="n">getSettings</span><span class="p">()</span><span class="o">.</span><span class="n">setUseWideViewPort</span><span class="p">(</span><span class="bp">true</span><span class="p">);</span>

<span class="w">        </span><span class="n">final</span><span class="w"> </span><span class="n">Activity</span><span class="w"> </span><span class="n">MyActivity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">this</span><span class="p">;</span>
<span class="w">        </span><span class="n">myWebView</span><span class="o">.</span><span class="n">setWebChromeClient</span><span class="p">(</span><span class="n">new</span><span class="w"> </span><span class="n">WebChromeClient</span><span class="p">()</span><span class="w"> </span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="n">public</span><span class="w"> </span><span class="nb nb-Type">void</span><span class="w"> </span><span class="n">onProgressChanged</span><span class="p">(</span><span class="n">WebView</span><span class="w"> </span><span class="n">view</span><span class="p">,</span><span class="w"> </span><span class="nb nb-Type">int</span><span class="w"> </span><span class="n">progress</span><span class="p">)</span><span class="w">   </span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="n">MyActivity</span><span class="o">.</span><span class="n">setTitle</span><span class="p">(</span><span class="s2">"Loading..."</span><span class="p">);</span>
<span class="w">                </span><span class="n">MyActivity</span><span class="o">.</span><span class="n">setProgress</span><span class="p">(</span><span class="n">progress</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span>

<span class="w">                </span><span class="k">if</span><span class="p">(</span><span class="n">progress</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span>
<span class="w">                    </span><span class="n">MyActivity</span><span class="o">.</span><span class="n">setTitle</span><span class="p">(</span><span class="n">R</span><span class="o">.</span><span class="n">string</span><span class="o">.</span><span class="n">app_name</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>I use something like this in my activities with WebViews:</p>
<div class="code"><pre class="code literal-block"><span class="nv">@Override</span>
<span class="k">public</span><span class="w"> </span><span class="k">boolean</span><span class="w"> </span><span class="n">onKeyDown</span><span class="p">(</span><span class="nc">int</span><span class="w"> </span><span class="n">keyCode</span><span class="p">,</span><span class="w"> </span><span class="n">KeyEvent</span><span class="w"> </span><span class="n">event</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">event</span><span class="p">.</span><span class="n">getAction</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">KeyEvent</span><span class="p">.</span><span class="n">ACTION_DOWN</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">switch</span><span class="w"> </span><span class="p">(</span><span class="n">keyCode</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="n">KeyEvent</span><span class="p">.</span><span class="nl">KEYCODE_BACK</span><span class="p">:</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">mWebView</span><span class="p">.</span><span class="n">canGoBack</span><span class="p">())</span><span class="w"> </span><span class="err">{</span>
<span class="w">                    </span><span class="n">mWebView</span><span class="p">.</span><span class="n">goBack</span><span class="p">();</span>
<span class="w">                </span><span class="err">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="err">{</span>
<span class="w">                    </span><span class="n">finish</span><span class="p">();</span>
<span class="w">                </span><span class="err">}</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="k">true</span><span class="p">;</span>
<span class="w">        </span><span class="err">}</span>

<span class="w">    </span><span class="err">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">super</span><span class="p">.</span><span class="n">onKeyDown</span><span class="p">(</span><span class="n">keyCode</span><span class="p">,</span><span class="w"> </span><span class="n">event</span><span class="p">);</span>
<span class="err">}</span>
</pre></div>

<p>Edit:</p>
<p>For this code to work, you need to add a field to the <code>Activity</code> containing
the WebView:</p>
<div class="code"><pre class="code literal-block">private WebView mWebView;
</pre></div>

<p>Initialize it in the <code>onCreate()</code> method and you should be good to go.</p>
<div class="code"><pre class="code literal-block">mWebView = (WebView) findViewById(R.id.webView);
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>If using Android 2.2 and above (which is most devices now), the following code
will get you what you want.</p>
<div class="code"><pre class="code literal-block"><span class="nv">@Override</span>
<span class="k">public</span><span class="w"> </span><span class="n">void</span><span class="w"> </span><span class="n">onBackPressed</span><span class="p">()</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">webView</span><span class="p">.</span><span class="n">canGoBack</span><span class="p">())</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">webView</span><span class="p">.</span><span class="n">goBack</span><span class="p">();</span>
<span class="w">    </span><span class="err">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">super</span><span class="p">.</span><span class="n">onBackPressed</span><span class="p">();</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/displaying-html-with-blade-shows-the-html-code/" class="u-url">Displaying HTML with Blade shows the HTML code</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/displaying-html-with-blade-shows-the-html-code/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T01:37:44+08:00" itemprop="datePublished" title="2023-03-04 01:37">2023-03-04 01:37</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a string returned to one of my views, like this:</p>
<div class="code"><pre class="code literal-block">$text<span class="w"> </span>=<span class="w"> </span>'<span class="nt">&lt;p&gt;&lt;strong&gt;</span>Lorem<span class="nt">&lt;/strong&gt;</span><span class="w"> </span>ipsum<span class="w"> </span>dolor<span class="w"> </span><span class="nt">&lt;img</span><span class="w"> </span><span class="na">src=</span><span class="s">"images/test.jpg"</span><span class="nt">&gt;&lt;/p&gt;</span>'
</pre></div>

<p>I'm trying to display it with Blade:</p>
<div class="code"><pre class="code literal-block"><span class="cp">{{</span><span class="err">$</span><span class="nv">text</span><span class="cp">}}</span>
</pre></div>

<p>However, the output is a raw string instead of rendered HTML. How do I display
HTML with Blade in Laravel?</p>
<p>PS. PHP <code>echo()</code> displays the HTML correctly.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You need to use</p>
<div class="code"><pre class="code literal-block">{!! $text !!}
</pre></div>

<p>The string will auto escape when using <code>{{ $text }}</code>.</p>
<p><br></p>
<h3>Suggest</h3>
<p>For laravel 5</p>
<div class="code"><pre class="code literal-block">{!!html_entity_decode($text)!!}
</pre></div>

<p>Figured out through this link, see RachidLaasri answer</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2244.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2242.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

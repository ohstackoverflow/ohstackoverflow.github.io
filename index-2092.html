<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2092) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2092.html">
<link rel="prev" href="index-2093.html" type="text/html">
<link rel="next" href="index-2091.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-convert-float-to-int-with-java/" class="u-url">How to convert float to int with Java</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-convert-float-to-int-with-java/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T16:44:49+08:00" itemprop="datePublished" title="2023-03-03 16:44">2023-03-03 16:44</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I used the following line to convert float to int, but it's not as accurate as
I'd like:</p>
<div class="code"><pre class="code literal-block"> float a=8.61f;
 int b;

 b=(int)a;
</pre></div>

<p>The result is : <code>8</code> (It should be <code>9</code>)</p>
<p>When <code>a = -7.65f</code>, the result is : <code>-7</code> (It should be <code>-8</code>)</p>
<p>What's the best way to do it ?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Using <code>Math.round()</code> will round the float to the nearest integer.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Actually, there are different ways to downcast float to int, depending on the
result you want to achieve: (for int <code>i</code>, float <code>f</code>)</p>
<ul>
<li>round (the closest integer to given float)<div class="code"><pre class="code literal-block">i = Math.round(f);
</pre></div>

<p>f =  2.0 -&gt; i =  2 ; f =  2.22 -&gt; i =  2 ; f =  2.68 -&gt; i =  3
  f = -2.0 -&gt; i = -2 ; f = -2.22 -&gt; i = -2 ; f = -2.68 -&gt; i = -3</p>
</li>
</ul>
<p>note: this is, by contract, equal to <code>(int) Math.floor(f + 0.5f)</code></p>
<ul>
<li>
<p>truncate (i.e. drop everything after the decimal dot)</p>
<div class="code"><pre class="code literal-block">i = (int) f;
</pre></div>

<p>f =  2.0 -&gt; i =  2 ; f =  2.22 -&gt; i =  2 ; f =  2.68 -&gt; i =  2
  f = -2.0 -&gt; i = -2 ; f = -2.22 -&gt; i = -2 ; f = -2.68 -&gt; i = -2</p>
</li>
<li>
<p>ceil/floor (an integer always bigger/smaller than a given value <strong>if</strong> it has any fractional part)</p>
<div class="code"><pre class="code literal-block">i = (int) Math.ceil(f);
</pre></div>

<p>f =  2.0 -&gt; i =  2 ; f =  2.22 -&gt; i =  3 ; f =  2.68 -&gt; i =  3
  f = -2.0 -&gt; i = -2 ; f = -2.22 -&gt; i = -2 ; f = -2.68 -&gt; i = -2</p>
<p>i = (int) Math.floor(f);
  f =  2.0 -&gt; i =  2 ; f =  2.22 -&gt; i =  2 ; f =  2.68 -&gt; i =  2
  f = -2.0 -&gt; i = -2 ; f = -2.22 -&gt; i = -3 ; f = -2.68 -&gt; i = -3</p>
</li>
</ul>
<p>For rounding <em>positive</em> values, you can also just use <code>(int)(f + 0.5)</code>, which
works exactly as <code>Math.Round</code> in those cases (as per doc).</p>
<p>You can also use <code>Math.rint(f)</code> to do the rounding to the nearest even
integer; it's arguably useful if you expect to deal with a lot of floats with
fractional part strictly equal to .5 (note the possible IEEE rounding issues),
and want to keep the average of the set in place; you'll introduce another
bias, where even numbers will be more common than odd, though.</p>
<p>See</p>
<p>http://mindprod.com/jgloss/round.html</p>
<p>http://docs.oracle.com/javase/6/docs/api/java/lang/Math.html</p>
<p>for more information and some examples.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-scroll-to-an-element/" class="u-url">How to scroll to an element?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-scroll-to-an-element/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T16:44:21+08:00" itemprop="datePublished" title="2023-03-03 16:44">2023-03-03 16:44</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a chat widget that pulls up an array of messages every time I scroll
up. The problem I am facing now is the slider stays fixed at the top when
messages load. I want it to focus on the last index element from the previous
array. I figured out that I can make dynamic refs by passing index, but I
would also need to know what kind of scroll function to use to achieve that</p>
<div class="code"><pre class="code literal-block"><span class="w"> </span>handleScrollToElement(event)<span class="w"> </span>{
<span class="w">    </span>const<span class="w"> </span>tesNode<span class="w"> </span>=<span class="w"> </span>ReactDOM.findDOMNode(this.refs.test)
<span class="w">    </span>if<span class="w"> </span>(some_logic){
<span class="w">      </span>//scroll<span class="w"> </span>to<span class="w"> </span>testNode<span class="w">      </span>
<span class="w">    </span>}
<span class="w">  </span>}

<span class="w">  </span>render()<span class="w"> </span>{

<span class="w">    </span>return<span class="w"> </span>(
<span class="w">      </span><span class="nt">&lt;div&gt;</span>
<span class="w">        </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">ref=</span><span class="s">"test"</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="w">      </span><span class="nt">&lt;/div&gt;</span>)
<span class="w">  </span>}
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;div</span><span class="w"> </span><span class="na">id=</span><span class="s">"componentToScrollTo"</span><span class="nt">&gt;&lt;div&gt;</span>

<span class="nt">&lt;a</span><span class="w"> </span><span class="na">href=</span><span class="s">'#componentToScrollTo'</span><span class="nt">&gt;</span>click<span class="w"> </span>me<span class="w"> </span>to<span class="w"> </span>scroll<span class="w"> </span>to<span class="w"> </span>this<span class="nt">&lt;/a&gt;</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>this worked for me</p>
<div class="code"><pre class="code literal-block">this.anyRef.current.scrollIntoView({ behavior: 'smooth', block: 'start' })
</pre></div>

<p><strong>EDIT:</strong> I wanted to expand on this based on the comments.</p>
<div class="code"><pre class="code literal-block">const<span class="w"> </span>scrollTo<span class="w"> </span>=<span class="w"> </span>(ref)<span class="w"> </span>=&gt;<span class="w"> </span>{
<span class="w">  </span>if<span class="w"> </span>(ref<span class="w"> </span><span class="err">&amp;&amp;</span><span class="w"> </span>ref.current<span class="w"> </span>/*<span class="w"> </span>+<span class="w"> </span>other<span class="w"> </span>conditions<span class="w"> </span>*/)<span class="w"> </span>{
<span class="w">    </span>ref.current.scrollIntoView({<span class="w"> </span>behavior:<span class="w"> </span>'smooth',<span class="w"> </span>block:<span class="w"> </span>'start'<span class="w"> </span>})
<span class="w">  </span>}
}

<span class="nt">&lt;div</span><span class="w"> </span><span class="na">ref=</span><span class="s">{scrollTo}</span><span class="nt">&gt;</span>Item<span class="nt">&lt;/div&gt;</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/finish-all-previous-activities/" class="u-url">Finish all previous activities</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/finish-all-previous-activities/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T16:43:51+08:00" itemprop="datePublished" title="2023-03-03 16:43">2023-03-03 16:43</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>My application has the following flow screens :</p>
<p><code>Home-&gt;screen 1-&gt;screen 2-&gt;screen 3-&gt;screen 4-&gt;screen 5</code></p>
<p>Now I have a common <code>log out</code> button in each screens</p>
<p>(<code>Home/ screen 1 / screen 2 /screen 3/ screen 4 / screen 5</code>)</p>
<p>I want that when user clicks on the log out button(from any screen), all the
screens will be finished and a new screen <code>Log in</code> will open .</p>
<p>I have tried nearly all <code>FLAG_ACTIVITY</code> to achieve this. I also go through
some answers in stackoverflow, but not being able to solve the problem. My
application is on Android 1.6 so not being able to use
<code>FLAG_ACTIVITY_CLEAR_TASK</code></p>
<p>Is there any way to solve the issue ?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Use:</p>
<div class="code"><pre class="code literal-block">Intent intent = new Intent(getApplicationContext(), Home.class);
intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
startActivity(intent);
</pre></div>

<p>This will clear all the activities on top of home.</p>
<p>Assuming you are finishing the login screen when the user logs in and home is
created and afterward all the screens from 1 to 5 on top of that one. The code
I posted will return you to home screen finishing all the other activities.
You can add an extra in the intent and read that in the home screen activity
and finish it also (maybe launch login screen again from there or something).</p>
<p>I am not sure but you can also try going to login with this flag. I don't know
how the activities will be ordered in that case. So don't know if it will
clear the ones below the screen you are on including the one you are currently
on but it's definitely the way to go.</p>
<p><br></p>
<h3>Suggest</h3>
<p>You may try <code>Intent.FLAG_ACTIVITY_CLEAR_TASK|Intent.FLAG_ACTIVITY_NEW_TASK</code>.
It will totally clears all previous activity(s) and start new activity.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2093.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2091.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

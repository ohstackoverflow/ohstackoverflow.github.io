<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 396) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-396.html">
<link rel="prev" href="index-397.html" type="text/html">
<link rel="next" href="index-395.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/git-find-the-most-recent-common-ancestor-of-two-branches/" class="u-url">Git: Find the most recent common ancestor of two branches</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/git-find-the-most-recent-common-ancestor-of-two-branches/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T05:47:59+08:00" itemprop="datePublished" title="2023-02-17 05:47">2023-02-17 05:47</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How to find the most recent common ancestor of two Git branches?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You are looking for <code>git merge-base</code>. Usage:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>git<span class="w"> </span>merge-base<span class="w"> </span>branch2<span class="w"> </span>branch3
050dc022f3a65bdc78d97e2b1ac9b595a924c3f2
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p><strong><code>git diff master...feature</code></strong></p>
<p>shows all the new commits of your current (possibly multi-commit) feature
branch.</p>
<p><code>man git-diff</code> documents that:</p>
<div class="code"><pre class="code literal-block">git diff A...B
</pre></div>

<p>is the same as:</p>
<div class="code"><pre class="code literal-block">git diff $(git merge-base A B) B
</pre></div>

<p>but the <code>...</code> is easier to type and remember.</p>
<p>As mentioned by Dave, the special case of <code>HEAD</code> can be omitted. So:</p>
<div class="code"><pre class="code literal-block">git diff master...HEAD
</pre></div>

<p>is the same as:</p>
<div class="code"><pre class="code literal-block">git diff master...
</pre></div>

<p>which is enough if the current branch is <code>feature</code>.</p>
<p>Finally, remember that order matters! Doing <code>git diff feature...master</code> will
show changes that are on <code>master</code> not on <code>feature</code>.</p>
<p>I wish more git commands would support that syntax, but I don't think they do.
And some even have different semantics for <code>...</code>: What are the differences
between double-dot ".." and triple-dot "..." in Git commit ranges?</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/why-would-you-use-expression-func-t-rather-than-func-t/" class="u-url">Why would you use Expression&lt;Func&lt;T&gt;&gt; rather than Func&lt;T&gt;?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/why-would-you-use-expression-func-t-rather-than-func-t/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T05:47:30+08:00" itemprop="datePublished" title="2023-02-17 05:47">2023-02-17 05:47</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I understand lambdas and the <code>Func</code> and <code>Action</code> delegates. But expressions
stump me.</p>
<p>In what circumstances would you use an <code>Expression&lt;Func&lt;T&gt;&gt;</code> rather than a
plain old <code>Func&lt;T&gt;</code>?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>When you want to treat lambda expressions as expression trees and look inside
them instead of executing them. For example, LINQ to SQL gets the expression
and converts it to the equivalent SQL statement and submits it to server
(rather than executing the lambda).</p>
<p>Conceptually, <code>Expression&lt;Func&lt;T&gt;&gt;</code> is <em>completely different</em> from <code>Func&lt;T&gt;</code>.
<code>Func&lt;T&gt;</code> denotes a <code>delegate</code> which is pretty much a pointer to a method and
<code>Expression&lt;Func&lt;T&gt;&gt;</code> denotes a <em>tree data structure</em> for a lambda expression.
This tree structure <strong>describes what a lambda expression does</strong> rather than
doing the actual thing. It basically holds data about the composition of
expressions, variables, method calls, ... (for example it holds information
such as this lambda is some constant + some parameter). You can use this
description to convert it to an actual method (with <code>Expression.Compile</code>) or
do other stuff (like the LINQ to SQL example) with it. The act of treating
lambdas as anonymous methods and expression trees is purely a compile time
thing.</p>
<div class="code"><pre class="code literal-block"><span class="nt">Func</span><span class="o">&lt;</span><span class="nt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="nt">myFunc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nt">10</span><span class="o">;</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="nt">similar</span><span class="w"> </span><span class="nt">to</span><span class="o">:</span><span class="w"> </span><span class="nt">int</span><span class="w"> </span><span class="nt">myAnonMethod</span><span class="o">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">return</span><span class="w"> </span><span class="err">10</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
</pre></div>

<p>will effectively compile to an IL method that gets nothing and returns 10.</p>
<div class="code"><pre class="code literal-block">Expression&lt;Func&lt;int&gt;&gt; myExpression = () =&gt; 10;
</pre></div>

<p>will be converted to a data structure that describes an expression that gets
no parameters and returns the value 10:</p>
<p><img alt="Expression vs Func" src="images/gwU0E.jpg"><em>larger image</em></p>
<p>While they both look the same at compile time, what the compiler generates is
<strong>totally different</strong>.</p>
<p><br></p>
<h3>Suggest</h3>
<p>I'm adding an answer-for-noobs because these answers seemed over my head,
until I realized how simple it is. Sometimes it's your expectation that it's
complicated that makes you unable to 'wrap your head around it'.</p>
<p>I didn't need to understand the difference until I walked into a really
annoying 'bug' trying to use LINQ-to-SQL generically:</p>
<div class="code"><pre class="code literal-block"><span class="n">public</span><span class="w"> </span><span class="n">IEnumerable</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">Get</span><span class="p">(</span><span class="n">Func</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="nb nb-Type">bool</span><span class="o">&gt;</span><span class="w"> </span><span class="n">conditionLambda</span><span class="p">){</span>
<span class="w">  </span><span class="n">using</span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">DbContext</span><span class="p">()){</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">db</span><span class="o">.</span><span class="n">Set</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;.</span><span class="n">Where</span><span class="p">(</span><span class="n">conditionLambda</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>This worked great until I started getting OutofMemoryExceptions on larger
datasets. Setting breakpoints inside the lambda made me realize that it was
iterating through each row in my table one-by-one looking for matches to my
lambda condition. This stumped me for a while, because why the heck is it
treating my data table as a giant IEnumerable instead of doing LINQ-to-SQL
like it's supposed to? It was also doing the exact same thing in my LINQ-to-
MongoDb counterpart.</p>
<p>The fix was simply to turn <code>Func&lt;T, bool&gt;</code> into <code>Expression&lt;Func&lt;T, bool&gt;&gt;</code>,
so I googled why it needs an <code>Expression</code> instead of <code>Func</code>, ending up here.</p>
<p><strong>An expression simply turns a delegate into a data about itself.</strong> So <code>a =&gt; a
+ 1</code> becomes something like "On the left side there's an <code>int a</code>. On the right
side you add 1 to it." <strong>That's it.</strong> You can go home now. It's obviously more
structured than that, but that's essentially all an expression tree really is
--nothing to wrap your head around.</p>
<p>Understanding that, it becomes clear why LINQ-to-SQL needs an <code>Expression</code>,
and a <code>Func</code> isn't adequate. <code>Func</code> doesn't carry with it a way to get into
itself, to see the nitty-gritty of how to translate it into a
SQL/MongoDb/other query. You can't see whether it's doing addition or
multiplication or subtraction. All you can do is run it. <code>Expression</code>, on the
other hand, allows you to look inside the delegate and see everything it wants
to do. This empowers you to translate the delegate into whatever you want,
like a SQL query. <code>Func</code> didn't work because my DbContext was blind to the
contents of the lambda expression. Because of this, it couldn't turn the
lambda expression into SQL; however, it did the next best thing and iterated
that conditional through each row in my table.</p>
<p>Edit: expounding on my last sentence at John Peter's request:</p>
<p>IQueryable extends IEnumerable, so IEnumerable's methods like <code>Where()</code> obtain
overloads that accept <code>Expression</code>. When you pass an <code>Expression</code> to that, you
keep an IQueryable as a result, but when you pass a <code>Func</code>, you're falling
back on the base IEnumerable and you'll get an IEnumerable as a result. In
other words, without noticing you've turned your dataset into a list to be
iterated as opposed to something to query. It's hard to notice a difference
until you really look under the hood at the signatures.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-access-and-process-nested-objects-arrays-or-json/" class="u-url">How can I access and process nested objects, arrays, or JSON?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-access-and-process-nested-objects-arrays-or-json/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T05:46:59+08:00" itemprop="datePublished" title="2023-02-17 05:46">2023-02-17 05:46</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a nested data structure containing objects and arrays. How can I
extract the information, i.e. access a specific or multiple values (or keys)?</p>
<p>For example:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">code</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span>
<span class="w">    </span><span class="n">items</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
<span class="w">        </span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">        </span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s1">'foo'</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">        </span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s1">'bar'</span>
<span class="w">    </span><span class="p">}]</span>
<span class="p">};</span>
</pre></div>

<p>How could I access the <code>name</code> of the second item in <code>items</code>?</p>
<p><br><br></p>
<h2>Answer</h2>
<h3>Preliminaries</h3>
<p>JavaScript has only one data type which can contain multiple values:
<strong>Object</strong>. An <strong>Array</strong> is a special form of object.</p>
<p>(Plain) Objects have the form</p>
<div class="code"><pre class="code literal-block">{key: value, key: value, ...}
</pre></div>

<p>Arrays have the form</p>
<div class="code"><pre class="code literal-block">[value, value, ...]
</pre></div>

<p>Both arrays and objects expose a <code>key -&gt; value</code> structure. Keys in an array
must be numeric, whereas any string can be used as key in objects. The key-
value pairs are also called the <strong>"properties"</strong>.</p>
<p>Properties can be accessed either using <strong>dot notation</strong></p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">obj</span><span class="o">.</span><span class="n">someProperty</span><span class="p">;</span>
</pre></div>

<p>or <strong>bracket notation</strong> , if the property name would not be a valid JavaScript
identifier name <em>[spec]</em> , or the name is the value of a variable:</p>
<div class="code"><pre class="code literal-block"><span class="o">//</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nf">space</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">valid</span><span class="w"> </span><span class="k">character</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">identifier</span><span class="w"> </span><span class="k">names</span>
<span class="n">const</span><span class="w"> </span><span class="k">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">obj</span><span class="o">[</span><span class="n">"some Property"</span><span class="o">]</span><span class="p">;</span>

<span class="o">//</span><span class="w"> </span><span class="n">property</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">variable</span>
<span class="n">const</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">"some Property"</span><span class="p">;</span>
<span class="n">const</span><span class="w"> </span><span class="k">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">obj</span><span class="o">[</span><span class="n">name</span><span class="o">]</span><span class="p">;</span>
</pre></div>

<p>For that reason, array elements can only be accessed using bracket notation:</p>
<div class="code"><pre class="code literal-block"><span class="n">const</span><span class="w"> </span><span class="k">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">arr</span><span class="o">[</span><span class="n">5</span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">arr</span><span class="mf">.5</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">syntax</span><span class="w"> </span><span class="n">error</span>

<span class="o">//</span><span class="w"> </span><span class="n">property</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">variable</span>
<span class="n">const</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<span class="n">const</span><span class="w"> </span><span class="k">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">arr</span><span class="o">[</span><span class="n">x</span><span class="o">]</span><span class="p">;</span>
</pre></div>

<h4>Wait... what about JSON?</h4>
<p>JSON is a textual representation of data, just like XML, YAML, CSV, and
others. To work with such data, it first has to be converted to JavaScript
data types, i.e. arrays and objects (and how to work with those was just
explained). How to parse JSON is explained in the question Parse JSON in
JavaScript? .</p>
<h4>Further reading material</h4>
<p>How to access arrays and objects is fundamental JavaScript knowledge and
therefore it is advisable to read the MDN JavaScript Guide, especially the
sections</p>
<ul>
<li>Working with Objects</li>
<li>Arrays</li>
<li>Eloquent JavaScript - Data Structures</li>
</ul>
<hr>
<hr>
<h3>Accessing nested data structures</h3>
<p>A nested data structure is an array or object which refers to other arrays or
objects, i.e. its values are arrays or objects. Such structures can be
accessed by consecutively applying dot or bracket notation.</p>
<p>Here is an example:</p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">code</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span>
<span class="w">    </span><span class="n">items</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
<span class="w">        </span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">        </span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s1">'foo'</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">        </span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s1">'bar'</span>
<span class="w">    </span><span class="p">}]</span>
<span class="p">};</span>
</pre></div>

<p>Let's assume we want to access the <code>name</code> of the second item.</p>
<p>Here is how we can do it step-by-step:</p>
<p>As we can see <code>data</code> is an object, hence we can access its properties using
dot notation. The <code>items</code> property is accessed as follows:</p>
<div class="code"><pre class="code literal-block">data.items
</pre></div>

<p>The value is an array, to access its second element, we have to use bracket
notation:</p>
<div class="code"><pre class="code literal-block">data.items[1]
</pre></div>

<p>This value is an object and we use dot notation again to access the <code>name</code>
property. So we eventually get:</p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="n">item_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span><span class="p">;</span>
</pre></div>

<p>Alternatively, we could have used bracket notation for any of the properties,
especially if the name contained characters that would have made it invalid
for dot notation usage:</p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="n">item_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">data</span><span class="p">[</span><span class="s1">'items'</span><span class="p">][</span><span class="mi">1</span><span class="p">][</span><span class="s1">'name'</span><span class="p">];</span>
</pre></div>

<hr>
<h4>I'm trying to access a property but I get only <code>undefined</code> back?</h4>
<p>Most of the time when you are getting <code>undefined</code>, the object/array simply
doesn't have a property with that name.</p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="n">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">bar</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="n">baz</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">}};</span>
<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">foo</span><span class="o">.</span><span class="n">baz</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">undefined</span>
</pre></div>

<p>Use <code>console.log</code> or <code>console.dir</code> and inspect the structure of object /
array. The property you are trying to access might be actually defined on a
nested object / array.</p>
<div class="code"><pre class="code literal-block">console.log(foo.bar.baz); // 42
</pre></div>

<hr>
<h4>What if the property names are dynamic and I don't know them beforehand?</h4>
<p>If the property names are unknown or we want to access all properties of an
object / elements of an array, we can use the <code>for...in</code> <em>[MDN]</em> loop for
objects and the <code>for</code> <em>[MDN]</em> loop for arrays to iterate over all properties /
elements.</p>
<p><strong>Objects</strong></p>
<p>To iterate over all properties of <code>data</code>, we can iterate over the <strong>object</strong>
like so:</p>
<div class="code"><pre class="code literal-block"><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">prop</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="err">`</span><span class="n">prop</span><span class="err">`</span><span class="w"> </span><span class="n">contains</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">property</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="err">`</span><span class="s1">'code'</span><span class="err">`</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="err">`</span><span class="s1">'items'</span><span class="err">`</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">consequently</span><span class="p">,</span><span class="w"> </span><span class="err">`</span><span class="n">data</span><span class="p">[</span><span class="n">prop</span><span class="p">]</span><span class="err">`</span><span class="w"> </span><span class="n">refers</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">property</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">either</span><span class="w"> </span><span class="err">`</span><span class="mi">42</span><span class="err">`</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">array</span>
<span class="p">}</span>
</pre></div>

<p>Depending on where the object comes from (and what you want to do), you might
have to test in each iteration whether the property is really a property of
the object, or it is an inherited property. You can do this with
<code>Object#hasOwnProperty</code> <em>[MDN]</em>.</p>
<p>As alternative to <code>for...in</code> with <code>hasOwnProperty</code>, you can use <code>Object.keys</code>
<em>[MDN]</em> to get an <em>array of property names</em> :</p>
<div class="code"><pre class="code literal-block"><span class="n">Object</span><span class="p">.</span><span class="k">keys</span><span class="p">(</span><span class="k">data</span><span class="p">).</span><span class="n">forEach</span><span class="p">(</span><span class="k">function</span><span class="p">(</span><span class="n">prop</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n n-Quoted">`prop`</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">property</span><span class="w"> </span><span class="k">name</span>
<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n n-Quoted">`data[prop]`</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">property</span><span class="w"> </span><span class="k">value</span>
<span class="err">}</span><span class="p">);</span>
</pre></div>

<p><strong>Arrays</strong></p>
<p>To iterate over all elements of the <code>data.items</code> <strong>array</strong> , we use a <code>for</code>
loop:</p>
<div class="code"><pre class="code literal-block"><span class="k">for</span><span class="p">(</span><span class="n">let</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">data</span><span class="p">.</span><span class="n">items</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">l</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="err">`</span><span class="n">i</span><span class="err">`</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">take</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="err">`</span><span class="mi">0</span><span class="err">`</span><span class="p">,</span><span class="w"> </span><span class="err">`</span><span class="mi">1</span><span class="err">`</span><span class="p">,</span><span class="w"> </span><span class="err">`</span><span class="mi">2</span><span class="err">`</span><span class="p">,...,</span><span class="w"> </span><span class="n">i</span><span class="p">.</span><span class="n">e</span><span class="p">.</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">each</span><span class="w"> </span><span class="n">iteration</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">we</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">next</span><span class="w"> </span><span class="k">element</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">array</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="err">`</span><span class="k">data</span><span class="p">.</span><span class="n">items</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="err">`</span><span class="p">,</span><span class="w"> </span><span class="nl">example</span><span class="p">:</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="nf">var</span><span class="w"> </span><span class="n">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">data</span><span class="p">.</span><span class="n">items</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">;</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Since</span><span class="w"> </span><span class="k">each</span><span class="w"> </span><span class="k">element</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="k">object</span><span class="w"> </span><span class="p">(</span><span class="ow">in</span><span class="w"> </span><span class="n">our</span><span class="w"> </span><span class="n">example</span><span class="p">),</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">we</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">objects</span><span class="w"> </span><span class="n">properties</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="err">`</span><span class="n">obj</span><span class="p">.</span><span class="n">id</span><span class="err">`</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="err">`</span><span class="n">obj</span><span class="p">.</span><span class="n">name</span><span class="err">`</span><span class="p">.</span><span class="w"> </span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">We</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="k">use</span><span class="w"> </span><span class="err">`</span><span class="k">data</span><span class="p">.</span><span class="n">items</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">.</span><span class="n">id</span><span class="err">`</span><span class="p">.</span>
<span class="err">}</span>
</pre></div>

<p>One could also use <code>for...in</code> to iterate over arrays, but there are reasons
why this should be avoided: Why is 'for(var item in list)' with arrays
considered bad practice in JavaScript?.</p>
<p>With the increasing browser support of ECMAScript 5, the array method
<code>forEach</code> <em>[MDN]</em> becomes an interesting alternative as well:</p>
<div class="code"><pre class="code literal-block"><span class="k">data</span><span class="p">.</span><span class="n">items</span><span class="p">.</span><span class="n">forEach</span><span class="p">(</span><span class="k">function</span><span class="p">(</span><span class="k">value</span><span class="p">,</span><span class="w"> </span><span class="k">index</span><span class="p">,</span><span class="w"> </span><span class="k">array</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">callback</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">executed</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">each</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">array</span><span class="p">.</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n n-Quoted">`value`</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="n">itself</span><span class="w"> </span><span class="p">(</span><span class="n">equivalent</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n n-Quoted">`array[index]`</span><span class="p">)</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n n-Quoted">`index`</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">array</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n n-Quoted">`array`</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">reference</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">array</span><span class="w"> </span><span class="n">itself</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="p">.</span><span class="n">e</span><span class="p">.</span><span class="w"> </span><span class="n n-Quoted">`data.items`</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">case</span><span class="p">)</span>
<span class="err">}</span><span class="p">);</span>
</pre></div>

<p>In environments supporting ES2015 (ES6), you can also use the <em><code>for...of</code></em>
<em>[MDN]</em> loop, which not only works for arrays, but for any <em>iterable</em> :</p>
<div class="code"><pre class="code literal-block"><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">const</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="k">data</span><span class="p">.</span><span class="n">items</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">   </span><span class="o">//</span><span class="w"> </span><span class="n n-Quoted">`item`</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">array</span><span class="w"> </span><span class="n">element</span><span class="p">,</span><span class="w"> </span><span class="o">**</span><span class="k">not</span><span class="o">**</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">index</span>
<span class="err">}</span>
</pre></div>

<p>In each iteration, <code>for...of</code> directly gives us the next element of the
iterable, there is no "index" to access or use.</p>
<hr>
<h4>What if the "depth" of the data structure is unknown to me?</h4>
<p>In addition to unknown keys, the "depth" of the data structure (i.e. how many
nested objects) it has, might be unknown as well. How to access deeply nested
properties usually depends on the exact data structure.</p>
<p>But if the data structure contains repeating patterns, e.g. the representation
of a binary tree, the solution typically includes to <strong>recursively</strong>
<em>[Wikipedia]</em> access each level of the data structure.</p>
<p>Here is an example to get the first leaf node of a binary tree:</p>
<div class="code"><pre class="code literal-block"><span class="n">function</span><span class="w"> </span><span class="n">getLeaf</span><span class="p">(</span><span class="n">node</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">leftChild</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">getLeaf</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">leftChild</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">recursive</span><span class="w"> </span><span class="n">call</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">rightChild</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">getLeaf</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">rightChild</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">recursive</span><span class="w"> </span><span class="n">call</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">leaf</span><span class="w"> </span><span class="n">node</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">node</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">const</span><span class="w"> </span><span class="n">first_leaf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getLeaf</span><span class="p">(</span><span class="n">root</span><span class="p">);</span>
</pre></div>

<p>Show code snippet</p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">leftChild</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">leftChild</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">leftChild</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">,</span>
<span class="w">            </span><span class="n">rightChild</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">,</span>
<span class="w">            </span><span class="n">data</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="n">rightChild</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">leftChild</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">,</span>
<span class="w">            </span><span class="n">rightChild</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">,</span>
<span class="w">            </span><span class="n">data</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="n">rightChild</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">leftChild</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">leftChild</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">,</span>
<span class="w">            </span><span class="n">rightChild</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">,</span>
<span class="w">            </span><span class="n">data</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="n">rightChild</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">leftChild</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">,</span>
<span class="w">            </span><span class="n">rightChild</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">,</span>
<span class="w">            </span><span class="n">data</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">};</span>
<span class="n">function</span><span class="w"> </span><span class="n">getLeaf</span><span class="p">(</span><span class="n">node</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">leftChild</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">getLeaf</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">leftChild</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">rightChild</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">getLeaf</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">rightChild</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">leaf</span><span class="w"> </span><span class="n">node</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">node</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">getLeaf</span><span class="p">(</span><span class="n">root</span><span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="p">);</span>
</pre></div>

<p>A more generic way to access a nested data structure with unknown keys and
depth is to test the type of the value and act accordingly.</p>
<p>Here is an example which adds all primitive values inside a nested data
structure into an array (assuming it does not contain any functions). If we
encounter an object (or array) we simply call <code>toArray</code> again on that value
(recursive call).</p>
<div class="code"><pre class="code literal-block"><span class="k">function</span><span class="w"> </span><span class="n">toArray</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">const</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">[]</span><span class="p">;</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">const</span><span class="w"> </span><span class="n">prop</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">obj</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">const</span><span class="w"> </span><span class="k">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">obj</span><span class="o">[</span><span class="n">prop</span><span class="o">]</span><span class="p">;</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">typeof</span><span class="w"> </span><span class="k">value</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">'object'</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="k">result</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">toArray</span><span class="p">(</span><span class="k">value</span><span class="p">));</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">recursive</span><span class="w"> </span><span class="k">call</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="k">result</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="k">value</span><span class="p">);</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">    </span><span class="err">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">result</span><span class="p">;</span>
<span class="err">}</span>
</pre></div>

<p>Show code snippet</p>
<div class="code"><pre class="code literal-block"><span class="n">const</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{</span>
<span class="w">  </span><span class="nl">code</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span>
<span class="w">  </span><span class="nl">items</span><span class="p">:</span><span class="w"> </span><span class="o">[</span><span class="n">{</span>
<span class="n">    id: 1,</span>
<span class="n">    name: 'foo'</span>
<span class="n">  }, {</span>
<span class="n">    id: 2,</span>
<span class="n">    name: 'bar'</span>
<span class="n">  }</span><span class="o">]</span>
<span class="err">}</span><span class="p">;</span>


<span class="k">function</span><span class="w"> </span><span class="n">toArray</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">  </span><span class="n">const</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">[]</span><span class="p">;</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">const</span><span class="w"> </span><span class="n">prop</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">obj</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">const</span><span class="w"> </span><span class="k">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">obj</span><span class="o">[</span><span class="n">prop</span><span class="o">]</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">typeof</span><span class="w"> </span><span class="k">value</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">'object'</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">      </span><span class="k">result</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">toArray</span><span class="p">(</span><span class="k">value</span><span class="p">));</span>
<span class="w">    </span><span class="err">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="err">{</span>
<span class="w">      </span><span class="k">result</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="k">value</span><span class="p">);</span>
<span class="w">    </span><span class="err">}</span>
<span class="w">  </span><span class="err">}</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="k">result</span><span class="p">;</span>
<span class="err">}</span>

<span class="n">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="n">toArray</span><span class="p">(</span><span class="k">data</span><span class="p">));</span>
</pre></div>

<hr>
<hr>
<h3>Helpers</h3>
<p>Since the structure of a complex object or array is not necessarily obvious,
we can inspect the value at each step to decide how to move further.
<code>console.log</code> <em>[MDN]</em> and <code>console.dir</code> <em>[MDN]</em> help us doing this. For
example (output of the Chrome console):</p>
<div class="code"><pre class="code literal-block">&gt; console.log(data.items)
 [ Object, Object ]
</pre></div>

<p>Here we see that that <code>data.items</code> is an array with two elements which are
both objects. In Chrome console the objects can even be expanded and inspected
immediately.</p>
<div class="code"><pre class="code literal-block">&gt; console.log(data.items[1])
  Object
     id: 2
     name: "bar"
     __proto__: Object
</pre></div>

<p>This tells us that <code>data.items[1]</code> is an object, and after expanding it we see
that it has three properties, <code>id</code>, <code>name</code> and <code>__proto__</code>. The latter is an
internal property used for the prototype chain of the object. The prototype
chain and inheritance is out of scope for this answer, though.</p>
<p><br></p>
<h3>Suggest</h3>
<p>You can access it this way</p>
<div class="code"><pre class="code literal-block">data.items[1].name
</pre></div>

<p>or</p>
<div class="code"><pre class="code literal-block">data["items"][1]["name"]
</pre></div>

<p>Both ways are equal.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-397.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-395.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

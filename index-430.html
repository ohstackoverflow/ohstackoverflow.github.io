<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 430) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-430.html">
<link rel="prev" href="index-431.html" type="text/html">
<link rel="next" href="index-429.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-unload-reload-a-python-module/" class="u-url">How do I unload (reload) a Python module?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-unload-reload-a-python-module/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T06:39:49+08:00" itemprop="datePublished" title="2023-02-17 06:39">2023-02-17 06:39</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a long-running Python server and would like to be able to upgrade a
service without restarting the server. What's the best way do do this?</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span> <span class="n">foo</span><span class="o">.</span><span class="n">py</span> <span class="n">has</span> <span class="n">changed</span><span class="p">:</span>
    <span class="n">unimport</span> <span class="n">foo</span>  <span class="o">&lt;--</span> <span class="n">How</span> <span class="n">do</span> <span class="n">I</span> <span class="n">do</span> <span class="n">this</span><span class="err">?</span>
    <span class="kn">import</span> <span class="nn">foo</span>
    <span class="n">myfoo</span> <span class="o">=</span> <span class="n">foo</span><span class="o">.</span><span class="n">Foo</span><span class="p">()</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>You can reload a module when it has already been imported by using
<code>importlib.reload()</code>:</p>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">importlib</span> <span class="kn">import</span> <span class="n">reload</span>  <span class="c1"># Python 3.4+</span>
<span class="kn">import</span> <span class="nn">foo</span>

<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="c1"># Do some things.</span>
    <span class="k">if</span> <span class="n">is_changed</span><span class="p">(</span><span class="n">foo</span><span class="p">):</span>
        <span class="n">foo</span> <span class="o">=</span> <span class="n">reload</span><span class="p">(</span><span class="n">foo</span><span class="p">)</span>
</pre></div>

<p>In Python 2, <code>reload</code> was a builtin. In Python 3, it was moved to the <code>imp</code>
module. In 3.4, <code>imp</code> was deprecated in favor of <code>importlib</code>. When targeting 3
or later, either reference the appropriate module when calling <code>reload</code> or
import it.</p>
<p>I think that this is what you want. Web servers like Django's development
server use this so that you can see the effects of your code changes without
restarting the server process itself.</p>
<p>To quote from the docs:</p>
<blockquote>
<ul>
<li>Python module’s code is recompiled and the module-level code re-
executed, defining a new set of objects which are bound to names in the
module’s dictionary by reusing the loader which originally loaded the
module. The <code>init</code> function of extension modules is not called a second
time.</li>
<li>As with all other objects in Python the old objects are only reclaimed
after their reference counts drop to zero.</li>
<li>The names in the module namespace are updated to point to any new or
changed objects.</li>
<li>Other references to the old objects (such as names external to the
module) are not rebound to refer to the new objects and must be updated in
each namespace where they occur if that is desired.
</li>
</ul>
</blockquote>
<p>As you noted in your question, you'll have to reconstruct <code>Foo</code> objects if the
<code>Foo</code> class resides in the <code>foo</code> module.</p>
<p><br></p>
<h3>Suggest</h3>
<p>In Python 3.0–3.3 you would use: <code>imp.reload(module)</code></p>
<p>The BDFL has answered this question.</p>
<p>However, <code>imp</code> was deprecated in 3.4, in favour of <code>importlib</code> (thanks
@Stefan!).</p>
<p>I <em>think</em> , therefore, you’d now use <code>importlib.reload(module)</code>, although I’m
not sure.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/difference-between-hashmap-linkedhashmap-and-treemap/" class="u-url">Difference between HashMap, LinkedHashMap and TreeMap</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/difference-between-hashmap-linkedhashmap-and-treemap/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T06:39:21+08:00" itemprop="datePublished" title="2023-02-17 06:39">2023-02-17 06:39</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What is the difference between <code>HashMap</code>, <code>LinkedHashMap</code> and <code>TreeMap</code> in
Java? I don't see any difference in the output as all the three has <code>keySet</code>
and <code>values</code>. What are <code>Hashtable</code>s?</p>
<div class="code"><pre class="code literal-block">Map m1 = new HashMap();
m1.put("map", "HashMap");
m1.put("schildt", "java2");
m1.put("mathew", "Hyden");
m1.put("schildt", "java2s");
print(m1.keySet()); 
print(m1.values());

SortedMap sm = new TreeMap();
sm.put("map", "TreeMap");
sm.put("schildt", "java2");
sm.put("mathew", "Hyden");
sm.put("schildt", "java2s");
print(sm.keySet()); 
print(sm.values());

LinkedHashMap lm = new LinkedHashMap();
lm.put("map", "LinkedHashMap");
lm.put("schildt", "java2");
lm.put("mathew", "Hyden");
lm.put("schildt", "java2s");
print(lm.keySet()); 
print(lm.values());
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>All three classes implement the <code>Map</code> interface and offer mostly the same
functionality. The most important difference is the order in which iteration
through the entries will happen:</p>
<ul>
<li>
<code>HashMap</code> makes absolutely no guarantees about the iteration order. It can (and will) even change completely when new elements are added.</li>
<li>
<code>TreeMap</code> will iterate according to the "natural ordering" of the keys according to their <code>compareTo()</code> method (or an externally supplied <code>Comparator</code>). Additionally, it implements the <code>SortedMap</code> interface, which contains methods that depend on this sort order.</li>
<li>
<code>LinkedHashMap</code> will iterate in the order in which the entries were put into the map</li>
</ul>
<p>"Hashtable" is the generic name for hash-based maps. In the context of the
Java API, <code>Hashtable</code> is an obsolete class from the days of Java 1.1 before
the collections framework existed. It should not be used anymore, because its
API is cluttered with obsolete methods that duplicate functionality, and its
methods are synchronized (which can decrease performance and is generally
useless). Use ConcurrentHashMap instead of Hashtable.</p>
<p><br></p>
<h3>Suggest</h3>
<p>All three classes implement the <code>Map</code> interface and offer mostly the same
functionality. The most important difference is the order in which iteration
through the entries will happen:</p>
<ul>
<li>
<code>HashMap</code> makes absolutely no guarantees about the iteration order. It can (and will) even change completely when new elements are added.</li>
<li>
<code>TreeMap</code> will iterate according to the "natural ordering" of the keys according to their <code>compareTo()</code> method (or an externally supplied <code>Comparator</code>). Additionally, it implements the <code>SortedMap</code> interface, which contains methods that depend on this sort order.</li>
<li>
<code>LinkedHashMap</code> will iterate in the order in which the entries were put into the map</li>
</ul>
<p>"Hashtable" is the generic name for hash-based maps. In the context of the
Java API, <code>Hashtable</code> is an obsolete class from the days of Java 1.1 before
the collections framework existed. It should not be used anymore, because its
API is cluttered with obsolete methods that duplicate functionality, and its
methods are synchronized (which can decrease performance and is generally
useless). Use ConcurrentHashMap instead of Hashtable.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-tail-call-optimization/" class="u-url">What is tail call optimization?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-tail-call-optimization/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T06:38:53+08:00" itemprop="datePublished" title="2023-02-17 06:38">2023-02-17 06:38</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Very simply, what is tail-call optimization?</p>
<p>More specifically, what are some small code snippets where it could be
applied, and where not, with an explanation of why?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Tail-call optimization is where you are able to avoid allocating a new stack
frame for a function because the calling function will simply return the value
that it gets from the called function. The most common use is tail-recursion,
where a recursive function written to take advantage of tail-call optimization
can use constant stack space.</p>
<p>Scheme is one of the few programming languages that guarantee in the spec that
any implementation must provide this optimization, so here are two examples of
the factorial function in Scheme:</p>
<div class="code"><pre class="code literal-block"><span class="ss">(</span><span class="nv">define</span><span class="w"> </span><span class="ss">(</span><span class="nv">fact</span><span class="w"> </span><span class="nv">x</span><span class="ss">)</span>
<span class="w">  </span><span class="ss">(</span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="o">=</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="mi">0</span><span class="ss">)</span><span class="w"> </span><span class="mi">1</span>
<span class="w">      </span><span class="ss">(</span><span class="o">*</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="ss">(</span><span class="nv">fact</span><span class="w"> </span><span class="ss">(</span><span class="o">-</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="mi">1</span><span class="ss">)))))</span>

<span class="ss">(</span><span class="nv">define</span><span class="w"> </span><span class="ss">(</span><span class="nv">fact</span><span class="w"> </span><span class="nv">x</span><span class="ss">)</span>
<span class="w">  </span><span class="ss">(</span><span class="nv">define</span><span class="w"> </span><span class="ss">(</span><span class="nv">fact</span><span class="o">-</span><span class="nv">tail</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">accum</span><span class="ss">)</span>
<span class="w">    </span><span class="ss">(</span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="o">=</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="mi">0</span><span class="ss">)</span><span class="w"> </span><span class="nv">accum</span>
<span class="w">        </span><span class="ss">(</span><span class="nv">fact</span><span class="o">-</span><span class="nv">tail</span><span class="w"> </span><span class="ss">(</span><span class="o">-</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="mi">1</span><span class="ss">)</span><span class="w"> </span><span class="ss">(</span><span class="o">*</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">accum</span><span class="ss">))))</span>
<span class="w">  </span><span class="ss">(</span><span class="nv">fact</span><span class="o">-</span><span class="nv">tail</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="mi">1</span><span class="ss">))</span>
</pre></div>

<p>The first function is not tail recursive because when the recursive call is
made, the function needs to keep track of the multiplication it needs to do
with the result after the call returns. As such, the stack looks as follows:</p>
<div class="code"><pre class="code literal-block">(fact 3)
(* 3 (fact 2))
(* 3 (* 2 (fact 1)))
(* 3 (* 2 (* 1 (fact 0))))
(* 3 (* 2 (* 1 1)))
(* 3 (* 2 1))
(* 3 2)
6
</pre></div>

<p>In contrast, the stack trace for the tail recursive factorial looks as
follows:</p>
<div class="code"><pre class="code literal-block">(fact 3)
(fact-tail 3 1)
(fact-tail 2 3)
(fact-tail 1 6)
(fact-tail 0 6)
6
</pre></div>

<p>As you can see, we only need to keep track of the same amount of data for
every call to fact-tail because we are simply returning the value we get right
through to the top. This means that even if I were to call (fact 1000000), I
need only the same amount of space as (fact 3). This is not the case with the
non-tail-recursive fact, and as such large values may cause a stack overflow.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Let's walk through a simple example: the factorial function implemented in C.</p>
<p>We start with the obvious recursive definition</p>
<div class="code"><pre class="code literal-block"><span class="nv">unsigned</span><span class="w"> </span><span class="nv">fac</span><span class="ss">(</span><span class="nv">unsigned</span><span class="w"> </span><span class="nv">n</span><span class="ss">)</span>
{
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">n</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="ss">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="c1">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">n</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nv">fac</span><span class="ss">(</span><span class="nv">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="ss">)</span><span class="c1">;</span>
}
</pre></div>

<p>A function ends with a tail call if the last operation before the function
returns is another function call. If this call invokes the same function, it
is tail-recursive.</p>
<p>Even though <code>fac()</code> looks tail-recursive at first glance, it is not as what
actually happens is</p>
<div class="code"><pre class="code literal-block"><span class="nv">unsigned</span><span class="w"> </span><span class="nv">fac</span><span class="ss">(</span><span class="nv">unsigned</span><span class="w"> </span><span class="nv">n</span><span class="ss">)</span>
{
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">n</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="ss">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="c1">;</span>
<span class="w">    </span><span class="nv">unsigned</span><span class="w"> </span><span class="nv">acc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">fac</span><span class="ss">(</span><span class="nv">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">n</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nv">acc</span><span class="c1">;</span>
}
</pre></div>

<p>ie the last operation is the multiplication and not the function call.</p>
<p>However, it's possible to rewrite <code>fac()</code> to be tail-recursive by passing the
accumulated value down the call chain as an additional argument and passing
only the final result up again as the return value:</p>
<div class="code"><pre class="code literal-block"><span class="nv">unsigned</span><span class="w"> </span><span class="nv">fac</span><span class="ss">(</span><span class="nv">unsigned</span><span class="w"> </span><span class="nv">n</span><span class="ss">)</span>
{
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">fac_tailrec</span><span class="ss">(</span><span class="mi">1</span>,<span class="w"> </span><span class="nv">n</span><span class="ss">)</span><span class="c1">;</span>
}

<span class="nv">unsigned</span><span class="w"> </span><span class="nv">fac_tailrec</span><span class="ss">(</span><span class="nv">unsigned</span><span class="w"> </span><span class="nv">acc</span>,<span class="w"> </span><span class="nv">unsigned</span><span class="w"> </span><span class="nv">n</span><span class="ss">)</span>
{
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">n</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="ss">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="nv">acc</span><span class="c1">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">fac_tailrec</span><span class="ss">(</span><span class="nv">n</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nv">acc</span>,<span class="w"> </span><span class="nv">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="ss">)</span><span class="c1">;</span>
}
</pre></div>

<p>Now, why is this useful? Because we immediately return after the tail call, we
can discard the previous stackframe before invoking the function in tail
position, or, in case of recursive functions, reuse the stackframe as-is.</p>
<p>The tail-call optimization transforms our recursive code into</p>
<div class="code"><pre class="code literal-block"><span class="nt">unsigned</span><span class="w"> </span><span class="nt">fac_tailrec</span><span class="o">(</span><span class="nt">unsigned</span><span class="w"> </span><span class="nt">acc</span><span class="o">,</span><span class="w"> </span><span class="nt">unsigned</span><span class="w"> </span><span class="nt">n</span><span class="o">)</span>
<span class="p">{</span>
<span class="n">TOP</span><span class="p">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="n">return</span><span class="w"> </span><span class="n">acc</span><span class="p">;</span>
<span class="w">    </span><span class="err">acc</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">n</span><span class="w"> </span><span class="err">*</span><span class="w"> </span><span class="err">acc</span><span class="p">;</span>
<span class="w">    </span><span class="err">n</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">n</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">1</span><span class="p">;</span>
<span class="w">    </span><span class="err">goto</span><span class="w"> </span><span class="err">TOP</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>This can be inlined into <code>fac()</code> and we arrive at</p>
<div class="code"><pre class="code literal-block"><span class="nt">unsigned</span><span class="w"> </span><span class="nt">fac</span><span class="o">(</span><span class="nt">unsigned</span><span class="w"> </span><span class="nt">n</span><span class="o">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="err">unsigned</span><span class="w"> </span><span class="err">acc</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">1</span><span class="p">;</span>

<span class="n">TOP</span><span class="p">:</span>
<span class="w">    </span><span class="n">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="n">return</span><span class="w"> </span><span class="n">acc</span><span class="p">;</span>
<span class="w">    </span><span class="err">acc</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">n</span><span class="w"> </span><span class="err">*</span><span class="w"> </span><span class="err">acc</span><span class="p">;</span>
<span class="w">    </span><span class="err">n</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">n</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">1</span><span class="p">;</span>
<span class="w">    </span><span class="err">goto</span><span class="w"> </span><span class="err">TOP</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>which is equivalent to</p>
<div class="code"><pre class="code literal-block"><span class="nv">unsigned</span><span class="w"> </span><span class="nv">fac</span><span class="ss">(</span><span class="nv">unsigned</span><span class="w"> </span><span class="nv">n</span><span class="ss">)</span>
{
<span class="w">    </span><span class="nv">unsigned</span><span class="w"> </span><span class="nv">acc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="c1">;</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="ss">(</span><span class="c1">; n &gt; 1; --n)</span>
<span class="w">        </span><span class="nv">acc</span><span class="w"> </span><span class="o">*=</span><span class="w"> </span><span class="nv">n</span><span class="c1">;</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">acc</span><span class="c1">;</span>
}
</pre></div>

<p>As we can see here, a sufficiently advanced optimizer can replace tail-
recursion with iteration, which is far more efficient as you avoid function
call overhead and only use a constant amount of stack space.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-431.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-429.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

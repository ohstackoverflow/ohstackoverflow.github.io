<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2314) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2314.html">
<link rel="prev" href="index-2315.html" type="text/html">
<link rel="next" href="index-2313.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-search-for-an-object-by-its-objectid-in-the-mongo-console/" class="u-url">How do I search for an object by its ObjectId in the mongo console?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-search-for-an-object-by-its-objectid-in-the-mongo-console/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T06:57:57+08:00" itemprop="datePublished" title="2023-03-04 06:57">2023-03-04 06:57</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I've found this question answered for C# and Perl, but not in the native
interface. I thought this would work:</p>
<p><code>db.theColl.find( { _id: ObjectId("4ecbe7f9e8c1c9092c000027") } )</code></p>
<p>The query returned no results. I found the 4ecbe7f9e8c1c9092c000027 by doing
<code>db.theColl.find()</code> and grabbing an ObjectId. There are several thousand
objects in that collection.</p>
<p>I've read all the pages that I could find on the mongodb.org website and
didn't find it. Is this just a strange thing to do? It seems pretty normal to
me.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Not strange at all, people do this all the time. Make sure the collection name
is correct (case matters) and that the ObjectId is exact.</p>
<p>Documentation is here</p>
<div class="code"><pre class="code literal-block">&gt; db.test.insert({x: 1})

&gt; db.test.find()                                               // no criteria
{ "_id" : ObjectId("4ecc05e55dd98a436ddcc47c"), "x" : 1 }

&gt; db.test.find({"_id" : ObjectId("4ecc05e55dd98a436ddcc47c")}) // explicit
{ "_id" : ObjectId("4ecc05e55dd98a436ddcc47c"), "x" : 1 }

&gt; db.test.find(ObjectId("4ecc05e55dd98a436ddcc47c"))           // shortcut
{ "_id" : ObjectId("4ecc05e55dd98a436ddcc47c"), "x" : 1 }
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>If you're using Node.js:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">ObjectId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">require</span><span class="p">(</span><span class="s1">'mongodb'</span><span class="p">)</span><span class="o">.</span><span class="n">ObjectId</span><span class="p">;</span><span class="w"> </span>
<span class="k">var</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">req</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">gonderi_id</span><span class="p">;</span><span class="w">       </span>
<span class="k">var</span><span class="w"> </span><span class="n">o_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">ObjectId</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
<span class="n">db</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">find</span><span class="p">({</span><span class="n">_id</span><span class="p">:</span><span class="n">o_id</span><span class="p">})</span>
</pre></div>

<p>Edit: corrected to new ObjectId(id), not new ObjectID(id)</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-make-phpstorm-display-line-numbers-by-default/" class="u-url">How to make phpstorm display line numbers by default?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-make-phpstorm-display-line-numbers-by-default/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T06:56:36+08:00" itemprop="datePublished" title="2023-03-04 06:56">2023-03-04 06:56</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How to make phpstorm display line numbers by default?<br>
Couldn't find that option. It's kind of annoying to turn them on manually for
each page.</p>
<p><br><br></p>
<h2>Answer</h2>
<p><code>Settings</code> (or <code>Preferences</code> if you are on Mac) | <code>Editor</code> | <code>General</code> |
<code>Appearance</code> and check <code>Show line numbers</code>.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Just now found where is it on <strong>Windows</strong>. Its <code>View</code> -&gt; <code>Active Editor</code> -&gt;
<code>Show Line Numbers</code> (changes only for current document) and <code>File</code> -&gt;
<code>Settings</code> -&gt; <code>Editor</code> -&gt; <code>Appearance</code> -&gt; <code>Show Line Numbers</code> (for all
documents)</p>
<p>For <strong>Mac Version</strong> go to <code>PhpStorm</code> -&gt; <code>Preferences</code> in menu. In the
preference window go to <code>IDE settings</code> -&gt; <code>Editor</code> -&gt; <code>Appearance</code> -&gt; <code>Show
Line Numbers</code> (To change setting for all documents)</p>
<p>OR if you want to quickly set show line number <strong>PER CURRENT WINDOW</strong> even
<strong>easier</strong> - right click on the long white column (where breakpoints are set)
then select Show Line Numbers.</p>
<p><img alt="enter image description here" src="images/pHpwn.png"></p>
<p>Red dot on the screenshot is a place where you have to click</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/concept-behind-these-four-lines-of-tricky-c-code/" class="u-url">Concept behind these four lines of tricky C code</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/concept-behind-these-four-lines-of-tricky-c-code/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T06:55:30+08:00" itemprop="datePublished" title="2023-03-04 06:55">2023-03-04 06:55</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Why does this code give the output <code>C++Sucks</code>? What is the concept behind it?</p>
<div class="code"><pre class="code literal-block"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>

<span class="kt">double</span><span class="w"> </span><span class="n">m</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mf">7709179928849219.0</span><span class="p">,</span><span class="w"> </span><span class="mi">771</span><span class="p">};</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">m</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">--?</span><span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*=</span><span class="mi">2</span><span class="p">,</span><span class="n">main</span><span class="p">()</span><span class="o">:</span><span class="n">printf</span><span class="p">((</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">m</span><span class="p">);</span><span class="w">    </span>
<span class="p">}</span>
</pre></div>

<p>Test it here.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The number <code>7709179928849219.0</code> has the following binary representation as a
64-bit <code>double</code>:</p>
<div class="code"><pre class="code literal-block"><span class="mf">01000011</span><span class="w"> </span><span class="mf">00111011</span><span class="w"> </span><span class="mf">01100011</span><span class="w"> </span><span class="mf">01110101</span><span class="w"> </span><span class="mf">01010011</span><span class="w"> </span><span class="mf">00101011</span><span class="w"> </span><span class="mf">00101011</span><span class="w"> </span><span class="mf">01000011</span>
<span class="o">+^^^^^^^</span><span class="w"> </span><span class="o">^^^^----</span><span class="w"> </span><span class="o">--------</span><span class="w"> </span><span class="o">--------</span><span class="w"> </span><span class="o">--------</span><span class="w"> </span><span class="o">--------</span><span class="w"> </span><span class="o">--------</span><span class="w"> </span><span class="o">--------</span>
</pre></div>

<p><code>+</code> shows the position of the sign; <code>^</code> of the exponent, and <code>-</code> of the
mantissa (i.e. the value without the exponent).</p>
<p>Since the representation uses binary exponent and mantissa, doubling the
number increments the exponent by one. Your program does it precisely 771
times, so the exponent which started at 1075 (decimal representation of
<code>10000110011</code>) becomes 1075 + 771 = 1846 at the end; binary representation of
1846 is <code>11100110110</code>. The resultant pattern looks like this:</p>
<div class="code"><pre class="code literal-block"><span class="c">01110011 01101011 01100011 01110101 01010011 00101011 00101011 01000011</span>
<span class="nb">--------</span><span class="c"> </span><span class="nb">--------</span><span class="c"> </span><span class="nb">--------</span><span class="c"> </span><span class="nb">--------</span><span class="c"> </span><span class="nb">--------</span><span class="c"> </span><span class="nb">--------</span><span class="c"> </span><span class="nb">--------</span><span class="c"> </span><span class="nb">--------</span>
<span class="c">0x73 's' 0x6B 'k' 0x63 'c' 0x75 'u' 0x53 'S' 0x2B '</span><span class="nb">+</span><span class="c">' 0x2B '</span><span class="nb">+</span><span class="c">' 0x43 'C'</span>
</pre></div>

<p>This pattern corresponds to the string that you see printed, only backwards.
At the same time, the second element of the array becomes zero, providing null
terminator, making the string suitable for passing to <code>printf()</code>.</p>
<p><br></p>
<h3>Suggest</h3>
<p>More readable version:</p>
<div class="code"><pre class="code literal-block"><span class="nv">double</span><span class="w"> </span><span class="nv">m</span>[<span class="mi">2</span>]<span class="w"> </span><span class="o">=</span><span class="w"> </span>{<span class="mi">7709179928849219</span>.<span class="mi">0</span>,<span class="w"> </span><span class="mi">771</span>}<span class="c1">;</span>
<span class="o">//</span><span class="w"> </span><span class="nv">m</span>[<span class="mi">0</span>]<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">7709179928849219</span>.<span class="mi">0</span><span class="c1">;</span>
<span class="o">//</span><span class="w"> </span><span class="nv">m</span>[<span class="mi">1</span>]<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">771</span><span class="c1">;</span>

<span class="nv">int</span><span class="w"> </span><span class="nv">main</span><span class="ss">()</span>
{
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">m</span>[<span class="mi">1</span>]<span class="o">--</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="ss">)</span>
<span class="w">    </span>{
<span class="w">        </span><span class="nv">m</span>[<span class="mi">0</span>]<span class="w"> </span><span class="o">*=</span><span class="w"> </span><span class="mi">2</span><span class="c1">;</span>
<span class="w">        </span><span class="nv">main</span><span class="ss">()</span><span class="c1">;</span>
<span class="w">    </span>}
<span class="w">    </span><span class="k">else</span>
<span class="w">    </span>{
<span class="w">        </span><span class="nv">printf</span><span class="ss">((</span><span class="nv">char</span><span class="o">*</span><span class="ss">)</span><span class="w"> </span><span class="nv">m</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span>}
}
</pre></div>

<p>It recursively calls <code>main()</code> 771 times.</p>
<p>In the beginning, <code>m[0] = 7709179928849219.0</code>, which stands for <code>C++Suc;C</code>. In
every call, <code>m[0]</code> gets doubled, to "repair" last two letters. In the last
call, <code>m[0]</code> contains ASCII char representation of <code>C++Sucks</code> and <code>m[1]</code>
contains only zeros, so it has a null terminator for <code>C++Sucks</code> string. All
under assumption that <code>m[0]</code> is stored on 8 bytes, so each char takes 1 byte.</p>
<p>Without recursion and illegal <code>main()</code> calling it will look like this:</p>
<div class="code"><pre class="code literal-block"><span class="nv">double</span><span class="w"> </span><span class="nv">m</span>[]<span class="w"> </span><span class="o">=</span><span class="w"> </span>{<span class="mi">7709179928849219</span>.<span class="mi">0</span>,<span class="w"> </span><span class="mi">0</span>}<span class="c1">;</span>
<span class="k">for</span><span class="w"> </span><span class="ss">(</span><span class="nv">int</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="c1">; i &lt; 771; i++)</span>
{
<span class="w">    </span><span class="nv">m</span>[<span class="mi">0</span>]<span class="w"> </span><span class="o">*=</span><span class="w"> </span><span class="mi">2</span><span class="c1">;</span>
}
<span class="nv">printf</span><span class="ss">((</span><span class="nv">char</span><span class="o">*</span><span class="ss">)</span><span class="w"> </span><span class="nv">m</span><span class="ss">)</span><span class="c1">;</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2315.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2313.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

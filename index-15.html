<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 15) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-15.html">
<link rel="prev" href="index-16.html" type="text/html">
<link rel="next" href="index-14.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/which-equals-operator-vs-should-be-used-in-javascript-comparisons/" class="u-url">Which equals operator (== vs ===) should be used in JavaScript comparisons?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/which-equals-operator-vs-should-be-used-in-javascript-comparisons/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T18:36:35+08:00" itemprop="datePublished" title="2023-02-16 18:36">2023-02-16 18:36</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p><strong>This question's answers are a community effort</strong>. Edit existing answers to
improve this post. It is not currently accepting new answers or interactions.</p>
<p>I'm using JSLint to go through JavaScript, and it's returning many suggestions
to replace <code>==</code> (two equals signs) with <code>===</code> (three equals signs) when doing
things like comparing <code>idSele_UNVEHtype.value.length == 0</code> inside of an <code>if</code>
statement.</p>
<p>Is there a performance benefit to replacing <code>==</code> with <code>===</code>?</p>
<p>Any performance improvement would be welcomed as many comparison operators
exist.</p>
<p>If no type conversion takes place, would there be a performance gain over
<code>==</code>?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The strict equality operator (<code>===</code>) behaves identically to the abstract
equality operator (<code>==</code>) except no type conversion is done, and the types must
be the same to be considered equal.</p>
<p>Reference: Javascript Tutorial: Comparison Operators</p>
<p>The <code>==</code> operator will compare for equality <em>after doing any necessary type
conversions</em>. The <code>===</code> operator will <strong>not</strong> do the conversion, so if two
values are not the same type <code>===</code> will simply return <code>false</code>. Both are
equally quick.</p>
<p>To quote Douglas Crockford's excellent JavaScript: The Good Parts,</p>
<blockquote>
<p>JavaScript has two sets of equality operators: <code>===</code> and <code>!==</code>, and their
evil twins <code>==</code> and <code>!=</code>. The good ones work the way you would expect. If
the two operands are of the same type and have the same value, then <code>===</code>
produces <code>true</code> and <code>!==</code> produces <code>false</code>. The evil twins do the right
thing when the operands are of the same type, but if they are of different
types, they attempt to coerce the values. the rules by which they do that
are complicated and unmemorable. These are some of the interesting cases:</p>
<div class="code"><pre class="code literal-block">'' == '0'           // false
0 == ''             // true
0 == '0'            // true

false == 'false'    // false
false == '0'        // true

false == undefined  // false
false == null       // false
null == undefined   // true

' \t\r\n ' == 0     // true
</pre></div>

</blockquote>
<p><img alt="Equality Comparison Table " src="images/yISob.png"></p>
<blockquote>
<p>The lack of transitivity is alarming. My advice is to never use the evil
twins. Instead, always use <code>===</code> and <code>!==</code>. All of the comparisons just
shown produce <code>false</code> with the <code>===</code> operator.</p>
</blockquote>
<hr>
<h4>Update:</h4>
<p>A good point was brought up by @Casebash in the comments and in @Phillipe
Laybaert's answer concerning objects. For objects, <code>==</code> and <code>===</code> act
consistently with one another (except in a special case).</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">];</span>
<span class="k">var</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">];</span>

<span class="k">var</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">};</span>
<span class="k">var</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">};</span>

<span class="k">var</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"text"</span><span class="p">;</span>
<span class="k">var</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"te"</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">"xt"</span><span class="p">;</span>

<span class="n">a</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">b</span><span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="bp">false</span>
<span class="n">a</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="n">b</span><span class="w">           </span><span class="o">//</span><span class="w"> </span><span class="bp">false</span>

<span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">d</span><span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="bp">false</span>
<span class="n">c</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="n">d</span><span class="w">           </span><span class="o">//</span><span class="w"> </span><span class="bp">false</span>

<span class="n">e</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">f</span><span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="bp">true</span>
<span class="n">e</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="n">f</span><span class="w">           </span><span class="o">//</span><span class="w"> </span><span class="bp">true</span>
</pre></div>

<p>The special case is when you compare a primitive with an object that evaluates
to the same primitive, due to its <code>toString</code> or <code>valueOf</code> method. For example,
consider the comparison of a string primitive with a string object created
using the <code>String</code> constructor.</p>
<div class="code"><pre class="code literal-block">"abc" == new String("abc")    // true
"abc" === new String("abc")   // false
</pre></div>

<p>Here the <code>==</code> operator is checking the values of the two objects and returning
<code>true</code>, but the <code>===</code> is seeing that they're not the same type and returning
<code>false</code>. Which one is correct? That really depends on what you're trying to
compare. My advice is to bypass the question entirely and just don't use the
<code>String</code> constructor to create string objects from string literals.</p>
<p><strong>Reference</strong><br>
http://www.ecma-international.org/ecma-262/5.1/#sec-11.9.3</p>
<p><br></p>
<h3>Suggest</h3>
<h4>Using the <code>==</code> operator ( <em>Equality</em> )</h4>
<div class="code"><pre class="code literal-block"><span class="nv">true</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="c1">; //true, because 'true' is converted to 1 and then compared</span>
<span class="s2">"2"</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">2</span><span class="c1">;  //true, because "2" is converted to 2 and then compared</span>
</pre></div>

<h4>Using the <code>===</code> operator ( <em>Identity</em> )</h4>
<div class="code"><pre class="code literal-block">true === 1; //false
"2" === 2;  //false
</pre></div>

<p>This is because the <strong>equality operator<code>==</code> does type coercion</strong>, meaning that
the interpreter implicitly tries to convert the values before comparing.</p>
<p>On the other hand, the <strong>identity operator<code>===</code> does not do type coercion</strong>,
and thus does not convert the values when comparing.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-change-the-uri-url-for-a-remote-git-repository/" class="u-url">How do I change the URI (URL) for a remote Git repository?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-change-the-uri-url-for-a-remote-git-repository/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T18:36:00+08:00" itemprop="datePublished" title="2023-02-16 18:36">2023-02-16 18:36</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a repo (origin) on a USB key that I cloned on my hard drive (local). I
moved "origin" to a NAS and successfully tested cloning it from here.</p>
<p>I would like to know if I can change the URI of "origin" in the settings of
"local" so it will now pull from the NAS, and not from the USB key.</p>
<p>For now, I can see two solutions:</p>
<ul>
<li>
<p>push everything to the USB origin, and copy it to the NAS again (implies a lot of work due to new commits to NAS origin);</p>
</li>
<li>
<p>add a new remote to "local" and delete the old one (I fear I'll break my history).</p>
</li>
</ul>
<p><br><br></p>
<h2>Answer</h2>
<p>You can</p>
<div class="code"><pre class="code literal-block">git remote set-url origin new.git.url/here
</pre></div>

<p>See <code>git help remote</code>. You also can edit <code>.git/config</code> and change the URLs
there.</p>
<p>You're not in any danger of losing history unless you do something very silly
(and if you're worried, just make a copy of your repo, since your repo <em>is</em>
your history.)</p>
<p><br></p>
<h3>Suggest</h3>
<div class="code"><pre class="code literal-block">git remote -v
# View existing remotes
# origin  https://github.com/user/repo.git (fetch)
# origin  https://github.com/user/repo.git (push)

git remote set-url origin https://github.com/user/repo2.git
# Change the 'origin' remote's URL

git remote -v
# Verify new remote URL
# origin  https://github.com/user/repo2.git (fetch)
# origin  https://github.com/user/repo2.git (push)
</pre></div>

<p>Changing a remote's URL</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-execute-a-program-or-call-a-system-command/" class="u-url">How do I execute a program or call a system command?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-execute-a-program-or-call-a-system-command/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T18:34:43+08:00" itemprop="datePublished" title="2023-02-16 18:34">2023-02-16 18:34</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How do I call an external command within Python as if I had typed it in a
shell or command prompt?</p>
<p><br><br></p>
<h2>Answer</h2>
<p><strong>Solution:</strong></p>
<blockquote>
<p>Step #1: Add module</p>
</blockquote>
<p>Use the <code>subprocess</code> module in the standard library:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">subprocess</span>
<span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s2">"ls"</span><span class="p">,</span> <span class="s2">"-l"</span><span class="p">])</span>
</pre></div>

<p>[This module allows you to spawn new processes, connect to their
input/output/error pipes, and obtain their return codes. Read more via:
<code>subprocess</code>]</p>
<blockquote>
<p>Step #2: Call an external command</p>
</blockquote>
<p>The simplest way to call an external command is to use the <code>subprocess.run()</code>
function, which runs the specified command and waits for it to complete.
Here's the demo code with an output:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">subprocess</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s2">"ls"</span><span class="p">],</span> <span class="n">capture_output</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">stdout</span><span class="p">)</span>
</pre></div>

<hr>
<p><strong>Advantage:</strong> The advantage of <code>subprocess.run</code> over <code>os.system</code> is that it
is more flexible (you can get the <code>stdout</code>, <code>stderr</code>, the "real" status code,
better error handling, etc...).</p>
<p><strong>Tip:</strong> The <code>shlex.split()</code> method can be used to break down simple shell
commands into individual arguments. But it may not work correctly with longer
and more complex commands that include pipe symbols. This can make debugging
difficult. To avoid this issue, the <code>shell=True</code> argument can be used,
however, this approach has potential security risks.</p>
<p><strong>Another way:</strong> You can also use other functions like <code>subprocess.Popen()</code> to
run a command and also redirect the <code>stdout</code> and <code>stderr</code> to a pipe, and you
can also redirect the input to the process.</p>
<p><strong>Security implications:</strong> While running external commands, you should be
careful to properly escape any arguments that contain special characters, as
they might be interpreted by the shell in unexpected ways.</p>
<hr>
<p><strong>Learning resources:</strong> Even the documentation for <code>os.system</code> recommends
using <code>subprocess</code> instead:</p>
<p>The <code>subprocess</code> module provides more powerful facilities for spawning new
processes and retrieving their results; using that module is preferable to
using this function. See the Replacing Older Functions with the subprocess
Module section in the <code>subprocess</code> documentation for some helpful recipes.</p>
<hr>
<p><strong>Note:</strong> On Python 3.4 and earlier, use <code>subprocess.call</code> instead of <code>.run</code>:</p>
<div class="code"><pre class="code literal-block">subprocess.call(["ls", "-l"])
</pre></div>

<p>If using Python 3.5 +, use <code>subprocess.run()</code>.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Here is a summary of ways to call external programs, including their
advantages and disadvantages:</p>
<ol>
<li>
<code>os.system</code> passes the command and arguments to your system's shell. This is nice because you can actually run multiple commands at once in this manner and set up pipes and input/output redirection. For example:<div class="code"><pre class="code literal-block">os.system("some_command &lt; input_file | another_command &gt; output_file")
</pre></div>

</li>
</ol>
<p>However, while this is convenient, you have to manually handle the escaping of
shell characters such as spaces, et cetera. On the other hand, this also lets
you run commands which are simply shell commands and not actually external
programs.</p>
<ol>
<li>
<p><code>os.popen</code> will do the same thing as <code>os.system</code> except that it gives you a file-like object that you can use to access standard input/output for that process. There are 3 other variants of popen that all handle the i/o slightly differently. If you pass everything as a string, then your command is passed to the shell; if you pass them as a list then you don't need to worry about escaping anything. Example:</p>
<div class="code"><pre class="code literal-block">print(os.popen("ls -l").read())
</pre></div>

</li>
<li>
<p><code>subprocess.Popen</code>. This is intended as a replacement for <code>os.popen</code>, but has the downside of being slightly more complicated by virtue of being so comprehensive. For example, you'd say:</p>
<div class="code"><pre class="code literal-block">print subprocess.Popen("echo Hello World", shell=True, stdout=subprocess.PIPE).stdout.read()
</pre></div>

</li>
</ol>
<p>instead of</p>
<div class="code"><pre class="code literal-block">    print os.popen("echo Hello World").read()
</pre></div>

<p>but it is nice to have all of the options there in one unified class instead
of 4 different popen functions. See the documentation.</p>
<ol>
<li>
<p><code>subprocess.call</code>. This is basically just like the <code>Popen</code> class and takes all of the same arguments, but it simply waits until the command completes and gives you the return code. For example:</p>
<div class="code"><pre class="code literal-block">return_code = subprocess.call("echo Hello World", shell=True)
</pre></div>

</li>
<li>
<p><code>subprocess.run</code>. Python 3.5+ only. Similar to the above but even more flexible and returns a <code>CompletedProcess</code> object when the command finishes executing.</p>
</li>
<li>
<p><code>os.fork</code>, <code>os.exec</code>, <code>os.spawn</code> are similar to their C language counterparts, but I don't recommend using them directly.</p>
</li>
</ol>
<p>The <code>subprocess</code> module should probably be what you use.</p>
<p>Finally, please be aware that for all methods where you pass the final command
to be executed by the shell as a string and you are responsible for escaping
it. <strong>There are serious security implications</strong> if any part of the string that
you pass can not be fully trusted. For example, if a user is entering some/any
part of the string. If you are unsure, only use these methods with constants.
To give you a hint of the implications consider this code:</p>
<div class="code"><pre class="code literal-block">print subprocess.Popen("echo %s " % user_input, stdout=PIPE).stdout.read()
</pre></div>

<p>and imagine that the user enters something "<code>my mama didnt love me &amp;&amp; rm -rf
/</code>" which could erase the whole filesystem.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-16.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-14.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

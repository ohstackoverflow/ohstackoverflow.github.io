<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2675) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2675.html">
<link rel="prev" href="index-2676.html" type="text/html">
<link rel="next" href="index-2674.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/delete-a-closed-pull-request-from-github/" class="u-url">Delete a closed pull request from GitHub</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/delete-a-closed-pull-request-from-github/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T09:31:48+08:00" itemprop="datePublished" title="2023-03-05 09:31">2023-03-05 09:31</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I accidentally made a wrong pull request and ended up closing the request
myself. It's in a closed state right now but it's accessible via direct URL
and showing on my activity bar.</p>
<p>Is there any way to delete a pull request completely so it's no longer
accessible via URL or shows up on your activity history?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>There is no way you can delete a pull request <em>yourself</em> -- you and the repo
owner (and all users with push access to it) can close it, but it will remain
in the log. This is part of the philosophy of not denying/hiding what happened
during development.</p>
<p>However, if there are critical reasons for deleting it (this is mainly
violation of Github Terms of Service), Github support staff will delete it for
you.</p>
<p>Whether or not they are willing to delete your PR for you is something you can
easily ask them, just drop them an email at support@github.com</p>
<p><strong>UPDATE:</strong> Currently Github requires support requests to be created here:
https://support.github.com/contact</p>
<p><br></p>
<h3>Suggest</h3>
<p>5 step to do what you want if you made the pull request from a forked
repository:</p>
<ol>
<li>reopen the pull request</li>
<li>checkout to the branch which you made the pull request</li>
<li>reset commit to the last master commit(that means remove all you new code). Command: <code>git reset --hard commit_hash_here</code>
</li>
<li><code>git push --force</code></li>
<li>delete your forked repository which made the pull request</li>
</ol>
<p>And everything is done, good luck!</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/most-efficient-way-to-reverse-a-numpy-array/" class="u-url">Most efficient way to reverse a numpy array</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/most-efficient-way-to-reverse-a-numpy-array/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T09:30:32+08:00" itemprop="datePublished" title="2023-03-05 09:30">2023-03-05 09:30</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Believe it or not, after profiling my current code, the repetitive operation
of numpy array reversion ate a giant chunk of the running time. What I have
right now is the common view-based method:</p>
<div class="code"><pre class="code literal-block"><span class="s s-Atom">reversed_arr</span> <span class="o">=</span> <span class="s s-Atom">arr</span><span class="p">[</span><span class="o">::-</span><span class="mi">1</span><span class="p">]</span>
</pre></div>

<p>Is there any other way to do it more efficiently, or is it just an illusion
from my obsession with unrealistic numpy performance?</p>
<p><br><br></p>
<h2>Answer</h2>
<div class="code"><pre class="code literal-block"><span class="s s-Atom">reversed_arr</span> <span class="o">=</span> <span class="s s-Atom">arr</span><span class="p">[</span><span class="o">::-</span><span class="mi">1</span><span class="p">]</span>
</pre></div>

<p>gives a reversed view into the original array <code>arr</code>. Any changes made to the
original array <code>arr</code> will also be immediately visible in <code>reversed_arr</code>. The
underlying data buffers for <code>arr</code> and <code>reversed_arr</code> are <em>shared</em> , so
creating this view is always instantaneous, and does not require any
additional memory allocation or copying for the array contents.</p>
<p>See also, this discussion on NumPy views: How do I create a view onto a NumPy
array?</p>
<hr>
<h6>Possible solutions to performance problems regarding views</h6>
<p>Are you re-creating the view more often than you need to? You should be able
to do something like this:</p>
<div class="code"><pre class="code literal-block"><span class="s s-Atom">arr</span> <span class="o">=</span> <span class="s s-Atom">np</span><span class="p">.</span><span class="nf">array</span><span class="p">(</span><span class="s s-Atom">some_sequence</span><span class="p">)</span>
<span class="s s-Atom">reversed_arr</span> <span class="o">=</span> <span class="s s-Atom">arr</span><span class="p">[</span><span class="o">::-</span><span class="mi">1</span><span class="p">]</span>

<span class="nf">do_something</span><span class="p">(</span><span class="s s-Atom">arr</span><span class="p">)</span>
<span class="nf">look_at</span><span class="p">(</span><span class="s s-Atom">reversed_arr</span><span class="p">)</span>
<span class="nf">do_something_else</span><span class="p">(</span><span class="s s-Atom">arr</span><span class="p">)</span>
<span class="nf">look_at</span><span class="p">(</span><span class="s s-Atom">reversed_arr</span><span class="p">)</span>
</pre></div>

<p>I'm not a numpy expert, but this seems like it would be the fastest way to do
things in numpy. If this is what you are already doing, I don't think you can
improve on it.</p>
<p><br></p>
<h3>Suggest</h3>
<div class="code"><pre class="code literal-block"><span class="s s-Atom">a</span><span class="p">[</span><span class="o">::-</span><span class="mi">1</span><span class="p">]</span>
</pre></div>

<p>only creates a view, so it's a constant-time operation (and as such doesn't
take longer as the array grows). If you need the array to be contiguous (for
example because you're performing many vector operations with it),
<code>ascontiguousarray</code> is about as fast as <code>flipud</code>/<code>fliplr</code>:</p>
<p><img alt="enter image description here" src="images/QTJga.png"></p>
<hr>
<p>Code to generate the plot:</p>
<div class="code"><pre class="code literal-block"><span class="s s-Atom">import</span> <span class="s s-Atom">numpy</span>
<span class="s s-Atom">import</span> <span class="s s-Atom">perfplot</span>


<span class="s s-Atom">perfplot</span><span class="p">.</span><span class="nf">show</span><span class="p">(</span>
    <span class="s s-Atom">setup</span><span class="o">=</span><span class="s s-Atom">lambda</span> <span class="s s-Atom">n</span><span class="p">:</span> <span class="s s-Atom">numpy</span><span class="p">.</span><span class="s s-Atom">random</span><span class="p">.</span><span class="nf">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="s s-Atom">n</span><span class="p">),</span>
    <span class="s s-Atom">kernels</span><span class="o">=</span><span class="p">[</span>
        <span class="s s-Atom">lambda</span> <span class="s s-Atom">a</span><span class="p">:</span> <span class="s s-Atom">a</span><span class="p">[</span><span class="o">::-</span><span class="mi">1</span><span class="p">],</span>
        <span class="s s-Atom">lambda</span> <span class="s s-Atom">a</span><span class="p">:</span> <span class="s s-Atom">numpy</span><span class="p">.</span><span class="nf">ascontiguousarray</span><span class="p">(</span><span class="s s-Atom">a</span><span class="p">[</span><span class="o">::-</span><span class="mi">1</span><span class="p">]),</span>
        <span class="s s-Atom">lambda</span> <span class="s s-Atom">a</span><span class="p">:</span> <span class="s s-Atom">numpy</span><span class="p">.</span><span class="nf">fliplr</span><span class="p">([</span><span class="s s-Atom">a</span><span class="p">])[</span><span class="mi">0</span><span class="p">],</span>
    <span class="p">],</span>
    <span class="s s-Atom">labels</span><span class="o">=</span><span class="p">[</span><span class="s2">"a[::-1]"</span><span class="p">,</span> <span class="s2">"ascontiguousarray(a[::-1])"</span><span class="p">,</span> <span class="s2">"fliplr"</span><span class="p">],</span>
    <span class="s s-Atom">n_range</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span> <span class="s s-Atom">**</span> <span class="s s-Atom">k</span> <span class="s s-Atom">for</span> <span class="s s-Atom">k</span> <span class="s s-Atom">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">25</span><span class="p">)],</span>
    <span class="s s-Atom">xlabel=</span><span class="s2">"len(a)"</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/should-ol-ul-be-inside-p-or-outside/" class="u-url">Should ol/ul be inside &lt;p&gt; or outside?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/should-ol-ul-be-inside-p-or-outside/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T09:29:19+08:00" itemprop="datePublished" title="2023-03-05 09:29">2023-03-05 09:29</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Which is standard compliant between these two?</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;p&gt;</span>Text<span class="w"> </span>text<span class="w"> </span>text<span class="w"> </span>...
<span class="w">    </span><span class="nt">&lt;ol&gt;</span>
<span class="w">        </span><span class="nt">&lt;li&gt;</span>First<span class="w"> </span>element<span class="nt">&lt;/li&gt;</span>
<span class="w">    </span><span class="nt">&lt;/ol&gt;</span>
<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;p&gt;</span>
<span class="w">    </span>Other<span class="w"> </span>text<span class="w"> </span>text<span class="w"> </span>...
<span class="nt">&lt;/p&gt;</span>
</pre></div>

<h3>OR</h3>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;p&gt;</span>
<span class="w">    </span>Text<span class="w"> </span>text<span class="w"> </span>text<span class="w"> </span>...
<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;ol&gt;</span>
<span class="w">    </span><span class="nt">&lt;li&gt;</span>First<span class="w"> </span>element<span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ol&gt;</span>
<span class="nt">&lt;p&gt;</span>
<span class="w">    </span>Other<span class="w"> </span>text<span class="w"> </span>text<span class="w"> </span>...
<span class="nt">&lt;/p&gt;</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>The short answer is that <code>ol</code> elements are not legally allowed inside <code>p</code>
elements.</p>
<p>To see why, let's go to the spec! If you can get comfortable with the HTML
spec, it will answer many of your questions and curiosities. You want to know
if an <code>ol</code> can live inside a <code>p</code>. So…</p>
<blockquote>
<p>4.5.1 The <code>p</code> element:
</p>
<blockquote>
<p><strong>Categories:</strong> Flow content, Palpable content.<br><strong>Content model:</strong> Phrasing content.</p>
</blockquote>
</blockquote>
<hr>
<blockquote>
<p>4.5.5 The <code>ol</code> element:
</p>
<blockquote>
<p><strong>Categories:</strong> Flow content.<br><strong>Content model</strong> : Zero or more li and script-supporting elements.</p>
</blockquote>
</blockquote>
<p>The first part says that <code>p</code> elements can only contain phrasing content (which
are “inline” elements like <code>span</code> and <code>strong</code>).</p>
<p>The second part says <code>ol</code>s are flow content (“block” elements like <code>p</code> and
<code>div</code>). So they <strong>can't</strong> be used inside a <code>p</code>.</p>
<hr>
<p><code>ol</code>s and other <code>flow content</code> can be used in in some other elements like
<code>div</code>:</p>
<blockquote>
<p>4.5.13 The <code>div</code> element:
</p>
<blockquote>
<p><strong>Categories:</strong> Flow content, Palpable content.<br><strong>Content model:</strong> Flow content.</p>
</blockquote>
</blockquote>
<p><br></p>
<h3>Suggest</h3>
<p>The second. The first is invalid.</p>
<ul>
<li>A paragraph cannot contain a list.</li>
<li>A list cannot contain a paragraph unless that paragraph is contained entirely within a single list item.</li>
</ul>
<p>A browser will handle it like so:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;p&gt;</span>tetxtextextete<span class="w"> </span>
<span class="cm">&lt;!-- Start of paragraph --&gt;</span>
<span class="nt">&lt;ol&gt;</span>
<span class="cm">&lt;!-- Start of ordered list. Paragraphs cannot contain lists. Insert &lt;/p&gt; --&gt;</span>
<span class="nt">&lt;li&gt;</span>first<span class="w"> </span>element<span class="nt">&lt;/li&gt;&lt;/ol&gt;</span>
<span class="cm">&lt;!-- A list item element. End of list --&gt;</span>
<span class="nt">&lt;/p&gt;</span>
<span class="cm">&lt;!-- End of paragraph, but not inside paragraph, discard this tag to recover from the error --&gt;</span>
<span class="nt">&lt;p&gt;</span>other<span class="w"> </span>textetxet<span class="nt">&lt;/p&gt;</span>
<span class="cm">&lt;!-- Another paragraph --&gt;</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2676.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2674.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2488) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2488.html">
<link rel="prev" href="index-2489.html" type="text/html">
<link rel="next" href="index-2487.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-serializable-and-when-should-i-use-it/" class="u-url">What is [Serializable] and when should I use it?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-serializable-and-when-should-i-use-it/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T19:52:43+08:00" itemprop="datePublished" title="2023-03-04 19:52">2023-03-04 19:52</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I found out that some classes use the <code>[Serializable]</code> attribute.</p>
<ul>
<li>What is it? </li>
<li>When should I use it? </li>
<li>What kinds of benefits will I get? </li>
</ul>
<p><br><br></p>
<h2>Answer</h2>
<h4>What is it?</h4>
<p>When you create an object in a .Net framework application, you don't need to
think about how the data is stored in memory. Because the .Net Framework takes
care of that for you. However, if you want to store the contents of an object
to a file, send an object to another process or transmit it across the
network, you do have to think about how the object is represented because you
will need to convert to a different format. This conversion is called
SERIALIZATION.</p>
<h4>Uses for Serialization</h4>
<p>Serialization allows the developer to save the state of an object and recreate
it as needed, providing storage of objects as well as data exchange. Through
serialization, a developer can perform actions like sending the object to a
remote application by means of a Web Service, passing an object from one
domain to another, passing an object through a firewall as an XML string, or
maintaining security or user-specific information across applications.</p>
<p>Apply <code>SerializableAttribute</code> to a type to indicate that instances of this
type can be serialized. Apply the <code>SerializableAttribute</code> even if the class
also implements the <code>ISerializable</code> interface to control the serialization
process.</p>
<p>All the public and private fields in a type that are marked by the
<code>SerializableAttribute</code> are serialized by default, unless the type implements
the <code>ISerializable</code> interface to override the serialization process. The
default serialization process excludes fields that are marked with
<code>NonSerializedAttribute</code>. If a field of a serializable type contains a
pointer, a handle, or some other data structure that is specific to a
particular environment, and cannot be meaningfully reconstituted in a
different environment, then you might want to apply <code>NonSerializedAttribute</code>
to that field.</p>
<p>See MSDN for more details.</p>
<p><strong>Edit 1</strong></p>
<blockquote>
<p>Any reason to not mark something as serializable</p>
</blockquote>
<p>When transferring or saving data, you need to send or save only the required
data. So there will be less transfer delays and storage issues. So you can opt
out unnecessary chunk of data when serializing.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Since the original question was about the SerializableAttribute, it should be
noted that this attribute only applies when using the BinaryFormatter or
SoapFormatter.</p>
<p>It is a bit confusing, unless you really pay attention to the details, as to
when to use it and what its actual purpose is.</p>
<p>It has NOTHING to do with XML or JSON serialization.</p>
<p>Used with the SerializableAttribute are the ISerializable Interface and
SerializationInfo Class. These are also only used with the BinaryFormatter or
SoapFormatter.</p>
<p>Unless you intend to serialize your class using Binary or Soap, do not bother
marking your class as [Serializable]. XML and JSON serializers are not even
aware of its existence.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/should-i-use-int-or-int32/" class="u-url">Should I use int or Int32</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/should-i-use-int-or-int32/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T19:51:20+08:00" itemprop="datePublished" title="2023-03-04 19:51">2023-03-04 19:51</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>In C#, <code>int</code> and <code>Int32</code> are the same thing, but I've read a number of times
that <code>int</code> is preferred over <code>Int32</code> with no reason given. Is there a reason,
and should I care?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>ECMA-334:2006 <em>C# Language Specification</em> (p18):</p>
<blockquote>
<p>Each of the predefined types is shorthand for a system-provided type. For
example, the keyword <code>int</code> refers to the struct <code>System.Int32</code>. As a matter
of style, use of the keyword is favoured over use of the complete system
type name.</p>
</blockquote>
<p><br></p>
<h3>Suggest</h3>
<p>ECMA-334:2006 <em>C# Language Specification</em> (p18):</p>
<blockquote>
<p>Each of the predefined types is shorthand for a system-provided type. For
example, the keyword <code>int</code> refers to the struct <code>System.Int32</code>. As a matter
of style, use of the keyword is favoured over use of the complete system
type name.</p>
</blockquote>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/java-string-split-removed-empty-values/" class="u-url">Java String split removed empty values</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/java-string-split-removed-empty-values/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T19:50:04+08:00" itemprop="datePublished" title="2023-03-04 19:50">2023-03-04 19:50</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am trying to split the Value using a separator. But I am finding the
surprising results</p>
<div class="code"><pre class="code literal-block">String data = "5|6|7||8|9||";
String[] split = data.split("\\|");
System.out.println(split.length);
</pre></div>

<p>I am expecting to get 8 values. <strong>[5,6,7,EMPTY,8,9,EMPTY,EMPTY]</strong> But I am
getting only 6 values.</p>
<p>Any idea and how to fix. No matter EMPTY value comes at anyplace, it should be
in array.</p>
<p><br><br></p>
<h2>Answer</h2>
<p><code>split(delimiter)</code> by default removes trailing empty strings from result
array. To turn this mechanism off we need to use overloaded version of
<code>split(delimiter, limit)</code> with <code>limit</code> set to negative value like</p>
<div class="code"><pre class="code literal-block">String[] split = data.split("\\|", -1);
</pre></div>

<p>Little more details:<br><code>split(regex)</code> internally returns result of <code>split(regex, 0)</code> and in
documentation of this method you can find (emphasis mine)</p>
<blockquote>
<p>The <code>limit</code> parameter controls the number of times the pattern is applied
and therefore affects the length of the resulting array.</p>
<p>If the limit <code>n</code> is <em>greater than zero</em> then the pattern will be applied at
most n - 1 times, the array's length will be no greater than n, and the
array's last entry will contain all input beyond the last matched delimiter.</p>
<p>If <code>n</code> is <strong>non-positive</strong> then the pattern will be applied as many times as
possible and the array can have any length.</p>
<p>If <code>n</code> is <strong>zero</strong> then the pattern will be applied as many times as
possible, the array can have any length, and <strong>trailing empty strings will
be discarded</strong>.</p>
</blockquote>
<p><strong>Exception</strong> :</p>
<p>It is worth mentioning that removing trailing empty string makes sense <em>only
if such empty strings were created by the split mechanism</em>. So for
<code>"".split(anything)</code> since we can't split <code>""</code> farther we will get as result
<code>[""]</code> array.<br>
It happens because split didn't happen here, so <code>""</code> despite being empty and
trailing represents <em>original</em> string, not empty string which was <em>created</em> by
splitting process.</p>
<p><br></p>
<h3>Suggest</h3>
<p>From the documentation of <code>String.split(String regex)</code>:</p>
<blockquote>
<p>This method works as if by invoking the two-argument split method with the
given expression and a limit argument of zero. <strong>Trailing empty strings are
therefore not included in the resulting array.</strong></p>
</blockquote>
<p>So you will have to use the two argument version <code>String.split(String regex,
int limit)</code> with a negative value:</p>
<div class="code"><pre class="code literal-block">String[] split = data.split("\\|",-1);
</pre></div>

<p>Doc:</p>
<blockquote>
<p>If the limit n is greater than zero then the pattern will be applied at most
n - 1 times, the array's length will be no greater than n, and the array's
last entry will contain all input beyond the last matched delimiter. <strong>If n
is non-positive then the pattern will be applied as many times as possible
and the array can have any length. If n is zero then the pattern will be
applied as many times as possible, the array can have any length, and
trailing empty strings will be discarded.</strong></p>
</blockquote>
<p>This will not leave out any empty elements, including the trailing ones.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2489.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2487.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

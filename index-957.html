<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 957) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-957.html">
<link rel="prev" href="index-958.html" type="text/html">
<link rel="next" href="index-956.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/authentication-plugin-caching-sha2-password-cannot-be-loaded/" class="u-url">Authentication plugin 'caching_sha2_password' cannot be loaded</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/authentication-plugin-caching-sha2-password-cannot-be-loaded/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T20:37:34+08:00" itemprop="datePublished" title="2023-02-17 20:37">2023-02-17 20:37</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am connecting MySQL - 8.0 with MySQL Workbench and getting the below error:</p>
<blockquote>
<p>Authentication plugin 'caching_sha2_password' cannot be loaded:
dlopen(/usr/local/mysql/lib/plugin/caching_sha2_password.so, 2): image not
found</p>
</blockquote>
<p>I have tried with other client tool as well.</p>
<p>Any solution for this?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can change the encryption of the user's password by altering the user with
below Alter command :</p>
<blockquote>
<p>ALTER USER 'username'@'ip_address' IDENTIFIED WITH mysql_native_password BY
'password';</p>
</blockquote>
<p><strong>OR</strong></p>
<p>We can avoid this error by make it work with old password plugin:</p>
<p>First change the authentication plugin in <strong>my.cnf file for Linux / my.ini
file in Windows</strong> :</p>
<blockquote>
<p>[mysqld]</p>
<p>default_authentication_plugin=mysql_native_password</p>
</blockquote>
<p>Restart the mysql server to take the changes in affect and try connecting via
MySQL with any mysql client.</p>
<p>If still unable to connect and getting the below error:</p>
<div class="code"><pre class="code literal-block"><span class="n">Unable</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="nb">load</span><span class="w"> </span><span class="n">plugin</span><span class="w"> </span><span class="s1">'caching_sha2_password'</span>
</pre></div>

<p>It means your user needs the above plugin. So try creating new user with
create user or grant command after changing default plugin. then new user need
the native plugin and you will able to connect MySQL.</p>
<p>Thanks</p>
<p><br></p>
<h3>Suggest</h3>
<p>Note: For MAC OS</p>
<ol>
<li>Open MySQL from System Preferences &gt; Initialize Database &gt;</li>
<li>Type your new password.</li>
<li>Choose 'Use legacy password'</li>
<li>Start the Server again.</li>
<li>Now connect the MySQL Workbench</li>
</ol>
<p><img alt="Image description" src="images/qGdmc.jpg"></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-exactly-is-nullptr/" class="u-url">What exactly is nullptr?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-exactly-is-nullptr/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T20:36:34+08:00" itemprop="datePublished" title="2023-02-17 20:36">2023-02-17 20:36</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>We now have C++11 with many new features. An interesting and confusing one (at
least for me) is the new <code>nullptr</code>.</p>
<p>Well, no need anymore for the nasty macro <code>NULL</code>.</p>
<div class="code"><pre class="code literal-block">int* x = nullptr;
myclass* obj = nullptr;
</pre></div>

<p>Still, I am not getting how <code>nullptr</code> works. For example, Wikipedia article
says:</p>
<blockquote>
<p>C++11 corrects this by introducing a new <strong>keyword</strong> to serve as a
distinguished null pointer constant: nullptr. It is of <strong>type nullptr_t</strong> ,
which is implicitly convertible and comparable to any pointer type or
pointer-to-member type. It is not implicitly convertible or comparable to
integral types, except for bool.</p>
</blockquote>
<p>How is it a keyword and an instance of a type?</p>
<p>Also, do you have another example (beside the Wikipedia one) where <code>nullptr</code>
is superior to good old <code>0</code>?</p>
<p><br><br></p>
<h2>Answer</h2>
<blockquote>
<p>How is it a keyword and an instance of a type?</p>
</blockquote>
<p>This isn't surprising. Both <code>true</code> and <code>false</code> are keywords and as literals
they have a type ( <code>bool</code> ). <code>nullptr</code> is a <em>pointer literal</em> of type
<code>std::nullptr_t</code>, and it's a prvalue (you cannot take the address of it using
<code>&amp;</code>).</p>
<ul>
<li>
<p><code>4.10</code> about pointer conversion says that a prvalue of type <code>std::nullptr_t</code> is a null pointer constant, and that an integral null pointer constant can be converted to <code>std::nullptr_t</code>. The opposite direction is not allowed. This allows overloading a function for both pointers and integers, and passing <code>nullptr</code> to select the pointer version. Passing <code>NULL</code> or <code>0</code> would confusingly select the <code>int</code> version. </p>
</li>
<li>
<p>A cast of <code>nullptr_t</code> to an integral type needs a <code>reinterpret_cast</code>, and has the same semantics as a cast of <code>(void*)0</code> to an integral type (mapping implementation defined). A <code>reinterpret_cast</code> cannot convert <code>nullptr_t</code> to any pointer type. Rely on the implicit conversion if possible or use <code>static_cast</code>. </p>
</li>
<li>
<p>The Standard requires that <code>sizeof(nullptr_t)</code> be <code>sizeof(void*)</code>. </p>
</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<h3>Why nullptr in C++11? What is it? Why is NULL not sufficient?</h3>
<p>C++ expert Alex Allain says it perfectly here (my emphasis added in bold):</p>
<blockquote>
<p>...imagine you have the following two function declarations:</p>
<div class="code"><pre class="code literal-block">void func(int n);
void func(char *s);

func( NULL ); // guess which function gets called?
</pre></div>

<p><strong>Although it looks like the second function will be called--you are, after
all, passing in what seems to be a pointer--it's really the first function
that will be called! The trouble is that because NULL is 0, and 0 is an
integer, the first version of func will be called instead.</strong> This is the
kind of thing that, yes, doesn't happen all the time, but when it does
happen, is extremely frustrating and confusing. If you didn't know the
details of what is going on, it might well look like a compiler bug. <strong>A
language feature that looks like a compiler bug is, well, not something you
want.</strong></p>
<p><strong>Enter nullptr. In C++11, nullptr is a new keyword that can (and should!)
be used to represent NULL pointers;</strong> in other words, wherever you were
writing NULL before, you should use nullptr instead. <strong>It's no more clear to
you, the programmer</strong> , (everyone knows what NULL means), <strong>but it's more
explicit to the compiler</strong> , which will no longer see 0s everywhere being
used to have special meaning when used as a pointer.</p>
</blockquote>
<p>Allain ends his article with:</p>
<blockquote>
<p>Regardless of all this--the rule of thumb for C++11 is simply to start using
<code>nullptr</code> whenever you would have otherwise used <code>NULL</code> in the past.</p>
</blockquote>
<p>(My words):</p>
<p>Lastly, don't forget that <code>nullptr</code> is an object--a class. It can be used
anywhere <code>NULL</code> was used before, but if you need its type for some reason,
it's type can be extracted with <code>decltype(nullptr)</code>, or directly described as
<code>std::nullptr_t</code>, which is simply a <code>typedef</code> of <code>decltype(nullptr)</code>, as shown
here:</p>
<p><strong>Defined in header<code>&lt;cstddef&gt;</code>:</strong></p>
<p>See:</p>
<ol>
<li>https://en.cppreference.com/w/cpp/types/nullptr_t</li>
<li>
<p>and https://en.cppreference.com/w/cpp/header/cstddef</p>
<p>namespace std
{
typedef decltype(nullptr) nullptr_t; // (since C++11)
// OR (same thing, but using the C++ keyword <code>using</code> instead of the C and C++ 
// keyword <code>typedef</code>):
using nullptr_t = decltype(nullptr); // (since C++11)
} // namespace std</p>
</li>
</ol>
<h3>References:</h3>
<ol>
<li>Cprogramming.com: Better types in C++11 - nullptr, enum classes (strongly typed enumerations) and cstdint</li>
<li>https://en.cppreference.com/w/cpp/language/decltype</li>
<li>https://en.cppreference.com/w/cpp/types/nullptr_t</li>
<li>https://en.cppreference.com/w/cpp/header/cstddef</li>
<li>https://en.cppreference.com/w/cpp/keyword/using</li>
<li>https://en.cppreference.com/w/cpp/keyword/typedef</li>
</ol>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/reactjs-does-render-get-called-any-time-setstate-is-called/" class="u-url">ReactJS - Does render get called any time "setState" is called?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/reactjs-does-render-get-called-any-time-setstate-is-called/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T20:36:05+08:00" itemprop="datePublished" title="2023-02-17 20:36">2023-02-17 20:36</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Does React re-render all components and sub components every time <code>setState()</code>
is called?</p>
<p>If so, why? I thought the idea was that React only rendered as little as
needed - when state changed.</p>
<p>In the following simple example, both classes render again when the text is
clicked, despite the fact that the state doesn't change on subsequent clicks,
as the onClick handler always sets the <code>state</code> to the same value:</p>
<div class="code"><pre class="code literal-block">this.setState({'test':'me'});
</pre></div>

<p>I would've expected that renders would only happen if <code>state</code> data had
changed.</p>
<p>Here's the code of the example, as a JS Fiddle, and embedded snippet:</p>
<div class="code"><pre class="code literal-block">var<span class="w"> </span>TimeInChild<span class="w"> </span>=<span class="w"> </span>React.createClass({
<span class="w">    </span>render:<span class="w"> </span>function()<span class="w"> </span>{
<span class="w">        </span>var<span class="w"> </span>t<span class="w"> </span>=<span class="w"> </span>new<span class="w"> </span>Date().getTime();

<span class="w">        </span>return<span class="w"> </span>(
<span class="w">            </span><span class="nt">&lt;p&gt;</span>Time<span class="w"> </span>in<span class="w"> </span>child:{t}<span class="nt">&lt;/p&gt;</span>
<span class="w">        </span>);
<span class="w">    </span>}
});

var<span class="w"> </span>Main<span class="w"> </span>=<span class="w"> </span>React.createClass({
<span class="w">    </span>onTest:<span class="w"> </span>function()<span class="w"> </span>{
<span class="w">        </span>this.setState({'test':'me'});
<span class="w">    </span>},

<span class="w">    </span>render:<span class="w"> </span>function()<span class="w"> </span>{
<span class="w">        </span>var<span class="w"> </span>currentTime<span class="w"> </span>=<span class="w"> </span>new<span class="w"> </span>Date().getTime();

<span class="w">        </span>return<span class="w"> </span>(
<span class="w">            </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">onClick=</span><span class="s">{this.onTest}</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;p&gt;</span>Time<span class="w"> </span>in<span class="w"> </span>main:{currentTime}<span class="nt">&lt;/p&gt;</span>
<span class="w">            </span><span class="nt">&lt;p&gt;</span>Click<span class="w"> </span>me<span class="w"> </span>to<span class="w"> </span>update<span class="w"> </span>time<span class="nt">&lt;/p&gt;</span>
<span class="w">            </span><span class="nt">&lt;TimeInChild/&gt;</span>
<span class="w">            </span><span class="nt">&lt;/div&gt;</span>
<span class="w">        </span>);
<span class="w">    </span>}
});

ReactDOM.render(<span class="nt">&lt;Main/&gt;</span>,<span class="w"> </span>document.body);


<span class="nt">&lt;script</span><span class="w"> </span><span class="na">src=</span><span class="s">"https://cdnjs.cloudflare.com/ajax/libs/react/15.0.0/react.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script</span><span class="w"> </span><span class="na">src=</span><span class="s">"https://cdnjs.cloudflare.com/ajax/libs/react/15.0.0/react-dom.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<blockquote>
<p>Does React re-render all components and sub-components every time setState
is called?</p>
</blockquote>
<p>By default - yes.</p>
<p>There is a method <strong>boolean shouldComponentUpdate(object nextProps, object
nextState)</strong> , each component has this method and it's responsible to
determine "should component update (run <em>render</em> function)?" every time you
change <em>state</em> or pass new <em>props</em> from parent component.</p>
<p>You can write your own implementation of <em>shouldComponentUpdate</em> method for
your component, but default implementation always returns true - meaning
always re-run render function.</p>
<p>Quote from official docs http://facebook.github.io/react/docs/component-
specs.html#updating-shouldcomponentupdate</p>
<blockquote>
<p>By default, shouldComponentUpdate always returns true to prevent subtle bugs
when the state is mutated in place, but if you are careful to always treat
the state as immutable and to read-only from props and state in render()
then you can override shouldComponentUpdate with an implementation that
compares the old props and state to their replacements.</p>
</blockquote>
<p>Next part of your question:</p>
<blockquote>
<p>If so, why? I thought the idea was that React only rendered as little as
needed - when the state changed.</p>
</blockquote>
<p>There are two steps of what we may call "render":</p>
<ol>
<li>
<p>Virtual DOM renders: when <em>render</em> method is called it returns a new <em>virtual dom</em> structure of the component. As I mentioned before, this <em>render</em> method is called always when you call <em>setState()</em> , because <em>shouldComponentUpdate</em> always returns true by default. So, by default, there is no optimization here in React.</p>
</li>
<li>
<p>Native DOM renders: React changes real DOM nodes in your browser only if they were changed in the Virtual DOM and as little as needed - this is that great React's feature which optimizes real DOM mutation and makes React fast.</p>
</li>
</ol>
<p><br></p>
<h3>Suggest</h3>
<p>No, React doesn't render everything when the state changes.</p>
<ul>
<li>
<p>Whenever a component is dirty (its state changed), that component and its children are re-rendered. This, to some extent, is to re-render as little as possible. The only time when render isn't called is when some branch is moved to another root, where theoretically we don't need to re-render anything. In your example, <code>TimeInChild</code> is a child component of <code>Main</code>, so it also gets re-rendered when the state of <code>Main</code> changes.</p>
</li>
<li>
<p>React doesn't compare state data. When <code>setState</code> is called, it marks the component as dirty (which means it needs to be re-rendered). The important thing to note is that although <code>render</code> method of the component is called, the real DOM is only updated if the output is different from the current DOM tree (a.k.a diffing between the Virtual DOM tree and document's DOM tree). In your example, even though the <code>state</code> data hasn't changed, the time of last change did, making Virtual DOM different from the document's DOM, hence why the HTML is updated.</p>
</li>
</ul>
</div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-958.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-956.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1981) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1981.html">
<link rel="prev" href="index-1982.html" type="text/html">
<link rel="next" href="index-1980.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/rest-soap-endpoints-for-a-wcf-service/" class="u-url">REST / SOAP endpoints for a WCF service</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/rest-soap-endpoints-for-a-wcf-service/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T14:01:46+08:00" itemprop="datePublished" title="2023-03-03 14:01">2023-03-03 14:01</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a WCF service and I want to expose it as both a RESTfull service and as
a SOAP service. Anyone has done something like this before?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can expose the service in two different endpoints. the SOAP one can use
the binding that support SOAP e.g. basicHttpBinding, the RESTful one can use
the webHttpBinding. I assume your REST service will be in JSON, in that case,
you need to configure the two endpoints with the following behaviour
configuration</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;endpointBehaviors&gt;</span>
<span class="w">  </span><span class="nt">&lt;behavior</span><span class="w"> </span><span class="na">name=</span><span class="s">"jsonBehavior"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;enableWebScript/&gt;</span>
<span class="w">  </span><span class="nt">&lt;/behavior&gt;</span>
<span class="nt">&lt;/endpointBehaviors&gt;</span>
</pre></div>

<p>An example of endpoint configuration in your scenario is</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;services&gt;</span>
<span class="w">  </span><span class="nt">&lt;service</span><span class="w"> </span><span class="na">name=</span><span class="s">"TestService"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;endpoint</span><span class="w"> </span><span class="na">address=</span><span class="s">"soap"</span><span class="w"> </span><span class="na">binding=</span><span class="s">"basicHttpBinding"</span><span class="w"> </span><span class="na">contract=</span><span class="s">"ITestService"</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;endpoint</span><span class="w"> </span><span class="na">address=</span><span class="s">"json"</span><span class="w"> </span><span class="na">binding=</span><span class="s">"webHttpBinding"</span><span class="w">  </span><span class="na">behaviorConfiguration=</span><span class="s">"jsonBehavior"</span><span class="w"> </span><span class="na">contract=</span><span class="s">"ITestService"</span><span class="nt">/&gt;</span>
<span class="w">  </span><span class="nt">&lt;/service&gt;</span>
<span class="nt">&lt;/services&gt;</span>
</pre></div>

<p>so, the service will be available at</p>
<ul>
<li>http://www.example.com/soap</li>
<li>http://www.example.com/json</li>
</ul>
<p>Apply [WebGet] to the operation contract to make it RESTful. e.g.</p>
<div class="code"><pre class="code literal-block"><span class="k">public</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="n">ITestService</span>
<span class="err">{</span>
<span class="w">   </span><span class="o">[</span><span class="n">OperationContract</span><span class="o">]</span>
<span class="w">   </span><span class="o">[</span><span class="n">WebGet</span><span class="o">]</span>
<span class="w">   </span><span class="n">string</span><span class="w"> </span><span class="n">HelloWorld</span><span class="p">(</span><span class="n">string</span><span class="w"> </span><span class="nc">text</span><span class="p">)</span>
<span class="err">}</span>
</pre></div>

<p>Note, if the REST service is not in JSON, parameters of the operations can not
contain complex type.</p>
<h3>Reply to the post for SOAP and RESTful POX(XML)</h3>
<p>For plain old XML as return format, this is an example that would work both
for SOAP and XML.</p>
<div class="code"><pre class="code literal-block"><span class="k">[ServiceContract(Namespace = "http://test")]</span>
<span class="na">public interface ITestService</span>
<span class="na">{</span>
<span class="w">    </span><span class="k">[OperationContract]</span>
<span class="w">    </span><span class="k">[WebGet(UriTemplate = "accounts/{id}")]</span>
<span class="w">    </span><span class="na">Account[] GetAccount(string id);</span>
<span class="na">}</span>
</pre></div>

<p><strong>POX behavior for REST</strong> Plain Old XML</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;behavior</span><span class="w"> </span><span class="na">name=</span><span class="s">"poxBehavior"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;webHttp/&gt;</span>
<span class="nt">&lt;/behavior&gt;</span>
</pre></div>

<p><strong>Endpoints</strong></p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;services&gt;</span>
<span class="w">  </span><span class="nt">&lt;service</span><span class="w"> </span><span class="na">name=</span><span class="s">"TestService"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;endpoint</span><span class="w"> </span><span class="na">address=</span><span class="s">"soap"</span><span class="w"> </span><span class="na">binding=</span><span class="s">"basicHttpBinding"</span><span class="w"> </span><span class="na">contract=</span><span class="s">"ITestService"</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;endpoint</span><span class="w"> </span><span class="na">address=</span><span class="s">"xml"</span><span class="w"> </span><span class="na">binding=</span><span class="s">"webHttpBinding"</span><span class="w">  </span><span class="na">behaviorConfiguration=</span><span class="s">"poxBehavior"</span><span class="w"> </span><span class="na">contract=</span><span class="s">"ITestService"</span><span class="nt">/&gt;</span>
<span class="w">  </span><span class="nt">&lt;/service&gt;</span>
<span class="nt">&lt;/services&gt;</span>
</pre></div>

<p>Service will be available at</p>
<ul>
<li>http://www.example.com/soap</li>
<li>http://www.example.com/xml</li>
</ul>
<p><strong>REST request</strong> try it in browser,</p>
<blockquote>
<p>http://www.example.com/xml/accounts/A123</p>
</blockquote>
<p><strong>SOAP request</strong> client endpoint configuration for SOAP service after adding
the service reference,</p>
<div class="code"><pre class="code literal-block"><span class="w">  </span><span class="nt">&lt;client&gt;</span>
<span class="w">    </span><span class="nt">&lt;endpoint</span><span class="w"> </span><span class="na">address=</span><span class="s">"http://www.example.com/soap"</span><span class="w"> </span><span class="na">binding=</span><span class="s">"basicHttpBinding"</span>
<span class="w">      </span><span class="na">contract=</span><span class="s">"ITestService"</span><span class="w"> </span><span class="na">name=</span><span class="s">"BasicHttpBinding_ITestService"</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">  </span><span class="nt">&lt;/client&gt;</span>
</pre></div>

<p>in C#</p>
<div class="code"><pre class="code literal-block">TestServiceClient client = new TestServiceClient();
client.GetAccount("A123");
</pre></div>

<p>Another way of doing it is to expose two different service contract and each
one with specific configuration. This may generate some duplicates at code
level, however at the end of the day, you want to make it working.</p>
<p><br></p>
<h3>Suggest</h3>
<p>This post has already a very good answer by "Community wiki" and I also
recommend to look at Rick Strahl's Web Blog, there are many good posts about
WCF Rest like this.</p>
<p>I used both to get this kind of MyService-service... Then I can use the REST-
interface from jQuery or SOAP from Java.</p>
<p>This is from my Web.Config:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;system.serviceModel&gt;</span>
<span class="w"> </span><span class="nt">&lt;services&gt;</span>
<span class="w">  </span><span class="nt">&lt;service</span><span class="w"> </span><span class="na">name=</span><span class="s">"MyService"</span><span class="w"> </span><span class="na">behaviorConfiguration=</span><span class="s">"MyServiceBehavior"</span><span class="nt">&gt;</span>
<span class="w">   </span><span class="nt">&lt;endpoint</span><span class="w"> </span><span class="na">name=</span><span class="s">"rest"</span><span class="w"> </span><span class="na">address=</span><span class="s">""</span><span class="w"> </span><span class="na">binding=</span><span class="s">"webHttpBinding"</span><span class="w"> </span><span class="na">contract=</span><span class="s">"MyService"</span><span class="w"> </span><span class="na">behaviorConfiguration=</span><span class="s">"restBehavior"</span><span class="nt">/&gt;</span>
<span class="w">   </span><span class="nt">&lt;endpoint</span><span class="w"> </span><span class="na">name=</span><span class="s">"mex"</span><span class="w"> </span><span class="na">address=</span><span class="s">"mex"</span><span class="w"> </span><span class="na">binding=</span><span class="s">"mexHttpBinding"</span><span class="w"> </span><span class="na">contract=</span><span class="s">"MyService"</span><span class="nt">/&gt;</span>
<span class="w">   </span><span class="nt">&lt;endpoint</span><span class="w"> </span><span class="na">name=</span><span class="s">"soap"</span><span class="w"> </span><span class="na">address=</span><span class="s">"soap"</span><span class="w"> </span><span class="na">binding=</span><span class="s">"basicHttpBinding"</span><span class="w"> </span><span class="na">contract=</span><span class="s">"MyService"</span><span class="nt">/&gt;</span>
<span class="w">  </span><span class="nt">&lt;/service&gt;</span>
<span class="w"> </span><span class="nt">&lt;/services&gt;</span>
<span class="w"> </span><span class="nt">&lt;behaviors&gt;</span>
<span class="w">  </span><span class="nt">&lt;serviceBehaviors&gt;</span>
<span class="w">   </span><span class="nt">&lt;behavior</span><span class="w"> </span><span class="na">name=</span><span class="s">"MyServiceBehavior"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;serviceMetadata</span><span class="w"> </span><span class="na">httpGetEnabled=</span><span class="s">"true"</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;serviceDebug</span><span class="w"> </span><span class="na">includeExceptionDetailInFaults=</span><span class="s">"true"</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">   </span><span class="nt">&lt;/behavior&gt;</span>
<span class="w">  </span><span class="nt">&lt;/serviceBehaviors&gt;</span>
<span class="w">  </span><span class="nt">&lt;endpointBehaviors&gt;</span>
<span class="w">   </span><span class="nt">&lt;behavior</span><span class="w"> </span><span class="na">name=</span><span class="s">"restBehavior"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;webHttp/&gt;</span>
<span class="w">   </span><span class="nt">&lt;/behavior&gt;</span>
<span class="w">  </span><span class="nt">&lt;/endpointBehaviors&gt;</span>
<span class="w"> </span><span class="nt">&lt;/behaviors&gt;</span>
<span class="nt">&lt;/system.serviceModel&gt;</span>
</pre></div>

<p>And this is my service-class (.svc-codebehind, no interfaces required):</p>
<div class="code"><pre class="code literal-block"><span class="w">    </span>///<span class="w"> </span><span class="nt">&lt;summary&gt;</span><span class="w"> </span>MyService<span class="w"> </span>documentation<span class="w"> </span>here<span class="w"> </span>;)<span class="w"> </span><span class="nt">&lt;/summary&gt;</span>
[ServiceContract(Name<span class="w"> </span>=<span class="w"> </span>"MyService",<span class="w"> </span>Namespace<span class="w"> </span>=<span class="w"> </span>"http://myservice/",<span class="w"> </span>SessionMode<span class="w"> </span>=<span class="w"> </span>SessionMode.NotAllowed)]
//[ServiceKnownType(typeof<span class="w"> </span>(IList<span class="nt">&lt;MyDataContractTypes&gt;</span>))]
[ServiceBehavior(Name<span class="w"> </span>=<span class="w"> </span>"MyService",<span class="w"> </span>Namespace<span class="w"> </span>=<span class="w"> </span>"http://myservice/")]
public<span class="w"> </span>class<span class="w"> </span>MyService
{
<span class="w">    </span>[OperationContract(Name<span class="w"> </span>=<span class="w"> </span>"MyResource1")]
<span class="w">    </span>[WebGet(ResponseFormat<span class="w"> </span>=<span class="w"> </span>WebMessageFormat.Xml,<span class="w"> </span>UriTemplate<span class="w"> </span>=<span class="w"> </span>"MyXmlResource/{key}")]
<span class="w">    </span>public<span class="w"> </span>string<span class="w"> </span>MyResource1(string<span class="w"> </span>key)
<span class="w">    </span>{
<span class="w">        </span>return<span class="w"> </span>"Test:<span class="w"> </span>"<span class="w"> </span>+<span class="w"> </span>key;
<span class="w">    </span>}

<span class="w">    </span>[OperationContract(Name<span class="w"> </span>=<span class="w"> </span>"MyResource2")]
<span class="w">    </span>[WebGet(ResponseFormat<span class="w"> </span>=<span class="w"> </span>WebMessageFormat.Json,<span class="w"> </span>UriTemplate<span class="w"> </span>=<span class="w"> </span>"MyJsonResource/{key}")]
<span class="w">    </span>public<span class="w"> </span>string<span class="w"> </span>MyResource2(string<span class="w"> </span>key)
<span class="w">    </span>{
<span class="w">        </span>return<span class="w"> </span>"Test:<span class="w"> </span>"<span class="w"> </span>+<span class="w"> </span>key;
<span class="w">    </span>}
}
</pre></div>

<p>Actually I use only Json or Xml but those both are here for a demo purpose.
Those are GET-requests to get data. To insert data I would use method with
attributes:</p>
<div class="code"><pre class="code literal-block"><span class="k">[OperationContract(Name = "MyResourceSave")]</span>
<span class="k">[WebInvoke(Method = "POST", ResponseFormat = WebMessageFormat.Json, UriTemplate = "MyJsonResource")]</span>
<span class="na">public string MyResourceSave(string thing){</span>
<span class="w">    </span><span class="na">//...</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-add-a-newline-in-a-markdown-table/" class="u-url">How do I add a newline in a markdown table?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-add-a-newline-in-a-markdown-table/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T14:01:23+08:00" itemprop="datePublished" title="2023-03-03 14:01">2023-03-03 14:01</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have the following cells in a markdown table:</p>
<p>something | something that's rather long and goes on for a very long time |
something else<br>
---|---|---  </p>
<p>I'd like to be able to insert a break in the middle line, so the middle column
isn't so wide. How can I do that in Markdown? Do I need to use HTML tables
instead?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Use an HTML line break (<code>&lt;br /&gt;</code>) to force a line break within a table cell:</p>
<div class="code"><pre class="code literal-block"><span class="c">| something | something that's rather long and </span><span class="nv">&lt;</span><span class="c">br /</span><span class="nv">&gt;</span><span class="c">goes on for a very long time | something else |</span>
<span class="c">|</span><span class="nb">-----------</span><span class="c">|</span><span class="nb">---------------------------------------------------------------</span><span class="c">|</span><span class="nb">----------------</span><span class="c">|</span>
</pre></div>

<p>Rendered:</p>
<p>something | something that's rather long and<br>
goes on for a very long time | something else<br>
---|---|---</p>
<p><br></p>
<h3>Suggest</h3>
<p>When you're exporting to HTML, using <code>&lt;br&gt;</code> works. However, if you're using
pandoc to export to LaTeX/PDF as well, you should use grid tables:</p>
<div class="code"><pre class="code literal-block"><span class="nb">+---------------+---------------+--------------------+</span>
<span class="c">| Fruit         | Price         | Advantages         |</span>
<span class="nb">+</span><span class="c">===============</span><span class="nb">+</span><span class="c">===============</span><span class="nb">+</span><span class="c">====================</span><span class="nb">+</span>
<span class="c">| Bananas       | first line\   | first line\        |</span>
<span class="c">|               | next line     | next line          |</span>
<span class="nb">+---------------+---------------+--------------------+</span>
<span class="c">| Bananas       | first line\   | first line\        |</span>
<span class="c">|               | next line     | next line          |</span>
<span class="nb">+---------------+---------------+--------------------+</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/const-vs-constexpr-on-variables/" class="u-url">const vs constexpr on variables</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/const-vs-constexpr-on-variables/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T14:01:00+08:00" itemprop="datePublished" title="2023-03-03 14:01">2023-03-03 14:01</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is there a difference between the following definitions?</p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w">     </span><span class="n">double</span><span class="w"> </span><span class="bp">PI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">3.141592653589793</span><span class="p">;</span>
<span class="n">constexpr</span><span class="w"> </span><span class="n">double</span><span class="w"> </span><span class="bp">PI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">3.141592653589793</span><span class="p">;</span>
</pre></div>

<p>If not, which style is preferred in C++11?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>I believe there is a difference. Let's rename them so that we can talk about
them more easily:</p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w">     </span><span class="n">double</span><span class="w"> </span><span class="n">PI1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">3.141592653589793</span><span class="p">;</span>
<span class="n">constexpr</span><span class="w"> </span><span class="n">double</span><span class="w"> </span><span class="n">PI2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">3.141592653589793</span><span class="p">;</span>
</pre></div>

<p>Both <code>PI1</code> and <code>PI2</code> are constant, meaning you can not modify them. However
<strong>only</strong> <code>PI2</code> is a compile-time constant. It <strong>shall</strong> be initialized at
compile time. <code>PI1</code> may be initialized at compile time or run time.
Furthermore, <strong>only</strong> <code>PI2</code> can be used in a context that requires a compile-
time constant. For example:</p>
<div class="code"><pre class="code literal-block"><span class="n">constexpr</span><span class="w"> </span><span class="n">double</span><span class="w"> </span><span class="n">PI3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PI1</span><span class="p">;</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">error</span>
</pre></div>

<p>but:</p>
<div class="code"><pre class="code literal-block"><span class="n">constexpr</span><span class="w"> </span><span class="n">double</span><span class="w"> </span><span class="n">PI3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PI2</span><span class="p">;</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">ok</span>
</pre></div>

<p>and:</p>
<div class="code"><pre class="code literal-block">static_assert(PI1 == 3.141592653589793, "");  // error
</pre></div>

<p>but:</p>
<div class="code"><pre class="code literal-block">static_assert(PI2 == 3.141592653589793, "");  // ok
</pre></div>

<p>As to which you should use? Use whichever meets your needs. Do you want to
ensure that you have a compile time constant that can be used in contexts
where a compile-time constant is required? Do you want to be able to
initialize it with a computation done at run time? Etc.</p>
<p><br></p>
<h3>Suggest</h3>
<p>No difference here, but it matters when you have a type that has a
constructor.</p>
<div class="code"><pre class="code literal-block"><span class="n">struct</span><span class="w"> </span><span class="n">S</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">constexpr</span><span class="w"> </span><span class="n">S</span><span class="p">(</span><span class="nb nb-Type">int</span><span class="p">);</span>
<span class="p">};</span>

<span class="k">const</span><span class="w"> </span><span class="n">S</span><span class="w"> </span><span class="n">s0</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="n">constexpr</span><span class="w"> </span><span class="n">S</span><span class="w"> </span><span class="n">s1</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
</pre></div>

<p><code>s0</code> is a constant, but it does not promise to be initialized at compile-time.
<code>s1</code> is marked <code>constexpr</code>, so it is a constant and, because <code>S</code>'s constructor
is also marked <code>constexpr</code>, it will be initialized at compile-time.</p>
<p>Mostly this matters when initialization at runtime would be time-consuming and
you want to push that work off onto the compiler, where it's also time-
consuming, but doesn't slow down execution time of the compiled program</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1982.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1980.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1627) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1627.html">
<link rel="prev" href="index-1628.html" type="text/html">
<link rel="next" href="index-1626.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-the-precise-meaning-of-ours-and-theirs-in-git/" class="u-url">What is the precise meaning of "ours" and "theirs" in git?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-the-precise-meaning-of-ours-and-theirs-in-git/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T05:31:03+08:00" itemprop="datePublished" title="2023-03-03 05:31">2023-03-03 05:31</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>This might sound like too basic of a question, but I have searched for answers
and I am more confused now than before.</p>
<p>What does "ours" and "theirs" mean in git when merging my branch into my other
branch? Both branches are "ours".</p>
<p>In a merge conflict is "ours" always the upper of the two versions displayed?</p>
<p>Does "ours" always refer to the branch that HEAD was pointing to when the
merge began? If so then why not use a clear possessive reference like "current
branch's" instead of using a possessive pronoun like "ours" that is
referentially ambiguous (since both branches are technically ours)?</p>
<p>Or just use the branch name (instead of saying "ours" just say "local
master's" or such)?</p>
<p>The most confusing part to me is if I specify in a specific branch's
.gitattributes file. Lets say in <strong>test branch</strong> I have the following
.gitattributes file:</p>
<div class="code"><pre class="code literal-block"><span class="n">config.xml merge=ours</span>
</pre></div>

<p>Now I checkout and point HEAD to <strong>master</strong> then merge in <strong>test</strong>. Since
<strong>master</strong> is ours, and <strong>test</strong> 's .gitattributes is not checked out, will it
even have an effect? If it does have an effect, since <strong>master</strong> is now
"ours", then what will happen?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>I suspect you're confused here because it's fundamentally confusing. To make
things worse, the whole ours/theirs stuff switches roles (becomes backwards)
when you are doing a rebase.</p>
<p>Ultimately, during a <code>git merge</code>, the "ours" branch refers to the branch
you're merging <em>into</em> :</p>
<div class="code"><pre class="code literal-block">git checkout merge-into-ours
</pre></div>

<p>and the "theirs" branch refers to the (single) branch you're merging:</p>
<div class="code"><pre class="code literal-block">git merge from-theirs
</pre></div>

<p>and here "ours" and "theirs" makes some sense, as even though "theirs" is
probably yours anyway, "theirs" is not the one you were <em>on</em> when you ran <code>git
merge</code>.</p>
<p>While using the actual branch name might be pretty cool, it falls apart in
more complex cases. For instance, instead of the above, you might do:</p>
<div class="code"><pre class="code literal-block">git checkout ours
git merge 1234567
</pre></div>

<p>where you're merging by raw commit-ID. Worse, you can even do this:</p>
<div class="code"><pre class="code literal-block"><span class="nv">git</span><span class="w"> </span><span class="nv">checkout</span><span class="w"> </span><span class="mi">7777777</span><span class="w">    </span>#<span class="w"> </span><span class="nv">detach</span><span class="w"> </span><span class="nv">HEAD</span>
<span class="nv">git</span><span class="w"> </span><span class="nv">merge</span><span class="w"> </span><span class="mi">1234567</span><span class="w">       </span>#<span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">test</span><span class="w"> </span><span class="nv">merge</span>
</pre></div>

<p>in which case there are <em>no</em> branch names involved!</p>
<p>I think it's little help here, but in fact, in <code>gitrevisions</code> syntax, you can
refer to an individual path in the index by number, during a conflicted merge</p>
<div class="code"><pre class="code literal-block"><span class="nv">git</span><span class="w"> </span><span class="k">show</span><span class="w"> </span>:<span class="mi">1</span>:<span class="nv">README</span>
<span class="nv">git</span><span class="w"> </span><span class="k">show</span><span class="w"> </span>:<span class="mi">2</span>:<span class="nv">README</span>
<span class="nv">git</span><span class="w"> </span><span class="k">show</span><span class="w"> </span>:<span class="mi">3</span>:<span class="nv">README</span>
</pre></div>

<p>Stage #1 is the common ancestor of the files, stage #2 is the target-branch
version, and stage #3 is the version you are merging from.</p>
<hr>
<p>The reason the "ours" and "theirs" notions get swapped around during <code>rebase</code>
is that rebase works by doing a series of cherry-picks, into an anonymous
branch (detached HEAD mode). The target branch is the anonymous branch, and
the merge-from branch is your original (pre-rebase) branch: so "--ours" means
the anonymous one rebase is building while "--theirs" means "our branch being
rebased".</p>
<hr>
<p>As for the gitattributes entry: it <em>could</em> have an effect: "ours" really means
"use stage #2" internally. But as you note, it's not actually in place at the
time, so it <em>should not</em> have an effect here ... well, not unless you copy it
into the work tree before you start.</p>
<p>Also, by the way, this applies to all uses of ours and theirs, but some are on
a whole file level (<code>-s ours</code> for a merge strategy; <code>git checkout --ours</code>
during a merge conflict) and some are on a piece-by-piece basis (<code>-X ours</code> or
<code>-X theirs</code> during a <code>-s recursive</code> merge). Which probably does not help with
any of the confusion.</p>
<p>I've never come up with a better name for these, though. And: see VonC's
answer to another question, where <code>git mergetool</code> introduces yet more names
for these, calling them "local" and "remote"!</p>
<p><br></p>
<h3>Suggest</h3>
<p>I know this has been answered, but this issue confused me so many times I've
put up a small reference website to help me remember:
https://nitaym.github.io/ourstheirs/</p>
<p>Here are the basics:</p>
<h3>Merges:</h3>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>git<span class="w"> </span>checkout<span class="w"> </span>master<span class="w"> </span>
$<span class="w"> </span>git<span class="w"> </span>merge<span class="w"> </span>feature
</pre></div>

<p>If you want to select the version in <code>master</code>:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>git<span class="w"> </span>checkout<span class="w"> </span>--ours<span class="w"> </span>codefile.js
</pre></div>

<p>If you want to select the version in <code>feature</code>:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>git<span class="w"> </span>checkout<span class="w"> </span>--theirs<span class="w"> </span>codefile.js
</pre></div>

<h3>Rebases:</h3>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>git<span class="w"> </span>checkout<span class="w"> </span>feature<span class="w"> </span>
$<span class="w"> </span>git<span class="w"> </span>rebase<span class="w"> </span>master
</pre></div>

<p>If you want to select the version in <code>master</code>:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>git<span class="w"> </span>checkout<span class="w"> </span>--ours<span class="w"> </span>codefile.js
</pre></div>

<p>If you want to select the version in <code>feature</code>:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>git<span class="w"> </span>checkout<span class="w"> </span>--theirs<span class="w"> </span>codefile.js
</pre></div>

<p>(This is for complete files, of course)</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-s-the-difference-between-stl-and-c-standard-library/" class="u-url">What's the difference between "STL" and "C++ Standard Library"?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-s-the-difference-between-stl-and-c-standard-library/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T05:30:39+08:00" itemprop="datePublished" title="2023-03-03 05:30">2023-03-03 05:30</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Someone brought this article to my attention that claims <em>(I'm paraphrasing)</em>
the STL term is misused to refer to the entire C++ Standard Library instead of
the parts that were taken from SGI STL.</p>
<blockquote>
<p>(...) it refers to the "STL", despite the fact that very few people still
use the STL (which was designed at SGI).</p>
<p>Parts of the C++ Standard Library were based on parts of the STL, and it is
these parts that many people (including several authors and the notoriously
error-ridden cplusplus.com) still refer to as "the STL". However, this is
inaccurate; indeed, the C++ standard never mentions "STL", and there are
content differences between the two.</p>
<p>(...) "STL" is rarely used to refer to the bits of the stdlib that happen to
be based on the SGI STL. People think it's the entire standard library. It
gets put on CVs. And it is misleading.</p>
</blockquote>
<p>I hardly know anything about C++'s history so I can't judge the article's
correctness. Should I refrain from using the term STL? Or is this an isolated
opinion?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The "STL" was written by Alexander Stepanov in the days long before C++ was
standardised. C++ existed through the 80s, but what we now call "C++" is the
language standardised in ISO/IEC 14882:2014 (and earlier versions, such as
ISO/IEC 14882:2011).</p>
<p>The STL was already widely used as a library for C++, giving programmers
access to containers, iterators and algorithms. When the standardisation
happened, the language committee designed <em>parts of</em> the C++ Standard Library
(which is part of the language standard) to <em>very</em> closely match the STL.</p>
<p>Over the years, many people — including prominent book authors, and various
websites — have continued to refer to the C++ Standard Library as "the STL",
despite the fact that the two entities are separate and that there are some
differences. These differences are even more pronounced in the upcoming new
C++ standard, which includes various features and significantly alters some
classes.</p>
<p>The original STL is now often called "an implementation of the C++ Standard
Template Library" (rather backwards to actual history!), in the same way that
your Microsoft Visual Studio or GCC ships an implementation of the C++
Standard Library. But the "Standard Template Library" and the "Standard
Library" are not the same thing.</p>
<p>The battle is about whether the current Standard Library should be called "the
STL" in whole or in part, and/or whether it matters what it's called.</p>
<p><strong>For "STL"</strong></p>
<p>There is a school of thought that says that everybody knows now that "STL"
means the standard library, just as everybody now knows that "C++" is the ISO-
standardised language.</p>
<p>It also includes those who believe that <em>it doesn't really matter</em> as long as
all parties understand what is being talked about.</p>
<p>It's a term made even more prevalent by the nature of the beast, much of which
makes heavy use of the C++ feature known as "templates".</p>
<p><strong>For "C++ Standard Library" (or stdlib)</strong></p>
<p>However, there is another school of thought — to which I subscribe — that says
that this is confusing. People learning C++ for the first time <em>do not</em> know
this distinction, and may not notice small language differences.</p>
<p>The author of that article has numerous times encountered people who believe
that the entire C++ Standard Library <em>is</em> the STL, including features that
were never part of the STL itself. Most vocal proponents of "the STL", in
contrast, know exactly what they mean by it and refuse to believe that not
everybody "gets it". Clearly, the term's usage is not uniform.</p>
<p>In addition, there are some STL-like libraries that are in fact
implementations of the original STL, not the C++ Standard Library. Until
recently, STLPort was one of them (and even there, the confusion abounds!).</p>
<p>Further, the C++ Standard does not contain the text "STL" anywhere, and some
people habitually employ phrases like "the STL is <em>included</em> in the C++
Standard Library", which is plain incorrect.</p>
<p>It's my belief that continuing to propagate the usage of the term in this way
will just lead to the misunderstanding going on forever. Alas, it may be
entirely counter-productive to attempt to change things, even if it's supposed
to be for the better. We may just be stuck with double-meanings forever.</p>
<p><strong>Conclusion</strong></p>
<p>I appreciate that this post has been a little biased: I wrote the article you
linked to. :) Anyway, I hope this helps to explain the battle a bit better.</p>
<p><strong>Update 13/04/2011</strong></p>
<p>Here are three perfect examples of someone who is using "the STL" to refer to
the entire C++ Standard Library. It continues to baffle me that so many people
swear blind that nobody ever does this, when it's plain to see almost on a
daily basis.</p>
<p><br></p>
<h3>Suggest</h3>
<p>There is no one answer that's really correct. Alexander Stepanov developed a
library he called STL (working for HP at the time). That library was then
proposed for inclusion in the C++ standard.</p>
<p>That basically "forked" development. The committee included some parts,
rejected others completely, and redesigned a few (with Alexander's
participation). Development of the original library was later moved to Silicon
Graphics, but continued separately from the C++ standard library.</p>
<p>After those pieces were added to the standard library, some other parts of the
standard library were modified to fit better with what was added (e.g.,
<code>begin</code>, <code>end</code>, <code>rbegin</code> and <code>rend</code> were added to <code>std::string</code> so it could be
used like a container). Around the same time, <em>most</em> of the library (even
pieces that were <em>completely</em> unrelated) were made into templates to
accommodate different types (e.g., standard streams).</p>
<p>Some people also use STL as just a short form of "STandard Library".</p>
<p>That means when somebody uses the term "STL" they could be referring to any of
about half a dozen different things. For better or worse, most people who use
it seem to ignore the multiplicity of meanings, and assume that everybody else
will recognize what they're referring to. This leads to many
misunderstandings, and at least a few serious flame-wars that made most of the
participants look foolish because they were simply talking about entirely
different things.</p>
<p>Unfortunately, the confusion is likely to continue unabated. It's much more
convenient to refer to "STL" than something like "the containers, iterators,
and algorithms in the C++ standard library, but not including <code>std::string</code>,
even though it can act like a container." Even though "C++ standard library"
isn't quite as long and clumsy as that, "STL" is still a lot shorter and
simpler still. Until or unless somebody invents terms that are more precise
(when necessary), <strong>and</strong> just as convenient, "STL" will continue to be used
and confusion will continue to result.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-the-difference-between-typeof-and-instanceof-and-when-should-one-be-used-vs-the-other/" class="u-url">What is the difference between typeof and instanceof and when should one be used vs. the other?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-the-difference-between-typeof-and-instanceof-and-when-should-one-be-used-vs-the-other/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T05:30:12+08:00" itemprop="datePublished" title="2023-03-03 05:30">2023-03-03 05:30</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>In my particular case:</p>
<div class="code"><pre class="code literal-block">callback instanceof Function
</pre></div>

<p>or</p>
<div class="code"><pre class="code literal-block">typeof callback == "function"
</pre></div>

<p>does it even matter, what's the difference?</p>
<p><strong>Additional Resource:</strong></p>
<p>JavaScript-Garden typeof vs instanceof</p>
<p><br><br></p>
<h2>Answer</h2>
<h4>Use <code>instanceof</code> for custom types:</h4>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">ClassFirst</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{};</span>
<span class="k">var</span><span class="w"> </span><span class="n">ClassSecond</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{};</span>
<span class="k">var</span><span class="w"> </span><span class="n">instance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">ClassFirst</span><span class="p">();</span>
<span class="nb">typeof</span><span class="w"> </span><span class="n">instance</span><span class="p">;</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">object</span>
<span class="nb">typeof</span><span class="w"> </span><span class="n">instance</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'ClassFirst'</span><span class="p">;</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="bp">false</span>
<span class="n">instance</span><span class="w"> </span><span class="n">instanceof</span><span class="w"> </span><span class="nb nb-Type">Object</span><span class="p">;</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="bp">true</span>
<span class="n">instance</span><span class="w"> </span><span class="n">instanceof</span><span class="w"> </span><span class="n">ClassFirst</span><span class="p">;</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="bp">true</span>
<span class="n">instance</span><span class="w"> </span><span class="n">instanceof</span><span class="w"> </span><span class="n">ClassSecond</span><span class="p">;</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="bp">false</span>
</pre></div>

<h4>Use <code>typeof</code> for simple built in types:</h4>
<div class="code"><pre class="code literal-block">'example string' instanceof String; // false
typeof 'example string' == 'string'; // true

'example string' instanceof Object; // false
typeof 'example string' == 'object'; // false

true instanceof Boolean; // false
typeof true == 'boolean'; // true

99.99 instanceof Number; // false
typeof 99.99 == 'number'; // true

function() {} instanceof Function; // true
typeof function() {} == 'function'; // true
</pre></div>

<h4>Use <code>instanceof</code> for complex built in types:</h4>
<div class="code"><pre class="code literal-block"><span class="o">/</span><span class="n">regularexpression</span><span class="o">/</span><span class="w"> </span><span class="n">instanceof</span><span class="w"> </span><span class="n">RegExp</span><span class="p">;</span><span class="w"> </span><span class="c1">// true</span>
<span class="n">typeof</span><span class="w"> </span><span class="o">/</span><span class="n">regularexpression</span><span class="o">/</span><span class="p">;</span><span class="w"> </span><span class="c1">// object</span>

<span class="p">[]</span><span class="w"> </span><span class="n">instanceof</span><span class="w"> </span><span class="n">Array</span><span class="p">;</span><span class="w"> </span><span class="c1">// true</span>
<span class="n">typeof</span><span class="w"> </span><span class="p">[];</span><span class="w"> </span><span class="c1">//object</span>

<span class="p">{}</span><span class="w"> </span><span class="n">instanceof</span><span class="w"> </span><span class="n">Object</span><span class="p">;</span><span class="w"> </span><span class="c1">// true</span>
<span class="n">typeof</span><span class="w"> </span><span class="p">{};</span><span class="w"> </span><span class="c1">// object</span>
</pre></div>

<p>And the last one is a little bit tricky:</p>
<div class="code"><pre class="code literal-block">typeof null; // object
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Both are similar in functionality because they both return type information,
however I personally prefer <code>instanceof</code> because it's comparing actual types
rather than strings. Type comparison is less prone to human error, and it's
technically faster since it's comparing pointers in memory rather than doing
whole string comparisons.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1628.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1626.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

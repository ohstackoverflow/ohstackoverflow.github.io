<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 121) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-121.html">
<link rel="prev" href="index-122.html" type="text/html">
<link rel="next" href="index-120.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/shuang-yin-hao-he-dan-yin-hao-zai-javascript-zhong-ke-yi-hu-huan-ma/" class="u-url">双引号和单引号在 JavaScript 中可以互换吗？</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/shuang-yin-hao-he-dan-yin-hao-zai-javascript-zhong-ke-yi-hu-huan-ma/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T22:04:42+08:00" itemprop="datePublished" title="2023-02-16 22:04">2023-02-16 22:04</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>考虑以下两种选择：</p>
<ul>
<li><code>console.log("double");</code></li>
<li><code>console.log('single');</code></li>
</ul>
<p>前者在字符串周围使用双引号，而后者在字符串周围使用单引号。</p>
<p>我看到越来越多的 JavaScript 库在处理字符串时使用单引号。</p>
<p>这两种用法可以互换吗？如果不是，使用一个比另一个有优势吗？</p>
<p><br><br></p>
<h2>解答</h2>
<p>在不同库中使用 single 与 double 的最可能原因是程序员偏好和/或 API 一致性。除了保持一致之外，使用最适合字符串的那个。</p>
<p>使用其他类型的引号作为文字：</p>
<div class="code"><pre class="code literal-block">alert('Say "Hello"');
alert("Say 'Hello'");
</pre></div>

<p>这可能会变得复杂：</p>
<div class="code"><pre class="code literal-block">alert("It's \"game\" time.");
alert('It\'s "game" time.');
</pre></div>

<p>ECMAScript 6 中的另一个新选项是使用 <em>反引号字符的</em> 模板文字： __</p>
<div class="code"><pre class="code literal-block"> alert(`Use "double" and 'single' quotes in the same string`);
alert(`Escape the \` back-tick character and the \${ dollar-brace sequence in a string`);
</pre></div>

<p>模板字面量为变量插值、多行字符串等提供了简洁的语法。</p>
<p>请注意，JSON正式指定使用双引号，这可能值得根据系统要求考虑。</p>
<p><br></p>
<h3>更多建议</h3>
<p>如果你正在处理 JSON，应该注意严格来说，JSON 字符串必须用双引号引起来。当然，许多库也支持单引号，但在意识到单引号字符串实际上不符合 JSON
标准之前，我在我的一个项目中遇到了很大的问题。</p>
<p><br><br><a href="posts/are-double-and-single-quotes-interchangeable-in-javascript/">查看原文</a></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/shi-yao-shi-kong-zhi-fan-zhuan/" class="u-url">什么是控制反转？</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/shi-yao-shi-kong-zhi-fan-zhuan/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T22:04:07+08:00" itemprop="datePublished" title="2023-02-16 22:04">2023-02-16 22:04</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>第一次遇到控制反转 (IoC) 时可能会非常困惑。</p>
<ol>
<li>它是什么？</li>
<li>它解决了哪个问题？</li>
<li>什么时候适合使用什么时候不适合？</li>
</ol>
<p><br><br></p>
<h2>解答</h2>
<p><strong><code>Inversion-of-Control</code> (IoC)</strong>模式是关于提供 <em>任何类型</em>
的<code>callback</code>，它“实现”和/或控制反应，而不是我们自己直接行动（换句话说，反转和/或将控制重定向到外部处理程序/控制器）。
<strong><code>Dependency-Injection</code> (DI)</strong>模式是 IoC 模式的更具体版本，它是关于从代码中删除依赖项的。</p>
<blockquote>
<p>每个<code>DI</code>实现都可以考虑<code>IoC</code>，但不应该称之为它<code>IoC</code>，因为实现依赖注入比回调更难（不要使用通用术语“IoC”来降低产品的价值）。</p>
</blockquote>
<p>对于 DI 示例，假设您的应用程序有一个文本编辑器组件，并且您想提供拼写检查。您的标准代码如下所示：</p>
<div class="code"><pre class="code literal-block">public class TextEditor {

    private SpellChecker checker;

    public TextEditor() {
        this.checker = new SpellChecker();
    }
}
</pre></div>

<p>我们在这里所做的创建了<code>TextEditor</code>和之间的依赖关系<code>SpellChecker</code>。在 IoC 场景中，我们会改为执行以下操作：</p>
<div class="code"><pre class="code literal-block">public class TextEditor {

    private IocSpellChecker checker;

    public TextEditor(IocSpellChecker checker) {
        this.checker = checker;
    }
}
</pre></div>

<p>在第一个代码示例中，我们正在实例化<code>SpellChecker</code>( <code>this.checker = new
SpellChecker();</code>)，这意味着该类<code>TextEditor</code>直接依赖于该类<code>SpellChecker</code>。</p>
<p>在第二个代码示例中，我们通过在
的构造函数签名中包含<code>SpellChecker</code>依赖类（而不是在类中初始化依赖）来创建抽象。<code>TextEditor</code>这允许我们调用依赖项，然后将其传递给
TextEditor 类，如下所示：</p>
<div class="code"><pre class="code literal-block">SpellChecker sc = new SpellChecker(); // dependency
TextEditor textEditor = new TextEditor(sc);
</pre></div>

<p>现在创建该类的客户端<code>TextEditor</code>可以控制<code>SpellChecker</code>使用哪个实现，因为我们将依赖项注入到<code>TextEditor</code>签名中。</p>
<hr>
<p><strong>请注意</strong> ，就像 IoC 是许多其他模式的基础一样，上面的示例只是许多依赖注入类型中的一种，例如：</p>
<ul>
<li>构造函数注入。 </li>
</ul>
<blockquote>
<p>其中一个实例<code>IocSpellChecker</code>将被自动或类似于上面的手动传递给构造函数。</p>
</blockquote>
<ul>
<li>塞特注射。 </li>
</ul>
<blockquote>
<p>其中的实例<code>IocSpellChecker</code>将通过 setter 方法或属性传递<code>public</code>。</p>
</blockquote>
<ul>
<li>服务查找和/或服务定位器 </li>
</ul>
<blockquote>
<p>哪里<code>TextEditor</code>会向已知提供者询问类型的全局使用实例（服务）<code>IocSpellChecker</code>（并且可能不存储所述实例，而是一次又一次地询问提供者）。</p>
</blockquote>
<p><br></p>
<h3>更多建议</h3>
<p>控制反转是你在程序回调时得到的，例如像一个 gui 程序。</p>
<p>例如，在旧学校菜单中，您可能有：</p>
<div class="code"><pre class="code literal-block">print "enter your name"
read name
print "enter your address"
read address
etc...
store in database
</pre></div>

<p>从而控制用户交互的流程。</p>
<p>在 GUI 程序或类似程序中，我们说：</p>
<div class="code"><pre class="code literal-block">when the user types in field a, store it in NAME
when the user types in field b, store it in ADDRESS
when the user clicks the save button, call StoreInDatabase
</pre></div>

<p>所以现在控制被颠倒了……而不是计算机以固定顺序接受用户输入，用户控制输入数据的顺序，以及数据何时保存在数据库中。</p>
<p>基本上， <strong>任何</strong> 带有事件循环、回调或执行触发器的东西都属于这一类。</p>
<p><br><br><a href="posts/what-is-inversion-of-control/">查看原文</a></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/ru-he-jian-cha-shi-fou-zai-bash-zhong-she-zhi-liao-bian-liang/" class="u-url">如何检查是否在 Bash 中设置了变量</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/ru-he-jian-cha-shi-fou-zai-bash-zhong-she-zhi-liao-bian-liang/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T22:03:26+08:00" itemprop="datePublished" title="2023-02-16 22:03">2023-02-16 22:03</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>我如何知道是否在 Bash 中设置了变量？</p>
<p>例如，如何检查用户是否将第一个参数传递给函数？</p>
<div class="code"><pre class="code literal-block"><span class="nv">function</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span>{
<span class="w">    </span>#<span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="mh">$1</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">set</span><span class="w"> </span>?
}
</pre></div>

<p><br><br></p>
<h2>解答</h2>
<h3>（通常）正确的方式</h3>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="o">-</span><span class="n">z</span><span class="w"> </span><span class="o">$</span><span class="p">{</span><span class="k">var</span><span class="o">+</span><span class="n">x</span><span class="p">}</span><span class="w"> </span><span class="p">];</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="n">echo</span><span class="w"> </span><span class="s2">"var is unset"</span><span class="p">;</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">echo</span><span class="w"> </span><span class="s2">"var is set to '$var'"</span><span class="p">;</span><span class="w"> </span><span class="n">fi</span>
</pre></div>

<p>其中<code>${var+x}</code>是参数扩展，如果未设置则计算为空<code>var</code>，否则替换字符串<code>x</code>。</p>
<h4>行情题外话</h4>
<p>引号可以省略（所以我们可以说<code>${var+x}</code>而不是<code>"${var+x}"</code>），因为这种语法和用法保证这只会扩展到不需要引号的东西（因为它要么扩展到<code>x</code>（不包含分词符，所以它不需要引号），或者扩展到什么都没有（这导致<code>[
-z ]</code>，它很方便地评估为相同的值（真）<code>[ -z "" ]</code>也一样）。</p>
<p>然而，虽然可以安全地省略引号，而且它不是立即对所有人显而易见的（对于这个引用解释的第一作者也是主要 Bash
编码器的第一作者来说甚至不是显而易见的），有时写解决方案会更好引号为<code>[ -z "${var+x}" ]</code>，以 O(1)
速度惩罚的非常小的可能成本。第一作者还将此作为注释添加到使用此解决方案的代码旁边，给出了此答案的 URL，现在还包括对为什么可以安全地省略引号的解释。</p>
<h3>（经常）错误的方式</h3>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="o">-</span><span class="n">z</span><span class="w"> </span><span class="s2">"$var"</span><span class="w"> </span><span class="p">];</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="n">echo</span><span class="w"> </span><span class="s2">"var is blank"</span><span class="p">;</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">echo</span><span class="w"> </span><span class="s2">"var is set to '$var'"</span><span class="p">;</span><span class="w"> </span><span class="n">fi</span>
</pre></div>

<p>这通常是错误的，因为它不区分未设置的变量和设置为空字符串的变量。也就是说，如果<code>var=''</code>，那么上面的解法会输出“var is blank”。</p>
<p>未设置和“设置为空字符串”之间的区别在用户必须指定扩展名或附加属性列表的情况下是必不可少的，并且不指定它们默认为非空值，而指定空字符串应该使脚本使用空扩展名或附加属性列表。</p>
<p>不过，这种区别可能并非在每种情况下都是必不可少的。在那些情况下<code>[ -z "$var" ]</code>会很好。</p>
<p><br></p>
<h3>更多建议</h3>
<p>要检查非空/非零字符串变量，即如果已设置，请使用</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span>[<span class="w"> </span><span class="o">-</span><span class="nv">n</span><span class="w"> </span><span class="s2">"$1"</span><span class="w"> </span>]
</pre></div>

<p>是相反的<code>-z</code>。我发现自己使用的<code>-n</code>不仅仅是<code>-z</code>.</p>
<p>你会像这样使用它：</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span>[<span class="w"> </span><span class="o">-</span><span class="nv">n</span><span class="w"> </span><span class="s2">"$1"</span><span class="w"> </span>]<span class="c1">; then</span>
<span class="w">  </span><span class="nv">echo</span><span class="w"> </span><span class="s2">"You supplied the first parameter!"</span>
<span class="k">else</span>
<span class="w">  </span><span class="nv">echo</span><span class="w"> </span><span class="s2">"First parameter not supplied."</span>
<span class="nv">fi</span>
</pre></div>

<p><br><br><a href="posts/how-to-check-if-a-variable-is-set-in-bash/">查看原文</a></p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-122.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-120.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

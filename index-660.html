<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 660) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-660.html">
<link rel="prev" href="index-661.html" type="text/html">
<link rel="next" href="index-659.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-define-a-circle-shape-in-an-android-xml-drawable-file/" class="u-url">How to define a circle shape in an Android XML drawable file?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-define-a-circle-shape-in-an-android-xml-drawable-file/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T12:34:37+08:00" itemprop="datePublished" title="2023-02-17 12:34">2023-02-17 12:34</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have some problems finding the documentation of the definitions of shapes in
XML for Android. I would like to define a simple circle filled with a solid
color in an XML File to include it into my layout files.</p>
<p>Sadly the Documentation on android.com does not cover the XML attributes of
the Shape classes. I think I should use an ArcShape to draw a circle but there
is no explanation on how to set the size, the color, or the angle needed to
make a circle out of an Arc.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>This is a simple circle as a drawable in Android.</p>
<div class="code"><pre class="code literal-block"><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;shape</span>
<span class="w">    </span><span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
<span class="w">    </span><span class="na">android:shape=</span><span class="s">"oval"</span><span class="nt">&gt;</span>

<span class="w">   </span><span class="nt">&lt;solid</span><span class="w"> </span>
<span class="w">       </span><span class="na">android:color=</span><span class="s">"#666666"</span><span class="nt">/&gt;</span>

<span class="w">   </span><span class="nt">&lt;size</span><span class="w"> </span>
<span class="w">       </span><span class="na">android:width=</span><span class="s">"120dp"</span>
<span class="w">        </span><span class="na">android:height=</span><span class="s">"120dp"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/shape&gt;</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Set this as your view background</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;shape</span><span class="w"> </span><span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
<span class="w">    </span><span class="na">android:shape=</span><span class="s">"oval"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;stroke</span>
<span class="w">        </span><span class="na">android:width=</span><span class="s">"1dp"</span>
<span class="w">        </span><span class="na">android:color=</span><span class="s">"#78d9ff"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/shape&gt;</span>
</pre></div>

<p><img alt="enter image description here" src="images/k8vyX.png"></p>
<p>For solid circle use:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;shape</span><span class="w"> </span><span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
<span class="w">    </span><span class="na">android:shape=</span><span class="s">"oval"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;solid</span>
<span class="w">        </span><span class="na">android:color=</span><span class="s">"#48b3ff"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/shape&gt;</span>
</pre></div>

<p><img alt="enter image description here" src="images/ITaSM.png"></p>
<p>Solid with stroke:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;shape</span><span class="w"> </span><span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
<span class="w">    </span><span class="na">android:shape=</span><span class="s">"oval"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;solid</span><span class="w"> </span><span class="na">android:color=</span><span class="s">"#199fff"</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;stroke</span>
<span class="w">        </span><span class="na">android:width=</span><span class="s">"2dp"</span>
<span class="w">        </span><span class="na">android:color=</span><span class="s">"#444444"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/shape&gt;</span>
</pre></div>

<p><img alt="enter image description here" src="images/cTina.png"></p>
<p><strong>Note</strong> : To make the <code>oval</code> shape appear as a circle, in these examples,
either your view that you are using this shape as its background should be a
square or you have to set the <code>height</code> and <code>width</code> properties of the shape tag
to an equal value.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/is-it-possible-to-move-rename-files-in-git-and-maintain-their-history/" class="u-url">Is it possible to move/rename files in Git and maintain their history?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/is-it-possible-to-move-rename-files-in-git-and-maintain-their-history/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T12:33:57+08:00" itemprop="datePublished" title="2023-02-17 12:33">2023-02-17 12:33</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I would like to rename/move a project subtree in Git moving it from</p>
<div class="code"><pre class="code literal-block">/project/xyz
</pre></div>

<p>to</p>
<div class="code"><pre class="code literal-block">/components/xyz
</pre></div>

<p>If I use a plain <code>git mv project components</code>, then all the commit history for
the <code>xyz project</code> gets lost. Is there a way to move this such that the history
is maintained?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Git detects renames rather than persisting the operation with the commit, so
whether you use <code>git mv</code> or <code>mv</code> doesn't matter.</p>
<p>The <code>log</code> command takes a <code>--follow</code> argument that continues history before a
rename operation, i.e., it searches for similar content using heuristics.</p>
<p>To lookup the full history, use the following command:</p>
<div class="code"><pre class="code literal-block">git log --follow ./path/to/file
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<h2>No.</h2>
<p>The short answer is <strong>NO</strong>. It is not possible to rename a file in Git and
remember the history. And it is a pain.</p>
<p>Rumor has it that <code>git log --follow ``--find-copies-harder</code> will work, but it
does not work for me, even if there are zero changes to the file contents, and
the moves have been made with <code>git mv</code>.</p>
<p>(Initially I used Eclipse to rename and update packages in one operation,
which may have confused Git. But that is a very common thing to do. <code>--follow</code>
does seem to work if only a <code>mv</code> is performed and then a <code>commit</code> and the <code>mv</code>
is not too far.)</p>
<p>Linus says that you are supposed to understand the entire contents of a
software project holistically, not needing to track individual files. Well,
sadly, my small brain cannot do that.</p>
<p>It is <strong>really annoying</strong> that so many people have mindlessly repeated the
statement that Git automatically tracks moves. They have wasted my time. Git
does no such thing. By design(!) Git does not track moves at all.</p>
<p>My solution is to rename the files back to their original locations. Change
the software to fit the source control. With Git you just seem to need to
"git" it right the first time.</p>
<p>Unfortunately, that breaks Eclipse, which seems to use <code>--follow</code>. <code>git log
--follow</code> sometimes does not show the full history of files with complicated
rename histories even though <code>git log</code> does. (I do not know why.)</p>
<p>(There are some too clever hacks that go back and recommit old work, but they
are rather frightening. See GitHub-Gist: emiller/git-mv-with-history.)</p>
<p>In short: if Subversion doing this is wrong, then Git doing this is also wrong
- doing this isn't some (mis!)feature, <strong>it's a mistake.</strong></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/ecmascript-6-arrow-function-that-returns-an-object/" class="u-url">ECMAScript 6 arrow function that returns an object</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/ecmascript-6-arrow-function-that-returns-an-object/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T12:33:09+08:00" itemprop="datePublished" title="2023-02-17 12:33">2023-02-17 12:33</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>When returning an object from an arrow function, it seems that it is necessary
to use an extra set of <code>{}</code> and a <code>return</code> keyword because of an ambiguity in
the grammar.</p>
<p>That means I can’t write <code>p =&gt; {foo: "bar"}</code>, but have to write <code>p =&gt; { return
{foo: "bar"}; }</code>.</p>
<p>If the arrow function returns anything other than an object, the <code>{}</code> and
<code>return</code> are unnecessary, e.g.: <code>p =&gt; "foo"</code>.</p>
<p><code>p =&gt; {foo: "bar"}</code> returns <code>undefined</code>.</p>
<p>A modified <code>p =&gt; {"foo": "bar"}</code> throws <em>“<code>SyntaxError</code>: unexpected token:
'<code>:</code>'”</em>.</p>
<p>Is there something obvious I am missing?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You must wrap the returning object literal into parentheses. Otherwise curly
braces will be considered to denote the function’s body. The following works:</p>
<div class="code"><pre class="code literal-block"><span class="nt">p</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="o">(</span><span class="p">{</span><span class="w"> </span><span class="n">foo</span><span class="p">:</span><span class="w"> </span><span class="s1">'bar'</span><span class="w"> </span><span class="p">}</span><span class="o">);</span>
</pre></div>

<p>You don't need to wrap any other expression into parentheses:</p>
<div class="code"><pre class="code literal-block">p =&gt; 10;
p =&gt; 'foo';
p =&gt; true;
p =&gt; [1,2,3];
p =&gt; null;
p =&gt; /^foo$/;
</pre></div>

<p>and so on.</p>
<p>Reference: MDN - Returning object literals</p>
<p><br></p>
<h3>Suggest</h3>
<p>You may wonder, why the syntax is valid (but not working as expected):</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="k">func</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">foo</span><span class="p">:</span><span class="w"> </span><span class="s2">"bar"</span><span class="w"> </span><span class="p">}</span>
</pre></div>

<p>It's because of JavaScript's label syntax:</p>
<p>So if you transpile the above code to ES5, it should look like:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="k">func</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">foo</span><span class="p">:</span>
<span class="w">  </span><span class="s2">"bar"</span><span class="p">;</span><span class="w"> </span><span class="o">//</span><span class="n">obviously</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">here</span><span class="o">!</span>
<span class="p">}</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-661.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-659.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

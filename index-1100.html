<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1100) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1100.html">
<link rel="prev" href="index-1101.html" type="text/html">
<link rel="next" href="index-1099.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/can-a-website-detect-when-you-are-using-selenium-with-chromedriver/" class="u-url">Can a website detect when you are using Selenium with chromedriver?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/can-a-website-detect-when-you-are-using-selenium-with-chromedriver/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T01:15:07+08:00" itemprop="datePublished" title="2023-02-18 01:15">2023-02-18 01:15</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I've been testing out Selenium with Chromedriver and I noticed that some pages
can detect that you're using Selenium even though there's no automation at
all. Even when I'm just browsing manually just using Chrome through Selenium
and Xephyr I often get a page saying that suspicious activity was detected.
I've checked my user agent, and my browser fingerprint, and they are all
exactly identical to the normal Chrome browser.</p>
<p>When I browse to these sites in normal Chrome everything works fine, but the
moment I use Selenium I'm detected.</p>
<p>In theory, chromedriver and Chrome should look literally exactly the same to
any web server, but somehow they can detect it.</p>
<p>If you want some test code try out this:</p>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">pyvirtualdisplay</span> <span class="kn">import</span> <span class="n">Display</span>
<span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>

<span class="n">display</span> <span class="o">=</span> <span class="n">Display</span><span class="p">(</span><span class="n">visible</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">1600</span><span class="p">,</span> <span class="mi">902</span><span class="p">))</span>
<span class="n">display</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">chrome_options</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">ChromeOptions</span><span class="p">()</span>
<span class="n">chrome_options</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">'--disable-extensions'</span><span class="p">)</span>
<span class="n">chrome_options</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">'--profile-directory=Default'</span><span class="p">)</span>
<span class="n">chrome_options</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">"--incognito"</span><span class="p">)</span>
<span class="n">chrome_options</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">"--disable-plugins-discovery"</span><span class="p">);</span>
<span class="n">chrome_options</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">"--start-maximized"</span><span class="p">)</span>
<span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Chrome</span><span class="p">(</span><span class="n">chrome_options</span><span class="o">=</span><span class="n">chrome_options</span><span class="p">)</span>
<span class="n">driver</span><span class="o">.</span><span class="n">delete_all_cookies</span><span class="p">()</span>
<span class="n">driver</span><span class="o">.</span><span class="n">set_window_size</span><span class="p">(</span><span class="mi">800</span><span class="p">,</span><span class="mi">800</span><span class="p">)</span>
<span class="n">driver</span><span class="o">.</span><span class="n">set_window_position</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span> <span class="s1">'arguments done'</span>
<span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'http://stubhub.com'</span><span class="p">)</span>
</pre></div>

<p>If you browse around stubhub you'll get redirected and 'blocked' within one or
two requests. I've been investigating this and I can't figure out how they can
tell that a user is using Selenium.</p>
<p>How do they do it?</p>
<p>I installed the Selenium IDE plugin in Firefox and I got banned when I went to
stubhub.com in the normal Firefox browser with only the additional plugin.</p>
<p>When I use Fiddler to view the HTTP requests being sent back and forth I've
noticed that the 'fake browser's' requests often have 'no-cache' in the
response header.</p>
<p>Results like this <em>Is there a way to detect that I'm in a Selenium Webdriver
page from JavaScript?</em> suggest that there should be no way to detect when you
are using a webdriver. But this evidence suggests otherwise.</p>
<p>The site uploads a fingerprint to their servers, but I checked and the
fingerprint of Selenium is identical to the fingerprint when using Chrome.</p>
<p>This is one of the fingerprint payloads that they send to their servers:</p>
<div class="code"><pre class="code literal-block">{"appName":"Netscape","platform":"Linuxx86_64","cookies":1,"syslang":"en-US","userlang":"en-
US","cpu":"","productSub":"20030107","setTimeout":1,"setInterval":1,"plugins":
{"0":"ChromePDFViewer","1":"ShockwaveFlash","2":"WidevineContentDecryptionMo
dule","3":"NativeClient","4":"ChromePDFViewer"},"mimeTypes":
{"0":"application/pdf","1":"ShockwaveFlashapplication/x-shockwave-
flash","2":"FutureSplashPlayerapplication/futuresplash","3":"WidevineContent
DecryptionModuleapplication/x-ppapi-widevine-
cdm","4":"NativeClientExecutableapplication/x-
nacl","5":"PortableNativeClientExecutableapplication/x-
pnacl","6":"PortableDocumentFormatapplication/x-google-chrome-
pdf"},"screen":{"width":1600,"height":900,"colorDepth":24},"fonts":
{"0":"monospace","1":"DejaVuSerif","2":"Georgia","3":"DejaVuSans","4":"Trebu
chetMS","5":"Verdana","6":"AndaleMono","7":"DejaVuSansMono","8":"LiberationM
ono","9":"NimbusMonoL","10":"CourierNew","11":"Courier"}}
</pre></div>

<p>It's identical in Selenium and in Chrome.</p>
<p>VPNs work for a single use, but they get detected after I load the first page.
Clearly some JavaScript code is being run to detect Selenium.</p>
<p><br><br></p>
<h2>Answer</h2>
<h3><strong>Replacing<code>cdc_</code> string</strong></h3>
<p>You can use Vim or Perl to replace the <code>cdc_</code> string in <code>chromedriver</code>. <em>See
the answer by @Erti-Chris Eelmaa to learn more about that string and how it's
a detection point</em>.</p>
<p>Using Vim or Perl prevents you from having to recompile source code or use a
hex editor.</p>
<p><strong>Make sure to make a copy of the original<code>chromedriver</code> before attempting to
edit it.</strong></p>
<p>Our goal is to alter the <code>cdc_</code> string, which looks something like
<code>$cdc_lasutopfhvcZLmcfl</code>.</p>
<p>The methods below were tested on <code>chromedriver version 2.41.578706</code>.</p>
<hr>
<h3><strong>Using Vim</strong></h3>
<div class="code"><pre class="code literal-block">vim /path/to/chromedriver
</pre></div>

<p>After running the line above, you'll probably see a bunch of gibberish. Do the
following:</p>
<ol>
<li>Replace all instances of <code>cdc_</code> with <code>dog_</code> by typing <code>:%s/cdc_/dog_/g</code>. <ul>
<li>
<code>dog_</code> is just an example. You can choose anything as long as it has the same amount of characters as the search string (e.g., <code>cdc_</code>), otherwise the <code>chromedriver</code> will fail.</li>
</ul>
</li>
<li>To save the changes and quit, type <code>:wq!</code> and press <code>return</code>. <ul>
<li>If you need to quit without saving changes, type <code>:q!</code> and press <code>return</code>.</li>
</ul>
</li>
</ol>
<hr>
<h3><strong>Using Perl</strong></h3>
<p>The line below replaces all <code>cdc_</code> occurrences with <code>dog_</code>. Credit to Vic
Seedoubleyew:</p>
<div class="code"><pre class="code literal-block">perl -pi -e 's/cdc_/dog_/g' /path/to/chromedriver
</pre></div>

<p>Make sure that the replacement string (e.g., <code>dog_</code>) has the same number of
characters as the search string (e.g., <code>cdc_</code>), otherwise the <code>chromedriver</code>
will fail.</p>
<hr>
<h3><em><strong>Wrapping Up</strong></em></h3>
<p>To verify that all occurrences of <code>cdc_</code> were replaced:</p>
<div class="code"><pre class="code literal-block">grep "cdc_" /path/to/chromedriver
</pre></div>

<p>If no output was returned, the replacement was successful.</p>
<p>Go to the altered <code>chromedriver</code> and double click on it. A terminal window
should open up. If you don't see <code>killed</code> in the output, you've successfully
altered the driver.</p>
<p>Make sure that the name of the altered <code>chromedriver</code> binary is
<code>chromedriver</code>, and that the original binary is either moved from its original
location or renamed.</p>
<hr>
<h3><em><strong>My Experience With This Method</strong></em></h3>
<p>I was previously being detected on a website while trying to log in, but after
replacing <code>cdc_</code> with an equal sized string, I was able to log in. Like others
have said though, if you've already been detected, you might get blocked for a
plethora of other reasons even after using this method. So you may have to try
accessing the site that was detecting you using a VPN, different network, etc.</p>
<p><br></p>
<h3>Suggest</h3>
<h3><strong>Replacing<code>cdc_</code> string</strong></h3>
<p>You can use Vim or Perl to replace the <code>cdc_</code> string in <code>chromedriver</code>. <em>See
the answer by @Erti-Chris Eelmaa to learn more about that string and how it's
a detection point</em>.</p>
<p>Using Vim or Perl prevents you from having to recompile source code or use a
hex editor.</p>
<p><strong>Make sure to make a copy of the original<code>chromedriver</code> before attempting to
edit it.</strong></p>
<p>Our goal is to alter the <code>cdc_</code> string, which looks something like
<code>$cdc_lasutopfhvcZLmcfl</code>.</p>
<p>The methods below were tested on <code>chromedriver version 2.41.578706</code>.</p>
<hr>
<h3><strong>Using Vim</strong></h3>
<div class="code"><pre class="code literal-block">vim /path/to/chromedriver
</pre></div>

<p>After running the line above, you'll probably see a bunch of gibberish. Do the
following:</p>
<ol>
<li>Replace all instances of <code>cdc_</code> with <code>dog_</code> by typing <code>:%s/cdc_/dog_/g</code>. <ul>
<li>
<code>dog_</code> is just an example. You can choose anything as long as it has the same amount of characters as the search string (e.g., <code>cdc_</code>), otherwise the <code>chromedriver</code> will fail.</li>
</ul>
</li>
<li>To save the changes and quit, type <code>:wq!</code> and press <code>return</code>. <ul>
<li>If you need to quit without saving changes, type <code>:q!</code> and press <code>return</code>.</li>
</ul>
</li>
</ol>
<hr>
<h3><strong>Using Perl</strong></h3>
<p>The line below replaces all <code>cdc_</code> occurrences with <code>dog_</code>. Credit to Vic
Seedoubleyew:</p>
<div class="code"><pre class="code literal-block">perl -pi -e 's/cdc_/dog_/g' /path/to/chromedriver
</pre></div>

<p>Make sure that the replacement string (e.g., <code>dog_</code>) has the same number of
characters as the search string (e.g., <code>cdc_</code>), otherwise the <code>chromedriver</code>
will fail.</p>
<hr>
<h3><em><strong>Wrapping Up</strong></em></h3>
<p>To verify that all occurrences of <code>cdc_</code> were replaced:</p>
<div class="code"><pre class="code literal-block">grep "cdc_" /path/to/chromedriver
</pre></div>

<p>If no output was returned, the replacement was successful.</p>
<p>Go to the altered <code>chromedriver</code> and double click on it. A terminal window
should open up. If you don't see <code>killed</code> in the output, you've successfully
altered the driver.</p>
<p>Make sure that the name of the altered <code>chromedriver</code> binary is
<code>chromedriver</code>, and that the original binary is either moved from its original
location or renamed.</p>
<hr>
<h3><em><strong>My Experience With This Method</strong></em></h3>
<p>I was previously being detected on a website while trying to log in, but after
replacing <code>cdc_</code> with an equal sized string, I was able to log in. Like others
have said though, if you've already been detected, you might get blocked for a
plethora of other reasons even after using this method. So you may have to try
accessing the site that was detecting you using a VPN, different network, etc.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/is-putting-a-div-inside-an-anchor-ever-correct/" class="u-url">Is putting a div inside an anchor ever correct?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/is-putting-a-div-inside-an-anchor-ever-correct/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T01:14:40+08:00" itemprop="datePublished" title="2023-02-18 01:14">2023-02-18 01:14</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I've heard that putting a block element inside a inline element is a HTML sin:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;a</span><span class="w"> </span><span class="na">href=</span><span class="s">"http://example.com"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;div&gt;</span>
<span class="w">        </span>What<span class="w"> </span>we<span class="w"> </span>have<span class="w"> </span>here<span class="w"> </span>is<span class="w"> </span>a<span class="w"> </span>problem.<span class="w"> </span>
<span class="w">        </span>You<span class="w"> </span>see,<span class="w"> </span>an<span class="w"> </span>anchor<span class="w"> </span>element<span class="w"> </span>is<span class="w"> </span>an<span class="w"> </span>inline<span class="w"> </span>element,
<span class="w">        </span>and<span class="w"> </span>the<span class="w"> </span>div<span class="w"> </span>element<span class="w"> </span>is<span class="w"> </span>a<span class="w"> </span>block<span class="w"> </span>level<span class="w"> </span>element.
<span class="w">    </span><span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/a&gt;</span>
</pre></div>

<p>But what about if you style the outer anchor as <code>display:block</code> in the
stylesheet? Is it still wrong? The HTML 4.01 spec on block-level and inline
elements seems to think so:</p>
<blockquote>
<p>Style sheets provide the means to specify the rendering of arbitrary
elements, including whether an element is rendered as block or inline. In
some cases, such as an inline style for list elements, this may be
appropriate, but generally speaking, authors are discouraged from overriding
the conventional interpretation of HTML elements in this way.</p>
</blockquote>
<p>Does anyone have any further tips about this issue?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Depending on the version of HTML you're catering to:</p>
<ul>
<li>
<p><strong>HTML 5</strong> states that the <code>&lt;a&gt;</code> element "may be wrapped around entire paragraphs, lists, tables, and so forth, even entire sections, so long as there is no interactive content within (e.g. buttons or other links)".</p>
</li>
<li>
<p><strong>HTML 4.01</strong> specifies that <code>&lt;a&gt;</code> elements may only contain inline elements. A <code>&lt;div&gt;</code> is a block element, so it may not appear inside an <code>&lt;a&gt;</code>.</p>
</li>
</ul>
<p>Of course you are at liberty to style an inline element such that it <em>appears</em>
to be a block, or indeed style a block so that it is rendered inline. The use
of the terms <code>inline</code> and <code>block</code> in HTML refers to the relationship of the
elements to the semantic structure of the document, whereas the same terms in
CSS are related more to the visual styling of the elements. If you make inline
elements display in a blocky manner, that's fine.</p>
<p>However you should ensure that the structure of the document still makes sense
when CSS is not present, for example when accessed via an assistive technology
such as a screen reader - or indeed when examined by the mighty Googlebot.</p>
<p><br></p>
<h3>Suggest</h3>
<p>No it won't validate, but yes it generally will work in modern browsers. That
being said, use a span inside your anchor, and set <code>display: block</code> on it as
well, that will definitely work everywhere, and it will validate!</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/react-jsx-selecting-selected-on-selected-select-option/" class="u-url">React JSX: selecting "selected" on selected &lt;select&gt; option</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/react-jsx-selecting-selected-on-selected-select-option/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T01:14:09+08:00" itemprop="datePublished" title="2023-02-18 01:14">2023-02-18 01:14</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>In a React component for a <code>&lt;select&gt;</code> menu, I need to set the <code>selected</code>
attribute on the option that reflects the application state.</p>
<p>In <code>render()</code>, the <code>optionState</code> is passed from the state owner to the
SortMenu component. The option values are passed in as <code>props</code> from JSON.</p>
<div class="code"><pre class="code literal-block">render:<span class="w"> </span>function()<span class="w"> </span>{
<span class="w">  </span>var<span class="w"> </span>options<span class="w"> </span>=<span class="w"> </span>[],
<span class="w">      </span>optionState<span class="w"> </span>=<span class="w"> </span>this.props.optionState;

<span class="w">  </span>this.props.options.forEach(function(option)<span class="w"> </span>{
<span class="w">    </span>var<span class="w"> </span>selected<span class="w"> </span>=<span class="w"> </span>(optionState<span class="w"> </span>===<span class="w"> </span>option.value)<span class="w"> </span>?<span class="w"> </span>'<span class="w"> </span>selected'<span class="w"> </span>:<span class="w"> </span>'';

<span class="w">    </span>options.push(
<span class="w">      </span><span class="nt">&lt;option</span><span class="w"> </span><span class="na">value=</span><span class="s">{option.value}{selected}</span><span class="nt">&gt;</span>{option.label}<span class="nt">&lt;/option&gt;</span>
<span class="w">    </span>);
<span class="w">  </span>});

//<span class="w"> </span>pass<span class="w"> </span>{options}<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>select<span class="w"> </span>menu<span class="w"> </span>jsx
</pre></div>

<p>However that triggers a syntax error on JSX compilation.</p>
<p>Doing this gets rid of the syntax error but obviously doesn't solve the
problem:</p>
<div class="code"><pre class="code literal-block">var<span class="w"> </span>selected<span class="w"> </span>=<span class="w"> </span>(optionState<span class="w"> </span>===<span class="w"> </span>option.value)<span class="w"> </span>?<span class="w"> </span>'selected'<span class="w"> </span>:<span class="w"> </span>'false';

<span class="nt">&lt;option</span><span class="w"> </span><span class="na">value=</span><span class="s">{option.value}</span><span class="w"> </span><span class="na">selected=</span><span class="s">{selected}</span><span class="nt">&gt;</span>{option.label}<span class="nt">&lt;/option&gt;</span>
</pre></div>

<p>I also tried this:</p>
<div class="code"><pre class="code literal-block">var<span class="w"> </span>selected<span class="w"> </span>=<span class="w"> </span>(optionState<span class="w"> </span>===<span class="w"> </span>option.value)<span class="w"> </span>?<span class="w"> </span>true<span class="w"> </span>:<span class="w"> </span>false;

<span class="nt">&lt;option</span><span class="w"> </span><span class="na">value=</span><span class="s">{option.value}</span><span class="w"> </span><span class="err">{selected</span><span class="w"> </span><span class="err">?</span><span class="w"> </span><span class="err">'selected'</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="err">''}</span><span class="nt">&gt;</span>{option.label}<span class="nt">&lt;/option&gt;</span>
</pre></div>

<p>Is there a recommended way of solving this?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>React makes this even easier for you. Instead of defining <code>selected</code> on each
option, <strong>you can (and should) simply write<code>value={optionsState}</code> on the
select tag itself</strong>:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;select</span><span class="w"> </span><span class="na">value=</span><span class="s">{optionsState}</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;option</span><span class="w"> </span><span class="na">value=</span><span class="s">"A"</span><span class="nt">&gt;</span>Apple<span class="nt">&lt;/option&gt;</span>
<span class="w">  </span><span class="nt">&lt;option</span><span class="w"> </span><span class="na">value=</span><span class="s">"B"</span><span class="nt">&gt;</span>Banana<span class="nt">&lt;/option&gt;</span>
<span class="w">  </span><span class="nt">&lt;option</span><span class="w"> </span><span class="na">value=</span><span class="s">"C"</span><span class="nt">&gt;</span>Cranberry<span class="nt">&lt;/option&gt;</span>
<span class="nt">&lt;/select&gt;</span>
</pre></div>

<p>For more info, see the React select tag doc.</p>
<p>Also, React automatically understands booleans for this purpose, so you can
simply write <strong>(note: not recommended)</strong></p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;option</span><span class="w"> </span><span class="na">value=</span><span class="s">{option.value}</span><span class="w"> </span><span class="na">selected=</span><span class="s">{optionsState</span><span class="w"> </span><span class="err">==</span><span class="w"> </span><span class="err">option.value}</span><span class="nt">&gt;</span>{option.label}<span class="nt">&lt;/option&gt;</span>
</pre></div>

<p>and it will output 'selected' appropriately.</p>
<p><br></p>
<h3>Suggest</h3>
<p>You could do what React warns you when you try to set the "selected" property
of the <code>&lt;option&gt;</code>:</p>
<blockquote>
<p>Use the <code>defaultValue</code> or <code>value</code> props on <code>&lt;select&gt;</code> instead of setting
<code>selected</code> on <code>&lt;option&gt;</code>.</p>
</blockquote>
<p>So, you can use <code>options.value</code> on the <code>defaultValue</code> of your select</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1101.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1099.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

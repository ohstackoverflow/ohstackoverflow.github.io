<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 794) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-794.html">
<link rel="prev" href="index-795.html" type="text/html">
<link rel="next" href="index-793.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-see-all-foreign-keys-to-a-table-or-column/" class="u-url">How do I see all foreign keys to a table or column?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-see-all-foreign-keys-to-a-table-or-column/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T16:08:44+08:00" itemprop="datePublished" title="2023-02-17 16:08">2023-02-17 16:08</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>In MySQL, how do I get a list of all foreign key constraints pointing to a
particular table? a particular column? This is the same thing as this Oracle
question, but for MySQL.</p>
<p><br><br></p>
<h2>Answer</h2>
<p><strong>For a Table:</strong></p>
<div class="code"><pre class="code literal-block">SELECT 
  TABLE_NAME,COLUMN_NAME,CONSTRAINT_NAME, REFERENCED_TABLE_NAME,REFERENCED_COLUMN_NAME
FROM
  INFORMATION_SCHEMA.KEY_COLUMN_USAGE
WHERE
  REFERENCED_TABLE_SCHEMA = '&lt;database&gt;' AND
  REFERENCED_TABLE_NAME = '&lt;table&gt;';
</pre></div>

<p><strong>For a Column:</strong></p>
<div class="code"><pre class="code literal-block">SELECT 
  TABLE_NAME,COLUMN_NAME,CONSTRAINT_NAME, REFERENCED_TABLE_NAME,REFERENCED_COLUMN_NAME
FROM
  INFORMATION_SCHEMA.KEY_COLUMN_USAGE
WHERE
  REFERENCED_TABLE_SCHEMA = '&lt;database&gt;' AND
  REFERENCED_TABLE_NAME = '&lt;table&gt;' AND
  REFERENCED_COLUMN_NAME = '&lt;column&gt;';
</pre></div>

<p>Basically, we changed REFERENCED_TABLE_NAME with REFERENCED_COLUMN_NAME in the
where clause.</p>
<p><br></p>
<h3>Suggest</h3>
<p>EDIT: As pointed out in the comments, this is not the correct answer to the
OPs question, but it is useful to know this command. This question showed up
in Google for what I was looking for, and figured I'd leave this answer for
the others to find.</p>
<div class="code"><pre class="code literal-block"><span class="k">SHOW</span><span class="w"> </span><span class="nv">CREATE</span><span class="w"> </span><span class="nv">TABLE</span><span class="w"> </span>`<span class="o">&lt;</span><span class="nv">yourtable</span><span class="o">&gt;</span>`<span class="c1">;</span>
</pre></div>

<p>I found this answer here: MySQL : show constraints on tables command</p>
<p>I needed this way because I wanted to see how the FK functioned, rather than
just see if it existed or not.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/find-duplicate-records-in-mysql/" class="u-url">Find duplicate records in MySQL</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/find-duplicate-records-in-mysql/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T16:08:17+08:00" itemprop="datePublished" title="2023-02-17 16:08">2023-02-17 16:08</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I want to pull out duplicate records in a MySQL Database. This can be done
with:</p>
<div class="code"><pre class="code literal-block">SELECT address, count(id) as cnt FROM list
GROUP BY address HAVING cnt &gt; 1
</pre></div>

<p>Which results in:</p>
<div class="code"><pre class="code literal-block"><span class="mf">100</span><span class="w"> </span><span class="n">MAIN</span><span class="w"> </span><span class="n">ST</span><span class="w">    </span><span class="mf">2</span>
</pre></div>

<p>I would like to pull it so that it shows each row that is a duplicate.
Something like:</p>
<div class="code"><pre class="code literal-block">JIM    JONES    100 MAIN ST
JOHN   SMITH    100 MAIN ST
</pre></div>

<p>Any thoughts on how this can be done? I'm trying to avoid doing the first one
then looking up the duplicates with a second query in the code.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The key is to rewrite this query so that it can be used as a subquery.</p>
<div class="code"><pre class="code literal-block">SELECT firstname, 
   lastname, 
   list.address 
FROM list
   INNER JOIN (SELECT address
               FROM   list
               GROUP  BY address
               HAVING COUNT(id) &gt; 1) dup
           ON list.address = dup.address;
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<div class="code"><pre class="code literal-block">SELECT date FROM logs group by date having count(*) &gt;= 2
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/h-or-hpp-for-your-class-definitions/" class="u-url">*.h or *.hpp for your class definitions</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/h-or-hpp-for-your-class-definitions/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T16:07:48+08:00" itemprop="datePublished" title="2023-02-17 16:07">2023-02-17 16:07</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I've always used a <code>*.h</code> file for my class definitions, but after reading some
boost library code, I realised they all use <code>*.hpp</code>. I've always had an
aversion to that file extension, I think mainly because I'm not used to it.</p>
<p>What are the advantages and disadvantages of using <code>*.hpp</code> over <code>*.h</code>?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Here are a couple of reasons for having different naming of C vs C++ headers:</p>
<ul>
<li>Automatic code formatting, you might have different guidelines for formatting C and C++ code. If the headers are separated by extension you can set your editor to apply the appropriate formatting automatically</li>
<li>Naming, I've been on projects where there were libraries written in C and then wrappers had been implemented in C++. Since the headers usually had similar names, i.e. Feature.h vs Feature.hpp, they were easy to tell apart.</li>
<li>Inclusion, maybe your project has more appropriate versions available written in C++ but you are using the C version (see above point). If headers are named after the language they are implemented in you can easily spot all the C-headers and check for C++ versions.</li>
</ul>
<p>Remember, C is <strong>not</strong> C++ and it can be very dangerous to mix and match
unless you know what you are doing. Naming your sources appropriately helps
you tell the languages apart.</p>
<p><br></p>
<h3>Suggest</h3>
<p>I use .hpp because I want the user to differentiate what headers are C++
headers, and what headers are C headers.</p>
<p>This can be important when your project is using both C and C++ modules: Like
someone else explained before me, you should do it very carefully, and its
starts by the "contract" you offer through the extension</p>
<h2>.hpp : C++ Headers</h2>
<p><em>(Or .hxx, or .hh, or whatever)</em></p>
<p>This header is for C++ only.</p>
<p>If you're in a C module, don't even try to include it. You won't like it,
because no effort is done to make it C-friendly (too much would be lost, like
function overloading, namespaces, etc. etc.).</p>
<h2>.h : C/C++ compatible or pure C Headers</h2>
<p>This header can be included by both a C source, and a C++ source, directly or
indirectly.</p>
<p>It can included directly, being protected by the <code>__cplusplus</code> macro:</p>
<ul>
<li>Which mean that, from a C++ viewpoint, the C-compatible code will be defined as <code>extern "C"</code>.</li>
<li>From a C viewpoint, all the C code will be plainly visible, but the C++ code will be hidden (because it won't compile in a C compiler).</li>
</ul>
<p>For example:</p>
<div class="code"><pre class="code literal-block"><span class="cp">#ifndef MY_HEADER_H</span>
<span class="cp">#define MY_HEADER_H</span>

<span class="w">   </span><span class="cp">#ifdef __cplusplus</span>
<span class="w">      </span><span class="k">extern</span><span class="w"> </span><span class="s">"C"</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">   </span><span class="cp">#endif</span>

<span class="w">   </span><span class="kt">void</span><span class="w"> </span><span class="nf">myCFunction</span><span class="p">()</span><span class="w"> </span><span class="p">;</span>

<span class="w">   </span><span class="cp">#ifdef __cplusplus</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="c1">// extern "C"</span>
<span class="w">   </span><span class="cp">#endif</span>

<span class="cp">#endif </span><span class="c1">// MY_HEADER_H</span>
</pre></div>

<p>Or it could be included indirectly by the corresponding .hpp header enclosing
it with the <code>extern "C"</code> declaration.</p>
<p>For example:</p>
<div class="code"><pre class="code literal-block"><span class="cp">#ifndef MY_HEADER_HPP</span>
<span class="cp">#define MY_HEADER_HPP</span>

<span class="k">extern</span><span class="w"> </span><span class="s">"C"</span>
<span class="p">{</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">"my_header.h"</span>
<span class="p">}</span>

<span class="cp">#endif </span><span class="c1">// MY_HEADER_HPP</span>
</pre></div>

<p>and:</p>
<div class="code"><pre class="code literal-block"><span class="cp">#ifndef MY_HEADER_H</span>
<span class="cp">#define MY_HEADER_H</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">myCFunction</span><span class="p">()</span><span class="w"> </span><span class="p">;</span>

<span class="cp">#endif </span><span class="c1">// MY_HEADER_H</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-795.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-793.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

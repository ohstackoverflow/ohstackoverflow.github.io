<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1755) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1755.html">
<link rel="prev" href="index-1756.html" type="text/html">
<link rel="next" href="index-1754.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-make-a-textarea-100-width-without-overflowing-when-padding-is-present-in-css/" class="u-url">How can I make a TextArea 100% width without overflowing when padding is present in CSS?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-make-a-textarea-100-width-without-overflowing-when-padding-is-present-in-css/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T08:36:21+08:00" itemprop="datePublished" title="2023-03-03 08:36">2023-03-03 08:36</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have the following CSS and HTML snippet being rendered.</p>
<div class="code"><pre class="code literal-block">textarea
{
<span class="w">  </span>border:1px<span class="w"> </span>solid<span class="w"> </span>#999999;
<span class="w">  </span>width:100%;
<span class="w">  </span>margin:5px<span class="w"> </span>0;
<span class="w">  </span>padding:3px;
}


<span class="nt">&lt;div</span><span class="w"> </span><span class="na">style=</span><span class="s">"display: block;"</span><span class="w"> </span><span class="na">id=</span><span class="s">"rulesformitem"</span><span class="w"> </span><span class="na">class=</span><span class="s">"formitem"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;label</span><span class="w"> </span><span class="na">for=</span><span class="s">"rules"</span><span class="w"> </span><span class="na">id=</span><span class="s">"ruleslabel"</span><span class="nt">&gt;</span>Rules:<span class="nt">&lt;/label&gt;</span>
<span class="w">  </span><span class="nt">&lt;textarea</span><span class="w"> </span><span class="na">cols=</span><span class="s">"2"</span><span class="w"> </span><span class="na">rows=</span><span class="s">"10"</span><span class="w"> </span><span class="na">id=</span><span class="s">"rules"</span><span class="nt">&gt;&lt;/textarea&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p>Is the problem is that the text area ends up being 8px wider (2px for border +
6px for padding) than the parent. Is there a way to continue to use border and
padding but constrain the total size of the <code>textarea</code> to the width of the
parent?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Why not forget the hacks and just do it with CSS?</p>
<p>One I use frequently:</p>
<div class="code"><pre class="code literal-block"><span class="na">.boxsizingBorder</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">-</span><span class="nl">webkit-box-sizing:</span><span class="w"> </span><span class="nf">border-box</span><span class="c1">;</span>
<span class="w">       </span><span class="err">-</span><span class="nl">moz-box-sizing:</span><span class="w"> </span><span class="nf">border-box</span><span class="c1">;</span>
<span class="w">            </span><span class="nl">box-sizing:</span><span class="w"> </span><span class="nf">border-box</span><span class="c1">;</span>
<span class="err">}</span>
</pre></div>

<p>See browser support here.</p>
<p><br></p>
<h3>Suggest</h3>
<p>The answer to many CSS formatting problems seems to be "add another </p>
<div>!"
<p>So, in that spirit, have you tried adding a wrapper div to which the
border/padding are applied and then putting the 100% width textarea inside of
that? Something like (untested):</p>
<div class="code"><pre class="code literal-block"><span class="nf">textarea</span>
<span class="err">{</span>
<span class="w">  </span><span class="nl">width:</span><span class="err">100%</span><span class="c1">;</span>
<span class="err">}</span>
<span class="na">.textwrapper</span>
<span class="err">{</span>
<span class="w">  </span><span class="nl">border:</span><span class="err">1</span><span class="nf">px</span><span class="w"> </span><span class="no">solid</span><span class="w"> </span><span class="mi">#999999</span><span class="c1">;</span>
<span class="w">  </span><span class="nl">margin:</span><span class="err">5</span><span class="nf">px</span><span class="w"> </span><span class="mi">0</span><span class="c1">;</span>
<span class="w">  </span><span class="nl">padding:</span><span class="err">3</span><span class="nf">px</span><span class="c1">;</span>
<span class="err">}</span>


<span class="err">&lt;</span><span class="nf">div</span><span class="w"> </span><span class="no">style</span><span class="err">="</span><span class="no">display</span><span class="p">:</span><span class="w"> </span><span class="no">block</span><span class="c1">;" id="rulesformitem" class="formitem"&gt;</span>
<span class="w">  </span><span class="err">&lt;</span><span class="nf">label</span><span class="w"> </span><span class="no">for</span><span class="err">="</span><span class="no">rules</span><span class="err">"</span><span class="w"> </span><span class="no">id</span><span class="err">="</span><span class="no">ruleslabel</span><span class="err">"&gt;</span><span class="no">Rules</span><span class="p">:</span><span class="err">&lt;/</span><span class="no">label</span><span class="err">&gt;</span>
<span class="w">  </span><span class="err">&lt;</span><span class="nf">div</span><span class="w"> </span><span class="no">class</span><span class="err">="</span><span class="no">textwrapper</span><span class="err">"&gt;&lt;</span><span class="no">textarea</span><span class="w"> </span><span class="no">cols</span><span class="err">="</span><span class="mi">2</span><span class="err">"</span><span class="w"> </span><span class="no">rows</span><span class="err">="</span><span class="mi">10</span><span class="err">"</span><span class="w"> </span><span class="no">id</span><span class="err">="</span><span class="no">rules</span><span class="err">"/&gt;&lt;/</span><span class="no">div</span><span class="err">&gt;</span>
<span class="err">&lt;/</span><span class="nf">div</span><span class="err">&gt;</span>
</pre></div>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-find-a-min-max-with-ruby/" class="u-url">How to find a min/max with Ruby</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-find-a-min-max-with-ruby/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T08:36:00+08:00" itemprop="datePublished" title="2023-03-03 08:36">2023-03-03 08:36</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I want to use <code>min(5,10)</code>, or <code>Math.max(4,7)</code>. Are there functions to this
effect in Ruby?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can do</p>
<div class="code"><pre class="code literal-block">[5, 10].min
</pre></div>

<p>or</p>
<div class="code"><pre class="code literal-block">[4, 7].max
</pre></div>

<p>They come from the Enumerable module, so anything that includes <code>Enumerable</code>
will have those methods available.</p>
<p>v2.4 introduces own <code>Array#min</code> and <code>Array#max</code>, which are way faster than
Enumerable's methods because they skip calling <code>#each</code>.</p>
<p>@nicholasklick mentions another option, <code>Enumerable#minmax</code>, but this time
returning an array of <code>[min, max]</code>.</p>
<div class="code"><pre class="code literal-block">[4, 5, 7, 10].minmax
=&gt; [4, 10]
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>You can use</p>
<div class="code"><pre class="code literal-block">[5,10].min
</pre></div>

<p>or</p>
<div class="code"><pre class="code literal-block">[4,7].max
</pre></div>

<p>It's a method for Arrays.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/find-nearest-value-in-numpy-array/" class="u-url">Find nearest value in numpy array</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/find-nearest-value-in-numpy-array/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T08:35:23+08:00" itemprop="datePublished" title="2023-03-03 08:35">2023-03-03 08:35</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How do I find the <em>nearest value</em> in a numpy array? Example:</p>
<div class="code"><pre class="code literal-block">np.find_nearest(array, value)
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="k">def</span> <span class="nf">find_nearest</span><span class="p">(</span><span class="kp">array</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="kp">array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">asarray</span><span class="p">(</span><span class="kp">array</span><span class="p">)</span>
    <span class="n">idx</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="kp">abs</span><span class="p">(</span><span class="kp">array</span> <span class="o">-</span> <span class="n">value</span><span class="p">))</span><span class="o">.</span><span class="kp">argmin</span><span class="p">()</span>
    <span class="k">return</span> <span class="kp">array</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
</pre></div>

<p>Example usage:</p>
<div class="code"><pre class="code literal-block"><span class="nv">array</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">np</span>.<span class="k">random</span>.<span class="k">random</span><span class="ss">(</span><span class="mi">10</span><span class="ss">)</span>
<span class="nv">print</span><span class="ss">(</span><span class="nv">array</span><span class="ss">)</span>
#<span class="w"> </span>[<span class="w"> </span><span class="mi">0</span>.<span class="mi">21069679</span><span class="w">  </span><span class="mi">0</span>.<span class="mi">61290182</span><span class="w">  </span><span class="mi">0</span>.<span class="mi">63425412</span><span class="w">  </span><span class="mi">0</span>.<span class="mi">84635244</span><span class="w">  </span><span class="mi">0</span>.<span class="mi">91599191</span><span class="w">  </span><span class="mi">0</span>.<span class="mi">00213826</span>
#<span class="w">   </span><span class="mi">0</span>.<span class="mi">17104965</span><span class="w">  </span><span class="mi">0</span>.<span class="mi">56874386</span><span class="w">  </span><span class="mi">0</span>.<span class="mi">57319379</span><span class="w">  </span><span class="mi">0</span>.<span class="mi">28719469</span>]

<span class="nv">print</span><span class="ss">(</span><span class="nv">find_nearest</span><span class="ss">(</span><span class="nv">array</span>,<span class="w"> </span><span class="nv">value</span><span class="o">=</span><span class="mi">0</span>.<span class="mi">5</span><span class="ss">))</span>
#<span class="w"> </span><span class="mi">0</span>.<span class="mi">568743859261</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p><em>IF</em> your array is sorted and is very large, this is a much faster solution:</p>
<div class="code"><pre class="code literal-block"><span class="n">def</span><span class="w"> </span><span class="n">find_nearest</span><span class="p">(</span><span class="k">array</span><span class="p">,</span><span class="k">value</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">idx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">np</span><span class="p">.</span><span class="n">searchsorted</span><span class="p">(</span><span class="k">array</span><span class="p">,</span><span class="w"> </span><span class="k">value</span><span class="p">,</span><span class="w"> </span><span class="n">side</span><span class="o">=</span><span class="ss">"left"</span><span class="p">)</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">idx</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="p">(</span><span class="n">idx</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="k">array</span><span class="p">)</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">math</span><span class="p">.</span><span class="n">fabs</span><span class="p">(</span><span class="k">value</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">array</span><span class="o">[</span><span class="n">idx-1</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">math</span><span class="p">.</span><span class="n">fabs</span><span class="p">(</span><span class="k">value</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">array</span><span class="o">[</span><span class="n">idx</span><span class="o">]</span><span class="p">))</span><span class="err">:</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">array</span><span class="o">[</span><span class="n">idx-1</span><span class="o">]</span>
<span class="w">    </span><span class="k">else</span><span class="err">:</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">array</span><span class="o">[</span><span class="n">idx</span><span class="o">]</span>
</pre></div>

<p>This scales to very large arrays. You can easily modify the above to sort in
the method if you can't assume that the array is already sorted. It’s overkill
for small arrays, but once they get large this is much faster.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1756.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1754.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

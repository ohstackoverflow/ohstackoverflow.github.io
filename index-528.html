<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 528) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-528.html">
<link rel="prev" href="index-529.html" type="text/html">
<link rel="next" href="index-527.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-s-the-difference-between-map-and-flatmap-methods-in-java-8/" class="u-url">What's the difference between map() and flatMap() methods in Java 8?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-s-the-difference-between-map-and-flatmap-methods-in-java-8/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T09:10:32+08:00" itemprop="datePublished" title="2023-02-17 09:10">2023-02-17 09:10</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>In Java 8, what's the difference between <code>Stream.map()</code> and <code>Stream.flatMap()</code>
methods?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Both <code>map</code> and <code>flatMap</code> can be applied to a <code>Stream&lt;T&gt;</code> and they both return
a <code>Stream&lt;R&gt;</code>. The difference is that the <code>map</code> operation produces one output
value for each input value, whereas the <code>flatMap</code> operation produces an
arbitrary number (zero or more) values for each input value.</p>
<p>This is reflected in the arguments to each operation.</p>
<p>The <code>map</code> operation takes a <code>Function</code>, which is called for each value in the
input stream and produces one result value, which is sent to the output
stream.</p>
<p>The <code>flatMap</code> operation takes a function that conceptually wants to consume
one value and produce an arbitrary number of values. However, in Java, it's
cumbersome for a method to return an arbitrary number of values, since methods
can return only zero or one value. One could imagine an API where the mapper
function for <code>flatMap</code> takes a value and returns an array or a <code>List</code> of
values, which are then sent to the output. Given that this is the streams
library, a particularly apt way to represent an arbitrary number of return
values is for the mapper function itself to return a stream! The values from
the stream returned by the mapper are drained from the stream and are passed
to the output stream. The "clumps" of values returned by each call to the
mapper function are not distinguished at all in the output stream, thus the
output is said to have been "flattened."</p>
<p>Typical use is for the mapper function of <code>flatMap</code> to return <code>Stream.empty()</code>
if it wants to send zero values, or something like <code>Stream.of(a, b, c)</code> if it
wants to return several values. But of course any stream can be returned.</p>
<p><br></p>
<h3>Suggest</h3>
<p><code>Stream.flatMap</code>, as it can be guessed by its name, is the combination of a
<code>map</code> and a <code>flat</code> operation. That means that you first apply a function to
your elements, and then flatten it. <code>Stream.map</code> only applies a function to
the stream without flattening the stream.</p>
<p>To understand what <em>flattening</em> a stream consists in, consider a structure
like <code>[ [1,2,3],[4,5,6],[7,8,9] ]</code> which has "two levels". Flattening this
means transforming it in a "one level" structure : <code>[ 1,2,3,4,5,6,7,8,9 ]</code>.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-hide-the-title-bar-for-an-activity-in-xml-with-existing-custom-theme/" class="u-url">How to hide the title bar for an Activity in XML with existing custom theme</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-hide-the-title-bar-for-an-activity-in-xml-with-existing-custom-theme/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T09:10:03+08:00" itemprop="datePublished" title="2023-02-17 09:10">2023-02-17 09:10</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I want to hide the titlebar for some of my activities. The problem is that I
applied a style to all my activities, therefore I can't simply set the theme
to <code>@android:style/Theme.NoTitleBar</code>.</p>
<p>Using the <strong>NoTitleBar</strong> theme as a parent for my style would remove the title
bar from all of my activities.</p>
<p>Can I set a no title style item somewhere?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>I now did the following.</p>
<p>I declared a style inheriting everything from my general style and then
disabling the titleBar.</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;style</span><span class="w"> </span><span class="na">name=</span><span class="s">"generalnotitle"</span><span class="w"> </span><span class="na">parent=</span><span class="s">"general"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;item</span><span class="w"> </span><span class="na">name=</span><span class="s">"android:windowNoTitle"</span><span class="nt">&gt;</span>true<span class="nt">&lt;/item&gt;</span>
<span class="nt">&lt;/style&gt;</span>
</pre></div>

<p>Now I can set this style to every Activity in which I want to hide the title
bar overwriting the application wide style and inheriting all the other style
informations, therefor no duplication in the style code.</p>
<p>To apply the style to a particular Activity, open <code>AndroidManifest.xml</code> and
add the following attribute to the <code>activity</code> tag;</p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;</span><span class="n">activity</span>
<span class="w">    </span><span class="nl">android</span><span class="p">:</span><span class="n">theme</span><span class="o">=</span><span class="ss">"@style/generalnotitle"</span><span class="o">&gt;</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>You can modify your <code>AndroidManifest.xml</code>:</p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;</span><span class="n">activity</span><span class="w"> </span><span class="nl">android</span><span class="p">:</span><span class="n">name</span><span class="o">=</span><span class="ss">".MainActivity"</span>
<span class="w">          </span><span class="nl">android</span><span class="p">:</span><span class="n">label</span><span class="o">=</span><span class="ss">"@string/app_name"</span>
<span class="w">          </span><span class="nl">android</span><span class="p">:</span><span class="n">theme</span><span class="o">=</span><span class="ss">"@android:style/Theme.Black.NoTitleBar.Fullscreen"</span><span class="o">&gt;</span>
</pre></div>

<p>or use <code>android:theme="@android:style/Theme.Black.NoTitleBar"</code> if you don't
need a fullscreen Activity.</p>
<p><strong>Note:</strong> If you've used a 'default' view before, you probably should also
change the parent class from <code>AppCompatActivity</code> to <code>Activity</code>.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/error-java-lang-outofmemoryerror-gc-overhead-limit-exceeded/" class="u-url">Error java.lang.OutOfMemoryError: GC overhead limit exceeded</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/error-java-lang-outofmemoryerror-gc-overhead-limit-exceeded/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T09:09:34+08:00" itemprop="datePublished" title="2023-02-17 09:09">2023-02-17 09:09</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I get this error message as I execute my <code>JUnit</code> tests:</p>
<div class="code"><pre class="code literal-block">java.lang.OutOfMemoryError: GC overhead limit exceeded
</pre></div>

<p>I know what an <code>OutOfMemoryError</code> is, but what does GC overhead limit mean?
How can I solve this?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>This message means that for some reason the garbage collector is taking an
excessive amount of time (by default 98% of all CPU time of the process) and
recovers very little memory in each run (by default 2% of the heap).</p>
<p>This effectively means that your program stops doing any progress and is busy
running only the garbage collection at all time.</p>
<p>To prevent your application from soaking up CPU time without getting anything
done, the JVM throws this <code>Error</code> so that you have a chance of diagnosing the
problem.</p>
<p>The rare cases where I've seen this happen is where some code was creating
tons of temporary objects and tons of weakly-referenced objects in an already
very memory-constrained environment.</p>
<p>Check out the Java GC tuning guide, which is available for various Java
versions and contains sections about this specific problem:</p>
<ul>
<li>Java 11 tuning guide has dedicated sections on excessive GC for different garbage collectors: <ul>
<li>for the Parallel Collector</li>
<li>for the Concurrent Mark Sweep (CMS) Collector</li>
<li>there is no mention of this specific error condition for the Garbage First (G1) collector.</li>
</ul>
</li>
<li>Java 8 tuning guide and its Excessive GC section</li>
<li>Java 6 tuning guide and its Excessive GC section.</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<p>Quoting from Oracle's article <em>"Java SE 6 HotSpot[tm] Virtual Machine Garbage
Collection Tuning"</em> :</p>
<blockquote>
<p><strong>Excessive GC Time and OutOfMemoryError</strong></p>
<p>The parallel collector will throw an OutOfMemoryError if too much time is
being spent in garbage collection: if more than 98% of the total time is
spent in garbage collection and less than 2% of the heap is recovered, an
OutOfMemoryError will be thrown. This feature is designed to prevent
applications from running for an extended period of time while making little
or no progress because the heap is too small. If necessary, this feature can
be disabled by adding the option <code>-XX:-UseGCOverheadLimit</code> to the command
line.</p>
</blockquote>
<p>EDIT: looks like someone can type faster than me :)</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-529.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-527.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

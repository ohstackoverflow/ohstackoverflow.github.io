<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1158) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1158.html">
<link rel="prev" href="index-1159.html" type="text/html">
<link rel="next" href="index-1157.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/uitableviewcell-show-delete-button-on-swipe/" class="u-url">UITableViewCell, show delete button on swipe</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/uitableviewcell-show-delete-button-on-swipe/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T02:38:00+08:00" itemprop="datePublished" title="2023-02-18 02:38">2023-02-18 02:38</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How do I get the delete button to show when swiping on a <code>UITableViewCell</code>?
The event is never raised and the delete button never appears.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>During startup in <code>(-viewDidLoad or in storyboard)</code> do:</p>
<div class="code"><pre class="code literal-block">self.tableView.allowsMultipleSelectionDuringEditing = false
</pre></div>

<p>Override to support conditional editing of the table view. This only needs to
be implemented if you are going to be returning <code>NO</code> for some items. By
default, all items are editable.</p>
<div class="code"><pre class="code literal-block"><span class="nt">-</span><span class="w"> </span><span class="o">(</span><span class="nt">BOOL</span><span class="o">)</span><span class="nt">tableView</span><span class="o">:(</span><span class="nt">UITableView</span><span class="w"> </span><span class="o">*)</span><span class="nt">tableView</span><span class="w"> </span><span class="nt">canEditRowAtIndexPath</span><span class="o">:(</span><span class="nt">NSIndexPath</span><span class="w"> </span><span class="o">*)</span><span class="nt">indexPath</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">Return</span><span class="w"> </span><span class="err">YES</span><span class="w"> </span><span class="err">if</span><span class="w"> </span><span class="err">you</span><span class="w"> </span><span class="err">want</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">specified</span><span class="w"> </span><span class="err">item</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="err">editable.</span>
<span class="w">    </span><span class="err">return</span><span class="w"> </span><span class="err">YES</span><span class="p">;</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="nt">Override</span><span class="w"> </span><span class="nt">to</span><span class="w"> </span><span class="nt">support</span><span class="w"> </span><span class="nt">editing</span><span class="w"> </span><span class="nt">the</span><span class="w"> </span><span class="nt">table</span><span class="w"> </span><span class="nt">view</span><span class="o">.</span>
<span class="nt">-</span><span class="w"> </span><span class="o">(</span><span class="nt">void</span><span class="o">)</span><span class="nt">tableView</span><span class="o">:(</span><span class="nt">UITableView</span><span class="w"> </span><span class="o">*)</span><span class="nt">tableView</span><span class="w"> </span><span class="nt">commitEditingStyle</span><span class="o">:(</span><span class="nt">UITableViewCellEditingStyle</span><span class="o">)</span><span class="nt">editingStyle</span><span class="w"> </span><span class="nt">forRowAtIndexPath</span><span class="o">:(</span><span class="nt">NSIndexPath</span><span class="w"> </span><span class="o">*)</span><span class="nt">indexPath</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">if</span><span class="w"> </span><span class="err">(editingStyle</span><span class="w"> </span><span class="err">==</span><span class="w"> </span><span class="err">UITableViewCellEditingStyleDelete)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="err">//add</span><span class="w"> </span><span class="err">code</span><span class="w"> </span><span class="err">here</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">when</span><span class="w"> </span><span class="err">you</span><span class="w"> </span><span class="err">hit</span><span class="w"> </span><span class="err">delete</span>
<span class="w">    </span><span class="p">}</span><span class="w">    </span>
<span class="err">}</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p><em>This answer has been updated to Swift 3</em></p>
<p>I always think it is nice to have a very simple, self-contained example so
that nothing is assumed when I am learning a new task. This answer is that for
deleting <code>UITableView</code> rows. The project performs like this:</p>
<p><img alt="enter image description here" src="images/sCoUS.gif"></p>
<p>This project is based on the UITableView example for Swift.</p>
<h2>Add the Code</h2>
<p>Create a new project and replace the ViewController.swift code with the
following.</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">UIKit</span>
<span class="k">class</span> <span class="nc">ViewController</span><span class="p">:</span> <span class="n">UIViewController</span><span class="p">,</span> <span class="n">UITableViewDelegate</span><span class="p">,</span> <span class="n">UITableViewDataSource</span> <span class="p">{</span>

    <span class="o">//</span> <span class="n">These</span> <span class="n">strings</span> <span class="n">will</span> <span class="n">be</span> <span class="n">the</span> <span class="n">data</span> <span class="k">for</span> <span class="n">the</span> <span class="n">table</span> <span class="n">view</span> <span class="n">cells</span>
    <span class="n">var</span> <span class="n">animals</span><span class="p">:</span> <span class="p">[</span><span class="n">String</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"Horse"</span><span class="p">,</span> <span class="s2">"Cow"</span><span class="p">,</span> <span class="s2">"Camel"</span><span class="p">,</span> <span class="s2">"Pig"</span><span class="p">,</span> <span class="s2">"Sheep"</span><span class="p">,</span> <span class="s2">"Goat"</span><span class="p">]</span>

    <span class="n">let</span> <span class="n">cellReuseIdentifier</span> <span class="o">=</span> <span class="s2">"cell"</span>

    <span class="nd">@IBOutlet</span> <span class="n">var</span> <span class="n">tableView</span><span class="p">:</span> <span class="n">UITableView</span><span class="err">!</span>

    <span class="n">override</span> <span class="n">func</span> <span class="n">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="nb">super</span><span class="o">.</span><span class="n">viewDidLoad</span><span class="p">()</span>

        <span class="o">//</span> <span class="n">It</span> <span class="ow">is</span> <span class="n">possible</span> <span class="n">to</span> <span class="n">do</span> <span class="n">the</span> <span class="n">following</span> <span class="n">three</span> <span class="n">things</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">Interface</span> <span class="n">Builder</span>
        <span class="o">//</span> <span class="n">rather</span> <span class="n">than</span> <span class="ow">in</span> <span class="n">code</span> <span class="k">if</span> <span class="n">you</span> <span class="n">prefer</span><span class="o">.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tableView</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">UITableViewCell</span><span class="o">.</span><span class="n">self</span><span class="p">,</span> <span class="n">forCellReuseIdentifier</span><span class="p">:</span> <span class="n">cellReuseIdentifier</span><span class="p">)</span>
        <span class="n">tableView</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="n">tableView</span><span class="o">.</span><span class="n">dataSource</span> <span class="o">=</span> <span class="bp">self</span>
    <span class="p">}</span>

    <span class="o">//</span> <span class="n">number</span> <span class="n">of</span> <span class="n">rows</span> <span class="ow">in</span> <span class="n">table</span> <span class="n">view</span>
    <span class="n">func</span> <span class="n">tableView</span><span class="p">(</span><span class="n">_</span> <span class="n">tableView</span><span class="p">:</span> <span class="n">UITableView</span><span class="p">,</span> <span class="n">numberOfRowsInSection</span> <span class="n">section</span><span class="p">:</span> <span class="n">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Int</span> <span class="p">{</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">animals</span><span class="o">.</span><span class="n">count</span>
    <span class="p">}</span>

    <span class="o">//</span> <span class="n">create</span> <span class="n">a</span> <span class="n">cell</span> <span class="k">for</span> <span class="n">each</span> <span class="n">table</span> <span class="n">view</span> <span class="n">row</span>
    <span class="n">func</span> <span class="n">tableView</span><span class="p">(</span><span class="n">_</span> <span class="n">tableView</span><span class="p">:</span> <span class="n">UITableView</span><span class="p">,</span> <span class="n">cellForRowAt</span> <span class="n">indexPath</span><span class="p">:</span> <span class="n">IndexPath</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UITableViewCell</span> <span class="p">{</span>

        <span class="n">let</span> <span class="n">cell</span><span class="p">:</span><span class="n">UITableViewCell</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tableView</span><span class="o">.</span><span class="n">dequeueReusableCell</span><span class="p">(</span><span class="n">withIdentifier</span><span class="p">:</span> <span class="n">cellReuseIdentifier</span><span class="p">)</span> <span class="k">as</span> <span class="n">UITableViewCell</span><span class="err">!</span>

        <span class="n">cell</span><span class="o">.</span><span class="n">textLabel</span><span class="err">?</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">animals</span><span class="p">[</span><span class="n">indexPath</span><span class="o">.</span><span class="n">row</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">cell</span>
    <span class="p">}</span>

    <span class="o">//</span> <span class="n">method</span> <span class="n">to</span> <span class="n">run</span> <span class="n">when</span> <span class="n">table</span> <span class="n">view</span> <span class="n">cell</span> <span class="ow">is</span> <span class="n">tapped</span>
    <span class="n">func</span> <span class="n">tableView</span><span class="p">(</span><span class="n">_</span> <span class="n">tableView</span><span class="p">:</span> <span class="n">UITableView</span><span class="p">,</span> <span class="n">didSelectRowAt</span> <span class="n">indexPath</span><span class="p">:</span> <span class="n">IndexPath</span><span class="p">)</span> <span class="p">{</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"You tapped cell number \(indexPath.row)."</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="o">//</span> <span class="n">this</span> <span class="n">method</span> <span class="n">handles</span> <span class="n">row</span> <span class="n">deletion</span>
    <span class="n">func</span> <span class="n">tableView</span><span class="p">(</span><span class="n">_</span> <span class="n">tableView</span><span class="p">:</span> <span class="n">UITableView</span><span class="p">,</span> <span class="n">commit</span> <span class="n">editingStyle</span><span class="p">:</span> <span class="n">UITableViewCellEditingStyle</span><span class="p">,</span> <span class="n">forRowAt</span> <span class="n">indexPath</span><span class="p">:</span> <span class="n">IndexPath</span><span class="p">)</span> <span class="p">{</span>

        <span class="k">if</span> <span class="n">editingStyle</span> <span class="o">==</span> <span class="o">.</span><span class="n">delete</span> <span class="p">{</span>

            <span class="o">//</span> <span class="n">remove</span> <span class="n">the</span> <span class="n">item</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">data</span> <span class="n">model</span>
            <span class="n">animals</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">at</span><span class="p">:</span> <span class="n">indexPath</span><span class="o">.</span><span class="n">row</span><span class="p">)</span>

            <span class="o">//</span> <span class="n">delete</span> <span class="n">the</span> <span class="n">table</span> <span class="n">view</span> <span class="n">row</span>
            <span class="n">tableView</span><span class="o">.</span><span class="n">deleteRows</span><span class="p">(</span><span class="n">at</span><span class="p">:</span> <span class="p">[</span><span class="n">indexPath</span><span class="p">],</span> <span class="k">with</span><span class="p">:</span> <span class="o">.</span><span class="n">fade</span><span class="p">)</span>

        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="n">editingStyle</span> <span class="o">==</span> <span class="o">.</span><span class="n">insert</span> <span class="p">{</span>
            <span class="o">//</span> <span class="n">Not</span> <span class="n">used</span> <span class="ow">in</span> <span class="n">our</span> <span class="n">example</span><span class="p">,</span> <span class="n">but</span> <span class="k">if</span> <span class="n">you</span> <span class="n">were</span> <span class="n">adding</span> <span class="n">a</span> <span class="n">new</span> <span class="n">row</span><span class="p">,</span> <span class="n">this</span> <span class="ow">is</span> <span class="n">where</span> <span class="n">you</span> <span class="n">would</span> <span class="n">do</span> <span class="n">it</span><span class="o">.</span>
        <span class="p">}</span>
    <span class="p">}</span>

<span class="p">}</span>
</pre></div>

<p>The single key method in the code above that enables row deletion is the last
one. Here it is again for emphasis:</p>
<div class="code"><pre class="code literal-block"><span class="o">//</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">method</span><span class="w"> </span><span class="n">handles</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">deletion</span>
<span class="n">func</span><span class="w"> </span><span class="n">tableView</span><span class="p">(</span><span class="n">_</span><span class="w"> </span><span class="nl">tableView</span><span class="p">:</span><span class="w"> </span><span class="n">UITableView</span><span class="p">,</span><span class="w"> </span><span class="k">commit</span><span class="w"> </span><span class="nl">editingStyle</span><span class="p">:</span><span class="w"> </span><span class="n">UITableViewCellEditingStyle</span><span class="p">,</span><span class="w"> </span><span class="n">forRowAt</span><span class="w"> </span><span class="nl">indexPath</span><span class="p">:</span><span class="w"> </span><span class="n">IndexPath</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">editingStyle</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="p">.</span><span class="k">delete</span><span class="w"> </span><span class="err">{</span>

<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="n">remove</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="n">model</span>
<span class="w">        </span><span class="n">animals</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="k">at</span><span class="err">:</span><span class="w"> </span><span class="n">indexPath</span><span class="p">.</span><span class="k">row</span><span class="p">)</span>

<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="k">delete</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">table</span><span class="w"> </span><span class="k">view</span><span class="w"> </span><span class="k">row</span>
<span class="w">        </span><span class="n">tableView</span><span class="p">.</span><span class="n">deleteRows</span><span class="p">(</span><span class="k">at</span><span class="err">:</span><span class="w"> </span><span class="o">[</span><span class="n">indexPath</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="k">with</span><span class="err">:</span><span class="w"> </span><span class="p">.</span><span class="n">fade</span><span class="p">)</span>

<span class="w">    </span><span class="err">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">editingStyle</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="p">.</span><span class="k">insert</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="ow">Not</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">our</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">were</span><span class="w"> </span><span class="n">adding</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="k">row</span><span class="p">,</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">do</span><span class="w"> </span><span class="n">it</span><span class="p">.</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>
</pre></div>

<h2>Storyboard</h2>
<p>Add a <code>UITableView</code> to the View Controller in the storyboard. Use auto layout
to pin the four sides of the table view to the edges of the View Controller.
Control drag from the table view in the storyboard to the <code>@IBOutlet var
tableView: UITableView!</code> line in the code.</p>
<h2>Finished</h2>
<p>That's all. You should be able to run your app now and delete rows by swiping
left and tapping "Delete".</p>
<hr>
<h2>Variations</h2>
<p><strong>Change the "Delete" button text</strong></p>
<p><img alt="enter image description here" src="images/OfzBt.png"></p>
<p>Add the following method:</p>
<div class="code"><pre class="code literal-block"><span class="k">func</span><span class="w"> </span><span class="n">tableView</span><span class="p">(</span><span class="n">_</span><span class="w"> </span><span class="n">tableView</span><span class="p">:</span><span class="w"> </span><span class="n">UITableView</span><span class="p">,</span><span class="w"> </span><span class="n">titleForDeleteConfirmationButtonForRowAt</span><span class="w"> </span><span class="n">indexPath</span><span class="p">:</span><span class="w"> </span><span class="n">IndexPath</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nb nb-Type">String</span><span class="err">?</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s2">"Erase"</span>
<span class="p">}</span>
</pre></div>

<p><strong>Custom button actions</strong></p>
<p><img alt="enter image description here" src="images/G5RPZ.png"></p>
<p>Add the following method.</p>
<div class="code"><pre class="code literal-block"><span class="n">func</span><span class="w"> </span><span class="n">tableView</span><span class="p">(</span><span class="n">_</span><span class="w"> </span><span class="nl">tableView</span><span class="p">:</span><span class="w"> </span><span class="n">UITableView</span><span class="p">,</span><span class="w"> </span><span class="n">editActionsForRowAt</span><span class="w"> </span><span class="nl">indexPath</span><span class="p">:</span><span class="w"> </span><span class="n">IndexPath</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">[</span><span class="n">UITableViewRowAction</span><span class="o">]</span><span class="vm">?</span><span class="w"> </span><span class="err">{</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="k">action</span><span class="w"> </span><span class="n">one</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">editAction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UITableViewRowAction</span><span class="p">(</span><span class="nl">style</span><span class="p">:</span><span class="w"> </span><span class="p">.</span><span class="k">default</span><span class="p">,</span><span class="w"> </span><span class="nl">title</span><span class="p">:</span><span class="w"> </span><span class="ss">"Edit"</span><span class="p">,</span><span class="w"> </span><span class="nl">handler</span><span class="p">:</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="p">(</span><span class="k">action</span><span class="p">,</span><span class="w"> </span><span class="n">indexPath</span><span class="p">)</span><span class="w"> </span><span class="ow">in</span>
<span class="w">        </span><span class="k">print</span><span class="p">(</span><span class="ss">"Edit tapped"</span><span class="p">)</span>
<span class="w">    </span><span class="err">}</span><span class="p">)</span>
<span class="w">    </span><span class="n">editAction</span><span class="p">.</span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UIColor</span><span class="p">.</span><span class="n">blue</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="k">action</span><span class="w"> </span><span class="n">two</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">deleteAction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UITableViewRowAction</span><span class="p">(</span><span class="nl">style</span><span class="p">:</span><span class="w"> </span><span class="p">.</span><span class="k">default</span><span class="p">,</span><span class="w"> </span><span class="nl">title</span><span class="p">:</span><span class="w"> </span><span class="ss">"Delete"</span><span class="p">,</span><span class="w"> </span><span class="nl">handler</span><span class="p">:</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="p">(</span><span class="k">action</span><span class="p">,</span><span class="w"> </span><span class="n">indexPath</span><span class="p">)</span><span class="w"> </span><span class="ow">in</span>
<span class="w">        </span><span class="k">print</span><span class="p">(</span><span class="ss">"Delete tapped"</span><span class="p">)</span>
<span class="w">    </span><span class="err">}</span><span class="p">)</span>
<span class="w">    </span><span class="n">deleteAction</span><span class="p">.</span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UIColor</span><span class="p">.</span><span class="n">red</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">[</span><span class="n">editAction, deleteAction</span><span class="o">]</span>
<span class="err">}</span>
</pre></div>

<p>Note that this is only available from iOS 8. See this answer for more details.</p>
<p><em>Updated for iOS 11</em></p>
<p>Actions can be placed either leading or trailing the cell using methods added
to the UITableViewDelegate API in iOS 11.</p>
<div class="code"><pre class="code literal-block"><span class="n">func</span><span class="w"> </span><span class="n">tableView</span><span class="p">(</span><span class="n">_</span><span class="w"> </span><span class="nl">tableView</span><span class="p">:</span><span class="w"> </span><span class="n">UITableView</span><span class="p">,</span>
<span class="w">                </span><span class="n">leadingSwipeActionsConfigurationForRowAt</span><span class="w"> </span><span class="nl">indexPath</span><span class="p">:</span><span class="w"> </span><span class="n">IndexPath</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">UISwipeActionsConfiguration</span><span class="vm">?</span>
<span class="w"> </span><span class="err">{</span>
<span class="w">     </span><span class="n">let</span><span class="w"> </span><span class="n">editAction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UIContextualAction</span><span class="p">(</span><span class="nl">style</span><span class="p">:</span><span class="w"> </span><span class="p">.</span><span class="n">normal</span><span class="p">,</span><span class="w"> </span><span class="nl">title</span><span class="p">:</span><span class="w">  </span><span class="ss">"Edit"</span><span class="p">,</span><span class="w"> </span><span class="nl">handler</span><span class="p">:</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="p">(</span><span class="nl">ac</span><span class="p">:</span><span class="n">UIContextualAction</span><span class="p">,</span><span class="w"> </span><span class="k">view</span><span class="err">:</span><span class="n">UIView</span><span class="p">,</span><span class="w"> </span><span class="nl">success</span><span class="p">:(</span><span class="n">Bool</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Void</span><span class="p">)</span><span class="w"> </span><span class="ow">in</span>
<span class="w">             </span><span class="n">success</span><span class="p">(</span><span class="k">true</span><span class="p">)</span>
<span class="w">         </span><span class="err">}</span><span class="p">)</span>
<span class="n">editAction</span><span class="p">.</span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">.</span><span class="n">blue</span>

<span class="w">         </span><span class="k">return</span><span class="w"> </span><span class="n">UISwipeActionsConfiguration</span><span class="p">(</span><span class="nl">actions</span><span class="p">:</span><span class="w"> </span><span class="o">[</span><span class="n">editAction</span><span class="o">]</span><span class="p">)</span>
<span class="w"> </span><span class="err">}</span>

<span class="w"> </span><span class="n">func</span><span class="w"> </span><span class="n">tableView</span><span class="p">(</span><span class="n">_</span><span class="w"> </span><span class="nl">tableView</span><span class="p">:</span><span class="w"> </span><span class="n">UITableView</span><span class="p">,</span>
<span class="w">                </span><span class="n">trailingSwipeActionsConfigurationForRowAt</span><span class="w"> </span><span class="nl">indexPath</span><span class="p">:</span><span class="w"> </span><span class="n">IndexPath</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">UISwipeActionsConfiguration</span><span class="vm">?</span>
<span class="w"> </span><span class="err">{</span>
<span class="w">     </span><span class="n">let</span><span class="w"> </span><span class="n">deleteAction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UIContextualAction</span><span class="p">(</span><span class="nl">style</span><span class="p">:</span><span class="w"> </span><span class="p">.</span><span class="n">normal</span><span class="p">,</span><span class="w"> </span><span class="nl">title</span><span class="p">:</span><span class="w">  </span><span class="ss">"Delete"</span><span class="p">,</span><span class="w"> </span><span class="nl">handler</span><span class="p">:</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="p">(</span><span class="nl">ac</span><span class="p">:</span><span class="n">UIContextualAction</span><span class="p">,</span><span class="w"> </span><span class="k">view</span><span class="err">:</span><span class="n">UIView</span><span class="p">,</span><span class="w"> </span><span class="nl">success</span><span class="p">:(</span><span class="n">Bool</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Void</span><span class="p">)</span><span class="w"> </span><span class="ow">in</span>
<span class="w">         </span><span class="n">success</span><span class="p">(</span><span class="k">true</span><span class="p">)</span>
<span class="w">     </span><span class="err">}</span><span class="p">)</span>
<span class="w">     </span><span class="n">deleteAction</span><span class="p">.</span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">.</span><span class="n">red</span>

<span class="w">     </span><span class="k">return</span><span class="w"> </span><span class="n">UISwipeActionsConfiguration</span><span class="p">(</span><span class="nl">actions</span><span class="p">:</span><span class="w"> </span><span class="o">[</span><span class="n">deleteAction</span><span class="o">]</span><span class="p">)</span>
<span class="w"> </span><span class="err">}</span>
</pre></div>

<h2>Further reading</h2>
<ul>
<li>How To Make A Swipeable Table View Cell With Actions – Without Going Nuts With Scroll Views </li>
<li>Documentation</li>
</ul>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/applying-gitignore-to-committed-files/" class="u-url">Applying .gitignore to committed files</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/applying-gitignore-to-committed-files/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T02:37:24+08:00" itemprop="datePublished" title="2023-02-18 02:37">2023-02-18 02:37</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have committed loads of files that I now want to ignore. How can I tell git
to now ignore these files from future commits?</p>
<p>EDIT: I do want to remove them from the repository too. They are files created
after ever build or for user-specific tooling support.</p>
<p><br><br></p>
<h2>Answer</h2>
<ol>
<li>Edit <code>.gitignore</code> to match the file you want to ignore</li>
<li><code>git rm --cached /path/to/file</code></li>
</ol>
<p>See also:</p>
<ul>
<li>How do I git rm a file without deleting it from disk?</li>
<li>Remove a file from a Git repository without deleting it from the local filesystem</li>
<li>Ignoring a directory from a Git repo after it's been added</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<ol>
<li>Edit <code>.gitignore</code> to match the file you want to ignore</li>
<li><code>git rm --cached /path/to/file</code></li>
</ol>
<p>See also:</p>
<ul>
<li>How do I git rm a file without deleting it from disk?</li>
<li>Remove a file from a Git repository without deleting it from the local filesystem</li>
<li>Ignoring a directory from a Git repo after it's been added</li>
</ul>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/delete-with-join-in-mysql/" class="u-url">Delete with Join in MySQL</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/delete-with-join-in-mysql/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T02:36:59+08:00" itemprop="datePublished" title="2023-02-18 02:36">2023-02-18 02:36</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Here is the script to create my tables:</p>
<div class="code"><pre class="code literal-block">CREATE TABLE clients (
   client_i INT(11),
   PRIMARY KEY (client_id)
);
CREATE TABLE projects (
   project_id INT(11) UNSIGNED,
   client_id INT(11) UNSIGNED,
   PRIMARY KEY (project_id)
);
CREATE TABLE posts (
   post_id INT(11) UNSIGNED,
   project_id INT(11) UNSIGNED,
   PRIMARY KEY (post_id)
);
</pre></div>

<p>In my PHP code, when deleting a client, I want to delete all projects posts:</p>
<div class="code"><pre class="code literal-block">DELETE 
FROM posts
INNER JOIN projects ON projects.project_id = posts.project_id
WHERE projects.client_id = :client_id;
</pre></div>

<p>The posts table does not have a foreign key <code>client_id</code>, only <code>project_id</code>. I
want to delete the posts in projects that have the passed <code>client_id</code>.</p>
<p>This is not working right now because no posts are deleted.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You just need to specify that you want to delete the entries from the <code>posts</code>
table:</p>
<div class="code"><pre class="code literal-block">DELETE posts
FROM posts
INNER JOIN projects ON projects.project_id = posts.project_id
WHERE projects.client_id = :client_id
</pre></div>

<p>EDIT: For more information you can see this alternative answer</p>
<p><br></p>
<h3>Suggest</h3>
<p>Since you are selecting multiple tables, The table to delete from is no longer
unambiguous. You need to <em>select</em> :</p>
<div class="code"><pre class="code literal-block">DELETE posts FROM posts
INNER JOIN projects ON projects.project_id = posts.project_id
WHERE projects.client_id = :client_id
</pre></div>

<p>In this case, <code>table_name1</code> and <code>table_name2</code> are the same table, so this will
work:</p>
<div class="code"><pre class="code literal-block">DELETE projects FROM posts INNER JOIN [...]
</pre></div>

<p>You can even delete from both tables if you wanted to:</p>
<div class="code"><pre class="code literal-block">DELETE posts, projects FROM posts INNER JOIN [...]
</pre></div>

<p>Note that <code>order by</code> and <code>limit</code> don't work for multi-table deletes.</p>
<p>Also be aware that if you declare an alias for a table, you must use the alias
when referring to the table:</p>
<div class="code"><pre class="code literal-block">DELETE p FROM posts as p INNER JOIN [...]
</pre></div>

<hr>
<p>Contributions from Carpetsmoker and etc.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1159.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1157.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 114) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-114.html">
<link rel="prev" href="index-115.html" type="text/html">
<link rel="next" href="index-113.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/implements-runnable-vs-extends-thread-in-java/" class="u-url">"implements Runnable" vs "extends Thread" in Java</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/implements-runnable-vs-extends-thread-in-java/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T21:44:03+08:00" itemprop="datePublished" title="2023-02-16 21:44">2023-02-16 21:44</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>From what time I've spent with threads in <code>Java</code>, I've found these two ways to
write threads:</p>
<p>With <strong>implements<code>Runnable</code>:</strong></p>
<div class="code"><pre class="code literal-block">public class MyRunnable implements Runnable {
    public void run() {
        //Code
    }
}
//Started with a "new Thread(new MyRunnable()).start()" call
</pre></div>

<p>Or, with <strong>extends<code>Thread</code>:</strong></p>
<div class="code"><pre class="code literal-block"><span class="n">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">MyThread</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="n">Thread</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="n">MyThread</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">super</span><span class="p">(</span><span class="s2">"MyThread"</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="nb nb-Type">void</span><span class="w"> </span><span class="n">run</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="o">//</span><span class="n">Code</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
<span class="o">//</span><span class="n">Started</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s2">"new MyThread().start()"</span><span class="w"> </span><span class="n">call</span>
</pre></div>

<p>Is there any significant difference in these two blocks of code?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Yes: implements <code>Runnable</code> is the preferred way to do it, IMO. You're not
really specialising the thread's behaviour. You're just giving it something to
run. That means composition is the <em>philosophically</em> "purer" way to go.</p>
<p>In <em>practical</em> terms, it means you can implement <code>Runnable</code> and extend from
another class as well... and you can also implement <code>Runnable</code> via a lambda
expression as of Java 8.</p>
<p><br></p>
<h3>Suggest</h3>
<p><strong>tl;dr: implements Runnable is better. However, the caveat is important</strong>.</p>
<p>In general, I would recommend using something like <code>Runnable</code> rather than
<code>Thread</code> because it allows you to keep your work only loosely coupled with
your choice of concurrency. For example, if you use a <code>Runnable</code> and decide
later on that this doesn't in fact require its own <code>Thread</code>, you can just call
threadA.run().</p>
<p><strong>Caveat:</strong> Around here, I strongly discourage the use of raw Threads. I much
prefer the use of Callables and FutureTasks (From the javadoc: "A cancellable
asynchronous computation"). The integration of timeouts, proper cancelling and
the thread pooling of the modern concurrency support are all much more useful
to me than piles of raw Threads.</p>
<p><strong>Follow-up:</strong> There is a <code>FutureTask</code> constructor that allows you to use
Runnables (if that's what you are most comfortable with) and still get the
benefit of the modern concurrency tools. To quote the javadoc:</p>
<p>If you don't need a particular result, consider using constructions of the
form:</p>
<div class="code"><pre class="code literal-block"><span class="nx">Future</span><span class="cp">&lt;?</span><span class="o">&gt;</span> <span class="nx">f</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FutureTask</span><span class="o">&lt;</span><span class="nx">Object</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">runnable</span><span class="p">,</span> <span class="k">null</span><span class="p">)</span>
</pre></div>

<p>So, if we replace their <code>runnable</code> with your <code>threadA</code>, we get the following:</p>
<div class="code"><pre class="code literal-block">new FutureTask&lt;Object&gt;(threadA, null)
</pre></div>

<p>Another option that allows you to stay closer to Runnables is a
ThreadPoolExecutor. You can use the execute method to pass in a Runnable to
execute "the given task sometime in the future".</p>
<p>If you'd like to try using a thread pool, the code fragment above would become
something like the following (using the Executors.newCachedThreadPool()
factory method):</p>
<div class="code"><pre class="code literal-block">ExecutorService es = Executors.newCachedThreadPool();
es.execute(new ThreadA());
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-recover-a-dropped-stash-in-git/" class="u-url">How do I recover a dropped stash in Git?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-recover-a-dropped-stash-in-git/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T21:43:33+08:00" itemprop="datePublished" title="2023-02-16 21:43">2023-02-16 21:43</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I frequently use <code>git stash</code> and <code>git stash pop</code> to save and restore changes
in my working tree. Yesterday, I had some changes in my working tree that I
had stashed and popped, and then I made more changes to my working tree. I'd
like to go back and review yesterday's stashed changes, but <code>git stash pop</code>
appears to remove all references to the associated commit.</p>
<p>I know that if I use <code>git stash</code> then <em>.git/refs/stash contains</em> the reference
of the commit used to create the stash. And <em>.git/logs/refs/stash contains</em>
the whole stash. But those references are gone after <code>git stash pop</code>. I know
that the commit is still in my repository somewhere, but I don't know what it
was.</p>
<p>Is there an easy way to recover yesterday's stash commit reference?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Once you know the hash of the stash commit you dropped, you can apply it as a
stash:</p>
<div class="code"><pre class="code literal-block">git stash apply $stash_hash
</pre></div>

<p>Or, you can create a separate branch for it with</p>
<div class="code"><pre class="code literal-block">git branch recovered $stash_hash
</pre></div>

<p>After that, you can do whatever you want with all the normal tools. When
you’re done, just blow the branch away.</p>
<h2>Finding the hash</h2>
<p>If you have only just popped it and the terminal is still open, you will still
have the hash value printed by <code>git stash pop</code> on screen (thanks, Dolda).</p>
<p>Otherwise, you can find it using this for Linux, Unix or Git Bash for Windows:</p>
<div class="code"><pre class="code literal-block">git fsck --no-reflog | awk '/dangling commit/ {print $3}'
</pre></div>

<p>...or using PowerShell for Windows:</p>
<div class="code"><pre class="code literal-block">git fsck --no-reflog | select-string 'dangling commit' | foreach { $_.ToString().Split(" ")[2] }
</pre></div>

<p>This will show you all the commits at the tips of your commit graph which are
no longer referenced from any branch or tag – every lost commit, including
every stash commit you’ve ever created, will be somewhere in that graph.</p>
<p>The easiest way to find the stash commit you want is probably to pass that
list to <code>gitk</code>:</p>
<div class="code"><pre class="code literal-block">gitk --all $( git fsck --no-reflog | awk '/dangling commit/ {print $3}' )
</pre></div>

<p>...or see the answer from emragins if using PowerShell for Windows.</p>
<p>This will launch a repository browser showing you <em>every single commit in the
repository ever</em> , regardless of whether it is reachable or not.</p>
<p>You can replace <code>gitk</code> there with something like <code>git log --graph --oneline
--decorate</code> if you prefer a nice graph on the console over a separate GUI app.</p>
<p>To spot stash commits, look for commit messages of this form:</p>
<p>WIP on <em>somebranch</em> : <em>commithash Some old commit message</em></p>
<p><em>Note</em> : The commit message will only be in this form (starting with "WIP on")
if you did not supply a message when you did <code>git stash</code>.</p>
<p><br></p>
<h3>Suggest</h3>
<p>If you didn't close the terminal, just look at the output from <code>git stash pop</code>
and you'll have the object ID of the dropped stash. It normally looks like
this:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>git<span class="w"> </span>stash<span class="w"> </span>pop
<span class="o">[</span>...<span class="o">]</span>
Dropped<span class="w"> </span>refs/stash@<span class="o">{</span><span class="m">0</span><span class="o">}</span><span class="w"> </span><span class="o">(</span>2ca03e22256be97f9e40f08e6d6773c7d41dbfd1<span class="o">)</span>
</pre></div>

<p>(Note that <code>git stash drop</code> also produces the same line.)</p>
<p>To get that stash back, just run <code>git branch tmp 2cae03e</code>, and you'll get it
as a branch. To convert this to a stash, run:</p>
<div class="code"><pre class="code literal-block">git stash apply tmp
git stash
</pre></div>

<p>Having it as a branch also allows you to manipulate it freely; for example, to
cherry-pick it or merge it.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-are-mvp-and-mvc-and-what-is-the-difference/" class="u-url">What are MVP and MVC and what is the difference?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-are-mvp-and-mvc-and-what-is-the-difference/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T21:42:58+08:00" itemprop="datePublished" title="2023-02-16 21:42">2023-02-16 21:42</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p><strong>Want to improve this post?</strong> Provide detailed answers to this question,
including citations and an explanation of why your answer is correct. Answers
without enough detail may be edited or deleted.</p>
<p>When looking beyond the RAD (drag-drop and configure) way of building user
interfaces that many tools encourage you are likely to come across three
design patterns called Model-View-Controller, Model-View-Presenter and Model-
View-ViewModel. My question has three parts to it:</p>
<ol>
<li>What issues do these patterns address?</li>
<li>How are they similar?</li>
<li>How are they different?</li>
</ol>
<p><br><br></p>
<h2>Answer</h2>
<h3>Model-View-Presenter</h3>
<p>In <strong>MVP</strong> , the Presenter contains the UI business logic for the View. All
invocations from the View delegate directly to the Presenter. The Presenter is
also decoupled directly from the View and talks to it through an interface.
This is to allow mocking of the View in a unit test. One common attribute of
MVP is that there has to be a lot of two-way dispatching. For example, when
someone clicks the "Save" button, the event handler delegates to the
Presenter's "OnSave" method. Once the save is completed, the Presenter will
then call back the View through its interface so that the View can display
that the save has completed.</p>
<p>MVP tends to be a very natural pattern for achieving separated presentation in
WebForms. The reason is that the View is always created first by the ASP.NET
runtime. You can find out more about both variants.</p>
<h4>Two primary variations</h4>
<p><strong>Passive View:</strong> The View is as dumb as possible and contains almost zero
logic. A Presenter is a middle man that talks to the View and the Model. The
View and Model are completely shielded from one another. The Model may raise
events, but the Presenter subscribes to them for updating the View. In Passive
View there is no direct data binding, instead, the View exposes setter
properties that the Presenter uses to set the data. All state is managed in
the Presenter and not the View.</p>
<ul>
<li>Pro: maximum testability surface; clean separation of the View and Model</li>
<li>Con: more work (for example all the setter properties) as you are doing all the data binding yourself.</li>
</ul>
<p><strong>Supervising Controller:</strong> The Presenter handles user gestures. The View
binds to the Model directly through data binding. In this case, it's the
Presenter's job to pass off the Model to the View so that it can bind to it.
The Presenter will also contain logic for gestures like pressing a button,
navigation, etc.</p>
<ul>
<li>Pro: by leveraging data binding the amount of code is reduced.</li>
<li>Con: there's a less testable surface (because of data binding), and there's less encapsulation in the View since it talks directly to the Model.</li>
</ul>
<h3>Model-View-Controller</h3>
<p>In the <strong>MVC</strong> , the Controller is responsible for determining which View to
display in response to any action including when the application loads. This
differs from MVP where actions route through the View to the Presenter. In
MVC, every action in the View correlates with a call to a Controller along
with an action. In the web, each action involves a call to a URL on the other
side of which there is a Controller who responds. Once that Controller has
completed its processing, it will return the correct View. The sequence
continues in that manner throughout the life of the application:</p>
<div class="code"><pre class="code literal-block"><span class="w">    </span><span class="n">Action</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">View</span>
<span class="w">        </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Call</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">Controller</span>
<span class="w">        </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Controller</span><span class="w"> </span><span class="n">Logic</span>
<span class="w">        </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Controller</span><span class="w"> </span><span class="n">returns</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">View</span><span class="p">.</span>
</pre></div>

<p>One other big difference about MVC is that the View does not directly bind to
the Model. The view simply renders and is completely stateless. In
implementations of MVC, the View usually will not have any logic in the code
behind. This is contrary to MVP where it is absolutely necessary because, if
the View does not delegate to the Presenter, it will never get called.</p>
<h3>Presentation Model</h3>
<p>One other pattern to look at is the <strong>Presentation Model</strong> pattern. In this
pattern, there is no Presenter. Instead, the View binds directly to a
Presentation Model. The Presentation Model is a Model crafted specifically for
the View. This means this Model can expose properties that one would never put
on a domain model as it would be a violation of separation-of-concerns. In
this case, the Presentation Model binds to the domain model and may subscribe
to events coming from that Model. The View then subscribes to events coming
from the Presentation Model and updates itself accordingly. The Presentation
Model can expose commands which the view uses for invoking actions. The
advantage of this approach is that you can essentially remove the code-behind
altogether as the PM completely encapsulates all of the behavior for the view.
This pattern is a very strong candidate for use in WPF applications and is
also called Model-View-ViewModel.</p>
<p>There is a MSDN article about the Presentation Model and a section in the
Composite Application Guidance for WPF (former Prism) about Separated
Presentation Patterns</p>
<p><br></p>
<h3>Suggest</h3>
<p>This is an oversimplification of the many variants of these design patterns,
but this is how I like to think about the differences between the two.</p>
<p><strong>MVC</strong></p>
<p><img alt="MVC" src="images/X3CAF.png"></p>
<p><strong>MVP</strong></p>
<p><img alt="enter image description here" src="images/Pa0iB.png"></p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-115.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-113.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2574) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2574.html">
<link rel="prev" href="index-2575.html" type="text/html">
<link rel="next" href="index-2573.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-s-the-difference-between-viewdata-and-viewbag/" class="u-url">What's the difference between ViewData and ViewBag?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-s-the-difference-between-viewdata-and-viewbag/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T02:05:21+08:00" itemprop="datePublished" title="2023-03-05 02:05">2023-03-05 02:05</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I saw the <code>ViewBag</code> in MVC 3. How's that different than <code>ViewData</code> in MVC 2?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>It uses the C# 4.0 dynamic feature. It achieves the same goal as viewdata and
should be avoided in favor of using strongly typed view models (the same way
as viewdata should be avoided).</p>
<p>So basically it replaces <em>magic strings</em> :</p>
<div class="code"><pre class="code literal-block">ViewData["Foo"]
</pre></div>

<p>with <em>magic properties</em> :</p>
<div class="code"><pre class="code literal-block">ViewBag.Foo
</pre></div>

<p>for which you have no compile time safety.</p>
<p>I continue to blame Microsoft for ever introducing this concept in MVC.</p>
<p>The name of the properties are case sensitive.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Internally <strong>ViewBag</strong> properties are stored as name/value pairs in the
<strong>ViewData dictionary</strong>.</p>
<p>Note: in most pre-release versions of MVC 3, the ViewBag property was named
the ViewModel as noted in this snippet from MVC 3 release notes:</p>
<p><strong>(edited 10-8-12)</strong> It was suggested I post the source of this info I posted,
here is the source: http://www.asp.net/whitepapers/mvc3-release-notes#_Toc2_4</p>
<blockquote>
<p>MVC 2 controllers support a ViewData property that enables you to pass data
to a view template using a late-bound dictionary API. In MVC 3, you can also
use somewhat simpler syntax with the ViewBag property to accomplish the same
purpose. For example, instead of writing ViewData["Message"]="text", you can
write ViewBag.Message="text". You do not need to define any strongly-typed
classes to use the ViewBag property. Because it is a dynamic property, you
can instead just get or set properties and it will resolve them dynamically
at run time. Internally, ViewBag properties are stored as name/value pairs
in the ViewData dictionary. (Note: in most pre-release versions of MVC 3,
the ViewBag property was named the ViewModel property.)</p>
</blockquote>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/httpclient-getasync-never-returns-when-using-await-async/" class="u-url">HttpClient.GetAsync(...) never returns when using await/async</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/httpclient-getasync-never-returns-when-using-await-async/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T02:03:55+08:00" itemprop="datePublished" title="2023-03-05 02:03">2023-03-05 02:03</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p><strong>Edit:</strong> This question looks like it might be the same problem, but has no
responses...</p>
<p><strong>Edit:</strong> In test case 5 the task appears to be stuck in
<code>WaitingForActivation</code> state.</p>
<p>I've encountered some odd behaviour using the System.Net.Http.HttpClient in
.NET 4.5 - where "awaiting" the result of a call to (e.g.)
<code>httpClient.GetAsync(...)</code> will never return.</p>
<p>This only occurs in certain circumstances when using the new async/await
language functionality and Tasks API - the code always seems to work when
using only continuations.</p>
<p>Here's some code which reproduces the problem - drop this into a new "MVC 4
WebApi project" in Visual Studio 11 to expose the following GET endpoints:</p>
<div class="code"><pre class="code literal-block">/api/test1
/api/test2
/api/test3
/api/test4
/api/test5 &lt;--- never completes
/api/test6
</pre></div>

<p>Each of the endpoints here return the same data (the response headers from
stackoverflow.com) except for <code>/api/test5</code> which never completes.</p>
<h2>Have I encountered a bug in the HttpClient class, or am I misusing the API</h2>
<p>in some way?</p>
<p><strong>Code to reproduce:</strong></p>
<div class="code"><pre class="code literal-block">public<span class="w"> </span>class<span class="w"> </span>BaseApiController<span class="w"> </span>:<span class="w"> </span>ApiController
{
<span class="w">    </span>///<span class="w"> </span><span class="nt">&lt;summary&gt;</span>
<span class="w">    </span>///<span class="w"> </span>Retrieves<span class="w"> </span>data<span class="w"> </span>using<span class="w"> </span>continuations
<span class="w">    </span>///<span class="w"> </span><span class="nt">&lt;/summary&gt;</span>
<span class="w">    </span>protected<span class="w"> </span>Task<span class="nt">&lt;string&gt;</span><span class="w"> </span>Continuations_GetSomeDataAsync()
<span class="w">    </span>{
<span class="w">        </span>var<span class="w"> </span>httpClient<span class="w"> </span>=<span class="w"> </span>new<span class="w"> </span>HttpClient();

<span class="w">        </span>var<span class="w"> </span>t<span class="w"> </span>=<span class="w"> </span>httpClient.GetAsync("http://stackoverflow.com",<span class="w"> </span>HttpCompletionOption.ResponseHeadersRead);

<span class="w">        </span>return<span class="w"> </span>t.ContinueWith(t1<span class="w"> </span>=&gt;<span class="w"> </span>t1.Result.Content.Headers.ToString());
<span class="w">    </span>}

<span class="w">    </span>///<span class="w"> </span><span class="nt">&lt;summary&gt;</span>
<span class="w">    </span>///<span class="w"> </span>Retrieves<span class="w"> </span>data<span class="w"> </span>using<span class="w"> </span>async/await
<span class="w">    </span>///<span class="w"> </span><span class="nt">&lt;/summary&gt;</span>
<span class="w">    </span>protected<span class="w"> </span>async<span class="w"> </span>Task<span class="nt">&lt;string&gt;</span><span class="w"> </span>AsyncAwait_GetSomeDataAsync()
<span class="w">    </span>{
<span class="w">        </span>var<span class="w"> </span>httpClient<span class="w"> </span>=<span class="w"> </span>new<span class="w"> </span>HttpClient();

<span class="w">        </span>var<span class="w"> </span>result<span class="w"> </span>=<span class="w"> </span>await<span class="w"> </span>httpClient.GetAsync("http://stackoverflow.com",<span class="w"> </span>HttpCompletionOption.ResponseHeadersRead);

<span class="w">        </span>return<span class="w"> </span>result.Content.Headers.ToString();
<span class="w">    </span>}
}

public<span class="w"> </span>class<span class="w"> </span>Test1Controller<span class="w"> </span>:<span class="w"> </span>BaseApiController
{
<span class="w">    </span>///<span class="w"> </span><span class="nt">&lt;summary&gt;</span>
<span class="w">    </span>///<span class="w"> </span>Handles<span class="w"> </span>task<span class="w"> </span>using<span class="w"> </span>Async/Await
<span class="w">    </span>///<span class="w"> </span><span class="nt">&lt;/summary&gt;</span>
<span class="w">    </span>public<span class="w"> </span>async<span class="w"> </span>Task<span class="nt">&lt;string&gt;</span><span class="w"> </span>Get()
<span class="w">    </span>{
<span class="w">        </span>var<span class="w"> </span>data<span class="w"> </span>=<span class="w"> </span>await<span class="w"> </span>Continuations_GetSomeDataAsync();

<span class="w">        </span>return<span class="w"> </span>data;
<span class="w">    </span>}
}

public<span class="w"> </span>class<span class="w"> </span>Test2Controller<span class="w"> </span>:<span class="w"> </span>BaseApiController
{
<span class="w">    </span>///<span class="w"> </span><span class="nt">&lt;summary&gt;</span>
<span class="w">    </span>///<span class="w"> </span>Handles<span class="w"> </span>task<span class="w"> </span>by<span class="w"> </span>blocking<span class="w"> </span>the<span class="w"> </span>thread<span class="w"> </span>until<span class="w"> </span>the<span class="w"> </span>task<span class="w"> </span>completes
<span class="w">    </span>///<span class="w"> </span><span class="nt">&lt;/summary&gt;</span>
<span class="w">    </span>public<span class="w"> </span>string<span class="w"> </span>Get()
<span class="w">    </span>{
<span class="w">        </span>var<span class="w"> </span>task<span class="w"> </span>=<span class="w"> </span>Continuations_GetSomeDataAsync();

<span class="w">        </span>var<span class="w"> </span>data<span class="w"> </span>=<span class="w"> </span>task.GetAwaiter().GetResult();

<span class="w">        </span>return<span class="w"> </span>data;
<span class="w">    </span>}
}

public<span class="w"> </span>class<span class="w"> </span>Test3Controller<span class="w"> </span>:<span class="w"> </span>BaseApiController
{
<span class="w">    </span>///<span class="w"> </span><span class="nt">&lt;summary&gt;</span>
<span class="w">    </span>///<span class="w"> </span>Passes<span class="w"> </span>the<span class="w"> </span>task<span class="w"> </span>back<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>controller<span class="w"> </span>host
<span class="w">    </span>///<span class="w"> </span><span class="nt">&lt;/summary&gt;</span>
<span class="w">    </span>public<span class="w"> </span>Task<span class="nt">&lt;string&gt;</span><span class="w"> </span>Get()
<span class="w">    </span>{
<span class="w">        </span>return<span class="w"> </span>Continuations_GetSomeDataAsync();
<span class="w">    </span>}
}

public<span class="w"> </span>class<span class="w"> </span>Test4Controller<span class="w"> </span>:<span class="w"> </span>BaseApiController
{
<span class="w">    </span>///<span class="w"> </span><span class="nt">&lt;summary&gt;</span>
<span class="w">    </span>///<span class="w"> </span>Handles<span class="w"> </span>task<span class="w"> </span>using<span class="w"> </span>Async/Await
<span class="w">    </span>///<span class="w"> </span><span class="nt">&lt;/summary&gt;</span>
<span class="w">    </span>public<span class="w"> </span>async<span class="w"> </span>Task<span class="nt">&lt;string&gt;</span><span class="w"> </span>Get()
<span class="w">    </span>{
<span class="w">        </span>var<span class="w"> </span>data<span class="w"> </span>=<span class="w"> </span>await<span class="w"> </span>AsyncAwait_GetSomeDataAsync();

<span class="w">        </span>return<span class="w"> </span>data;
<span class="w">    </span>}
}

public<span class="w"> </span>class<span class="w"> </span>Test5Controller<span class="w"> </span>:<span class="w"> </span>BaseApiController
{
<span class="w">    </span>///<span class="w"> </span><span class="nt">&lt;summary&gt;</span>
<span class="w">    </span>///<span class="w"> </span>Handles<span class="w"> </span>task<span class="w"> </span>by<span class="w"> </span>blocking<span class="w"> </span>the<span class="w"> </span>thread<span class="w"> </span>until<span class="w"> </span>the<span class="w"> </span>task<span class="w"> </span>completes
<span class="w">    </span>///<span class="w"> </span><span class="nt">&lt;/summary&gt;</span>
<span class="w">    </span>public<span class="w"> </span>string<span class="w"> </span>Get()
<span class="w">    </span>{
<span class="w">        </span>var<span class="w"> </span>task<span class="w"> </span>=<span class="w"> </span>AsyncAwait_GetSomeDataAsync();

<span class="w">        </span>var<span class="w"> </span>data<span class="w"> </span>=<span class="w"> </span>task.GetAwaiter().GetResult();

<span class="w">        </span>return<span class="w"> </span>data;
<span class="w">    </span>}
}

public<span class="w"> </span>class<span class="w"> </span>Test6Controller<span class="w"> </span>:<span class="w"> </span>BaseApiController
{
<span class="w">    </span>///<span class="w"> </span><span class="nt">&lt;summary&gt;</span>
<span class="w">    </span>///<span class="w"> </span>Passes<span class="w"> </span>the<span class="w"> </span>task<span class="w"> </span>back<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>controller<span class="w"> </span>host
<span class="w">    </span>///<span class="w"> </span><span class="nt">&lt;/summary&gt;</span>
<span class="w">    </span>public<span class="w"> </span>Task<span class="nt">&lt;string&gt;</span><span class="w"> </span>Get()
<span class="w">    </span>{
<span class="w">        </span>return<span class="w"> </span>AsyncAwait_GetSomeDataAsync();
<span class="w">    </span>}
}
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>You are misusing the API.</p>
<p>Here's the situation: in ASP.NET, only one thread can handle a request at a
time. You can do some parallel processing if necessary (borrowing additional
threads from the thread pool), but only one thread would have the request
context (the additional threads do not have the request context).</p>
<p>This is managed by the ASP.NET <code>SynchronizationContext</code>.</p>
<p>By default, when you <code>await</code> a <code>Task</code>, the method resumes on a captured
<code>SynchronizationContext</code> (or a captured <code>TaskScheduler</code>, if there is no
<code>SynchronizationContext</code>). Normally, this is just what you want: an
asynchronous controller action will <code>await</code> something, and when it resumes, it
resumes with the request context.</p>
<p>So, here's why <code>test5</code> fails:</p>
<ul>
<li>
<code>Test5Controller.Get</code> executes <code>AsyncAwait_GetSomeDataAsync</code> (within the ASP.NET request context).</li>
<li>
<code>AsyncAwait_GetSomeDataAsync</code> executes <code>HttpClient.GetAsync</code> (within the ASP.NET request context).</li>
<li>The HTTP request is sent out, and <code>HttpClient.GetAsync</code> returns an uncompleted <code>Task</code>.</li>
<li>
<code>AsyncAwait_GetSomeDataAsync</code> awaits the <code>Task</code>; since it is not complete, <code>AsyncAwait_GetSomeDataAsync</code> returns an uncompleted <code>Task</code>.</li>
<li>
<code>Test5Controller.Get</code> <strong>blocks</strong> the current thread until that <code>Task</code> completes.</li>
<li>The HTTP response comes in, and the <code>Task</code> returned by <code>HttpClient.GetAsync</code> is completed.</li>
<li>
<code>AsyncAwait_GetSomeDataAsync</code> attempts to resume within the ASP.NET request context. However, there is already a thread in that context: the thread blocked in <code>Test5Controller.Get</code>.</li>
<li>Deadlock.</li>
</ul>
<p>Here's why the other ones work:</p>
<ul>
<li>(<code>test1</code>, <code>test2</code>, and <code>test3</code>): <code>Continuations_GetSomeDataAsync</code> schedules the continuation to the thread pool, <em>outside</em> the ASP.NET request context. This allows the <code>Task</code> returned by <code>Continuations_GetSomeDataAsync</code> to complete without having to re-enter the request context.</li>
<li>(<code>test4</code> and <code>test6</code>): Since the <code>Task</code> is <em>awaited</em> , the ASP.NET request thread is not blocked. This allows <code>AsyncAwait_GetSomeDataAsync</code> to use the ASP.NET request context when it is ready to continue.</li>
</ul>
<p>And here's the best practices:</p>
<ol>
<li>In your "library" <code>async</code> methods, use <code>ConfigureAwait(false)</code> whenever possible. In your case, this would change <code>AsyncAwait_GetSomeDataAsync</code> to be <code>var result = await httpClient.GetAsync("http://stackoverflow.com", HttpCompletionOption.ResponseHeadersRead).ConfigureAwait(false);</code>
</li>
<li>Don't block on <code>Task</code>s; it's <code>async</code> all the way down. In other words, use <code>await</code> instead of <code>GetResult</code> (<code>Task.Result</code> and <code>Task.Wait</code> should also be replaced with <code>await</code>).</li>
</ol>
<p>That way, you get both benefits: the continuation (the remainder of the
<code>AsyncAwait_GetSomeDataAsync</code> method) is run on a basic thread pool thread
that doesn't have to enter the ASP.NET request context; and the controller
itself is <code>async</code> (which doesn't block a request thread).</p>
<p>More information:</p>
<ul>
<li>My <code>async</code>/<code>await</code> intro post, which includes a brief description of how <code>Task</code> awaiters use <code>SynchronizationContext</code>.</li>
<li>The Async/Await FAQ, which goes into more detail on the contexts. Also see Await, and UI, and deadlocks! Oh, my! which <em>does</em> apply here even though you're in ASP.NET rather than a UI, because the ASP.NET <code>SynchronizationContext</code> restricts the request context to just one thread at a time.</li>
<li>This MSDN forum post.</li>
<li>Stephen Toub demos this deadlock (using a UI), and so does Lucian Wischik.</li>
</ul>
<p><strong>Update 2012-07-13:</strong> Incorporated this answer into a blog post.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Edit: Generally try to avoid doing the below except as a last ditch effort to
avoid deadlocks. Read the first comment from Stephen Cleary.</p>
<p>Quick fix from here. Instead of writing:</p>
<div class="code"><pre class="code literal-block"><span class="nv">Task</span><span class="w"> </span><span class="nv">tsk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">AsyncOperation</span><span class="ss">()</span><span class="c1">;</span>
<span class="nv">tsk</span>.<span class="k">Wait</span><span class="ss">()</span><span class="c1">;</span>
</pre></div>

<p>Try:</p>
<div class="code"><pre class="code literal-block"><span class="nv">Task</span>.<span class="nv">Run</span><span class="ss">(()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nv">AsyncOperation</span><span class="ss">())</span>.<span class="k">Wait</span><span class="ss">()</span><span class="c1">;</span>
</pre></div>

<p>Or if you need a result:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Task</span><span class="o">.</span><span class="n">Run</span><span class="p">(()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">AsyncOperation</span><span class="p">())</span><span class="o">.</span><span class="n">Result</span><span class="p">;</span>
</pre></div>

<p>From the source (edited to match the above example):</p>
<blockquote>
<p>AsyncOperation will now be invoked on the ThreadPool, where there won’t be a
SynchronizationContext, and the continuations used inside of AsyncOperation
won’t be forced back to the invoking thread.</p>
</blockquote>
<p>For me this looks like a useable option since I do not have the option of
making it async all the way (which I would prefer).</p>
<p>From the source:</p>
<blockquote>
<p>Ensure that the await in the FooAsync method doesn’t find a context to
marshal back to. The simplest way to do that is to invoke the asynchronous
work from the ThreadPool, such as by wrapping the invocation in a Task.Run,
e.g.</p>
<p>int Sync() { return Task.Run(() =&gt; Library.FooAsync()).Result; }</p>
<p>FooAsync will now be invoked on the ThreadPool, where there won’t be a
SynchronizationContext, and the continuations used inside of FooAsync won’t
be forced back to the thread that’s invoking Sync().</p>
</blockquote>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-divide-two-integers-to-get-a-double/" class="u-url">How can I divide two integers to get a double?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-divide-two-integers-to-get-a-double/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T02:02:39+08:00" itemprop="datePublished" title="2023-03-05 02:02">2023-03-05 02:02</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How do I divide two integers to get a double?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You want to cast the numbers:</p>
<div class="code"><pre class="code literal-block">double num3 = (double)num1/(double)num2;
</pre></div>

<p>Note: If any of the arguments in C# is a <code>double</code>, a <code>double</code> divide is used
which results in a <code>double</code>. So, the following would work too:</p>
<div class="code"><pre class="code literal-block">double num3 = (double)num1/num2;
</pre></div>

<p>For more information see:</p>
<p>Dot Net Perls</p>
<p><br></p>
<h3>Suggest</h3>
<p>Complementing the @NoahD's answer</p>
<p>To have a greater precision you can cast to decimal:</p>
<div class="code"><pre class="code literal-block">(decimal)100/863
//0.1158748551564310544611819235
</pre></div>

<p>Or:</p>
<div class="code"><pre class="code literal-block">Decimal.Divide(100, 863)
//0.1158748551564310544611819235
</pre></div>

<p>Double are represented allocating 64 bits while decimal uses 128</p>
<div class="code"><pre class="code literal-block">(double)100/863
//0.11587485515643106
</pre></div>

<h4>In depth explanation of "precision"</h4>
<p>For more details about the floating point representation in binary and its
precision take a look at this article from Jon Skeet where he talks about
<code>floats</code> and <code>doubles</code> and this one where he talks about <code>decimals</code>.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2575.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2573.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

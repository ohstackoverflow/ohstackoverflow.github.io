<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2046) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2046.html">
<link rel="prev" href="index-2047.html" type="text/html">
<link rel="next" href="index-2045.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-get-rid-of-deprecated-conversion-from-string-constant-to-char-warnings-in-gcc/" class="u-url">How to get rid of `deprecated conversion from string constant to ‘char*’` warnings in GCC</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-get-rid-of-deprecated-conversion-from-string-constant-to-char-warnings-in-gcc/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T15:40:37+08:00" itemprop="datePublished" title="2023-03-03 15:40">2023-03-03 15:40</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm working on an exceedingly large codebase, and recently upgraded to GCC
4.3, which now triggers this warning:</p>
<blockquote>
<p>warning: deprecated conversion from string constant to ‘char*’</p>
</blockquote>
<p>Obviously, the correct way to fix this is to find every declaration like</p>
<div class="code"><pre class="code literal-block"><span class="nb">char</span><span class="w"> </span><span class="o">*</span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"constant string"</span><span class="p">;</span>
</pre></div>

<p>or function call like:</p>
<div class="code"><pre class="code literal-block"><span class="nb nb-Type">void</span><span class="w"> </span><span class="n">foo</span><span class="p">(</span><span class="nb">char</span><span class="w"> </span><span class="o">*</span><span class="n">s</span><span class="p">);</span>
<span class="n">foo</span><span class="p">(</span><span class="s2">"constant string"</span><span class="p">);</span>
</pre></div>

<p>and make them <code>const char</code> pointers. However, that would mean touching 564
files, minimum, which is not a task I wish to perform at this point in time.
The problem right now is that I'm running with -Werror, so I need some way to
stifle these warnings. How can I do that?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>I believe passing -Wno-write-strings to GCC will suppress this warning.</p>
<p><br></p>
<h3>Suggest</h3>
<p>I believe passing -Wno-write-strings to GCC will suppress this warning.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/responsive-font-size-in-css/" class="u-url">Responsive font size in CSS</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/responsive-font-size-in-css/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T15:37:06+08:00" itemprop="datePublished" title="2023-03-03 15:37">2023-03-03 15:37</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I've created a site using the <strong>Zurb Foundation 3</strong> grid. Each page has a
large <code>h1</code>:</p>
<div class="code"><pre class="code literal-block">body<span class="w"> </span>{
<span class="w">  </span>font-size:<span class="w"> </span>100%
}

/*<span class="w"> </span>Headers<span class="w"> </span>*/

h1<span class="w"> </span>{
<span class="w">  </span>font-size:<span class="w"> </span>6.2em;
<span class="w">  </span>font-weight:<span class="w"> </span>500;
}


<span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"row"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"twelve columns text-center"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;h1&gt;</span><span class="w"> </span>LARGE<span class="w"> </span>HEADER<span class="w"> </span>TAGLINE<span class="w"> </span><span class="nt">&lt;/h1&gt;</span>
<span class="w">  </span><span class="nt">&lt;/div&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- End Tagline --&gt;</span>
<span class="nt">&lt;/div&gt;</span>
<span class="cm">&lt;!-- End Row --&gt;</span>
</pre></div>

<p>When I resize the browser to mobile size the large font doesn't adjust and
causes the browser to include a horizontal scroll to accommodate for the large
text.</p>
<p>I've noticed that on the <strong>Zurb Foundation 3</strong> Typography example page, the
headers adapt to the browser as it is compressed and expanded.</p>
<p>Am I missing something really obvious? How do I achieve this?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The <code>font-size</code> won't respond like this when resizing the browser window.
Instead they respond to the browser zoom/type size settings, such as if you
press <code>Ctrl</code> and <code>+</code> together on the keyboard while in the browser.</p>
<p><strong>Media Queries</strong></p>
<p>You would have to look at using media queries to reduce the font-size at
certain intervals where it starts breaking your design and creating
scrollbars.</p>
<p>For example, try adding this inside your CSS at the bottom, changing the 320
pixels width for wherever your design starts breaking:</p>
<div class="code"><pre class="code literal-block"><span class="nv">@media</span><span class="w"> </span><span class="k">only</span><span class="w"> </span><span class="n">screen</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="p">(</span><span class="nf">max</span><span class="o">-</span><span class="nl">width</span><span class="p">:</span><span class="w"> </span><span class="mi">320</span><span class="n">px</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>

<span class="w">   </span><span class="n">body</span><span class="w"> </span><span class="err">{</span><span class="w"> </span>
<span class="w">      </span><span class="n">font</span><span class="o">-</span><span class="k">size</span><span class="err">:</span><span class="w"> </span><span class="mi">2</span><span class="n">em</span><span class="p">;</span><span class="w"> </span>
<span class="w">   </span><span class="err">}</span>

<span class="err">}</span>
</pre></div>

<p><strong>Viewport percentage lengths</strong></p>
<p>You can also use viewport percentage lengths such as <code>vw</code>, <code>vh</code>, <code>vmin</code> and
<code>vmax</code>. The official W3C document for this states:</p>
<blockquote>
<p>The viewport-percentage lengths are relative to the size of the initial
containing block. When the height or width of the initial containing block
is changed, they are scaled accordingly.</p>
</blockquote>
<p>Again, from the same W3C document each individual unit can be defined as
below:</p>
<blockquote>
<p>vw unit - Equal to 1% of the width of the initial containing block.</p>
<p>vh unit - Equal to 1% of the height of the initial containing block.</p>
<p>vmin unit - Equal to the smaller of vw or vh.</p>
<p>vmax unit - Equal to the larger of vw or vh.</p>
</blockquote>
<p>And they are used in exactly the same way as any other CSS value:</p>
<div class="code"><pre class="code literal-block"><span class="na">.text</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nl">font-size:</span><span class="w"> </span><span class="err">3</span><span class="nf">vw</span><span class="c1">;</span>
<span class="err">}</span>

<span class="na">.other-text</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nl">font-size:</span><span class="w"> </span><span class="err">5</span><span class="nf">vh</span><span class="c1">;</span>
<span class="err">}</span>
</pre></div>

<p>Compatibility is relatively good as can be seen here. However, some versions
of Internet Explorer and Edge don’t support vmax. Also, iOS 6 and 7 have an
issue with the vh unit, which was fixed in iOS 8.</p>
<p><br></p>
<h3>Suggest</h3>
<p>The <code>font-size</code> won't respond like this when resizing the browser window.
Instead they respond to the browser zoom/type size settings, such as if you
press <code>Ctrl</code> and <code>+</code> together on the keyboard while in the browser.</p>
<p><strong>Media Queries</strong></p>
<p>You would have to look at using media queries to reduce the font-size at
certain intervals where it starts breaking your design and creating
scrollbars.</p>
<p>For example, try adding this inside your CSS at the bottom, changing the 320
pixels width for wherever your design starts breaking:</p>
<div class="code"><pre class="code literal-block"><span class="nv">@media</span><span class="w"> </span><span class="k">only</span><span class="w"> </span><span class="n">screen</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="p">(</span><span class="nf">max</span><span class="o">-</span><span class="nl">width</span><span class="p">:</span><span class="w"> </span><span class="mi">320</span><span class="n">px</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>

<span class="w">   </span><span class="n">body</span><span class="w"> </span><span class="err">{</span><span class="w"> </span>
<span class="w">      </span><span class="n">font</span><span class="o">-</span><span class="k">size</span><span class="err">:</span><span class="w"> </span><span class="mi">2</span><span class="n">em</span><span class="p">;</span><span class="w"> </span>
<span class="w">   </span><span class="err">}</span>

<span class="err">}</span>
</pre></div>

<p><strong>Viewport percentage lengths</strong></p>
<p>You can also use viewport percentage lengths such as <code>vw</code>, <code>vh</code>, <code>vmin</code> and
<code>vmax</code>. The official W3C document for this states:</p>
<blockquote>
<p>The viewport-percentage lengths are relative to the size of the initial
containing block. When the height or width of the initial containing block
is changed, they are scaled accordingly.</p>
</blockquote>
<p>Again, from the same W3C document each individual unit can be defined as
below:</p>
<blockquote>
<p>vw unit - Equal to 1% of the width of the initial containing block.</p>
<p>vh unit - Equal to 1% of the height of the initial containing block.</p>
<p>vmin unit - Equal to the smaller of vw or vh.</p>
<p>vmax unit - Equal to the larger of vw or vh.</p>
</blockquote>
<p>And they are used in exactly the same way as any other CSS value:</p>
<div class="code"><pre class="code literal-block"><span class="na">.text</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nl">font-size:</span><span class="w"> </span><span class="err">3</span><span class="nf">vw</span><span class="c1">;</span>
<span class="err">}</span>

<span class="na">.other-text</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nl">font-size:</span><span class="w"> </span><span class="err">5</span><span class="nf">vh</span><span class="c1">;</span>
<span class="err">}</span>
</pre></div>

<p>Compatibility is relatively good as can be seen here. However, some versions
of Internet Explorer and Edge don’t support vmax. Also, iOS 6 and 7 have an
issue with the vh unit, which was fixed in iOS 8.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/why-does-the-c-stl-not-provide-any-tree-containers/" class="u-url">Why does the C++ STL not provide any "tree" containers?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/why-does-the-c-stl-not-provide-any-tree-containers/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T15:36:36+08:00" itemprop="datePublished" title="2023-03-03 15:36">2023-03-03 15:36</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Why does the C++ STL not provide any "tree" containers, and what's the best
thing to use instead?</p>
<p>I want to store a hierarchy of objects as a tree, rather than use a tree as a
performance enhancement...</p>
<p><br><br></p>
<h2>Answer</h2>
<p>There are two reasons you could want to use a tree:</p>
<p>You want to mirror the problem using a tree-like structure:<br>
For this we have boost graph library</p>
<p>Or you want a container that has tree like access characteristics For this we
have</p>
<ul>
<li>
<code>std::map</code> (and <code>std::multimap</code>)</li>
<li>
<code>std::set</code> (and <code>std::multiset</code>)</li>
</ul>
<p>Basically the characteristics of these two containers is such that they
practically have to be implemented using trees (though this is not actually a
requirement).</p>
<p>See also this question: C tree Implementation</p>
<p><br></p>
<h3>Suggest</h3>
<p>Probably for the same reason that there is no tree container in boost. There
are many ways to implement such a container, and there is no good way to
satisfy everyone who would use it.</p>
<p>Some issues to consider:</p>
<ul>
<li>Are the number of children for a node fixed or variable? </li>
<li>How much overhead per node? - ie, do you need parent pointers, sibling pointers, etc. </li>
<li>What algorithms to provide? - different iterators, search algorithms, etc.</li>
</ul>
<p>In the end, the problem ends up being that a tree container that would be
useful enough to everyone, would be too heavyweight to satisfy most of the
people using it. If you are looking for something powerful, Boost Graph
Library is essentially a superset of what a tree library could be used for.</p>
<p>Here are some other generic tree implementations:</p>
<ul>
<li>Kasper Peeters' tree.hh </li>
<li>Adobe's forest </li>
<li>core::tree</li>
</ul>
</div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2047.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2045.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

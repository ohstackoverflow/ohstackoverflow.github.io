<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2051) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2051.html">
<link rel="prev" href="index-2052.html" type="text/html">
<link rel="next" href="index-2050.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-dismiss-the-on-screen-keyboard/" class="u-url">How can I dismiss the on screen keyboard?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-dismiss-the-on-screen-keyboard/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T15:46:40+08:00" itemprop="datePublished" title="2023-03-03 15:46">2023-03-03 15:46</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am collecting user input with a <code>TextFormField</code> and when the user presses a
<code>FloatingActionButton</code> indicating they are done, I want to dismiss the on
screen keyboard.</p>
<p>How do I make the keyboard go away automatically?</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="s1">'package:flutter/material.dart'</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">MyHomePage</span> <span class="n">extends</span> <span class="n">StatefulWidget</span> <span class="p">{</span>
  <span class="n">MyHomePageState</span> <span class="n">createState</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="n">new</span> <span class="n">MyHomePageState</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">MyHomePageState</span> <span class="n">extends</span> <span class="n">State</span><span class="o">&lt;</span><span class="n">MyHomePage</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="n">TextEditingController</span> <span class="n">_controller</span> <span class="o">=</span> <span class="n">new</span> <span class="n">TextEditingController</span><span class="p">();</span>

  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">new</span> <span class="n">Scaffold</span><span class="p">(</span>
      <span class="n">appBar</span><span class="p">:</span> <span class="n">new</span> <span class="n">AppBar</span><span class="p">(),</span>
      <span class="n">floatingActionButton</span><span class="p">:</span> <span class="n">new</span> <span class="n">FloatingActionButton</span><span class="p">(</span>
        <span class="n">child</span><span class="p">:</span> <span class="n">new</span> <span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="o">.</span><span class="n">send</span><span class="p">),</span>
        <span class="n">onPressed</span><span class="p">:</span> <span class="p">()</span> <span class="p">{</span>
          <span class="n">setState</span><span class="p">(()</span> <span class="p">{</span>
            <span class="o">//</span> <span class="n">send</span> <span class="n">message</span>
            <span class="o">//</span> <span class="n">dismiss</span> <span class="n">on</span> <span class="n">screen</span> <span class="n">keyboard</span> <span class="n">here</span>
            <span class="n">_controller</span><span class="o">.</span><span class="n">clear</span><span class="p">();</span>
          <span class="p">});</span>
        <span class="p">},</span>
      <span class="p">),</span>
      <span class="n">body</span><span class="p">:</span> <span class="n">new</span> <span class="n">Container</span><span class="p">(</span>
        <span class="n">alignment</span><span class="p">:</span> <span class="n">FractionalOffset</span><span class="o">.</span><span class="n">center</span><span class="p">,</span>
        <span class="n">padding</span><span class="p">:</span> <span class="n">new</span> <span class="n">EdgeInsets</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="mf">20.0</span><span class="p">),</span>
        <span class="n">child</span><span class="p">:</span> <span class="n">new</span> <span class="n">TextFormField</span><span class="p">(</span>
          <span class="n">controller</span><span class="p">:</span> <span class="n">_controller</span><span class="p">,</span>
          <span class="n">decoration</span><span class="p">:</span> <span class="n">new</span> <span class="n">InputDecoration</span><span class="p">(</span><span class="n">labelText</span><span class="p">:</span> <span class="s1">'Example Text'</span><span class="p">),</span>
        <span class="p">),</span>
      <span class="p">),</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">MyApp</span> <span class="n">extends</span> <span class="n">StatelessWidget</span> <span class="p">{</span>
  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">new</span> <span class="n">MaterialApp</span><span class="p">(</span>
      <span class="n">home</span><span class="p">:</span> <span class="n">new</span> <span class="n">MyHomePage</span><span class="p">(),</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">void</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">runApp</span><span class="p">(</span><span class="n">new</span> <span class="n">MyApp</span><span class="p">());</span>
<span class="p">}</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p><strong>For Flutter version 2 or latest :</strong></p>
<p>Since <code>Flutter 2</code> with null safety this is the best way:</p>
<div class="code"><pre class="code literal-block">FocusManager.instance.primaryFocus?.unfocus();
</pre></div>

<p>Note: using old ways leads to some problems like keep rebuild states;</p>
<hr>
<p><strong>For Flutter version &lt; 2 :</strong></p>
<p><strong>As of Flutter v1.7.8+hotfix.2, the way to go is:</strong></p>
<div class="code"><pre class="code literal-block">FocusScope.of(context).unfocus();
</pre></div>

<p>Comment on PR about that:</p>
<blockquote>
<p>Now that #31909 (be75fb3) has landed, you should use
<code>FocusScope.of(context).unfocus()</code> instead of
<code>FocusScope.of(context).requestFocus(FocusNode())</code>, since <code>FocusNode</code>s are
<code>ChangeNotifiers</code>, and should be disposed properly.</p>
</blockquote>
<p>-&gt; <strong>DO NOT</strong> use <code>̶r̶e̶q̶u̶e̶s̶t̶F̶o̶c̶u̶s̶(̶F̶o̶c̶u̶s̶N̶o̶d̶e̶(̶)̶</code> anymore.</p>
<div class="code"><pre class="code literal-block"> F̶o̶c̶u̶s̶S̶c̶o̶p̶e̶.̶o̶f̶(̶c̶o̶n̶t̶e̶x̶t̶)̶.̶r̶e̶q̶u̶e̶s̶t̶F̶o̶c̶u̶s̶(̶F̶o̶c̶u̶s̶N̶o̶d̶e̶(̶)̶)̶;̶
</pre></div>

<p>Read more about the <code>FocusScope</code> class in the flutter docs.</p>
<p><br></p>
<h3>Suggest</h3>
<p><strong>Note:</strong> This answer is outdated. See the answer for newer versions of
Flutter.</p>
<p>You can dismiss the keyboard by taking away the focus of the <code>TextFormField</code>
and giving it to an unused <code>FocusNode</code>:</p>
<div class="code"><pre class="code literal-block">FocusScope.of(context).requestFocus(FocusNode());
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/can-i-git-commit-a-file-and-ignore-its-content-changes/" class="u-url">Can I 'git commit' a file and ignore its content changes?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/can-i-git-commit-a-file-and-ignore-its-content-changes/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T15:46:14+08:00" itemprop="datePublished" title="2023-03-03 15:46">2023-03-03 15:46</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Every developer on my team has their own local configuration. That
configuration information is stored in a file called <code>devtargets.rb</code> which is
used in our rake build tasks. I don't want developers to clobber each other's
devtargets file, though.</p>
<p>My first thought was to put that file in the <code>.gitignore</code> list so that it is
not committed to git.</p>
<p>Then I started wondering: is it possible to commit the file, but ignore
changes to the file? So, I would commit a default version of the file and then
when a developer changes it on their local machine, git would ignore the
changes and it wouldn't show up in the list of changed files when you do a git
status or git commit.</p>
<p>Is that possible? It would certainly be a nice feature...</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Sure, I do exactly this from time to time using</p>
<div class="code"><pre class="code literal-block">git update-index --assume-unchanged [&lt;file&gt; ...]
</pre></div>

<p>To undo and start tracking again (if you forgot what files were untracked, see
this question):</p>
<div class="code"><pre class="code literal-block">git update-index --no-assume-unchanged [&lt;file&gt; ...]
</pre></div>

<p>Relevant documentation:</p>
<blockquote>
<p><strong>--[no-]assume-unchanged</strong><br>
 When this flag is specified, the object names recorded for the paths are
not updated. Instead, this option sets/unsets the "assume unchanged" bit for
the paths. When the "assume unchanged" bit is on, the user promises not to
change the file and allows Git to assume that the working tree file matches
what is recorded in the index. If you want to change the working tree file,
you need to unset the bit to tell Git. This is sometimes helpful when
working with a big project on a filesystem that has very slow <code>lstat(2)</code>
system call (e.g. cifs).</p>
<p>Git will fail (gracefully) in case it needs to modify this file in the index
e.g. when merging in a commit; thus, in case the assumed-untracked file is
changed upstream, you will need to handle the situation manually.</p>
</blockquote>
<p>Fail gracefully in this case means, if there are any changes upstream to that
file (legitimate changes, etc.) when you do a pull, it will say:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>git<span class="w"> </span>pull
…
From<span class="w"> </span>https://github.com/x/y
<span class="w">   </span>72a914a..106a261<span class="w">  </span>master<span class="w">     </span>-&gt;<span class="w"> </span>origin/master
Updating<span class="w"> </span>72a914a..106a261
error:<span class="w"> </span>Your<span class="w"> </span><span class="nb">local</span><span class="w"> </span>changes<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span>files<span class="w"> </span>would<span class="w"> </span>be<span class="w"> </span>overwritten<span class="w"> </span>by<span class="w"> </span>merge:
<span class="w">                </span>filename.ext
</pre></div>

<p>and will refuse to merge.</p>
<p>At that point, you can overcome this by either reverting your local changes,
here’s one way:</p>
<div class="code"><pre class="code literal-block"> $ git checkout filename.ext
</pre></div>

<p>then pull again and re-modify your local file, or could set <code>–no-assume-
unchanged</code> and you can do normal stash and merge, etc. at that point.</p>
<p><br></p>
<h3>Suggest</h3>
<p>The preferred way to do this is to use <code>git update-index --skip-worktree
&lt;file&gt;</code>, as explained in this answer:</p>
<blockquote>
<p><code>assume-unchanged</code> is designed for cases where it is expensive to check
whether a group of files have been modified; when you set the bit, git (of
course) assumes the files corresponding to that portion of the index have
not been modified in the working copy. So it avoids a mess of stat calls.
This bit is lost whenever the file's entry in the index changes (so, when
the file is changed upstream).</p>
<p><code>skip-worktree</code> is more than that: even where git knows that the file has
been modified (or needs to be modified by a reset --hard or the like), it
will pretend it has not been, using the version from the index instead. This
persists until the index is discarded.</p>
</blockquote>
<p>To undo this, use <code>git update-index --no-skip-worktree &lt;file&gt;</code></p>
<p>Since git version 2.25.1, this is no longer the recommended way either,
quoting:</p>
<blockquote>
<p>Users often try to use the assume-unchanged and skip-worktree bits to tell
Git to ignore changes to files that are tracked. This does not work as
expected, since Git may still check working tree files against the index
when performing certain operations. In general, Git does not provide a way
to ignore changes to tracked files, so alternate solutions are recommended.</p>
<p>For example, if the file you want to change is some sort of config file, the
repository can include a sample config file that can then be copied into the
ignored name and modified. The repository can even include a script to treat
the sample file as a template, modifying and copying it automatically.</p>
</blockquote>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-modelattribute-in-spring-mvc/" class="u-url">What is @ModelAttribute in Spring MVC?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-modelattribute-in-spring-mvc/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T15:45:50+08:00" itemprop="datePublished" title="2023-03-03 15:45">2023-03-03 15:45</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What is the purpose and usage of <code>@ModelAttribute</code> in Spring MVC?</p>
<p><br><br></p>
<h2>Answer</h2>
<p><code>@ModelAttribute</code> refers to a property of the Model object (the M in MVC ;) so
let's say we have a form with a form backing object that is called "Person"
Then you can have Spring MVC supply this object to a Controller method by
using the <code>@ModelAttribute</code> annotation:</p>
<div class="code"><pre class="code literal-block"><span class="k">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">processForm</span><span class="p">(</span><span class="nv">@ModelAttribute</span><span class="p">(</span><span class="ss">"person"</span><span class="p">)</span><span class="w"> </span><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="p">)</span><span class="err">{</span>
<span class="w">    </span><span class="n">person</span><span class="p">.</span><span class="n">getStuff</span><span class="p">();</span>
<span class="err">}</span>
</pre></div>

<p>On the other hand the annotation is used to define objects which should be
part of a Model. So if you want to have a Person object referenced in the
Model you can use the following method:</p>
<div class="code"><pre class="code literal-block"><span class="nv">@ModelAttribute</span><span class="p">(</span><span class="ss">"person"</span><span class="p">)</span>
<span class="k">public</span><span class="w"> </span><span class="n">Person</span><span class="w"> </span><span class="n">getPerson</span><span class="p">()</span><span class="err">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Person</span><span class="p">();</span>
<span class="err">}</span>
</pre></div>

<p>This annotated method will allow access to the Person object in your View,
since it gets automatically added to the Models by Spring.</p>
<p>See "Using @ModelAttribute".</p>
<p><br></p>
<h3>Suggest</h3>
<p>I know this is an old thread, but I thought I throw my hat in the ring and see
if I can muddy the water a little bit more :)</p>
<p>I found my initial struggle to understand <code>@ModelAttribute</code> was a result of
Spring's decision to combine several annotations into one. It became clearer
once I split it into several smaller annotations:</p>
<p>For parameter annotations, think of <code>@ModelAttribute</code> as the equivalent of
<code>@Autowired + @Qualifier</code> i.e. it tries to retrieve a bean with the given name
from the Spring managed model. If the named bean is not found, instead of
throwing an error or returning <code>null</code>, it implicitly takes on the role of
<code>@Bean</code> i.e. Create a new instance using the default constructor and add the
bean to the model.</p>
<p>For method annotations, think of <code>@ModelAttribute</code> as the equivalent of <code>@Bean
+ @Before</code>, i.e. it puts the bean constructed by user's code in the model and
it's always called before a request handling method.</p>
<p>Figuratively, I see <code>@ModelAttribute</code> as the following (please don't take it
literally!!):</p>
<div class="code"><pre class="code literal-block"><span class="nv">@Bean</span><span class="p">(</span><span class="ss">"person"</span><span class="p">)</span>
<span class="nv">@Before</span>
<span class="k">public</span><span class="w"> </span><span class="n">Person</span><span class="w"> </span><span class="n">createPerson</span><span class="p">()</span><span class="err">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Person</span><span class="p">();</span>
<span class="err">}</span>

<span class="nv">@RequestMapping</span><span class="p">(...)</span>
<span class="k">public</span><span class="w"> </span><span class="n">xxx</span><span class="w"> </span><span class="n">handlePersonRequest</span><span class="p">(</span><span class="w"> </span><span class="p">(</span><span class="nv">@Autowired</span><span class="w"> </span><span class="nv">@Qualifier</span><span class="p">(</span><span class="ss">"person"</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">@Bean</span><span class="p">(</span><span class="ss">"person"</span><span class="p">))</span><span class="w"> </span><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="p">,</span><span class="w"> </span><span class="n">xxx</span><span class="p">)</span><span class="err">{</span>
<span class="w">  </span><span class="p">...</span>
<span class="err">}</span>
</pre></div>

<p>As you can see, Spring made the right decision to make <code>@ModelAttribute</code> an
all-encompassing annotation; no one wants to see an annotation smorgasbord.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2052.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2050.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 446) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-446.html">
<link rel="prev" href="index-447.html" type="text/html">
<link rel="next" href="index-445.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/python-s-equivalent-of-logical-and-in-an-if-statement/" class="u-url">Python's equivalent of &amp;&amp; (logical-and) in an if-statement</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/python-s-equivalent-of-logical-and-in-an-if-statement/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T07:03:12+08:00" itemprop="datePublished" title="2023-02-17 07:03">2023-02-17 07:03</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>This doesn't work:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="nv">cond1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nv">cond2</span>:
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>Use <code>and</code> instead of <code>&amp;&amp;</code>.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Python uses <code>and</code> and <code>or</code> conditionals.</p>
<p>i.e.</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="nv">foo</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'abc'</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="nv">bar</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'bac'</span><span class="w"> </span><span class="nv">or</span><span class="w"> </span><span class="nv">zoo</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'123'</span>:
<span class="w">  </span>#<span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="nv">something</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-difference-between-crudrepository-and-jparepository-interfaces-in-spring-data-jpa/" class="u-url">What is difference between CrudRepository and JpaRepository interfaces in Spring Data JPA?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-difference-between-crudrepository-and-jparepository-interfaces-in-spring-data-jpa/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T07:02:43+08:00" itemprop="datePublished" title="2023-02-17 07:02">2023-02-17 07:02</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What is the difference between CrudRepository and JpaRepository interfaces in
Spring Data JPA?</p>
<p>When I see the examples on the web, I see them there used kind of
interchangeably.</p>
<p>What is the difference between them?</p>
<p>Why would you want to use one over the other?</p>
<p><br><br></p>
<h2>Answer</h2>
<p><code>JpaRepository</code> extends <code>PagingAndSortingRepository</code> which in turn extends
<code>CrudRepository</code>.</p>
<p>Their main functions are:</p>
<ul>
<li>
<code>CrudRepository</code> mainly provides CRUD functions.</li>
<li>
<code>PagingAndSortingRepository</code> provides methods to do pagination and sorting records.</li>
<li>
<code>JpaRepository</code> provides some JPA-related methods such as flushing the persistence context and deleting records in a batch.</li>
</ul>
<p>Because of the inheritance mentioned above, <code>JpaRepository</code> will have all the
functions of <code>CrudRepository</code> and <code>PagingAndSortingRepository</code>. So if you
don't need the repository to have the functions provided by <code>JpaRepository</code>
and <code>PagingAndSortingRepository</code> , use <code>CrudRepository</code>.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Ken's answer is basically right but I'd like to chime in on the "why would you
want to use one over the other?" part of your question.</p>
<h3>Basics</h3>
<p>The base interface you choose for your repository has two main purposes.
First, you allow the Spring Data repository infrastructure to find your
interface and trigger the proxy creation so that you inject instances of the
interface into clients. The second purpose is to pull in as much functionality
as needed into the interface without having to declare extra methods.</p>
<h3>The common interfaces</h3>
<p>The Spring Data core library ships with two base interfaces that expose a
dedicated set of functionalities:</p>
<ul>
<li>
<code>CrudRepository</code> - CRUD methods</li>
<li>
<code>PagingAndSortingRepository</code> - methods for pagination and sorting (extends <code>CrudRepository</code>)</li>
</ul>
<h3>Store-specific interfaces</h3>
<p>The individual store modules (e.g. for JPA or MongoDB) expose store-specific
extensions of these base interfaces to allow access to store-specific
functionality like flushing or dedicated batching that take some store
specifics into account. An example for this is <code>deleteInBatch(…)</code> of
<code>JpaRepository</code> which is different from <code>delete(…)</code> as it uses a query to
delete the given entities which is more performant but comes with the side
effect of not triggering the JPA-defined cascades (as the spec defines it).</p>
<p>We generally recommend <em>not</em> to use these base interfaces as they expose the
underlying persistence technology to the clients and thus tighten the coupling
between them and the repository. Plus, you get a bit away from the original
definition of a repository which is basically "a collection of entities". So
if you can, stay with <code>PagingAndSortingRepository</code>.</p>
<h3>Custom repository base interfaces</h3>
<p>The downside of directly depending on one of the provided base interfaces is
two-fold. Both of them might be considered as theoretical but I think they're
important to be aware of:</p>
<ol>
<li>
<strong>Depending on a Spring Data repository interface couples your repository interface to the library.</strong> I don't think this is a particular issue as you'll probably use abstractions like <code>Page</code> or <code>Pageable</code> in your code anyway. Spring Data is not any different from any other general purpose library like commons-lang or Guava. As long as it provides reasonable benefit, it's just fine.</li>
<li>
<strong>By extending e.g.<code>CrudRepository</code>, you expose a complete set of persistence method at once.</strong> This is probably fine in most circumstances as well but you might run into situations where you'd like to gain more fine-grained control over the methods expose, e.g. to create a <code>ReadOnlyRepository</code> that doesn't include the <code>save(…)</code> and <code>delete(…)</code> methods of <code>CrudRepository</code>.</li>
</ol>
<p>The solution to both of these downsides is to craft your own base repository
interface or even a set of them. In a lot of applications I have seen
something like this:</p>
<div class="code"><pre class="code literal-block"><span class="n">interface</span><span class="w"> </span><span class="n">ApplicationRepository</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="n">PagingAndSortingRepository</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">Long</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>

<span class="n">interface</span><span class="w"> </span><span class="n">ReadOnlyRepository</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="n">Repository</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">Long</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">Al</span><span class="w"> </span><span class="n">finder</span><span class="w"> </span><span class="n">methods</span><span class="w"> </span><span class="n">go</span><span class="w"> </span><span class="n">here</span>
<span class="p">}</span>
</pre></div>

<p>The first repository interface is some general purpose base interface that
actually only fixes point 1 but also ties the ID type to be <code>Long</code> for
consistency. The second interface usually has all the <code>find…(…)</code> methods
copied from <code>CrudRepository</code> and <code>PagingAndSortingRepository</code> but does not
expose the manipulating ones. Read more on that approach in the reference
documentation.</p>
<h3>Summary - tl;dr</h3>
<p>The repository abstraction allows you to pick the base repository totally
driven by you architectural and functional needs. Use the ones provided out of
the box if they suit, craft your own repository base interfaces if necessary.
Stay away from the store specific repository interfaces unless unavoidable.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/creating-a-comma-separated-list-from-ilist-string-or-ienumerable-string/" class="u-url">Creating a comma separated list from IList&lt;string&gt; or IEnumerable&lt;string&gt;</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/creating-a-comma-separated-list-from-ilist-string-or-ienumerable-string/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T07:02:14+08:00" itemprop="datePublished" title="2023-02-17 07:02">2023-02-17 07:02</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What is the cleanest way to create a comma-separated list of string values
from an <code>IList&lt;string&gt;</code> or <code>IEnumerable&lt;string&gt;</code>?</p>
<p><code>String.Join(...)</code> operates on a <code>string[]</code> so can be cumbersome to work with
when types such as <code>IList&lt;string&gt;</code> or <code>IEnumerable&lt;string&gt;</code> cannot easily be
converted into a string array.</p>
<p><br><br></p>
<h2>Answer</h2>
<p><strong>.NET 4+</strong></p>
<div class="code"><pre class="code literal-block">IList&lt;string&gt; strings = new List&lt;string&gt;{"1","2","testing"};
string joined = string.Join(",", strings);
</pre></div>

<p><strong>Detail &amp; Pre .Net 4.0 Solutions</strong></p>
<p><code>IEnumerable&lt;string&gt;</code> can be converted into a string array <em>very</em> easily with
LINQ (.NET 3.5):</p>
<div class="code"><pre class="code literal-block">IEnumerable&lt;string&gt; strings = ...;
string[] array = strings.ToArray();
</pre></div>

<p>It's easy enough to write the equivalent helper method if you need to:</p>
<div class="code"><pre class="code literal-block"><span class="nv">public</span><span class="w"> </span><span class="nv">static</span><span class="w"> </span><span class="nv">T</span>[]<span class="w"> </span><span class="nv">ToArray</span><span class="ss">(</span><span class="nv">IEnumerable</span><span class="o">&lt;</span><span class="nv">T</span><span class="o">&gt;</span><span class="w"> </span><span class="nv">source</span><span class="ss">)</span>
{
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">List</span><span class="o">&lt;</span><span class="nv">T</span><span class="o">&gt;</span><span class="ss">(</span><span class="nv">source</span><span class="ss">)</span>.<span class="nv">ToArray</span><span class="ss">()</span><span class="c1">;</span>
}
</pre></div>

<p>Then call it like this:</p>
<div class="code"><pre class="code literal-block">IEnumerable&lt;string&gt; strings = ...;
string[] array = Helpers.ToArray(strings);
</pre></div>

<p>You can then call <code>string.Join</code>. Of course, you don't <em>have</em> to use a helper
method:</p>
<div class="code"><pre class="code literal-block"><span class="c1">// C# 3 and .NET 3.5 way:</span>
<span class="nb">string</span><span class="w"> </span><span class="n">joined</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">string</span><span class="p">.</span><span class="n">Join</span><span class="p">(</span><span class="s">","</span><span class="p">,</span><span class="w"> </span><span class="n">strings</span><span class="p">.</span><span class="n">ToArray</span><span class="p">());</span>
<span class="c1">// C# 2 and .NET 2.0 way:</span>
<span class="nb">string</span><span class="w"> </span><span class="n">joined</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">string</span><span class="p">.</span><span class="n">Join</span><span class="p">(</span><span class="s">","</span><span class="p">,</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="nb">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">strings</span><span class="p">).</span><span class="n">ToArray</span><span class="p">());</span>
</pre></div>

<p>The latter is a bit of a mouthful though :)</p>
<p>This is likely to be the simplest way to do it, and quite performant as well -
there are other questions about exactly what the performance is like,
including (but not limited to) this one.</p>
<p>As of .NET 4.0, there are more overloads available in <code>string.Join</code>, so you
can actually just write:</p>
<div class="code"><pre class="code literal-block">string joined = string.Join(",", strings);
</pre></div>

<p>Much simpler :)</p>
<p><br></p>
<h3>Suggest</h3>
<p>FYI, the .NET 4.0 version of <code>string.Join()</code> has some extra overloads, that
work with <code>IEnumerable</code> instead of just arrays, including one that can deal
with any type <code>T</code>:</p>
<div class="code"><pre class="code literal-block">public static string Join(string separator, IEnumerable&lt;string&gt; values)
public static string Join&lt;T&gt;(string separator, IEnumerable&lt;T&gt; values)
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-447.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-445.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

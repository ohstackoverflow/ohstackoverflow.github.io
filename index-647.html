<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 647) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-647.html">
<link rel="prev" href="index-648.html" type="text/html">
<link rel="next" href="index-646.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-are-the-rules-for-calling-the-base-class-constructor/" class="u-url">What are the rules for calling the base class constructor?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-are-the-rules-for-calling-the-base-class-constructor/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T12:13:51+08:00" itemprop="datePublished" title="2023-02-17 12:13">2023-02-17 12:13</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What are the C++ rules for calling the base class constructor from a derived
class?</p>
<p>For example, I know in Java, you must do it as the first line of the subclass
constructor (and if you don't, an implicit call to a no-arg super constructor
is assumed - giving you a compile error if that's missing).</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Base class constructors are automatically called for you if they have no
argument. If you want to call a superclass constructor with an argument, you
must use the subclass's constructor initialization list. Unlike Java, C++
supports multiple inheritance (for better or worse), so the base class must be
referred to by name, rather than "super()".</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span><span class="w"> </span><span class="n">SuperClass</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">public</span><span class="p">:</span>

<span class="w">        </span><span class="n">SuperClass</span><span class="p">(</span><span class="nb nb-Type">int</span><span class="w"> </span><span class="n">foo</span><span class="p">)</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="n">do</span><span class="w"> </span><span class="n">something</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">foo</span>
<span class="w">        </span><span class="p">}</span>
<span class="p">};</span>

<span class="k">class</span><span class="w"> </span><span class="n">SubClass</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">public</span><span class="w"> </span><span class="n">SuperClass</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">public</span><span class="p">:</span>

<span class="w">        </span><span class="n">SubClass</span><span class="p">(</span><span class="nb nb-Type">int</span><span class="w"> </span><span class="n">foo</span><span class="p">,</span><span class="w"> </span><span class="nb nb-Type">int</span><span class="w"> </span><span class="n">bar</span><span class="p">)</span>
<span class="w">        </span><span class="p">:</span><span class="w"> </span><span class="n">SuperClass</span><span class="p">(</span><span class="n">foo</span><span class="p">)</span><span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Call</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">superclass</span><span class="w"> </span><span class="n">constructor</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">subclass</span><span class="s1">' initialization list.</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="n">do</span><span class="w"> </span><span class="n">something</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">bar</span>
<span class="w">        </span><span class="p">}</span>
<span class="p">};</span>
</pre></div>

<p>More info on the constructor's initialization list here and here.</p>
<p><br></p>
<h3>Suggest</h3>
<p>In C++, the no-argument constructors for all superclasses and member variables
are called for you, before entering your constructor. If you want to pass them
arguments, there is a separate syntax for this called "constructor chaining",
which looks like this:</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span> <span class="nb">Sub</span> : <span class="n">public</span> <span class="n">Base</span>
{
  <span class="nb">Sub</span>(<span class="n">int</span> <span class="nb">x</span>, <span class="n">int</span> <span class="n">y</span>)
  : <span class="n">Base</span>(<span class="nb">x</span>), <span class="n">member</span>(<span class="n">y</span>)
  {
  }
  <span class="n">Type</span> <span class="n">member</span>;
};
</pre></div>

<p>If anything run at this point throws, the bases/members which had previously
completed construction have their destructors called and the exception is
rethrown to to the caller. If you want to catch exceptions during chaining,
you must use a function try block:</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span><span class="w"> </span><span class="n">Sub</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">public</span><span class="w"> </span><span class="n">Base</span>
<span class="p">{</span>
<span class="w">  </span><span class="n">Sub</span><span class="p">(</span><span class="nb nb-Type">int</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="nb nb-Type">int</span><span class="w"> </span><span class="n">y</span><span class="p">)</span>
<span class="w">  </span><span class="n">try</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">Base</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="w"> </span><span class="n">member</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="n">goes</span><span class="w"> </span><span class="n">here</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="n">catch</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">ExceptionType</span><span class="w"> </span><span class="o">&amp;</span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">throw</span><span class="w"> </span><span class="n">kaboom</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="n">Type</span><span class="w"> </span><span class="n">member</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>

<p>In this form, note that the try block <strong>is</strong> the body of the function, rather
than being inside the body of the function; this allows it to catch exceptions
thrown by implicit or explicit member and base class initializations, as well
as during the body of the function. However, if a function catch block does
not throw a different exception, the runtime will rethrow the original error;
exceptions during initialization <strong>cannot</strong> be ignored.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-lexical-scope/" class="u-url">What is lexical scope?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-lexical-scope/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T12:13:23+08:00" itemprop="datePublished" title="2023-02-17 12:13">2023-02-17 12:13</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What is a brief introduction to lexical scoping?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>I understand them through examples. :)</p>
<p>First, <em>lexical scope</em> (also called <em>static scope</em> ), in C-like syntax:</p>
<div class="code"><pre class="code literal-block">void fun()
{
    int x = 5;

    void fun2()
    {
        printf("%d", x);
    }
}
</pre></div>

<p>Every inner level can access its outer levels.</p>
<p>There is another way, called <em>dynamic scope</em> used by the first implementation
of Lisp, again in a C-like syntax:</p>
<div class="code"><pre class="code literal-block">void fun()
{
    printf("%d", x);
}

void dummy1()
{
    int x = 5;

    fun();
}

void dummy2()
{
    int x = 10;

    fun();
}
</pre></div>

<p>Here <code>fun</code> can either access <code>x</code> in <code>dummy1</code> or <code>dummy2</code>, or any <code>x</code> in any
function that call <code>fun</code> with <code>x</code> declared in it.</p>
<div class="code"><pre class="code literal-block">dummy1();
</pre></div>

<p>will print 5,</p>
<div class="code"><pre class="code literal-block">dummy2();
</pre></div>

<p>will print 10.</p>
<p>The first one is called static because it can be deduced at compile-time, and
the second is called dynamic because the outer scope is dynamic and depends on
the chain call of the functions.</p>
<p>I find static scoping easier for the eye. Most languages went this way
eventually, even Lisp (can do both, right?). Dynamic scoping is like passing
references of all variables to the called function.</p>
<p>As an example of why the compiler can not deduce the outer dynamic scope of a
function, consider our last example. If we write something like this:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="ss">(</span><span class="cm">/* some condition */</span><span class="ss">)</span>
<span class="w">    </span><span class="nv">dummy1</span><span class="ss">()</span><span class="c1">;</span>
<span class="k">else</span>
<span class="w">    </span><span class="nv">dummy2</span><span class="ss">()</span><span class="c1">;</span>
</pre></div>

<p>The call chain depends on a run time condition. If it is true, then the call
chain looks like:</p>
<div class="code"><pre class="code literal-block"><span class="n">dummy1</span><span class="w"> </span><span class="o">--&gt;</span><span class="w"> </span><span class="n">fun</span><span class="p">()</span>
</pre></div>

<p>If the condition is false:</p>
<div class="code"><pre class="code literal-block"><span class="n">dummy2</span><span class="w"> </span><span class="o">--&gt;</span><span class="w"> </span><span class="n">fun</span><span class="p">()</span>
</pre></div>

<p>The outer scope of <code>fun</code> in both cases is the caller <em>plus the caller of the
caller and so on</em>.</p>
<p>Just to mention that the C language does not allow nested functions nor
dynamic scoping.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Lets try the shortest possible definition:</p>
<p><strong>Lexical Scoping</strong> defines how variable names are resolved in nested
functions: <strong>inner functions contain the scope of parent functions even if the
parent function has returned</strong>.</p>
<p>That is all there is to it!</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-check-if-a-string-is-a-substring-of-items-in-a-list-of-strings/" class="u-url">How to check if a string is a substring of items in a list of strings</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-check-if-a-string-is-a-substring-of-items-in-a-list-of-strings/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T12:12:57+08:00" itemprop="datePublished" title="2023-02-17 12:12">2023-02-17 12:12</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How do I search for items that contain the string <code>'abc'</code> in the following
list?</p>
<div class="code"><pre class="code literal-block">xs = ['abc-123', 'def-456', 'ghi-789', 'abc-456']
</pre></div>

<p>The following checks if <code>'abc'</code> is in the list, but does not detect
<code>'abc-123'</code> and <code>'abc-456'</code>:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="s1">'abc'</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">xs</span>:
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>To check for the presence of <code>'abc'</code> in any string in the list:</p>
<div class="code"><pre class="code literal-block"><span class="nv">xs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="s1">'abc-123'</span>,<span class="w"> </span><span class="s1">'def-456'</span>,<span class="w"> </span><span class="s1">'ghi-789'</span>,<span class="w"> </span><span class="s1">'abc-456'</span>]

<span class="k">if</span><span class="w"> </span><span class="nv">any</span><span class="ss">(</span><span class="s2">"abc"</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">s</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">s</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">xs</span><span class="ss">)</span>:
<span class="w">    </span>...
</pre></div>

<hr>
<p>To get all the items containing <code>'abc'</code>:</p>
<div class="code"><pre class="code literal-block"><span class="nv">matching</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="nv">s</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">s</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">xs</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="s2">"abc"</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">s</span>]
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Just throwing this out there: if you happen to need to match against more than
one string, for example <code>abc</code> and <code>def</code>, you can combine two comprehensions as
follows:</p>
<div class="code"><pre class="code literal-block"><span class="nv">matchers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="s1">'abc'</span>,<span class="s1">'def'</span>]
<span class="nv">matching</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="nv">s</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">s</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">my_list</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">any</span><span class="ss">(</span><span class="nv">xs</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">s</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">xs</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">matchers</span><span class="ss">)</span>]
</pre></div>

<p>Output:</p>
<div class="code"><pre class="code literal-block">['abc-123', 'def-456', 'abc-456']
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-648.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-646.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 206) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-206.html">
<link rel="prev" href="index-207.html" type="text/html">
<link rel="next" href="index-205.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/jing-gao-push-default-wei-she-zhi-ta-de-yin-han-zhi-zai-git-2-0-zhong-fa-sheng-liao-bian-hua/" class="u-url">警告：push.default 未设置；它的隐含值在 Git 2.0 中发生了变化</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/jing-gao-push-default-wei-she-zhi-ta-de-yin-han-zhi-zai-git-2-0-zhong-fa-sheng-liao-bian-hua/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T00:54:46+08:00" itemprop="datePublished" title="2023-02-17 00:54">2023-02-17 00:54</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>我已经使用 Git 一段时间了，最​​近下载了一个更新，结果在我尝试下载时却出现了这条警告消息<code>push</code>。</p>
<div class="code"><pre class="code literal-block"><span class="n">warning</span><span class="o">:</span><span class="w"> </span><span class="n">push</span><span class="o">.</span><span class="na">default</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">unset</span><span class="o">;</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">implicit</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">changing</span><span class="w"> </span><span class="k">in</span><span class="w"> </span>
<span class="n">Git</span><span class="w"> </span><span class="mf">2.0</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="s1">'matching'</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="s1">'simple'</span><span class="o">.</span><span class="w"> </span><span class="n">To</span><span class="w"> </span><span class="n">squelch</span><span class="w"> </span><span class="k">this</span><span class="w"> </span><span class="n">message</span><span class="w"> </span>
<span class="n">and</span><span class="w"> </span><span class="n">maintain</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">behavior</span><span class="w"> </span><span class="n">after</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="n">changes</span><span class="o">,</span><span class="w"> </span><span class="n">use</span><span class="o">:</span>

<span class="w">  </span><span class="n">git</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="o">--</span><span class="n">global</span><span class="w"> </span><span class="n">push</span><span class="o">.</span><span class="na">default</span><span class="w"> </span><span class="n">matching</span>

<span class="n">To</span><span class="w"> </span><span class="n">squelch</span><span class="w"> </span><span class="k">this</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">adopt</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">behavior</span><span class="w"> </span><span class="n">now</span><span class="o">,</span><span class="w"> </span><span class="n">use</span><span class="o">:</span>

<span class="w">  </span><span class="n">git</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="o">--</span><span class="n">global</span><span class="w"> </span><span class="n">push</span><span class="o">.</span><span class="na">default</span><span class="w"> </span><span class="n">simple</span>
</pre></div>

<p>我显然可以将它设置为提到的值之一，但它们是什么意思？<code>simple</code>和 和有什么不一样<code>matching</code>？</p>
<p>如果我在一个客户上更改它，我是否需要对与我共享回购协议的其他客户做任何事情？</p>
<p><br><br></p>
<h2>解答</h2>
<p>它在文档中有非常详细的解释，但我会尝试总结一下：</p>
<ul>
<li>
<p><code>matching</code>意味着<code>git push</code>会将 <strong>您所有的本地分支推</strong> 送到远程上具有相同名称的分支。这使得很容易意外地推送一个你不打算推送的分支。</p>
</li>
<li>
<p><code>simple</code>means<code>git push</code>只会将当前分支推送到 <strong>将从中拉出的</strong> <strong>分支<code>git pull</code></strong>，并检查它们的名称是否匹配。这是一种更直观的行为，这就是默认设置更改为此的原因。</p>
</li>
</ul>
<p>此设置仅影响本地客户端的行为，并且可以通过在命令行上明确指定要推送的分支来覆盖。其他客户端可以有不同的设置，
<strong>它只会影响当你没有指定你想要推送的分支时发生的事情</strong> 。</p>
<p><br></p>
<h3>更多建议</h3>
<p>我意识到这是一篇旧帖子，但当我遇到同样的问题并且找不到答案时，我想我会补充一点。</p>
<p>所以@hammar 的回答是正确的。<code>push.default
simple</code>在某种程度上，使用就像在你的分支上配置跟踪，这样你就不需要在推送和拉取时指定远程和分支。该<code>matching</code>选项会将所有分支推送到默认远程上的相应分支（这是第一个设置的分支，除非您以其他方式配置了您的回购协议）。</p>
<p>我希望其他人在未来发现有用的一件事是我在 OS X Mountain Lion 上运行 Git 1.8 并且从未见过这个错误。升级到 Mavericks
是它突然出现的原因（运行<code>git --version</code>将显示<code>git version 1.8.3.4 (Apple
Git-47)</code>我在更新操作系统之前从未见过的内容。</p>
<p><br><br><a href="posts/warning-push-default-is-unset-its-implicit-value-is-changing-in-git-2-0/">查看原文</a></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/rang-chrome-jie-shou-zi-qian-ming-ben-di-zhu-ji-zheng-shu/" class="u-url">让 Chrome 接受自签名本地主机证书</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/rang-chrome-jie-shou-zi-qian-ming-ben-di-zhu-ji-zheng-shu/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T00:54:23+08:00" itemprop="datePublished" title="2023-02-17 00:54">2023-02-17 00:54</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>我已经为 localhost CN 创建了一个自签名的 SSL 证书。正如预期的那样，Firefox 在最初抱怨后接受了该证书。然而，Chrome 和 IE
拒绝接受它，即使在将证书添加到 Trusted Roots 下的系统证书存储之后也是如此。即使当我在 Chrome 的 HTTPS
弹出窗口中单击“查看证书信息”时证书被列为已正确安装，它仍然坚持该证书不可信任。</p>
<p>我应该怎么做才能让 Chrome 接受证书并停止抱怨？</p>
<p><br><br></p>
<h2>解答</h2>
<h5>只需 <strong> <em>5 个</em></strong> <strong>命令</strong> ，您就可以完成此操作 <strong>。 __<code>openssl</code></strong>
</h5>
<p>（ <em>请不要更改您的浏览器安全设置。</em> ）</p>
<p>使用以下代码，您可以 (1) 成为您自己的 CA，(2) 然后将您的 SSL 证书签署为 CA。(3) 然后将 CA 证书（不是 SSL
证书，进入您的服务器）导入 Chrome/Chromium。（是的，这甚至适用于 Linux。）</p>
<p><em>注意：对于 Windows，一些报告说<code>openssl</code>必须运行<code>winpty</code>以避免崩溃。</em></p>
<div class="code"><pre class="code literal-block"><span class="err">######################</span>
<span class="err">#</span><span class="w"> </span><span class="n">Become</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">Certificate</span><span class="w"> </span><span class="n">Authority</span>
<span class="err">######################</span>

<span class="err">#</span><span class="w"> </span><span class="n">Generate</span><span class="w"> </span><span class="n">private</span><span class="w"> </span><span class="k">key</span>
<span class="n">openssl</span><span class="w"> </span><span class="n">genrsa</span><span class="w"> </span><span class="o">-</span><span class="n">des3</span><span class="w"> </span><span class="o">-</span><span class="k">out</span><span class="w"> </span><span class="n">myCA</span><span class="p">.</span><span class="k">key</span><span class="w"> </span><span class="mi">2048</span>
<span class="err">#</span><span class="w"> </span><span class="n">Generate</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">certificate</span>
<span class="n">openssl</span><span class="w"> </span><span class="n">req</span><span class="w"> </span><span class="o">-</span><span class="n">x509</span><span class="w"> </span><span class="o">-</span><span class="k">new</span><span class="w"> </span><span class="o">-</span><span class="n">nodes</span><span class="w"> </span><span class="o">-</span><span class="k">key</span><span class="w"> </span><span class="n">myCA</span><span class="p">.</span><span class="k">key</span><span class="w"> </span><span class="o">-</span><span class="n">sha256</span><span class="w"> </span><span class="o">-</span><span class="n">days</span><span class="w"> </span><span class="mi">825</span><span class="w"> </span><span class="o">-</span><span class="k">out</span><span class="w"> </span><span class="n">myCA</span><span class="p">.</span><span class="n">pem</span>

<span class="err">######################</span>
<span class="err">#</span><span class="w"> </span><span class="k">Create</span><span class="w"> </span><span class="n">CA</span><span class="o">-</span><span class="n">signed</span><span class="w"> </span><span class="n">certs</span>
<span class="err">######################</span>

<span class="n">NAME</span><span class="o">=</span><span class="n">mydomain</span><span class="p">.</span><span class="n">example</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="k">Use</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">own</span><span class="w"> </span><span class="k">domain</span><span class="w"> </span><span class="n">name</span>
<span class="err">#</span><span class="w"> </span><span class="n">Generate</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">private</span><span class="w"> </span><span class="k">key</span>
<span class="n">openssl</span><span class="w"> </span><span class="n">genrsa</span><span class="w"> </span><span class="o">-</span><span class="k">out</span><span class="w"> </span><span class="err">$</span><span class="n">NAME</span><span class="p">.</span><span class="k">key</span><span class="w"> </span><span class="mi">2048</span>
<span class="err">#</span><span class="w"> </span><span class="k">Create</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">certificate</span><span class="o">-</span><span class="n">signing</span><span class="w"> </span><span class="n">request</span>
<span class="n">openssl</span><span class="w"> </span><span class="n">req</span><span class="w"> </span><span class="o">-</span><span class="k">new</span><span class="w"> </span><span class="o">-</span><span class="k">key</span><span class="w"> </span><span class="err">$</span><span class="n">NAME</span><span class="p">.</span><span class="k">key</span><span class="w"> </span><span class="o">-</span><span class="k">out</span><span class="w"> </span><span class="err">$</span><span class="n">NAME</span><span class="p">.</span><span class="n">csr</span>
<span class="err">#</span><span class="w"> </span><span class="k">Create</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="k">file</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extensions</span>
<span class="o">&gt;</span><span class="err">$</span><span class="n">NAME</span><span class="p">.</span><span class="n">ext</span><span class="w"> </span><span class="n">cat</span><span class="w"> </span><span class="o">&lt;&lt;-</span><span class="n">EOF</span>
<span class="n">authorityKeyIdentifier</span><span class="o">=</span><span class="n">keyid</span><span class="p">,</span><span class="n">issuer</span>
<span class="n">basicConstraints</span><span class="o">=</span><span class="nl">CA</span><span class="p">:</span><span class="k">FALSE</span>
<span class="n">keyUsage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">digitalSignature</span><span class="p">,</span><span class="w"> </span><span class="n">nonRepudiation</span><span class="p">,</span><span class="w"> </span><span class="n">keyEncipherment</span><span class="p">,</span><span class="w"> </span><span class="n">dataEncipherment</span>
<span class="n">subjectAltName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">@alt_names</span>
<span class="o">[</span><span class="n">alt_names</span><span class="o">]</span>
<span class="n">DNS</span><span class="mf">.1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">$</span><span class="n">NAME</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">Be</span><span class="w"> </span><span class="n">sure</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">include</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">domain</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">here</span><span class="w"> </span><span class="n">because</span><span class="w"> </span><span class="n">Common</span><span class="w"> </span><span class="n">Name</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="n">commonly</span><span class="w"> </span><span class="n">honoured</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">itself</span>
<span class="n">DNS</span><span class="mf">.2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bar</span><span class="p">.</span><span class="err">$</span><span class="n">NAME</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">Optionally</span><span class="p">,</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="n">additional</span><span class="w"> </span><span class="n">domains</span><span class="w"> </span><span class="p">(</span><span class="n">I</span><span class="err">'</span><span class="n">ve</span><span class="w"> </span><span class="n">added</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">subdomain</span><span class="w"> </span><span class="n">here</span><span class="p">)</span>
<span class="n">IP</span><span class="mf">.1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">192.168.0.13</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">Optionally</span><span class="p">,</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">IP</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">connection</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">planned</span><span class="w"> </span><span class="n">requires</span><span class="w"> </span><span class="n">it</span><span class="p">)</span>
<span class="n">EOF</span>
<span class="err">#</span><span class="w"> </span><span class="k">Create</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">signed</span><span class="w"> </span><span class="n">certificate</span>
<span class="n">openssl</span><span class="w"> </span><span class="n">x509</span><span class="w"> </span><span class="o">-</span><span class="n">req</span><span class="w"> </span><span class="o">-</span><span class="ow">in</span><span class="w"> </span><span class="err">$</span><span class="n">NAME</span><span class="p">.</span><span class="n">csr</span><span class="w"> </span><span class="o">-</span><span class="n">CA</span><span class="w"> </span><span class="n">myCA</span><span class="p">.</span><span class="n">pem</span><span class="w"> </span><span class="o">-</span><span class="n">CAkey</span><span class="w"> </span><span class="n">myCA</span><span class="p">.</span><span class="k">key</span><span class="w"> </span><span class="o">-</span><span class="n">CAcreateserial</span><span class="w"> </span><span class="err">\</span>
<span class="o">-</span><span class="k">out</span><span class="w"> </span><span class="err">$</span><span class="n">NAME</span><span class="p">.</span><span class="n">crt</span><span class="w"> </span><span class="o">-</span><span class="n">days</span><span class="w"> </span><span class="mi">825</span><span class="w"> </span><span class="o">-</span><span class="n">sha256</span><span class="w"> </span><span class="o">-</span><span class="n">extfile</span><span class="w"> </span><span class="err">$</span><span class="n">NAME</span><span class="p">.</span><span class="n">ext</span>
</pre></div>

<p>回顾一下：</p>
<ol>
<li>成为CA</li>
<li>使用您的 CA 证书+密钥签署您的证书</li>
<li>
<code>myCA.pem</code>在您的 Chrome 设置中作为“授权机构”（ <em>而不是</em> “您的证书”）导入（设置 &gt; 管理证书 &gt; 授权机构 &gt; 导入）</li>
<li>使用服务器中的<code>$NAME.crt</code>和文件<code>$NAME.key</code>
</li>
</ol>
<p>额外步骤（至少对于 Mac 而言）：</p>
<ol>
<li>在“文件 &gt; 导入文件”中导入 CA 证书，然后也在列表中找到它，右键单击它，展开“&gt; 信任”，然后选择“始终”</li>
<li>
<code>extendedKeyUsage=serverAuth,clientAuth</code>在下面添加，并确保将“CommonName”设置为与要求设置时<code>basicConstraints=CA:FALSE</code>相同<code>$NAME</code>
</li>
</ol>
<p><strong>您可以检查您的工作</strong> 以确保证书构建正确：</p>
<div class="code"><pre class="code literal-block">openssl verify -CAfile myCA.pem -verify_hostname bar.mydomain.example mydomain.example.crt
</pre></div>

<p><br></p>
<h3>更多建议</h3>
<p>这对我有用：</p>
<ol>
<li>使用 Chrome，通过 HTTPS 访问服务器上的一个页面，然后继续浏览红色警告页面（假设您还没有这样做）。</li>
<li>打开<code>Chrome Settings &gt; Show advanced settings &gt; HTTPS/SSL &gt; Manage Certificates</code>。</li>
<li>单击<code>Authorities</code>选项卡并向下滚动以在您为证书提供的组织名称下找到您的证书。</li>
<li>选择它，单击编辑（ <strong>注意</strong> ：在最新版本的 Chrome 中，该按钮现在是“高级”而不是“编辑”），选中所有框并单击确定。您可能需要重新启动 Chrome。</li>
</ol>
<p>您现在应该在您的页面上获得漂亮的绿色锁。</p>
<p><strong>编辑：</strong> 我在一台新机器上再次尝试了这个，并且证书没有出现在“管理证书”窗口中，只是从红色的不受信任的证书页面继续。我必须执行以下操作：</p>
<ol>
<li>在不可信证书页面（<code>https://</code>被红色划掉），点击锁&gt;证书信息。 <strong>注意：</strong> 在较新版本的 chrome 上，您必须打开<code>Developer Tools &gt; Security</code>，然后选择<code>View certificate</code>。</li>
<li>单击<code>Details tab &gt; Export</code>。选择<code>PKCS #7, single certificate</code>作为文件格式。</li>
<li>然后按照我原来的说明进入管理证书页面。单击<code>Authorities tab &gt; Import</code>并选择您将证书导出到的文件，并 <em>确保选择</em> <code>PKCS #7, single certificate</code> <em>文件类型</em> 。</li>
<li>如果提示证书存储，请选择 <em>受信任的根证书颁发机构</em>
</li>
<li>选中所有框并单击“确定”。重新启动 Chrome。</li>
</ol>
<p><br><br><a href="posts/getting-chrome-to-accept-self-signed-localhost-certificate/">查看原文</a></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/ji-yu-rong-qi-da-xiao-de-zi-ti-suo-fang/" class="u-url">基于容器大小的字体缩放</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/ji-yu-rong-qi-da-xiao-de-zi-ti-suo-fang/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T00:53:49+08:00" itemprop="datePublished" title="2023-02-17 00:53">2023-02-17 00:53</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>我很难理解字体缩放。</p>
<p>我目前有一个身体<code>font-size</code>为 100% 的网站。100% 的是什么？这似乎以 16 像素计算出来。</p>
<p>我的印象是 100% 会以某种方式指代浏览器窗口的大小，但显然不是，因为无论将窗口大小调整为移动宽度还是全屏宽屏桌面，它总是 16 像素。</p>
<p>如何使网站上的文本相对于其容器缩放？我尝试使用<code>em</code>，但这也无法扩展。</p>
<p>我的理由是，当你调整大小时，像我的菜单这样的东西会被压扁，所以我需要减少与容器宽度相关的其他元素<code>px</code> <code>font-
size</code>。<code>.menuItem</code>（例如，在大型桌面上的菜单中，<code>22px</code>效果很好。向下移动到平板电脑宽度<code>16px</code>更合适。）</p>
<p>我知道我可以添加断点，但我真的希望文本能够缩放以及 <em>有</em> 额外的断点，否则，我将在宽度每减少 100 像素时得到数百个断点来控制文本。</p>
<p><br><br></p>
<h2>解答</h2>
<p>如果容器不是主体，CSS 技巧涵盖了 <em>使文本适合容器</em> 中的所有选项。</p>
<p>如果容器是主体，则您正在寻找的是Viewport-percentage lengths：</p>
<blockquote>
<p>viewport <strong>-percentage 长度是相对于</strong>
初始包含块的大小的。当初始包含块的高度或宽度发生变化时，它们会相应地缩放。但是，当根元素上的 overflow 值为 auto
时，将假定任何滚动条都不存在。</p>
</blockquote>
<p>这些值是：</p>
<ul>
<li>
<code>vw</code>（视口宽度的百分比）</li>
<li>
<code>vh</code>（占视口高度的百分比）</li>
<li>
<code>vi</code>（根元素内联轴方向视口大小的 1%）</li>
<li>
<code>vb</code>（根元素块轴方向视口大小的 1%）</li>
<li>
<code>vmin</code>（较小的<code>vw</code>或<code>vh</code>）</li>
<li>
<code>vmax</code>（较大的或<code>vw</code>或<code>vh</code>）</li>
</ul>
<p>1 v* 等于初始包含块的 1%。</p>
<p>使用它看起来像这样：</p>
<div class="code"><pre class="code literal-block"><span class="nt">p</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">font-size</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="kt">vw</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>如您所见，当视口宽度增加时， 也会增加<code>font-size</code>，而无需使用媒体查询。</p>
<p>这些值是一个大小调整单位，就像<code>px</code>或<code>em</code>一样，因此它们也可用于调整其他元素的大小，例如宽度、边距或填充。</p>
<p>浏览器支持非常好，但您可能需要后备，例如：</p>
<div class="code"><pre class="code literal-block"><span class="nt">p</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">font-size</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="kt">px</span><span class="p">;</span>
<span class="w">    </span><span class="k">font-size</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="kt">vw</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>查看支持统计数据：http://caniuse.com/#feat=viewport-units。</p>
<p>另外，查看 CSS 技巧以获得更广泛的外观： <em>Viewport Sized Typography</em></p>
<p>这是一篇关于设置最小/最大尺寸和对尺寸进行更多控制的好文章： <em>精确控制响应式排版</em></p>
<p>这是一篇关于使用 calc() 设置大小以使文本填充视口的文章：http://codepen.io/CrocoDillon/pen/fBJxu</p>
<p>另外，请查看这篇文章，它也使用了一种被称为“熔融前导”的技术来调整行高。 <em>CSS 中的热火朝天</em></p>
<p><br></p>
<h3>更多建议</h3>
<blockquote>
<p>但是如果容器不是视口（body）怎么办？</p>
</blockquote>
<p>Alex在2507rkt3's answer的评论中提出了这个问题。</p>
<p>该事实并不意味着<code>vw</code>不能在某种程度上用于该容器的大小。现在要看到任何变化，必须假设容器在某种程度上是灵活的。无论是通过直接百分比<code>width</code>还是通过
100% 减去利润率。如果容器总是设置为，比方说，宽，那么这一点就变得“没有实际意义” <code>200px</code>——然后只需设置一个<code>font-
size</code>适用于该宽度的值。</p>
<p><strong>示例 1</strong></p>
<p>然而，对于灵活宽度的容器，必须意识到在某种程度上容器的 _ <strong>尺寸仍然偏离视口</strong>_
。因此，这是<code>vw</code>根据视口的百分比大小差异调整设置的问题，这意味着要考虑父包装器的大小。 <strong>举个例子</strong> ：</p>
<div class="code"><pre class="code literal-block"><span class="nt">div</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">width</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="kt">%</span><span class="p">;</span>
<span class="w">    </span><span class="k">border</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="kt">px</span><span class="w"> </span><span class="kc">solid</span><span class="w"> </span><span class="kc">black</span><span class="p">;</span>
<span class="w">    </span><span class="k">margin</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="kt">px</span><span class="p">;</span>
<span class="w">    </span><span class="k">font-size</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="kt">px</span><span class="p">;</span>
<span class="w">    </span><span class="c">/* 100 = viewport width, as 1vw = 1/100th of that</span>
<span class="c">       So if the container is 50% of viewport (as here)</span>
<span class="c">       then factor that into how you want it to size.</span>
<span class="c">       Let's say you like 5vw if it were the whole width,</span>
<span class="c">       then for this container, size it at 2.5vw (5 * .5 </span><span class="cp">[</span><span class="nx">i.e.</span><span class="w"> </span><span class="mi">50</span><span class="o">%</span><span class="cp">]</span><span class="c">)</span>
<span class="c">    */</span>
<span class="w">    </span><span class="k">font-size</span><span class="p">:</span><span class="w"> </span><span class="mf">2.5</span><span class="kt">vw</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>假设这里<code>div</code>是
的子元素<code>body</code>，它<code>50%</code>的<code>100%</code>宽度就是这个基本情况下的视口大小。基本上，您想设置一个<code>vw</code>对您来说看起来不错的。正如您在我对上述 CSS
内容的评论中看到的那样，您可以在数学上“思考”整个视口大小，但您不需 <em>要这样做</em>
。文本将随着容器“弯曲”，因为容器随着视口大小的调整而弯曲。这是两个不同大小的容器的示例。</p>
<p><strong>示例 2</strong></p>
<p>您可以通过强制基于此进行计算来帮助确保视口大小调整。 <strong>考虑这个例子</strong> ：</p>
<div class="code"><pre class="code literal-block"><span class="nt">html</span><span class="w"> </span><span class="p">{</span><span class="k">width</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="kt">%</span><span class="p">;}</span><span class="w"> </span><span class="c">/* Force 'html' to be viewport width */</span>
<span class="nt">body</span><span class="w"> </span><span class="p">{</span><span class="k">width</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="kt">%</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c">/* Overflow the body */</span>

<span class="nt">div</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">width</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="kt">%</span><span class="p">;</span>
<span class="w">    </span><span class="k">border</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="kt">px</span><span class="w"> </span><span class="kc">solid</span><span class="w"> </span><span class="kc">black</span><span class="p">;</span>
<span class="w">    </span><span class="k">margin</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="kt">px</span><span class="p">;</span>
<span class="w">    </span><span class="k">font-size</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="kt">px</span><span class="p">;</span>
<span class="w">    </span><span class="c">/* 100 = viewport width, as 1vw = 1/100th of that</span>
<span class="c">       Here, the body is 150% of viewport, but the container is 50%</span>
<span class="c">       of viewport, so both parents factor  into how you want it to size.</span>
<span class="c">       Let's say you like 5vw if it were the whole width,</span>
<span class="c">       then for this container, size it at 3.75vw</span>
<span class="c">       (5 * 1.5 </span><span class="cp">[</span><span class="nx">i.e.</span><span class="w"> </span><span class="mi">150</span><span class="o">%</span><span class="cp">]</span><span class="c">) * .5 </span><span class="cp">[</span><span class="nx">i.e.</span><span class="w"> </span><span class="mi">50</span><span class="o">%</span><span class="cp">]</span>
<span class="c">    */</span>
<span class="w">    </span><span class="k">font-size</span><span class="p">:</span><span class="w"> </span><span class="mf">3.75</span><span class="kt">vw</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>大小仍然基于视口，但本质上是基于容器大小本身设置的。</p>
<h3>如果容器的大小动态变化......</h3>
<p>如果容器元素的大小最终通过<code>@media</code>断点或通过 JavaScript
动态改变其百分比关系，那么无论基础“目标”是什么，都需要重新计算以维持相同的文本大小“关系”。</p>
<p>以上面的例子 #1 为例。如果通过或 JavaScript<code>div</code>将 切换为宽度，则同时需要在媒体查询或 JavaScript 中调整以适应新的.
这将使文本大小与原始容器的“宽度”从视口大小减少一半时的大小相同，但现在由于其自身百分比计算的变化而减少了。<code>25%``@media``font-
size``5vw * .25 = 1.25``50%</code></p>
<p><strong>一个挑战</strong></p>
<p>使用CSS<code>calc()</code>功能，动态调整会变得困难，因为该功能<code>font-size</code>目前无法使用。所以如果你的宽度在改变，你不能做纯 CSS
调整<code>calc()</code>。当然，边距宽度的微小调整可能不足以保证 的任何变化<code>font-size</code>，因此这可能无关紧要。</p>
<p><br><br><a href="posts/font-scaling-based-on-size-of-container/">查看原文</a></p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-207.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-205.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1456) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1456.html">
<link rel="prev" href="index-1457.html" type="text/html">
<link rel="next" href="index-1455.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/properties-of-a-cryptographic-hash-function/" class="u-url">properties of a cryptographic hash function</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/properties-of-a-cryptographic-hash-function/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-28T04:34:43+08:00" itemprop="datePublished" title="2023-02-28 04:34">2023-02-28 04:34</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>In a bitcoin Coursera course, there is a discussion of the three properties of
a cryptographic hash functions:</p>
<p><strong>Collision-resistance</strong> : A hash function <em>H</em> is said to be collision
resistant if it is infeasible to find two values, <em>x</em> and <em>y</em> , such that <em>x</em>
!= <em>y</em> , yet <em>H(x)</em> = <em>H(y)</em>.</p>
<p><strong>Hiding</strong> : A hash function <em>H</em> is hiding if: when a secret value <em>r</em> is
chosen from a probability distribution that has high entropy, then given <em>H(r
‖ x)</em> it is infeasible to find <em>x</em>. ‖ means concatenation of two strings.</p>
<p><strong>Puzzle friendliness</strong> : A hash function <em>H</em> is said to be puzzle-friendly if
for every possible n-bit output value <em>y</em> , if <em>k</em> is chosen from a
distribution with high entropy, then it is infeasible to find <em>x</em> such that
<em>H(k ‖ x) = y</em> in time significantly less than 2 <em>n</em>.</p>
<p>Puzzle friendliness seems to be a more detailed description of hiding. Is
there any significant differences between the two? Are there hash functions
with one of the properties but not both?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>I had the same thought, and the difference is indeed subtle. I had to think
about this awhile.</p>
<p>Suppose you had a hash, BadHash. You pick x' and a random nonce r', compute y'
= BadHash(r'|x'), and give me y'. It turns out that if x' is UTF8-encoded
English text, I am able to tell you what x' was, and (though not strictly
necessary), I can even tell you r'. If x' happened to be just a random bit-
string, I'd be out of luck. But no matter, this is clearly not a hiding hash.</p>
<p>Now the puzzle: I give you a value Y', and a randomly chosen value R' (say
"11110011...100"), and ask you to find an x such that BadHash(R'|x) = Y'. Good
news: it turns out that Y'= BadHash(00101...0001 | UTF8("Bitcoin is
deflationary")). So because BadHash is non-hiding (plus), you can determine an
R (namely 00101...0001), and and x (namely UTF8("Bitcoin is deflationary")),
such that BadHash(R|x) = Y' But this doesn't help you, because the puzzle
specified that you need an x that works with a different R, namely
"11110011...100". So you haven't solved the puzzle.</p>
<p>You see, then, that the two properties aren't equivalent. As to whether there
are indeed hashes with one property but not the other -- that I don't know.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Let's have: <code>y = H(x|r)</code>. Here the output is <em>y</em> , and inputs are <em>r</em> and <em>x</em>.</p>
<p><strong>Hiding property:</strong></p>
<p>Given an output of a hash function (y), it is <strong>infeasible</strong> to find an input
(x). <em>Note, r is not given.</em></p>
<p><strong>Puzzle-friendly property:</strong></p>
<p>Given an output of a hash function (y) and part of the input (r), it is
<strong>difficult</strong> to find an input (x).</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-s-the-difference-between-distributed-hashtable-technology-and-the-bitcoin-blockchain/" class="u-url">What's the difference between distributed hashtable technology and the bitcoin blockchain?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-s-the-difference-between-distributed-hashtable-technology-and-the-bitcoin-blockchain/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-28T04:34:22+08:00" itemprop="datePublished" title="2023-02-28 04:34">2023-02-28 04:34</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>This question could go into a bitcoin forum but I am trying to understand from
a programming point of view.</p>
<p>There are technologies used for distributed storage, like distributed
hashtables (say kademlia or similar). How is the bitcoin blockchain different
from distributed hashtables? Or is maybe distributed hashtable technology
underpinning the bitcoin blockchain? Or why is the bitcoin blockchain hailed
as such a breakthrough compared to DHT?</p>
<p><br><br></p>
<h2>Answer</h2>
<h3>Distributed Hash Table</h3>
<p>A DHT is simply a key-value store distributed accross a number of nodes in a
network. The keys are distributed among nodes with a deterministic algorithm.
Each node is responsible for a portion of the hash table.</p>
<p>A routing algorithm allows to perform requests in the hash table without
knowing every node of the network.</p>
<p>For exemple in the Chord DHT —which is relatively simple DHT implementation—
each node is assigned an identifier and is responsible of keys which are
closer to its identifier.</p>
<p>Imagine there is 4 nodes that have identifiers: 2a6c, 7811, a20f, e9c3 The
data with the identifier 2c92 will be stored on the node 2a6c.</p>
<p>Imagine now that you only know the node 7811 and you are looking for the data
with the identifier eabc.</p>
<p>You ask the node 7811 for the data eabc. 7811 doesn't have it so it ask the
node e9c3 wich send it to node 7811 which send it back to you.</p>
<p>A clever algorithm allows to find data in O(log(N)) jumps. Without storing the
entire routing table of the network (the addresses of each nodes). Basically
you ask the closest node to the data identifier you know wich itself asks the
closest node it knows and so on reducing the size of the jump at each step.</p>
<p>A DHT is very scalable because the data are uniformly distributed among nodes
and lookup time generally grows in O(log(N)).</p>
<h3>Blockchain</h3>
<p>A blockchain is also a distributed data structure but its purpose is
completely different.</p>
<p>Think of it as a history, or a ledger. The purpose is to store a continuously-
growing list of record without the possibility of tampering and revision.</p>
<p>It is mainly used in the bitcoin currency system for keeping track of
transactions. Its property of being tamper-proof let everybody know the exact
balance of an account by knowing its history of transaction.</p>
<p>In a blockchain, each node of the network stores the full data. So it is
absolutely not the same idea as the DHT in which data are divided among nodes.
Every new entry in the blockchain must be validated by a process called mining
whose details are out of the scope of this answer but this process insure
consensus of the data.</p>
<p>The two structures are both distributed data structure but serve different
purposes. DHT aims to provide an efficient (in term of lookup time and storage
footprint) structure to divide data on a network and blockchain aims to
provide a tamper-proof data structure.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-convert-uint-to-string-in-solidity/" class="u-url">How to convert uint to string in solidity?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-convert-uint-to-string-in-solidity/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-28T04:33:58+08:00" itemprop="datePublished" title="2023-02-28 04:33">2023-02-28 04:33</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>In Solidity, is there a way I can convert my int to string ?</p>
<p>Example:</p>
<div class="code"><pre class="code literal-block"><span class="nv">pragma</span><span class="w"> </span><span class="nv">solidity</span><span class="w"> </span><span class="o">^</span><span class="mi">0</span>.<span class="mi">4</span>.<span class="mi">4</span><span class="c1">;</span>

<span class="nv">contract</span><span class="w"> </span><span class="nv">someContract</span><span class="w"> </span>{

<span class="w">    </span><span class="nv">uint</span><span class="w"> </span><span class="nv">i</span><span class="c1">;</span>

<span class="w">    </span><span class="nv">function</span><span class="w"> </span><span class="nv">test</span><span class="ss">()</span><span class="w"> </span><span class="nv">pure</span><span class="w"> </span><span class="nv">returns</span><span class="w"> </span><span class="ss">(</span><span class="nv">string</span><span class="ss">)</span><span class="w"> </span>{

<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="s2">"Here and Now is Happiness!"</span><span class="c1">;</span>

<span class="w">    </span>}

<span class="w">    </span><span class="nv">function</span><span class="w"> </span><span class="nv">love</span><span class="ss">()</span><span class="w"> </span><span class="nv">pure</span><span class="w"> </span><span class="nv">returns</span><span class="ss">(</span><span class="nv">string</span><span class="ss">)</span><span class="w"> </span>{

<span class="w">        </span><span class="nv">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="o">+</span><span class="mi">1</span><span class="c1">;</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s2">"I love "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">functionname</span><span class="ss">(</span><span class="nv">i</span><span class="ss">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">" persons"</span><span class="w"> </span><span class="c1">;</span>
<span class="w">    </span>}



}
</pre></div>

<p>What is functionname?Thanks!</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The two post here are giving the responses :</p>
<p>https://ethereum.stackexchange.com/questions/10811/solidity-concatenate-uint-
into-a-string</p>
<p>https://ethereum.stackexchange.com/questions/10932/how-to-convert-string-to-
int</p>
<div class="code"><pre class="code literal-block"><span class="k">function</span><span class="w"> </span><span class="n">uintToString</span><span class="p">(</span><span class="n">uint</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="n">constant</span><span class="w"> </span><span class="k">returns</span><span class="w"> </span><span class="p">(</span><span class="n">string</span><span class="w"> </span><span class="nf">str</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">uint</span><span class="w"> </span><span class="n">maxlength</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span>
<span class="w">        </span><span class="n">bytes</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">reversed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">bytes</span><span class="p">(</span><span class="n">maxlength</span><span class="p">);</span>
<span class="w">        </span><span class="n">uint</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">v</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="n">uint</span><span class="w"> </span><span class="n">remainder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="w">            </span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="w">            </span><span class="n">reversed</span><span class="o">[</span><span class="n">i++</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">byte</span><span class="p">(</span><span class="mi">48</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">remainder</span><span class="p">);</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">        </span><span class="n">bytes</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">bytes</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">uint</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="n">s</span><span class="o">[</span><span class="n">j</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">reversed</span><span class="o">[</span><span class="n">i - j</span><span class="o">]</span><span class="p">;</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">        </span><span class="nf">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">string</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
<span class="w">    </span><span class="err">}</span>
</pre></div>

<p>Regards</p>
<p><br></p>
<h3>Suggest</h3>
<p>UPDATE for Solidity 0.8.0:</p>
<p>The <code>uint2str()</code> function from https://github.com/provable-things/ethereum-
api/blob/master/provableAPI_0.6.sol is now outdated, and will not work, but
here is the updated code, that uses solidity 0.8.0: (there was an Overflow bug
in the last version but solidity &lt;0.8.0 ignored that as it did not affect the
answer, but that now throws an error) <code>byte</code> was also changed to <code>bytes1</code> and
+,-,* and so on work like they would from the SafeMath library.</p>
<div class="code"><pre class="code literal-block"><span class="k">function</span><span class="w"> </span><span class="n">uint2str</span><span class="p">(</span><span class="n">uint</span><span class="w"> </span><span class="n">_i</span><span class="p">)</span><span class="w"> </span><span class="n">internal</span><span class="w"> </span><span class="n">pure</span><span class="w"> </span><span class="k">returns</span><span class="w"> </span><span class="p">(</span><span class="n">string</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">_uintAsString</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">_i</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="ss">"0"</span><span class="p">;</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">        </span><span class="n">uint</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_i</span><span class="p">;</span>
<span class="w">        </span><span class="n">uint</span><span class="w"> </span><span class="nf">len</span><span class="p">;</span>
<span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="nf">len</span><span class="o">++</span><span class="p">;</span>
<span class="w">            </span><span class="n">j</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">        </span><span class="n">bytes</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">bstr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">bytes</span><span class="p">(</span><span class="nf">len</span><span class="p">);</span>
<span class="w">        </span><span class="n">uint</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">len</span><span class="p">;</span>
<span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">_i</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">k</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="w">            </span><span class="n">uint8</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">48</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">uint8</span><span class="p">(</span><span class="n">_i</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_i</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">10</span><span class="p">));</span>
<span class="w">            </span><span class="n">bytes1</span><span class="w"> </span><span class="n">b1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bytes1</span><span class="p">(</span><span class="n">temp</span><span class="p">);</span>
<span class="w">            </span><span class="n">bstr</span><span class="o">[</span><span class="n">k</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b1</span><span class="p">;</span>
<span class="w">            </span><span class="n">_i</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">string</span><span class="p">(</span><span class="n">bstr</span><span class="p">);</span>
<span class="w">    </span><span class="err">}</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1457.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1455.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 428) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-428.html">
<link rel="prev" href="index-429.html" type="text/html">
<link rel="next" href="index-427.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/angularjs-zhong-fan-wei-yuan-xing-yuan-xing-ji-cheng-de-xi-wei-chai-bie-shi-shi-yao/" class="u-url">AngularJS 中范围原型/原型继承的细微差别是什么？</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/angularjs-zhong-fan-wei-yuan-xing-yuan-xing-ji-cheng-de-xi-wei-chai-bie-shi-shi-yao/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T06:42:32+08:00" itemprop="datePublished" title="2023-02-17 06:42">2023-02-17 06:42</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>API参考范围页面说：</p>
<blockquote>
<p>作用域 <em>可以</em> 从父作用域继承。</p>
</blockquote>
<p>开发人员指南范围页面说：</p>
<blockquote>
<p>范围（原型）从其父范围继承属性。</p>
</blockquote>
<ul>
<li>那么，子作用域是否总是原型继承自其父作用域？</li>
<li>有例外吗？</li>
<li>当它确实继承时，它总是正常的 JavaScript 原型继承吗？</li>
</ul>
<p><br><br></p>
<h2>解答</h2>
<p><strong>快速回答</strong> ：<br>
子作用域通常原型继承自其父作用域，但并非总是如此。该规则的一个例外是带有 -- 的指令，<code>scope: { ...
}</code>这会创建一个不以原型继承的“隔离”范围。在创建“可重用组件”指令时经常使用此构造。</p>
<p>至于细微差别，作用域继承通常是直截了当的……直到您需要在子作用域中 <strong>进行双向数据绑定（即表单元素、ng-model）。</strong>
如果您尝试从子作用域内绑定到父作用域中的 <strong>基元（例如，数字、字符串、布尔值），则 Ng-repeat、ng-switch 和 ng-include
可能会让您陷入困境。</strong> 它并不像大多数人期望的那样工作。子作用域获得自己的属性，该属性隐藏/隐藏同名的父属性。您的解决方法是</p>
<ol>
<li>在模型的父对象中定义对象，然后在子对象中引用该对象的属性：parentObj.someProp</li>
<li>使用 $parent.parentScopeProperty （并非总是可能，但比 1. 更容易）</li>
<li>在父作用域上定义一个函数，并从子作用域中调用它（并非总是可能）</li>
</ol>
<p>新的 AngularJS 开发人员通常没有意识到<code>ng-repeat</code>, <code>ng-switch</code>, <code>ng-view</code>,<code>ng-include</code>和<code>ng-
if</code>all 都会创建新的子作用域，因此当涉及到这些指令时，问题通常会出现。（有关问题的快速说明，请参阅此示例。）</p>
<p>通过遵循总是有一个“。”的“最佳实践”，可以很容易地避免原语的这个问题。在你的 ng-models 中——观看 3 分钟。Misko
演示了原始绑定问题<code>ng-switch</code>。</p>
<p>有一个 '。' 在你的模型中将确保原型继承在发挥作用。所以，使用</p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;</span><span class="n">input</span><span class="w"> </span><span class="kr">type</span><span class="o">=</span><span class="s">"text"</span><span class="w"> </span><span class="n">ng</span><span class="o">-</span><span class="n">model</span><span class="o">=</span><span class="s">"someObj.prop1"</span><span class="o">&gt;</span>

<span class="o">&lt;!--</span><span class="n">rather</span><span class="w"> </span><span class="n">than</span>
<span class="o">&lt;</span><span class="n">input</span><span class="w"> </span><span class="kr">type</span><span class="o">=</span><span class="s">"text"</span><span class="w"> </span><span class="n">ng</span><span class="o">-</span><span class="n">model</span><span class="o">=</span><span class="s">"prop1"</span><span class="o">&gt;</span><span class="err">`</span>
<span class="o">--&gt;</span>
</pre></div>

<hr>
<p><strong>长答案</strong> ：</p>
<h3>JavaScript 原型继承</h3>
<p><strong>也放在 AngularJS wiki 上：</strong>
https://github.com/angular/angular.js/wiki/Understanding-Scopes</p>
<p>首先对原型继承有一个透彻的理解很重要，特别是如果你有服务器端背景并且你更熟悉类继承。因此，让我们先回顾一下。</p>
<p>假设 parentScope 具有属性 aString、aNumber、anArray、anObject 和 aFunction。如果 childScope
原型继承自 parentScope，我们有：</p>
<p><img alt="原型继承" src="images/aTAGg.png"></p>
<p>（请注意，为了节省空间，我将对象显示<code>anArray</code>为具有三个值的单个蓝色对象，而不是具有三个独立灰色文字的单个蓝色对象。）</p>
<p>如果我们尝试从子作用域访问在 parentScope 上定义的属性，JavaScript
将首先在子作用域中查找，未找到该属性，然后在继承作用域中查找并找到该属性。（如果它没有在 parentScope
中找到该属性，它将继续沿着原型链向上……一直到根范围）。所以，这些都是真的：</p>
<div class="code"><pre class="code literal-block">childScope.aString === 'parent string'
childScope.anArray[1] === 20
childScope.anObject.property1 === 'parent prop1'
childScope.aFunction() === 'parent output'
</pre></div>

<p>假设我们这样做：</p>
<div class="code"><pre class="code literal-block">childScope.aString = 'child string'
</pre></div>

<p>不查询原型链，并且将新的 aString 属性添加到 childScope。 <strong>这个新属性隐藏/隐藏了同名的 parentScope 属性。</strong>
当我们在下面讨论 ng-repeat 和 ng-include 时，这将变得非常重要。</p>
<p><img alt="财产隐藏" src="images/OyVPW.png"></p>
<p>假设我们这样做：</p>
<div class="code"><pre class="code literal-block">childScope.anArray[1] = '22'
childScope.anObject.property1 = 'child prop1'
</pre></div>

<p>查询原型链是因为在 childScope 中找不到对象（anArray 和 anObject）。在 parentScope
中找到对象，并在原始对象上更新属性值。没有新的属性被添加到 childScope；没有创建新对象。（请注意，在 JavaScript
中，数组和函数也是对象。）</p>
<p><img alt="遵循原型链" src="images/2QceU.png"></p>
<p>假设我们这样做：</p>
<div class="code"><pre class="code literal-block">childScope.anArray = [100, 555]
childScope.anObject = { name: 'Mark', country: 'USA' }
</pre></div>

<p>不查询原型链，子作用域获得两个新的对象属性，它们隐藏/隐藏具有相同名称的 parentScope 对象属性。</p>
<p><img alt="更多财产隐藏" src="images/hKetH.png"></p>
<p>要点：</p>
<ul>
<li>如果我们读取 childScope.propertyX，childScope 有 propertyX，那么就不会去查询原型链。</li>
<li>如果我们设置 childScope.propertyX，则不会查询原型链。</li>
</ul>
<p>最后一种情况：</p>
<div class="code"><pre class="code literal-block">delete childScope.anArray
childScope.anArray[1] === 22  // true
</pre></div>

<p>我们首先删除了 childScope 属性，然后当我们再次尝试访问该属性时，会参考原型链。</p>
<p><img alt="删除子属性后" src="images/56uoe.png"></p>
<hr>
<h3>Angular Scope Inheritance</h3>
<p>The contenders:</p>
<ul>
<li>The following create new scopes, and inherit prototypically: ng-repeat, ng-include, ng-switch, ng-controller, directive with <code>scope: true</code>, directive with <code>transclude: true</code>.</li>
<li>The following creates a new scope which does not inherit prototypically: directive with <code>scope: { ... }</code>. This creates an "isolate" scope instead.</li>
</ul>
<p>Note, by default, directives do not create new scope -- i.e., the default is
<code>scope: false</code>.</p>
<h4>ng-include</h4>
<p>Suppose we have in our controller:</p>
<div class="code"><pre class="code literal-block"><span class="o">$</span><span class="nt">scope</span><span class="p">.</span><span class="nc">myPrimitive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">50</span><span class="o">;</span>
<span class="o">$</span><span class="nt">scope</span><span class="p">.</span><span class="nc">myObject</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">aNumber</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">}</span><span class="o">;</span>
</pre></div>

<p>And in our HTML:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;script</span><span class="w"> </span><span class="na">type=</span><span class="s">"text/ng-template"</span><span class="w"> </span><span class="na">id=</span><span class="s">"/tpl1.html"</span><span class="nt">&gt;</span>
<span class="nt">&lt;input</span><span class="w"> </span><span class="na">ng-model=</span><span class="s">"myPrimitive"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;div</span><span class="w"> </span><span class="err">ng-include</span><span class="w"> </span><span class="na">src=</span><span class="s">"'/tpl1.html'"</span><span class="nt">&gt;&lt;/div&gt;</span>

<span class="nt">&lt;script</span><span class="w"> </span><span class="na">type=</span><span class="s">"text/ng-template"</span><span class="w"> </span><span class="na">id=</span><span class="s">"/tpl2.html"</span><span class="nt">&gt;</span>
<span class="nt">&lt;input</span><span class="w"> </span><span class="na">ng-model=</span><span class="s">"myObject.aNumber"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;div</span><span class="w"> </span><span class="err">ng-include</span><span class="w"> </span><span class="na">src=</span><span class="s">"'/tpl2.html'"</span><span class="nt">&gt;&lt;/div&gt;</span>
</pre></div>

<p>Each ng-include generates a new child scope, which prototypically inherits
from the parent scope.</p>
<p><img alt="ng-include 子作用域" src="images/ziDfx.png"></p>
<p>Typing (say, "77") into the first input textbox causes the child scope to get
a new <code>myPrimitive</code> scope property that hides/shadows the parent scope
property of the same name. This is probably not what you want/expect.</p>
<p><img alt="ng-include 与原语" src="images/7l8dg.png"></p>
<p>Typing (say, "99") into the second input textbox does not result in a new
child property. Because tpl2.html binds the model to an object property,
prototypal inheritance kicks in when the ngModel looks for object myObject --
it finds it in the parent scope.</p>
<p><img alt="ng-include 对象" src="https://i.imgur.com/ZqqloMS.png"></p>
<p>We can rewrite the first template to use $parent, if we don't want to change
our model from a primitive to an object:</p>
<div class="code"><pre class="code literal-block">&lt;input ng-model="$parent.myPrimitive"&gt;
</pre></div>

<p>Typing (say, "22") into this input textbox does not result in a new child
property. The model is now bound to a property of the parent scope (because
$parent is a child scope property that references the parent scope).</p>
<p><img alt="ng-include 与 $parent" src="images/kd8pj.png"></p>
<p>For all scopes (prototypal or not), Angular always tracks a parent-child
relationship (i.e., a hierarchy), via scope properties $parent, $$childHead
and $$childTail. I normally don't show these scope properties in the diagrams.</p>
<p>For scenarios where form elements are not involved, another solution is to
define a function on the parent scope to modify the primitive. Then ensure the
child always calls this function, which will be available to the child scope
due to prototypal inheritance. E.g.,</p>
<div class="code"><pre class="code literal-block"><span class="c1">// in the parent scope</span>
<span class="no">$</span><span class="n">scope</span><span class="p">.</span><span class="n">setMyPrimitive</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">     </span><span class="no">$</span><span class="n">scope</span><span class="p">.</span><span class="n">myPrimitive</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">value</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>Here is a sample fiddle that uses this "parent function" approach. (The fiddle
was written as part of this answer:
https://stackoverflow.com/a/14104318/215945.)</p>
<p>See also https://stackoverflow.com/a/13782671/215945 and
https://github.com/angular/angular.js/issues/1267.</p>
<h4>ng-switch</h4>
<p>ng-switch scope inheritance works just like ng-include. So if you need 2-way
data binding to a primitive in the parent scope, use $parent, or change the
model to be an object and then bind to a property of that object. This will
avoid child scope hiding/shadowing of parent scope properties.</p>
<p>See also AngularJS, bind scope of a switch-case?</p>
<h4>ng-repeat</h4>
<p>Ng-repeat works a little differently. Suppose we have in our controller:</p>
<div class="code"><pre class="code literal-block">$scope.myArrayOfPrimitives = [ 11, 22 ];
$scope.myArrayOfObjects    = [{num: 101}, {num: 202}]
</pre></div>

<p>And in our HTML:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;ul&gt;&lt;li</span><span class="w"> </span><span class="na">ng-repeat=</span><span class="s">"num in myArrayOfPrimitives"</span><span class="nt">&gt;</span>
<span class="w">       </span><span class="nt">&lt;input</span><span class="w"> </span><span class="na">ng-model=</span><span class="s">"num"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;ul&gt;</span>
<span class="nt">&lt;ul&gt;&lt;li</span><span class="w"> </span><span class="na">ng-repeat=</span><span class="s">"obj in myArrayOfObjects"</span><span class="nt">&gt;</span>
<span class="w">       </span><span class="nt">&lt;input</span><span class="w"> </span><span class="na">ng-model=</span><span class="s">"obj.num"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;ul&gt;</span>
</pre></div>

<p>For each item/iteration, ng-repeat creates a new scope, which prototypically
inherits from the parent scope, <strong>but it also assigns the item's value to a
new property on the new child scope</strong>. (The name of the new property is the
loop variable's name.) Here's what the Angular source code for ng-repeat
actually is:</p>
<div class="code"><pre class="code literal-block"><span class="n">childScope</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">scope</span><span class="p">.</span><span class="err">$</span><span class="k">new</span><span class="p">();</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">child</span><span class="w"> </span><span class="k">scope</span><span class="w"> </span><span class="n">prototypically</span><span class="w"> </span><span class="n">inherits</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">parent</span><span class="w"> </span><span class="k">scope</span>
<span class="p">...</span>
<span class="n">childScope</span><span class="o">[</span><span class="n">valueIdent</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">value</span><span class="p">;</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">creates</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">childScope</span><span class="w"> </span><span class="n">property</span>
</pre></div>

<p>If item is a primitive (as in myArrayOfPrimitives), essentially a copy of the
value is assigned to the new child scope property. Changing the child scope
property's value (i.e., using ng-model, hence child scope <code>num</code>) does <strong>not</strong>
change the array the parent scope references. So in the first ng-repeat above,
each child scope gets a <code>num</code> property that is independent of the
myArrayOfPrimitives array:</p>
<p><img alt="ng-repeat 原语" src="images/nLoiW.png"></p>
<p>This ng-repeat will not work (like you want/expect it to). Typing into the
textboxes changes the values in the gray boxes, which are only visible in the
child scopes. What we want is for the inputs to affect the myArrayOfPrimitives
array, not a child scope primitive property. To accomplish this, we need to
change the model to be an array of objects.</p>
<p>So, if item is an object, a reference to the original object (not a copy) is
assigned to the new child scope property. Changing the child scope property's
value (i.e., using ng-model, hence <code>obj.num</code>) <strong>does</strong> change the object the
parent scope references. So in the second ng-repeat above, we have:</p>
<p><img alt="ng-repeat 对象" src="images/QSjTJ.png"></p>
<p>(I colored one line gray just so that it is clear where it is going.)</p>
<p>This works as expected. Typing into the textboxes changes the values in the
gray boxes, which are visible to both the child and parent scopes.</p>
<p>See also Difficulty with ng-model, ng-repeat, and inputs and
https://stackoverflow.com/a/13782671/215945</p>
<h4>ng-controller</h4>
<p>Nesting controllers using ng-controller results in normal prototypal
inheritance, just like ng-include and ng-switch, so the same techniques apply.
However, "it is considered bad form for two controllers to share information
via $scope inheritance" -- http://onehungrymind.com/angularjs-sticky-notes-
pt-1-architecture/ A service should be used to share data between controllers
instead.</p>
<p>(If you really want to share data via controllers scope inheritance, there is
nothing you need to do. The child scope will have access to all of the parent
scope properties. See also Controller load order differs when loading or
navigating)</p>
<h4>directives</h4>
<ol>
<li>default (<code>scope: false</code>) - the directive does not create a new scope, so there is no inheritance here. This is easy, but also dangerous because, e.g., a directive might think it is creating a new property on the scope, when in fact it is clobbering an existing property. This is not a good choice for writing directives that are intended as reusable components.</li>
<li>
<code>scope: true</code> - the directive creates a new child scope that prototypically inherits from the parent scope. If more than one directive (on the same DOM element) requests a new scope, only one new child scope is created. Since we have "normal" prototypal inheritance, this is like ng-include and ng-switch, so be wary of 2-way data binding to parent scope primitives, and child scope hiding/shadowing of parent scope properties.</li>
<li>
<p><code>scope: { ... }</code> - the directive creates a new isolate/isolated scope. It does not prototypically inherit. This is usually your best choice when creating reusable components, since the directive cannot accidentally read or modify the parent scope. However, such directives often need access to a few parent scope properties. The object hash is used to set up two-way binding (using '=') or one-way binding (using '@') between the parent scope and the isolate scope. There is also '&amp;' to bind to parent scope expressions. So, these all create local scope properties that are derived from the parent scope. Note that attributes are used to help set up the binding -- you can't just reference parent scope property names in the object hash, you have to use an attribute. E.g., this won't work if you want to bind to parent property <code>parentProp</code> in the isolated scope: <code>&lt;div my-directive&gt;</code> and <code>scope: { localProp: '@parentProp' }</code>. An attribute must be used to specify each parent property that the directive wants to bind to: <code>&lt;div my-directive the-Parent-Prop=parentProp&gt;</code> and <code>scope: { localProp: '@theParentProp' }</code>. <br>
Isolate scope's <code>__proto__</code> references Object. Isolate scope's $parent
references the parent scope, so although it is isolated and doesn't inherit
prototypically from the parent scope, it is still a child scope.<br>
For the picture below we have<br><code>&lt;my-directive interpolated="{{parentProp1}}" twowayBinding="parentProp2"&gt;</code>
and<br><code>scope: { interpolatedProp: '@interpolated', twowayBindingProp:
'=twowayBinding' }</code><br>
Also, assume the directive does this in its linking function:
<code>scope.someIsolateProp = "I'm isolated"</code><br><img alt="隔离范围" src="images/MUxS4.png"><br>
For more information on isolate scopes see http://onehungrymind.com/angularjs-
sticky-notes-pt-2-isolated-scope/</p>
</li>
<li>
<p><code>transclude: true</code> - the directive creates a new "transcluded" child scope, which prototypically inherits from the parent scope. The transcluded and the isolated scope (if any) are siblings -- the $parent property of each scope references the same parent scope. When a transcluded and an isolate scope both exist, isolate scope property $$nextSibling will reference the transcluded scope. I'm not aware of any nuances with the transcluded scope. <br>
For the picture below, assume the same directive as above with this addition:
<code>transclude: true</code><br><img alt="包含范围" src="images/fkWHA.png"></p>
</li>
</ol>
<p>This fiddle has a <code>showScope()</code> function that can be used to examine an
isolate and transcluded scope. See the instructions in the comments in the
fiddle.</p>
<hr>
<h3>Summary</h3>
<p>There are four types of scopes:</p>
<ol>
<li>normal prototypal scope inheritance -- ng-include, ng-switch, ng-controller, directive with <code>scope: true</code>
</li>
<li>normal prototypal scope inheritance with a copy/assignment -- ng-repeat. Each iteration of ng-repeat creates a new child scope, and that new child scope always gets a new property.</li>
<li>isolate scope -- directive with <code>scope: {...}</code>. This one is not prototypal, but '=', '@', and '&amp;' provide a mechanism to access parent scope properties, via attributes.</li>
<li>transcluded scope -- directive with <code>transclude: true</code>. This one is also normal prototypal scope inheritance, but it is also a sibling of any isolate scope.</li>
</ol>
<p>For all scopes (prototypal or not), Angular always tracks a parent-child
relationship (i.e., a hierarchy), via properties $parent and $$childHead and
$$childTail.</p>
<p>Diagrams were generated with graphviz "*.dot" files, which are on github. Tim
Caswell's "Learning JavaScript with Object Graphs" was the inspiration for
using GraphViz for the diagrams.</p>
<p><br></p>
<h3>更多建议</h3>
<p>我不想与 Mark 的回答竞争，只是想强调一下作为Javascript 继承及其原型链的新手，最终让所有内容都点击的部分。</p>
<p><strong>只有属性读取搜索原型链，而不是写入。</strong> 所以当你设置</p>
<div class="code"><pre class="code literal-block">myObject.prop = '123';
</pre></div>

<p>它不查找链，但是当你设置</p>
<div class="code"><pre class="code literal-block">myObject.myThing.prop = '123';
</pre></div>

<p><strong>在那个写操作中有一个微妙的读操作</strong> ，它试图在写入它的 prop 之前查找 myThing。这就是为什么从子对象写入
object.properties 会到达父对象的原因。</p>
<p><br><br><a href="posts/what-are-the-nuances-of-scope-prototypal-prototypical-inheritance-in-angularjs/">查看原文</a></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/wo-zai-na-li-ke-yi-zhao-dao-php-ini/" class="u-url">我在哪里可以找到 php.ini？</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/wo-zai-na-li-ke-yi-zhao-dao-php-ini/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T06:42:07+08:00" itemprop="datePublished" title="2023-02-17 06:42">2023-02-17 06:42</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>几年前，我在自己维护的 Linux 服务器上安装了 Apache 2.2x 和 PHP 5.3.1。我使用 .tar.gz 并按照说明构建它们（而不是
rpms 和你有什么）。一切都很好。</p>
<p>今天我需要安装这个看起来像 PHP 库的东西。我完成了 make install
的所有步骤，并在<code>$PHP_HOME/lib/extensions/somecomplicatedname/ibm_db2.so</code>.</p>
<p>重要的是最后一步是配置文件 <em>php.ini</em> ，但我的系统上没有 _ <strong>任何</strong><em> _php.ini</em> 文件。恐怖的恐怖。PHP
工作正常，当然除了我想使用的这个新奇的 ibm_db2 thingamajig，以便有人可以使用 GUI 来修补DB2。（我尝试了一个小的 PHP
脚本，但它失败并指示 ibm_db2 函数不可用。）</p>
<p>我每隔几年就必须处理一次 PHP，所以请从最基本的层面告诉我我可以做些什么来启用对 DB2 的基于 Web 的 GUI 访问。</p>
<p><br><br></p>
<h2>解答</h2>
<p>找到这个的最好方法是：</p>
<p>创建一个 PHP ( <em>.php</em> ) 文件并添加以下代码：</p>
<div class="code"><pre class="code literal-block"><span class="cp">&lt;?php</span> <span class="nb">phpinfo</span><span class="p">();</span> <span class="cp">?&gt;</span>
</pre></div>

<p>并在浏览器中打开它。它将显示实际正在读取的文件！</p>
<p>OP 的更新：</p>
<ol>
<li>以前接受的答案可能对您来说更快更方便，但并不总是正确的。请参阅对该答案的评论。</li>
<li>另请注意此答案<code>&lt;?php echo php_ini_loaded_file(); ?&gt;</code>中提到的更方便的替代方法。</li>
</ol>
<p><br></p>
<h3>更多建议</h3>
<p>找到这个的最好方法是：</p>
<p>创建一个 PHP ( <em>.php</em> ) 文件并添加以下代码：</p>
<div class="code"><pre class="code literal-block"><span class="cp">&lt;?php</span> <span class="nb">phpinfo</span><span class="p">();</span> <span class="cp">?&gt;</span>
</pre></div>

<p>并在浏览器中打开它。它将显示实际正在读取的文件！</p>
<p>OP 的更新：</p>
<ol>
<li>以前接受的答案可能对您来说更快更方便，但并不总是正确的。请参阅对该答案的评论。</li>
<li>另请注意此答案<code>&lt;?php echo php_ini_loaded_file(); ?&gt;</code>中提到的更方便的替代方法。</li>
</ol>
<p><br><br><a href="posts/where-can-i-find-php-ini/">查看原文</a></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/shan-chu-data-frame-zhong-suo-you-huo-bu-fen-na-que-shi-zhi-de-xing/" class="u-url">删除 data.frame 中所有或部分 NA（缺失值）的行</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/shan-chu-data-frame-zhong-suo-you-huo-bu-fen-na-que-shi-zhi-de-xing/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T06:41:42+08:00" itemprop="datePublished" title="2023-02-17 06:41">2023-02-17 06:41</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>我想删除此数据框中的行：</p>
<p>a) <strong>包含<code>NA</code>所有列的 s。</strong>下面是我的示例数据框。</p>
<div class="code"><pre class="code literal-block">             gene hsap mmul mmus rnor cfam
1 ENSG00000208234    0   NA   NA   NA   NA
2 ENSG00000199674    0   2    2    2    2
3 ENSG00000221622    0   NA   NA   NA   NA
4 ENSG00000207604    0   NA   NA   1    2
5 ENSG00000207431    0   NA   NA   NA   NA
6 ENSG00000221312    0   1    2    3    2
</pre></div>

<p>基本上，我想获得如下数据框。</p>
<div class="code"><pre class="code literal-block">             gene hsap mmul mmus rnor cfam
2 ENSG00000199674    0   2    2    2    2
6 ENSG00000221312    0   1    2    3    2
</pre></div>

<p>b)只在某些列中 <strong>包含<code>NA</code>s</strong>，所以我也可以得到这个结果：</p>
<div class="code"><pre class="code literal-block">             gene hsap mmul mmus rnor cfam
2 ENSG00000199674    0   2    2    2    2
4 ENSG00000207604    0   NA   NA   1    2
6 ENSG00000221312    0   1    2    3    2
</pre></div>

<p><br><br></p>
<h2>解答</h2>
<p>还要检查<code>complete.cases</code>：</p>
<div class="code"><pre class="code literal-block">&gt; final[complete.cases(final), ]
             gene hsap mmul mmus rnor cfam
2 ENSG00000199674    0    2    2    2    2
6 ENSG00000221312    0    1    2    3    2
</pre></div>

<p><code>na.omit</code>只是删除所有<code>NA</code>的更好。<code>complete.cases</code>通过仅包含数据框的某些列来允许部分选择：</p>
<div class="code"><pre class="code literal-block">&gt; final[complete.cases(final[ , 5:6]),]
             gene hsap mmul mmus rnor cfam
2 ENSG00000199674    0    2    2    2    2
4 ENSG00000207604    0   NA   NA    1    2
6 ENSG00000221312    0    1    2    3    2
</pre></div>

<p>你的解决方案行不通。如果您坚持使用<code>is.na</code>，那么您必须执行以下操作：</p>
<div class="code"><pre class="code literal-block">&gt; final[rowSums(is.na(final[ , 5:6])) == 0, ]
             gene hsap mmul mmus rnor cfam
2 ENSG00000199674    0    2    2    2    2
4 ENSG00000207604    0   NA   NA    1    2
6 ENSG00000221312    0    1    2    3    2
</pre></div>

<p>但是 using<code>complete.cases</code>更清晰，更快。</p>
<p><br></p>
<h3>更多建议</h3>
<p>尝试<code>na.omit(your.data.frame)</code>。至于第二个问题，请尝试将其作为另一个问题发布（为了清楚起见）。</p>
<p><br><br><a href="posts/remove-rows-with-all-or-some-nas-missing-values-in-data-frame/">查看原文</a></p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-429.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-427.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

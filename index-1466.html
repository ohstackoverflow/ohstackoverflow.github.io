<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1466) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1466.html">
<link rel="prev" href="index-1467.html" type="text/html">
<link rel="next" href="index-1465.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/hyperledger-fabric-with-docker-not-storing-data-after-restart/" class="u-url">Hyperledger Fabric with docker not storing data after restart</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/hyperledger-fabric-with-docker-not-storing-data-after-restart/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-28T04:48:47+08:00" itemprop="datePublished" title="2023-02-28 04:48">2023-02-28 04:48</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I setup Hyperledger Fabric V0.6 with docker image. I wrote small chain code
program and perform some operations. Data is getting stored and fetched on
request from Hyperledger blockchain.</p>
<p>I restart my chaincode program and data still persist. Ofcouse this should be
expected behaviour.</p>
<p>But when I stop my Hyperledger fabric with command docker-compose down and
start it again with docker-compose start and then start my chaincode program,
I found that the whole data which was written before restart is gone. I
couldn't find any data in my blockchain.</p>
<p>How can I avoid this behaviour of Hyperledger? I am running it on single
peer/node. With multiple peers, if one of the peer restarted, then
data/transactions from other peers get copied on it. But consider a worst
scenario when all peers down. Does that mean we loose all our data?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>As per the official docs <code>docker-compose down</code> stops and <strong>removes</strong> all
containers listed in docker-compose file <em>along</em> with their volumes (unless
specified as external, have a look into the documentation).</p>
<p>You may want to stop the containers with <code>docker-compose stop</code> - this way
after <code>docker-compose up</code> their data will be preserved.</p>
<p><br></p>
<h3>Suggest</h3>
<h2>A Note on Data Persistence</h2>
<p>If data persistence is desired on the peer container or the CouchDB container,
one option is to mount a directory in the docker-host into a relevant
directory in the container. For example, you may add the following two lines
in the peer container specification in the <code>docker-compose-base.yaml</code> file:</p>
<p><code>volumes: - /var/hyperledger/peer0:/var/hyperledger/production</code></p>
<p>For the CouchDB container, you may add the following two lines in the CouchDB
container specification:</p>
<p><code>volumes: - /var/hyperledger/couchdb0:/opt/couchdb/data</code></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/can-we-get-transaction-information-recorded-in-the-past-block-using-solidity-in-the-smart-contract/" class="u-url">Can we get transaction information recorded in the past block using Solidity in the Smart contract?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/can-we-get-transaction-information-recorded-in-the-past-block-using-solidity-in-the-smart-contract/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-28T04:48:30+08:00" itemprop="datePublished" title="2023-02-28 04:48">2023-02-28 04:48</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am studying blockchain with Ethereum, and I want to use past transaction
data in the Smart contract using Solidity. If I use Web3.js module in the
program written in javascript, I can get these data easily. But I can't get
these data in the Smart contract using Solidity.</p>
<p>Reference of Solidity says that we can get current block number, blockhash,
etc., by using "block.number" and "block.blockhash(uint blockNumber)"
functions, but doesn't mention getting transaction data.
(http://solidity.readthedocs.io/en/latest/units-and-global-
variables.html#special-variables-and-functions)</p>
<p><img alt="enter image description here" src="images/ZGwyP.png"></p>
<p>please help me.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The answer is simple. Unfortunately, you simply can’t access old transaction
or block data onchain from Solidity. At most, you can access hashes of last
256 blocks (see <code>blockhash</code> in documentation )</p>
<p>Alternatively, as a workaround you could consider using Oraclize. Oraclize
represents way to read offchain data onchain, so you could try to read
transaction data from Etherscan web API. The way Oraclize works is that :</p>
<ol>
<li>You request to Oraclize smart contract what data you want to fetch from internet (some URL)</li>
<li>Oraclize offchain servers then detect your on-chain request</li>
<li>The look up the data you wanted (they'll make some http request to the URL you provided)</li>
<li>Once they get response, they will send transaction to your contract (calling specific callback method) containing data you requested</li>
</ol>
<p>With such approach however, you are relying that:</p>
<ol>
<li>EtherScan is up and running</li>
<li>Oraclize is up un running.</li>
</ol>
<p>If you only care about transaction data related to your smart contracts,
another way would be to store that transaction data onchain. Maybe we could
gave you some more suggestions if you tell us more about what specific problem
are you solving.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/hyperledger-fabric-blockchain-network-from-scratch/" class="u-url">Hyperledger Fabric blockchain network from scratch</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/hyperledger-fabric-blockchain-network-from-scratch/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-28T04:48:10+08:00" itemprop="datePublished" title="2023-02-28 04:48">2023-02-28 04:48</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I've been studying the Hyperledger Fabric framework reading the docs for quite
a while now but I'm getting a little lost in the middle of all that info. My
question is: Is there any guidelines/"Step by step" on how to design a
blockchain network from scratch? If you are starting a new project, where do
you start?</p>
<p>Because I think I would understand it way more quicker if I actually started
coding a little instead of reading and reading and reading...</p>
<p>Thanks a lot!</p>
<p><strong>Edit 1:</strong></p>
<p>I've chosen @kekomal answer as the correct one but I'd like to thank @Isha
Padalia for the awesome VS Code extension and tutorial.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>If you are really interested in learning and diving into Hyperledger Fabric,
avoid <code>byfn</code> script. It performs a lot of magic for building a very simple
Hyperledger Fabric network. After that, you have a network that you don't know
how has been created and you have absolutely no idea of how to start deploying
your custom network. There are daily questions here from people who started
that way and are absolutely lost.</p>
<p>I find interesting this tutorial: https://medium.com/beyondi/setup-the-
hyperledger-fabric-network-from-scratch-b82913b47549. Take into account that
it is a little bit outdated.</p>
<p>You can complement it with this newer tutorial:
https://www.blockchainexpert.uk/blog/how-to-deploy-hyperledger-fabric-network-
from-scratch. Don't only run the steps. Analyze the files in
https://github.com/blockchain-expert/hyperledger-fabric-network-from-scratch.
Try playing with <code>configtx.yaml</code>, <code>crypto-config.yaml</code> and docker-compose
files to customize your network and understand what you are doing.</p>
<p>Customize your organizations, your consortiums, your ordering service, your
peers... Create your channels, join them, update your anchor peers... And
understand what you are doing.</p>
<p>After that, if your network had one orderer, deploy a new one with more than
one (with Raft consensus). If your network was using <code>cryptogen</code>, deploy a new
one using Fabric-CAs instead. Or you can follow by playing with chaincodes.</p>
<p><strong>NOTE:</strong> Apart from Hyperledger Fabric itself, it is essential to have basic
notions of docker and PKI.</p>
<p><br></p>
<h3>Suggest</h3>
<p>You are a beginner in Hypelredger fabric development then you have first
cleared the concept of the orderer, peer, CA, and organization concept. And
then first you have to start IBM Blockchain Platform VS Code extension for
fabric. It will provide a local fabric environment to create, test and deploy
a fabric smart contract. Also generate 1 peer, 1 orderer, 1 CA service under
VS code environment.</p>
<p>Here is a link to start development with VS code extension.</p>
<p>Hope it will help you:)</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1467.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1465.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

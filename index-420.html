<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 420) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-420.html">
<link rel="prev" href="index-421.html" type="text/html">
<link rel="next" href="index-419.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/angular-html-binding/" class="u-url">Angular HTML binding</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/angular-html-binding/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T06:23:51+08:00" itemprop="datePublished" title="2023-02-17 06:23">2023-02-17 06:23</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am writing an Angular application and I have an HTML response I want to
display.</p>
<p>How do I do that? If I simply use the binding syntax <code>{{myVal}}</code> it encodes
all HTML characters (of course).</p>
<p>I need somehow to bind the <code>innerHTML</code> of a <code>div</code> to the variable value.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The correct syntax is the following:</p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;</span><span class="n">div</span><span class="w"> </span><span class="o">[</span><span class="n">innerHTML</span><span class="o">]=</span><span class="ss">"theHtmlString"</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</pre></div>

<p>Documentation Reference</p>
<p><br></p>
<h3>Suggest</h3>
<p><strong>Angular 2.0.0 and Angular 4.0.0 final</strong></p>
<p>For safe content just</p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;</span><span class="n">div</span><span class="w"> </span><span class="o">[</span><span class="n">innerHTML</span><span class="o">]=</span><span class="ss">"myVal"</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</pre></div>

<p><strong>DOMSanitizer</strong></p>
<p>Potential unsafe HTML needs to be explicitly marked as trusted using Angulars
DOM sanitizer so doesn't strip potentially unsafe parts of the content</p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;</span><span class="n">div</span><span class="w"> </span><span class="o">[</span><span class="n">innerHTML</span><span class="o">]=</span><span class="ss">"myVal | safeHtml"</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</pre></div>

<p>with a pipe like</p>
<div class="code"><pre class="code literal-block"><span class="err">@</span><span class="n">Pipe</span><span class="p">({</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s1">'safeHtml'</span><span class="p">})</span>
<span class="k">export</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">Safe</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">constructor</span><span class="p">(</span><span class="n">private</span><span class="w"> </span><span class="n">sanitizer</span><span class="p">:</span><span class="n">DomSanitizer</span><span class="p">){}</span>

<span class="w">  </span><span class="n">transform</span><span class="p">(</span><span class="n">style</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">this</span><span class="o">.</span><span class="n">sanitizer</span><span class="o">.</span><span class="n">bypassSecurityTrustHtml</span><span class="p">(</span><span class="n">style</span><span class="p">);</span>
<span class="w">    </span><span class="o">//</span><span class="k">return</span><span class="w"> </span><span class="n">this</span><span class="o">.</span><span class="n">sanitizer</span><span class="o">.</span><span class="n">bypassSecurityTrustStyle</span><span class="p">(</span><span class="n">style</span><span class="p">);</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">this</span><span class="o">.</span><span class="n">sanitizer</span><span class="o">.</span><span class="n">bypassSecurityTrustXxx</span><span class="p">(</span><span class="n">style</span><span class="p">);</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">docs</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>See also In RC.1 some styles can't be added using binding syntax</p>
<p>And docs: https://angular.io/api/platform-browser/DomSanitizer</p>
<p><strong>Security warning</strong></p>
<p>Trusting user added HTML may pose a security risk. The before mentioned docs
state:</p>
<blockquote>
<p>Calling any of the <code>bypassSecurityTrust...</code> APIs disables Angular's built-in
sanitization for the value passed in. Carefully check and audit all values
and code paths going into this call. Make sure any user data is
appropriately escaped for this security context. For more detail, see the
Security Guide.</p>
</blockquote>
<p><strong>Angular markup</strong></p>
<p>Something like</p>
<div class="code"><pre class="code literal-block">class<span class="w"> </span>FooComponent<span class="w"> </span>{
<span class="w">  </span>bar<span class="w"> </span>=<span class="w"> </span>'bar';
<span class="w">  </span>foo<span class="w"> </span>=<span class="w"> </span>`<span class="nt">&lt;div&gt;</span><span class="cp">{{</span><span class="nv">bar</span><span class="cp">}}</span><span class="nt">&lt;/div&gt;</span>
<span class="w">    </span><span class="nt">&lt;my-comp&gt;&lt;/my-comp&gt;</span>
<span class="w">    </span><span class="nt">&lt;input</span><span class="w"> </span><span class="err">[(ngModel)]="bar"</span><span class="nt">&gt;</span>`;
</pre></div>

<p>with</p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;</span><span class="n">div</span><span class="w"> </span><span class="o">[</span><span class="n">innerHTML</span><span class="o">]=</span><span class="ss">"foo"</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</pre></div>

<p><strong>won't cause Angular to process anything Angular-specific in<code>foo</code></strong>. Angular
replaces Angular specific markup at build time with generated code. Markup
added at runtime <strong>won't be processed by Angular</strong>.</p>
<p>To add HTML that contains Angular-specific markup (property or value binding,
components, directives, pipes, ...) it is required to add the dynamic module
and compile components at runtime. This answer provides more details How can I
use/create dynamic template to compile dynamic Component with Angular 2.0?</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-check-file-size-in-python/" class="u-url">How do I check file size in Python?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-check-file-size-in-python/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T06:23:26+08:00" itemprop="datePublished" title="2023-02-17 06:23">2023-02-17 06:23</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How do I get the size of a file in Python?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You need the <code>st_size</code> property of the object returned by <code>os.stat</code>. You can
get it by either using <code>pathlib</code> (Python 3.4+):</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Path</span><span class="p">(</span><span class="s1">'somefile.txt'</span><span class="p">)</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span>
<span class="n">os</span><span class="o">.</span><span class="n">stat_result</span><span class="p">(</span><span class="n">st_mode</span><span class="o">=</span><span class="mi">33188</span><span class="p">,</span> <span class="n">st_ino</span><span class="o">=</span><span class="mi">6419862</span><span class="p">,</span> <span class="n">st_dev</span><span class="o">=</span><span class="mi">16777220</span><span class="p">,</span> <span class="n">st_nlink</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">st_uid</span><span class="o">=</span><span class="mi">501</span><span class="p">,</span> <span class="n">st_gid</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">st_size</span><span class="o">=</span><span class="mi">1564</span><span class="p">,</span> <span class="n">st_atime</span><span class="o">=</span><span class="mi">1584299303</span><span class="p">,</span> <span class="n">st_mtime</span><span class="o">=</span><span class="mi">1584299400</span><span class="p">,</span> <span class="n">st_ctime</span><span class="o">=</span><span class="mi">1584299400</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Path</span><span class="p">(</span><span class="s1">'somefile.txt'</span><span class="p">)</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span><span class="o">.</span><span class="n">st_size</span>
<span class="mi">1564</span>
</pre></div>

<p>or using <code>os.stat</code>:</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">os</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="s1">'somefile.txt'</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">stat_result</span><span class="p">(</span><span class="n">st_mode</span><span class="o">=</span><span class="mi">33188</span><span class="p">,</span> <span class="n">st_ino</span><span class="o">=</span><span class="mi">6419862</span><span class="p">,</span> <span class="n">st_dev</span><span class="o">=</span><span class="mi">16777220</span><span class="p">,</span> <span class="n">st_nlink</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">st_uid</span><span class="o">=</span><span class="mi">501</span><span class="p">,</span> <span class="n">st_gid</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">st_size</span><span class="o">=</span><span class="mi">1564</span><span class="p">,</span> <span class="n">st_atime</span><span class="o">=</span><span class="mi">1584299303</span><span class="p">,</span> <span class="n">st_mtime</span><span class="o">=</span><span class="mi">1584299400</span><span class="p">,</span> <span class="n">st_ctime</span><span class="o">=</span><span class="mi">1584299400</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="s1">'somefile.txt'</span><span class="p">)</span><span class="o">.</span><span class="n">st_size</span>
<span class="mi">1564</span>
</pre></div>

<p>Output is in bytes.</p>
<p><br></p>
<h3>Suggest</h3>
<p>You need the <code>st_size</code> property of the object returned by <code>os.stat</code>. You can
get it by either using <code>pathlib</code> (Python 3.4+):</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Path</span><span class="p">(</span><span class="s1">'somefile.txt'</span><span class="p">)</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span>
<span class="n">os</span><span class="o">.</span><span class="n">stat_result</span><span class="p">(</span><span class="n">st_mode</span><span class="o">=</span><span class="mi">33188</span><span class="p">,</span> <span class="n">st_ino</span><span class="o">=</span><span class="mi">6419862</span><span class="p">,</span> <span class="n">st_dev</span><span class="o">=</span><span class="mi">16777220</span><span class="p">,</span> <span class="n">st_nlink</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">st_uid</span><span class="o">=</span><span class="mi">501</span><span class="p">,</span> <span class="n">st_gid</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">st_size</span><span class="o">=</span><span class="mi">1564</span><span class="p">,</span> <span class="n">st_atime</span><span class="o">=</span><span class="mi">1584299303</span><span class="p">,</span> <span class="n">st_mtime</span><span class="o">=</span><span class="mi">1584299400</span><span class="p">,</span> <span class="n">st_ctime</span><span class="o">=</span><span class="mi">1584299400</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">Path</span><span class="p">(</span><span class="s1">'somefile.txt'</span><span class="p">)</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span><span class="o">.</span><span class="n">st_size</span>
<span class="mi">1564</span>
</pre></div>

<p>or using <code>os.stat</code>:</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">os</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="s1">'somefile.txt'</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">stat_result</span><span class="p">(</span><span class="n">st_mode</span><span class="o">=</span><span class="mi">33188</span><span class="p">,</span> <span class="n">st_ino</span><span class="o">=</span><span class="mi">6419862</span><span class="p">,</span> <span class="n">st_dev</span><span class="o">=</span><span class="mi">16777220</span><span class="p">,</span> <span class="n">st_nlink</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">st_uid</span><span class="o">=</span><span class="mi">501</span><span class="p">,</span> <span class="n">st_gid</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">st_size</span><span class="o">=</span><span class="mi">1564</span><span class="p">,</span> <span class="n">st_atime</span><span class="o">=</span><span class="mi">1584299303</span><span class="p">,</span> <span class="n">st_mtime</span><span class="o">=</span><span class="mi">1584299400</span><span class="p">,</span> <span class="n">st_ctime</span><span class="o">=</span><span class="mi">1584299400</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="s1">'somefile.txt'</span><span class="p">)</span><span class="o">.</span><span class="n">st_size</span>
<span class="mi">1564</span>
</pre></div>

<p>Output is in bytes.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/scp-with-port-number-specified/" class="u-url">scp with port number specified</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/scp-with-port-number-specified/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T06:23:01+08:00" itemprop="datePublished" title="2023-02-17 06:23">2023-02-17 06:23</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm trying to scp a file from a remote server to my local machine. Only port
80 is accessible.</p>
<p>I tried:</p>
<div class="code"><pre class="code literal-block"><span class="n">scp</span><span class="w"> </span><span class="o">-</span><span class="n">p</span><span class="w"> </span><span class="mi">80</span><span class="w"> </span><span class="n">username</span><span class="nv">@www</span><span class="p">.</span><span class="n">myserver</span><span class="p">.</span><span class="nl">com</span><span class="p">:</span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="k">file</span><span class="p">.</span><span class="n">txt</span><span class="w"> </span><span class="p">.</span>
</pre></div>

<p>but got this error: <code>cp: 80: No such file or directory</code></p>
<p>How do I specify the port number in a scp command?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Unlike ssh, scp uses the uppercase P switch to set the port instead of the
lowercase p:</p>
<div class="code"><pre class="code literal-block">scp -P 80 ... # Use port 80 to bypass the firewall, instead of the scp default
</pre></div>

<p>The lowercase p switch is used with scp for the preservation of times and
modes.</p>
<p>Here is an excerpt from scp's man page with all of the details concerning the
two switches, as well as an explanation of why uppercase P was chosen for scp:</p>
<blockquote>
<p>-P port Specifies the port to connect to on the remote host. Note that this
option is written with a capital 'P', because -p is already reserved for
preserving the times and modes of the file in rcp(1).</p>
<p>-p Preserves modification times, access times, and modes from the original
file.</p>
</blockquote>
<p><em>Bonus Tip</em> : How can I determine the port being used by the/an SSH daemon to
accept SSH connections?</p>
<p>This question can be answered by using the <code>netstat</code> utility, as follows:</p>
<div class="code"><pre class="code literal-block">sudo netstat -tnlp | grep sshd
</pre></div>

<p>Or, using the far more readable word based netstat option names:</p>
<div class="code"><pre class="code literal-block">sudo netstat --tcp --numeric-ports --listening --program | grep sshd
</pre></div>

<p>The output you will see, assuming your ssh daemon is configured with default
values its listening ports, is shown below (with a little trimming of the
whitespace in between columns, in order to get the entire table to be visible
without having to scroll):</p>
<div class="code"><pre class="code literal-block"><span class="nv">Active</span><span class="w"> </span><span class="nv">Internet</span><span class="w"> </span><span class="nv">connections</span><span class="w"> </span><span class="ss">(</span><span class="nv">only</span><span class="w"> </span><span class="nv">servers</span><span class="ss">)</span>
<span class="nv">Proto</span><span class="w"> </span><span class="nv">Recv</span><span class="o">-</span><span class="nv">Q</span><span class="w"> </span><span class="k">Send</span><span class="o">-</span><span class="nv">Q</span><span class="w"> </span><span class="nv">Local</span><span class="w"> </span><span class="nv">Address</span><span class="w">  </span><span class="nv">Foreign</span><span class="w"> </span><span class="nv">Address</span><span class="w">  </span><span class="nv">State</span><span class="w">       </span><span class="nv">ID</span><span class="o">/</span><span class="nv">Program</span><span class="w"> </span><span class="nv">name</span>
<span class="nv">tcp</span><span class="w">      </span><span class="mi">0</span><span class="w">      </span><span class="mi">0</span><span class="w">   </span><span class="mi">0</span>.<span class="mi">0</span>.<span class="mi">0</span>.<span class="mi">0</span>:<span class="mi">22</span><span class="w">     </span><span class="mi">0</span>.<span class="mi">0</span>.<span class="mi">0</span>.<span class="mi">0</span>:<span class="o">*</span><span class="w">        </span><span class="nv">LISTEN</span><span class="w">      </span><span class="mi">888</span><span class="o">/</span><span class="nv">sshd</span>:<span class="w"> </span><span class="o">/</span><span class="nv">usr</span><span class="o">/</span><span class="nv">sbin</span><span class="w"> </span>
<span class="nv">tcp6</span><span class="w">     </span><span class="mi">0</span><span class="w">      </span><span class="mi">0</span><span class="w">   </span>:::<span class="mi">22</span><span class="w">          </span>:::<span class="o">*</span><span class="w">             </span><span class="nv">LISTEN</span><span class="w">      </span><span class="mi">888</span><span class="o">/</span><span class="nv">sshd</span>:<span class="w"> </span><span class="o">/</span><span class="nv">usr</span><span class="o">/</span><span class="nv">sbin</span>
</pre></div>

<p><em>Important Note</em></p>
<p>For the above examples, <code>sudo</code> was used to run netstat with administrator
privs, in order to be able to see <em>all</em> of the <em>Program Names</em>. If you run
netstat as a regular user (i.e., without sudo and assuming you don't have
admin rights granted to you, via some other method), you will only see program
names shown for sockets that have your UID as the owner. The <em>Program Names</em>
for sockets belonging to other users will not be shown (i.e., will be hidden
and a placeholder hyphen will be displayed, instead):</p>
<div class="code"><pre class="code literal-block"><span class="nv">Proto</span><span class="w"> </span><span class="nv">Recv</span><span class="o">-</span><span class="nv">Q</span><span class="w"> </span><span class="k">Send</span><span class="o">-</span><span class="nv">Q</span><span class="w"> </span><span class="nv">Local</span><span class="w"> </span><span class="nv">Address</span><span class="w">   </span><span class="nv">Foreign</span><span class="w"> </span><span class="nv">Address</span><span class="w">  </span><span class="nv">State</span><span class="w">       </span><span class="nv">ID</span><span class="o">/</span><span class="nv">Program</span><span class="w"> </span><span class="nv">name</span>
<span class="nv">tcp</span><span class="w">        </span><span class="mi">0</span><span class="w">      </span><span class="mi">0</span><span class="w"> </span><span class="mi">127</span>.<span class="mi">0</span>.<span class="mi">0</span>.<span class="mi">1</span>:<span class="mi">46371</span><span class="w"> </span><span class="mi">0</span>.<span class="mi">0</span>.<span class="mi">0</span>.<span class="mi">0</span>:<span class="o">*</span><span class="w">        </span><span class="nv">LISTEN</span><span class="w">      </span><span class="mi">4489</span><span class="o">/</span><span class="nv">code</span>
...
<span class="nv">tcp</span><span class="w">        </span><span class="mi">0</span><span class="w">      </span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span>.<span class="mi">0</span>.<span class="mi">0</span>.<span class="mi">0</span>:<span class="mi">111</span><span class="w">     </span><span class="mi">0</span>.<span class="mi">0</span>.<span class="mi">0</span>.<span class="mi">0</span>:<span class="o">*</span><span class="w">        </span><span class="nv">LISTEN</span><span class="w">      </span><span class="o">-</span><span class="w">                   </span>
<span class="nv">tcp</span><span class="w">        </span><span class="mi">0</span><span class="w">      </span><span class="mi">0</span><span class="w"> </span><span class="mi">127</span>.<span class="mi">0</span>.<span class="mi">0</span>.<span class="mi">53</span>:<span class="mi">53</span><span class="w">   </span><span class="mi">0</span>.<span class="mi">0</span>.<span class="mi">0</span>.<span class="mi">0</span>:<span class="o">*</span><span class="w">        </span><span class="nv">LISTEN</span><span class="w">      </span><span class="o">-</span><span class="w">                   </span>
<span class="nv">tcp</span><span class="w">        </span><span class="mi">0</span><span class="w">      </span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span>.<span class="mi">0</span>.<span class="mi">0</span>.<span class="mi">0</span>:<span class="mi">22</span><span class="w">      </span><span class="mi">0</span>.<span class="mi">0</span>.<span class="mi">0</span>.<span class="mi">0</span>:<span class="o">*</span><span class="w">        </span><span class="nv">LISTEN</span><span class="w">      </span><span class="o">-</span><span class="w">                   </span>
...
</pre></div>

<p><em>Update and aside to address one of the (heavily upvoted) comments</em> :</p>
<p>With regard to Abdull's comment about <code>scp</code> option order, what he suggests:</p>
<div class="code"><pre class="code literal-block">scp -r some_directory -P 80 ...
</pre></div>

<p>..., intersperses options and parameters, since the <code>-r</code> switch takes no
additional arguments and <code>some_directory</code> is treated as the first parameter to
the command, making <code>-P</code> and all subsequent command line arguments look like
additional parameters to the command (i.e., hyphen prefixed arguments are no
longer considered as switches).</p>
<p><code>getopt(1)</code> clearly defines that parameters must come <em>after</em> options (i.e.,
switches) and not be interspersed with them, willy-nilly:</p>
<blockquote>
<p>The parameters getopt is called with can be divided into two parts: options
which modify the way getopt will do the parsing (the options and the
optstring in the SYNOPSIS), and the parameters which are to be parsed
(parameters in the SYNOPSIS). The second part will start at the first non-
option parameter that is not an option argument, or after the first
occurrence of '--'. If no '-o' or '--options' option is found in the first
part, the first parameter of the second part is used as the short options
string.</p>
</blockquote>
<p>Since the <code>-r</code> command line option takes no further arguments,
<code>some_directory</code> is "the first non-option parameter that is not an option
argument." Therefore, as clearly spelled out in the <code>getopt(1)</code> man page, all
succeeding command line arguments that follow it (i.e., <code>-P 80 ...</code>) are
assumed to be non-options (and non-option arguments).</p>
<p>So, in effect, this is how <code>getopt(1)</code> sees the example presented with the end
of the options and the beginning of the parameters demarcated by gray text:</p>
<p>scp -r <code>some_directory -P 80 ...</code></p>
<p>This has nothing to do with <code>scp</code> behavior and everything to do with how POSIX
standard applications parse command line options using the <code>getopt(3)</code> set of
C functions.</p>
<p>For more details with regard to command line ordering and processing, please
read the <code>getopt(1)</code> manpage using:</p>
<div class="code"><pre class="code literal-block">man 1 getopt
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>One additional hint. Place the '-P' option after the scp command, no matter
whether the machine you are ssh-ing into is the second one (aka destination).
Example:</p>
<div class="code"><pre class="code literal-block"><span class="n">scp</span><span class="w"> </span><span class="o">-</span><span class="n">P</span><span class="w"> </span><span class="mi">2222</span><span class="w"> </span><span class="o">/</span><span class="n">absolute_path</span><span class="o">/</span><span class="n">source</span><span class="o">-</span><span class="n">folder</span><span class="o">/</span><span class="ow">some</span><span class="o">-</span><span class="k">file</span><span class="w"> </span><span class="k">user</span><span class="nv">@example</span><span class="p">.</span><span class="nl">com</span><span class="p">:</span><span class="o">/</span><span class="n">absolute_path</span><span class="o">/</span><span class="n">destination</span><span class="o">-</span><span class="n">folder</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-421.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-419.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2548) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2548.html">
<link rel="prev" href="index-2549.html" type="text/html">
<link rel="next" href="index-2547.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-to-use-instead-of-addpreferencesfromresource-in-a-preferenceactivity/" class="u-url">What to use instead of "addPreferencesFromResource" in a PreferenceActivity?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-to-use-instead-of-addpreferencesfromresource-in-a-preferenceactivity/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T00:15:12+08:00" itemprop="datePublished" title="2023-03-05 00:15">2023-03-05 00:15</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I just noticed the fact that the method <code>addPreferencesFromResource(int
preferencesResId)</code> is marked <strong>deprecated</strong> in Android's documentation
(Reference Entry).</p>
<p>Unfortunately, no alternative method is provided in the method's description.</p>
<p>Which method should be used instead in order to connect a preferenceScreen.xml
to the matching PreferenceActivity?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>No alternative method is provided in the method's description because the
preferred approach (as of API level 11) is to instantiate PreferenceFragment
objects to load your preferences from a resource file. See the sample code
here: PreferenceActivity</p>
<p><br></p>
<h3>Suggest</h3>
<p>To add more information to the correct answer above, after reading an example
from Android-er I found you can easily convert your preference activity into a
preference fragment. If you have the following activity:</p>
<div class="code"><pre class="code literal-block"><span class="n">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">MyPreferenceActivity</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="n">PreferenceActivity</span>
<span class="p">{</span>
<span class="w">    </span><span class="err">@</span><span class="n">Override</span>
<span class="w">    </span><span class="n">protected</span><span class="w"> </span><span class="nb nb-Type">void</span><span class="w"> </span><span class="n">onCreate</span><span class="p">(</span><span class="n">final</span><span class="w"> </span><span class="n">Bundle</span><span class="w"> </span><span class="n">savedInstanceState</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">super</span><span class="o">.</span><span class="n">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span>
<span class="w">        </span><span class="n">addPreferencesFromResource</span><span class="p">(</span><span class="n">R</span><span class="o">.</span><span class="n">xml</span><span class="o">.</span><span class="n">my_preference_screen</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>The only changes you have to make is to create an internal fragment class,
move the <code>addPreferencesFromResources()</code> into the fragment, and invoke the
fragment from the activity, like this:</p>
<div class="code"><pre class="code literal-block"><span class="n">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">MyPreferenceActivity</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="n">PreferenceActivity</span>
<span class="p">{</span>
<span class="w">    </span><span class="err">@</span><span class="n">Override</span>
<span class="w">    </span><span class="n">protected</span><span class="w"> </span><span class="nb nb-Type">void</span><span class="w"> </span><span class="n">onCreate</span><span class="p">(</span><span class="n">final</span><span class="w"> </span><span class="n">Bundle</span><span class="w"> </span><span class="n">savedInstanceState</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">super</span><span class="o">.</span><span class="n">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span>
<span class="w">        </span><span class="n">getFragmentManager</span><span class="p">()</span><span class="o">.</span><span class="n">beginTransaction</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">android</span><span class="o">.</span><span class="n">R</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">content</span><span class="p">,</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">MyPreferenceFragment</span><span class="p">())</span><span class="o">.</span><span class="n">commit</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">MyPreferenceFragment</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="n">PreferenceFragment</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="err">@</span><span class="n">Override</span>
<span class="w">        </span><span class="n">public</span><span class="w"> </span><span class="nb nb-Type">void</span><span class="w"> </span><span class="n">onCreate</span><span class="p">(</span><span class="n">final</span><span class="w"> </span><span class="n">Bundle</span><span class="w"> </span><span class="n">savedInstanceState</span><span class="p">)</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="n">super</span><span class="o">.</span><span class="n">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span>
<span class="w">            </span><span class="n">addPreferencesFromResource</span><span class="p">(</span><span class="n">R</span><span class="o">.</span><span class="n">xml</span><span class="o">.</span><span class="n">my_preference_screen</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>There may be other subtleties to making more complex preferences from
fragments; if so, I hope someone notes them here.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-does-mvw-stand-for/" class="u-url">What does MVW stand for?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-does-mvw-stand-for/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T00:12:42+08:00" itemprop="datePublished" title="2023-03-05 00:12">2023-03-05 00:12</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Here's the content description for AngularJS page:</p>
<blockquote>
<p>AngularJS is what HTML would have been, had it been designed for building
web-apps. Declarative templates with data-binding, MVW, MVVM, MVC,
dependency injection and great testability story all implemented with pure
client-side JavaScript!</p>
</blockquote>
<p>So what does MVW stand for? (Considering the MVC, MVVW, MVP etc squabble, I
would guess "whatever", Model-View-Whatever =P)</p>
<p><br><br></p>
<h2>Answer</h2>
<p>It stands indeed for whatever, as in whatever works for you per Igor Minar
from 2012 ( _ <strong>emphasis mine</strong>_ ):</p>
<blockquote>
<p><strong>MVC vs MVVM vs MVP.</strong> What a controversial topic that many developers can
spend hours and hours debating and arguing about.</p>
<p>For several years <strong>+AngularJS was closer to MVC</strong> (or rather one of its
client-side variants), but over time and thanks to many refactorings and api
improvements, it's <strong>now closer to MVVM</strong> – the $scope object could be
considered the ViewModel that is being decorated by a function that we call
a Controller.</p>
<p>Being able to categorize a framework and put it into one of the MV* buckets
has some advantages. It can help developers get more comfortable with its
apis by making it easier to create a mental model that represents the
application that is being built with the framework. It can also help to
establish terminology that is used by developers.</p>
<p>Having said, <strong>I'd rather see developers build kick-ass apps</strong> that are
well-designed and follow separation of concerns, than see them waste time
arguing about MV<em> nonsense. And for this reason, </em><em>I hereby declare
AngularJS to be MVW framework - Model-View-Whatever</em><em>. Where _</em><em>Whatever
stands for "whatever works for you"</em>*_.</p>
<p>Angular gives you a lot of flexibility to nicely separate presentation logic
from business logic and presentation state. Please use it fuel your
productivity and application maintainability rather than heated discussions
about things that at the end of the day don't matter that much.</p>
</blockquote>
<p><br></p>
<h3>Suggest</h3>
<p>MVW stands for <strong>Model-View-Whatever</strong>.</p>
<p>For completeness, here are all the acronyms mentioned:</p>
<blockquote>
<p>MVC - Model-View-Controller</p>
<p>MVP - Model-View-Presenter</p>
<p>MVVM - Model-View-ViewModel</p>
<p>MVW / MV* / MVx - Model-View-Whatever</p>
</blockquote>
<p>And some more:</p>
<blockquote>
<p>HMVC - Hierarchical Model-View-Controller</p>
<p>MMV - Multiuse Model View</p>
<p>MVA - Model-View-Adapter</p>
<p>MVI - Model-View-Intent</p>
</blockquote>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-persist-data-in-a-dockerized-postgres-database-using-volumes/" class="u-url">How to persist data in a dockerized postgres database using volumes</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-persist-data-in-a-dockerized-postgres-database-using-volumes/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T00:10:50+08:00" itemprop="datePublished" title="2023-03-05 00:10">2023-03-05 00:10</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>My docker compose file has three containers, web, nginx, and postgres.
Postgres looks like this:</p>
<div class="code"><pre class="code literal-block"><span class="n">postgres</span><span class="o">:</span>
<span class="w">  </span><span class="n">container_name</span><span class="o">:</span><span class="w"> </span><span class="n">postgres</span>
<span class="w">  </span><span class="n">restart</span><span class="o">:</span><span class="w"> </span><span class="n">always</span>
<span class="w">  </span><span class="n">image</span><span class="o">:</span><span class="w"> </span><span class="n">postgres</span><span class="o">:</span><span class="n">latest</span>
<span class="w">  </span><span class="n">volumes</span><span class="o">:</span>
<span class="w">    </span><span class="o">-</span><span class="w"> </span><span class="o">./</span><span class="n">database</span><span class="o">:/</span><span class="n">var</span><span class="sr">/lib/</span><span class="n">postgresql</span>
<span class="w">  </span><span class="n">ports</span><span class="o">:</span>
<span class="w">    </span><span class="o">-</span><span class="w"> </span><span class="mi">5432</span><span class="o">:</span><span class="mi">5432</span>
</pre></div>

<p>My goal is to mount a volume which corresponds to a local folder called
<code>./database</code> inside the postgres container as <code>/var/lib/postgres</code>. When I
start these containers and insert data into postgres, I verify that
<code>/var/lib/postgres/data/base/</code> is full of the data I'm adding (in the postgres
container), but in my local system, <code>./database</code> only gets a <code>data</code> folder in
it, i.e. <code>./database/data</code> is created, but it's empty. Why?</p>
<p>Notes:</p>
<ul>
<li>This suggests my above file should work.</li>
<li>This person is using docker services which is interesting</li>
</ul>
<h4>UPDATE 1</h4>
<p>Per Nick's suggestion, I did a <code>docker inspect</code> and found:</p>
<div class="code"><pre class="code literal-block"><span class="w">    </span><span class="s2">"Mounts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="s2">"Source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/Users/alex/Documents/MyApp/database"</span><span class="p">,</span>
<span class="w">            </span><span class="s2">"Destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/var/lib/postgresql"</span><span class="p">,</span>
<span class="w">            </span><span class="s2">"Mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rw"</span><span class="p">,</span>
<span class="w">            </span><span class="s2">"RW"</span><span class="p">:</span><span class="w"> </span><span class="bp">true</span><span class="p">,</span>
<span class="w">            </span><span class="s2">"Propagation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rprivate"</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e5bf22471215db058127109053e72e0a423d97b05a2afb4824b411322efd2c35"</span><span class="p">,</span>
<span class="w">            </span><span class="s2">"Source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/var/lib/docker/volumes/e5bf22471215db058127109053e72e0a423d97b05a2afb4824b411322efd2c35/_data"</span><span class="p">,</span>
<span class="w">            </span><span class="s2">"Destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/var/lib/postgresql/data"</span><span class="p">,</span>
<span class="w">            </span><span class="s2">"Driver"</span><span class="p">:</span><span class="w"> </span><span class="s2">"local"</span><span class="p">,</span>
<span class="w">            </span><span class="s2">"Mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span>
<span class="w">            </span><span class="s2">"RW"</span><span class="p">:</span><span class="w"> </span><span class="bp">true</span><span class="p">,</span>
<span class="w">            </span><span class="s2">"Propagation"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">],</span>
</pre></div>

<p>Which makes it seem like the data is being stolen by another volume I didn't
code myself. Not sure why that is. Is the postgres image creating that volume
for me? If so, is there some way to use <em>that volume</em> instead of the volume
I'm mounting when I restart? Otherwise, is there a good way of disabling that
other volume and using my own, <code>./database</code>?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Strangely enough, the solution ended up being to change</p>
<div class="code"><pre class="code literal-block"><span class="n">volumes</span><span class="p">:</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="o">./</span><span class="n">postgres</span><span class="o">-</span><span class="n">data</span><span class="p">:</span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">postgresql</span>
</pre></div>

<p>to</p>
<div class="code"><pre class="code literal-block"><span class="n">volumes</span><span class="p">:</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="o">./</span><span class="n">postgres</span><span class="o">-</span><span class="n">data</span><span class="p">:</span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">postgresql</span><span class="o">/</span><span class="n">data</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<h4>You can create a common <strong>volume</strong> for all Postgres data</h4>
<div class="code"><pre class="code literal-block">docker volume create pgdata
</pre></div>

<p>or you can set it to the compose file</p>
<div class="code"><pre class="code literal-block"><span class="n">version</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span>
<span class="n">services</span><span class="p">:</span>
<span class="w">  </span><span class="n">db</span><span class="p">:</span>
<span class="w">    </span><span class="n">image</span><span class="p">:</span><span class="w"> </span><span class="n">postgres</span>
<span class="w">    </span><span class="n">environment</span><span class="p">:</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="n">POSTGRES_USER</span><span class="o">=</span><span class="n">postgres</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="n">POSTGRES_PASSWORD</span><span class="o">=</span><span class="n">postgress</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="n">POSTGRES_DB</span><span class="o">=</span><span class="n">postgres</span>
<span class="w">    </span><span class="n">ports</span><span class="p">:</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="s2">"5433:5432"</span>
<span class="w">    </span><span class="n">volumes</span><span class="p">:</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="n">pgdata</span><span class="p">:</span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">postgresql</span><span class="o">/</span><span class="n">data</span>
<span class="w">    </span><span class="n">networks</span><span class="p">:</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="n">suruse</span>
<span class="n">volumes</span><span class="p">:</span>
<span class="w">  </span><span class="n">pgdata</span><span class="p">:</span>
</pre></div>

<p>It will create volume name <strong>pgdata</strong> and mount this volume to container's
path.</p>
<h4>You can inspect this volume</h4>
<div class="code"><pre class="code literal-block"><span class="n">docker</span><span class="w"> </span><span class="n">volume</span><span class="w"> </span><span class="n">inspect</span><span class="w"> </span><span class="n">pgdata</span>



<span class="o">//</span><span class="w"> </span><span class="n">output</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span>
<span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="s2">"Driver"</span><span class="p">:</span><span class="w"> </span><span class="s2">"local"</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"Labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
<span class="w">        </span><span class="s2">"Mountpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/var/lib/docker/volumes/pgdata/_data"</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pgdata"</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"Options"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
<span class="w">        </span><span class="s2">"Scope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"local"</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">]</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2549.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2547.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

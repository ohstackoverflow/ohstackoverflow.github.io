<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1320) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1320.html">
<link rel="prev" href="index-1321.html" type="text/html">
<link rel="next" href="index-1319.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/compare-two-files-in-visual-studio/" class="u-url">Compare two files in Visual Studio</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/compare-two-files-in-visual-studio/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T06:36:05+08:00" itemprop="datePublished" title="2023-02-18 06:36">2023-02-18 06:36</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I saw the new comparison tool in Visual Studio 2012 for comparing two files or
two versions of a file. I like it. But when I tried to find it I couldn't it,
because I don't use TFS.</p>
<p>Is there a way how I can just compare two files with the built-in feature in
Visual Studio (but without TFS)?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can invoke <code>devenv.exe /diff list1.txt list2.txt</code> from the Visual Studio
Developer Command Prompt or, if a Visual Studio instance is already running,
you can type <code>Tools.DiffFiles</code> in the <em>Command window</em> , with a handy file
name completion:</p>
<p><img alt="Using Tools.DiffFiles from the Visual Studio Command
window" src="images/cQF8D.png"></p>
<p><br></p>
<h3>Suggest</h3>
<p>Inspired by Vladimir Reshetnikov's answer above, I found a very comfortable
way how you can instantly compare two files with Visual Studio by using <strong>drag
and drop</strong> or via the <strong>"Send To"</strong> context menu. It only requires a little
preparation which you need to do once and then it is useful like a Swiss army
knife.</p>
<p><strong>Visual Studio</strong> already has everything you need, and there are only some
configuration steps required to make this working:</p>
<h3>File compare using drag &amp; drop</h3>
<p><strong>Preparation:</strong></p>
<ol>
<li>Create a new <strong>batch file</strong> using your favorite text editor. Type the following:<div class="code"><pre class="code literal-block"><span class="nv">@echo</span><span class="w"> </span><span class="k">off</span>
</pre></div>

<p>setlocal
set vspath=C:\Program Files (x86)\Microsoft Visual Studio\2017\Enterprise\Common7\IDE
start "Compare files" /B /MIN "%vspath%\devenv.exe" /diff %2 %1 First:'%2' Second:'%1'</p>
</li>
</ol>
<p>You might notice that I have reversed the <code>%1</code> and <code>%2</code> parameters in the
batch. This is because I noticed that the file explorer passes the <strong>second
file</strong> as the first parameter, and then the <strong>first file</strong> as the second
parameter.</p>
<ol>
<li>
<p>Save this code as <strong><code>VS_FileCompare.cmd</code></strong> to use it, and modify <code>vspath</code> if required to match the location of <code>devenv.exe</code> (depending on the <strong>Visual Studio version</strong> you're currently using, see <strong>footnote</strong> *) )</p>
</li>
<li>
<p>Either create a <strong>shortcut</strong> named <strong>"File Compare"</strong> for <code>VS_FileCompare.cmd</code> and place it on the <strong>desktop</strong> (as used in the animation below), so it is always available to drag &amp; drop files onto it or directly place the batch file on the desktop. That's all!</p>
</li>
</ol>
<p><strong>Usage:</strong></p>
<ol>
<li>
<p>Open the <strong>Windows explorer</strong> via <code>Win</code> + <code>E</code></p>
</li>
<li>
<p>Select two files to compare in the explorer</p>
</li>
<li>
<p>Drag and drop them as shown in the animation below:</p>
</li>
</ol>
<p><img alt="DragDropDemo" src="images/GknSf.gif"></p>
<ol>
<li>After a few seconds (depending on the launch time of Visual Studio), the results will be shown in Visual Studio:</li>
</ol>
<p><img alt="Visual Studio View" src="images/8z0KJ.png"></p>
<p><strong>Note:</strong> It does not harm if Visual Studio is already open. In this case it
will just open up a new window within the running instance of Visual Studio.
So you can compare multiple file pairs, but please ensure you have selected
only two files at a time.</p>
<hr>
<h3>Alternative way: SendTo context menu</h3>
<p>Here's an alternative how you can use the batch file <strong><code>VS_FileCompare.cmd</code></strong>
mentioned in the section above. It allows to use the context menu's <em>Send To
folder</em> to compare the files.</p>
<p><strong>Preparation:</strong></p>
<ol>
<li>Create a shortcut <strong>"Compare2Files VS"</strong> for the batch file <strong><code>VS_FileCompare.cmd</code></strong> and copy it into the <strong>SendTo</strong> folder. Open the <strong>Windows explorer</strong> via <code>Win</code> + <code>E</code>
</li>
<li>Open the <strong>SendTo</strong> folder by entering <strong><code>shell:sendto</code></strong> into the file explorer's address bar (as described here). Then, put the prepared shortcut into this folder.</li>
</ol>
<p><strong>Usage:</strong></p>
<ol>
<li>
<p>Open the <strong>Windows explorer</strong> via <code>Win</code> + <code>E</code></p>
</li>
<li>
<p>Select two files to compare in the explorer</p>
</li>
<li>
<p>Assuming the shortcut for the batch file <strong><code>VS_FileCompare.cmd</code></strong> is named <strong>"Compare2Files VS"</strong> , you can select the two files, right-click and select <strong>Send To → Compare2Files VS</strong> to invoke the compare as shown below:</p>
</li>
</ol>
<p><img alt="SendTo" src="images/7hNFi.jpg"></p>
<ol>
<li>After a few seconds (depending on the launch time of Visual Studio), the results will be shown in Visual Studio:</li>
</ol>
<p><img alt="Visual Studio View" src="images/8z0KJ.png"></p>
<p><strong>HINT:</strong> If you like the SendTo folder approach, there is more you can do -
for example you can open a command shell directly via SendTo and it starts
with the right path (the path where the selected file resides). Look here to
find out how to do that. You can even combine it with the script to gain
elevated rights, with only a little extra effort.</p>
<hr>
<p><strong>MSDN References:</strong></p>
<ul>
<li>Usage of the diff window</li>
<li>Visual Studio's Diff parameter</li>
</ul>
<hr>
<p><em>) </em><em>Footnote:</em>* Because <code>vsPath</code> (the path to <code>DEVENV.exe</code>) differs depending on your version of Visual Studio, I am describing how you can find it out (Windows 10):</p>
<ol>
<li>
<p>In the <strong>Windows start menu</strong> <img alt="Windows Icon Small" src="images/GCpev.png">, locate the <strong>Visual Studio icon</strong> <img alt="Visual Studio Icon Small" src="images/HxqaR.png"></p>
</li>
<li>
<p>Right-click to bring up the context menu. Select <em>More</em> → <em>Open File Location</em>. <br>
Windows Explorer opens with the Visual Studio shortcut highlighted.</p>
</li>
<li>
<p>Right-Click on the Visual Studio and select <strong>Properties</strong></p>
</li>
<li>
<p>In the properties dialog, you can find the path in <strong>"Target:"</strong></p>
</li>
</ol>
<p><img alt="VSProperties" src="images/WUaSC.png"></p>
<hr>
<p>Animations created with Screen to gif</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-join-multiple-lines-of-filenames-into-one-with-custom-delimiter/" class="u-url">How to join multiple lines of filenames into one with custom delimiter</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-join-multiple-lines-of-filenames-into-one-with-custom-delimiter/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T06:34:50+08:00" itemprop="datePublished" title="2023-02-18 06:34">2023-02-18 06:34</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How do I join the result of <code>ls -1</code> into a single line and delimit it with
whatever I want?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Similar to the very first option but omits the trailing delimiter</p>
<div class="code"><pre class="code literal-block">ls -1 | paste -sd "," -
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<blockquote>
<p><strong>EDIT</strong> : Simply " <strong>ls -m</strong> " If you want your delimiter to be a comma</p>
</blockquote>
<p>Ah, the power and simplicity !</p>
<div class="code"><pre class="code literal-block">ls -1 | tr '\n' ','
</pre></div>

<p>Change the comma " <strong>,</strong> " to whatever you want. Note that this includes a
"trailing comma" (for lists that end with a newline)</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-show-soft-keyboard-when-edittext-is-focused/" class="u-url">How to show soft-keyboard when edittext is focused</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-show-soft-keyboard-when-edittext-is-focused/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T06:34:19+08:00" itemprop="datePublished" title="2023-02-18 06:34">2023-02-18 06:34</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I want to automatically show the soft-keyboard when an <code>EditText</code> is focused
(if the device does not have a physical keyboard) and I have two problems:</p>
<ol>
<li>
<p>When my <code>Activity</code> is displayed, my <code>EditText</code> is focused but the keyboard is not displayed, I need to click again on it to show the keyboard (it should be displayed when my <code>Activity</code> is displayed).</p>
</li>
<li>
<p>And when I click done on the keyboard, the keyboard is dissmissed but the <code>EditText</code> stays focused and y don't want (because my edit is done).</p>
</li>
</ol>
<p>To resume, my problem is to have something more like on the iPhone: which keep
the keyboard sync with my <code>EditText</code> state (focused / not focused) and of
course does not present a soft-keyboard if there is a physical one.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>To force the soft keyboard to appear, you can use</p>
<div class="code"><pre class="code literal-block">EditText yourEditText= (EditText) findViewById(R.id.yourEditText);
yourEditText.requestFocus();
InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);
imm.showSoftInput(yourEditText, InputMethodManager.SHOW_IMPLICIT);
</pre></div>

<p>And for removing the focus on <code>EditText</code>, sadly you need to have a dummy
<code>View</code> to grab focus.</p>
<hr>
<p>To close it you can use</p>
<div class="code"><pre class="code literal-block">InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);
imm.hideSoftInputFromWindow(yourEditText.getWindowToken(), 0);
</pre></div>

<hr>
<p>This works for using it in a dialog</p>
<div class="code"><pre class="code literal-block">public void showKeyboard(){
    InputMethodManager inputMethodManager = (InputMethodManager) context.getSystemService(Context.INPUT_METHOD_SERVICE);
    inputMethodManager.toggleSoftInput(InputMethodManager.SHOW_FORCED, 0);
}

public void closeKeyboard(){
    InputMethodManager inputMethodManager = (InputMethodManager) context.getSystemService(Context.INPUT_METHOD_SERVICE);
    inputMethodManager.toggleSoftInput(InputMethodManager.HIDE_IMPLICIT_ONLY, 0);
}
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>I had the same problem. Immediately after editText VISIBILITY change from GONE
to VISIBLE, I had to set the focus and display the soft keyboard. I achieved
this using the following code:</p>
<div class="code"><pre class="code literal-block">new Handler().postDelayed(new Runnable() {

    public void run() {
//        ((EditText) findViewById(R.id.et_find)).requestFocus();
//              
        EditText yourEditText= (EditText) findViewById(R.id.et_find);
//        InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);
//        imm.showSoftInput(yourEditText, InputMethodManager.SHOW_IMPLICIT);

        yourEditText.dispatchTouchEvent(MotionEvent.obtain(SystemClock.uptimeMillis(), SystemClock.uptimeMillis(), MotionEvent.ACTION_DOWN, 0f, 0f, 0));
        yourEditText.dispatchTouchEvent(MotionEvent.obtain(SystemClock.uptimeMillis(), SystemClock.uptimeMillis(), MotionEvent.ACTION_UP, 0f, 0f, 0));                          
    }
}, 200);
</pre></div>

<p>It works for me with 100ms delay, but failed without any delay or with only a
delay of 1ms.</p>
<p>Commented part of code shows another approach, which works only on some
devices. I tested on OS versions 2.2 (emulator), 2.2.1 (real device) and 1.6
(emulator).</p>
<p>This approach saved me a lot of pain.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1321.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1319.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>How do I use optional parameters in Java? | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/how-do-i-use-optional-parameters-in-java/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../how-do-i-remove-duplicates-from-a-list-while-preserving-order/" title="How do I remove duplicates from a list, while preserving order?" type="text/html">
<link rel="next" href="../convert-inputstream-to-byte-array-in-java/" title="Convert InputStream to byte array in Java" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="How do I use optional parameters in Java?">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/how-do-i-use-optional-parameters-in-java/">
<meta property="og:description" content="What specification supports optional parameters?

Answer
There are several ways to simulate optional parameters in Java:

Method overloading.

void foo(String a, Integer b) { //... }
void foo(String a">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-17T08:08:04+08:00">
<meta property="article:tag" content="java">
<meta property="article:tag" content="optional-parameters">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">How do I use optional parameters in Java?</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T08:08:04+08:00" itemprop="datePublished" title="2023-02-17 08:08">2023-02-17 08:08</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>What specification supports optional parameters?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>There are several ways to simulate optional parameters in Java:</p>
<ol>
<li><strong>Method overloading.</strong></li>
</ol>
<p>void foo(String a, Integer b) { //... }</p>
<p>void foo(String a) { foo(a, 0); // here, 0 is a default value for b }</p>
<p>foo("a", 2); foo("a");</p>
<p>One of the limitations of this approach is that it doesn't work if you have
two optional parameters of the same type and any of them can be omitted.</p>
<ol>
<li><strong>Varargs.</strong></li>
</ol>
<p>a) All optional parameters are of the same type:</p>
<div class="code"><pre class="code literal-block">    void foo(String a, Integer... b) {
        Integer b1 = b.length &gt; 0 ? b[0] : 0;
        Integer b2 = b.length &gt; 1 ? b[1] : 0;
        //...
    }

    foo("a");
    foo("a", 1, 2);
</pre></div>

<p>b) Types of optional parameters may be different:</p>
<div class="code"><pre class="code literal-block"><span class="w">    </span><span class="nv">void</span><span class="w"> </span><span class="nv">foo</span><span class="ss">(</span><span class="nv">String</span><span class="w"> </span><span class="nv">a</span>,<span class="w"> </span><span class="nv">Object</span>...<span class="w"> </span><span class="nv">b</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">        </span><span class="nv">Integer</span><span class="w"> </span><span class="nv">b1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="c1">;</span>
<span class="w">        </span><span class="nv">String</span><span class="w"> </span><span class="nv">b2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">""</span><span class="c1">;</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">b</span>.<span class="nv">length</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">          </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="o">!</span><span class="ss">(</span><span class="nv">b</span>[<span class="mi">0</span>]<span class="w"> </span><span class="nv">instanceof</span><span class="w"> </span><span class="nv">Integer</span><span class="ss">))</span><span class="w"> </span>{<span class="w"> </span>
<span class="w">              </span><span class="nv">throw</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">IllegalArgumentException</span><span class="ss">(</span><span class="s2">"..."</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">          </span>}
<span class="w">          </span><span class="nv">b1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">(</span><span class="nv">Integer</span><span class="ss">)</span><span class="nv">b</span>[<span class="mi">0</span>]<span class="c1">;</span>
<span class="w">        </span>}
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">b</span>.<span class="nv">length</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="o">!</span><span class="ss">(</span><span class="nv">b</span>[<span class="mi">1</span>]<span class="w"> </span><span class="nv">instanceof</span><span class="w"> </span><span class="nv">String</span><span class="ss">))</span><span class="w"> </span>{<span class="w"> </span>
<span class="w">                </span><span class="nv">throw</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">IllegalArgumentException</span><span class="ss">(</span><span class="s2">"..."</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">            </span>}
<span class="w">            </span><span class="nv">b2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">(</span><span class="nv">String</span><span class="ss">)</span><span class="nv">b</span>[<span class="mi">1</span>]<span class="c1">;</span>
<span class="w">            </span><span class="o">//</span>...
<span class="w">        </span>}
<span class="w">        </span><span class="o">//</span>...
<span class="w">    </span>}

<span class="w">    </span><span class="nv">foo</span><span class="ss">(</span><span class="s2">"a"</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span><span class="nv">foo</span><span class="ss">(</span><span class="s2">"a"</span>,<span class="w"> </span><span class="mi">1</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span><span class="nv">foo</span><span class="ss">(</span><span class="s2">"a"</span>,<span class="w"> </span><span class="mi">1</span>,<span class="w"> </span><span class="s2">"b2"</span><span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p>The main drawback of this approach is that if optional parameters are of
different types you lose static type checking. Furthermore, if each parameter
has the different meaning you need some way to distinguish them.</p>
<ol>
<li>
<strong>Nulls.</strong> To address the limitations of the previous approaches you can allow null values and then analyze each parameter in a method body:</li>
</ol>
<p>void foo(String a, Integer b, Integer c) { b = b != null ? b : 0; c = c !=
null ? c : 0; //... }</p>
<p>foo("a", null, 2);</p>
<p>Now all arguments values must be provided, but the default ones may be null.</p>
<ol>
<li>
<strong>Optional class.</strong> This approach is similar to nulls, but uses Java 8 Optional class for parameters that have a default value:</li>
</ol>
<dl>
<dt>void foo(String a, Optional bOpt) { Integer b = bOpt.isPresent() ? bOpt.get()</dt>
<dd>0; //... }</dd>
</dl>
<p>foo("a", Optional.of(2)); foo("a", Optional.absent());</p>
<p>Optional makes a method contract explicit for a caller, however, one may find
such signature too verbose.</p>
<p>Update: Java 8 includes the class <code>java.util.Optional</code> out-of-the-box, so
there is no need to use guava for this particular reason in Java 8. The method
name is a bit different though.</p>
<ol>
<li>
<p><strong>Builder pattern.</strong> The builder pattern is used for constructors and is implemented by introducing a separate Builder class:</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span> <span class="n">Foo</span> {
<span class="nb">private</span> <span class="n">final</span> <span class="n">String</span> <span class="n">a</span>; 
<span class="nb">private</span> <span class="n">final</span> <span class="n">Integer</span> <span class="n">b</span>;

<span class="n">Foo</span>(<span class="n">String</span> <span class="n">a</span>, <span class="n">Integer</span> <span class="n">b</span>) {
  <span class="n">this</span>.<span class="n">a</span> = <span class="n">a</span>;
  <span class="n">this</span>.<span class="n">b</span> = <span class="n">b</span>;
}

//...
</pre></div>

<p>}</p>
<p>class FooBuilder {
  private String a = ""; 
  private Integer b = 0;</p>
<p>FooBuilder setA(String a) {
    this.a = a;
    return this;
  }</p>
<p>FooBuilder setB(Integer b) {
    this.b = b;
    return this;
  }</p>
<p>Foo build() {
    return new Foo(a, b);
  }
}</p>
<p>Foo foo = new FooBuilder().setA("a").build();</p>
</li>
<li>
<p><strong>Maps.</strong> When the number of parameters is too large and for most of the default values are usually used, you can pass method arguments as a map of their names/values:</p>
</li>
</ol>
<p>void foo(Map<string object> parameters) { String a = ""; Integer b = 0; if
(parameters.containsKey("a")) { if (!(parameters.get("a") instanceof Integer))
{ throw new IllegalArgumentException("..."); } a =
(Integer)parameters.get("a"); } if (parameters.containsKey("b")) { //... }
//... }</string></p>
<p>foo(ImmutableMap.<string object>of( "a", "a", "b", 2, "d", "value"));</string></p>
<p>In Java 9, this approach became easier:</p>
<div class="code"><pre class="code literal-block"><span class="w">    </span><span class="nv">@SuppressWarnings</span><span class="p">(</span><span class="ss">"unchecked"</span><span class="p">)</span>
<span class="k">static</span><span class="w"> </span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">getParm</span><span class="p">(</span><span class="k">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="k">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="k">map</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">defaultValue</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="k">map</span><span class="p">.</span><span class="n">containsKey</span><span class="p">(</span><span class="k">key</span><span class="p">))</span><span class="w"> </span><span class="vm">?</span><span class="w"> </span><span class="p">(</span><span class="n">T</span><span class="p">)</span><span class="w"> </span><span class="k">map</span><span class="p">.</span><span class="k">get</span><span class="p">(</span><span class="k">key</span><span class="p">)</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="n">defaultValue</span><span class="p">;</span>
<span class="err">}</span>

<span class="n">void</span><span class="w"> </span><span class="n">foo</span><span class="p">(</span><span class="k">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="k">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="k">parameters</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">  </span><span class="n">String</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getParm</span><span class="p">(</span><span class="k">parameters</span><span class="p">,</span><span class="w"> </span><span class="ss">"a"</span><span class="p">,</span><span class="w"> </span><span class="ss">""</span><span class="p">);</span>
<span class="w">  </span><span class="nc">int</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getParm</span><span class="p">(</span><span class="k">parameters</span><span class="p">,</span><span class="w"> </span><span class="ss">"b"</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">...</span>
<span class="err">}</span>

<span class="n">foo</span><span class="p">(</span><span class="k">Map</span><span class="p">.</span><span class="k">of</span><span class="p">(</span><span class="ss">"a"</span><span class="p">,</span><span class="ss">"a"</span><span class="p">,</span><span class="w">  </span><span class="ss">"b"</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="w">  </span><span class="ss">"d"</span><span class="p">,</span><span class="ss">"value"</span><span class="p">));</span>
</pre></div>

<p>Please note that you can combine any of these approaches to achieve a
desirable result.</p>
<p><br></p>
<h3>Suggest</h3>
<p>varargs could do that (in a way). Other than that, all variables in the
declaration of the method must be supplied. If you want a variable to be
optional, you can overload the method using a signature which doesn't require
the parameter.</p>
<div class="code"><pre class="code literal-block">private boolean defaultOptionalFlagValue = true;

public void doSomething(boolean optionalFlag) {
    ...
}

public void doSomething() {
    doSomething(defaultOptionalFlagValue);
}
</pre></div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/java/" rel="tag">java</a></li>
            <li><a class="tag p-category" href="../../categories/optional-parameters/" rel="tag">optional-parameters</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../how-do-i-remove-duplicates-from-a-list-while-preserving-order/" rel="prev" title="How do I remove duplicates from a list, while preserving order?">Previous post</a>
            </li>
            <li class="next">
                <a href="../convert-inputstream-to-byte-array-in-java/" rel="next" title="Convert InputStream to byte array in Java">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

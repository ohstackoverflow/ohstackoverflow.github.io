<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>C++ multiline string literal | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/c-multiline-string-literal/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../conditional-formatting-based-on-another-cell-s-value/" title="Conditional formatting based on another cell's value" type="text/html">
<link rel="next" href="../how-can-i-take-a-screenshot-with-selenium-webdriver/" title="How can I take a screenshot with Selenium WebDriver?" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="C++ multiline string literal">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/c-multiline-string-literal/">
<meta property="og:description" content="Is there any way to have multi-line plain-text, constant literals in C++, à la
Perl? Maybe some parsing trick with #includeing a file? I can't think of
one, but boy, that would be nice. I know it'll b">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-18T06:08:39+08:00">
<meta property="article:tag" content="c++">
<meta property="article:tag" content="string-literals">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">C++ multiline string literal</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T06:08:39+08:00" itemprop="datePublished" title="2023-02-18 06:08">2023-02-18 06:08</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>Is there any way to have multi-line plain-text, constant literals in C++, à la
Perl? Maybe some parsing trick with <code>#include</code>ing a file? I can't think of
one, but boy, that would be nice. I know it'll be in C++0x.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Well ... Sort of. The easiest is to just use the fact that adjacent string
literals are concatenated by the compiler:</p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="nb">char</span><span class="w"> </span><span class="o">*</span><span class="n">text</span><span class="w"> </span><span class="o">=</span>
<span class="w">  </span><span class="s2">"This text is pretty long, but will be "</span>
<span class="w">  </span><span class="s2">"concatenated into just a single string. "</span>
<span class="w">  </span><span class="s2">"The disadvantage is that you have to quote "</span>
<span class="w">  </span><span class="s2">"each part, and newlines must be literal as "</span>
<span class="w">  </span><span class="s2">"usual."</span><span class="p">;</span>
</pre></div>

<p>The indentation doesn't matter, since it's not inside the quotes.</p>
<p>You can also do this, as long as you take care to escape the embedded newline.
Failure to do so, like my first answer did, will not compile:</p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="nb">char</span><span class="w"> </span><span class="o">*</span><span class="n">text2</span><span class="w"> </span><span class="o">=</span>
<span class="w">  </span><span class="s2">"Here, on the other hand, I've gone crazy </span><span class="se">\</span>
<span class="s2">and really let the literal span several lines, </span><span class="se">\</span>
<span class="s2">without bothering with quoting each line's </span><span class="se">\</span>
<span class="s2">content. This works, but you can't indent."</span><span class="p">;</span>
</pre></div>

<p>Again, note those backslashes at the end of each line, they must be
immediately before the line ends, they are escaping the newline in the source,
so that everything acts as if the newline wasn't there. You don't get newlines
in the string at the locations where you had backslashes. With this form, you
obviously can't indent the text since the indentation would then become part
of the string, garbling it with random spaces.</p>
<p><br></p>
<h3>Suggest</h3>
<p>In C++11 you have raw string literals. Sort of like here-text in shells and
script languages like Python and Perl and Ruby.</p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="nb">char</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">vogon_poem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sa">R</span><span class="s2">"V0G0N(</span>
<span class="w">             </span><span class="n">O</span><span class="w"> </span><span class="n">freddled</span><span class="w"> </span><span class="n">gruntbuggly</span><span class="w"> </span><span class="n">thy</span><span class="w"> </span><span class="n">micturations</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">me</span>
<span class="w">                 </span><span class="n">As</span><span class="w"> </span><span class="n">plured</span><span class="w"> </span><span class="n">gabbleblochits</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">lurgid</span><span class="w"> </span><span class="n">bee</span><span class="o">.</span>
<span class="w">              </span><span class="n">Groop</span><span class="p">,</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="n">implore</span><span class="w"> </span><span class="n">thee</span><span class="w"> </span><span class="n">my</span><span class="w"> </span><span class="n">foonting</span><span class="w"> </span><span class="n">turlingdromes</span><span class="o">.</span><span class="w">   </span>
<span class="w">           </span><span class="n">And</span><span class="w"> </span><span class="n">hooptiously</span><span class="w"> </span><span class="n">drangle</span><span class="w"> </span><span class="n">me</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">crinkly</span><span class="w"> </span><span class="n">bindlewurdles</span><span class="p">,</span>
<span class="n">Or</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">rend</span><span class="w"> </span><span class="n">thee</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">gobberwarts</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">my</span><span class="w"> </span><span class="n">blurlecruncheon</span><span class="p">,</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="n">don</span><span class="s1">'t.</span>

<span class="w">                </span><span class="p">(</span><span class="n">by</span><span class="w"> </span><span class="n">Prostetnic</span><span class="w"> </span><span class="n">Vogon</span><span class="w"> </span><span class="n">Jeltz</span><span class="p">;</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">p</span><span class="o">.</span><span class="w"> </span><span class="mi">56</span><span class="o">/</span><span class="mi">57</span><span class="p">)</span>
<span class="p">)</span><span class="n">V0G0N</span><span class="s2">";</span>
</pre></div>

<p>All the spaces and indentation and the newlines in the string are preserved.</p>
<p>These can also be utf-8|16|32 or wchar_t (with the usual prefixes).</p>
<p>I should point out that the escape sequence, V0G0N, is not actually needed
here. Its presence would allow putting )" inside the string. In other words, I
could have put</p>
<div class="code"><pre class="code literal-block">                "(by Prostetnic Vogon Jeltz; see p. 56/57)"
</pre></div>

<p>(note extra quotes) and the string above would still be correct. Otherwise I
could just as well have used</p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="nb">char</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">vogon_poem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sa">R</span><span class="s2">"( ... )"</span><span class="p">;</span>
</pre></div>

<p>The parens just inside the quotes are still needed.</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/c%2B%2B/" rel="tag">c++</a></li>
            <li><a class="tag p-category" href="../../categories/string-literals/" rel="tag">string-literals</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../conditional-formatting-based-on-another-cell-s-value/" rel="prev" title="Conditional formatting based on another cell's value">Previous post</a>
            </li>
            <li class="next">
                <a href="../how-can-i-take-a-screenshot-with-selenium-webdriver/" rel="next" title="How can I take a screenshot with Selenium WebDriver?">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>你能从 GitHub 存储库中获取代码行数吗？ | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/ni-neng-cong-github-cun-chu-ku-zhong-huo-qu-dai-ma-xing-shu-ma/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../wo-ke-yi-qiang-zhi-pip-zhong-xin-an-zhuang-dang-qian-ban-ben-ma/" title="我可以强制 pip 重新安装当前版本吗？" type="text/html">
<link rel="next" href="../pythonzhong-dan-xia-hua-xian-bian-liang-de-yong-tu-shi-shi-yao/" title="Python中单下划线“_”变量的用途是什么？" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="你能从 GitHub 存储库中获取代码行数吗？">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/ni-neng-cong-github-cun-chu-ku-zhong-huo-qu-dai-ma-xing-shu-ma/">
<meta property="og:description" content="在 GitHub 存储库中，您可以看到“语言统计信息”，它显示了用某种语言编写的项目的 百分比。
但是，它不会显示项目包含多少行代码。通常，我想快速了解项目的规模和复杂性，而代码行数可以给人留下良好的第一印象。500
行代码意味着一个相对简单的项目，100,000 行代码意味着一个非常大/复杂的项目。
那么，是否可以从 GitHub 存储库中获取以各种语言编写的代码行，最好不要克隆它？

“ Co">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-17T14:59:00+08:00">
<meta property="article:tag" content="github">
<meta property="article:tag" content="line-count">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">你能从 GitHub 存储库中获取代码行数吗？</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T14:59:00+08:00" itemprop="datePublished" title="2023-02-17 14:59">2023-02-17 14:59</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>在 GitHub 存储库中，您可以看到“语言统计信息”，它显示了用某种语言编写的项目的 <em>百分比。</em>
但是，它不会显示项目包含多少行代码。通常，我想快速了解项目的规模和复杂性，而代码行数可以给人留下良好的第一印象。500
行代码意味着一个相对简单的项目，100,000 行代码意味着一个非常大/复杂的项目。</p>
<p>那么，是否可以从 GitHub 存储库中获取以各种语言编写的代码行，最好不要克隆它？</p>
<hr>
<p>“ Count number of lines in a git repository ”这个问题问的是如何统计本地 Git 仓库中的代码行数，但是：</p>
<ol>
<li>您必须克隆该项目，该项目可能非常庞大。例如，克隆像 Wine 这样的项目需要很长时间。</li>
<li>您会计算不一定是代码的文件中的行数，例如 i13n 文件。</li>
<li>如果你 <em>只</em> 计算（例如）Ruby 文件，你可能会错过大量其他语言的代码，比如 JavaScript。您必须事先了解项目使用的语言。您还必须为项目使用的每种语言重复计数。</li>
</ol>
<p>总而言之，这对于“快速检查项目规模”来说可能过于耗时。</p>
<p><br><br></p>
<h2>解答</h2>
<h4>Not currently possible on Github.com or their API-s</h4>
<p>I have talked to customer support and confirmed that this can not be done on
github.com. They have passed the suggestion along to the Github team though,
so hopefully it will be possible in the future. If so, I'll be sure to edit
this answer.</p>
<p>Meanwhile, Rory O'Kane's answer is a brilliant alternative based on <code>cloc</code> and
a shallow repo clone.</p>
<p><br></p>
<h3>更多建议</h3>
<h2>一个shell脚本，<code>cloc-git</code>
</h2>
<p>您可以使用此 shell 脚本通过一条命令计算远程 Git 存储库中的行数：</p>
<div class="code"><table class="codetable">
<tr>
<td class="linenos linenodiv"><a href="#-1"><code data-line-number="1"></code></a></td>
<td class="code"><code><span class="ch">#!/usr/bin/env bash</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-2"><code data-line-number="2"></code></a></td>
<td class="code"><code>git<span class="w"> </span>clone<span class="w"> </span>--depth<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span><span class="w"> </span>temp-linecount-repo<span class="w"> </span><span class="o">&amp;&amp;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-3"><code data-line-number="3"></code></a></td>
<td class="code"><code><span class="w">  </span><span class="nb">printf</span><span class="w"> </span><span class="s2">"('temp-linecount-repo' will be deleted automatically)\n\n\n"</span><span class="w"> </span><span class="o">&amp;&amp;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-4"><code data-line-number="4"></code></a></td>
<td class="code"><code><span class="w">  </span>cloc<span class="w"> </span>temp-linecount-repo<span class="w"> </span><span class="o">&amp;&amp;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-5"><code data-line-number="5"></code></a></td>
<td class="code"><code><span class="w">  </span>rm<span class="w"> </span>-rf<span class="w"> </span>temp-linecount-repo
</code></td>
</tr>
</table></div>
<h3>安装</h3>
<p>此脚本需要安装CLOC （“Count Lines of Code”）。<code>cloc</code>可能可以用你的包管理器安装——例如，<code>brew install
cloc</code>用Homebrew。下还有发布的docker镜像<code>mribeiro/cloc</code>。</p>
<p>您可以通过将其代码保存到文件<code>cloc-git</code>、运行<code>chmod +x cloc-
git</code>，然后将文件移动到您<code>$PATH</code>的<code>/usr/local/bin</code>.</p>
<h3>用法</h3>
<p>该脚本采用一个参数，即<code>git clone</code>可以接受的任何
URL。例如<code>https://github.com/evalEmpire/perl5i.git</code>(HTTPS)
或<code>git@github.com:evalEmpire/perl5i.git</code>(SSH)。您可以通过单击“克隆或下载”从任何 GitHub 项目页面获取此
URL。</p>
<p>示例输出：</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>cloc-git<span class="w"> </span>https://github.com/evalEmpire/perl5i.git
Cloning<span class="w"> </span>into<span class="w"> </span><span class="s1">'temp-linecount-repo'</span>...
remote:<span class="w"> </span>Counting<span class="w"> </span>objects:<span class="w"> </span><span class="m">200</span>,<span class="w"> </span><span class="k">done</span>.
remote:<span class="w"> </span>Compressing<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">182</span>/182<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
remote:<span class="w"> </span>Total<span class="w"> </span><span class="m">200</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">13</span><span class="o">)</span>,<span class="w"> </span>reused<span class="w"> </span><span class="m">158</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">9</span><span class="o">)</span>,<span class="w"> </span>pack-reused<span class="w"> </span><span class="m">0</span>
Receiving<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">200</span>/200<span class="o">)</span>,<span class="w"> </span><span class="m">296</span>.52<span class="w"> </span>KiB<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">110</span>.00<span class="w"> </span>KiB/s,<span class="w"> </span><span class="k">done</span>.
Resolving<span class="w"> </span>deltas:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">13</span>/13<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
Checking<span class="w"> </span>connectivity...<span class="w"> </span><span class="k">done</span>.
<span class="o">(</span><span class="s1">'temp-linecount-repo'</span><span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>deleted<span class="w"> </span>automatically<span class="o">)</span>


<span class="w">     </span><span class="m">171</span><span class="w"> </span>text<span class="w"> </span>files.
<span class="w">     </span><span class="m">166</span><span class="w"> </span>unique<span class="w"> </span>files.<span class="w">                                          </span>
<span class="w">      </span><span class="m">17</span><span class="w"> </span>files<span class="w"> </span>ignored.

http://cloc.sourceforge.net<span class="w"> </span>v<span class="w"> </span><span class="m">1</span>.62<span class="w">  </span><span class="nv">T</span><span class="o">=</span><span class="m">1</span>.13<span class="w"> </span>s<span class="w"> </span><span class="o">(</span><span class="m">134</span>.1<span class="w"> </span>files/s,<span class="w"> </span><span class="m">9764</span>.6<span class="w"> </span>lines/s<span class="o">)</span>
-------------------------------------------------------------------------------
Language<span class="w">                     </span>files<span class="w">          </span>blank<span class="w">        </span>comment<span class="w">           </span>code
-------------------------------------------------------------------------------
Perl<span class="w">                           </span><span class="m">149</span><span class="w">           </span><span class="m">2795</span><span class="w">           </span><span class="m">1425</span><span class="w">           </span><span class="m">6382</span>
JSON<span class="w">                             </span><span class="m">1</span><span class="w">              </span><span class="m">0</span><span class="w">              </span><span class="m">0</span><span class="w">            </span><span class="m">270</span>
YAML<span class="w">                             </span><span class="m">2</span><span class="w">              </span><span class="m">0</span><span class="w">              </span><span class="m">0</span><span class="w">            </span><span class="m">198</span>
-------------------------------------------------------------------------------
SUM:<span class="w">                           </span><span class="m">152</span><span class="w">           </span><span class="m">2795</span><span class="w">           </span><span class="m">1425</span><span class="w">           </span><span class="m">6850</span>
-------------------------------------------------------------------------------
</pre></div>

<h2>备择方案</h2>
<h3>手动运行命令</h3>
<p>如果不想保存和安装 shell 脚本，可以手动运行命令。一个例子：</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>--depth<span class="w"> </span><span class="m">1</span><span class="w"> </span>https://github.com/evalEmpire/perl5i.git
$<span class="w"> </span>cloc<span class="w"> </span>perl5i
$<span class="w"> </span>rm<span class="w"> </span>-rf<span class="w"> </span>perl5i
</pre></div>

<h3>语言学家</h3>
<p>如果您希望结果与 GitHub 的语言百分比完全匹配，您可以尝试安装Linguist而不是CLOC。根据它的 README，你需要<code>gem install
linguist</code>然后运行<code>linguist</code>。我无法让它工作（问题 #2223）。</p>
<p><br><br><a href="../can-you-get-the-number-of-lines-of-code-from-a-github-repository/">查看原文</a></p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/github/" rel="tag">github</a></li>
            <li><a class="tag p-category" href="../../categories/line-count/" rel="tag">line-count</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../wo-ke-yi-qiang-zhi-pip-zhong-xin-an-zhuang-dang-qian-ban-ben-ma/" rel="prev" title="我可以强制 pip 重新安装当前版本吗？">Previous post</a>
            </li>
            <li class="next">
                <a href="../pythonzhong-dan-xia-hua-xian-bian-liang-de-yong-tu-shi-shi-yao/" rel="next" title="Python中单下划线“_”变量的用途是什么？">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

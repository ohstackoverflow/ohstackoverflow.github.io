<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Can't scroll to top of flex item that is overflowing container | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/can-t-scroll-to-top-of-flex-item-that-is-overflowing-container/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../launching-google-maps-directions-via-an-intent-on-android/" title="Launching Google Maps Directions via an intent on Android" type="text/html">
<link rel="next" href="../how-can-i-selectively-escape-percent-in-python-strings/" title="How can I selectively escape percent (%) in Python strings?" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="Can't scroll to top of flex item that is overflowing container">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/can-t-scroll-to-top-of-flex-item-that-is-overflowing-container/">
<meta property="og:description" content="In attempting to make a useful modal using flexbox, I found what seems to be a
browser issue and am wondering if there is a known fix or workaround -- or
ideas on how to resolve it.
The thing I'm tryi">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-03-03T13:36:05+08:00">
<meta property="article:tag" content="css">
<meta property="article:tag" content="flexbox">
<meta property="article:tag" content="html">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Can't scroll to top of flex item that is overflowing container</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T13:36:05+08:00" itemprop="datePublished" title="2023-03-03 13:36">2023-03-03 13:36</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>In attempting to make a useful modal using flexbox, I found what seems to be a
browser issue and am wondering if there is a known fix or workaround -- or
ideas on how to resolve it.</p>
<p>The thing I'm trying to solve has two aspects. First, getting the modal window
vertically centered, which works as expected. The second is to get the modal
window to scroll -- externally, so the whole modal window scrolls, not the
contents within it (this is so you can have dropdowns and other UI elements
that can extend outside of the bounds of the modal -- like a custom date
picker, etc.)</p>
<p>However, when combining the vertical centering with scroll bars, the top of
the modal can become inaccessible as it begins to overflow. In the above
example, you can resize to force the overflow, and in doing so it allows you
to scroll to the bottom of the modal, but not to the top (first paragraph is
cut off).</p>
<div class="code"><pre class="code literal-block"><span class="p">.</span><span class="nc">modal-container</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">position</span><span class="p">:</span><span class="w"> </span><span class="kc">fixed</span><span class="p">;</span>
<span class="w">  </span><span class="k">top</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">left</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">bottom</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">right</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">background</span><span class="p">:</span><span class="w"> </span><span class="nb">rgba</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.5</span><span class="p">);</span>
<span class="w">  </span><span class="k">overflow-x</span><span class="p">:</span><span class="w"> </span><span class="kc">auto</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">.</span><span class="nc">modal-container</span><span class="w"> </span><span class="p">.</span><span class="nc">modal-window</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">display</span><span class="p">:</span><span class="w"> </span><span class="bp">-ms-</span><span class="n">flexbox</span><span class="p">;</span>
<span class="w">  </span><span class="k">display</span><span class="p">:</span><span class="w"> </span><span class="kc">flex</span><span class="p">;</span>
<span class="w">  </span><span class="k">flex-direction</span><span class="p">:</span><span class="w"> </span><span class="kc">column</span><span class="p">;</span>
<span class="w">  </span><span class="k">align-items</span><span class="p">:</span><span class="w"> </span><span class="kc">center</span><span class="p">;</span>
<span class="w">  </span><span class="k">justify-content</span><span class="p">:</span><span class="w"> </span><span class="kc">center</span><span class="p">;</span>
<span class="w">  </span><span class="c">/* Optional support to confirm scroll behavior makes sense in IE10</span>
<span class="c">  //-ms-flex-direction: column;</span>
<span class="c">  //-ms-flex-align: center;</span>
<span class="c">  //-ms-flex-pack: center; */</span>
<span class="w">  </span><span class="k">height</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">.</span><span class="nc">modal-container</span><span class="w"> </span><span class="p">.</span><span class="nc">modal-window</span><span class="w"> </span><span class="p">.</span><span class="nc">modal-content</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">border</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="kt">px</span><span class="w"> </span><span class="kc">solid</span><span class="w"> </span><span class="mh">#ccc</span><span class="p">;</span>
<span class="w">  </span><span class="k">border-radius</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="kt">px</span><span class="p">;</span>
<span class="w">  </span><span class="k">background</span><span class="p">:</span><span class="w"> </span><span class="mh">#fff</span><span class="p">;</span>
<span class="w">  </span><span class="k">width</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
<span class="w">  </span><span class="k">max-width</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="kt">px</span><span class="p">;</span>
<span class="w">  </span><span class="k">padding</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="kt">px</span>
<span class="p">}</span>


<span class="o">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="nt">class</span><span class="o">=</span><span class="s2">"modal-container"</span><span class="o">&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="nt">class</span><span class="o">=</span><span class="s2">"modal-window"</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nt">div</span><span class="w"> </span><span class="nt">class</span><span class="o">=</span><span class="s2">"modal-content"</span><span class="o">&gt;</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nt">p</span><span class="w"> </span><span class="nt">class</span><span class="o">=</span><span class="s2">"p3"</span><span class="o">&gt;</span><span class="nt">Lorem</span><span class="w"> </span><span class="nt">Ipsum</span><span class="w"> </span><span class="nt">is</span><span class="w"> </span><span class="nt">simply</span><span class="w"> </span><span class="nt">dummy</span><span class="w"> </span><span class="nt">text</span><span class="w"> </span><span class="nt">of</span><span class="w"> </span><span class="nt">the</span><span class="w"> </span><span class="nt">printing</span><span class="w"> </span><span class="nt">and</span><span class="w"> </span><span class="nt">typesetting</span><span class="w"> </span><span class="nt">industry</span><span class="o">.</span><span class="w"> </span><span class="nt">Lorem</span><span class="w"> </span><span class="nt">Ipsum</span><span class="w"> </span><span class="nt">has</span><span class="w"> </span><span class="nt">been</span><span class="w"> </span><span class="nt">the</span><span class="w"> </span><span class="nt">industry</span><span class="s1">'s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.&lt;/p&gt;</span>
<span class="s1">            &lt;p class="p3"&gt;Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry'</span><span class="nt">s</span><span class="w"> </span><span class="nt">standard</span><span class="w"> </span><span class="nt">dummy</span><span class="w"> </span><span class="nt">text</span><span class="w"> </span><span class="nt">ever</span><span class="w"> </span><span class="nt">since</span><span class="w"> </span><span class="nt">the</span><span class="w"> </span><span class="nt">1500s</span><span class="o">,</span><span class="w"> </span><span class="nt">when</span><span class="w"> </span><span class="nt">an</span><span class="w"> </span><span class="nt">unknown</span><span class="w"> </span><span class="nt">printer</span><span class="w"> </span><span class="nt">took</span><span class="w"> </span><span class="nt">a</span><span class="w"> </span><span class="nt">galley</span><span class="w"> </span><span class="nt">of</span><span class="w"> </span><span class="nt">type</span><span class="w"> </span><span class="nt">and</span><span class="w"> </span><span class="nt">scrambled</span><span class="w"> </span><span class="nt">it</span><span class="w"> </span><span class="nt">to</span><span class="w"> </span><span class="nt">make</span><span class="w"> </span><span class="nt">a</span><span class="w"> </span><span class="nt">type</span><span class="w"> </span><span class="nt">specimen</span><span class="w"> </span><span class="nt">book</span><span class="o">.</span><span class="w"> </span><span class="nt">It</span><span class="w"> </span><span class="nt">has</span><span class="w"> </span><span class="nt">survived</span><span class="w"> </span><span class="nt">not</span><span class="w"> </span><span class="nt">only</span><span class="w"> </span><span class="nt">five</span><span class="w"> </span><span class="nt">centuries</span><span class="o">,</span><span class="w"> </span><span class="nt">but</span><span class="w"> </span><span class="nt">also</span><span class="w"> </span><span class="nt">the</span><span class="w"> </span><span class="nt">leap</span><span class="w"> </span><span class="nt">into</span><span class="w"> </span><span class="nt">electronic</span><span class="w"> </span><span class="nt">typesetting</span><span class="o">,</span><span class="w"> </span><span class="nt">remaining</span><span class="w"> </span><span class="nt">essentially</span><span class="w"> </span><span class="nt">unchanged</span><span class="o">.</span><span class="w"> </span><span class="nt">It</span><span class="w"> </span><span class="nt">was</span><span class="w"> </span><span class="nt">popularised</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nt">the</span><span class="w"> </span><span class="nt">1960s</span><span class="w"> </span><span class="nt">with</span><span class="w"> </span><span class="nt">the</span><span class="w"> </span><span class="nt">release</span><span class="w"> </span><span class="nt">of</span><span class="w"> </span><span class="nt">Letraset</span><span class="w"> </span><span class="nt">sheets</span><span class="w"> </span><span class="nt">containing</span><span class="w"> </span><span class="nt">Lorem</span><span class="w"> </span><span class="nt">Ipsum</span><span class="w"> </span><span class="nt">passages</span><span class="o">,</span><span class="w"> </span><span class="nt">and</span><span class="w"> </span><span class="nt">more</span><span class="w"> </span><span class="nt">recently</span><span class="w"> </span><span class="nt">with</span><span class="w"> </span><span class="nt">desktop</span><span class="w"> </span><span class="nt">publishing</span><span class="w"> </span><span class="nt">software</span><span class="w"> </span><span class="nt">like</span><span class="w"> </span><span class="nt">Aldus</span><span class="w"> </span><span class="nt">PageMaker</span><span class="w"> </span><span class="nt">including</span><span class="w"> </span><span class="nt">versions</span><span class="w"> </span><span class="nt">of</span><span class="w"> </span><span class="nt">Lorem</span><span class="w"> </span><span class="nt">Ipsum</span><span class="o">.&lt;/</span><span class="nt">p</span><span class="o">&gt;</span>
<span class="w">            </span><span class="o">&lt;</span><span class="nt">p</span><span class="w"> </span><span class="nt">class</span><span class="o">=</span><span class="s2">"p3"</span><span class="o">&gt;</span><span class="nt">Lorem</span><span class="w"> </span><span class="nt">Ipsum</span><span class="w"> </span><span class="nt">is</span><span class="w"> </span><span class="nt">simply</span><span class="w"> </span><span class="nt">dummy</span><span class="w"> </span><span class="nt">text</span><span class="w"> </span><span class="nt">of</span><span class="w"> </span><span class="nt">the</span><span class="w"> </span><span class="nt">printing</span><span class="w"> </span><span class="nt">and</span><span class="w"> </span><span class="nt">typesetting</span><span class="w"> </span><span class="nt">industry</span><span class="o">.</span><span class="w"> </span><span class="nt">Lorem</span><span class="w"> </span><span class="nt">Ipsum</span><span class="w"> </span><span class="nt">has</span><span class="w"> </span><span class="nt">been</span><span class="w"> </span><span class="nt">the</span><span class="w"> </span><span class="nt">industry</span><span class="err">'</span><span class="nt">s</span><span class="w"> </span><span class="nt">standard</span><span class="w"> </span><span class="nt">dummy</span><span class="w"> </span><span class="nt">text</span><span class="w"> </span><span class="nt">ever</span><span class="w"> </span><span class="nt">since</span><span class="w"> </span><span class="nt">the</span><span class="w"> </span><span class="nt">1500s</span><span class="o">,</span><span class="w"> </span><span class="nt">when</span><span class="w"> </span><span class="nt">an</span><span class="w"> </span><span class="nt">unknown</span><span class="w"> </span><span class="nt">printer</span><span class="w"> </span><span class="nt">took</span><span class="w"> </span><span class="nt">a</span><span class="w"> </span><span class="nt">galley</span><span class="w"> </span><span class="nt">of</span><span class="w"> </span><span class="nt">type</span><span class="w"> </span><span class="nt">and</span><span class="w"> </span><span class="nt">scrambled</span><span class="w"> </span><span class="nt">it</span><span class="w"> </span><span class="nt">to</span><span class="w"> </span><span class="nt">make</span><span class="w"> </span><span class="nt">a</span><span class="w"> </span><span class="nt">type</span><span class="w"> </span><span class="nt">specimen</span><span class="w"> </span><span class="nt">book</span><span class="o">.</span><span class="w"> </span><span class="nt">It</span><span class="w"> </span><span class="nt">has</span><span class="w"> </span><span class="nt">survived</span><span class="w"> </span><span class="nt">not</span><span class="w"> </span><span class="nt">only</span><span class="w"> </span><span class="nt">five</span><span class="w"> </span><span class="nt">centuries</span><span class="o">,</span><span class="w"> </span><span class="nt">but</span><span class="w"> </span><span class="nt">also</span><span class="w"> </span><span class="nt">the</span><span class="w"> </span><span class="nt">leap</span><span class="w"> </span><span class="nt">into</span><span class="w"> </span><span class="nt">electronic</span><span class="w"> </span><span class="nt">typesetting</span><span class="o">,</span><span class="w"> </span><span class="nt">remaining</span><span class="w"> </span><span class="nt">essentially</span><span class="w"> </span><span class="nt">unchanged</span><span class="o">.</span><span class="w"> </span><span class="nt">It</span><span class="w"> </span><span class="nt">was</span><span class="w"> </span><span class="nt">popularised</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nt">the</span><span class="w"> </span><span class="nt">1960s</span><span class="w"> </span><span class="nt">with</span><span class="w"> </span><span class="nt">the</span><span class="w"> </span><span class="nt">release</span><span class="w"> </span><span class="nt">of</span><span class="w"> </span><span class="nt">Letraset</span><span class="w"> </span><span class="nt">sheets</span><span class="w"> </span><span class="nt">containing</span><span class="w"> </span><span class="nt">Lorem</span><span class="w"> </span><span class="nt">Ipsum</span><span class="w"> </span><span class="nt">passages</span><span class="o">,</span><span class="w"> </span><span class="nt">and</span><span class="w"> </span><span class="nt">more</span><span class="w"> </span><span class="nt">recently</span><span class="w"> </span><span class="nt">with</span><span class="w"> </span><span class="nt">desktop</span><span class="w"> </span><span class="nt">publishing</span><span class="w"> </span><span class="nt">software</span><span class="w"> </span><span class="nt">like</span><span class="w"> </span><span class="nt">Aldus</span><span class="w"> </span><span class="nt">PageMaker</span><span class="w"> </span><span class="nt">including</span><span class="w"> </span><span class="nt">versions</span><span class="w"> </span><span class="nt">of</span><span class="w"> </span><span class="nt">Lorem</span><span class="w"> </span><span class="nt">Ipsum</span><span class="o">.&lt;/</span><span class="nt">p</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;/</span><span class="nt">div</span><span class="o">&gt;</span>
<span class="w">    </span><span class="o">&lt;/</span><span class="nt">div</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="nt">div</span><span class="o">&gt;</span>
</pre></div>

<p>This affects (current) Firefox, Safari, Chrome, and Opera. It does
interestingly behave correctly in IE10 if you comment in the IE10 vendor
prefixed CSS -- I did not bother testing in IE11 yet, but assume the behavior
matches that of IE10.</p>
<p>Here's the link to the example code (highly simplified)</p>
<p>https://jsfiddle.net/dh9k18k0/2/</p>
<p><br><br></p>
<h2>Answer</h2>
<h3>The Problem</h3>
<p>Flexbox makes centering very easy.</p>
<p>By simply applying <code>align-items: center</code> and <code>justify-content: center</code> to the
flex container, your flex item(s) will be vertically and horizontally
centered.</p>
<p>However, there is a problem with this method when the flex item is bigger than
the flex container.</p>
<p>As noted in the question, when the flex item overflows the container the top
becomes inaccessible.</p>
<p><img alt="enter image description here" src="../../images/5chG7.png"></p>
<p>For horizontal overflow, the left section becomes inaccessible (or right
section, in RTL languages).</p>
<p>Here's an example with an LTR container having <code>justify-content: center</code> and
three flex items:</p>
<p><img alt="enter image description here" src="../../images/0ghtZ.gif"></p>
<p><em>See the bottom of this answer for an explanation of this behavior.</em></p>
<hr>
<h3>Solution #1</h3>
<p>To fix this problem use <strong>flexbox auto margins</strong> , instead of <code>justify-
content</code>.</p>
<p>With <code>auto</code> margins, an overflowing flex item can be vertically and
horizontally centered without losing access to any part of it.</p>
<p>So instead of this code on the flex container:</p>
<div class="code"><pre class="code literal-block"><span class="p">#</span><span class="nn">flex-container</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">align-items</span><span class="p">:</span><span class="w"> </span><span class="kc">center</span><span class="p">;</span>
<span class="w">    </span><span class="k">justify-content</span><span class="p">:</span><span class="w"> </span><span class="kc">center</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>Use this code on the flex item:</p>
<div class="code"><pre class="code literal-block"><span class="na">.flex-item</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nl">margin:</span><span class="w"> </span><span class="nf">auto</span><span class="c1">;</span>
<span class="err">}</span>
</pre></div>

<p><img alt="enter image description here" src="../../images/ANAup.png"></p>
<p><strong>Revised Demo</strong></p>
<hr>
<h3>Solution #2 (not yet implemented in most browsers)</h3>
<p>Add the <code>safe</code> value to your keyword alignment rule, like this:</p>
<div class="code"><pre class="code literal-block">justify-content: safe center
</pre></div>

<p>or</p>
<div class="code"><pre class="code literal-block">align-self: safe center
</pre></div>

<p>From the CSS Box Alignment Module specification:</p>
<blockquote>
<p><strong>4.4. Overflow Alignment: the<code>safe</code> and <code>unsafe</code> keywords and scroll safety
limits</strong></p>
<p>When the [flex item] is larger than the [flex container], it will overflow.
Some alignment modes, if honored in this situation, may cause data loss: for
example, if the contents of a sidebar are centered, when they overflow they
may send part of their boxes past the viewport’s start edge, which can’t be
scrolled to.</p>
<p>To control this situation, an <strong><em>overflow alignment</em></strong> mode can be
explicitly specified. <code>Unsafe</code> alignment honors the specified alignment mode
in overflow situations, even if it causes data loss, while <code>safe</code> alignment
changes the alignment mode in overflow situations in an attempt to avoid
data loss.</p>
<p>The default behavior is to contain the alignment subject within the
scrollable area, though at the time of writing this safety feature is not
yet implemented.</p>
<p><strong><em><code>safe</code></em></strong></p>
<p>If the size of the [flex item] overflows the [flex container], the [flex
item] is instead aligned as if the alignment mode were [<code>flex-start</code>].</p>
<p><strong><em><code>unsafe</code></em></strong></p>
<p>Regardless of the relative sizes of the [flex item] and [flex container],
the given alignment value is honored.</p>
</blockquote>
<p><em>Note: The Box Alignment Module is for use across multiple box layout models,
not just flex. So in the spec excerpt above, the terms in brackets actually
say "alignment subject", "alignment container" and "<code>start</code>". I used flex-
specific terms to keep the focus on this particular problem.</em></p>
<hr>
<h3>Explanation for scroll limitation from MDN:</h3>
<blockquote>
<p><strong>Flex item considerations</strong></p>
<p>Flexbox's alignment properties do "true" centering, unlike other centering
methods in CSS. This means that the flex items will stay centered, even if
they overflow the flex container.</p>
<p>This can sometimes be problematic, however, if they overflow past the top
edge of the page, or the left edge [...], as you can't scroll to that area,
even if there is content there!</p>
<p>In a future release, the alignment properties will be extended to have a
"safe" option as well.</p>
<p>For now, if this is a concern, you can instead use margins to achieve
centering, as they'll respond in a "safe" way and stop centering if they
overflow.</p>
<p>Instead of using the <code>align-</code> properties, just put <code>auto</code> margins on the
flex items you wish to center.</p>
<p>Instead of the <code>justify-</code> properties, put auto margins on the outside edges
of the first and last flex items in the flex container.</p>
<p>The <code>auto</code> margins will "flex" and assume the leftover space, centering the
flex items when there is leftover space, and switching to normal alignment
when not.</p>
<p>However, if you're trying to replace <code>justify-content</code> with margin-based
centering in a multi-line flexbox, you're probably out of luck, as you need
to put the margins on the first and last flex item on each line. Unless you
can predict ahead of time which items will end up on which line, you can't
reliably use margin-based centering in the main axis to replace the
<code>justify-content</code> property.</p>
</blockquote>
<p><br></p>
<h3>Suggest</h3>
<p>I managed to pull this off with just 3 containers. The trick is to separate
the flexbox container from the container that controls the scrolling. Lastly,
put everything into a root container to center it all. Here are the essential
styles to create the effect:</p>
<p>CSS:</p>
<div class="code"><pre class="code literal-block"><span class="na">.root</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nl">display:</span><span class="w"> </span><span class="nf">flex</span><span class="c1">;</span>
<span class="w">  </span><span class="nl">justify-content:</span><span class="w"> </span><span class="nf">center</span><span class="c1">;</span>
<span class="w">  </span><span class="nl">align-items:</span><span class="w"> </span><span class="nf">center</span><span class="c1">;</span>
<span class="err">}</span>

<span class="na">.scroll-container</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nl">margin:</span><span class="w"> </span><span class="nf">auto</span><span class="c1">;</span>
<span class="w">  </span><span class="nl">max-height:</span><span class="w"> </span><span class="err">100%</span><span class="c1">;</span>
<span class="w">  </span><span class="nl">overflow:</span><span class="w"> </span><span class="nf">auto</span><span class="c1">;</span>
<span class="err">}</span>

<span class="na">.flex-container</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nl">display:</span><span class="w"> </span><span class="nf">flex</span><span class="c1">;</span>
<span class="w">  </span><span class="nl">flex-direction:</span><span class="w"> </span><span class="nf">column</span><span class="c1">;</span>
<span class="w">  </span><span class="nl">justify-content:</span><span class="w"> </span><span class="nf">center</span><span class="c1">;</span>
<span class="err">}</span>
</pre></div>

<p>HTML:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"root"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"scroll-container"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"flex-container"</span><span class="nt">&gt;</span>
<span class="w">      </span><span class="nt">&lt;p&gt;</span>Lorem<span class="w"> </span>ipsum<span class="w"> </span>dolor<span class="w"> </span>sit<span class="w"> </span>amet.<span class="nt">&lt;/p&gt;</span>
<span class="w">    </span><span class="nt">&lt;/div&gt;</span>
<span class="w">  </span><span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p>I've created a demo here: https://jsfiddle.net/r5jxtgba/14/</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/css/" rel="tag">css</a></li>
            <li><a class="tag p-category" href="../../categories/flexbox/" rel="tag">flexbox</a></li>
            <li><a class="tag p-category" href="../../categories/html/" rel="tag">html</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../launching-google-maps-directions-via-an-intent-on-android/" rel="prev" title="Launching Google Maps Directions via an intent on Android">Previous post</a>
            </li>
            <li class="next">
                <a href="../how-can-i-selectively-escape-percent-in-python-strings/" rel="next" title="How can I selectively escape percent (%) in Python strings?">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>How do I install Java on Mac OSX allowing version switching? | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/how-do-i-install-java-on-mac-osx-allowing-version-switching/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../how-to-find-the-last-day-of-the-month-from-date/" title="How to find the last day of the month from date?" type="text/html">
<link rel="next" href="../fixing-xcode-9-issue-iphone-is-busy-preparing-debugger-support-for-iphone/" title='Fixing Xcode 9 issue: "iPhone is busy: Preparing debugger support for iPhone"' type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="How do I install Java on Mac OSX allowing version switching?">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/how-do-i-install-java-on-mac-osx-allowing-version-switching/">
<meta property="og:description" content="I want to install OpenJDK Java on Mac OSX and have it work alongside other
JDK's since it is a newer release. Currently, I downloaded the tar.gz and
placed it in my path but that is hard to maintain.
">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-03-03T08:14:28+08:00">
<meta property="article:tag" content="java">
<meta property="article:tag" content="java-17">
<meta property="article:tag" content="macos">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">How do I install Java on Mac OSX allowing version switching?</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T08:14:28+08:00" itemprop="datePublished" title="2023-03-03 08:14">2023-03-03 08:14</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>I want to install OpenJDK Java on Mac OSX and have it work alongside other
JDK's since it is a newer release. Currently, I downloaded the tar.gz and
placed it in my path but that is hard to maintain.</p>
<p>The only other install I found that do more things automatically is the
install via Homebrew cask. It looks like only the current version too:</p>
<div class="code"><pre class="code literal-block">brew cask info java
</pre></div>

<p>Shows:</p>
<blockquote>
<p>java: 13,33:5b8a42f3905b406298b72d750b6919f6<br>
 https://openjdk.java.net/</p>
</blockquote>
<p>So I can install it from there, but then what? Am I stuck only with the new
version?</p>
<p><br><br></p>
<h2>Answer</h2>
<p><strong>Note:</strong> <em>These solutions work for various versions of Java including Java 8
through Java 17 (the LTS version) and Java 18. This includes alternative JDK's
from OpenJDK, Oracle, IBM, Azul, Amazon Correto, Graal and more. Easily work
with Java 7, Java 8, Java 9, Java 10, Java 11, Java 12, Java 13, Java 14, Java
15, Java 16, Java 17, Java 18, and the latest Java 19!</em></p>
<p>You have a few options for how to do the installation as well as manage JDK
switching. Installation can be done by Homebrew, SDKMAN, asdf, or a manual
install. Switching can be done by SDKMAN, asdf, or manually by setting
<code>JAVA_HOME</code>. All of these are described below.</p>
<hr>
<h2>TL;DR - Preferred Methods of Installation</h2>
<p>You can install Java using whatever method you prefer including SDKMAN, <em>asdf</em>
, Homebrew, or a manual install of the tar.gz file. The advantage of a manual
install is that the location of the JDK can be placed in a standardized
location for Mac OSX.</p>
<p>However, there are easier options such as <em>SDKMAN</em> and <em>asdf</em> that also will
install other important and common tools for the JVM. These two primary
options are described here.</p>
<h3>Installing and Switching versions with SDKMAN</h3>
<p><strong>SDKMAN</strong> is a bit different and handles both the install and the switching.
SDKMAN also places the installed JDK's into its own directory tree, which is
typically <code>~/.sdkman/candidates/java</code>. SDKMAN allows setting a global default
version, and a version specific to the current shell.</p>
<ol>
<li>
<p>Install SDKMAN from https://sdkman.io/install</p>
</li>
<li>
<p>List the Java versions available to make sure you know the version ID</p>
<div class="code"><pre class="code literal-block">sdk list java
</pre></div>

</li>
<li>
<p>Install one of those versions, for example, Java 17 LTS:</p>
<div class="code"><pre class="code literal-block">sdk install java 17-open
</pre></div>

</li>
</ol>
<p>Or java 19:</p>
<div class="code"><pre class="code literal-block">    sdk install java 19-open
</pre></div>

<ol>
<li>Make Java 17 the default version:<div class="code"><pre class="code literal-block">sdk default java 17-open
</pre></div>

</li>
</ol>
<p>Or switch to 17 for the current terminal session:</p>
<div class="code"><pre class="code literal-block">    sdk use java 17-open
</pre></div>

<p>When you list available versions for installation using the list command, you
will see a wide variety of distributions of Java:</p>
<div class="code"><pre class="code literal-block">sdk list java
</pre></div>

<p>And install additional versions, such as JDK 11 from Amazon:</p>
<div class="code"><pre class="code literal-block">sdk install java 11.0.14.10.1-amzn
</pre></div>

<p>SDKMAN can work with previously installed existing versions. Just do a local
install giving your own version label and the location of the JDK:</p>
<div class="code"><pre class="code literal-block">sdk install java my-local-13 /Library/Java/JavaVirtualMachines/jdk-13.jdk/Contents/Home
</pre></div>

<p>And use it freely:</p>
<div class="code"><pre class="code literal-block">sdk use java my-local-13
</pre></div>

<p>SDKMAN will automatically manage your <code>PATH</code> and <code>JAVA_HOME</code> for you as you
change versions. And as a note, it installs Java versions to
<code>~/.sdkman/candidates/java/</code>.</p>
<p>More information is available in the SDKMAN Usage Guide along with other SDK's
it can install and manage such as Gradle, Maven, Kotlin, Quarkus, Spring Boot,
and many others.</p>
<hr>
<h3>Installing and Switching versions with " <em>asdf</em> "</h3>
<p>asdf is a version manager that supports installing and managing most
languages, frameworks, and developer/devops tools. It has language specific
plugins including one for Java.</p>
<ol>
<li>First, install <em>asdf</em> via https://asdf-vm.com/guide/getting-started.html (read there to setup your shell correctly), or more simply:<div class="code"><pre class="code literal-block">brew reinstall asdf
</pre></div>

</li>
</ol>
<p>and read the doc for setting up your shell correctly, but if you are using
<em>asdf</em> from Homebrew with ZSH you can execute this command to finish setup:</p>
<div class="code"><pre class="code literal-block">    <span class="s s-Atom">echo</span> <span class="o">-</span><span class="s s-Atom">e</span> <span class="s2">"\n. $(brew --prefix asdf)/libexec/asdf.sh"</span> <span class="s s-Atom">&gt;&gt;</span> <span class="err">$</span><span class="p">{</span><span class="nv">ZDOTDIR</span><span class="o">:-~</span><span class="p">}</span><span class="s s-Atom">/.zshrc</span>
</pre></div>

<ol>
<li>Then install the Java plugin via https://github.com/halcyon/asdf-java<div class="code"><pre class="code literal-block">asdf plugin add java
</pre></div>

</li>
</ol>
<p>and read the doc for setting up your shell correctly before continuing.
Basically it says to add the following to your <code>~/.zshrc</code> file (assuming you
are not using another shell):</p>
<div class="code"><pre class="code literal-block">    . ~/.asdf/plugins/java/set-java-home.zsh
</pre></div>

<ol>
<li>
<p>Now list Java versions:</p>
<div class="code"><pre class="code literal-block">asdf list-all java
</pre></div>

</li>
<li>
<p>Install your favorite flavor and version:</p>
<div class="code"><pre class="code literal-block">asdf install java openjdk-17
</pre></div>

</li>
</ol>
<p>or install the latest:</p>
<div class="code"><pre class="code literal-block">    asdf install java latest
</pre></div>

<p>Other important commands are...</p>
<ul>
<li>
<p>List your installed versions:</p>
<div class="code"><pre class="code literal-block">asdf list java
</pre></div>

</li>
<li>
<p>Set a global Java version:</p>
<div class="code"><pre class="code literal-block">asdf global java openjdk-17
</pre></div>

</li>
<li>
<p>Set a local Java version for a directory:</p>
<div class="code"><pre class="code literal-block">asdf local java openjdk-19
</pre></div>

</li>
</ul>
<p>It's that easy! <em>asdf</em> will automatically manage your PATH and JAVA_HOME for
you as you change versions. As a note, <em>asdf</em> installs Java versions to
<code>~/.asdf/installs/java</code>.</p>
<p>There are other languages and plugins for <em>asdf</em> here from the repository
page: https://github.com/asdf-vm/asdf-plugins</p>
<hr>
<h2>Other Methods of Installation</h2>
<h3>Install with Homebrew</h3>
<p>The version of Java available in Homebrew Cask previous to October 3, 2018 was
indeed the Oracle JVM. Now, however, it has now been updated to OpenJDK. Be
sure to update Homebrew and then you will see the lastest version available
for install.</p>
<ol>
<li>
<p>install Homebrew if you haven't already. Make sure it is updated:</p>
<div class="code"><pre class="code literal-block"> brew update
</pre></div>

</li>
<li>
<p>Add the casks tap:</p>
<div class="code"><pre class="code literal-block"> brew tap homebrew/cask-versions
</pre></div>

</li>
</ol>
<p>These casks change their Java versions often, and there might be other taps
out there with additional Java versions.</p>
<ol>
<li>Look for installable versions:<div class="code"><pre class="code literal-block"> brew search java
</pre></div>

</li>
</ol>
<p>or for Eclipse Temurin versions:</p>
<div class="code"><pre class="code literal-block">     brew search temurin
</pre></div>

<ol>
<li>Check the details on the version that will be installed:<div class="code"><pre class="code literal-block"> brew info java
</pre></div>

</li>
</ol>
<p>or for the Temurin version:</p>
<div class="code"><pre class="code literal-block">     brew info temurin
</pre></div>

<ol>
<li>
<p>Install a specific version of the JDK such as <code>java11</code>, <code>temurin8</code>, <code>temurin11</code>, <code>temurin17</code>, or just <code>java</code> or <code>temurin</code> for the most current of that distribution. For example:</p>
<div class="code"><pre class="code literal-block"> brew install java
</pre></div>

<p>brew install --cask temurin</p>
</li>
</ol>
<p>And these will be installed into <code>/Library/Java/JavaVirtualMachines/</code> which is
the traditional location expected on Mac OSX. There might be additional steps
to make the JDK active reported at the end of the install process.</p>
<h3>Install manually from OpenJDK download page:</h3>
<p>If you need any and every version of Java, this is a good place to look.</p>
<ol>
<li>
<p>Download OpenJDK for Mac OSX from http://jdk.java.net/ (for example Java 17 and Java 19)</p>
</li>
<li>
<p>Unarchive the OpenJDK tar, and place the resulting folder (i.e. <code>jdk-17.jdk</code>) into your <code>/Library/Java/JavaVirtualMachines/</code> folder since this is the standard and expected location of JDK installs. You can also install anywhere you want in reality.</p>
</li>
<li>
<p>Set <code>JAVA_HOME</code> environment variable to point at direction where you unarchived the JDK.</p>
</li>
</ol>
<p>For further information see the answer specific to manual installation. Also
see the section below "Switching versions manually" for more information on
how to manage multiple manual installations.</p>
<h3>Other installation options:</h3>
<p>Some other flavours of OpenJDK are:</p>
<p><strong>Azul Systems Java Zulu</strong> certified builds of OpenJDK can be installed by
following the instructions on their site.</p>
<blockquote>
<p>Zulu® is a certified build of OpenJDK that is fully compliant with the Java
SE standard. Zulu is 100% open source and freely downloadable. Now Java
developers, system administrators, and end-users can enjoy the full benefits
of open source Java with deployment flexibility and control over upgrade
timing.</p>
</blockquote>
<p><strong>Amazon Correto</strong> OpenJDK builds have an easy to use an installation package
for Java 8, 11, 15, 16, 17, 18, and Java 19. It installs to the standard
<code>/Library/Java/JavaVirtualMachines/</code> directory on Mac OSX.</p>
<blockquote>
<p>Amazon Corretto is a no-cost, multiplatform, production-ready distribution
of the Open Java Development Kit (OpenJDK). Corretto comes with long-term
support that will include performance enhancements and security fixes.
Amazon runs Corretto internally on thousands of production services and
Corretto is certified as compatible with the Java SE standard. With
Corretto, you can develop and run Java applications on popular operating
systems, including Linux, Windows, and macOS.</p>
</blockquote>
<p><strong>Microsoft Java JDK</strong> - certified builds of OpenJDK from Microsoft.</p>
<hr>
<h2>Where is my JDK?!?!</h2>
<p>To find locations of previously installed Java JDK's installed at the default
system locations, use:</p>
<div class="code"><pre class="code literal-block">/usr/libexec/java_home -V
</pre></div>

<blockquote>
<p>Matching Java Virtual Machines (4):<br>
 19 (x86_64) "Homebrew" - "OpenJDK 19"
/usr/local/Cellar/openjdk/19/libexec/openjdk.jdk/Contents/Home<br>
 18.0.1.1 (x86_64) "Homebrew" - "OpenJDK 18.0.1.1"
/usr/local/Cellar/openjdk/18.0.1.1/libexec/openjdk.jdk/Contents/Home<br>
 17 (x86_64) "Homebrew" - "OpenJDK 17"
/usr/local/Cellar/openjdk/17/libexec/openjdk.jdk/Contents/Home<br>
 11, x86_64: "Java SE 11"
/Library/Java/JavaVirtualMachines/jdk-11.jdk/Contents/Home<br>
 1.8.301.09 (x86_64) "Oracle Corporation" - "Java" /Library/Internet Plug-
Ins/JavaAppletPlugin.plugin/Contents/Home
/usr/local/Cellar/openjdk/17/libexec/openjdk.jdk/Contents/Home<br></p>
</blockquote>
<p>You can also report just the location of a specific Java version using <code>-v</code>.
For example for Java 17:</p>
<div class="code"><pre class="code literal-block">/usr/libexec/java_home -v 17
</pre></div>

<blockquote>
<p>/usr/local/Cellar/openjdk/17/libexec/openjdk.jdk/Contents/Home</p>
</blockquote>
<p>Knowing the location of the installed JDK's is also useful when using tools
like JEnv, or adding a local install manually to SDKMAN -- and you need to
know where to find them.</p>
<p>If you need to find JDK's installed by other tools, check these locations:</p>
<ul>
<li>SDKMAN installs to <code>~/.sdkman/candidates/java/</code>
</li>
<li>
<em>asdf</em> install to <code>~/.asdf/installs/java</code>
</li>
</ul>
<hr>
<h2>Version Switching</h2>
<p>If you are using <em>SDKMAN</em> or <em>asdf</em> you are already covered and can stop
reading! Otherwise, here are some options to switch existing VM installations.</p>
<h3>Switching versions manually</h3>
<p>The Java executable is a wrapper that will use whatever JDK is configured in
<code>JAVA_HOME</code>, so you can change that to also change which JDK is in use.</p>
<p>For example, if you installed or untar'd JDK 16 to
<code>/Library/Java/JavaVirtualMachines/jdk-16.jdk</code> if it is the highest version
number it should already be the default, if not you could simply set:</p>
<div class="code"><pre class="code literal-block"><span class="k">export</span><span class="w"> </span><span class="n">JAVA_HOME</span><span class="o">=/</span><span class="n">Library</span><span class="o">/</span><span class="n">Java</span><span class="o">/</span><span class="n">JavaVirtualMachines</span><span class="o">/</span><span class="n">jdk</span><span class="o">-</span><span class="mf">16.j</span><span class="n">dk</span><span class="o">/</span><span class="n">Contents</span><span class="o">/</span><span class="n">Home</span>
</pre></div>

<p>And now whatever Java executable is in the path will see this and use the
correct JDK.</p>
<p>A simple way to change JDKs is to create a function in your <code>~/.bashrc</code> or
<code>~/.zshrc</code> file:</p>
<div class="code"><pre class="code literal-block"><span class="n">jdk</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">version</span><span class="o">=$</span><span class="mi">1</span>
<span class="w">    </span><span class="k">export</span><span class="w"> </span><span class="n">JAVA_HOME</span><span class="o">=$</span><span class="p">(</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">libexec</span><span class="o">/</span><span class="n">java_home</span><span class="w"> </span><span class="o">-</span><span class="n">v</span><span class="s2">"$version"</span><span class="p">);</span>
<span class="w">    </span><span class="n">java</span><span class="w"> </span><span class="o">-</span><span class="n">version</span>
<span class="p">}</span>
</pre></div>

<p>And then change JDKs simply by:</p>
<div class="code"><pre class="code literal-block">jdk 1.8
jdk 9
jdk 11
jdk 13
</pre></div>

<hr>
<p>Edits:</p>
<ul>
<li>removed Jabba and JENV as both appear to have stagnated, issue count is climbing dramatically, and issues/PR's are not being addressed by the maintainers.</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<p>This is how I did it.</p>
<p><strong>Step 1:</strong> Install Java 11</p>
<p>You can download Java 11 dmg for mac from here:
https://www.oracle.com/technetwork/java/javase/downloads/jdk11-downloads-5066655.html</p>
<p><strong>Step 2:</strong> After installation of Java 11. Confirm installation of all
versions. Type the following command in your terminal.</p>
<div class="code"><pre class="code literal-block">/usr/libexec/java_home -V
</pre></div>

<p><strong>Step 3:</strong> Edit .bash_profile</p>
<div class="code"><pre class="code literal-block">sudo nano ~/.bash_profile
</pre></div>

<p><strong>Step 4:</strong> Add 11.0.1 as default. (Add below line to bash_profile file).</p>
<div class="code"><pre class="code literal-block"><span class="k">export</span><span class="w"> </span><span class="n">JAVA_HOME</span><span class="o">=$</span><span class="p">(</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">libexec</span><span class="o">/</span><span class="n">java_home</span><span class="w"> </span><span class="o">-</span><span class="n">v</span><span class="w"> </span><span class="mf">11.0</span><span class="o">.</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

<p>to switch to any version</p>
<div class="code"><pre class="code literal-block"><span class="k">export</span><span class="w"> </span><span class="n">JAVA_HOME</span><span class="o">=$</span><span class="p">(</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">libexec</span><span class="o">/</span><span class="n">java_home</span><span class="w"> </span><span class="o">-</span><span class="n">v</span><span class="w"> </span><span class="n">X</span><span class="o">.</span><span class="n">X</span><span class="o">.</span><span class="n">X</span><span class="p">)</span>
</pre></div>

<p>Now Press CTRL+X to exit the bash. Press 'Y' to save changes.</p>
<p><strong>Step 5:</strong> Reload bash_profile</p>
<div class="code"><pre class="code literal-block">source ~/.bash_profile
</pre></div>

<p><strong>Step 6:</strong> Confirm current version of Java</p>
<div class="code"><pre class="code literal-block">java -version
</pre></div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/java/" rel="tag">java</a></li>
            <li><a class="tag p-category" href="../../categories/java-17/" rel="tag">java-17</a></li>
            <li><a class="tag p-category" href="../../categories/macos/" rel="tag">macos</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../how-to-find-the-last-day-of-the-month-from-date/" rel="prev" title="How to find the last day of the month from date?">Previous post</a>
            </li>
            <li class="next">
                <a href="../fixing-xcode-9-issue-iphone-is-busy-preparing-debugger-support-for-iphone/" rel="next" title='Fixing Xcode 9 issue: "iPhone is busy: Preparing debugger support for iPhone"'>Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

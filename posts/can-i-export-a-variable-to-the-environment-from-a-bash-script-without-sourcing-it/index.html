<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Can I export a variable to the environment from a Bash script without sourcing it? | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/can-i-export-a-variable-to-the-environment-from-a-bash-script-without-sourcing-it/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../what-is-the-difference-between-an-expression-and-a-statement-in-python/" title="What is the difference between an expression and a statement in Python?" type="text/html">
<link rel="next" href="../what-does-php-keyword-var-do/" title="What does PHP keyword 'var' do?" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="Can I export a variable to the environment from a Bash script without ">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/can-i-export-a-variable-to-the-environment-from-a-bash-script-without-sourcing-it/">
<meta property="og:description" content="Suppose that I have this script:
export.bash :
#! /usr/bin/env bash
export VAR=&quot;HELLO, VARIABLE&quot;

When I execute the script and try to access to the $VAR, I don't get any
value!
echo $VAR


Is there a">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-03-03T13:41:05+08:00">
<meta property="article:tag" content="bash">
<meta property="article:tag" content="environment-variables">
<meta property="article:tag" content="shell">
<meta property="article:tag" content="unix">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Can I export a variable to the environment from a Bash script without sourcing it?</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T13:41:05+08:00" itemprop="datePublished" title="2023-03-03 13:41">2023-03-03 13:41</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>Suppose that I have this script:</p>
<p><strong>export.bash</strong> :</p>
<div class="code"><table class="codetable">
<tr>
<td class="linenos linenodiv"><a href="#-1"><code data-line-number="1"></code></a></td>
<td class="code"><code><span class="ch">#! /usr/bin/env bash</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-2"><code data-line-number="2"></code></a></td>
<td class="code"><code><span class="nb">export</span><span class="w"> </span><span class="nv">VAR</span><span class="o">=</span><span class="s2">"HELLO, VARIABLE"</span>
</code></td>
</tr>
</table></div>
<p>When I execute the script and try to access to the <code>$VAR</code>, I don't get any
value!</p>
<div class="code"><pre class="code literal-block">echo $VAR
</pre></div>

<p>Is there a way to access the <code>$VAR</code> by just executing <strong>export.bash</strong> without
sourcing it?</p>
<p><br><br></p>
<h2>Answer</h2>
<blockquote>
<p>Is there any way to access to the <code>$VAR</code> by just executing <code>export.bash</code>
without sourcing it ?</p>
</blockquote>
<p>Quick answer: No.</p>
<p>But there are several possible workarounds.</p>
<p>The most obvious one, which you've already mentioned, is to use <code>source</code> or
<code>.</code> to execute the script in the context of the calling shell:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>cat<span class="w"> </span>set-vars1.sh<span class="w"> </span>
<span class="nb">export</span><span class="w"> </span><span class="nv">FOO</span><span class="o">=</span>BAR
$<span class="w"> </span>.<span class="w"> </span>set-vars1.sh<span class="w"> </span>
$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$FOO</span>
BAR
</pre></div>

<p>Another way is to have the script, rather than setting an environment
variable, print commands that will set the environment variable:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>cat<span class="w"> </span>set-vars2.sh
<span class="c1">#!/bin/bash</span>
<span class="nb">echo</span><span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">FOO</span><span class="o">=</span>BAR
$<span class="w"> </span><span class="nb">eval</span><span class="w"> </span><span class="s2">"</span><span class="k">$(</span>./set-vars2.sh<span class="k">)</span><span class="s2">"</span>
$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">"</span><span class="nv">$FOO</span><span class="s2">"</span>
BAR
</pre></div>

<p>A third approach is to have a script that sets your environment variable(s)
internally and then invokes a specified command with that environment:</p>
<div class="code"><pre class="code literal-block"><span class="n">$</span><span class="w"> </span><span class="n">cat</span><span class="w"> </span><span class="n">set</span><span class="o">-</span><span class="n">vars3</span><span class="p">.</span><span class="n">sh</span>
<span class="cp">#!/bin/bash</span>
<span class="n">export</span><span class="w"> </span><span class="n">FOO</span><span class="o">=</span><span class="n">BAR</span>
<span class="n">exec</span><span class="w"> </span><span class="s">"$@"</span>
<span class="n">$</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="n">set</span><span class="o">-</span><span class="n">vars3</span><span class="p">.</span><span class="n">sh</span><span class="w"> </span><span class="n">printenv</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">grep</span><span class="w"> </span><span class="n">FOO</span>
<span class="n">FOO</span><span class="o">=</span><span class="n">BAR</span>
</pre></div>

<p>This last approach can be quite useful, though it's inconvenient for
interactive use since it doesn't give you the settings in your current shell
(with all the other settings and history you've built up).</p>
<p><br></p>
<h3>Suggest</h3>
<p>In order to export out the VAR variable first, the most logical and seemly
working way is to source the variable:</p>
<div class="code"><pre class="code literal-block"><span class="o">.</span><span class="w"> </span><span class="o">./</span><span class="k">export</span><span class="o">.</span><span class="n">bash</span>
</pre></div>

<p>or</p>
<div class="code"><pre class="code literal-block"><span class="n">source</span><span class="w"> </span><span class="o">./</span><span class="k">export</span><span class="o">.</span><span class="n">bash</span>
</pre></div>

<p>Now when echoing from the main shell, it works:</p>
<div class="code"><pre class="code literal-block">echo $VAR
HELLO, VARIABLE
</pre></div>

<p>We will now reset VAR:</p>
<div class="code"><pre class="code literal-block"><span class="k">export</span><span class="w"> </span><span class="n">VAR</span><span class="o">=</span><span class="s2">""</span>
<span class="n">echo</span><span class="w"> </span><span class="o">$</span><span class="n">VAR</span>
</pre></div>

<p>Now we will execute a script to source the variable then unset it:</p>
<div class="code"><pre class="code literal-block"><span class="o">./</span><span class="n">test</span><span class="o">-</span><span class="k">export</span><span class="o">.</span><span class="n">sh</span>
<span class="n">HELLO</span><span class="p">,</span><span class="w"> </span><span class="n">VARIABLE</span>
<span class="o">--</span>
<span class="o">.</span>
</pre></div>

<p>The code: file <em>test-export.sh</em></p>
<div class="code"><table class="codetable">
<tr>
<td class="linenos linenodiv"><a href="#-1"><code data-line-number=" 1"></code></a></td>
<td class="code"><code><span class="ch">#!/bin/bash</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-2"><code data-line-number=" 2"></code></a></td>
<td class="code"><code><span class="c1"># Source env variable</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-3"><code data-line-number=" 3"></code></a></td>
<td class="code"><code><span class="nb">source</span><span class="w"> </span>./export.bash
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-4"><code data-line-number=" 4"></code></a></td>
<td class="code"><code>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-5"><code data-line-number=" 5"></code></a></td>
<td class="code"><code><span class="c1"># echo out the variable in test script</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-6"><code data-line-number=" 6"></code></a></td>
<td class="code"><code><span class="nb">echo</span><span class="w"> </span><span class="nv">$VAR</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-7"><code data-line-number=" 7"></code></a></td>
<td class="code"><code>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-8"><code data-line-number=" 8"></code></a></td>
<td class="code"><code><span class="c1"># unset the variable</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-9"><code data-line-number=" 9"></code></a></td>
<td class="code"><code><span class="nb">unset</span><span class="w"> </span>VAR
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-10"><code data-line-number="10"></code></a></td>
<td class="code"><code><span class="c1"># echo a few dotted lines</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-11"><code data-line-number="11"></code></a></td>
<td class="code"><code><span class="nb">echo</span><span class="w"> </span><span class="s2">"---"</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-12"><code data-line-number="12"></code></a></td>
<td class="code"><code><span class="c1"># now return VAR which is blank</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-13"><code data-line-number="13"></code></a></td>
<td class="code"><code><span class="nb">echo</span><span class="w"> </span><span class="nv">$VAR</span>
</code></td>
</tr>
</table></div>
<p>Here is one way:</p>
<p><em>Please note</em> : The exports are limited to the script that execute the exports
in your main console - so as far as a cron job I would add it like the console
like below... for the command part still questionable: here is how you would
run in from your shell:</p>
<p>On your command prompt (so long as the export.bash <em>file</em> has multiple echo
values)</p>
<div class="code"><pre class="code literal-block"><span class="n">IFS</span><span class="o">=$</span><span class="s1">'</span><span class="se">\n</span><span class="s1">'</span><span class="p">;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">entries</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="o">./</span><span class="k">export</span><span class="o">.</span><span class="n">bash</span><span class="p">);</span><span class="w"> </span><span class="n">do</span><span class="w">  </span><span class="k">export</span><span class="w"> </span><span class="o">$</span><span class="n">entries</span><span class="p">;</span><span class="w">  </span><span class="n">done</span><span class="p">;</span><span class="w"> </span><span class="o">./</span><span class="n">v1</span><span class="o">.</span><span class="n">sh</span>
<span class="n">HELLO</span><span class="w"> </span><span class="n">THERE</span>
<span class="n">HI</span><span class="w"> </span><span class="n">THERE</span>
</pre></div>

<h4>File cat v1.sh</h4>
<div class="code"><table class="codetable">
<tr>
<td class="linenos linenodiv"><a href="#-1"><code data-line-number="1"></code></a></td>
<td class="code"><code><span class="ch">#!/bin/bash</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-2"><code data-line-number="2"></code></a></td>
<td class="code"><code><span class="nb">echo</span><span class="w"> </span><span class="nv">$VAR</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-3"><code data-line-number="3"></code></a></td>
<td class="code"><code><span class="nb">echo</span><span class="w"> </span><span class="nv">$VAR1</span>
</code></td>
</tr>
</table></div>
<p>Now so long as this is for your usage - you could make the variables available
for your scripts at any time by doing a Bash alias like this:</p>
<div class="code"><pre class="code literal-block"><span class="n">myvars</span><span class="w"> </span><span class="o">./</span><span class="n">v1</span><span class="o">.</span><span class="n">sh</span>
<span class="n">HELLO</span><span class="w"> </span><span class="n">THERE</span>
<span class="n">HI</span><span class="w"> </span><span class="n">THERE</span>

<span class="n">echo</span><span class="w"> </span><span class="o">$</span><span class="n">VAR</span>

<span class="o">.</span>
</pre></div>

<p>Add this to your <em>.bashrc file</em> :</p>
<div class="code"><pre class="code literal-block"><span class="n">function</span><span class="w"> </span><span class="nf">myvars</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">IFS</span><span class="o">=</span><span class="n">$</span><span class="sc">'\n'</span><span class="p">;</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">entries</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">$</span><span class="p">(.</span><span class="o">/</span><span class="n">export</span><span class="p">.</span><span class="n">bash</span><span class="p">);</span><span class="w"> </span><span class="k">do</span><span class="w">  </span><span class="n">export</span><span class="w"> </span><span class="n">$entries</span><span class="p">;</span><span class="w">  </span><span class="n">done</span><span class="p">;</span>

<span class="w">    </span><span class="s">"$@"</span><span class="p">;</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">entries</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">$</span><span class="p">(.</span><span class="o">/</span><span class="n">export</span><span class="p">.</span><span class="n">bash</span><span class="p">);</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="n">variable</span><span class="o">=</span><span class="n">$</span><span class="p">(</span><span class="n">echo</span><span class="w"> </span><span class="n">$entries</span><span class="o">|</span><span class="n">awk</span><span class="w"> </span><span class="o">-</span><span class="n">F</span><span class="s">"="</span><span class="w"> </span><span class="err">'</span><span class="p">{</span><span class="n">print</span><span class="w"> </span><span class="n">$1</span><span class="p">}</span><span class="err">'</span><span class="p">);</span><span class="w"> </span><span class="n">unset</span><span class="w"> </span><span class="n">$variable</span><span class="p">;</span>
<span class="w">    </span><span class="n">done</span>
<span class="p">}</span>
</pre></div>

<p>Source your <em>.bashrc</em> file and you can do like the above any time...</p>
<p>Anyhow back to the rest of it...</p>
<p>This has made it available globally then executed the script...</p>
<p>Simply echo it out and run export on the echo!</p>
<h4>File <em>export.bash</em>
</h4>
<div class="code"><table class="codetable">
<tr>
<td class="linenos linenodiv"><a href="#-1"><code data-line-number="1"></code></a></td>
<td class="code"><code><span class="ch">#!/bin/bash</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-2"><code data-line-number="2"></code></a></td>
<td class="code"><code><span class="nb">echo</span><span class="w"> </span><span class="s2">"VAR=HELLO THERE"</span>
</code></td>
</tr>
</table></div>
<p>Now within script or your console run:</p>
<div class="code"><pre class="code literal-block"><span class="k">export</span><span class="w"> </span><span class="s2">"$(./export.bash)"</span>
</pre></div>

<p>Try:</p>
<div class="code"><pre class="code literal-block">echo $VAR
HELLO THERE
</pre></div>

<p>Multiple values so long as you know what you are expecting in another script
using the above method:</p>
<h4>File <em>export.bash</em>
</h4>
<div class="code"><table class="codetable">
<tr>
<td class="linenos linenodiv"><a href="#-1"><code data-line-number="1"></code></a></td>
<td class="code"><code><span class="ch">#!/bin/bash</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-2"><code data-line-number="2"></code></a></td>
<td class="code"><code><span class="nb">echo</span><span class="w"> </span><span class="s2">"VAR=HELLO THERE"</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-3"><code data-line-number="3"></code></a></td>
<td class="code"><code><span class="nb">echo</span><span class="w"> </span><span class="s2">"VAR1=HI THERE"</span>
</code></td>
</tr>
</table></div>
<h4>File <em>test-export.sh</em>
</h4>
<div class="code"><table class="codetable">
<tr>
<td class="linenos linenodiv"><a href="#-1"><code data-line-number=" 1"></code></a></td>
<td class="code"><code><span class="ch">#!/bin/bash</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-2"><code data-line-number=" 2"></code></a></td>
<td class="code"><code>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-3"><code data-line-number=" 3"></code></a></td>
<td class="code"><code><span class="nv">IFS</span><span class="o">=</span><span class="s1">$'\n'</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-4"><code data-line-number=" 4"></code></a></td>
<td class="code"><code><span class="k">for</span><span class="w"> </span>entries<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">$(</span>./export.bash<span class="k">)</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-5"><code data-line-number=" 5"></code></a></td>
<td class="code"><code><span class="w">    </span><span class="nb">export</span><span class="w"> </span><span class="nv">$entries</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-6"><code data-line-number=" 6"></code></a></td>
<td class="code"><code><span class="k">done</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-7"><code data-line-number=" 7"></code></a></td>
<td class="code"><code>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-8"><code data-line-number=" 8"></code></a></td>
<td class="code"><code><span class="nb">echo</span><span class="w"> </span><span class="s2">"round 1"</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-9"><code data-line-number=" 9"></code></a></td>
<td class="code"><code><span class="nb">echo</span><span class="w"> </span><span class="nv">$VAR</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-10"><code data-line-number="10"></code></a></td>
<td class="code"><code><span class="nb">echo</span><span class="w"> </span><span class="nv">$VAR1</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-11"><code data-line-number="11"></code></a></td>
<td class="code"><code>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-12"><code data-line-number="12"></code></a></td>
<td class="code"><code><span class="k">for</span><span class="w"> </span>entries<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">$(</span>./export.bash<span class="k">)</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-13"><code data-line-number="13"></code></a></td>
<td class="code"><code><span class="w">    </span><span class="nv">variable</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="nv">$entries</span><span class="p">|</span>awk<span class="w"> </span>-F<span class="s2">"="</span><span class="w"> </span><span class="s1">'{print $1}'</span><span class="k">)</span><span class="p">;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-14"><code data-line-number="14"></code></a></td>
<td class="code"><code><span class="w">    </span><span class="nb">unset</span><span class="w"> </span><span class="nv">$variable</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-15"><code data-line-number="15"></code></a></td>
<td class="code"><code><span class="k">done</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-16"><code data-line-number="16"></code></a></td>
<td class="code"><code>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-17"><code data-line-number="17"></code></a></td>
<td class="code"><code><span class="nb">echo</span><span class="w"> </span><span class="s2">"round 2"</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-18"><code data-line-number="18"></code></a></td>
<td class="code"><code><span class="nb">echo</span><span class="w"> </span><span class="nv">$VAR</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-19"><code data-line-number="19"></code></a></td>
<td class="code"><code><span class="nb">echo</span><span class="w"> </span><span class="nv">$VAR1</span>
</code></td>
</tr>
</table></div>
<p>Now the results</p>
<div class="code"><pre class="code literal-block"><span class="o">./</span><span class="n">test</span><span class="o">-</span><span class="k">export</span><span class="o">.</span><span class="n">sh</span>
<span class="nb">round</span><span class="w"> </span><span class="mi">1</span>
<span class="n">HELLO</span><span class="w"> </span><span class="n">THERE</span>
<span class="n">HI</span><span class="w"> </span><span class="n">THERE</span>
<span class="nb">round</span><span class="w"> </span><span class="mi">2</span>


<span class="o">.</span>
</pre></div>

<p>And the final final update to auto assign, read the VARIABLES:</p>
<div class="code"><pre class="code literal-block"><span class="o">./</span><span class="n">test</span><span class="o">-</span><span class="k">export</span><span class="o">.</span><span class="n">sh</span>
<span class="n">Round</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Export</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="n">find</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">-</span>
<span class="n">Set</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">exported</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="n">echo</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">value</span>
<span class="o">$</span><span class="n">VAR</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">HELLO</span><span class="w"> </span><span class="n">THERE</span>
<span class="o">$</span><span class="n">VAR1</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">HI</span><span class="w"> </span><span class="n">THERE</span>
<span class="nb">round</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">we</span><span class="w"> </span><span class="n">know</span><span class="w"> </span><span class="n">what</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">exported</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">we</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">echo</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="n">known</span><span class="w"> </span><span class="n">variables</span>
<span class="n">HELLO</span><span class="w"> </span><span class="n">THERE</span>
<span class="n">HI</span><span class="w"> </span><span class="n">THERE</span>
<span class="n">Round</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">We</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">just</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">names</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">unset</span><span class="w"> </span><span class="n">them</span>
<span class="nb">round</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Now</span><span class="w"> </span><span class="n">we</span><span class="w"> </span><span class="n">get</span><span class="w"> </span><span class="n">nothing</span><span class="w"> </span><span class="n">back</span>
</pre></div>

<p>The script:</p>
<h4>File <em>test-export.sh</em>
</h4>
<div class="code"><table class="codetable">
<tr>
<td class="linenos linenodiv"><a href="#-1"><code data-line-number=" 1"></code></a></td>
<td class="code"><code><span class="ch">#!/bin/bash</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-2"><code data-line-number=" 2"></code></a></td>
<td class="code"><code>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-3"><code data-line-number=" 3"></code></a></td>
<td class="code"><code><span class="nv">IFS</span><span class="o">=</span><span class="s1">$'\n'</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-4"><code data-line-number=" 4"></code></a></td>
<td class="code"><code><span class="nb">echo</span><span class="w"> </span><span class="s2">"Round 0 - Export out then find variable name - "</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-5"><code data-line-number=" 5"></code></a></td>
<td class="code"><code><span class="nb">echo</span><span class="w"> </span><span class="s2">"Set current variable to the variable exported then echo its value"</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-6"><code data-line-number=" 6"></code></a></td>
<td class="code"><code><span class="k">for</span><span class="w"> </span>entries<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">$(</span>./export.bash<span class="k">)</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-7"><code data-line-number=" 7"></code></a></td>
<td class="code"><code><span class="w">    </span><span class="nv">variable</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="nv">$entries</span><span class="p">|</span>awk<span class="w"> </span>-F<span class="s2">"="</span><span class="w"> </span><span class="s1">'{print $1}'</span><span class="k">)</span><span class="p">;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-8"><code data-line-number=" 8"></code></a></td>
<td class="code"><code><span class="w">    </span><span class="nb">export</span><span class="w"> </span><span class="nv">$entries</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-9"><code data-line-number=" 9"></code></a></td>
<td class="code"><code><span class="w">    </span><span class="nb">eval</span><span class="w"> </span><span class="nv">current_variable</span><span class="o">=</span><span class="se">\$</span><span class="nv">$variable</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-10"><code data-line-number="10"></code></a></td>
<td class="code"><code><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">"\$</span><span class="nv">$variable</span><span class="s2"> has value of </span><span class="nv">$current_variable</span><span class="s2">"</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-11"><code data-line-number="11"></code></a></td>
<td class="code"><code><span class="k">done</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-12"><code data-line-number="12"></code></a></td>
<td class="code"><code>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-13"><code data-line-number="13"></code></a></td>
<td class="code"><code>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-14"><code data-line-number="14"></code></a></td>
<td class="code"><code><span class="nb">echo</span><span class="w"> </span><span class="s2">"round 1 - we know what was exported and we will echo out known variables"</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-15"><code data-line-number="15"></code></a></td>
<td class="code"><code><span class="nb">echo</span><span class="w"> </span><span class="nv">$VAR</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-16"><code data-line-number="16"></code></a></td>
<td class="code"><code><span class="nb">echo</span><span class="w"> </span><span class="nv">$VAR1</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-17"><code data-line-number="17"></code></a></td>
<td class="code"><code>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-18"><code data-line-number="18"></code></a></td>
<td class="code"><code><span class="nb">echo</span><span class="w"> </span><span class="s2">"Round 2 - We will just return the variable names and unset them "</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-19"><code data-line-number="19"></code></a></td>
<td class="code"><code><span class="k">for</span><span class="w"> </span>entries<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">$(</span>./export.bash<span class="k">)</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-20"><code data-line-number="20"></code></a></td>
<td class="code"><code><span class="w">    </span><span class="nv">variable</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="nv">$entries</span><span class="p">|</span>awk<span class="w"> </span>-F<span class="s2">"="</span><span class="w"> </span><span class="s1">'{print $1}'</span><span class="k">)</span><span class="p">;</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-21"><code data-line-number="21"></code></a></td>
<td class="code"><code><span class="w">    </span><span class="nb">unset</span><span class="w"> </span><span class="nv">$variable</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-22"><code data-line-number="22"></code></a></td>
<td class="code"><code><span class="k">done</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-23"><code data-line-number="23"></code></a></td>
<td class="code"><code>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-24"><code data-line-number="24"></code></a></td>
<td class="code"><code><span class="nb">echo</span><span class="w"> </span><span class="s2">"round 3 - Now we get nothing back"</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-25"><code data-line-number="25"></code></a></td>
<td class="code"><code><span class="nb">echo</span><span class="w"> </span><span class="nv">$VAR</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#-26"><code data-line-number="26"></code></a></td>
<td class="code"><code><span class="nb">echo</span><span class="w"> </span><span class="nv">$VAR1</span>
</code></td>
</tr>
</table></div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/bash/" rel="tag">bash</a></li>
            <li><a class="tag p-category" href="../../categories/environment-variables/" rel="tag">environment-variables</a></li>
            <li><a class="tag p-category" href="../../categories/shell/" rel="tag">shell</a></li>
            <li><a class="tag p-category" href="../../categories/unix/" rel="tag">unix</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../what-is-the-difference-between-an-expression-and-a-statement-in-python/" rel="prev" title="What is the difference between an expression and a statement in Python?">Previous post</a>
            </li>
            <li class="next">
                <a href="../what-does-php-keyword-var-do/" rel="next" title="What does PHP keyword 'var' do?">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

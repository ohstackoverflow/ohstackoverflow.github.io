<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>How do I set the value property in AngularJS' ng-options? | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/how-do-i-set-the-value-property-in-angularjs-ng-options/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../how-to-find-the-nearest-parent-of-a-git-branch/" title="How to find the nearest parent of a Git branch" type="text/html">
<link rel="next" href="../how-to-import-existing-git-repository-into-another/" title="How to import existing Git repository into another?" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="How do I set the value property in AngularJS' ng-options?">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/how-do-i-set-the-value-property-in-angularjs-ng-options/">
<meta property="og:description" content="Here is what seems to be bothering a lot of people (including me).
When using the ng-options directive in AngularJS to fill in the options for
a &lt;select&gt; tag, I cannot figure out how to set the value ">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-18T03:37:43+08:00">
<meta property="article:tag" content="angularjs">
<meta property="article:tag" content="javascript">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">How do I set the value property in AngularJS' ng-options?</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T03:37:43+08:00" itemprop="datePublished" title="2023-02-18 03:37">2023-02-18 03:37</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>Here is what seems to be bothering a lot of people (including me).</p>
<p>When using the <code>ng-options</code> directive in AngularJS to fill in the options for
a <code>&lt;select&gt;</code> tag, I cannot figure out how to set the value for an option. The
documentation for this is really unclear - at least for a simpleton like me.</p>
<p>I can set the text for an option easily like so:</p>
<div class="code"><pre class="code literal-block"><span class="nv">ng</span><span class="o">-</span><span class="nv">options</span><span class="o">=</span><span class="s2">"select p.text for p in resultOptions"</span>
</pre></div>

<p>When <code>resultOptions</code> is for example:</p>
<div class="code"><pre class="code literal-block">[
    {
        "value": 1,
        "text": "1st"
    },
    {
        "value": 2,
        "text": "2nd"
    }
]
</pre></div>

<p>It should be (and probably is) the most simple thing to set the option values,
but so far I just don't get it.</p>
<p><br><br></p>
<h2>Answer</h2>
<blockquote>
<p>See <em>ngOptions</em></p>
<p><strong>ngOptions(optional)</strong> – {<code>comprehension_expression=</code>} – in one of the
following forms:</p>
<p><em>For array data sources</em> : <code>label for value in array</code> <code>select as label for
value in array</code> <code>label group by group for value in array</code> <code>select as label
group by group for value in array track by trackexpr</code> <em>For object data
sources:</em> <code>label for (key , value) in object</code> <code>select as label for (key ,
value) in object</code> <code>label group by group for (key, value) in object</code> <code>select
as label group by group for (key, value) in object</code></p>
</blockquote>
<p>In your case, it should be</p>
<div class="code"><pre class="code literal-block">array<span class="w"> </span>=<span class="w"> </span>[{<span class="w"> </span>"value":<span class="w"> </span>1,<span class="w"> </span>"text":<span class="w"> </span>"1st"<span class="w"> </span>},<span class="w"> </span>{<span class="w"> </span>"value":<span class="w"> </span>2,<span class="w"> </span>"text":<span class="w"> </span>"2nd"<span class="w"> </span>}];

<span class="nt">&lt;select</span><span class="w"> </span><span class="na">ng-options=</span><span class="s">"obj.value as obj.text for obj in array"</span><span class="nt">&gt;&lt;/select&gt;</span>
</pre></div>

<h3>Update</h3>
<p>With the updates on AngularJS, it is now possible to set the actual value for
the <code>value</code> attribute of <code>select</code> element with <code>track by</code> expression.</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;select</span><span class="w"> </span><span class="na">ng-options=</span><span class="s">"obj.text for obj in array track by obj.value"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/select&gt;</span>
</pre></div>

<h3>How to remember this ugly stuff</h3>
<p>To all the people who are having hard time to remember this syntax form: I
agree this isn't the most easiest or beautiful syntax. This syntax is kind of
an extended version of Python's list comprehensions and knowing that helps me
to remember the syntax very easily. It's something like this:</p>
<p>Python code:</p>
<div class="code"><pre class="code literal-block"><span class="nv">my_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="nv">x</span><span class="o">**</span><span class="mi">2</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span>[<span class="mi">1</span>,<span class="w"> </span><span class="mi">2</span>,<span class="w"> </span><span class="mi">3</span>,<span class="w"> </span><span class="mi">4</span>,<span class="w"> </span><span class="mi">5</span>]]
<span class="o">&gt;</span><span class="w"> </span>[<span class="mi">1</span>,<span class="w"> </span><span class="mi">4</span>,<span class="w"> </span><span class="mi">9</span>,<span class="w"> </span><span class="mi">16</span>,<span class="w"> </span><span class="mi">25</span>]

#<span class="w"> </span><span class="nv">Let</span><span class="w"> </span><span class="nv">people</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">be</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">list</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">person</span><span class="w"> </span><span class="nv">instances</span>
<span class="nv">my_list2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="nv">person</span>.<span class="nv">name</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">person</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">people</span>]
<span class="o">&gt;</span><span class="w"> </span><span class="nv">my_list2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="s1">'Alice'</span>,<span class="w"> </span><span class="s1">'Bob'</span>]
</pre></div>

<p>This is actually the same syntax as the first one listed above. However, in
<code>&lt;select&gt;</code> we usually need to differentiate between the actual value in code
and the text shown (the label) in a <code>&lt;select&gt;</code> element.</p>
<p>Like, we need <code>person.id</code> in the code, but we don't want to show the <code>id</code> to
the user; we want to show its name. Likewise, we're not interested in the
<code>person.name</code> in the code. There comes the <code>as</code> keyword to label stuff. So it
becomes like this:</p>
<div class="code"><pre class="code literal-block"><span class="nv">person</span>.<span class="nv">id</span><span class="w"> </span><span class="nv">as</span><span class="w"> </span><span class="nv">person</span>.<span class="nv">name</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">person</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">people</span>
</pre></div>

<p>Or, instead of <code>person.id</code> we could need the <code>person</code> instance/reference
itself. See below:</p>
<div class="code"><pre class="code literal-block"><span class="nv">person</span><span class="w"> </span><span class="nv">as</span><span class="w"> </span><span class="nv">person</span>.<span class="nv">name</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">person</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">people</span>
</pre></div>

<p>For JavaScript objects, the same method applies as well. Just remember that
the items in the object is deconstructed with <code>(key, value)</code> pairs.</p>
<p><br></p>
<h3>Suggest</h3>
<p>How the value attributes gets its value:</p>
<ul>
<li>When using an array as datasource, it will be the index of the array element in each iteration;</li>
<li>When using an object as datasource, it will be the property name in each iteration.</li>
</ul>
<p>So in your case it should be:</p>
<div class="code"><pre class="code literal-block">obj<span class="w"> </span>=<span class="w"> </span>{<span class="w"> </span>'1':<span class="w"> </span>'1st',<span class="w"> </span>'2':<span class="w"> </span>'2nd'<span class="w"> </span>};

<span class="nt">&lt;select</span><span class="w"> </span><span class="na">ng-options=</span><span class="s">"k as v for (k,v) in obj"</span><span class="nt">&gt;&lt;/select&gt;</span>
</pre></div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/angularjs/" rel="tag">angularjs</a></li>
            <li><a class="tag p-category" href="../../categories/javascript/" rel="tag">javascript</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../how-to-find-the-nearest-parent-of-a-git-branch/" rel="prev" title="How to find the nearest parent of a Git branch">Previous post</a>
            </li>
            <li class="next">
                <a href="../how-to-import-existing-git-repository-into-another/" rel="next" title="How to import existing Git repository into another?">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Why do we use Base64? | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/why-do-we-use-base64/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../convert-a-string-to-int/" title="Convert a String to int?" type="text/html">
<link rel="next" href="../what-is-the-difference-between-flatten-and-ravel-functions-in-numpy/" title="What is the difference between flatten and ravel functions in numpy?" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="Why do we use Base64?">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/why-do-we-use-base64/">
<meta property="og:description" content="Wikipedia says

Base64 encoding schemes are commonly used when there is a need to encode
binary data that needs be stored and transferred over media that are
designed to deal with textual data. This i">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-03-03T16:02:04+08:00">
<meta property="article:tag" content="algorithm">
<meta property="article:tag" content="ascii">
<meta property="article:tag" content="base64">
<meta property="article:tag" content="binary">
<meta property="article:tag" content="character-encoding">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Why do we use Base64?</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T16:02:04+08:00" itemprop="datePublished" title="2023-03-03 16:02">2023-03-03 16:02</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>Wikipedia says</p>
<blockquote>
<p>Base64 encoding schemes are commonly used when there is a need to encode
binary data that needs be stored and transferred over media that are
designed to deal with textual data. This is to ensure that the data remains
intact without modification during transport.</p>
</blockquote>
<p>But is it not that data is always stored/transmitted in binary because the
memory that our machines have store binary and it just depends how you
interpret it? So, whether you encode the bit pattern
<code>010011010110000101101110</code> as <code>Man</code> in ASCII or as <code>TWFu</code> in Base64, you are
eventually going to store the same bit pattern.</p>
<p><strong>If the ultimate encoding is in terms of zeros and ones and every machine and
media can deal with them, how does it matter if the data is represented as
ASCII or Base64?</strong></p>
<p>What does it mean "media that are designed to deal with textual data"? They
can deal with binary =&gt; they can deal with anything.</p>
<hr>
<p>Thanks everyone, I think I understand now.</p>
<p>When we send over data, we cannot be sure that the data would be interpreted
in the same format as we intended it to be. So, we send over data coded in
some format (like Base64) that both parties understand. That way even if
sender and receiver interpret same things differently, but because they agree
on the coded format, the data will not get interpreted wrongly.</p>
<p>From Mark Byers example</p>
<p>If I want to send</p>
<div class="code"><pre class="code literal-block">Hello
world!
</pre></div>

<p>One way is to send it in ASCII like</p>
<div class="code"><pre class="code literal-block"><span class="mf">72</span><span class="w"> </span><span class="mf">101</span><span class="w"> </span><span class="mf">108</span><span class="w"> </span><span class="mf">108</span><span class="w"> </span><span class="mf">111</span><span class="w"> </span><span class="mf">10</span><span class="w"> </span><span class="mf">119</span><span class="w"> </span><span class="mf">111</span><span class="w"> </span><span class="mf">114</span><span class="w"> </span><span class="mf">108</span><span class="w"> </span><span class="mf">100</span><span class="w"> </span><span class="mf">33</span>
</pre></div>

<p>But byte 10 might not be interpreted correctly as a newline at the other end.
So, we use a subset of ASCII to encode it like this</p>
<div class="code"><pre class="code literal-block"><span class="mf">83</span><span class="w"> </span><span class="mf">71</span><span class="w"> </span><span class="mf">86</span><span class="w"> </span><span class="mf">115</span><span class="w"> </span><span class="mf">98</span><span class="w"> </span><span class="mf">71</span><span class="w"> </span><span class="mf">56</span><span class="w"> </span><span class="mf">115</span><span class="w"> </span><span class="mf">67</span><span class="w"> </span><span class="mf">110</span><span class="w"> </span><span class="mf">100</span><span class="w"> </span><span class="mf">118</span><span class="w"> </span><span class="mf">99</span><span class="w"> </span><span class="mf">109</span><span class="w"> </span><span class="mf">120</span><span class="w"> </span><span class="mf">107</span><span class="w"> </span><span class="mf">73</span><span class="w"> </span><span class="mf">61</span><span class="w"> </span><span class="mf">61</span>
</pre></div>

<p>which at the cost of more data transferred for the same amount of information
ensures that the receiver can decode the data in the intended way, even if the
receiver happens to have different interpretations for the rest of the
character set.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Your first mistake is thinking that ASCII encoding and Base64 encoding are
interchangeable. They are not. They are used for different purposes.</p>
<ul>
<li>When you encode text in ASCII, you start with a text string and convert it to a sequence of bytes.</li>
<li>When you encode data in Base64, you start with a sequence of bytes and convert it to a text string.</li>
</ul>
<p>To understand why Base64 was necessary in the first place we need a little
history of computing.</p>
<hr>
<p>Computers communicate in binary - 0s and 1s - but people typically want to
communicate with more rich forms data such as text or images. In order to
transfer this data between computers it first has to be encoded into 0s and
1s, sent, then decoded again. To take text as an example - there are many
different ways to perform this encoding. It would be much simpler if we could
all agree on a single encoding, but sadly this is not the case.</p>
<p>Originally a lot of different encodings were created (e.g. Baudot code) which
used a different number of bits per character until eventually ASCII became a
standard with 7 bits per character. However most computers store binary data
in bytes consisting of 8 bits each so ASCII is unsuitable for tranferring this
type of data. Some systems would even wipe the most significant bit.
Furthermore the difference in line ending encodings across systems mean that
the ASCII character 10 and 13 were also sometimes modified.</p>
<p>To solve these problems Base64 encoding was introduced. This allows you to
encode arbitrary bytes to bytes which are known to be safe to send without
getting corrupted (ASCII alphanumeric characters and a couple of symbols). The
disadvantage is that encoding the message using Base64 increases its length -
every 3 bytes of data is encoded to 4 ASCII characters.</p>
<p>To send text reliably you can <strong>first</strong> encode to bytes using a text encoding
of your choice (for example UTF-8) and then <strong>afterwards</strong> Base64 encode the
resulting binary data into a text string that is safe to send encoded as
ASCII. The receiver will have to reverse this process to recover the original
message. This of course requires that the receiver knows which encodings were
used, and this information often needs to be sent separately.</p>
<p>Historically it has been used to encode binary data in email messages where
the email server might modify line-endings. A more modern example is the use
of Base64 encoding to embed image data directly in HTML source code. Here it
is necessary to encode the data to avoid characters like '&lt;' and '&gt;' being
interpreted as tags.</p>
<hr>
<p>Here is a working example:</p>
<p>I wish to send a text message with two lines:</p>
<div class="code"><pre class="code literal-block">Hello
world!
</pre></div>

<p>If I send it as ASCII (or UTF-8) it will look like this:</p>
<div class="code"><pre class="code literal-block"><span class="mf">72</span><span class="w"> </span><span class="mf">101</span><span class="w"> </span><span class="mf">108</span><span class="w"> </span><span class="mf">108</span><span class="w"> </span><span class="mf">111</span><span class="w"> </span><span class="mf">10</span><span class="w"> </span><span class="mf">119</span><span class="w"> </span><span class="mf">111</span><span class="w"> </span><span class="mf">114</span><span class="w"> </span><span class="mf">108</span><span class="w"> </span><span class="mf">100</span><span class="w"> </span><span class="mf">33</span>
</pre></div>

<p>The byte 10 is corrupted in some systems so we can base 64 encode these bytes
as a Base64 string:</p>
<div class="code"><pre class="code literal-block">SGVsbG8Kd29ybGQh
</pre></div>

<p>Which when encoded using ASCII looks like this:</p>
<div class="code"><pre class="code literal-block"><span class="mf">83</span><span class="w"> </span><span class="mf">71</span><span class="w"> </span><span class="mf">86</span><span class="w"> </span><span class="mf">115</span><span class="w"> </span><span class="mf">98</span><span class="w"> </span><span class="mf">71</span><span class="w"> </span><span class="mf">56</span><span class="w"> </span><span class="mf">75</span><span class="w"> </span><span class="mf">100</span><span class="w"> </span><span class="mf">50</span><span class="w"> </span><span class="mf">57</span><span class="w"> </span><span class="mf">121</span><span class="w"> </span><span class="mf">98</span><span class="w"> </span><span class="mf">71</span><span class="w"> </span><span class="mf">81</span><span class="w"> </span><span class="mf">104</span>
</pre></div>

<p>All the bytes here are known safe bytes, so there is very little chance that
any system will corrupt this message. I can send this instead of my original
message and let the receiver reverse the process to recover the original
message.</p>
<p><br></p>
<h3>Suggest</h3>
<h2>Encoding binary data in XML</h2>
<p>Suppose you want to embed a couple images within an XML document. The images
are binary data, while the XML document is text. But XML cannot handle
embedded binary data. So how do you do it?</p>
<p>One option is to encode the images in base64, turning the binary data into
text that XML can handle.</p>
<p><strong>Instead of:</strong></p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;images&gt;</span>
<span class="w">  </span><span class="nt">&lt;image</span><span class="w"> </span><span class="na">name=</span><span class="s">"Sally"</span><span class="nt">&gt;</span>{binary<span class="w"> </span>gibberish<span class="w"> </span>that<span class="w"> </span>breaks<span class="w"> </span>XML<span class="w"> </span>parsers}<span class="nt">&lt;/image&gt;</span>
<span class="w">  </span><span class="nt">&lt;image</span><span class="w"> </span><span class="na">name=</span><span class="s">"Bobby"</span><span class="nt">&gt;</span>{binary<span class="w"> </span>gibberish<span class="w"> </span>that<span class="w"> </span>breaks<span class="w"> </span>XML<span class="w"> </span>parsers}<span class="nt">&lt;/image&gt;</span>
<span class="nt">&lt;/images&gt;</span>
</pre></div>

<p><strong>you do:</strong></p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;images&gt;</span>
<span class="w">  </span><span class="nt">&lt;image</span><span class="w"> </span><span class="na">name=</span><span class="s">"Sally"</span><span class="w"> </span><span class="na">encoding=</span><span class="s">"base64"</span><span class="nt">&gt;</span>j23894uaiAJSD3234kljasjkSD...<span class="nt">&lt;/image&gt;</span>
<span class="w">  </span><span class="nt">&lt;image</span><span class="w"> </span><span class="na">name=</span><span class="s">"Bobby"</span><span class="w"> </span><span class="na">encoding=</span><span class="s">"base64"</span><span class="nt">&gt;</span>Ja3k23JKasil3452AsdfjlksKsasKD...<span class="nt">&lt;/image&gt;</span>
<span class="nt">&lt;/images&gt;</span>
</pre></div>

<p>And the XML parser will be able to parse the XML document correctly and
extract the image data.</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/algorithm/" rel="tag">algorithm</a></li>
            <li><a class="tag p-category" href="../../categories/ascii/" rel="tag">ascii</a></li>
            <li><a class="tag p-category" href="../../categories/base64/" rel="tag">base64</a></li>
            <li><a class="tag p-category" href="../../categories/binary/" rel="tag">binary</a></li>
            <li><a class="tag p-category" href="../../categories/character-encoding/" rel="tag">character-encoding</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../convert-a-string-to-int/" rel="prev" title="Convert a String to int?">Previous post</a>
            </li>
            <li class="next">
                <a href="../what-is-the-difference-between-flatten-and-ravel-functions-in-numpy/" rel="next" title="What is the difference between flatten and ravel functions in numpy?">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

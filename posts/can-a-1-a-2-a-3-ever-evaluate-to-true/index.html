<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Can (a== 1 &amp;&amp; a ==2 &amp;&amp; a==3) ever evaluate to true? | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/can-a-1-a-2-a-3-ever-evaluate-to-true/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../does-a-finally-block-always-get-executed-in-java/" title="Does a finally block always get executed in Java?" type="text/html">
<link rel="next" href="../what-does-o-log-n-mean-exactly/" title="What does O(log n) mean exactly?" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="Can (a== 1 &amp;&amp; a ==2 &amp;&amp; a==3) ever evaluate to true?">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/can-a-1-a-2-a-3-ever-evaluate-to-true/">
<meta property="og:description" content="Want to improve this post? Provide detailed answers to this question,
including citations and an explanation of why your answer is correct. Answers
without enough detail may be edited or deleted.

Mod">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-16T20:57:39+08:00">
<meta property="article:tag" content="ecmascript-6">
<meta property="article:tag" content="javascript">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Can (a== 1 &amp;&amp; a ==2 &amp;&amp; a==3) ever evaluate to true?</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T20:57:39+08:00" itemprop="datePublished" title="2023-02-16 20:57">2023-02-16 20:57</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p><strong>Want to improve this post?</strong> Provide detailed answers to this question,
including citations and an explanation of why your answer is correct. Answers
without enough detail may be edited or deleted.</p>
<blockquote>
<p><strong>Moderator note:</strong> Please resist the urge to edit the code or remove this
notice. The pattern of whitespace may be part of the question and therefore
should not be tampered with unnecessarily. If you are in the "whitespace is
insignificant" camp, you should be able to accept the code as is.</p>
</blockquote>
<p>Is it ever possible that <code>(a== 1 &amp;&amp; a ==2 &amp;&amp; a==3)</code> could evaluate to <code>true</code>
in JavaScript?</p>
<p>This is an interview question asked by a major tech company. It happened two
weeks back, but I'm still trying to find the answer. I know we never write
such code in our day-to-day job, but I'm curious.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>If you take advantage of how <code>==</code> works, you could simply create an object
with a custom <code>toString</code> (or <code>valueOf</code>) function that changes what it returns
each time it is used such that it satisfies all three conditions.</p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">i</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">  </span><span class="n">toString</span><span class="p">:</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="o">.</span><span class="n">i</span><span class="o">++</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">if</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s1">'Hello World!'</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

<hr>
<p>The reason this works is due to the use of the loose equality operator. When
using loose equality, if one of the operands is of a different type than the
other, the engine will attempt to convert one to the other. In the case of an
object on the left and a number on the right, it will attempt to convert the
object to a number by first calling <code>valueOf</code> if it is callable, and failing
that, it will call <code>toString</code>. I used <code>toString</code> in this case simply because
it's what came to mind, <code>valueOf</code> would make more sense. If I instead returned
a string from <code>toString</code>, the engine would have then attempted to convert the
string to a number giving us the same end result, though with a slightly
longer path.</p>
<p><br></p>
<h3>Suggest</h3>
<p>I couldn't resist - the other answers are undoubtedly true, but you really
can't walk past the following code:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">aﾠ</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="k">var</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="k">var</span><span class="w"> </span><span class="err">ﾠ</span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<span class="k">if</span><span class="p">(</span><span class="n">aﾠ</span><span class="o">==</span><span class="mi">1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">a</span><span class="o">==</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="err">ﾠ</span><span class="n">a</span><span class="o">==</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s2">"Why hello there!"</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>

<p>Note the weird spacing in the <code>if</code> statement (that I copied from your
question). It is the half-width Hangul (that's Korean for those not familiar)
which is an Unicode space character that is not interpreted by ECMA script as
a space character - this means that it is a valid character for an identifier.
Therefore there are three completely different variables, one with the Hangul
after the a, one with it before and the last one with just a. Replacing the
space with <code>_</code> for readability, the same code would look like this:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">a_</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="k">var</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="k">var</span><span class="w"> </span><span class="n">_a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<span class="k">if</span><span class="p">(</span><span class="n">a_</span><span class="o">==</span><span class="mi">1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">a</span><span class="o">==</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="n">_a</span><span class="o">==</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s2">"Why hello there!"</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>

<p>Check out the validation on Mathias' variable name validator. If that weird
spacing was actually included in their question, I feel sure that it's a hint
for this kind of answer.</p>
<p>Don't do this. Seriously.</p>
<p>Edit: It has come to my attention that (although not allowed to start a
variable) the Zero-width joiner and Zero-width non-joiner characters are also
permitted in variable names - see Obfuscating JavaScript with zero-width
characters - pros and cons?.</p>
<p>This would look like the following:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">a</span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="k">var</span><span class="w"> </span><span class="n">a</span><span class="err">‍</span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="o">//</span><span class="n">one</span><span class="w"> </span><span class="n">zero</span><span class="o">-</span><span class="n">width</span><span class="w"> </span><span class="n">character</span>
<span class="k">var</span><span class="w"> </span><span class="n">a</span><span class="err">‍‍</span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w"> </span><span class="o">//</span><span class="n">two</span><span class="w"> </span><span class="n">zero</span><span class="o">-</span><span class="n">width</span><span class="w"> </span><span class="n">characters</span><span class="w"> </span><span class="p">(</span><span class="ow">or</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">one</span><span class="p">)</span>
<span class="k">if</span><span class="p">(</span><span class="n">a</span><span class="o">==</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="n">a</span><span class="err">‍</span><span class="o">==</span><span class="mi">2</span><span class="o">&amp;&amp;</span><span class="n">a</span><span class="err">‍‍</span><span class="o">==</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s2">"Why hello there!"</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/ecmascript-6/" rel="tag">ecmascript-6</a></li>
            <li><a class="tag p-category" href="../../categories/javascript/" rel="tag">javascript</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../does-a-finally-block-always-get-executed-in-java/" rel="prev" title="Does a finally block always get executed in Java?">Previous post</a>
            </li>
            <li class="next">
                <a href="../what-does-o-log-n-mean-exactly/" rel="next" title="What does O(log n) mean exactly?">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Get the length of a String | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/get-the-length-of-a-string/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../what-is-the-difference-between-range-and-xrange-functions-in-python-2-x/" title="What is the difference between range and xrange functions in Python 2.X?" type="text/html">
<link rel="next" href="../how-do-i-discover-memory-usage-of-my-application-in-android/" title="How do I discover memory usage of my application in Android?" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="Get the length of a String">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/get-the-length-of-a-string/">
<meta property="og:description" content="How do you get the length of a String? For example, I have a variable
defined like:
var test1: String = &quot;Scott&quot;


However, I can't seem to find a length method on the string.

Answer
As of Swift 4+
It">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-17T12:06:22+08:00">
<meta property="article:tag" content="cocoa-touch">
<meta property="article:tag" content="ios">
<meta property="article:tag" content="string">
<meta property="article:tag" content="swift">
<meta property="article:tag" content="xcode">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Get the length of a String</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T12:06:22+08:00" itemprop="datePublished" title="2023-02-17 12:06">2023-02-17 12:06</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>How do you get the length of a <code>String</code>? For example, I have a variable
defined like:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">test1</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">String</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Scott"</span>
</pre></div>

<p>However, I can't seem to find a length method on the string.</p>
<p><br><br></p>
<h2>Answer</h2>
<p><strong>As of Swift 4+</strong></p>
<p>It's just:</p>
<div class="code"><pre class="code literal-block">test1.count
</pre></div>

<p>for reasons.</p>
<p>(Thanks to Martin R)</p>
<p><strong>As of Swift 2:</strong></p>
<p>With Swift 2, Apple has changed global functions to protocol extensions,
extensions that match any type conforming to a protocol. Thus the new syntax
is:</p>
<div class="code"><pre class="code literal-block">test1.characters.count
</pre></div>

<p>(Thanks to JohnDifool for the heads up)</p>
<p><strong>As of Swift 1</strong></p>
<p>Use the count characters method:</p>
<div class="code"><pre class="code literal-block">let unusualMenagerie = "Koala &amp;#128040;, Snail &amp;#128012;, Penguin &amp;#128039;, Dromedary &amp;#128042;"
println("unusualMenagerie has \(count(unusualMenagerie)) characters")
// prints "unusualMenagerie has 40 characters"
</pre></div>

<p>right from the Apple Swift Guide</p>
<p>(note, for versions of Swift earlier than 1.2, this would be
<code>countElements(unusualMenagerie)</code> instead)</p>
<p>for your variable, it would be</p>
<div class="code"><pre class="code literal-block">length = count(test1) // was countElements in earlier versions of Swift
</pre></div>

<p>Or you can use test1.utf16count</p>
<p><br></p>
<h3>Suggest</h3>
<h2>TLDR:</h2>
<p>For <strong>Swift 2.0 and 3.0,</strong> use <code>test1.characters.count</code>. But, there are a few
things you should know. So, read on.</p>
<h2>Counting characters in Swift</h2>
<p>Before Swift 2.0, <code>count</code> was a global function. As of Swift 2.0, it can be
called as a member function.</p>
<div class="code"><pre class="code literal-block">test1.characters.count
</pre></div>

<p>It will return the actual number of Unicode characters in a <code>String</code>, so it's
the most correct alternative in the sense that, if you'd print the string and
count characters by hand, you'd get the same result.</p>
<p>However, because of the way <code>Strings</code> are implemented in Swift, characters
don't always take up the same amount of memory, so be aware that this behaves
quite differently than the usual character count methods in other languages.</p>
<p>For example, you can also use <code>test1.utf16.count</code></p>
<p>But, as noted below, the returned value is not guaranteed to be the same as
that of calling <code>count</code> on <code>characters</code>.</p>
<p>From the language reference:</p>
<blockquote>
<p>Extended grapheme clusters can be composed of one or more Unicode scalars.
This means that different characters—and different representations of the
same character—can require different amounts of memory to store. Because of
this, characters in Swift do not each take up the same amount of memory
within a string’s representation. As a result, the number of characters in a
string cannot be calculated without iterating through the string to
determine its extended grapheme cluster boundaries. If you are working with
particularly long string values, be aware that the characters property must
iterate over the Unicode scalars in the entire string in order to determine
the characters for that string.</p>
<p>The count of the characters returned by the characters property is not
always the same as the length property of an NSString that contains the same
characters. The length of an NSString is based on the number of 16-bit code
units within the string’s UTF-16 representation and not the number of
Unicode extended grapheme clusters within the string.</p>
</blockquote>
<p>An example that perfectly illustrates the situation described above is that of
checking the length of a string containing a single emoji character, as
pointed out by n00neimp0rtant in the comments.</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">emoji</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"👍"</span>
<span class="n">emoji</span><span class="o">.</span><span class="n">characters</span><span class="o">.</span><span class="n">count</span><span class="w">             </span><span class="o">//</span><span class="n">returns</span><span class="w"> </span><span class="mi">1</span>
<span class="n">emoji</span><span class="o">.</span><span class="n">utf16</span><span class="o">.</span><span class="n">count</span><span class="w">                  </span><span class="o">//</span><span class="n">returns</span><span class="w"> </span><span class="mi">2</span>
</pre></div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/cocoa-touch/" rel="tag">cocoa-touch</a></li>
            <li><a class="tag p-category" href="../../categories/ios/" rel="tag">ios</a></li>
            <li><a class="tag p-category" href="../../categories/string/" rel="tag">string</a></li>
            <li><a class="tag p-category" href="../../categories/swift/" rel="tag">swift</a></li>
            <li><a class="tag p-category" href="../../categories/xcode/" rel="tag">xcode</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../what-is-the-difference-between-range-and-xrange-functions-in-python-2-x/" rel="prev" title="What is the difference between range and xrange functions in Python 2.X?">Previous post</a>
            </li>
            <li class="next">
                <a href="../how-do-i-discover-memory-usage-of-my-application-in-android/" rel="next" title="How do I discover memory usage of my application in Android?">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

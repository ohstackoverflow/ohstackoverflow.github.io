<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Is there a way to get the source code from an APK file? | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/is-there-a-way-to-get-the-source-code-from-an-apk-file/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../what-is-the-difference-between-gravity-and-layout-gravity-in-android/" title="What is the difference between gravity and layout_gravity in Android?" type="text/html">
<link rel="next" href="../proper-mime-media-type-for-pdf-files/" title="Proper MIME media type for PDF files" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="Is there a way to get the source code from an APK file?">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/is-there-a-way-to-get-the-source-code-from-an-apk-file/">
<meta property="og:description" content="The hard drive on my laptop just crashed and I lost all the source code for an
app that I have been working on for the past two months. All I have is the APK
file that is stored in my email from when ">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-17T02:19:12+08:00">
<meta property="article:tag" content="android">
<meta property="article:tag" content="android-resources">
<meta property="article:tag" content="apk">
<meta property="article:tag" content="decompiling">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Is there a way to get the source code from an APK file?</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T02:19:12+08:00" itemprop="datePublished" title="2023-02-17 02:19">2023-02-17 02:19</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>The hard drive on my laptop just crashed and I lost all the source code for an
app that I have been working on for the past two months. All I have is the APK
file that is stored in my email from when I sent it to a friend.</p>
<p>Is there any way to extract my source code from this APK file?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Simplest way: use the online tool Decompiler, upload the apk and get the
source code.</p>
<hr>
<p>Procedure for decoding .apk files, step-by-step method:</p>
<h4>Step 1:</h4>
<ol>
<li>
<p>Make a new folder and copy over the .apk file that you want to decode.</p>
</li>
<li>
<p>Now rename the extension of this .apk file to .zip (rename from filename.apk to filename.zip) and save it. Now you can access the classes.dex files. At this stage, you are able to see drawables, but not the .xml and .java files.</p>
</li>
</ol>
<h4>Step 2:</h4>
<ol>
<li>
<p>Now extract this .zip file in the same folder or a new folder.</p>
</li>
<li>
<p>Download dex2jar (Don't download the code, click on the releases button that's on the right, then download the file named <code>dex2jar-X.X.zip</code>) and extract it to the same folder or a new folder.</p>
</li>
<li>
<p>Move the classes.dex file into the dex2jar folder.</p>
</li>
<li>
<p>Now open Command Prompt and change the directory to that folder. Then write <code>d2j-dex2jar classes.dex</code> (for Mac or Ubuntu write <code>./d2j-dex2jar.sh classes.dex</code>) and press enter. You now have the classes.dex.dex2jar file in the same folder.</p>
</li>
<li>
<p>Download java decompiler, Right click on jd-gui, click on Open File, and open classes.dex.dex2jar file from that folder: Now you get the class files.</p>
</li>
<li>
<p>Save all of these class files (In jd-gui, click File -&gt; Save All Sources) by src name. At this stage, you get the Java code but the .xml files are still unreadable.</p>
</li>
</ol>
<h4>Step 3:</h4>
<p>Now open another new folder</p>
<ol>
<li>
<p>Put in the .apk file which you want to decode</p>
</li>
<li>
<p>Download the latest version of apktool <strong>AND</strong> apktool install window (both can be downloaded from the same link) and place them in the same folder</p>
</li>
<li>
<p>Open the Command Prompt</p>
</li>
<li>
<p>Now run command <code>apktool if framework-res.apk</code> (if you don't have it get it here)and next</p>
</li>
<li>
<p><code>apktool d myApp.apk</code> (myApp.apk denotes the filename that you want to decode)</p>
</li>
</ol>
<p>Now you get a file folder in that folder and can easily read the .xml files.</p>
<h4>Step 4:</h4>
<p>It's not any step, just copy the contents of both folders (both new folders)
to the single one</p>
<p>AND ENJOY THE SOURCE CODE!</p>
<p><br></p>
<h3>Suggest</h3>
<p>This is an alternative description - just in case someone got stuck with the
description above. Follow the steps:</p>
<ol>
<li>download <code>apktool.bat</code> (or <code>apktool</code> for Linux) and <code>apktool_&lt;version&gt;.jar</code> from http://ibotpeaches.github.io/Apktool/install/ </li>
<li>
<p>rename the jar file from above to <code>apktool.jar</code> and put both files in the same folder</p>
</li>
<li>
<p>open a dos box (<code>cmd.exe</code>) and change into that folder; verify that a Java Environment is installed (for Linux check the notes regarding required libraries as well)</p>
</li>
<li>Start: <code>apktool decode [apk file]</code>
</li>
</ol>
<p><em>Intermediate result</em> : resource files, <code>AndroidManifest.xml</code></p>
<ol>
<li>unzip APK file with an unpacker of your choice</li>
</ol>
<p><em>Intermediate result</em> : <code>classes.dex</code></p>
<ol>
<li>download and extract <code>dex2jar-0.0.9.15.zip</code> from http://code.google.com/p/dex2jar/downloads/detail?name=dex2jar-0.0.9.15.zip&amp;can=2&amp;q=</li>
<li>drag and drop <code>classes.dex</code> onto <code>dex2jar.bat</code> (or enter <code>&lt;path_to&gt;\dex2jar.bat classes.dex</code> in a DOS box; for Linux use <code>dex2jar.sh</code>)</li>
</ol>
<p><em>Intermediate result</em> : <code>classes_dex2jar.jar</code></p>
<ol>
<li>unpack <code>classes_dex2jar.jar</code> (might be optional depending on used decompiler)</li>
<li>decompile your class files (e.g. with JD-GUI or DJ Decompiler)</li>
</ol>
<p><em>Result</em> : source code</p>
<p>Note: it is not allowed to decompile third party packages; this guide is
intended to recover personal source code from an APK file only; finally, the
resulting code will most likely be obfuscated</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/android/" rel="tag">android</a></li>
            <li><a class="tag p-category" href="../../categories/android-resources/" rel="tag">android-resources</a></li>
            <li><a class="tag p-category" href="../../categories/apk/" rel="tag">apk</a></li>
            <li><a class="tag p-category" href="../../categories/decompiling/" rel="tag">decompiling</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../what-is-the-difference-between-gravity-and-layout-gravity-in-android/" rel="prev" title="What is the difference between gravity and layout_gravity in Android?">Previous post</a>
            </li>
            <li class="next">
                <a href="../proper-mime-media-type-for-pdf-files/" rel="next" title="Proper MIME media type for PDF files">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

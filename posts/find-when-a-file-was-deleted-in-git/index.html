<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Find when a file was deleted in Git | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/find-when-a-file-was-deleted-in-git/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../check-if-checkbox-is-checked-with-jquery/" title="Check if checkbox is checked with jQuery" type="text/html">
<link rel="next" href="../turning-off-auto-indent-when-pasting-text-into-vim/" title="Turning off auto indent when pasting text into vim" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="Find when a file was deleted in Git">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/find-when-a-file-was-deleted-in-git/">
<meta property="og:description" content="I have a Git repository with n commits.
I have a file that I need, and that used to be in the repository, and that I
suddenly look for and think &quot;Oh! Where'd that file go?&quot;
Is there a (series of) Git ">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-17T02:12:07+08:00">
<meta property="article:tag" content="git">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Find when a file was deleted in Git</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T02:12:07+08:00" itemprop="datePublished" title="2023-02-17 02:12">2023-02-17 02:12</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>I have a Git repository with n commits.</p>
<p>I have a file that I need, and that used to be in the repository, and that I
suddenly look for and think "Oh! Where'd that file go?"</p>
<p>Is there a (series of) Git command(s) that will tell me that "file
really_needed.txt was deleted at commit n-13"?</p>
<p>In other words, without looking at every individual commit, and knowing that
my Git repo has every change of every file, can I quickly find the last commit
that HAS that file, so I can get it back?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>To show the commits that changed a file, even if the file was deleted, run
this command:</p>
<div class="code"><pre class="code literal-block"><span class="n">git</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="o">--</span><span class="n">full</span><span class="o">-</span><span class="n">history</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="p">[</span><span class="n">file</span><span class="w"> </span><span class="n">path</span><span class="p">]</span>
</pre></div>

<p>If you want to see only the last commit, which deleted the file, use <code>-1</code> in
addition to the command above:</p>
<div class="code"><pre class="code literal-block"><span class="n">git</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="o">--</span><span class="n">full</span><span class="o">-</span><span class="n">history</span><span class="w"> </span><span class="mi">-1</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="p">[</span><span class="n">file</span><span class="w"> </span><span class="n">path</span><span class="p">]</span>
</pre></div>

<p>See also my article: Which commit deleted a file.</p>
<p><br></p>
<h3>Suggest</h3>
<h4>Short answer:</h4>
<div class="code"><pre class="code literal-block">git log --full-history -- your_file
</pre></div>

<p>will show you <em>all</em> commits in your repo's history, including merge commits,
that touched <code>your_file</code>. The last (top) one is the one that deleted the file.</p>
<h4>Some explanation:</h4>
<p>The <code>--full-history</code> flag here is important. Without it, Git performs "history
simplification" when you ask it for the log of a file. The docs are light on
details about exactly how this works and I lack the grit and courage required
to try to figure it out from the source code, but the git-log docs have this
much to say:</p>
<blockquote>
<h4>Default mode</h4>
<p>Simplifies the history to the simplest history explaining the final state of
the tree. Simplest because it prunes some side branches if the end result is
the same (i.e. merging branches with the same content)</p>
</blockquote>
<p>This is obviously concerning when the file whose history we want is <em>deleted</em>
, since the simplest history explaining the final state of a deleted file is
<em>no history</em>. Is there a risk that <code>git log</code> without <code>--full-history</code> will
simply claim that the file was never created? Unfortunately, yes. Here's a
demonstration:</p>
<div class="code"><pre class="code literal-block"><span class="n">mark</span><span class="nv">@lunchbox</span><span class="err">:</span><span class="o">~/</span><span class="n">example</span><span class="err">$</span><span class="w"> </span><span class="o">**</span><span class="n">_git</span><span class="w"> </span><span class="n">init_</span><span class="o">**</span>
<span class="n">Initialised</span><span class="w"> </span><span class="n">empty</span><span class="w"> </span><span class="n">Git</span><span class="w"> </span><span class="n">repository</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">mark</span><span class="o">/</span><span class="n">example</span><span class="o">/</span><span class="p">.</span><span class="n">git</span><span class="o">/</span>
<span class="n">mark</span><span class="nv">@lunchbox</span><span class="err">:</span><span class="o">~/</span><span class="n">example</span><span class="err">$</span><span class="w"> </span><span class="o">**</span><span class="n">_touch</span><span class="w"> </span><span class="n">foo</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="n">foo</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="k">commit</span><span class="w"> </span><span class="o">-</span><span class="n">m</span><span class="w"> </span><span class="ss">"Added foo"</span><span class="n">_</span><span class="o">**</span>
<span class="o">[</span><span class="n">master (root-commit) ddff7a7</span><span class="o">]</span><span class="w"> </span><span class="n">Added</span><span class="w"> </span><span class="n">foo</span>
<span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">file</span><span class="w"> </span><span class="n">changed</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">insertions</span><span class="p">(</span><span class="o">+</span><span class="p">),</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">deletions</span><span class="p">(</span><span class="o">-</span><span class="p">)</span>
<span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="mi">100644</span><span class="w"> </span><span class="n">foo</span>
<span class="n">mark</span><span class="nv">@lunchbox</span><span class="err">:</span><span class="o">~/</span><span class="n">example</span><span class="err">$</span><span class="w"> </span><span class="o">**</span><span class="n">_git</span><span class="w"> </span><span class="n">checkout</span><span class="w"> </span><span class="o">-</span><span class="n">b</span><span class="w"> </span><span class="n">newbranch_</span><span class="o">**</span>
<span class="n">Switched</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">branch</span><span class="w"> </span><span class="s1">'newbranch'</span>
<span class="n">mark</span><span class="nv">@lunchbox</span><span class="err">:</span><span class="o">~/</span><span class="n">example</span><span class="err">$</span><span class="w"> </span><span class="o">**</span><span class="n">_touch</span><span class="w"> </span><span class="n">bar</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="n">bar</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="k">commit</span><span class="w"> </span><span class="o">-</span><span class="n">m</span><span class="w"> </span><span class="ss">"Added bar"</span><span class="n">_</span><span class="o">**</span>
<span class="o">[</span><span class="n">newbranch 7f9299a</span><span class="o">]</span><span class="w"> </span><span class="n">Added</span><span class="w"> </span><span class="n">bar</span>
<span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">file</span><span class="w"> </span><span class="n">changed</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">insertions</span><span class="p">(</span><span class="o">+</span><span class="p">),</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">deletions</span><span class="p">(</span><span class="o">-</span><span class="p">)</span>
<span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="mi">100644</span><span class="w"> </span><span class="n">bar</span>
<span class="n">mark</span><span class="nv">@lunchbox</span><span class="err">:</span><span class="o">~/</span><span class="n">example</span><span class="err">$</span><span class="w"> </span><span class="o">**</span><span class="n">_git</span><span class="w"> </span><span class="n">checkout</span><span class="w"> </span><span class="n">master_</span><span class="o">**</span>
<span class="n">Switched</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">branch</span><span class="w"> </span><span class="s1">'master'</span>
<span class="n">mark</span><span class="nv">@lunchbox</span><span class="err">:</span><span class="o">~/</span><span class="n">example</span><span class="err">$</span><span class="w"> </span><span class="o">**</span><span class="n">_git</span><span class="w"> </span><span class="n">rm</span><span class="w"> </span><span class="n">foo</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="k">commit</span><span class="w"> </span><span class="o">-</span><span class="n">m</span><span class="w"> </span><span class="ss">"Deleted foo"</span><span class="n">_</span><span class="o">**</span>
<span class="n">rm</span><span class="w"> </span><span class="s1">'foo'</span>
<span class="o">[</span><span class="n">master 7740344</span><span class="o">]</span><span class="w"> </span><span class="n">Deleted</span><span class="w"> </span><span class="n">foo</span>
<span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">file</span><span class="w"> </span><span class="n">changed</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">insertions</span><span class="p">(</span><span class="o">+</span><span class="p">),</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">deletions</span><span class="p">(</span><span class="o">-</span><span class="p">)</span>
<span class="w"> </span><span class="k">delete</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="mi">100644</span><span class="w"> </span><span class="n">foo</span>
<span class="n">mark</span><span class="nv">@lunchbox</span><span class="err">:</span><span class="o">~/</span><span class="n">example</span><span class="err">$</span><span class="w"> </span><span class="o">**</span><span class="n">_git</span><span class="w"> </span><span class="n">checkout</span><span class="w"> </span><span class="n">newbranch_</span><span class="o">**</span>
<span class="n">Switched</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">branch</span><span class="w"> </span><span class="s1">'newbranch'</span>
<span class="n">mark</span><span class="nv">@lunchbox</span><span class="err">:</span><span class="o">~/</span><span class="n">example</span><span class="err">$</span><span class="w"> </span><span class="o">**</span><span class="n">_git</span><span class="w"> </span><span class="n">rm</span><span class="w"> </span><span class="n">bar</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="k">commit</span><span class="w"> </span><span class="o">-</span><span class="n">m</span><span class="w"> </span><span class="ss">"Deleted bar"</span><span class="n">_</span><span class="o">**</span>
<span class="n">rm</span><span class="w"> </span><span class="s1">'bar'</span>
<span class="o">[</span><span class="n">newbranch 873ed35</span><span class="o">]</span><span class="w"> </span><span class="n">Deleted</span><span class="w"> </span><span class="n">bar</span>
<span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">file</span><span class="w"> </span><span class="n">changed</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">insertions</span><span class="p">(</span><span class="o">+</span><span class="p">),</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">deletions</span><span class="p">(</span><span class="o">-</span><span class="p">)</span>
<span class="w"> </span><span class="k">delete</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="mi">100644</span><span class="w"> </span><span class="n">bar</span>
<span class="n">mark</span><span class="nv">@lunchbox</span><span class="err">:</span><span class="o">~/</span><span class="n">example</span><span class="err">$</span><span class="w"> </span><span class="o">**</span><span class="n">_git</span><span class="w"> </span><span class="n">checkout</span><span class="w"> </span><span class="n">master_</span><span class="o">**</span>
<span class="n">Switched</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">branch</span><span class="w"> </span><span class="s1">'master'</span>
<span class="n">mark</span><span class="nv">@lunchbox</span><span class="err">:</span><span class="o">~/</span><span class="n">example</span><span class="err">$</span><span class="w"> </span><span class="o">**</span><span class="n">_git</span><span class="w"> </span><span class="k">merge</span><span class="w"> </span><span class="n">newbranch_</span><span class="o">**</span>
<span class="n">Already</span><span class="w"> </span><span class="n">up</span><span class="o">-</span><span class="k">to</span><span class="o">-</span><span class="nc">date</span><span class="err">!</span>
<span class="k">Merge</span><span class="w"> </span><span class="n">made</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="s1">'recursive'</span><span class="w"> </span><span class="n">strategy</span><span class="p">.</span>
<span class="n">mark</span><span class="nv">@lunchbox</span><span class="err">:</span><span class="o">~/</span><span class="n">example</span><span class="err">$</span><span class="w"> </span><span class="o">**</span><span class="n">_git</span><span class="w"> </span><span class="nf">log</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">foo_</span><span class="o">**</span>
<span class="k">commit</span><span class="w"> </span><span class="mi">77403443</span><span class="n">a13a93073289f95a782307b1ebc21162</span>
<span class="nl">Author</span><span class="p">:</span><span class="w"> </span><span class="n">Mark</span><span class="w"> </span><span class="n">Amery</span><span class="w"> </span>
<span class="nc">Date</span><span class="err">:</span><span class="w">   </span><span class="n">Tue</span><span class="w"> </span><span class="n">Jan</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="mi">22</span><span class="err">:</span><span class="mi">50</span><span class="err">:</span><span class="mi">50</span><span class="w"> </span><span class="mi">2016</span><span class="w"> </span><span class="o">+</span><span class="mi">0000</span>

<span class="w">    </span><span class="n">Deleted</span><span class="w"> </span><span class="n">foo</span>

<span class="k">commit</span><span class="w"> </span><span class="n">ddff7a78068aefb7a4d19c82e718099cf57be694</span>
<span class="nl">Author</span><span class="p">:</span><span class="w"> </span><span class="n">Mark</span><span class="w"> </span><span class="n">Amery</span><span class="w"> </span>
<span class="nc">Date</span><span class="err">:</span><span class="w">   </span><span class="n">Tue</span><span class="w"> </span><span class="n">Jan</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="mi">22</span><span class="err">:</span><span class="mi">50</span><span class="err">:</span><span class="mi">19</span><span class="w"> </span><span class="mi">2016</span><span class="w"> </span><span class="o">+</span><span class="mi">0000</span>

<span class="w">    </span><span class="n">Added</span><span class="w"> </span><span class="n">foo</span>
<span class="n">mark</span><span class="nv">@lunchbox</span><span class="err">:</span><span class="o">~/</span><span class="n">example</span><span class="err">$</span><span class="w"> </span><span class="o">**</span><span class="n">_git</span><span class="w"> </span><span class="nf">log</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">bar_</span><span class="o">**</span>
<span class="n">mark</span><span class="nv">@lunchbox</span><span class="err">:</span><span class="o">~/</span><span class="n">example</span><span class="err">$</span><span class="w"> </span><span class="o">**</span><span class="n">_git</span><span class="w"> </span><span class="nf">log</span><span class="w"> </span><span class="o">--</span><span class="k">full</span><span class="o">-</span><span class="n">history</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">foo_</span><span class="o">**</span>
<span class="k">commit</span><span class="w"> </span><span class="mf">2463e56</span><span class="n">a21e8ee529a59b63f2c6fcc9914a2b37c</span>
<span class="k">Merge</span><span class="err">:</span><span class="w"> </span><span class="mi">7740344</span><span class="w"> </span><span class="mi">873</span><span class="n">ed35</span>
<span class="nl">Author</span><span class="p">:</span><span class="w"> </span><span class="n">Mark</span><span class="w"> </span><span class="n">Amery</span><span class="w"> </span>
<span class="nc">Date</span><span class="err">:</span><span class="w">   </span><span class="n">Tue</span><span class="w"> </span><span class="n">Jan</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="mi">22</span><span class="err">:</span><span class="mi">51</span><span class="err">:</span><span class="mi">36</span><span class="w"> </span><span class="mi">2016</span><span class="w"> </span><span class="o">+</span><span class="mi">0000</span>

<span class="w">    </span><span class="k">Merge</span><span class="w"> </span><span class="n">branch</span><span class="w"> </span><span class="s1">'newbranch'</span>

<span class="k">commit</span><span class="w"> </span><span class="mi">77403443</span><span class="n">a13a93073289f95a782307b1ebc21162</span>
<span class="nl">Author</span><span class="p">:</span><span class="w"> </span><span class="n">Mark</span><span class="w"> </span><span class="n">Amery</span><span class="w"> </span>
<span class="nc">Date</span><span class="err">:</span><span class="w">   </span><span class="n">Tue</span><span class="w"> </span><span class="n">Jan</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="mi">22</span><span class="err">:</span><span class="mi">50</span><span class="err">:</span><span class="mi">50</span><span class="w"> </span><span class="mi">2016</span><span class="w"> </span><span class="o">+</span><span class="mi">0000</span>

<span class="w">    </span><span class="n">Deleted</span><span class="w"> </span><span class="n">foo</span>

<span class="k">commit</span><span class="w"> </span><span class="n">ddff7a78068aefb7a4d19c82e718099cf57be694</span>
<span class="nl">Author</span><span class="p">:</span><span class="w"> </span><span class="n">Mark</span><span class="w"> </span><span class="n">Amery</span><span class="w"> </span>
<span class="nc">Date</span><span class="err">:</span><span class="w">   </span><span class="n">Tue</span><span class="w"> </span><span class="n">Jan</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="mi">22</span><span class="err">:</span><span class="mi">50</span><span class="err">:</span><span class="mi">19</span><span class="w"> </span><span class="mi">2016</span><span class="w"> </span><span class="o">+</span><span class="mi">0000</span>

<span class="w">    </span><span class="n">Added</span><span class="w"> </span><span class="n">foo</span>
<span class="n">mark</span><span class="nv">@lunchbox</span><span class="err">:</span><span class="o">~/</span><span class="n">example</span><span class="err">$</span><span class="w"> </span><span class="o">**</span><span class="n">_git</span><span class="w"> </span><span class="nf">log</span><span class="w"> </span><span class="o">--</span><span class="k">full</span><span class="o">-</span><span class="n">history</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">bar_</span><span class="o">**</span>
<span class="k">commit</span><span class="w"> </span><span class="mi">873</span><span class="n">ed352c5e0f296b26d1582b3b0b2d99e40d37c</span>
<span class="nl">Author</span><span class="p">:</span><span class="w"> </span><span class="n">Mark</span><span class="w"> </span><span class="n">Amery</span><span class="w"> </span>
<span class="nc">Date</span><span class="err">:</span><span class="w">   </span><span class="n">Tue</span><span class="w"> </span><span class="n">Jan</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="mi">22</span><span class="err">:</span><span class="mi">51</span><span class="err">:</span><span class="mi">29</span><span class="w"> </span><span class="mi">2016</span><span class="w"> </span><span class="o">+</span><span class="mi">0000</span>

<span class="w">    </span><span class="n">Deleted</span><span class="w"> </span><span class="n">bar</span>

<span class="k">commit</span><span class="w"> </span><span class="mi">7</span><span class="n">f9299a80cc9114bf9f415e1e9a849f5d02f94ec</span>
<span class="nl">Author</span><span class="p">:</span><span class="w"> </span><span class="n">Mark</span><span class="w"> </span><span class="n">Amery</span><span class="w"> </span>
<span class="nc">Date</span><span class="err">:</span><span class="w">   </span><span class="n">Tue</span><span class="w"> </span><span class="n">Jan</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="mi">22</span><span class="err">:</span><span class="mi">50</span><span class="err">:</span><span class="mi">38</span><span class="w"> </span><span class="mi">2016</span><span class="w"> </span><span class="o">+</span><span class="mi">0000</span>

<span class="w">    </span><span class="n">Added</span><span class="w"> </span><span class="n">bar</span>
</pre></div>

<p>Notice how <code>git log -- bar</code> in the terminal dump above resulted in literally
no output; Git is "simplifying" history down into a fiction where <code>bar</code> never
existed. <code>git log --full-history -- bar</code>, on the other hand, gives us the
commit that created <code>bar</code> and the commit that deleted it.</p>
<p>To be clear: this issue isn't merely theoretical. I only looked into the docs
and discovered the <code>--full-history</code> flag because <code>git log -- some_file</code> was
failing for me in a real repository where I was trying to track a deleted file
down. History simplification might sometimes be helpful when you're trying to
understand how a <em>currently-existing</em> file came to be in its current state,
but when trying to track down a file <em>deletion</em> it's more likely to screw you
over by hiding the commit you care about. Always use the <code>--full-history</code> flag
for this use case.</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/git/" rel="tag">git</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../check-if-checkbox-is-checked-with-jquery/" rel="prev" title="Check if checkbox is checked with jQuery">Previous post</a>
            </li>
            <li class="next">
                <a href="../turning-off-auto-indent-when-pasting-text-into-vim/" rel="next" title="Turning off auto indent when pasting text into vim">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

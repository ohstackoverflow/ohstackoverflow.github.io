<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Google OAuth 2 authorization - Error: redirect_uri_mismatch | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/google-oauth-2-authorization-error-redirect-uri-mismatch/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../how-to-create-multiple-where-clause-query-using-laravel-eloquent/" title="How to Create Multiple Where Clause Query Using Laravel Eloquent?" type="text/html">
<link rel="next" href="../how-to-use-a-variable-for-a-key-in-a-javascript-object-literal/" title="How to use a variable for a key in a JavaScript object literal?" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="Google OAuth 2 authorization - Error: redirect_uri_mismatch">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/google-oauth-2-authorization-error-redirect-uri-mismatch/">
<meta property="og:description" content="On the website https://code.google.com/apis/console I have registered my
application, set up generated Client ID: and Client Secret to my app
and tried to log in with Google. Unfortunately, I got the ">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-18T03:09:23+08:00">
<meta property="article:tag" content="authentication">
<meta property="article:tag" content="google-signin">
<meta property="article:tag" content="oauth-2.0">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Google OAuth 2 authorization - Error: redirect_uri_mismatch</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T03:09:23+08:00" itemprop="datePublished" title="2023-02-18 03:09">2023-02-18 03:09</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>On the website https://code.google.com/apis/console I have registered my
application, set up generated <strong>Client ID:</strong> and <strong>Client Secret</strong> to my app
and tried to log in with Google. Unfortunately, I got the error message:</p>
<div class="code"><pre class="code literal-block"><span class="n">Error</span><span class="o">:</span><span class="w"> </span><span class="n">redirect_uri_mismatch</span>
<span class="n">The</span><span class="w"> </span><span class="n">redirect</span><span class="w"> </span><span class="n">URI</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">request</span><span class="o">:</span><span class="w"> </span><span class="n">http</span><span class="o">://</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="o">:</span><span class="mi">3000</span><span class="sr">/auth/google_oauth2/</span><span class="n">callback</span><span class="w"> </span><span class="n">did</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">match</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">registered</span><span class="w"> </span><span class="n">redirect</span><span class="w"> </span><span class="n">URI</span>

<span class="n">scope</span><span class="o">=</span><span class="n">https</span><span class="o">://</span><span class="n">www</span><span class="o">.</span><span class="na">googleapis</span><span class="o">.</span><span class="na">com</span><span class="sr">/auth/userinfo.profile https://www.googleapis.com/auth/</span><span class="n">userinfo</span><span class="o">.</span><span class="na">email</span>
<span class="n">response_type</span><span class="o">=</span><span class="n">code</span>
<span class="n">redirect_uri</span><span class="o">=</span><span class="n">http</span><span class="o">://</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="o">:</span><span class="mi">3000</span><span class="sr">/auth/google_oauth2/</span><span class="n">callback</span>
<span class="n">access_type</span><span class="o">=</span><span class="n">offline</span>
<span class="n">approval_prompt</span><span class="o">=</span><span class="n">force</span>
<span class="n">client_id</span><span class="o">=</span><span class="n">generated_id</span>
</pre></div>

<p>What does mean this message, and how can I fix it? I use the gem <strong>omniauth-
google-oauth2</strong>.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The redirect URI (where the response is returned to) has to be registered in
the APIs console, and the error is indicating that you haven't done that, or
haven't done it correctly.</p>
<p>Go to the console for your project and look under API Access. You should see
your <code>client ID</code> &amp; <code>client secret</code> there, along with a list of redirect URIs.
If the URI you want isn't listed, click edit settings and add the URI to the
list.</p>
<p>EDIT: (From a highly rated comment below) Note that updating the google api
console and that change being present can take some time. Generally only a few
minutes but sometimes it seems longer.</p>
<p><br></p>
<h3>Suggest</h3>
<p>In my case it was <code>www</code> and <code>non-www</code> URL. Actual site had <code>www</code> URL and the
<strong>Authorized Redirect URIs</strong> in Google Developer Console had <code>non-www</code> URL.
Hence, there was mismatch in redirect URI. I solved it by updating <code>Authorized
Redirect URIs</code> in Google Developer Console to <code>www</code> URL.</p>
<p>Other common URI mismatch are:</p>
<ul>
<li>Using <code>http://</code> in Authorized Redirect URIs and <code>https://</code> as actual URL, or vice-versa</li>
<li>Using trailing slash (<code>http://example.com/</code>) in Authorized Redirect URIs and not using trailing slash (<code>http://example.com</code>) as actual URL, or vice-versa</li>
</ul>
<p>Here are the step-by-step screenshots of Google Developer Console so that it
would be helpful for those who are getting it difficult to locate the
developer console page to update redirect URIs.</p>
<blockquote>
<ol>
<li>
<p>Go to https://console.developers.google.com</p>
</li>
<li>
<p>Select your Project</p>
</li>
</ol>
</blockquote>
<p><img alt="Select your Project" src="../../images/RJfZi.png"></p>
<blockquote>
<ol>
<li>Click on the menu icon
</li>
</ol>
</blockquote>
<p><img alt="Click on the menu icon" src="../../images/xPR5j.png"></p>
<blockquote>
<ol>
<li>Click on <code>API Manager</code> menu
</li>
</ol>
</blockquote>
<p><img alt="Select API Manager menu" src="../../images/VQ9la.png"></p>
<blockquote>
<ol>
<li>Click on <code>Credentials</code> menu. And under <code>OAuth 2.0 Client IDs</code>, you will
find your client name. In my case, it is <code>Web Client 1</code>. Click on it and a
popup will appear where you can edit <strong>Authorized Javascript Origin</strong> and
<strong>Authorized redirect URIs</strong>.
</li>
</ol>
</blockquote>
<p><img alt="Select Credentials menu" src="../../images/X6rRh.png"></p>
<p><strong>Note</strong> : The Authorized URI includes all localhost links by default, and any
live version needs to include the full path, not just the domain, e.g.
https://example.com/path/to/oauth/url</p>
<p>Here is a Google article on creating project and client ID.</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/authentication/" rel="tag">authentication</a></li>
            <li><a class="tag p-category" href="../../categories/google-signin/" rel="tag">google-signin</a></li>
            <li><a class="tag p-category" href="../../categories/oauth-20/" rel="tag">oauth-2.0</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../how-to-create-multiple-where-clause-query-using-laravel-eloquent/" rel="prev" title="How to Create Multiple Where Clause Query Using Laravel Eloquent?">Previous post</a>
            </li>
            <li class="next">
                <a href="../how-to-use-a-variable-for-a-key-in-a-javascript-object-literal/" rel="next" title="How to use a variable for a key in a JavaScript object literal?">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

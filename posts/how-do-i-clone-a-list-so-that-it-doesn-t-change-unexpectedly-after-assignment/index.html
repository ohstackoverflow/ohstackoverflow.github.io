<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>How do I clone a list so that it doesn't change unexpectedly after assignment? | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/how-do-i-clone-a-list-so-that-it-doesn-t-change-unexpectedly-after-assignment/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../how-to-iterate-over-a-dictionary/" title="How to iterate over a dictionary?" type="text/html">
<link rel="next" href="../javascript-closure-inside-loops-simple-practical-example/" title="JavaScript closure inside loops – simple practical example" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="How do I clone a list so that it doesn't change unexpectedly after ass">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/how-do-i-clone-a-list-so-that-it-doesn-t-change-unexpectedly-after-assignment/">
<meta property="og:description" content="While using new_list = my_list, any modifications to new_list changes
my_list every time. Why is this, and how can I clone or copy the list to
prevent it?

Answer
new_list = my_list doesn't actually c">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-16T19:56:39+08:00">
<meta property="article:tag" content="clone">
<meta property="article:tag" content="list">
<meta property="article:tag" content="pass-by-value">
<meta property="article:tag" content="python">
<meta property="article:tag" content="reference">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">How do I clone a list so that it doesn't change unexpectedly after assignment?</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T19:56:39+08:00" itemprop="datePublished" title="2023-02-16 19:56">2023-02-16 19:56</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>While using <code>new_list = my_list</code>, any modifications to <code>new_list</code> changes
<code>my_list</code> every time. Why is this, and how can I clone or copy the list to
prevent it?</p>
<p><br><br></p>
<h2>Answer</h2>
<p><code>new_list = my_list</code> doesn't actually create a second list. The assignment
just copies the reference to the list, not the actual list, so both <code>new_list</code>
and <code>my_list</code> refer to the same list after the assignment.</p>
<p>To actually copy the list, you have several options:</p>
<ul>
<li>
<p>You can use the builtin <code>list.copy()</code> method (available since Python 3.3):</p>
<div class="code"><pre class="code literal-block">new_list = old_list.copy()
</pre></div>

</li>
<li>
<p>You can slice it:</p>
<div class="code"><pre class="code literal-block">new_list = old_list[:]
</pre></div>

</li>
</ul>
<p>Alex Martelli's opinion (at least back in 2007) about this is, that <em>it is a
weird syntax and it does not make sense to use it ever</em>. ;) (In his opinion,
the next one is more readable).</p>
<ul>
<li>
<p>You can use the built in <code>list()</code> constructor:</p>
<div class="code"><pre class="code literal-block">new_list = list(old_list)
</pre></div>

</li>
<li>
<p>You can use generic <code>copy.copy()</code>:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">copy</span>
</pre></div>

<p>new_list = copy.copy(old_list)</p>
</li>
</ul>
<p>This is a little slower than <code>list()</code> because it has to find out the datatype
of <code>old_list</code> first.</p>
<ul>
<li>If you need to copy the elements of the list as well, use generic <code>copy.deepcopy()</code>:<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">copy</span>
</pre></div>

<p>new_list = copy.deepcopy(old_list)</p>
</li>
</ul>
<p>Obviously the slowest and most memory-needing method, but sometimes
unavoidable. This operates recursively; it will handle any number of levels of
nested lists (or other containers).</p>
<p><strong>Example:</strong></p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">copy</span>

<span class="k">class</span> <span class="nc">Foo</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
         <span class="bp">self</span><span class="o">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">val</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">'Foo(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">val</span><span class="si">!r}</span><span class="s1">)'</span>

<span class="n">foo</span> <span class="o">=</span> <span class="n">Foo</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'foo'</span><span class="p">,</span> <span class="n">foo</span><span class="p">]</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">a</span><span class="p">[:]</span>
<span class="n">d</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">e</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

<span class="c1"># edit orignal list and instance </span>
<span class="n">a</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">'baz'</span><span class="p">)</span>
<span class="n">foo</span><span class="o">.</span><span class="n">val</span> <span class="o">=</span> <span class="mi">5</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">'original: </span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="se">\n</span><span class="s1">list.copy(): </span><span class="si">{</span><span class="n">b</span><span class="si">}</span><span class="se">\n</span><span class="s1">slice: </span><span class="si">{</span><span class="n">c</span><span class="si">}</span><span class="se">\n</span><span class="s1">list(): </span><span class="si">{</span><span class="n">d</span><span class="si">}</span><span class="se">\n</span><span class="s1">copy: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="se">\n</span><span class="s1">deepcopy: </span><span class="si">{</span><span class="n">f</span><span class="si">}</span><span class="s1">'</span><span class="p">)</span>
</pre></div>

<p>Result:</p>
<div class="code"><pre class="code literal-block">original: ['foo', Foo(5), 'baz']
list.copy(): ['foo', Foo(5)]
slice: ['foo', Foo(5)]
list(): ['foo', Foo(5)]
copy: ['foo', Foo(5)]
deepcopy: ['foo', Foo(1)]
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Felix already provided an excellent answer, but I thought I'd do a speed
comparison of the various methods:</p>
<ol>
<li>10.59 sec (105.9 µs/itn) - <code>copy.deepcopy(old_list)</code>
</li>
<li>10.16 sec (101.6 µs/itn) - pure Python <code>Copy()</code> method copying classes with deepcopy</li>
<li>1.488 sec (14.88 µs/itn) - pure Python <code>Copy()</code> method not copying classes (only dicts/lists/tuples)</li>
<li>0.325 sec (3.25 µs/itn) - <code>for item in old_list: new_list.append(item)</code>
</li>
<li>0.217 sec (2.17 µs/itn) - <code>[i for i in old_list]</code> (a list comprehension)</li>
<li>0.186 sec (1.86 µs/itn) - <code>copy.copy(old_list)</code>
</li>
<li>0.075 sec (0.75 µs/itn) - <code>list(old_list)</code>
</li>
<li>0.053 sec (0.53 µs/itn) - <code>new_list = []; new_list.extend(old_list)</code>
</li>
<li>0.039 sec (0.39 µs/itn) - <code>old_list[:]</code> (list slicing)</li>
</ol>
<p>So the fastest is list slicing. But be aware that <code>copy.copy()</code>, <code>list[:]</code> and
<code>list(list)</code>, unlike <code>copy.deepcopy()</code> and the python version don't copy any
lists, dictionaries and class instances in the list, so if the originals
change, they will change in the copied list too and vice versa.</p>
<p>(Here's the script if anyone's interested or wants to raise any issues:)</p>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">deepcopy</span>

<span class="k">class</span> <span class="nc">old_class</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blah</span> <span class="o">=</span> <span class="s1">'blah'</span>

<span class="k">class</span> <span class="nc">new_class</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blah</span> <span class="o">=</span> <span class="s1">'blah'</span>

<span class="n">dignore</span> <span class="o">=</span> <span class="p">{</span><span class="nb">str</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="n">unicode</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="nb">int</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">):</span> <span class="kc">None</span><span class="p">}</span>

<span class="k">def</span> <span class="nf">Copy</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">use_deepcopy</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="n">t</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">t</span> <span class="ow">in</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">t</span> <span class="o">==</span> <span class="nb">tuple</span><span class="p">:</span>
            <span class="c1"># Convert to a list if a tuple to</span>
            <span class="c1"># allow assigning to when copying</span>
            <span class="n">is_tuple</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">obj</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Otherwise just do a quick slice copy</span>
            <span class="n">obj</span> <span class="o">=</span> <span class="n">obj</span><span class="p">[:]</span>
            <span class="n">is_tuple</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="c1"># Copy each item recursively</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">xrange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">obj</span><span class="p">)):</span>
            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">obj</span><span class="p">[</span><span class="n">x</span><span class="p">])</span> <span class="ow">in</span> <span class="n">dignore</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">obj</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="n">Copy</span><span class="p">(</span><span class="n">obj</span><span class="p">[</span><span class="n">x</span><span class="p">],</span> <span class="n">use_deepcopy</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">is_tuple</span><span class="p">:</span>
            <span class="c1"># Convert back into a tuple again</span>
            <span class="n">obj</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">t</span> <span class="o">==</span> <span class="nb">dict</span><span class="p">:</span>
        <span class="c1"># Use the fast shallow dict copy() method and copy any</span>
        <span class="c1"># values which aren't immutable (like lists, dicts etc)</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">obj</span><span class="p">[</span><span class="n">k</span><span class="p">])</span> <span class="ow">in</span> <span class="n">dignore</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">obj</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">Copy</span><span class="p">(</span><span class="n">obj</span><span class="p">[</span><span class="n">k</span><span class="p">],</span> <span class="n">use_deepcopy</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">dignore</span><span class="p">:</span>
        <span class="c1"># Numeric or string/unicode?</span>
        <span class="c1"># It's immutable, so ignore it!</span>
        <span class="k">pass</span>

    <span class="k">elif</span> <span class="n">use_deepcopy</span><span class="p">:</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">obj</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">'__main__'</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">copy</span>
    <span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">time</span>

    <span class="n">num_times</span> <span class="o">=</span> <span class="mi">100000</span>
    <span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="s1">'blah'</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">543.4532</span><span class="p">,</span>
         <span class="p">[</span><span class="s1">'foo'</span><span class="p">],</span> <span class="p">(</span><span class="s1">'bar'</span><span class="p">,),</span> <span class="p">{</span><span class="s1">'blah'</span><span class="p">:</span> <span class="s1">'blah'</span><span class="p">},</span>
         <span class="n">old_class</span><span class="p">(),</span> <span class="n">new_class</span><span class="p">()]</span>

    <span class="n">t</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">xrange</span><span class="p">(</span><span class="n">num_times</span><span class="p">):</span>
        <span class="n">Copy</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
    <span class="nb">print</span> <span class="s1">'Custom Copy:'</span><span class="p">,</span> <span class="n">time</span><span class="p">()</span><span class="o">-</span><span class="n">t</span>

    <span class="n">t</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">xrange</span><span class="p">(</span><span class="n">num_times</span><span class="p">):</span>
        <span class="n">Copy</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="n">use_deepcopy</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="nb">print</span> <span class="s1">'Custom Copy Only Copying Lists/Tuples/Dicts (no classes):'</span><span class="p">,</span> <span class="n">time</span><span class="p">()</span><span class="o">-</span><span class="n">t</span>

    <span class="n">t</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">xrange</span><span class="p">(</span><span class="n">num_times</span><span class="p">):</span>
        <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
    <span class="nb">print</span> <span class="s1">'copy.copy:'</span><span class="p">,</span> <span class="n">time</span><span class="p">()</span><span class="o">-</span><span class="n">t</span>

    <span class="n">t</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">xrange</span><span class="p">(</span><span class="n">num_times</span><span class="p">):</span>
        <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
    <span class="nb">print</span> <span class="s1">'copy.deepcopy:'</span><span class="p">,</span> <span class="n">time</span><span class="p">()</span><span class="o">-</span><span class="n">t</span>

    <span class="n">t</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">xrange</span><span class="p">(</span><span class="n">num_times</span><span class="p">):</span>
        <span class="n">L</span><span class="p">[:]</span>
    <span class="nb">print</span> <span class="s1">'list slicing [:]:'</span><span class="p">,</span> <span class="n">time</span><span class="p">()</span><span class="o">-</span><span class="n">t</span>

    <span class="n">t</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">xrange</span><span class="p">(</span><span class="n">num_times</span><span class="p">):</span>
        <span class="nb">list</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
    <span class="nb">print</span> <span class="s1">'list(L):'</span><span class="p">,</span> <span class="n">time</span><span class="p">()</span><span class="o">-</span><span class="n">t</span>

    <span class="n">t</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">xrange</span><span class="p">(</span><span class="n">num_times</span><span class="p">):</span>
        <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">L</span><span class="p">]</span>
    <span class="nb">print</span> <span class="s1">'list expression(L):'</span><span class="p">,</span> <span class="n">time</span><span class="p">()</span><span class="o">-</span><span class="n">t</span>

    <span class="n">t</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">xrange</span><span class="p">(</span><span class="n">num_times</span><span class="p">):</span>
        <span class="n">a</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">a</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
    <span class="nb">print</span> <span class="s1">'list extend:'</span><span class="p">,</span> <span class="n">time</span><span class="p">()</span><span class="o">-</span><span class="n">t</span>

    <span class="n">t</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">xrange</span><span class="p">(</span><span class="n">num_times</span><span class="p">):</span>
        <span class="n">a</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">L</span><span class="p">:</span>
            <span class="n">a</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
    <span class="nb">print</span> <span class="s1">'list append:'</span><span class="p">,</span> <span class="n">time</span><span class="p">()</span><span class="o">-</span><span class="n">t</span>

    <span class="n">t</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">xrange</span><span class="p">(</span><span class="n">num_times</span><span class="p">):</span>
        <span class="n">a</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">a</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">L</span><span class="p">)</span>
    <span class="nb">print</span> <span class="s1">'generator expression extend:'</span><span class="p">,</span> <span class="n">time</span><span class="p">()</span><span class="o">-</span><span class="n">t</span>
</pre></div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/clone/" rel="tag">clone</a></li>
            <li><a class="tag p-category" href="../../categories/list/" rel="tag">list</a></li>
            <li><a class="tag p-category" href="../../categories/pass-by-value/" rel="tag">pass-by-value</a></li>
            <li><a class="tag p-category" href="../../categories/python/" rel="tag">python</a></li>
            <li><a class="tag p-category" href="../../categories/reference/" rel="tag">reference</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../how-to-iterate-over-a-dictionary/" rel="prev" title="How to iterate over a dictionary?">Previous post</a>
            </li>
            <li class="next">
                <a href="../javascript-closure-inside-loops-simple-practical-example/" rel="next" title="JavaScript closure inside loops – simple practical example">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

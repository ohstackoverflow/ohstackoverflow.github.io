<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Determine Whether Two Date Ranges Overlap | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/determine-whether-two-date-ranges-overlap/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../convert-integer-to-string-in-python/" title="Convert integer to string in Python" type="text/html">
<link rel="next" href="../if-else-in-a-list-comprehension/" title="if/else in a list comprehension" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="Determine Whether Two Date Ranges Overlap">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/determine-whether-two-date-ranges-overlap/">
<meta property="og:description" content="Given two date ranges, what is the simplest or most efficient way to determine
whether the two date ranges overlap?
As an example, suppose we have ranges denoted by DateTime variables
StartDate1 to En">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-17T01:31:42+08:00">
<meta property="article:tag" content="datetime">
<meta property="article:tag" content="language-agnostic">
<meta property="article:tag" content="math">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Determine Whether Two Date Ranges Overlap</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T01:31:42+08:00" itemprop="datePublished" title="2023-02-17 01:31">2023-02-17 01:31</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>Given two date ranges, what is the simplest or most efficient way to determine
whether the two date ranges overlap?</p>
<p>As an example, suppose we have ranges denoted by DateTime variables
<code>StartDate1</code> to <code>EndDate1</code> <em>and</em> <code>StartDate2</code> to <code>EndDate2</code>.</p>
<p><br><br></p>
<h2>Answer</h2>
<p><strong>(StartA &lt;= EndB) and (EndA &gt;= StartB)</strong></p>
<p><em>Proof:</em><br>
Let ConditionA Mean that DateRange A Completely After DateRange B</p>
<div class="code"><pre class="code literal-block">_                        |---- DateRange A ------|
|---Date Range B -----|                          _
</pre></div>

<p>(True if <code>StartA &gt; EndB</code>)</p>
<p>Let ConditionB Mean that DateRange A is Completely Before DateRange B</p>
<div class="code"><pre class="code literal-block">|---- DateRange A -----|                        _ 
_                          |---Date Range B ----|
</pre></div>

<p>(True if <code>EndA &lt; StartB</code>)</p>
<p>Then Overlap exists if Neither A Nor B is true -<br>
(If one range is neither completely after the other,<br>
nor completely before the other, then they must overlap.)</p>
<p>Now one of De Morgan's laws says that:</p>
<p><code>Not (A Or B)</code> &lt;=&gt; <code>Not A And Not B</code></p>
<p>Which translates to: <code>(StartA &lt;= EndB) and (EndA &gt;= StartB)</code></p>
<hr>
<p>NOTE: This includes conditions where the edges overlap exactly. If you wish to
exclude that,<br>
change the <code>&gt;=</code> operators to <code>&gt;</code>, and <code>&lt;=</code> to <code>&lt;</code></p>
<hr>
<p>NOTE2. Thanks to @Baodad, see this blog, the actual overlap is least of:<br>
{ <code>endA-startA</code>, <code>endA - startB</code>, <code>endB-startA</code>, <code>endB - startB</code> }</p>
<p><code>(StartA &lt;= EndB) and (EndA &gt;= StartB)</code> <code>(StartA &lt;= EndB) and (StartB &lt;=
EndA)</code></p>
<hr>
<p>NOTE3. Thanks to @tomosius, a shorter version reads:<br><code>DateRangesOverlap = max(start1, start2) &lt; min(end1, end2)</code><br>
This is actually a syntactical shortcut for what is a longer implementation,
which includes extra checks to verify that the start dates are on or before
the endDates. Deriving this from above:</p>
<p>If start and end dates can be out of order, i.e., if it is possible that
<code>startA &gt; endA</code> or <code>startB &gt; endB</code>, then you also have to check that they are
in order, so that means you have to add two additional validity rules:<br><code>(StartA &lt;= EndB) and (StartB &lt;= EndA) and (StartA &lt;= EndA) and (StartB &lt;=
EndB)</code> or:<br><code>(StartA &lt;= EndB) and (StartA &lt;= EndA) and (StartB &lt;= EndA) and (StartB &lt;=
EndB)</code> or,<br><code>(StartA &lt;= Min(EndA, EndB) and (StartB &lt;= Min(EndA, EndB))</code> or:<br><code>(Max(StartA, StartB) &lt;= Min(EndA, EndB)</code></p>
<p>But to implement <code>Min()</code> and <code>Max()</code>, you have to code, (using C ternary for
terseness),:<br><code>((StartA &gt; StartB) ? StartA : StartB) &lt;= ((EndA &lt; EndB) ? EndA : EndB)</code></p>
<p><br></p>
<h3>Suggest</h3>
<p>I believe that it is sufficient to say that the two ranges overlap if:</p>
<div class="code"><pre class="code literal-block">(StartDate1 &lt;= EndDate2) and (StartDate2 &lt;= EndDate1)
</pre></div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/datetime/" rel="tag">datetime</a></li>
            <li><a class="tag p-category" href="../../categories/language-agnostic/" rel="tag">language-agnostic</a></li>
            <li><a class="tag p-category" href="../../categories/math/" rel="tag">math</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../convert-integer-to-string-in-python/" rel="prev" title="Convert integer to string in Python">Previous post</a>
            </li>
            <li class="next">
                <a href="../if-else-in-a-list-comprehension/" rel="next" title="if/else in a list comprehension">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

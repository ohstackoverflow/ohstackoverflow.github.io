<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>addEventListener vs onclick | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/addeventlistener-vs-onclick/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../unprotected-private-key-file-error-using-ssh-into-amazon-ec2-instance-aws/" title='"UNPROTECTED PRIVATE KEY FILE!" Error using SSH into Amazon EC2 Instance (AWS)' type="text/html">
<link rel="next" href="../reading-settings-from-app-config-or-web-config-in-net/" title="Reading settings from app.config or web.config in .NET" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="addEventListener vs onclick">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/addeventlistener-vs-onclick/">
<meta property="og:description" content="What's the difference between addEventListener and onclick?
var h = document.getElementById(&quot;a&quot;);
h.onclick = dothing1;
h.addEventListener(&quot;click&quot;, dothing2);


The code above resides together in a se">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-17T08:59:46+08:00">
<meta property="article:tag" content="addeventlistener">
<meta property="article:tag" content="javascript">
<meta property="article:tag" content="onclick">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">addEventListener vs onclick</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T08:59:46+08:00" itemprop="datePublished" title="2023-02-17 08:59">2023-02-17 08:59</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>What's the difference between <code>addEventListener</code> and <code>onclick</code>?</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">h</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">document</span><span class="o">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s2">"a"</span><span class="p">);</span>
<span class="n">h</span><span class="o">.</span><span class="n">onclick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dothing1</span><span class="p">;</span>
<span class="n">h</span><span class="o">.</span><span class="n">addEventListener</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="w"> </span><span class="n">dothing2</span><span class="p">);</span>
</pre></div>

<p>The code above resides together in a separate <code>.js</code> file, and they both work
perfectly.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Both are correct, but none of them are "best" per se, and there may be a
reason the developer chose to use both approaches.</p>
<p><strong>Event Listeners (addEventListener and IE's attachEvent)</strong></p>
<p>Earlier versions of Internet Explorer implement JavaScript differently from
pretty much every other browser. With versions less than 9, you use the
<code>attachEvent</code>[doc] method, like this:</p>
<div class="code"><pre class="code literal-block"><span class="nv">element</span>.<span class="nv">attachEvent</span><span class="ss">(</span><span class="s1">'onclick'</span>,<span class="w"> </span><span class="nv">function</span><span class="ss">()</span><span class="w"> </span>{<span class="w"> </span><span class="cm">/* do stuff here*/</span><span class="w"> </span>}<span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p>In most other browsers (including IE 9 and above), you use
<code>addEventListener</code>[doc], like this:</p>
<div class="code"><pre class="code literal-block"><span class="nv">element</span>.<span class="nv">addEventListener</span><span class="ss">(</span><span class="s1">'click'</span>,<span class="w"> </span><span class="nv">function</span><span class="ss">()</span><span class="w"> </span>{<span class="w"> </span><span class="cm">/* do stuff here*/</span><span class="w"> </span>},<span class="w"> </span><span class="nv">false</span><span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p>Using this approach (DOM Level 2 events), you can attach a theoretically
unlimited number of events to any single element. The only practical
limitation is client-side memory and other performance concerns, which are
different for each browser.</p>
<p>The examples above represent using an anonymous function[doc]. You can also
add an event listener using a function reference[doc] or a closure[doc]:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">myFunctionReference</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">/*</span><span class="w"> </span><span class="n">do</span><span class="w"> </span><span class="n">stuff</span><span class="w"> </span><span class="n">here</span><span class="o">*/</span><span class="w"> </span><span class="p">}</span>

<span class="n">element</span><span class="o">.</span><span class="n">attachEvent</span><span class="p">(</span><span class="s1">'onclick'</span><span class="p">,</span><span class="w"> </span><span class="n">myFunctionReference</span><span class="p">);</span>
<span class="n">element</span><span class="o">.</span><span class="n">addEventListener</span><span class="p">(</span><span class="s1">'click'</span><span class="p">,</span><span class="w"> </span><span class="n">myFunctionReference</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="bp">false</span><span class="p">);</span>
</pre></div>

<p>Another important feature of <code>addEventListener</code> is the final parameter, which
controls how the listener reacts to bubbling events[doc]. I've been passing
false in the examples, which is standard for probably 95% of use cases. There
is no equivalent argument for <code>attachEvent</code>, or when using inline events.</p>
<p><strong>Inline events (HTML onclick="" property and element.onclick)</strong></p>
<p>In all browsers that support javascript, you can put an event listener inline,
meaning right in the HTML code. You've probably seen this:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;a</span><span class="w"> </span><span class="na">id=</span><span class="s">"testing"</span><span class="w"> </span><span class="na">href=</span><span class="s">"#"</span><span class="w"> </span><span class="na">onclick=</span><span class="s">"alert('did stuff inline');"</span><span class="nt">&gt;</span>Click<span class="w"> </span>me<span class="nt">&lt;/a&gt;</span>
</pre></div>

<p>Most experienced developers shun this method, but it does get the job done; it
is simple and direct. You may not use closures or anonymous functions here
(though the handler itself is an anonymous function of sorts), and your
control of scope is limited.</p>
<p>The other method you mention:</p>
<div class="code"><pre class="code literal-block"><span class="nv">element</span>.<span class="nv">onclick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">function</span><span class="w"> </span><span class="ss">()</span><span class="w"> </span>{<span class="w"> </span><span class="cm">/*do stuff here */</span><span class="w"> </span>}<span class="c1">;</span>
</pre></div>

<p>... is the equivalent of inline javascript except that you have more control
of the scope (since you're writing a script rather than HTML) and can use
anonymous functions, function references, and/or closures.</p>
<p>The significant drawback with inline events is that unlike event listeners
described above, you may only have one inline event assigned. Inline events
are stored as an attribute/property of the element[doc], meaning that it can
be overwritten.</p>
<p>Using the example <code>&lt;a&gt;</code> from the HTML above:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">document</span><span class="o">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s1">'testing'</span><span class="p">);</span>
<span class="n">element</span><span class="o">.</span><span class="n">onclick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">alert</span><span class="p">(</span><span class="s1">'did stuff #1'</span><span class="p">);</span><span class="w"> </span><span class="p">};</span>
<span class="n">element</span><span class="o">.</span><span class="n">onclick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">alert</span><span class="p">(</span><span class="s1">'did stuff #2'</span><span class="p">);</span><span class="w"> </span><span class="p">};</span>
</pre></div>

<p>... when you clicked the element, you'd <strong>only</strong> see "Did stuff #2" - you
overwrote the first assigned of the <code>onclick</code> property with the second value,
and you overwrote the original inline HTML <code>onclick</code> property too. Check it
out here: http://jsfiddle.net/jpgah/.</p>
<p>Broadly speaking, <strong>do not use inline events</strong>. There may be specific use
cases for it, but if you are not 100% sure you have that use case, then you do
not and should not use inline events.</p>
<p><strong>Modern Javascript (Angular and the like)</strong></p>
<p>Since this answer was originally posted, javascript frameworks like Angular
have become far more popular. You will see code like this in an Angular
template:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;button</span><span class="w"> </span><span class="err">(click)="doSomething()"</span><span class="nt">&gt;</span>Do<span class="w"> </span>Something<span class="nt">&lt;/button&gt;</span>
</pre></div>

<p>This looks like an inline event, but it isn't. This type of template will be
transpiled into more complex code which uses event listeners behind the
scenes. Everything I've written about events here still applies, but you are
removed from the nitty gritty by at least one layer. You should understand the
nuts and bolts, but if your modern JS framework best practices involve writing
this kind of code in a template, don't feel like you're using an inline event
-- you aren't.</p>
<p><strong>Which is Best?</strong></p>
<p>The question is a matter of browser compatibility and necessity. Do you need
to attach more than one event to an element? Will you in the future? Odds are,
you will. attachEvent and addEventListener are necessary. If not, an inline
event may seem like they'd do the trick, but you're much better served
preparing for a future that, though it may seem unlikely, is predictable at
least. There is a chance you'll have to move to JS-based event listeners, so
you may as well just start there. Don't use inline events.</p>
<p>jQuery and other javascript frameworks encapsulate the different browser
implementations of DOM level 2 events in generic models so you can write
cross-browser compliant code without having to worry about IE's history as a
rebel. Same code with jQuery, all cross-browser and ready to rock:</p>
<div class="code"><pre class="code literal-block">$<span class="ss">(</span><span class="nv">element</span><span class="ss">)</span>.<span class="nv">on</span><span class="ss">(</span><span class="s1">'click'</span>,<span class="w"> </span><span class="nv">function</span><span class="w"> </span><span class="ss">()</span><span class="w"> </span>{<span class="w"> </span><span class="cm">/* do stuff */</span><span class="w"> </span>}<span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p>Don't run out and get a framework just for this one thing, though. You can
easily roll your own little utility to take care of the older browsers:</p>
<div class="code"><pre class="code literal-block"><span class="nv">function</span><span class="w"> </span><span class="nv">addEvent</span><span class="ss">(</span><span class="nv">element</span>,<span class="w"> </span><span class="nv">evnt</span>,<span class="w"> </span><span class="nv">funct</span><span class="ss">)</span>{
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">element</span>.<span class="nv">attachEvent</span><span class="ss">)</span>
<span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="nv">element</span>.<span class="nv">attachEvent</span><span class="ss">(</span><span class="s1">'on'</span><span class="o">+</span><span class="nv">evnt</span>,<span class="w"> </span><span class="nv">funct</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">  </span><span class="k">else</span>
<span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="nv">element</span>.<span class="nv">addEventListener</span><span class="ss">(</span><span class="nv">evnt</span>,<span class="w"> </span><span class="nv">funct</span>,<span class="w"> </span><span class="nv">false</span><span class="ss">)</span><span class="c1">;</span>
}

<span class="o">//</span><span class="w"> </span><span class="nv">example</span>
<span class="nv">addEvent</span><span class="ss">(</span>
<span class="w">    </span><span class="nv">document</span>.<span class="nv">getElementById</span><span class="ss">(</span><span class="s1">'myElement'</span><span class="ss">)</span>,
<span class="w">    </span><span class="s1">'click'</span>,
<span class="w">    </span><span class="nv">function</span><span class="w"> </span><span class="ss">()</span><span class="w"> </span>{<span class="w"> </span><span class="nv">alert</span><span class="ss">(</span><span class="s1">'hi!'</span><span class="ss">)</span><span class="c1">; }</span>
<span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p>Try it: http://jsfiddle.net/bmArj/</p>
<p>Taking all of that into consideration, unless the script you're looking at
took the browser differences into account some other way (in code not shown in
your question), the part using <code>addEventListener</code> would not work in IE
versions less than 9.</p>
<p><strong>Documentation and Related Reading</strong></p>
<ul>
<li>W3 HTML specification, element Event Handler Attributes</li>
<li>element.addEventListener on MDN</li>
<li>element.attachEvent on MSDN</li>
<li>Jquery.on</li>
<li>quirksmode blog "Introduction to Events"</li>
<li>CDN-hosted javascript libraries at Google</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<p>The difference you could see if you had another couple of functions:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">h</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">document</span><span class="o">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s1">'a'</span><span class="p">);</span>
<span class="n">h</span><span class="o">.</span><span class="n">onclick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">doThing_1</span><span class="p">;</span>
<span class="n">h</span><span class="o">.</span><span class="n">onclick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">doThing_2</span><span class="p">;</span>

<span class="n">h</span><span class="o">.</span><span class="n">addEventListener</span><span class="p">(</span><span class="s1">'click'</span><span class="p">,</span><span class="w"> </span><span class="n">doThing_3</span><span class="p">);</span>
<span class="n">h</span><span class="o">.</span><span class="n">addEventListener</span><span class="p">(</span><span class="s1">'click'</span><span class="p">,</span><span class="w"> </span><span class="n">doThing_4</span><span class="p">);</span>
</pre></div>

<p>Functions 2, 3 and 4 work, but 1 does not. This is because <code>addEventListener</code>
does not overwrite existing event handlers, whereas <code>onclick</code> overrides any
existing <code>onclick = fn</code> event handlers.</p>
<p>The other significant difference, of course, is that <code>onclick</code> will always
work, whereas <code>addEventListener</code> does not work in Internet Explorer before
version 9. You can use the analogous <code>attachEvent</code> (which has <em>slightly</em>
different syntax) in IE &lt;9.</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/addeventlistener/" rel="tag">addeventlistener</a></li>
            <li><a class="tag p-category" href="../../categories/javascript/" rel="tag">javascript</a></li>
            <li><a class="tag p-category" href="../../categories/onclick/" rel="tag">onclick</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../unprotected-private-key-file-error-using-ssh-into-amazon-ec2-instance-aws/" rel="prev" title='"UNPROTECTED PRIVATE KEY FILE!" Error using SSH into Amazon EC2 Instance (AWS)'>Previous post</a>
            </li>
            <li class="next">
                <a href="../reading-settings-from-app-config-or-web-config-in-net/" rel="next" title="Reading settings from app.config or web.config in .NET">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

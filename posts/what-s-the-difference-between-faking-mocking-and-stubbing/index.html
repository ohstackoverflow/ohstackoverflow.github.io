<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>What's the difference between faking, mocking, and stubbing? | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/what-s-the-difference-between-faking-mocking-and-stubbing/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../how-to-send-an-object-from-one-android-activity-to-another-using-intents/" title="How to send an object from one Android Activity to another using Intents?" type="text/html">
<link rel="next" href="../writing-a-list-to-a-file-with-python-with-newlines/" title="Writing a list to a file with Python, with newlines" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="What's the difference between faking, mocking, and stubbing?">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/what-s-the-difference-between-faking-mocking-and-stubbing/">
<meta property="og:description" content="I know how I use these terms, but I'm wondering if there are accepted
definitions for faking , mocking , and stubbing for unit tests?
How do you define these for your tests? Describe situations where ">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-17T09:26:12+08:00">
<meta property="article:tag" content="definition">
<meta property="article:tag" content="language-agnostic">
<meta property="article:tag" content="mocking">
<meta property="article:tag" content="terminology">
<meta property="article:tag" content="unit-testing">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">What's the difference between faking, mocking, and stubbing?</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T09:26:12+08:00" itemprop="datePublished" title="2023-02-17 09:26">2023-02-17 09:26</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>I know how I use these terms, but I'm wondering if there are accepted
definitions for <strong>faking</strong> , <strong>mocking</strong> , and <strong>stubbing</strong> for unit tests?
How do you define these for your tests? Describe situations where you might
use each.</p>
<p>Here is how I use them:</p>
<p><strong>Fake</strong> : a class that implements an interface but contains fixed data and no
logic. Simply returns "good" or "bad" data depending on the implementation.</p>
<p><strong>Mock</strong> : a class that implements an interface and allows the ability to
dynamically set the values to return/exceptions to throw from particular
methods and provides the ability to check if particular methods have been
called/not called.</p>
<p><strong>Stub</strong> : Like a mock class, except that it doesn't provide the ability to
verify that methods have been called/not called.</p>
<p>Mocks and stubs can be hand generated or generated by a mocking framework.
Fake classes are generated by hand. I use mocks primarily to verify
interactions between my class and dependent classes. I use stubs once I have
verified the interactions and am testing alternate paths through my code. I
use fake classes primarily to abstract out data dependencies or when
mocks/stubs are too tedious to set up each time.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can get some information :</p>
<h3>From Martin Fowler about Mock and Stub</h3>
<p><strong>Fake</strong> objects actually have working implementations, but usually take some
shortcut which makes them not suitable for production</p>
<p><strong>Stubs</strong> provide canned answers to calls made during the test, usually not
responding at all to anything outside what's programmed in for the test. Stubs
may also record information about calls, such as an email gateway stub that
remembers the messages it 'sent', or maybe only how many messages it 'sent'.</p>
<p><strong>Mocks</strong> are what we are talking about here: objects pre-programmed with
expectations which form a specification of the calls they are expected to
receive.</p>
<h3>From xunitpattern:</h3>
<p><strong>Fake</strong> : We acquire or build a very lightweight implementation of the same
functionality as provided by a component that the SUT depends on and instruct
the SUT to use it instead of the real.</p>
<p><strong>Stub</strong> : This implementation is configured to respond to calls from the SUT
with the values (or exceptions) that will exercise the Untested Code (see
Production Bugs on page X) within the SUT. A key indication for using a Test
Stub is having Untested Code caused by the inability to control the indirect
inputs of the SUT</p>
<p><strong>Mock Object</strong> that implements the same interface as an object on which the
SUT (System Under Test) depends. We can use a Mock Object as an observation
point when we need to do Behavior Verification to avoid having an Untested
Requirement (see Production Bugs on page X) caused by an inability to observe
side-effects of invoking methods on the SUT.</p>
<h3>Personally</h3>
<p>I try to simplify by using : Mock and Stub. I use Mock when it's an object
that returns a value that is set to the tested class. I use Stub to mimic an
Interface or Abstract class to be tested. In fact, it doesn't really matter
what you call it, they are all classes that aren't used in production, and are
used as utility classes for testing.</p>
<p><br></p>
<h3>Suggest</h3>
<p><strong>Stub</strong> - an object that provides predefined answers to method calls.</p>
<p><strong>Mock</strong> - an object on which you set expectations.</p>
<p><strong>Fake</strong> - an object with limited capabilities (for the purposes of testing),
e.g. a fake web service.</p>
<p>Test Double is the general term for stubs, mocks and fakes. But informally,
you'll often hear people simply call them mocks.</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/definition/" rel="tag">definition</a></li>
            <li><a class="tag p-category" href="../../categories/language-agnostic/" rel="tag">language-agnostic</a></li>
            <li><a class="tag p-category" href="../../categories/mocking/" rel="tag">mocking</a></li>
            <li><a class="tag p-category" href="../../categories/terminology/" rel="tag">terminology</a></li>
            <li><a class="tag p-category" href="../../categories/unit-testing/" rel="tag">unit-testing</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../how-to-send-an-object-from-one-android-activity-to-another-using-intents/" rel="prev" title="How to send an object from one Android Activity to another using Intents?">Previous post</a>
            </li>
            <li class="next">
                <a href="../writing-a-list-to-a-file-with-python-with-newlines/" rel="next" title="Writing a list to a file with Python, with newlines">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Can we instantiate an abstract class? | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/can-we-instantiate-an-abstract-class/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../how-to-install-a-gem-or-update-rubygems-if-it-fails-with-a-permissions-error/" title="How to install a gem or update RubyGems if it fails with a permissions error" type="text/html">
<link rel="next" href="../run-r-script-from-command-line/" title="Run R script from command line" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="Can we instantiate an abstract class?">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/can-we-instantiate-an-abstract-class/">
<meta property="og:description" content="During one of my interview, I was asked &quot;If we can instantiate an abstract
class?&quot;
My reply was &quot;No. we can't&quot;. But, interviewer told me &quot;Wrong, we can.&quot;
I argued a bit on this. Then he told me to try">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-17T22:33:26+08:00">
<meta property="article:tag" content="abstract">
<meta property="article:tag" content="class">
<meta property="article:tag" content="java">
<meta property="article:tag" content="object">
<meta property="article:tag" content="oop">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Can we instantiate an abstract class?</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T22:33:26+08:00" itemprop="datePublished" title="2023-02-17 22:33">2023-02-17 22:33</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>During one of my interview, I was asked "If we can instantiate an abstract
class?"</p>
<p>My reply was "No. we can't". But, interviewer told me "Wrong, we can."</p>
<p>I argued a bit on this. Then he told me to try this myself at home.</p>
<div class="code"><pre class="code literal-block">abstract class my {
    public void mymethod() {
        System.out.print("Abstract");
    }
}

class poly {
    public static void main(String a[]) {
        my m = new my() {};
        m.mymethod();
    }
}
</pre></div>

<p>Here, I'm creating instance of my class and calling method of abstract class.
Can anyone please explain this to me? Was I really wrong during my interview?</p>
<p><br><br></p>
<h2>Answer</h2>
<blockquote>
<p>Here, i'm creating instance of my class</p>
</blockquote>
<p>No, you are not creating the instance of your abstract class here. Rather you
are creating an instance of an <em>anonymous subclass</em> of your abstract class.
And then you are invoking the method on your <em>abstract class</em> reference
pointing to <em>subclass object</em>.</p>
<p>This behaviour is clearly listed in JLS - Section # 15.9.1: -</p>
<blockquote>
<p>If the class instance creation expression ends in a class body, then the
class being instantiated is an anonymous class. Then:</p>
<ul>
<li>If T denotes a class, then an anonymous direct subclass of the class
named by T is declared. It is a compile-time error if the class denoted by T
is a final class.</li>
<li>If T denotes an interface, then an anonymous direct subclass of Object
that implements the interface named by T is declared.</li>
<li>In either case, the body of the subclass is the ClassBody given in the
class instance creation expression.</li>
<li>
<strong>The class being instantiated is the anonymous subclass.</strong>
</li>
</ul>
</blockquote>
<p>Emphasis mine.</p>
<p>Also, in JLS - Section # 12.5, you can read about the <em>Object Creation
Process</em>. I'll quote one statement from that here: -</p>
<blockquote>
<p>Whenever a new class instance is created, memory space is allocated for it
with room for all the instance variables declared in the class type and all
the instance variables declared in each superclass of the class type,
including all the instance variables that may be hidden.</p>
<p>Just before a reference to the newly created object is returned as the
result, the indicated constructor is processed to initialize the new object
using the following procedure:</p>
</blockquote>
<p>You can read about the complete procedure on the link I provided.</p>
<hr>
<p>To practically see that the class being instantiated is an <em>Anonymous
SubClass</em> , you just need to compile both your classes. Suppose you put those
classes in two different files:</p>
<p><strong>My.java:</strong></p>
<div class="code"><pre class="code literal-block">abstract class My {
    public void myMethod() {
        System.out.print("Abstract");
    }
}
</pre></div>

<p><strong>Poly.java:</strong></p>
<div class="code"><pre class="code literal-block"><span class="k">class</span><span class="w"> </span><span class="n">Poly</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="n">My</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="nb nb-Type">void</span><span class="w"> </span><span class="n">main</span><span class="p">(</span><span class="nb nb-Type">String</span><span class="w"> </span><span class="n">a</span><span class="p">[])</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">My</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">My</span><span class="p">()</span><span class="w"> </span><span class="p">{};</span>
<span class="w">        </span><span class="n">m</span><span class="o">.</span><span class="n">myMethod</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>Now, compile both your source files:</p>
<div class="code"><pre class="code literal-block">javac My.java Poly.java
</pre></div>

<p>Now in the directory where you compiled the source code, you will see the
following class files:</p>
<div class="code"><pre class="code literal-block">My.class
Poly$1.class  // Class file corresponding to anonymous subclass
Poly.class
</pre></div>

<p>See that class - <code>Poly$1.class</code>. It's the class file created by the compiler
corresponding to the anonymous subclass you instantiated using the below code:</p>
<div class="code"><pre class="code literal-block">new My() {};
</pre></div>

<p>So, it's clear that there is a different class being instantiated. It's just
that, that class is given a name only after compilation by the compiler.</p>
<p>In general, all the anonymous subclasses in your class will be named in this
fashion:</p>
<div class="code"><pre class="code literal-block">Poly$1.class, Poly$2.class, Poly$3.class, ... so on
</pre></div>

<p>Those numbers denote the order in which those anonymous classes appear in the
enclosing class.</p>
<p><br></p>
<h3>Suggest</h3>
<p>The above instantiates an anonymous inner class which is a subclass of the
<code>my</code> abstract class. It's not strictly equivalent to instantiating the
abstract class itself. OTOH, every subclass instance is an instance of all its
super classes and interfaces, so most abstract classes are indeed instantiated
by instantiating one of their concrete subclasses.</p>
<p>If the interviewer just said "wrong!" without explaining, and gave this
example, as a unique counterexample, I think he doesn't know what he's talking
about, though.</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/abstract/" rel="tag">abstract</a></li>
            <li><a class="tag p-category" href="../../categories/class/" rel="tag">class</a></li>
            <li><a class="tag p-category" href="../../categories/java/" rel="tag">java</a></li>
            <li><a class="tag p-category" href="../../categories/object/" rel="tag">object</a></li>
            <li><a class="tag p-category" href="../../categories/oop/" rel="tag">oop</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../how-to-install-a-gem-or-update-rubygems-if-it-fails-with-a-permissions-error/" rel="prev" title="How to install a gem or update RubyGems if it fails with a permissions error">Previous post</a>
            </li>
            <li class="next">
                <a href="../run-r-script-from-command-line/" rel="next" title="Run R script from command line">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

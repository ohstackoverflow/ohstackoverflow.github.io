<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Standard Android Button with a different color | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/standard-android-button-with-a-different-color/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../if-in-select-statement-choose-output-value-based-on-column-values/" title="'IF' in 'SELECT' statement - choose output value based on column values" type="text/html">
<link rel="next" href="../how-to-set-a-javascript-breakpoint-from-code-in-chrome/" title="How to set a JavaScript breakpoint from code in Chrome?" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="Standard Android Button with a different color">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/standard-android-button-with-a-different-color/">
<meta property="og:description" content="I'd like to change the color of a standard Android button slightly in order to
better match a client's branding.
The best way I've found to do this so far is to change the Button's drawable
to the dra">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-17T15:24:22+08:00">
<meta property="article:tag" content="android">
<meta property="article:tag" content="android-layout">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Standard Android Button with a different color</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T15:24:22+08:00" itemprop="datePublished" title="2023-02-17 15:24">2023-02-17 15:24</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>I'd like to change the color of a standard Android button slightly in order to
better match a client's branding.</p>
<p>The best way I've found to do this so far is to change the <code>Button</code>'s drawable
to the drawable located in <code>res/drawable/red_button.xml</code>:</p>
<div class="code"><pre class="code literal-block"><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><span class="w">    </span>
<span class="nt">&lt;selector</span><span class="w"> </span><span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;item</span><span class="w"> </span><span class="na">android:state_pressed=</span><span class="s">"true"</span><span class="w"> </span><span class="na">android:drawable=</span><span class="s">"@drawable/red_button_pressed"</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;item</span><span class="w"> </span><span class="na">android:state_focused=</span><span class="s">"true"</span><span class="w"> </span><span class="na">android:drawable=</span><span class="s">"@drawable/red_button_focus"</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;item</span><span class="w"> </span><span class="na">android:drawable=</span><span class="s">"@drawable/red_button_rest"</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="nt">&lt;/selector&gt;</span>
</pre></div>

<p>But doing that requires that I actually create three different drawables for
each button I want to customize (one for the button at rest, one when focused,
and one when pressed). That seems more complicated and non-DRY than I need.</p>
<p>All I really want to do is apply some sort of color transform to the button.
Is there an easier way to go about changing a button's color than I'm doing?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>I discovered that this can all be done in one file fairly easily. Put
something like the following code in a file named <code>custom_button.xml</code> and then
set <code>background="@drawable/custom_button"</code> in your button view:</p>
<div class="code"><pre class="code literal-block"><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;selector</span>
<span class="w">    </span><span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span><span class="nt">&gt;</span>

<span class="w">    </span><span class="nt">&lt;item</span><span class="w"> </span><span class="na">android:state_pressed=</span><span class="s">"true"</span><span class="w"> </span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;shape&gt;</span>
<span class="w">            </span><span class="nt">&lt;gradient</span>
<span class="w">                </span><span class="na">android:startColor=</span><span class="s">"@color/yellow1"</span>
<span class="w">                </span><span class="na">android:endColor=</span><span class="s">"@color/yellow2"</span>
<span class="w">                </span><span class="na">android:angle=</span><span class="s">"270"</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;stroke</span>
<span class="w">                </span><span class="na">android:width=</span><span class="s">"3dp"</span>
<span class="w">                </span><span class="na">android:color=</span><span class="s">"@color/grey05"</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;corners</span>
<span class="w">                </span><span class="na">android:radius=</span><span class="s">"3dp"</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;padding</span>
<span class="w">                </span><span class="na">android:left=</span><span class="s">"10dp"</span>
<span class="w">                </span><span class="na">android:top=</span><span class="s">"10dp"</span>
<span class="w">                </span><span class="na">android:right=</span><span class="s">"10dp"</span>
<span class="w">                </span><span class="na">android:bottom=</span><span class="s">"10dp"</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;/shape&gt;</span>
<span class="w">    </span><span class="nt">&lt;/item&gt;</span>

<span class="w">    </span><span class="nt">&lt;item</span><span class="w"> </span><span class="na">android:state_focused=</span><span class="s">"true"</span><span class="w"> </span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;shape&gt;</span>
<span class="w">            </span><span class="nt">&lt;gradient</span>
<span class="w">                </span><span class="na">android:endColor=</span><span class="s">"@color/orange4"</span>
<span class="w">                </span><span class="na">android:startColor=</span><span class="s">"@color/orange5"</span>
<span class="w">                </span><span class="na">android:angle=</span><span class="s">"270"</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;stroke</span>
<span class="w">                </span><span class="na">android:width=</span><span class="s">"3dp"</span>
<span class="w">                </span><span class="na">android:color=</span><span class="s">"@color/grey05"</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;corners</span>
<span class="w">                </span><span class="na">android:radius=</span><span class="s">"3dp"</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;padding</span>
<span class="w">                </span><span class="na">android:left=</span><span class="s">"10dp"</span>
<span class="w">                </span><span class="na">android:top=</span><span class="s">"10dp"</span>
<span class="w">                </span><span class="na">android:right=</span><span class="s">"10dp"</span>
<span class="w">                </span><span class="na">android:bottom=</span><span class="s">"10dp"</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;/shape&gt;</span>
<span class="w">    </span><span class="nt">&lt;/item&gt;</span>

<span class="w">    </span><span class="nt">&lt;item&gt;</span><span class="w">        </span>
<span class="w">        </span><span class="nt">&lt;shape&gt;</span>
<span class="w">            </span><span class="nt">&lt;gradient</span>
<span class="w">                </span><span class="na">android:endColor=</span><span class="s">"@color/blue2"</span>
<span class="w">                </span><span class="na">android:startColor=</span><span class="s">"@color/blue25"</span>
<span class="w">                </span><span class="na">android:angle=</span><span class="s">"270"</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;stroke</span>
<span class="w">                </span><span class="na">android:width=</span><span class="s">"3dp"</span>
<span class="w">                </span><span class="na">android:color=</span><span class="s">"@color/grey05"</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;corners</span>
<span class="w">                </span><span class="na">android:radius=</span><span class="s">"3dp"</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;padding</span>
<span class="w">                </span><span class="na">android:left=</span><span class="s">"10dp"</span>
<span class="w">                </span><span class="na">android:top=</span><span class="s">"10dp"</span>
<span class="w">                </span><span class="na">android:right=</span><span class="s">"10dp"</span>
<span class="w">                </span><span class="na">android:bottom=</span><span class="s">"10dp"</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;/shape&gt;</span>
<span class="w">    </span><span class="nt">&lt;/item&gt;</span>
<span class="nt">&lt;/selector&gt;</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Following on from Tomasz's answer, you can also programmatically set the shade
of the entire button using the PorterDuff multiply mode. This will change the
button colour rather than just the tint.</p>
<p>If you start with a standard grey shaded button:</p>
<div class="code"><pre class="code literal-block">button.getBackground().setColorFilter(0xFFFF0000, PorterDuff.Mode.MULTIPLY);
</pre></div>

<p>will give you a red shaded button,</p>
<div class="code"><pre class="code literal-block">button.getBackground().setColorFilter(0xFF00FF00, PorterDuff.Mode.MULTIPLY);
</pre></div>

<p>will give you a green shaded button etc., where the first value is the colour
in hex format.</p>
<p>It works by multiplying the current button colour value by your colour value.
I'm sure there's also a lot more you can do with these modes.</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/android/" rel="tag">android</a></li>
            <li><a class="tag p-category" href="../../categories/android-layout/" rel="tag">android-layout</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../if-in-select-statement-choose-output-value-based-on-column-values/" rel="prev" title="'IF' in 'SELECT' statement - choose output value based on column values">Previous post</a>
            </li>
            <li class="next">
                <a href="../how-to-set-a-javascript-breakpoint-from-code-in-chrome/" rel="next" title="How to set a JavaScript breakpoint from code in Chrome?">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

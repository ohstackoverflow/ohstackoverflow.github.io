<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Margin on child element moves parent element | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/margin-on-child-element-moves-parent-element/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../merge-up-to-a-specific-commit/" title="Merge up to a specific commit" type="text/html">
<link rel="next" href="../module-exports-vs-export-default-in-node-js-and-es6/" title="module.exports vs. export default in Node.js and ES6" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="Margin on child element moves parent element">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/margin-on-child-element-moves-parent-element/">
<meta property="og:description" content="I have a div ( parent ) that contains another div ( child ).
Parent is the first element in body with no particular CSS style. When I set
.child
{
    margin-top: 10px;
}


The end result is that top ">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-03-03T05:03:47+08:00">
<meta property="article:tag" content="css">
<meta property="article:tag" content="margin">
<meta property="article:tag" content="nested">
<meta property="article:tag" content="xhtml">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Margin on child element moves parent element</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T05:03:47+08:00" itemprop="datePublished" title="2023-03-03 05:03">2023-03-03 05:03</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>I have a <code>div</code> ( <strong>parent</strong> ) that contains another <code>div</code> ( <strong>child</strong> ).
Parent is the first element in <code>body</code> with no particular CSS style. When I set</p>
<div class="code"><pre class="code literal-block"><span class="na">.child</span>
<span class="err">{</span>
<span class="w">    </span><span class="nl">margin-top:</span><span class="w"> </span><span class="err">10</span><span class="nf">px</span><span class="c1">;</span>
<span class="err">}</span>
</pre></div>

<p>The end result is that top of my child is still aligned with parent. Instead
of child being shifted for 10px downwards, my parent moves 10px down.</p>
<p>My <code>DOCTYPE</code> is set to <code>XHTML Transitional</code>.</p>
<p><strong>What am I missing here?</strong></p>
<p><em>edit 1</em><br>
My parent needs to have strictly defined dimensions because it has a
background that has to be displayed under it from top to bottom (pixel
perfect). So setting vertical margins on it is a <strong>no go</strong>.</p>
<p><em>edit 2</em><br>
This behaviour is the same on FF, IE as well as CR.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Found an alternative at Child elements with margins within DIVs You can also
add:</p>
<div class="code"><pre class="code literal-block"><span class="na">.parent</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="no">overflow</span><span class="p">:</span><span class="w"> </span><span class="no">auto</span><span class="c1">; }</span>
</pre></div>

<p>or:</p>
<div class="code"><pre class="code literal-block"><span class="na">.parent</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="no">overflow</span><span class="p">:</span><span class="w"> </span><span class="no">hidden</span><span class="c1">; }</span>
</pre></div>

<p>This prevents the margins to collapse. Border and padding do the same. Hence,
you can also use the following to prevent a top-margin collapse:</p>
<div class="code"><pre class="code literal-block"><span class="na">.parent</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nl">padding-top:</span><span class="w"> </span><span class="err">1</span><span class="nf">px</span><span class="c1">;</span>
<span class="w">    </span><span class="nl">margin-top:</span><span class="w"> </span><span class="err">-1</span><span class="nf">px</span><span class="c1">;</span>
<span class="err">}</span>
</pre></div>

<p>2021 update: if you're willing to drop IE11 support you can also use the new
CSS construct <code>display: flow-root</code>. See MDN Web Docs for the whole details on
block formatting contexts.</p>
<hr>
<p><strong>Update by popular request:</strong> The whole point of collapsing margins is
handling textual content. For example:</p>
<div class="code"><pre class="code literal-block">h1,<span class="w"> </span>h2,<span class="w"> </span>p,<span class="w"> </span>ul<span class="w"> </span>{
<span class="w">  </span>margin-top:<span class="w"> </span>1em;
<span class="w">  </span>margin-bottom:<span class="w"> </span>1em;
<span class="w">  </span>outline:<span class="w"> </span>1px<span class="w"> </span>dashed<span class="w"> </span>blue;
}

div<span class="w"> </span>{<span class="w"> </span>outline:<span class="w"> </span>1px<span class="w"> </span>solid<span class="w"> </span>red;<span class="w"> </span>}


<span class="nt">&lt;h1&gt;</span>Title!<span class="nt">&lt;/h1&gt;</span>
<span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"text"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;h2&gt;</span>Title!<span class="nt">&lt;/h2&gt;</span>
<span class="w">  </span><span class="nt">&lt;p&gt;</span>Paragraph<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"text"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;h2&gt;</span>Title!<span class="nt">&lt;/h2&gt;</span>
<span class="w">  </span><span class="nt">&lt;p&gt;</span>Paragraph<span class="nt">&lt;/p&gt;</span>
<span class="w">  </span><span class="nt">&lt;ul&gt;</span>
<span class="w">    </span><span class="nt">&lt;li&gt;</span>list<span class="w"> </span>item<span class="nt">&lt;/li&gt;</span>
<span class="w">  </span><span class="nt">&lt;/ul&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p>Because the browser collapses margins, the text would appear as you'd expect,
and the <code>&lt;div&gt;</code> wrapper tags don't influence the margins. Each element ensures
it has spacing around it, but spacing won't be doubled. The margins of the
<code>&lt;h2&gt;</code> and <code>&lt;p&gt;</code> won't add up, but slide into each other (they collapse). The
same happens for the <code>&lt;p&gt;</code> and <code>&lt;ul&gt;</code> element.</p>
<p>Sadly, with modern designs this idea can bite you when you explicitly want a
container. This is called a new block formatting context in CSS speak. The
<code>overflow</code> or margin trick will give you that.</p>
<p><br></p>
<h3>Suggest</h3>
<p>This is normal behaviour (among browser implementations at least). Margin does
not affect the child's position in relation to its parent, unless the parent
has padding, in which case most browsers will then add the child's margin to
the parent's padding.</p>
<p>To get the behaviour you want, you need:</p>
<div class="code"><pre class="code literal-block"><span class="na">.child</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nl">margin-top:</span><span class="w"> </span><span class="err">0</span><span class="c1">;</span>
<span class="err">}</span>

<span class="na">.parent</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nl">padding-top:</span><span class="w"> </span><span class="err">10</span><span class="nf">px</span><span class="c1">;</span>
<span class="err">}</span>
</pre></div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/css/" rel="tag">css</a></li>
            <li><a class="tag p-category" href="../../categories/margin/" rel="tag">margin</a></li>
            <li><a class="tag p-category" href="../../categories/nested/" rel="tag">nested</a></li>
            <li><a class="tag p-category" href="../../categories/xhtml/" rel="tag">xhtml</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../merge-up-to-a-specific-commit/" rel="prev" title="Merge up to a specific commit">Previous post</a>
            </li>
            <li class="next">
                <a href="../module-exports-vs-export-default-in-node-js-and-es6/" rel="next" title="module.exports vs. export default in Node.js and ES6">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

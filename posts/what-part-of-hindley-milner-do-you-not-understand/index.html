<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>What part of Hindley-Milner do you not understand? | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/what-part-of-hindley-milner-do-you-not-understand/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../merge-development-branch-with-master/" title="Merge development branch with master" type="text/html">
<link rel="next" href="../in-javascript-how-to-conditionally-add-a-member-to-an-object/" title="In JavaScript, how to conditionally add a member to an object?" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="What part of Hindley-Milner do you not understand?">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/what-part-of-hindley-milner-do-you-not-understand/">
<meta property="og:description" content="I swear there used to be a T-shirt for sale featuring the immortal
words:

What part of

do you not understand?

In my case, the answer would be... all of it!
In particular, I often see notation like ">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-17T09:48:15+08:00">
<meta property="article:tag" content="denotational-semantics">
<meta property="article:tag" content="functional-programming">
<meta property="article:tag" content="haskell">
<meta property="article:tag" content="hindley-milner">
<meta property="article:tag" content="lambda-calculus">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">What part of Hindley-Milner do you not understand?</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T09:48:15+08:00" itemprop="datePublished" title="2023-02-17 09:48">2023-02-17 09:48</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>I <em>swear</em> there used to be a <strong>T-shirt</strong> for sale featuring the immortal
words:</p>
<hr>
<p>What part of</p>
<p><img alt="Hindley-Milner" src="../../images/xkKgE.png"></p>
<p>do you <em>not</em> understand?</p>
<hr>
<p>In my case, the answer would be... all of it!</p>
<p>In particular, I often see notation like this in Haskell papers, but I have no
clue what any of it means. I have no idea what branch of mathematics it's
supposed to be.</p>
<p>I recognize the letters of the Greek alphabet of course and symbols such as
"∉" (which usually means that something is not an element of a set).</p>
<p>On the other hand, I've never seen "⊢" before (Wikipedia claims it might mean
"partition"). I'm also unfamiliar with the use of the vinculum here. (Usually,
it denotes a fraction, but that does not <em>appear</em> to be the case here.)</p>
<p>If somebody could at least tell me where to start looking to comprehend what
this sea of symbols means, that would be helpful.</p>
<p><br><br></p>
<h2>Answer</h2>
<ul>
<li>The <em>horizontal bar</em> means that "[above] <strong>implies</strong> [below]".</li>
<li>If there are <em>multiple expressions</em> in [above], then consider them <strong>anded</strong> together; all of the [above] must be true in order to guarantee the [below].</li>
<li>
<code>:</code> means <strong>has type</strong>
</li>
<li>
<code>∈</code> means <strong>is in</strong>. (Likewise <code>∉</code> means "is not in".)</li>
<li>
<code>Γ</code> is usually used to refer to an <strong>environment</strong> or context; in this case it can be thought of as a set of type annotations, pairing an identifier with its type. Therefore <code>x : σ ∈ Γ</code> means that the environment <code>Γ</code> includes the fact that <code>x</code> has type <code>σ</code>.</li>
<li>
<code>⊢</code> can be read as <strong>proves</strong> or determines. <code>Γ ⊢ x : σ</code> means that the environment <code>Γ</code> determines that <code>x</code> has type <code>σ</code>.</li>
<li>
<code>,</code> is a way of <strong>including</strong> specific additional assumptions into an environment <code>Γ</code>.<br>
Therefore, <code>Γ, x : τ ⊢ e : τ'</code> means that environment <code>Γ</code>, <em>with the
additional, overriding assumption that<code>x</code> has type <code>τ</code></em>, proves that <code>e</code> has
type <code>τ'</code>.</li>
</ul>
<hr>
<p>As requested: operator precedence, from highest to lowest:</p>
<ul>
<li>Language-specific infix and mixfix operators, such as <code>λ x . e</code>, <code>∀ α . σ</code>, and <code>τ → τ'</code>, <code>let x = e0 in e1</code>, and whitespace for function application.</li>
<li><code>:</code></li>
<li>
<code>∈</code> and <code>∉</code>
</li>
<li>
<code>,</code> (left-associative)</li>
<li><code>⊢</code></li>
<li>whitespace separating multiple propositions (associative)</li>
<li>the horizontal bar</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<p>This syntax, while it may look complicated, is actually fairly simple. The
basic idea comes from formal logic: the whole expression is an implication
with the top half being the assumptions and the bottom half being the result.
That is, if you know that the top expressions are true, you can conclude that
the bottom expressions are true as well.</p>
<h3>Symbols</h3>
<p>Another thing to keep in mind is that some letters have traditional meanings;
particularly, Γ represents the "context" you're in—that is, what the types of
other things you've seen are. So something like <code>Γ ⊢ ...</code> means "the
expression <code>...</code> when you know the types of every expression in <code>Γ</code>.</p>
<p>The <code>⊢</code> symbol essentially means that you can prove something. So <code>Γ ⊢ ...</code> is
a statement saying "I can prove <code>...</code> in a context <code>Γ</code>. These statements are
also called type judgements.</p>
<p>Another thing to keep in mind: in math, just like ML and Scala, <code>x : σ</code> means
that <code>x</code> has type <code>σ</code>. You can read it just like Haskell's <code>x :: σ</code>.</p>
<h3>What each rule means</h3>
<p>So, knowing this, the first expression becomes easy to understand: if we know
that <code>x : σ ∈ Γ</code> (that is, <code>x</code> has some type <code>σ</code> in some context <code>Γ</code>), then we
know that <code>Γ ⊢ x : σ</code> (that is, in <code>Γ</code>, <code>x</code> has type <code>σ</code>). So really, this
isn't telling you anything super-interesting; it just tells you how to use
your context.</p>
<p>The other rules are also simple. For example, take <code>[App]</code>. This rule has two
conditions: <code>e₀</code> is a function from some type <code>τ</code> to some type <code>τ'</code> and <code>e₁</code>
is a value of type <code>τ</code>. Now you know what type you will get by applying <code>e₀</code>
to <code>e₁</code>! Hopefully this isn't a surprise :).</p>
<p>The next rule has some more new syntax. Particularly, <code>Γ, x : τ</code> just means
the context made up of <code>Γ</code> and the judgement <code>x : τ</code>. So, if we know that the
variable <code>x</code> has a type of <code>τ</code> and the expression <code>e</code> has a type <code>τ'</code>, we also
know the type of a function that takes <code>x</code> and returns <code>e</code>. This just tells us
what to do if we've figured out what type a function takes and what type it
returns, so it shouldn't be surprising either.</p>
<p>The next one just tells you how to handle <code>let</code> statements. If you know that
some expression <code>e₁</code> has a type <code>τ</code> as long as <code>x</code> has a type <code>σ</code>, then a
<code>let</code> expression which locally binds <code>x</code> to a value of type <code>σ</code> will make <code>e₁</code>
have a type <code>τ</code>. Really, this just tells you that a let statement essentially
lets you expand the context with a new binding—which is exactly what <code>let</code>
does!</p>
<p>The <code>[Inst]</code> rule deals with sub-typing. It says that if you have a value of
type <code>σ'</code> and it is a sub-type of <code>σ</code> (<code>⊑</code> represents a partial ordering
relation) then that expression is <em>also</em> of type <code>σ</code>.</p>
<p>The final rule deals with generalizing types. A quick aside: a free variable
is a variable that is not introduced by a let-statement or lambda inside some
expression; this expression now depends on the value of the free variable from
its context.The rule is saying that if there is some variable <code>α</code> which is
<em>not</em> "free" in anything in your context, then it is safe to say that any
expression whose type you know <code>e : σ</code> will have that type for <em>any</em> value of
<code>α</code>.</p>
<h3>How to use the rules</h3>
<p>So, now that you understand the symbols, what do you do with these rules?
Well, you can use these rules to figure out the type of various values. To do
this, look at your expression (say <code>f x y</code>) and find a rule that has a
conclusion (the bottom part) that matches your statement. Let's call the thing
you're trying to find your "goal". In this case, you would look at the rule
that ends in <code>e₀ e₁</code>. When you've found this, you now have to find rules
proving everything above the line of this rule. These things generally
correspond to the types of sub-expressions, so you're essentially recursing on
parts of the expression. You just do this until you finish your proof tree,
which gives you a proof of the type of your expression.</p>
<p>So all these rules do is specify exactly—and in the usual mathematically
pedantic detail :P—how to figure out the types of expressions.</p>
<p>Now, this should sound familiar if you've ever used Prolog—you're essentially
computing the proof tree like a human Prolog interpreter. There is a reason
Prolog is called "logic programming"! This is also important as the first way
I was introduced to the H-M inference algorithm was by implementing it in
Prolog. This is actually surprisingly simple and makes what's going on clear.
You should certainly try it.</p>
<p>Note: I probably made some mistakes in this explanation and would love it if
somebody would point them out. I'll actually be covering this in class in a
couple of weeks, so I'll be more confident then :P.</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/denotational-semantics/" rel="tag">denotational-semantics</a></li>
            <li><a class="tag p-category" href="../../categories/functional-programming/" rel="tag">functional-programming</a></li>
            <li><a class="tag p-category" href="../../categories/haskell/" rel="tag">haskell</a></li>
            <li><a class="tag p-category" href="../../categories/hindley-milner/" rel="tag">hindley-milner</a></li>
            <li><a class="tag p-category" href="../../categories/lambda-calculus/" rel="tag">lambda-calculus</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../merge-development-branch-with-master/" rel="prev" title="Merge development branch with master">Previous post</a>
            </li>
            <li class="next">
                <a href="../in-javascript-how-to-conditionally-add-a-member-to-an-object/" rel="next" title="In JavaScript, how to conditionally add a member to an object?">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

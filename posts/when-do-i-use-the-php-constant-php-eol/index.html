<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>When do I use the PHP constant "PHP_EOL"? | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/when-do-i-use-the-php-constant-php-eol/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../use-of-finalize-dispose-method-in-c/" title="Use of Finalize/Dispose method in C#" type="text/html">
<link rel="next" href="../what-does-docker-add-to-lxc-tools-the-userspace-lxc-tools/" title="What does Docker add to lxc-tools (the userspace LXC tools)?" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content='When do I use the PHP constant "PHP_EOL"?'>
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/when-do-i-use-the-php-constant-php-eol/">
<meta property="og:description" content="When is it a good idea to use PHP_EOL?
I sometimes see this in code samples of PHP. Does this handle DOS/Mac/Unix
endline issues?

Answer
Yes, PHP_EOL is ostensibly used to find the newline character ">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-03-03T17:27:32+08:00">
<meta property="article:tag" content="eol">
<meta property="article:tag" content="php">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">When do I use the PHP constant "PHP_EOL"?</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T17:27:32+08:00" itemprop="datePublished" title="2023-03-03 17:27">2023-03-03 17:27</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>When is it a good idea to use <code>PHP_EOL</code>?</p>
<p>I sometimes see this in code samples of PHP. Does this handle DOS/Mac/Unix
endline issues?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Yes, <code>PHP_EOL</code> is ostensibly used to find the newline character in a cross-
platform-compatible way, so it handles DOS/Unix issues.</p>
<p>Note that PHP_EOL represents the endline character for the <em>current</em> system.
For instance, it will not find a Windows endline when executed on a unix-like
system.</p>
<p><br></p>
<h3>Suggest</h3>
<p>From <code>main/php.h</code> of PHP version 7.1.1 and version 5.6.30:</p>
<div class="code"><pre class="code literal-block"><span class="c1">#ifdef PHP_WIN32</span>
<span class="c1">#   include "tsrm_win32.h"</span>
<span class="c1">#   include "win95nt.h"</span>
<span class="c1">#   ifdef PHP_EXPORTS</span>
<span class="c1">#       define PHPAPI __declspec(dllexport)</span>
<span class="c1">#   else</span>
<span class="c1">#       define PHPAPI __declspec(dllimport)</span>
<span class="c1">#   endif</span>
<span class="c1">#   define PHP_DIR_SEPARATOR '\\'</span>
<span class="c1">#   define PHP_EOL "\r\n"</span>
<span class="c1">#else</span>
<span class="c1">#   if defined(__GNUC__) &amp;&amp; __GNUC__ &gt;= 4</span>
<span class="c1">#       define PHPAPI __attribute__ ((visibility("default")))</span>
<span class="c1">#   else</span>
<span class="c1">#       define PHPAPI</span>
<span class="c1">#   endif</span>
<span class="c1">#   define THREAD_LS</span>
<span class="c1">#   define PHP_DIR_SEPARATOR '/'</span>
<span class="c1">#   define PHP_EOL "\n"</span>
<span class="c1">#endif</span>
</pre></div>

<p>As you can see <code>PHP_EOL</code> can be <code>"\r\n"</code> (on Windows servers) or <code>"\n"</code> (on
anything else). On PHP versions <strong>prior</strong> 5.4.0RC8, there were a third value
possible for <code>PHP_EOL</code>: <code>"\r"</code> (on MacOSX servers). It was wrong and has been
fixed on 2012-03-01 with bug 61193.</p>
<p>As others already told you, you can use <code>PHP_EOL</code> in any kind of output (where
<strong>any</strong> of these values are valid - like: HTML, XML, logs...) where you want
unified newlines. Keep in mind that it's the server that it's determining the
value, not the client. Your Windows visitors will get the value from your Unix
server which is inconvenient for them sometimes.</p>
<p>I just wanted to show the possibles values of <code>PHP_EOL</code> backed by the PHP
sources since it hasn't been shown here yet...</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/eol/" rel="tag">eol</a></li>
            <li><a class="tag p-category" href="../../categories/php/" rel="tag">php</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../use-of-finalize-dispose-method-in-c/" rel="prev" title="Use of Finalize/Dispose method in C#">Previous post</a>
            </li>
            <li class="next">
                <a href="../what-does-docker-add-to-lxc-tools-the-userspace-lxc-tools/" rel="next" title="What does Docker add to lxc-tools (the userspace LXC tools)?">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

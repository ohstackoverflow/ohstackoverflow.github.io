<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>.NET Core 和 .NET Standard 类库项目类型有什么区别？ | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/net-core-he-net-standard-lei-ku-xiang-mu-lei-xing-you-shi-yao-qu-bie/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../postgresql-cuo-wu-zhi-ming-jiao-se-yong-hu-ming-bu-cun-zai/" title="PostgreSQL 错误：致命：角色“用户名”不存在" type="text/html">
<link rel="next" href="../ru-he-zai-javadoc-zhong-yin-yong-yi-ge-fang-fa/" title="如何在 javadoc 中引用一个方法？" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content=".NET Core 和 .NET Standard 类库项目类型有什么区别？">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/net-core-he-net-standard-lei-ku-xiang-mu-lei-xing-you-shi-yao-qu-bie/">
<meta property="og:description" content="在 Visual Studio 中，至少可以创建三种不同类型的类库：

类库（.NET 框架）
类库（.NET 标准）
类库（.NET 核心）

虽然第一个是我们多年来一直使用的类型，但我一直感到困惑的一个主要问题是何时使用 .NET Standard 和 .NET Core
类库类型。最近在尝试针对不同的框架版本并创建单元测试项目时，我一直被这个困扰。
那么，类库 (.NET Standard)">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-17T07:53:33+08:00">
<meta property="article:tag" content=".net">
<meta property="article:tag" content=".net-core">
<meta property="article:tag" content=".net-standard">
<meta property="article:tag" content="class-library">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">.NET Core 和 .NET Standard 类库项目类型有什么区别？</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T07:53:33+08:00" itemprop="datePublished" title="2023-02-17 07:53">2023-02-17 07:53</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>在 Visual Studio 中，至少可以创建三种不同类型的类库：</p>
<ul>
<li>类库（.NET 框架）</li>
<li>类库（.NET 标准）</li>
<li>类库（.NET 核心）</li>
</ul>
<p>虽然第一个是我们多年来一直使用的类型，但我一直感到困惑的一个主要问题是何时使用 .NET Standard 和 .NET Core
类库类型。最近在尝试针对不同的框架版本并创建单元测试项目时，我一直被这个困扰。</p>
<p><em>那么，类库 (.NET Standard)</em> 和 <em>类库 (.NET Core)</em>
之间有什么区别，为什么两者都存在，我们什么时候应该使用一个而不是另一个？</p>
<p><br><br></p>
<h2>解答</h2>
<blockquote>
<p>我们什么时候应该使用一个而不是另一个？</p>
</blockquote>
<p>该决定是兼容性和 API 访问之间的权衡。</p>
<p>当您想要增加与您的库兼容的应用程序数量时，请使用 .NET Standard 库，并且您可以接受减少您的库可以访问的 .NET API 表面区域。</p>
<p>当您想要增加您的库可以访问的 .NET API 表面区域时，请使用 .NET Core 库，并且您可以只允许 .NET Core 应用程序与您的库兼容。</p>
<p>例如，以 .NET Standard 1.3 为目标的库将与以 .NET Framework 4.6、.NET Core 1.0、通用 Windows 平台
10.0 和任何其他支持 .NET Standard 1.3 的平台为目标的应用程序兼容。不过，该库将无法访问 .NET API
的某些部分。例如，该<code>Microsoft.NETCore.CoreCLR</code>包与 .NET Core 兼容，但与 .NET Standard 不兼容。</p>
<blockquote>
<p>类库（.NET Standard）和类库（.NET Core）有什么区别？</p>
</blockquote>
<p>兼容性：以 .NET Standard 为目标的库将在任何符合 .NET Standard 的运行时上运行，例如 .NET Core、.NET
Framework、Mono / Xamarin。另一方面，以 .NET Core 为目标的库只能在 .NET Core 运行时上运行。</p>
<p>API Surface Area：.NET Standard 库包含 .NET 中的所有内容<code>NETStandard.Library</code>，而 .NET
Core 库包含<code>Microsoft.NETCore.App</code>. 后者包括大约 20 个额外的库，其中一些我们可以手动添加到我们的 .NET
Standard 库中（例如<code>System.Threading.Thread</code>），还有一些与 .NET Standard
不兼容（例如<code>Microsoft.NETCore.CoreCLR</code>）。</p>
<p>此外，.NET Core 库指定运行时并附带应用程序模型。这很重要，例如，使单元测试类库可运行。</p>
<blockquote>
<p>为什么两者都存在？</p>
</blockquote>
<p>暂时忽略库，.NET Standard 存在的原因是为了可移植性；它定义了一组 .NET 平台同意实施的 API。任何实现 .NET Standard
的平台都与面向该 .NET Standard 的库兼容。其中一个兼容平台是 .NET Core。</p>
<p>回到库，存在 .NET Standard 库模板以在多个运行时上运行（以 API 表面积为代价）。相反，.NET Core 库模板的存在是为了访问更多的
API 表面区域（以兼容性为代价）并指定用于构建可执行文件的平台。</p>
<p>这是一个交互式矩阵，显示了哪个 .NET Standard 支持哪个 .NET 实现以及有多少 API 表面积可用。</p>
<p><br></p>
<h3>更多建议</h3>
<p><strong>.NET Core 类库</strong> 基于 <strong>.NET Standard</strong> 构建。 <strong>如果要实现可移植到.NET Framework</strong> 、 <strong>.NET
Core</strong> 和 <strong>Xamarin</strong> 的库，请选择 <strong>.NET Standard Library</strong></p>
<p><strong>.NET Core 最终将实现 .NET Standard 2 （</strong> <strong>Xamarin</strong> 和 <strong>.NET Framework</strong> 也是如此）</p>
<p><strong>因此， .NET Core</strong> 、 <strong>Xamarin</strong> 和 <strong>.NET Framework</strong> 可以被识别为 <strong>.NET Standard</strong>
的 <strong>变种</strong> ****</p>
<p>为了让您的应用程序面向未来进行代码共享和重用，您宁愿实施 .NET Standard 库。</p>
<p>Microsoft 还建议您使用 <strong>.NET Standard</strong> 而不是 <strong>Portable Class Libraries</strong> 。</p>
<p>引用 MSDN 作为权威来源， <strong>.NET Standard</strong> 旨在成为 <strong>一个库来统治一切</strong> 。图胜千言，下面就一目了然了：</p>
<p><strong>1、你目前的应用场景（零散）</strong></p>
<p>像我们大多数人一样，您可能处于以下情况：（.NET Framework、Xamarin 和现在的 .NET Core 风格的应用程序）</p>
<p><img alt="在此处输入图像描述" src="../../images/Dwrzt.png"></p>
<p><strong>2. .NET 标准库将为您启用什么（跨框架兼容性）</strong></p>
<p>实施 .NET 标准库允许在所有这些不同风格之间共享代码：</p>
<p><img alt="一个图书馆统领一切" src="../../images/tE1ny.png"></p>
<p>对于不耐烦的人：</p>
<ol>
<li>
<strong>.NET Standard</strong> 通过在您需要的环境中提供您期望和喜爱的所有 API，解决了所有平台上 .NET 开发人员的代码共享问题：桌面应用程序、移动应用程序和游戏以及云服务：</li>
<li>
<strong>.NET Standard</strong> 是 <strong>所有</strong>.NET 平台都 <strong>必须实现的</strong> 一 <strong>组 API</strong> 。这 <strong>统一了 .NET 平台</strong> 并 <strong>防止了未来的碎片化</strong> 。 <strong><em>* </em></strong><em> </em><strong><em> </em></strong>*</li>
<li>
<strong>.NET Standard 2.0</strong> 将由 <strong>.NET Framework</strong> 实施，. <strong>NET 核心</strong> 和 <strong>Xamarin</strong> 。对于 <strong>.NET Core</strong> ，这将添加许多已请求的现有 API。</li>
<li>
<strong>.NET Standard 2.0包含</strong> <strong>.NET Framework</strong> 二进制文件的兼容性垫片，显着增加了可从 .NET Standard 库中引用的库集。</li>
<li>
<strong>.NET Standard</strong> <strong>将取代可移植类库 (PCL)</strong> 作为构建多平台 .NET 库的工具。</li>
</ol>
<p>如需表格以帮助了解您可以基于您打算在哪些 .NET 平台上运行的 .NET Standard 的最高版本，请访问此处。</p>
<p>资料来源：MSDN：.NET Standard 简介</p>
<p><br><br><a href="../what-is-the-difference-between-net-core-and-net-standard-class-library-project-types/">查看原文</a></p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/net/" rel="tag">.net</a></li>
            <li><a class="tag p-category" href="../../categories/net-core/" rel="tag">.net-core</a></li>
            <li><a class="tag p-category" href="../../categories/net-standard/" rel="tag">.net-standard</a></li>
            <li><a class="tag p-category" href="../../categories/class-library/" rel="tag">class-library</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../postgresql-cuo-wu-zhi-ming-jiao-se-yong-hu-ming-bu-cun-zai/" rel="prev" title="PostgreSQL 错误：致命：角色“用户名”不存在">Previous post</a>
            </li>
            <li class="next">
                <a href="../ru-he-zai-javadoc-zhong-yin-yong-yi-ge-fang-fa/" rel="next" title="如何在 javadoc 中引用一个方法？">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

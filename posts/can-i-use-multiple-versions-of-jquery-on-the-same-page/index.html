<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Can I use multiple versions of jQuery on the same page? | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/can-i-use-multiple-versions-of-jquery-on-the-same-page/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../git-bash-is-extremely-slow-on-windows-7-x64/" title="Git Bash is extremely slow on Windows 7 x64" type="text/html">
<link rel="next" href="../contenteditable-change-events/" title="contenteditable change events" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="Can I use multiple versions of jQuery on the same page?">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/can-i-use-multiple-versions-of-jquery-on-the-same-page/">
<meta property="og:description" content="A project I'm working on requires the use of jQuery on customers' Web pages.
Customers will insert a chunk of code that we'll supply which includes a few
&lt;script&gt; elements that build a widget in a &lt;sc">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-03-03T09:43:04+08:00">
<meta property="article:tag" content="iframe">
<meta property="article:tag" content="javascript">
<meta property="article:tag" content="jquery">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Can I use multiple versions of jQuery on the same page?</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T09:43:04+08:00" itemprop="datePublished" title="2023-03-03 09:43">2023-03-03 09:43</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>A project I'm working on requires the use of jQuery on customers' Web pages.
Customers will insert a chunk of code that we'll supply which includes a few
<code>&lt;script&gt;</code> elements that build a widget in a <code>&lt;script&gt;</code>-created <code>&lt;iframe&gt;</code>. If
they aren't already using the latest version of jQuery, this will also include
(most likely) a <code>&lt;script&gt;</code> for Google's hosted version of jQuery.</p>
<p>The problem is that some customers may already have an older version of jQuery
installed. While this may work if it's at least a fairly recent version, our
code does rely on some recently introduced functionality in the jQuery
library, so there are bound to be instances when a customer's jQuery version
is just too old. We can't require that they upgrade to the latest version of
jQuery.</p>
<p>Is there any way to load a newer version of jQuery to use only within the
context of our code, that will not interfere with, or affect, any code on the
customer's page? Ideally, maybe we could check for the presence of jQuery,
detect the version, and if it's too old, then somehow load the most recent
version just to use for our code.</p>
<p>I had the idea of loading jQuery in an <code>&lt;iframe&gt;</code> in the customer's domain
that also includes our <code>&lt;script&gt;</code>, which seems like it might be feasible, but
I'm hoping there's a more elegant way to do it (not to mention without the
performance and complexity penalties of extra <code>&lt;iframe&gt;</code>s).</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Yes, it's doable due to jQuery's noconflict mode.
http://blog.nemikor.com/2009/10/03/using-multiple-versions-of-jquery/</p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;!--</span><span class="w"> </span><span class="nb">load</span><span class="w"> </span><span class="n">jQuery</span><span class="w"> </span><span class="mf">1.1</span><span class="o">.</span><span class="mi">3</span><span class="w"> </span><span class="o">--&gt;</span>
<span class="o">&lt;</span><span class="n">script</span><span class="w"> </span><span class="n">type</span><span class="o">=</span><span class="s2">"text/javascript"</span><span class="w"> </span><span class="n">src</span><span class="o">=</span><span class="s2">"http://example.com/jquery-1.1.3.js"</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">script</span><span class="w"> </span><span class="n">type</span><span class="o">=</span><span class="s2">"text/javascript"</span><span class="o">&gt;</span>
<span class="k">var</span><span class="w"> </span><span class="n">jQuery_1_1_3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">$.</span><span class="n">noConflict</span><span class="p">(</span><span class="bp">true</span><span class="p">);</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>

<span class="o">&lt;!--</span><span class="w"> </span><span class="nb">load</span><span class="w"> </span><span class="n">jQuery</span><span class="w"> </span><span class="mf">1.3</span><span class="o">.</span><span class="mi">2</span><span class="w"> </span><span class="o">--&gt;</span>
<span class="o">&lt;</span><span class="n">script</span><span class="w"> </span><span class="n">type</span><span class="o">=</span><span class="s2">"text/javascript"</span><span class="w"> </span><span class="n">src</span><span class="o">=</span><span class="s2">"http://example.com/jquery-1.3.2.js"</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">script</span><span class="w"> </span><span class="n">type</span><span class="o">=</span><span class="s2">"text/javascript"</span><span class="o">&gt;</span>
<span class="k">var</span><span class="w"> </span><span class="n">jQuery_1_3_2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">$.</span><span class="n">noConflict</span><span class="p">(</span><span class="bp">true</span><span class="p">);</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>

<p>Then, instead of <code>$('#selector').function();</code>, you'd do
<code>jQuery_1_3_2('#selector').function();</code> or
<code>jQuery_1_1_3('#selector').function();</code>.</p>
<p><br></p>
<h3>Suggest</h3>
<p>After looking at this and trying it out I found it actually didn't allow more
than one instance of jquery to run at a time. After searching around I found
that this did just the trick and was a whole lot less code.</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;script</span><span class="w"> </span><span class="na">src=</span><span class="s">"http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"</span><span class="w"> </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script</span><span class="w"> </span><span class="na">src=</span><span class="s">"http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"</span><span class="w"> </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>var<span class="w"> </span>$j<span class="w"> </span>=<span class="w"> </span>jQuery.noConflict(true);<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
<span class="w">  </span>$(document).ready(function(){
<span class="w">   </span>console.log($().jquery);<span class="w"> </span>//<span class="w"> </span>This<span class="w"> </span>prints<span class="w"> </span>v1.4.2
<span class="w">   </span>console.log($j().jquery);<span class="w"> </span>//<span class="w"> </span>This<span class="w"> </span>prints<span class="w"> </span>v1.9.1
<span class="w">  </span>});
<span class="nt">&lt;/script&gt;</span>
</pre></div>

<p>So then adding the "j" after the "$" was all I needed to do.</p>
<div class="code"><pre class="code literal-block"><span class="o">$</span><span class="n">j</span><span class="p">(</span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="o">$</span><span class="n">j</span><span class="p">(</span><span class="s1">'.button-pro'</span><span class="p">)</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s1">'click'</span><span class="p">,</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">el</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="s1">'#cnt'</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">this</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'btn'</span><span class="p">,</span><span class="w"> </span><span class="s1">''</span><span class="p">));</span>
<span class="w">    </span><span class="o">$</span><span class="n">j</span><span class="p">(</span><span class="s1">'#contentnew &gt; div'</span><span class="p">)</span><span class="o">.</span><span class="ow">not</span><span class="p">(</span><span class="n">el</span><span class="p">)</span><span class="o">.</span><span class="n">animate</span><span class="p">({</span>
<span class="w">      </span><span class="n">height</span><span class="p">:</span><span class="w"> </span><span class="s2">"toggle"</span><span class="p">,</span>
<span class="w">      </span><span class="n">opacity</span><span class="p">:</span><span class="w"> </span><span class="s2">"toggle"</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">hide</span><span class="p">();</span>
<span class="w">    </span><span class="n">el</span><span class="o">.</span><span class="n">toggle</span><span class="p">();</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">});</span>
</pre></div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/iframe/" rel="tag">iframe</a></li>
            <li><a class="tag p-category" href="../../categories/javascript/" rel="tag">javascript</a></li>
            <li><a class="tag p-category" href="../../categories/jquery/" rel="tag">jquery</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../git-bash-is-extremely-slow-on-windows-7-x64/" rel="prev" title="Git Bash is extremely slow on Windows 7 x64">Previous post</a>
            </li>
            <li class="next">
                <a href="../contenteditable-change-events/" rel="next" title="contenteditable change events">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

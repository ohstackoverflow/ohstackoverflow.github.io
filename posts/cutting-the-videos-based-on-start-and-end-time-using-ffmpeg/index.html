<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Cutting the videos based on start and end time using ffmpeg | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/cutting-the-videos-based-on-start-and-end-time-using-ffmpeg/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../query-for-documents-where-array-size-is-greater-than-1/" title="Query for documents where array size is greater than 1" type="text/html">
<link rel="next" href="../sql-join-where-clause-vs-on-clause/" title="SQL JOIN - WHERE clause vs. ON clause" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="Cutting the videos based on start and end time using ffmpeg">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/cutting-the-videos-based-on-start-and-end-time-using-ffmpeg/">
<meta property="og:description" content="I tried to cut the video using the start and end time of the video by using
the following command
ffmpeg -ss 00:00:03 -t 00:00:08 -i movie.mp4 -acodec copy -vcodec copy -async 1 cut.mp4


By using the">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-17T09:58:39+08:00">
<meta property="article:tag" content="ffmpeg">
<meta property="article:tag" content="video">
<meta property="article:tag" content="video-editing">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Cutting the videos based on start and end time using ffmpeg</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T09:58:39+08:00" itemprop="datePublished" title="2023-02-17 09:58">2023-02-17 09:58</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>I tried to cut the video using the start and end time of the video by using
the following command</p>
<div class="code"><pre class="code literal-block">ffmpeg -ss 00:00:03 -t 00:00:08 -i movie.mp4 -acodec copy -vcodec copy -async 1 cut.mp4
</pre></div>

<p>By using the above command i want to cut the video from <code>00:00:03</code> to
<code>00:00:08</code>. But it is not cutting the video between those times instead of
that it is cutting the video with first 11 seconds. can anyone help me how
resolve this?</p>
<p><strong>Edit 1:</strong></p>
<p>I have tried to cut by using the following command which is suggested by
mark4o</p>
<div class="code"><pre class="code literal-block">ffmpeg -i movie.mp4 -ss 00:00:03 -t 00:00:08 -async 1 cut.mp4
</pre></div>

<p>But it was shown the following error.</p>
<p><em><strong>the encoder 'aac' is experimental but experimental codecs are not
enabled</strong></em></p>
<p>so i added the <code>-strict -2</code> into the command i.e.,</p>
<div class="code"><pre class="code literal-block">ffmpeg -i movie.mp4 -ss 00:00:03 -t 00:00:08 -async 1 -strict -2 cut.mp4
</pre></div>

<p>Now it is working fine.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You probably do not have a keyframe at the 3 second mark. Because non-
keyframes encode differences from other frames, they require all of the data
starting with the previous keyframe.</p>
<p>With the mp4 container it is possible to cut at a non-keyframe without re-
encoding using an edit list. In other words, if the closest keyframe before 3s
is at 0s then it will copy the video starting at 0s and use an edit list to
tell the player to start playing 3 seconds in.</p>
<p>If you are using the latest ffmpeg from git master it will do this using an
edit list when invoked using the command that you provided. If this is not
working for you then you are probably either using an older version of ffmpeg,
or your player does not support edit lists. Some players will ignore the edit
list and always play all of the media in the file from beginning to end.</p>
<p>If you want to cut precisely starting at a non-keyframe and want it to play
starting at the desired point on a player that does not support edit lists, or
want to ensure that the cut portion is not actually in the output file (for
example if it contains confidential information), then you can do that by re-
encoding so that there will be a keyframe precisely at the desired start time.
Re-encoding is the default if you do not specify <code>copy</code>. For example:</p>
<div class="code"><pre class="code literal-block">ffmpeg -i movie.mp4 -ss 00:00:03 -t 00:00:08 -async 1 cut.mp4
</pre></div>

<p>When re-encoding you may also wish to include additional quality-related
options or a particular AAC encoder. For details, see ffmpeg's x264 Encoding
Guide for video and AAC Encoding Guide for audio.</p>
<p>Also, the <code>-t</code> option specifies a duration, not an end time. The above command
will encode 8s of video starting at 3s. To start at 3s and end at 8s use <code>-t
5</code>. If you are using a current version of ffmpeg you can also replace <code>-t</code>
with <code>-to</code> in the above command to end at the specified time.</p>
<p><br></p>
<h3>Suggest</h3>
<p>You probably do not have a keyframe at the 3 second mark. Because non-
keyframes encode differences from other frames, they require all of the data
starting with the previous keyframe.</p>
<p>With the mp4 container it is possible to cut at a non-keyframe without re-
encoding using an edit list. In other words, if the closest keyframe before 3s
is at 0s then it will copy the video starting at 0s and use an edit list to
tell the player to start playing 3 seconds in.</p>
<p>If you are using the latest ffmpeg from git master it will do this using an
edit list when invoked using the command that you provided. If this is not
working for you then you are probably either using an older version of ffmpeg,
or your player does not support edit lists. Some players will ignore the edit
list and always play all of the media in the file from beginning to end.</p>
<p>If you want to cut precisely starting at a non-keyframe and want it to play
starting at the desired point on a player that does not support edit lists, or
want to ensure that the cut portion is not actually in the output file (for
example if it contains confidential information), then you can do that by re-
encoding so that there will be a keyframe precisely at the desired start time.
Re-encoding is the default if you do not specify <code>copy</code>. For example:</p>
<div class="code"><pre class="code literal-block">ffmpeg -i movie.mp4 -ss 00:00:03 -t 00:00:08 -async 1 cut.mp4
</pre></div>

<p>When re-encoding you may also wish to include additional quality-related
options or a particular AAC encoder. For details, see ffmpeg's x264 Encoding
Guide for video and AAC Encoding Guide for audio.</p>
<p>Also, the <code>-t</code> option specifies a duration, not an end time. The above command
will encode 8s of video starting at 3s. To start at 3s and end at 8s use <code>-t
5</code>. If you are using a current version of ffmpeg you can also replace <code>-t</code>
with <code>-to</code> in the above command to end at the specified time.</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/ffmpeg/" rel="tag">ffmpeg</a></li>
            <li><a class="tag p-category" href="../../categories/video/" rel="tag">video</a></li>
            <li><a class="tag p-category" href="../../categories/video-editing/" rel="tag">video-editing</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../query-for-documents-where-array-size-is-greater-than-1/" rel="prev" title="Query for documents where array size is greater than 1">Previous post</a>
            </li>
            <li class="next">
                <a href="../sql-join-where-clause-vs-on-clause/" rel="next" title="SQL JOIN - WHERE clause vs. ON clause">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

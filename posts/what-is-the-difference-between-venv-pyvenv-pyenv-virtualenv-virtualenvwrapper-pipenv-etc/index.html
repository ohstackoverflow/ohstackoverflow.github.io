<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>What is the difference between venv, pyvenv, pyenv, virtualenv, virtualenvwrapper, pipenv, etc? | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/what-is-the-difference-between-venv-pyvenv-pyenv-virtualenv-virtualenvwrapper-pipenv-etc/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../how-can-i-add-a-key-value-pair-to-a-javascript-object/" title="How can I add a key/value pair to a JavaScript object?" type="text/html">
<link rel="next" href="../what-is-the-new-keyword-in-javascript/" title="What is the 'new' keyword in JavaScript?" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="What is the difference between venv, pyvenv, pyenv, virtualenv, virtua">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/what-is-the-difference-between-venv-pyvenv-pyenv-virtualenv-virtualenvwrapper-pipenv-etc/">
<meta property="og:description" content="Python 3.3 includes in its standard library the new package venv. What does
it do, and how does it differ from all the other packages that match the regex
(py)?(v|virtual|pip)?env?

Answer
This is my ">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-16T23:34:54+08:00">
<meta property="article:tag" content="pyenv">
<meta property="article:tag" content="python">
<meta property="article:tag" content="python-venv">
<meta property="article:tag" content="virtualenv">
<meta property="article:tag" content="virtualenvwrapper">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">What is the difference between venv, pyvenv, pyenv, virtualenv, virtualenvwrapper, pipenv, etc?</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T23:34:54+08:00" itemprop="datePublished" title="2023-02-16 23:34">2023-02-16 23:34</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>Python 3.3 includes in its standard library the new package <code>venv</code>. What does
it do, and how does it differ from all the other packages that match the regex
<code>(py)?(v|virtual|pip)?env</code>?</p>
<p><br><br></p>
<h2>Answer</h2>
<p><strong>This is my personal recommendation for beginners:</strong> start by learning
<code>virtualenv</code> and <code>pip</code>, tools which work with both Python 2 and 3 and in a
variety of situations, and pick up other tools once you start needing them.</p>
<p>Now on to answer the question: what is the difference between these similarly
named things: venv, virtualenv, etc?</p>
<h2>PyPI packages not in the standard library:</h2>
<ul>
<li>
<strong><code>virtualenv</code></strong> is a very popular tool that creates isolated Python environments for Python libraries. If you're not familiar with this tool, I highly recommend learning it, as it is a very useful tool.</li>
</ul>
<p>It works by installing a bunch of files in a directory (eg: <code>env/</code>), and then
modifying the <code>PATH</code> environment variable to prefix it with a custom <code>bin</code>
directory (eg: <code>env/bin/</code>). An exact copy of the <code>python</code> or <code>python3</code> binary
is placed in this directory, but Python is programmed to look for libraries
relative to its path first, in the environment directory. It's not part of
Python's standard library, but is officially blessed by the PyPA (Python
Packaging Authority). Once activated, you can install packages in the virtual
environment using <code>pip</code>.</p>
<ul>
<li>
<p><strong><code>pyenv</code></strong> is used to isolate Python versions. For example, you may want to test your code against Python 2.7, 3.6, 3.7 and 3.8, so you'll need a way to switch between them. Once activated, it prefixes the <code>PATH</code> environment variable with <code>~/.pyenv/shims</code>, where there are special files matching the Python commands (<code>python</code>, <code>pip</code>). These are not copies of the Python-shipped commands; they are special scripts that decide on the fly which version of Python to run based on the <code>PYENV_VERSION</code> environment variable, or the <code>.python-version</code> file, or the <code>~/.pyenv/version</code> file. <code>pyenv</code> also makes the process of downloading and installing multiple Python versions easier, using the command <code>pyenv install</code>.</p>
</li>
<li>
<p><strong><code>pyenv-virtualenv</code></strong> is a plugin for <code>pyenv</code> by the same author as <code>pyenv</code>, to allow you to use <code>pyenv</code> and <code>virtualenv</code> at the same time conveniently. However, if you're using Python 3.3 or later, <code>pyenv-virtualenv</code> will try to run <code>python -m venv</code> if it is available, instead of <code>virtualenv</code>. You can use <code>virtualenv</code> and <code>pyenv</code> together without <code>pyenv-virtualenv</code>, if you don't want the convenience features.</p>
</li>
<li>
<p><strong><code>virtualenvwrapper</code></strong> is a set of extensions to <code>virtualenv</code> (see docs). It gives you commands like <code>mkvirtualenv</code>, <code>lssitepackages</code>, and especially <code>workon</code> for switching between different <code>virtualenv</code> directories. This tool is especially useful if you want multiple <code>virtualenv</code> directories.</p>
</li>
<li>
<p><strong><code>pyenv-virtualenvwrapper</code></strong> is a plugin for <code>pyenv</code> by the same author as <code>pyenv</code>, to conveniently integrate <code>virtualenvwrapper</code> into <code>pyenv</code>.</p>
</li>
<li>
<p><strong><code>pipenv</code></strong> aims to combine <code>Pipfile</code>, <code>pip</code> and <code>virtualenv</code> into one command on the command-line. The <code>virtualenv</code> directory typically gets placed in <code>~/.local/share/virtualenvs/XXX</code>, with <code>XXX</code> being a hash of the path of the project directory. This is different from <code>virtualenv</code>, where the directory is typically in the current working directory. <code>pipenv</code> is meant to be used when developing Python applications (as opposed to libraries). There are alternatives to <code>pipenv</code>, such as <code>poetry</code>, which I won't list here since this question is only about the packages that are similarly named.</p>
</li>
</ul>
<h2>Standard library:</h2>
<ul>
<li>
<p><strong><code>pyvenv</code></strong> (not to be confused with <strong><code>pyenv</code></strong> in the previous section) is a script shipped with Python 3.3 to 3.7. It was removed from Python 3.8 as it had problems (not to mention the confusing name). Running <code>python3 -m venv</code> has exactly the same effect as <code>pyvenv</code>.</p>
</li>
<li>
<p><strong><code>venv</code></strong> is a package shipped with Python 3, which you can run using <code>python3 -m venv</code> (although for some reason some distros separate it out into a separate distro package, such as <code>python3-venv</code> on Ubuntu/Debian). It serves the same purpose as <code>virtualenv</code>, but only has a subset of its features (see a comparison here). <code>virtualenv</code> continues to be more popular than <code>venv</code>, especially since the former supports both Python 2 and 3.</p>
</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<p>I would just avoid the use of <code>virtualenv</code> after Python3.3+ and instead use
the standard shipped library <code>venv</code>. To create a new virtual environment you
would type:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>python3<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>&lt;MYVENV&gt;
</pre></div>

<p><code>virtualenv</code> tries to copy the Python binary into the virtual environment's
bin directory. However it does not update library file links embedded into
that binary, so if you build Python from source into a non-system directory
with relative path names, the Python binary breaks. Since this is how you make
a copy distributable Python, it is a big flaw. BTW to inspect embedded library
file links on OS X, use <code>otool</code>. For example from within your virtual
environment, type:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>otool<span class="w"> </span>-L<span class="w"> </span>bin/python
python:
<span class="w">    </span>@executable_path/../Python<span class="w"> </span><span class="o">(</span>compatibility<span class="w"> </span>version<span class="w"> </span><span class="m">3</span>.4.0,<span class="w"> </span>current<span class="w"> </span>version<span class="w"> </span><span class="m">3</span>.4.0<span class="o">)</span>
<span class="w">    </span>/usr/lib/libSystem.B.dylib<span class="w"> </span><span class="o">(</span>compatibility<span class="w"> </span>version<span class="w"> </span><span class="m">1</span>.0.0,<span class="w"> </span>current<span class="w"> </span>version<span class="w"> </span><span class="m">1238</span>.0.0<span class="o">)</span>
</pre></div>

<p>Consequently I would avoid <code>virtualenvwrapper</code> and <code>pipenv</code>. <code>pyvenv</code> is
deprecated. <code>pyenv</code> seems to be used often where <code>virtualenv</code> is used but I
would stay away from it also since I think <code>venv</code> also does what <code>pyenv</code> is
built for.</p>
<p><code>venv</code> creates virtual environments in the shell that are <strong>fresh</strong> and
<strong>sandboxed</strong> , with <strong>user-installable libraries</strong> , and it's <strong>multi-python
safe</strong>.</p>
<p><strong>Fresh</strong> : because virtual environments only start with the standard
libraries that ship with python, you have to install any other libraries all
over again with <code>pip install</code> while the virtual environment is active.</p>
<p><strong>Sandboxed</strong> : because none of these new library installs are visible outside
the virtual environment, so you can delete the whole environment and start
again without worrying about impacting your base python install.</p>
<p><strong>User-installable libraries</strong> : because the virtual environment's target
folder is created without <code>sudo</code> in some directory you already own, so you
won't need <code>sudo</code> permissions to install libraries into it.</p>
<p><strong>multi-python safe</strong> : because when virtual environments activate, the shell
only sees the python version (3.4, 3.5 etc.) that was used to build that
virtual environment.</p>
<p><code>pyenv</code> is similar to <code>venv</code> in that it lets you manage multiple python
environments. However with <code>pyenv</code> you can't conveniently rollback library
installs to some start state and you will likely need <code>admin</code> privileges at
some point to update libraries. So I think it is also best to use <code>venv</code>.</p>
<p>In the last couple of years I have found many problems in build systems (emacs
packages, python standalone application builders, installers...) that
ultimately come down to issues with <code>virtualenv</code>. I think python will be a
better platform when we eliminate this additional option and only use <code>venv</code>.</p>
<p>EDIT: Tweet of the BDFL,</p>
<blockquote>
<p>I use venv (in the stdlib) and a bunch of shell aliases to quickly switch.</p>
<p>— Guido van Rossum (@gvanrossum) October 22, 2020</p>
</blockquote>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/pyenv/" rel="tag">pyenv</a></li>
            <li><a class="tag p-category" href="../../categories/python/" rel="tag">python</a></li>
            <li><a class="tag p-category" href="../../categories/python-venv/" rel="tag">python-venv</a></li>
            <li><a class="tag p-category" href="../../categories/virtualenv/" rel="tag">virtualenv</a></li>
            <li><a class="tag p-category" href="../../categories/virtualenvwrapper/" rel="tag">virtualenvwrapper</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../how-can-i-add-a-key-value-pair-to-a-javascript-object/" rel="prev" title="How can I add a key/value pair to a JavaScript object?">Previous post</a>
            </li>
            <li class="next">
                <a href="../what-is-the-new-keyword-in-javascript/" rel="next" title="What is the 'new' keyword in JavaScript?">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

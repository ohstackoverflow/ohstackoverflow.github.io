<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>All com.android.support libraries must use the exact same version specification | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/all-com-android-support-libraries-must-use-the-exact-same-version-specification/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../what-is-monkey-patching/" title="What is monkey patching?" type="text/html">
<link rel="next" href="../add-all-files-to-a-commit-except-a-single-file/" title="Add all files to a commit except a single file?" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="All com.android.support libraries must use the exact same version spec">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/all-com-android-support-libraries-must-use-the-exact-same-version-specification/">
<meta property="og:description" content="After updating to android studio 2.3 I got this error message. I know it's
just a hint as the app run normally but it's really strange.

All com.android.support libraries must use the exact same versi">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-17T13:05:28+08:00">
<meta property="article:tag" content="android">
<meta property="article:tag" content="build.gradle">
<meta property="article:tag" content="gradle-kotlin-dsl">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">All com.android.support libraries must use the exact same version specification</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T13:05:28+08:00" itemprop="datePublished" title="2023-02-17 13:05">2023-02-17 13:05</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>After updating to android studio 2.3 I got this error message. I know it's
just a hint as the app run normally but it's really strange.</p>
<blockquote>
<p>All com.android.support libraries must use the exact same version
specification (mixing versions can lead to runtime crashes). Found versions
25.1.1, 24.0.0. Examples include com.android.support:animated-vector-
drawable:25.1.1 and com.android.support:mediarouter-v7:24.0.0</p>
</blockquote>
<p><img alt="enter image description here" src="../../images/trji5.png"></p>
<p>my gradle:</p>
<div class="code"><pre class="code literal-block"><span class="n">dependencies</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">compile</span><span class="w"> </span><span class="n">fileTree</span><span class="p">(</span><span class="nl">dir</span><span class="p">:</span><span class="w"> </span><span class="s1">'libs'</span><span class="p">,</span><span class="w"> </span><span class="k">include</span><span class="err">:</span><span class="w"> </span><span class="o">[</span><span class="n">'*.jar'</span><span class="o">]</span><span class="p">)</span>
<span class="w">    </span><span class="n">androidTestCompile</span><span class="p">(</span><span class="s1">'com.android.support.test.espresso:espresso-core:2.2.2'</span><span class="p">,</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">exclude</span><span class="w"> </span><span class="k">group</span><span class="err">:</span><span class="w"> </span><span class="s1">'com.android.support'</span><span class="p">,</span><span class="w"> </span><span class="k">module</span><span class="err">:</span><span class="w"> </span><span class="s1">'support-annotations'</span>
<span class="w">    </span><span class="err">}</span><span class="p">)</span>
<span class="w">    </span><span class="n">testCompile</span><span class="w"> </span><span class="s1">'junit:junit:4.12'</span>

<span class="w">    </span><span class="n">compile</span><span class="w"> </span><span class="s1">'com.android.support:appcompat-v7:25.1.1'</span>
<span class="w">    </span><span class="n">compile</span><span class="w"> </span><span class="s1">'com.android.support:support-v4:25.1.1'</span>
<span class="w">    </span><span class="n">compile</span><span class="w"> </span><span class="s1">'com.android.support:design:25.1.1'</span>
<span class="w">    </span><span class="n">compile</span><span class="w"> </span><span class="s1">'com.android.support:recyclerview-v7:25.1.1'</span>
<span class="w">    </span><span class="n">compile</span><span class="w"> </span><span class="s1">'com.android.support:cardview-v7:25.1.1'</span>
<span class="w">    </span><span class="n">compile</span><span class="w"> </span><span class="s1">'com.google.android.gms:play-services-maps:10.2.0'</span>
<span class="w">    </span><span class="n">compile</span><span class="w"> </span><span class="s1">'com.google.android.gms:play-services:10.2.0'</span>

<span class="w">    </span><span class="n">compile</span><span class="w"> </span><span class="s1">'io.reactivex.rxjava2:rxjava:2.0.1'</span>
<span class="w">    </span><span class="n">compile</span><span class="w"> </span><span class="s1">'io.reactivex.rxjava2:rxandroid:2.0.1'</span>
<span class="w">    </span><span class="n">compile</span><span class="w"> </span><span class="s1">'com.jakewharton:butterknife:8.4.0'</span>
<span class="w">    </span><span class="n">annotationProcessor</span><span class="w"> </span><span class="s1">'com.jakewharton:butterknife-compiler:8.4.0'</span>
<span class="w">    </span><span class="n">compile</span><span class="w"> </span><span class="s1">'com.blankj:utilcode:1.3.6'</span>
<span class="w">    </span><span class="n">compile</span><span class="w"> </span><span class="s1">'com.orhanobut:logger:1.15'</span>
<span class="w">    </span><span class="n">compile</span><span class="w"> </span><span class="s1">'com.facebook.stetho:stetho:1.4.2'</span>

<span class="w">    </span><span class="n">provided</span><span class="w"> </span><span class="s1">'com.google.auto.value:auto-value:1.2'</span>
<span class="w">    </span><span class="n">annotationProcessor</span><span class="w"> </span><span class="s1">'com.google.auto.value:auto-value:1.2'</span>
<span class="w">    </span><span class="n">annotationProcessor</span><span class="w"> </span><span class="s1">'com.ryanharter.auto.value:auto-value-parcel:0.2.5'</span>

<span class="w">    </span><span class="n">compile</span><span class="w"> </span><span class="s1">'com.mikepenz:iconics-core:2.8.2@aar'</span>
<span class="w">    </span><span class="n">compile</span><span class="p">(</span><span class="s1">'com.mikepenz:materialdrawer:5.8.1@aar'</span><span class="p">)</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="n">transitive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">true</span><span class="w"> </span><span class="err">}</span>
<span class="w">    </span><span class="n">compile</span><span class="w"> </span><span class="s1">'com.mikepenz:google-material-typeface:2.2.0.3.original@aar'</span>
<span class="w">    </span><span class="n">compile</span><span class="w"> </span><span class="s1">'me.zhanghai.android.materialprogressbar:library:1.3.0'</span>
<span class="w">    </span><span class="n">compile</span><span class="w"> </span><span class="s1">'com.github.GrenderG:Toasty:1.1.1'</span>
<span class="w">    </span><span class="n">compile</span><span class="w"> </span><span class="s1">'com.github.CymChad:BaseRecyclerViewAdapterHelper:2.8.0'</span>
<span class="w">    </span><span class="n">compile</span><span class="w"> </span><span class="s1">'com.github.MAXDeliveryNG:slideview:1.0.0'</span>

<span class="w">    </span><span class="n">compile</span><span class="w"> </span><span class="s1">'com.facebook.fresco:fresco:1.0.1'</span>
<span class="w">    </span><span class="n">compile</span><span class="w"> </span><span class="s1">'com.github.bumptech.glide:glide:3.7.0'</span>

<span class="w">    </span><span class="n">compile</span><span class="w"> </span><span class="s1">'com.google.maps.android:android-maps-utils:0.4.4'</span>
<span class="w">    </span><span class="n">compile</span><span class="w"> </span><span class="s1">'com.github.jd-alexander:library:1.1.0'</span>
<span class="err">}</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>You can solve this with one of the following solutions:</p>
<h3>Update:</h3>
<p>As of Android studio 3.0, it becomes much easier as it now shows a more
helpful hint, so we only need to follow this hint.<br>
for example: <img alt="1" src="../../images/BObtK.png">]1</p>
<blockquote>
<p>All com.android.support libraries must use the exact same version
specification (mixing versions can lead to runtime crashes). Found versions
27.0.2, 26.1.0. Examples include com.android.support:animated-vector-
drawable:27.0.2 and com.android.support:customtabs:26.1.0</p>
<p>there are some combinations of libraries, or tools and libraries, that are
incompatible, or can lead to bugs. One such incompatibility is compiling
with a version of the Android support libraries that is not the latest
version (or in particular, a version lower than your targetSdkVersion.)</p>
</blockquote>
<p><strong>Solution:</strong><br>
Add explicitly the library with the old version but with a new version number.<br>
in my case <code>com.android.support:customtabs:26.1.0</code> so I need to add:</p>
<p>build.gradle.kts (Kotlin Build Scripts)</p>
<div class="code"><pre class="code literal-block">implementation("com.android.support:customtabs:27.0.2")
</pre></div>

<p>build.gradle (Groovy Build Scripts)</p>
<div class="code"><pre class="code literal-block">implementation "com.android.support:customtabs:27.0.2"
</pre></div>

<p>ie: Take the library from the second item, and implement it with the version
number from the first.</p>
<p>Note: don't forget to press sync now so gradle can rebuild the dependency
graph and see if there are any more conflicts.</p>
<p><strong>Explanation:</strong><br>
you may be confused by the error message as don't use <code>customtabs</code> so how I
have a conflict!!<br>
well.. you didn't use it directly but one of your libraries uses an old
version of <code>customtabs</code> internally, so you need to ask for it directly.</p>
<p>if you curious to know which of your libraries is responsible for the old
version and maybe ask the author to update his lib, Run a Gradle dependency
report, see the old answer to know how.</p>
<p>Note this</p>
<hr>
<h3>Old answer:</h3>
<p>inspired by CommonsWare answer:</p>
<p>Run a Gradle dependency report to see what your full tree of dependencies is.</p>
<p>From there, you will see which one of your libraries are asking for a
different version of the Android Support libraries. For whatever it is asking
for, you can ask for it directly with the 25.2.0 version or use Gradle's other
conflict resolution approaches to get the same versions.</p>
<hr>
<h3>Update:</h3>
<p>As of gradle plugin version: 3.0 <code>compile</code> has been replaced by
<code>implementation</code> or <code>api</code> see this answer for the difference.</p>
<p>hence use instead:</p>
<div class="code"><pre class="code literal-block">./gradlew -q dependencies app:dependencies --configuration debugAndroidTestCompileClasspath
</pre></div>

<p>or for windows cmd:</p>
<div class="code"><pre class="code literal-block">gradlew -q dependencies app:dependencies --configuration debugAndroidTestCompileClasspath
</pre></div>

<p>and search for the conflicted version.</p>
<p>For me, the error disappeared after removing <code>com.google.android.gms:play-
services:10.2.0</code></p>
<p>And only include <code>com.google.android.gms:play-services-location:10.2.0</code> and
<code>com.google.android.gms:play-services-maps:10.2.0</code> as they are the only two
play services that I use.</p>
<p>I think the <code>gms:play-services</code> depend on some old components of the support
library, so we need to add them explicitly ourselves.</p>
<hr>
<p>for AS 3.0 an older.</p>
<p>Run:</p>
<div class="code"><pre class="code literal-block">./gradlew -q dependencies &lt;module-name&gt;:dependencies --configuration implementation
</pre></div>

<p>Example:</p>
<div class="code"><pre class="code literal-block">./gradlew -q dependencies app:dependencies --configuration implementation
</pre></div>

<hr>
<p>if someone knows a better way in the new gradle plugin please let me know.</p>
<p><br></p>
<h3>Suggest</h3>
<ol>
<li>Go to <code>project/.idea/libraries</code> folder on your file system and see which libraries are different.</li>
<li>You will have to manually include these libraries with the same version in your <code>build.gradle</code> file.</li>
<li>Then, sync your project.</li>
</ol>
<p>E.g.:</p>
<div class="code"><pre class="code literal-block">compile 'com.android.support:appcompat-v7:25.2.0'

// Wrong library version found on 1st point
compile 'com.android.support:customtabs:25.2.0'
</pre></div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/android/" rel="tag">android</a></li>
            <li><a class="tag p-category" href="../../categories/buildgradle/" rel="tag">build.gradle</a></li>
            <li><a class="tag p-category" href="../../categories/gradle-kotlin-dsl/" rel="tag">gradle-kotlin-dsl</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../what-is-monkey-patching/" rel="prev" title="What is monkey patching?">Previous post</a>
            </li>
            <li class="next">
                <a href="../add-all-files-to-a-commit-except-a-single-file/" rel="next" title="Add all files to a commit except a single file?">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

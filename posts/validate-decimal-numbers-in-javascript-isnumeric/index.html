<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Validate decimal numbers in JavaScript - IsNumeric() | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/validate-decimal-numbers-in-javascript-isnumeric/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../how-do-i-safely-merge-a-git-branch-into-master/" title="How do I safely merge a Git branch into master?" type="text/html">
<link rel="next" href="../how-to-list-only-the-names-of-files-that-changed-between-two-commits/" title="How to list only the names of files that changed between two commits" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="Validate decimal numbers in JavaScript - IsNumeric()">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/validate-decimal-numbers-in-javascript-isnumeric/">
<meta property="og:description" content="What's the cleanest, most effective way to validate decimal numbers in
JavaScript?
Bonus points for:

Clarity. Solution should be clean and simple.
Cross-platform.

Test cases:
01. IsNumeric('-1')    ">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-16T21:08:41+08:00">
<meta property="article:tag" content="javascript">
<meta property="article:tag" content="numbers">
<meta property="article:tag" content="validation">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Validate decimal numbers in JavaScript - IsNumeric()</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T21:08:41+08:00" itemprop="datePublished" title="2023-02-16 21:08">2023-02-16 21:08</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>What's the cleanest, most effective way to validate decimal numbers in
JavaScript?</p>
<p>Bonus points for:</p>
<ol>
<li>Clarity. Solution should be clean and simple.</li>
<li>Cross-platform.</li>
</ol>
<p>Test cases:</p>
<div class="code"><pre class="code literal-block"><span class="mf">01.</span><span class="w"> </span><span class="n">IsNumeric</span><span class="p">(</span><span class="err">'</span><span class="o">-</span><span class="mf">1</span><span class="err">'</span><span class="p">)</span><span class="w">      </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">true</span>
<span class="mf">02.</span><span class="w"> </span><span class="n">IsNumeric</span><span class="p">(</span><span class="err">'</span><span class="o">-</span><span class="mf">1.5</span><span class="err">'</span><span class="p">)</span><span class="w">    </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">true</span>
<span class="mf">03.</span><span class="w"> </span><span class="n">IsNumeric</span><span class="p">(</span><span class="err">'</span><span class="mf">0</span><span class="err">'</span><span class="p">)</span><span class="w">       </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">true</span>
<span class="mf">04.</span><span class="w"> </span><span class="n">IsNumeric</span><span class="p">(</span><span class="err">'</span><span class="mf">0.42</span><span class="err">'</span><span class="p">)</span><span class="w">    </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">true</span>
<span class="mf">05.</span><span class="w"> </span><span class="n">IsNumeric</span><span class="p">(</span><span class="err">'</span><span class="mf">.42</span><span class="err">'</span><span class="p">)</span><span class="w">     </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">true</span>
<span class="mf">06.</span><span class="w"> </span><span class="n">IsNumeric</span><span class="p">(</span><span class="err">'</span><span class="mf">99</span><span class="p">,</span><span class="mf">999</span><span class="err">'</span><span class="p">)</span><span class="w">  </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">false</span>
<span class="mf">07.</span><span class="w"> </span><span class="n">IsNumeric</span><span class="p">(</span><span class="err">'</span><span class="mf">0</span><span class="n">x89f</span><span class="err">'</span><span class="p">)</span><span class="w">   </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">false</span>
<span class="mf">08.</span><span class="w"> </span><span class="n">IsNumeric</span><span class="p">(</span><span class="err">'#</span><span class="n">abcdef</span><span class="err">'</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">false</span>
<span class="mf">09.</span><span class="w"> </span><span class="n">IsNumeric</span><span class="p">(</span><span class="err">'</span><span class="mf">1.2.3</span><span class="err">'</span><span class="p">)</span><span class="w">   </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">false</span>
<span class="mf">10.</span><span class="w"> </span><span class="n">IsNumeric</span><span class="p">(</span><span class="err">''</span><span class="p">)</span><span class="w">        </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">false</span>
<span class="mf">11.</span><span class="w"> </span><span class="n">IsNumeric</span><span class="p">(</span><span class="err">'</span><span class="n">blah</span><span class="err">'</span><span class="p">)</span><span class="w">    </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">false</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>@Joel's answer is pretty close, but it will fail in the following cases:</p>
<div class="code"><pre class="code literal-block"><span class="c1">// Whitespace strings:</span>
<span class="n">IsNumeric</span><span class="p">(</span><span class="s">' '</span><span class="p">)</span><span class="w">    </span><span class="o">==</span><span class="w"> </span><span class="n">true</span><span class="p">;</span>
<span class="n">IsNumeric</span><span class="p">(</span><span class="s">'\t\t'</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">true</span><span class="p">;</span>
<span class="n">IsNumeric</span><span class="p">(</span><span class="s">'\n\r'</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">true</span><span class="p">;</span>

<span class="c1">// Number literals:</span>
<span class="n">IsNumeric</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="w">  </span><span class="o">==</span><span class="w"> </span><span class="n">false</span><span class="p">;</span>
<span class="n">IsNumeric</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w">   </span><span class="o">==</span><span class="w"> </span><span class="n">false</span><span class="p">;</span>
<span class="n">IsNumeric</span><span class="p">(</span><span class="mf">1.1</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">false</span><span class="p">;</span>
<span class="n">IsNumeric</span><span class="p">(</span><span class="mf">8e5</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">false</span><span class="p">;</span>
</pre></div>

<p>Some time ago I had to implement an <code>IsNumeric</code> function, to find out if a
variable contained a numeric value, <strong>regardless of its type</strong> , it could be a
<code>String</code> containing a numeric value (I had to consider also exponential
notation, etc.), a <code>Number</code> object, virtually anything could be passed to that
function, I couldn't make any type assumptions, taking care of type coercion
(eg. <code>+true == 1;</code> but <code>true</code> shouldn't be considered as <code>"numeric"</code>).</p>
<p>I think is worth sharing this set of <strong>+30 unit tests</strong> made to numerous
function implementations, and also share the one that passes all my tests:</p>
<div class="code"><pre class="code literal-block"><span class="nv">function</span><span class="w"> </span><span class="nv">isNumeric</span><span class="ss">(</span><span class="nv">n</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">!</span><span class="nv">isNaN</span><span class="ss">(</span><span class="nv">parseFloat</span><span class="ss">(</span><span class="nv">n</span><span class="ss">))</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nv">isFinite</span><span class="ss">(</span><span class="nv">n</span><span class="ss">)</span><span class="c1">;</span>
}
</pre></div>

<p><strong>P.S.</strong> isNaN &amp; isFinite have a confusing behavior due to forced conversion
to number. In ES6, Number.isNaN &amp; Number.isFinite would fix these issues. Keep
that in mind when using them.</p>
<hr>
<p><strong>Update</strong> : Here's how jQuery does it now (2.2-stable):</p>
<div class="code"><pre class="code literal-block"><span class="n">isNumeric</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="o">(</span><span class="n">obj</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">var</span><span class="w"> </span><span class="n">realStringObj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">obj</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">obj</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">!</span><span class="n">jQuery</span><span class="o">.</span><span class="na">isArray</span><span class="o">(</span><span class="n">obj</span><span class="o">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">(</span><span class="n">realStringObj</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nf">parseFloat</span><span class="o">(</span><span class="n">realStringObj</span><span class="o">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="o">)</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>

<p><strong>Update</strong> : Angular 4.3:</p>
<div class="code"><pre class="code literal-block"><span class="k">export</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">isNumeric</span><span class="p">(</span><span class="n">value</span><span class="p">:</span><span class="w"> </span><span class="n">any</span><span class="p">):</span><span class="w"> </span><span class="n">boolean</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">!</span><span class="n">isNaN</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">parseFloat</span><span class="p">(</span><span class="n">value</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Arrrgh! Don't listen to the regular expression answers. RegEx is icky for
this, and I'm not talking just performance. It's so easy to make subtle,
impossible to spot mistakes with your regular expression.</p>
<p>If you can't use <code>isNaN()</code>, this should work much better:</p>
<div class="code"><pre class="code literal-block"><span class="k">function</span><span class="w"> </span><span class="nf">IsNumeric</span><span class="p">(</span>input<span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="nb">input</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">input</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="s">''</span><span class="o">+</span><span class="nb">input</span><span class="p">).</span><span class="n">trim</span><span class="p">().</span><span class="n">length</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>Here's how it works:</p>
<p>The <code>(input - 0)</code> expression forces JavaScript to do type coercion on your
input value; it must first be interpreted as a number for the subtraction
operation. If that conversion to a number fails, the expression will result in
<code>NaN</code>. This <em>numeric</em> result is then compared to the original value you passed
in. Since the left hand side is now numeric, type coercion is again used. Now
that the input from both sides was coerced to the same type from the same
original value, you would think they should always be the same (always true).
However, there's a special rule that says <code>NaN</code> is never equal to <code>NaN</code>, and
so a value that can't be converted to a number (and only values that cannot be
converted to numbers) will result in false.</p>
<p>The check on the length is for a special case involving empty strings. Also
note that it falls down on your 0x89f test, but that's because in many
environments that's an okay way to define a number literal. If you want to
catch that specific scenario you could add an additional check. Even better,
if that's your reason for not using <code>isNaN()</code> then just wrap your own function
around <code>isNaN()</code> that can also do the additional check.</p>
<p>In summary, <strong><em>if you want to know if a value can be converted to a number,
actually try to convert it to a number.</em></strong></p>
<hr>
<p>I went back and did some research for <em>why</em> a whitespace string did not have
the expected output, and I think I get it now: an empty string is coerced to
<code>0</code> rather than <code>NaN</code>. Simply trimming the string before the length check will
handle this case.</p>
<p>Running the unit tests against the new code and it only fails on the infinity
and boolean literals, and the only time that should be a problem is if you're
generating code (really, who would type in a literal and check if it's
numeric? You should <em>know</em> ), and that would be some strange code to generate.</p>
<p>But, again, <strong>the only reason ever to use this is if for some reason you have
to avoid isNaN().</strong></p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/javascript/" rel="tag">javascript</a></li>
            <li><a class="tag p-category" href="../../categories/numbers/" rel="tag">numbers</a></li>
            <li><a class="tag p-category" href="../../categories/validation/" rel="tag">validation</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../how-do-i-safely-merge-a-git-branch-into-master/" rel="prev" title="How do I safely merge a Git branch into master?">Previous post</a>
            </li>
            <li class="next">
                <a href="../how-to-list-only-the-names-of-files-that-changed-between-two-commits/" rel="next" title="How to list only the names of files that changed between two commits">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

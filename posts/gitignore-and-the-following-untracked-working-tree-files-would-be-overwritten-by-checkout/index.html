<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>.gitignore and "The following untracked working tree files would be overwritten by checkout" | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/gitignore-and-the-following-untracked-working-tree-files-would-be-overwritten-by-checkout/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../cross-origin-requests-are-only-supported-for-http-error-when-loading-a-local-file/" title='"Cross origin requests are only supported for HTTP." error when loading a local file' type="text/html">
<link rel="next" href="../git-recover-deleted-file-where-no-commit-was-made-after-the-delete/" title="git recover deleted file where no commit was made after the delete" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content='.gitignore and "The following untracked working tree files would be ov'>
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/gitignore-and-the-following-untracked-working-tree-files-would-be-overwritten-by-checkout/">
<meta property="og:description" content="So I added a folder to my .gitignore file.
Once I do a git status it tells me
# On branch latest
nothing to commit (working directory clean)


However, when I try to change branches I get the followin">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-17T08:09:49+08:00">
<meta property="article:tag" content="git">
<meta property="article:tag" content="git-merge">
<meta property="article:tag" content="gitignore">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">.gitignore and "The following untracked working tree files would be overwritten by checkout"</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T08:09:49+08:00" itemprop="datePublished" title="2023-02-17 08:09">2023-02-17 08:09</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>So I added a folder to my .gitignore file.</p>
<p>Once I do a <code>git status</code> it tells me</p>
<div class="code"><pre class="code literal-block"># On branch latest
nothing to commit (working directory clean)
</pre></div>

<p>However, when I try to change branches I get the following:</p>
<div class="code"><pre class="code literal-block">My-MacBook-Pro:webapp marcamillion$ git checkout develop
error: The following untracked working tree files would be overwritten by checkout:
    public/system/images/9/thumb/red-stripe.jpg
    public/system/images/9/original/red-stripe.jpg
    public/system/images/8/thumb/red-stripe-red.jpg
    public/system/images/8/original/red-stripe-red.jpg
    public/system/images/8/original/00-louis_c.k.-chewed_up-cover-2008.jpg
    public/system/images/7/thumb/red-stripe-dark.jpg
    public/system/images/7/original/red-stripe-dark.jpg
    public/system/images/7/original/DSC07833.JPG
    public/system/images/6/thumb/red-stripe-bw.jpg
    public/system/images/6/original/website-logo.png
    public/system/images/6/original/red-stripe-bw.jpg
    public/system/images/5/thumb/Guy_Waving_Jamaican_Flag.jpg
    public/system/images/5/original/logocompv-colored-squares-100px.png
    public/system/images/5/original/Guy_Waving_Jamaican_Flag.jpg
    public/system/images/4/thumb/DSC_0001.JPG
    public/system/images/4/original/logo.png
    public/system/images/4/original/DSC_0001.JPG
    public/system/images/4/original/2-up.jpg
    public/system/images/3/thumb/logo2.gif
    public/system/images/3/original/logo2.gif
    public/system/images/3/original/Guy_Waving_Jamaican_Flag.jpg
    public/system/images/3/original/11002000962.jpg
    public/system/images/2/thumb/Profile Pic.jpg
    public/system/images/2/original/Profile Pic.jpg
    public/system/images/2/original/02 Login Screen.jpg
    public/system/images/1/original/Argentina-2010-World-Cup.jpg
Please move or remove them before you can switch branches.
Aborting
</pre></div>

<p>This is what my .gitignore file looks like:</p>
<div class="code"><pre class="code literal-block"><span class="na">.bundle</span>
<span class="na">.DS_Store</span>
<span class="nf">db</span><span class="cm">/*.sqlite3</span>
<span class="cm">log/*.log</span>
<span class="cm">tmp/**/</span><span class="err">*</span>
<span class="nf">public</span><span class="err">/</span><span class="no">system</span><span class="err">/</span><span class="no">images</span><span class="err">/</span><span class="p">*</span>
<span class="nf">public</span><span class="err">/</span><span class="no">system</span><span class="err">/</span><span class="no">avatars</span><span class="err">/</span><span class="p">*</span>
</pre></div>

<p>How do I get this working so I can switch branches without deleting those
files?</p>
<p>If I make a change, will it affect those files? In other words, if I came back
to this branch afterwards would everything be perfect as up to my latest
commit?</p>
<p>I don't want to lose those files, I just don't want them tracked.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>It seems like you want the files ignored but they have already been commited.
.gitignore has no effect on files that are already in the repo so they need to
be removed with <code>git rm --cached</code>. The <code>--cached</code> will prevent it from having
any effect on your working copy and it will just mark as removed the next time
you commit. After the files are removed from the repo then the .gitignore will
prevent them from being added again.</p>
<p>But you have another problem with your .gitignore, you are excessively using
wildcards and its causing it to match less than you expect it to. Instead lets
change the .gitignore and try this.</p>
<div class="code"><pre class="code literal-block"><span class="na">.bundle</span>
<span class="na">.DS_Store</span>
<span class="nf">db</span><span class="err">/</span><span class="p">*.</span><span class="no">sqlite3</span>
<span class="nf">log</span><span class="err">/</span><span class="p">*.</span><span class="no">log</span>
<span class="nf">tmp</span><span class="err">/</span>
<span class="nf">public</span><span class="err">/</span><span class="no">system</span><span class="err">/</span><span class="no">images</span><span class="err">/</span>
<span class="nf">public</span><span class="err">/</span><span class="no">system</span><span class="err">/</span><span class="no">avatars</span><span class="err">/</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<blockquote>
<p><strong>Warning: This will delete the local files that are not indexed</strong></p>
</blockquote>
<p>Just force it : <code>git checkout -f another-branch</code></p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/git/" rel="tag">git</a></li>
            <li><a class="tag p-category" href="../../categories/git-merge/" rel="tag">git-merge</a></li>
            <li><a class="tag p-category" href="../../categories/gitignore/" rel="tag">gitignore</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../cross-origin-requests-are-only-supported-for-http-error-when-loading-a-local-file/" rel="prev" title='"Cross origin requests are only supported for HTTP." error when loading a local file'>Previous post</a>
            </li>
            <li class="next">
                <a href="../git-recover-deleted-file-where-no-commit-was-made-after-the-delete/" rel="next" title="git recover deleted file where no commit was made after the delete">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Custom HTTP headers : naming conventions | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/custom-http-headers-naming-conventions/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../how-can-i-center-an-absolutely-positioned-element-in-a-div/" title="How can I center an absolutely positioned element in a div?" type="text/html">
<link rel="next" href="../how-to-find-the-sum-of-an-array-of-numbers/" title="How to find the sum of an array of numbers" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="Custom HTTP headers : naming conventions">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/custom-http-headers-naming-conventions/">
<meta property="og:description" content="Several of our users have asked us to include data relative to their account
in the HTTP headers of requests we send them, or even responses they get
from our API. What is the general convention to ad">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-17T02:16:05+08:00">
<meta property="article:tag" content="http">
<meta property="article:tag" content="http-headers">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Custom HTTP headers : naming conventions</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T02:16:05+08:00" itemprop="datePublished" title="2023-02-17 02:16">2023-02-17 02:16</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>Several of our users have asked us to include data relative to their account
in the <em>HTTP headers</em> of requests we send them, or even responses they get
from our API. What is the general convention to add custom HTTP headers, in
terms of <strong>naming</strong> , <strong>format</strong>... etc.</p>
<p>Also, feel free to post any smart usage of these that you stumbled upon on the
web; We're trying to implement this using what's best out there as a target :)</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The recommendation <del>is</del> <strong>was</strong> to start their name with "X-". E.g.
<code>X-Forwarded-For</code>, <code>X-Requested-With</code>. This is also mentioned in a.o. section
5 of RFC 2047.</p>
<hr>
<p><strong>Update 1</strong> : On June 2011, the first IETF draft was posted to <strong>deprecate</strong>
the recommendation of using the "X-" prefix for non-standard headers. The
reason is that when non-standard headers prefixed with "X-" become standard,
removing the "X-" prefix breaks backwards compatibility, forcing application
protocols to support both names (E.g, <code>x-gzip</code> &amp; <code>gzip</code> are now equivalent).
So, the official recommendation is to just name them <em>sensibly</em> without the
"X-" prefix.</p>
<hr>
<p><strong>Update 2</strong> : On June 2012, the deprecation of recommendation to use the "X-"
prefix has become official as RFC 6648. Below are cites of relevance:</p>
<blockquote>
<h4>3. Recommendations for Creators of New Parameters</h4>
<p>...</p>
<ol>
<li>SHOULD NOT prefix their parameter names with "X-" or similar
constructs.
</li>
</ol>
<h4>4. Recommendations for Protocol Designers</h4>
<p>...</p>
<ol>
<li>
<p>SHOULD NOT prohibit parameters with an "X-" prefix or similar
constructs from being registered.</p>
</li>
<li>
<p>MUST NOT stipulate that a parameter with an "X-" prefix or similar
constructs needs to be understood as unstandardized.</p>
</li>
<li>
<p>MUST NOT stipulate that a parameter without an "X-" prefix or similar
constructs needs to be understood as standardized.</p>
</li>
</ol>
</blockquote>
<p>Note that "SHOULD NOT" ("discouraged") is not the same as "MUST NOT"
("forbidden"), see also RFC 2119 for another spec on those keywords. In other
words, you can keep using "X-" prefixed headers, but it's not officially
recommended anymore and you may definitely not document them as if they are
public standard.</p>
<hr>
<p><strong>Summary</strong> :</p>
<ul>
<li>the official recommendation is to just name them <em>sensibly</em> without the "X-" prefix</li>
<li>you can keep using "X-" prefixed headers, but it's not officially recommended anymore and you may definitely not document them as if they are public standard</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<p>The question bears re-reading. The actual question asked is not similar to
vendor prefixes in CSS properties, where future-proofing and thinking about
vendor support and official standards is appropriate. The actual question
asked is more akin to choosing URL query parameter names. Nobody should care
what they are. But name-spacing the custom ones is a perfectly valid -- and
common, and correct -- thing to do.</p>
<p><strong>Rationale:</strong><br>
It is about <em>conventions among developers for custom, application-specific
headers</em> -- " <em>data relevant to their account</em> " -- which have nothing to do
with vendors, standards bodies, or protocols to be implemented by third
parties, except that the developer in question simply needs to avoid header
names that may have other intended use by servers, proxies or clients. For
this reason, the "X-Gzip/Gzip" and "X-Forwarded-For/Forwarded-For" examples
given are moot. The question posed is about conventions in the context of a
private API, akin to URL query parameter naming conventions. It's a matter of
preference and name-spacing; concerns about "X-ClientDataFoo" being supported
by any proxy or vendor without the "X" are clearly misplaced.</p>
<p>There's nothing special or magical about the "X-" prefix, but it helps to make
it clear that it is a custom header. In fact, RFC-6648 et al help bolster the
case for use of an "X-" prefix, because -- as vendors of HTTP clients and
servers abandon the prefix -- your app-specific, private-API, personal-data-
passing-mechanism is becoming even better-insulated against name-space
collisions with the small number of official reserved header names. That said,
my personal preference and recommendation is to go a step further and do e.g.
"X-ACME-ClientDataFoo" (if your widget company is "ACME").</p>
<p>IMHO the IETF spec is insufficiently specific to answer the OP's question,
because it fails to distinguish between completely different use cases: (A)
vendors introducing new globally-applicable features like "Forwarded-For" on
the one hand, vs. (B) app developers passing app-specific strings to/from
client and server. The spec only concerns itself with the former, (A). The
question here is whether there are conventions for (B). There are. They
involve grouping the parameters together alphabetically, and separating them
from the many standards-relevant headers of type (A). Using the "X-" or
"X-ACME-" prefix is convenient and legitimate for (B), and does not conflict
with (A). The more vendors stop using "X-" for (A), the more cleanly-distinct
the (B) ones will become.</p>
<p><strong>Example:</strong><br>
Google (who carry a bit of weight in the various standards bodies) are -- as
of today, 20141102 in this slight edit to my answer -- currently using "X-Mod-
Pagespeed" to indicate the version of their Apache module involved in
transforming a given response. Is anyone really suggesting that Google should
use "Mod-Pagespeed", without the "X-", and/or ask the IETF to bless its use?</p>
<p><strong>Summary:</strong><br>
If you're using custom HTTP Headers (as a sometimes-appropriate alternative to
cookies) within your app to pass data to/from your server, and these headers
are, explicitly, NOT intended ever to be used outside the context of your
application, name-spacing them with an "X-" or "X-FOO-" prefix is a
reasonable, and common, convention.</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/http/" rel="tag">http</a></li>
            <li><a class="tag p-category" href="../../categories/http-headers/" rel="tag">http-headers</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../how-can-i-center-an-absolutely-positioned-element-in-a-div/" rel="prev" title="How can I center an absolutely positioned element in a div?">Previous post</a>
            </li>
            <li class="next">
                <a href="../how-to-find-the-sum-of-an-array-of-numbers/" rel="next" title="How to find the sum of an array of numbers">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Hyperledger Fabric GOSSIP_BOOTSTRAP &amp; GOSSIP_EXTERNALENDPOINTS | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/hyperledger-fabric-gossip-bootstrap-gossip-externalendpoints/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../are-blocks-mined-in-hyperledger-fabric/" title="Are blocks mined in HyperLedger Fabric?" type="text/html">
<link rel="next" href="../hyperledger-sawtooth-lake-intel-only-or-not/" title="hyperledger sawtooth lake -- Intel only or not?" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="Hyperledger Fabric GOSSIP_BOOTSTRAP &amp; GOSSIP_EXTERNALENDPOINTS">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/hyperledger-fabric-gossip-bootstrap-gossip-externalendpoints/">
<meta property="og:description" content="I was looking into the docker configuration files and found two parameters
in peer environment as shown below:
environment:
      - CORE_PEER_ID=peer0.org1.example.com
      - CORE_PEER_ADDRESS=peer0.">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-28T04:39:36+08:00">
<meta property="article:tag" content="blockchain">
<meta property="article:tag" content="hyperledger">
<meta property="article:tag" content="hyperledger-fabric">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Hyperledger Fabric GOSSIP_BOOTSTRAP &amp; GOSSIP_EXTERNALENDPOINTS</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-28T04:39:36+08:00" itemprop="datePublished" title="2023-02-28 04:39">2023-02-28 04:39</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>I was looking into the <code>docker</code> configuration files and found two parameters
in peer environment as shown below:</p>
<div class="code"><pre class="code literal-block"><span class="n">environment</span><span class="p">:</span>
      <span class="o">-</span> <span class="n">CORE_PEER_ID</span><span class="o">=</span><span class="n">peer0</span><span class="p">.</span><span class="n">org1</span><span class="p">.</span><span class="n">example</span><span class="p">.</span><span class="n">com</span>
      <span class="o">-</span> <span class="n">CORE_PEER_ADDRESS</span><span class="o">=</span><span class="n">peer0</span><span class="p">.</span><span class="n">org1</span><span class="p">.</span><span class="n">example</span><span class="p">.</span><span class="n">com</span><span class="p">:</span><span class="mi">7051</span>
      <span class="o">-</span> <span class="n">CORE_PEER_GOSSIP_BOOTSTRAP</span><span class="o">=</span><span class="n">peer1</span><span class="p">.</span><span class="n">org1</span><span class="p">.</span><span class="n">example</span><span class="p">.</span><span class="n">com</span><span class="p">:</span><span class="mi">7051</span>
      <span class="o">-</span> <span class="n">CORE_PEER_GOSSIP_EXTERNALENDPOINT</span><span class="o">=</span><span class="n">peer0</span><span class="p">.</span><span class="n">org1</span><span class="p">.</span><span class="n">example</span><span class="p">.</span><span class="n">com</span><span class="p">:</span><span class="mi">7051</span>
      <span class="o">-</span> <span class="n">CORE_PEER_LOCALMSPID</span><span class="o">=</span><span class="n">Org1MSP</span>
</pre></div>

<p>Can anyone explain what there two variables <strong>CORE_PEER_GOSSIP_BOOTSTRAP</strong> &amp;
<strong>CORE_PEER_GOSSIP_EXTERNALENDPOINT</strong> works. How they can be configured in
case of odd number of peers.</p>
<p>A detailed explanation would be really appreciated.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Gossip can be used just between peers in the same organization or between
peers in different organizations. It is always scoped to specific channels.</p>
<p>1) Communication between the peers in a single organization</p>
<ul>
<li>
<p>One peer may be the leader and connect to the ordering service and deliver blocks to other peers in its own organization</p>
</li>
<li>
<p>A peer can connect to other peers in its organization to obtain missing blocks</p>
</li>
</ul>
<p>2) Communication between peers in different organizations</p>
<ul>
<li>
<p>In v1.2 when using the private data feature, gossip is used to distribute the private data to other peers in the org at endorsement time</p>
</li>
<li>
<p>Peers can get missing blocks that have been already committed, from peers in other organizations</p>
</li>
<li>
<p>Peers can get missing private data from peers in other organizations at commit time</p>
</li>
</ul>
<p>In order for gossip to actually work, it needs to be able to obtain the
endpoint information for peers in its own organization as well as from peers
in other organizations.</p>
<p><strong>CORE_PEER_GOSSIP_BOOTSTRAP</strong> is used to bootstrap gossip within an
organization. If you are using gossip, you will typically configure all the
peers in your org to point to an initial set of peers for bootstrap (you can
specific a space-separated list of peers). Off course peers can bootstrap from
different peers as well, but in that case you just need to make sure that
there's a bootstrap path across all peers. Peers within an organization will
typically communicate on their internal endpoints (meaning you do not have to
expose all the peers in an org publicly). When the peer contacts the bootstrap
peer, it passes it's endpoint info and then gossip is used to distribute the
info about all the peers in the organization among the peers in the
organization.</p>
<p>In order for peers to communicate across organizations, again some type of
bootstrap information is required. The initial cross-organization bootstrap
information is provided via the "anchor peers" setting in the channel
configuration. This allows peers who have joined a channel to discover other
peers on the channel as well. But clearly initially a peer in on organization
will only know about the anchor peers for there organizations. If you want to
make other peers in your organization known to other organizations, then you
need to set the <strong>CORE_PEER_GOSSIP_EXTERNALENDPOINT</strong> property. If this is not
set, then the endpoint information about the peer will not be broadcast to
peers in other organizations, and in fact - that peer will only be known to
its own organization.</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/blockchain/" rel="tag">blockchain</a></li>
            <li><a class="tag p-category" href="../../categories/hyperledger/" rel="tag">hyperledger</a></li>
            <li><a class="tag p-category" href="../../categories/hyperledger-fabric/" rel="tag">hyperledger-fabric</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../are-blocks-mined-in-hyperledger-fabric/" rel="prev" title="Are blocks mined in HyperLedger Fabric?">Previous post</a>
            </li>
            <li class="next">
                <a href="../hyperledger-sawtooth-lake-intel-only-or-not/" rel="next" title="hyperledger sawtooth lake -- Intel only or not?">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

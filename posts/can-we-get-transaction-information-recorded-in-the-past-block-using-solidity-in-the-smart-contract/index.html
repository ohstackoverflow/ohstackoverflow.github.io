<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Can we get transaction information recorded in the past block using Solidity in the Smart contract? | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/can-we-get-transaction-information-recorded-in-the-past-block-using-solidity-in-the-smart-contract/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../hyperledger-fabric-blockchain-network-from-scratch/" title="Hyperledger Fabric blockchain network from scratch" type="text/html">
<link rel="next" href="../hyperledger-fabric-with-docker-not-storing-data-after-restart/" title="Hyperledger Fabric with docker not storing data after restart" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="Can we get transaction information recorded in the past block using So">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/can-we-get-transaction-information-recorded-in-the-past-block-using-solidity-in-the-smart-contract/">
<meta property="og:description" content="I am studying blockchain with Ethereum, and I want to use past transaction
data in the Smart contract using Solidity. If I use Web3.js module in the
program written in javascript, I can get these data">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-28T04:48:30+08:00">
<meta property="article:tag" content="blockchain">
<meta property="article:tag" content="ethereum">
<meta property="article:tag" content="go-ethereum">
<meta property="article:tag" content="solidity">
<meta property="article:tag" content="web3js">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Can we get transaction information recorded in the past block using Solidity in the Smart contract?</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-28T04:48:30+08:00" itemprop="datePublished" title="2023-02-28 04:48">2023-02-28 04:48</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>I am studying blockchain with Ethereum, and I want to use past transaction
data in the Smart contract using Solidity. If I use Web3.js module in the
program written in javascript, I can get these data easily. But I can't get
these data in the Smart contract using Solidity.</p>
<p>Reference of Solidity says that we can get current block number, blockhash,
etc., by using "block.number" and "block.blockhash(uint blockNumber)"
functions, but doesn't mention getting transaction data.
(http://solidity.readthedocs.io/en/latest/units-and-global-
variables.html#special-variables-and-functions)</p>
<p><img alt="enter image description here" src="../../images/ZGwyP.png"></p>
<p>please help me.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The answer is simple. Unfortunately, you simply can’t access old transaction
or block data onchain from Solidity. At most, you can access hashes of last
256 blocks (see <code>blockhash</code> in documentation )</p>
<p>Alternatively, as a workaround you could consider using Oraclize. Oraclize
represents way to read offchain data onchain, so you could try to read
transaction data from Etherscan web API. The way Oraclize works is that :</p>
<ol>
<li>You request to Oraclize smart contract what data you want to fetch from internet (some URL)</li>
<li>Oraclize offchain servers then detect your on-chain request</li>
<li>The look up the data you wanted (they'll make some http request to the URL you provided)</li>
<li>Once they get response, they will send transaction to your contract (calling specific callback method) containing data you requested</li>
</ol>
<p>With such approach however, you are relying that:</p>
<ol>
<li>EtherScan is up and running</li>
<li>Oraclize is up un running.</li>
</ol>
<p>If you only care about transaction data related to your smart contracts,
another way would be to store that transaction data onchain. Maybe we could
gave you some more suggestions if you tell us more about what specific problem
are you solving.</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/blockchain/" rel="tag">blockchain</a></li>
            <li><a class="tag p-category" href="../../categories/ethereum/" rel="tag">ethereum</a></li>
            <li><a class="tag p-category" href="../../categories/go-ethereum/" rel="tag">go-ethereum</a></li>
            <li><a class="tag p-category" href="../../categories/solidity/" rel="tag">solidity</a></li>
            <li><a class="tag p-category" href="../../categories/web3js/" rel="tag">web3js</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../hyperledger-fabric-blockchain-network-from-scratch/" rel="prev" title="Hyperledger Fabric blockchain network from scratch">Previous post</a>
            </li>
            <li class="next">
                <a href="../hyperledger-fabric-with-docker-not-storing-data-after-restart/" rel="next" title="Hyperledger Fabric with docker not storing data after restart">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

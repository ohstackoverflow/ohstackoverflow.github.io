<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>How do I include a JavaScript file in another JavaScript file? | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/how-do-i-include-a-javascript-file-in-another-javascript-file/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../what-is-the-difference-between-post-and-put-in-http/" title="What is the difference between POST and PUT in HTTP?" type="text/html">
<link rel="next" href="../what-is-the-difference-between-let-and-var/" title='What is the difference between "let" and "var"?' type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="How do I include a JavaScript file in another JavaScript file?">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/how-do-i-include-a-javascript-file-in-another-javascript-file/">
<meta property="og:description" content="How do I include a JavaScript file inside another JavaScript file, similar to
@import in CSS?

Answer
The old versions of JavaScript had no import, include, or require, so many
different approaches to">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-16T18:31:57+08:00">
<meta property="article:tag" content="file">
<meta property="article:tag" content="import">
<meta property="article:tag" content="include">
<meta property="article:tag" content="javascript">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">How do I include a JavaScript file in another JavaScript file?</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T18:31:57+08:00" itemprop="datePublished" title="2023-02-16 18:31">2023-02-16 18:31</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>How do I include a JavaScript file inside another JavaScript file, similar to
<code>@import</code> in CSS?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The old versions of JavaScript had no import, include, or require, so many
different approaches to this problem have been developed.</p>
<p>But since 2015 (ES6), JavaScript has had the ES6 modules standard to import
modules in Node.js, which is also supported by most modern browsers.</p>
<p>For compatibility with older browsers, build tools like Webpack and Rollup
and/or transpilation tools like Babel can be used.</p>
<h2>ES6 Modules</h2>
<p>ECMAScript (ES6) modules have been supported in Node.js since v8.5, with the
<code>--experimental-modules</code> flag, and since at least Node.js v13.8.0 without the
flag. To enable "ESM" (vs. Node.js's previous CommonJS-style module system
["CJS"]) you either use <code>"type": "module"</code> in <code>package.json</code> or give the files
the extension <code>.mjs</code>. (Similarly, modules written with Node.js's previous CJS
module can be named <code>.cjs</code> if your default is ESM.)</p>
<p>Using <code>package.json</code>:</p>
<div class="code"><pre class="code literal-block">{
    "type": "module"
}
</pre></div>

<p>Then <code>module.js</code>:</p>
<div class="code"><pre class="code literal-block"><span class="k">export</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">hello</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="s2">"Hello"</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>Then <code>main.js</code>:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="p">{</span> <span class="n">hello</span> <span class="p">}</span> <span class="kn">from</span> <span class="s1">'./module.js'</span><span class="p">;</span>
<span class="n">let</span> <span class="n">val</span> <span class="o">=</span> <span class="n">hello</span><span class="p">();</span>  <span class="o">//</span> <span class="n">val</span> <span class="ow">is</span> <span class="s2">"Hello"</span><span class="p">;</span>
</pre></div>

<p>Using <code>.mjs</code>, you'd have <code>module.mjs</code>:</p>
<div class="code"><pre class="code literal-block"><span class="k">export</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">hello</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="s2">"Hello"</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>Then <code>main.mjs</code>:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="p">{</span> <span class="n">hello</span> <span class="p">}</span> <span class="kn">from</span> <span class="s1">'./module.mjs'</span><span class="p">;</span>
<span class="n">let</span> <span class="n">val</span> <span class="o">=</span> <span class="n">hello</span><span class="p">();</span>  <span class="o">//</span> <span class="n">val</span> <span class="ow">is</span> <span class="s2">"Hello"</span><span class="p">;</span>
</pre></div>

<h3>ECMAScript modules in browsers</h3>
<p>Browsers have had support for loading ECMAScript modules directly (no tools
like Webpack required) since Safari 10.1, Chrome 61, Firefox 60, and Edge 16.
Check the current support at caniuse. There is no need to use Node.js' <code>.mjs</code>
extension; browsers completely ignore file extensions on modules/scripts.</p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;</span><span class="n">script</span> <span class="nb">type</span><span class="o">=</span><span class="s2">"module"</span><span class="o">&gt;</span>
  <span class="kn">import</span> <span class="p">{</span> <span class="n">hello</span> <span class="p">}</span> <span class="kn">from</span> <span class="s1">'./hello.mjs'</span><span class="p">;</span> <span class="o">//</span> <span class="n">Or</span> <span class="n">the</span> <span class="n">extension</span> <span class="n">could</span> <span class="n">be</span> <span class="n">just</span> <span class="err">`</span><span class="o">.</span><span class="n">js</span><span class="err">`</span>
  <span class="n">hello</span><span class="p">(</span><span class="s1">'world'</span><span class="p">);</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>



<span class="o">//</span> <span class="n">hello</span><span class="o">.</span><span class="n">mjs</span> <span class="o">--</span> <span class="ow">or</span> <span class="n">the</span> <span class="n">extension</span> <span class="n">could</span> <span class="n">be</span> <span class="n">just</span> <span class="err">`</span><span class="o">.</span><span class="n">js</span><span class="err">`</span>
<span class="n">export</span> <span class="n">function</span> <span class="n">hello</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">const</span> <span class="n">div</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="n">createElement</span><span class="p">(</span><span class="s1">'div'</span><span class="p">);</span>
  <span class="n">div</span><span class="o">.</span><span class="n">textContent</span> <span class="o">=</span> <span class="err">`</span><span class="n">Hello</span> <span class="err">$</span><span class="p">{</span><span class="n">text</span><span class="p">}</span><span class="err">`</span><span class="p">;</span>
  <span class="n">document</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">appendChild</span><span class="p">(</span><span class="n">div</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

<p>Read more at https://jakearchibald.com/2017/es-modules-in-browsers/</p>
<h4>Dynamic imports in browsers</h4>
<p>Dynamic imports let the script load other scripts as needed:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;script</span><span class="w"> </span><span class="na">type=</span><span class="s">"module"</span><span class="nt">&gt;</span>
<span class="w">  </span>import('hello.mjs').then(module<span class="w"> </span>=&gt;<span class="w"> </span>{
<span class="w">      </span>module.hello('world');
<span class="w">    </span>});
<span class="nt">&lt;/script&gt;</span>
</pre></div>

<p>Read more at https://developers.google.com/web/updates/2017/11/dynamic-import</p>
<h2>Node.js require</h2>
<p>The older CJS module style, still widely used in Node.js, is the
<code>module.exports</code>/<code>require</code> system.</p>
<div class="code"><pre class="code literal-block"><span class="o">//</span><span class="w"> </span><span class="n">mymodule</span><span class="o">.</span><span class="n">js</span>
<span class="n">module</span><span class="o">.</span><span class="n">exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="n">hello</span><span class="p">:</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="s2">"Hello"</span><span class="p">;</span>
<span class="w">   </span><span class="p">}</span>
<span class="p">}</span>



<span class="o">//</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="n">js</span>
<span class="k">const</span><span class="w"> </span><span class="n">myModule</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">require</span><span class="p">(</span><span class="s1">'./mymodule'</span><span class="p">);</span>
<span class="n">let</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">myModule</span><span class="o">.</span><span class="n">hello</span><span class="p">();</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="s2">"Hello"</span>
</pre></div>

<p>There are other ways for JavaScript to include external JavaScript contents in
browsers that do not require preprocessing.</p>
<h2>AJAX Loading</h2>
<p>You could load an additional script with an AJAX call and then use <code>eval</code> to
run it. This is the most straightforward way, but it is limited to your domain
because of the JavaScript sandbox security model. Using <code>eval</code> also opens the
door to bugs, hacks and security issues.</p>
<h2>Fetch Loading</h2>
<p>Like Dynamic Imports you can load one or many scripts with a <code>fetch</code> call
using promises to control order of execution for script dependencies using the
Fetch Inject library:</p>
<div class="code"><pre class="code literal-block">fetchInject([
<span class="w">  </span>'https://cdn.jsdelivr.net/momentjs/2.17.1/moment.min.js'
]).then(()<span class="w"> </span>=&gt;<span class="w"> </span>{
<span class="w">  </span>console.log(`Finish<span class="w"> </span>in<span class="w"> </span>less<span class="w"> </span>than<span class="w"> </span><span class="cp">${</span><span class="n">moment</span><span class="p">()</span><span class="o">.</span><span class="n">endOf</span><span class="p">(</span><span class="s1">'year'</span><span class="p">)</span><span class="o">.</span><span class="n">fromNow</span><span class="p">(</span><span class="n">true</span><span class="p">)</span><span class="cp">}</span>`)
})
</pre></div>

<h2>jQuery Loading</h2>
<p>The jQuery library provides loading functionality in one line:</p>
<div class="code"><pre class="code literal-block"><span class="o">$.</span><span class="n">getScript</span><span class="p">(</span><span class="s2">"my_lovely_script.js"</span><span class="p">,</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="n">alert</span><span class="p">(</span><span class="s2">"Script loaded but not necessarily executed."</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>

<h2>Dynamic Script Loading</h2>
<p>You could add a script tag with the script URL into the HTML. To avoid the
overhead of jQuery, this is an ideal solution.</p>
<p>The script can even reside on a different server. Furthermore, the browser
evaluates the code. The <code>&lt;script&gt;</code> tag can be injected into either the web
page <code>&lt;head&gt;</code>, or inserted just before the closing <code>&lt;/body&gt;</code> tag.</p>
<p>Here is an example of how this could work:</p>
<div class="code"><pre class="code literal-block"><span class="n">function</span><span class="w"> </span><span class="n">dynamicallyLoadScript</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">script</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">document</span><span class="o">.</span><span class="n">createElement</span><span class="p">(</span><span class="s2">"script"</span><span class="p">);</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">create</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">script</span><span class="w"> </span><span class="n">DOM</span><span class="w"> </span><span class="n">node</span>
<span class="w">    </span><span class="n">script</span><span class="o">.</span><span class="n">src</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">url</span><span class="p">;</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">src</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">provided</span><span class="w"> </span><span class="n">URL</span>

<span class="w">    </span><span class="n">document</span><span class="o">.</span><span class="n">head</span><span class="o">.</span><span class="n">appendChild</span><span class="p">(</span><span class="n">script</span><span class="p">);</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">end</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">head</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="p">(</span><span class="n">could</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="s1">'head'</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="s1">'body'</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">end</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="n">instead</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>

<p>This function will add a new <code>&lt;script&gt;</code> tag to the end of the head section of
the page, where the <code>src</code> attribute is set to the URL which is given to the
function as the first parameter.</p>
<p>Both of these solutions are discussed and illustrated in JavaScript Madness:
Dynamic Script Loading.</p>
<h2>Detecting when the script has been executed</h2>
<p>Now, there is a big issue you must know about. Doing that implies that <em>you
remotely load the code</em>. Modern web browsers will load the file and keep
executing your current script because they load everything asynchronously to
improve performance. (This applies to both the jQuery method and the manual
dynamic script loading method.)</p>
<p>It means that if you use these tricks directly, <em>you won't be able to use your
newly loaded code the next line after you asked it to be loaded</em> , because it
will be still loading.</p>
<p>For example: <code>my_lovely_script.js</code> contains <code>MySuperObject</code>:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">js</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">document</span><span class="o">.</span><span class="n">createElement</span><span class="p">(</span><span class="s2">"script"</span><span class="p">);</span>

<span class="n">js</span><span class="o">.</span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"text/javascript"</span><span class="p">;</span>
<span class="n">js</span><span class="o">.</span><span class="n">src</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">jsFilePath</span><span class="p">;</span>

<span class="n">document</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">appendChild</span><span class="p">(</span><span class="n">js</span><span class="p">);</span>

<span class="k">var</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">MySuperObject</span><span class="p">();</span>

<span class="n">Error</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">MySuperObject</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">undefined</span>
</pre></div>

<p>Then you reload the page hitting <code>F5</code>. And it works! Confusing...</p>
<p><strong>So what to do about it ?</strong></p>
<p>Well, you can use the hack the author suggests in the link I gave you. In
summary, for people in a hurry, he uses an event to run a callback function
when the script is loaded. So you can put all the code using the remote
library in the callback function. For example:</p>
<div class="code"><pre class="code literal-block"><span class="k">function</span><span class="w"> </span><span class="nf">loadScript</span><span class="p">(</span>url, callback<span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Adding</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">script</span><span class="w"> </span><span class="n">tag</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nb">head</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">suggested</span><span class="w"> </span><span class="n">before</span>
<span class="w">    </span><span class="nb">var</span><span class="w"> </span><span class="nb">head</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">document</span><span class="p">.</span><span class="n">head</span><span class="p">;</span>
<span class="w">    </span><span class="n">var</span><span class="w"> </span><span class="s">script</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">document</span><span class="p">.</span><span class="n">createElement</span><span class="p">(</span><span class="s">'script'</span><span class="p">);</span>
<span class="w">    </span><span class="n">script</span><span class="p">.</span><span class="n">type</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">'text/javascript'</span><span class="p">;</span>
<span class="w">    </span><span class="n">script</span><span class="p">.</span><span class="n">src</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">url</span><span class="p">;</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Then</span><span class="w"> </span><span class="n">bind</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">event</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">callback</span><span class="w"> </span><span class="k">function</span><span class="p">.</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">There</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">several</span><span class="w"> </span><span class="nb">events</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nb">cross</span><span class="w"> </span><span class="n">browser</span><span class="w"> </span><span class="n">compatibility</span><span class="p">.</span>
<span class="w">    </span><span class="n">script</span><span class="p">.</span><span class="n">onreadystatechange</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">callback</span><span class="p">;</span>
<span class="w">    </span><span class="n">script</span><span class="p">.</span><span class="n">onload</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">callback</span><span class="p">;</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Fire</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">loading</span>
<span class="w">    </span><span class="nb">head</span><span class="p">.</span><span class="n">appendChild</span><span class="p">(</span><span class="n">script</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

<p>Then you write the code you want to use AFTER the script is loaded in a lambda
function:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">myPrettyCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="o">//</span><span class="w"> </span><span class="n">Here</span><span class="p">,</span><span class="w"> </span><span class="n">do</span><span class="w"> </span><span class="n">whatever</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">want</span>
<span class="p">};</span>
</pre></div>

<p>Then you run all that:</p>
<div class="code"><pre class="code literal-block"><span class="n">loadScript</span><span class="p">(</span><span class="s2">"my_lovely_script.js"</span><span class="p">,</span><span class="w"> </span><span class="n">myPrettyCode</span><span class="p">);</span>
</pre></div>

<p>Note that the script may execute after the DOM has loaded, or before,
depending on the browser and whether you included the line <code>script.async =
false;</code>. There's a great article on Javascript loading in general which
discusses this.</p>
<h2>Source Code Merge/Preprocessing</h2>
<p>As mentioned at the top of this answer, many developers use
build/transpilation tool(s) like Parcel, Webpack, or Babel in their projects,
allowing them to use upcoming JavaScript syntax, provide backward
compatibility for older browsers, combine files, minify, perform code
splitting etc.</p>
<p><br></p>
<h3>Suggest</h3>
<p>If anyone is looking for something more advanced, try out RequireJS. You'll
get added benefits such as dependency management, better concurrency, and
avoid duplication (that is, retrieving a script more than once).</p>
<p>You can write your JavaScript files in "modules" and then reference them as
dependencies in other scripts. Or you can use RequireJS as a simple "go get
this script" solution.</p>
<p>Example:</p>
<p>Define dependencies as modules:</p>
<p><strong>some-dependency.js</strong></p>
<div class="code"><pre class="code literal-block"><span class="nv">define</span><span class="ss">(</span>[<span class="s1">'lib/dependency1'</span>,<span class="w"> </span><span class="s1">'lib/dependency2'</span>],<span class="w"> </span><span class="nv">function</span><span class="w"> </span><span class="ss">(</span><span class="nv">d1</span>,<span class="w"> </span><span class="nv">d2</span><span class="ss">)</span><span class="w"> </span>{

<span class="w">     </span><span class="o">//</span><span class="nv">Your</span><span class="w"> </span><span class="nv">actual</span><span class="w"> </span><span class="nv">script</span><span class="w"> </span><span class="nv">goes</span><span class="w"> </span><span class="nv">here</span>.<span class="w">   </span>
<span class="w">     </span><span class="o">//</span><span class="nv">The</span><span class="w"> </span><span class="nv">dependent</span><span class="w"> </span><span class="nv">scripts</span><span class="w"> </span><span class="nv">will</span><span class="w"> </span><span class="nv">be</span><span class="w"> </span><span class="nv">fetched</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">necessary</span>.

<span class="w">     </span><span class="k">return</span><span class="w"> </span><span class="nv">libraryObject</span><span class="c1">;  //For example, jQuery object</span>
}<span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p><strong>implementation.js</strong> is your "main" JavaScript file that depends on <strong>some-
dependency.js</strong></p>
<div class="code"><pre class="code literal-block"><span class="nv">require</span><span class="ss">(</span>[<span class="s1">'some-dependency'</span>],<span class="w"> </span><span class="nv">function</span><span class="ss">(</span><span class="nv">dependency</span><span class="ss">)</span><span class="w"> </span>{

<span class="w">    </span><span class="o">//</span><span class="nv">Your</span><span class="w"> </span><span class="nv">script</span><span class="w"> </span><span class="nv">goes</span><span class="w"> </span><span class="nv">here</span>
<span class="w">    </span><span class="o">//</span><span class="nv">some</span><span class="o">-</span><span class="nv">dependency</span>.<span class="nv">js</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">fetched</span>.<span class="w">   </span>
<span class="w">    </span><span class="o">//</span><span class="k">Then</span><span class="w"> </span><span class="nv">your</span><span class="w"> </span><span class="nv">script</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">executed</span>
}<span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p>Excerpt from the GitHub README:</p>
<blockquote>
<p>RequireJS loads plain JavaScript files as well as more defined modules. It
is optimized for in-browser use, including in a Web Worker, but it can be
used in other JavaScript environments, like Rhino and Node. It implements
the Asynchronous Module API.</p>
<p>RequireJS uses plain script tags to load modules/files, so it should allow
for easy debugging. It can be used simply to load existing JavaScript files,
so <strong>you can add it to your existing project without having to re-write your
JavaScript files.</strong></p>
<p>...</p>
</blockquote>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/file/" rel="tag">file</a></li>
            <li><a class="tag p-category" href="../../categories/import/" rel="tag">import</a></li>
            <li><a class="tag p-category" href="../../categories/include/" rel="tag">include</a></li>
            <li><a class="tag p-category" href="../../categories/javascript/" rel="tag">javascript</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../what-is-the-difference-between-post-and-put-in-http/" rel="prev" title="What is the difference between POST and PUT in HTTP?">Previous post</a>
            </li>
            <li class="next">
                <a href="../what-is-the-difference-between-let-and-var/" rel="next" title='What is the difference between "let" and "var"?'>Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

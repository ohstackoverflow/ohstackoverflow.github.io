<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>How to sort strings in JavaScript | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/how-to-sort-strings-in-javascript/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../fatal-not-possible-to-fast-forward-aborting/" title="Fatal: Not possible to fast-forward, aborting" type="text/html">
<link rel="next" href="../reading-a-file-line-by-line-in-go/" title="Reading a file line by line in Go" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="How to sort strings in JavaScript">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/how-to-sort-strings-in-javascript/">
<meta property="og:description" content="I have a list of objects I wish to sort based on a field attr of type
string. I tried using -
list.sort(function (a, b) {
    return a.attr - b.attr
})


but found that - doesn't appear to work with s">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-03-03T03:47:36+08:00">
<meta property="article:tag" content="javascript">
<meta property="article:tag" content="string">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">How to sort strings in JavaScript</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T03:47:36+08:00" itemprop="datePublished" title="2023-03-03 03:47">2023-03-03 03:47</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>I have a list of objects I wish to sort based on a field <code>attr</code> of type
string. I tried using <code>-</code></p>
<div class="code"><pre class="code literal-block"><span class="nv">list</span>.<span class="nv">sort</span><span class="ss">(</span><span class="nv">function</span><span class="w"> </span><span class="ss">(</span><span class="nv">a</span>,<span class="w"> </span><span class="nv">b</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">a</span>.<span class="nv">attr</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nv">b</span>.<span class="nv">attr</span>
}<span class="ss">)</span>
</pre></div>

<p>but found that <code>-</code> doesn't appear to work with strings in JavaScript. How can
I sort a list of objects based on an attribute with type string?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Use <code>String.prototype.localeCompare</code> as per your example:</p>
<div class="code"><pre class="code literal-block"><span class="nv">list</span>.<span class="nv">sort</span><span class="ss">(</span><span class="nv">function</span><span class="w"> </span><span class="ss">(</span><span class="nv">a</span>,<span class="w"> </span><span class="nv">b</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="ss">(</span><span class="s1">''</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">a</span>.<span class="nv">attr</span><span class="ss">)</span>.<span class="nv">localeCompare</span><span class="ss">(</span><span class="nv">b</span>.<span class="nv">attr</span><span class="ss">)</span><span class="c1">;</span>
}<span class="ss">)</span>
</pre></div>

<p>We force a.attr to be a string to avoid exceptions. <code>localeCompare</code> has been
supported since Internet Explorer 6 and Firefox 1. You may also see the
following code used that doesn't respect a locale:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">item1</span>.<span class="nv">attr</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nv">item2</span>.<span class="nv">attr</span><span class="ss">)</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="c1">;</span>
<span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="w"> </span><span class="nv">item1</span>.<span class="nv">attr</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nv">item2</span>.<span class="nv">attr</span><span class="ss">)</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="c1">;</span>
<span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="c1">;</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<h3>An updated answer (October 2014)</h3>
<p>I was really annoyed about this string natural sorting order so I took quite
some time to investigate this issue.</p>
<h4>Long story short</h4>
<p><code>localeCompare()</code> character support is badass, just use it. As pointed out by
Shog9, the answer to your question is:</p>
<div class="code"><pre class="code literal-block"><span class="k">return</span><span class="w"> </span><span class="nv">item1</span>.<span class="nv">attr</span>.<span class="nv">localeCompare</span><span class="ss">(</span><span class="nv">item2</span>.<span class="nv">attr</span><span class="ss">)</span><span class="c1">;</span>
</pre></div>

<h4>Bugs found in all the custom JavaScript "natural string sort order"</h4>
<p>implementations</p>
<p>There are quite a bunch of custom implementations out there, trying to do
string comparison more precisely called "natural string sort order"</p>
<p>When "playing" with these implementations, I always noticed some strange
"natural sorting order" choice, or rather mistakes (or omissions in the best
cases).</p>
<p>Typically, special characters (space, dash, ampersand, brackets, and so on)
are not processed correctly.</p>
<p>You will then find them appearing mixed up in different places, typically that
could be:</p>
<ul>
<li>some will be between the uppercase 'Z' and the lowercase 'a'</li>
<li>some will be between the '9' and the uppercase 'A'</li>
<li>some will be after lowercase 'z'</li>
</ul>
<p>When one would have expected special characters to all be "grouped" together
in one place, except for the space special character maybe (which would always
be the first character). That is, either all before numbers, or all between
numbers and letters (lowercase &amp; uppercase being "together" one after
another), or all after letters.</p>
<p>My conclusion is that they all fail to provide a consistent order when I start
adding barely unusual characters (i.e., characters with diacritics or
characters such as dash, exclamation mark and so on).</p>
<p>Research on the custom implementations:</p>
<ul>
<li>
<code>Natural Compare Lite</code> https://github.com/litejs/natural-compare-lite : Fails at sorting consistently https://github.com/litejs/natural-compare-lite/issues/1 and http://jsbin.com/bevututodavi/1/edit?js,console, basic Latin characters sorting http://jsbin.com/bevututodavi/5/edit?js,console</li>
<li>
<code>Natural Sort</code> https://github.com/javve/natural-sort : Fails at sorting consistently, see issue https://github.com/javve/natural-sort/issues/7 and see basic Latin characters sorting http://jsbin.com/cipimosedoqe/3/edit?js,console</li>
<li>
<code>JavaScript Natural Sort</code> https://github.com/overset/javascript-natural-sort: seems rather neglected since February 2012, Fails at sorting consistently, see issue https://github.com/overset/javascript-natural-sort/issues/16</li>
<li>
<code>Alphanum</code> http://www.davekoelle.com/files/alphanum.js , Fails at sorting consistently, see http://jsbin.com/tuminoxifuyo/1/edit?js,console</li>
</ul>
<h4>Browsers' native "natural string sort order" implementations via</h4>
<p><code>localeCompare()</code></p>
<p>localeCompare() oldest implementation (without the locales and options
arguments) is supported by Internet Explorer 6 and later, see
http://msdn.microsoft.com/en-us/library/ie/s4esdbwz(v=vs.94).aspx (scroll down
to localeCompare() method).</p>
<p>The built-in <code>localeCompare()</code> method does a much better job at sorting, even
international &amp; special characters.</p>
<p>The only problem using the <code>localeCompare()</code> method is that "the locale and
sort order used are entirely implementation dependent". In other words, when
using localeCompare such as stringOne.localeCompare(stringTwo): Firefox,
Safari, Chrome, and Internet Explorer have a different sort order for Strings.</p>
<p>Research on the browser-native implementations:</p>
<ul>
<li>http://jsbin.com/beboroyifomu/1/edit?js,console - basic Latin characters comparison with localeCompare() http://jsbin.com/viyucavudela/2/ - basic Latin characters comparison with localeCompare() for testing on Internet Explorer 8</li>
<li>http://jsbin.com/beboroyifomu/2/edit?js,console - basic Latin characters in string comparison : consistency check in string vs when a character is alone</li>
<li>https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/localeCompare - Internet Explorer 11 and later supports the new locales &amp; options arguments</li>
</ul>
<h4>Difficulty of "string natural sorting order"</h4>
<p>Implementing a solid algorithm (meaning: consistent but also covering a wide
range of characters) is a very tough task. UTF-8 contains more than 2000
characters and covers more than 120 scripts (languages).</p>
<p>Finally, there are some specification for this tasks, it is called the
"Unicode Collation Algorithm", which can be found at
http://www.unicode.org/reports/tr10/. You can find more information about this
on this question I posted
https://softwareengineering.stackexchange.com/questions/257286/is-there-any-
language-agnostic-specification-for-string-natural-sorting-order</p>
<h3>Final conclusion</h3>
<p>So considering the current level of support provided by the JavaScript custom
implementations I came across, we will probably never see anything getting any
close to supporting all this characters and scripts (languages). Hence I would
rather use the browsers' native localeCompare() method. Yes, it does have the
downside of being non-consistent across browsers but basic testing shows it
covers a much wider range of characters, allowing solid &amp; meaningful sort
orders.</p>
<p>So as pointed out by Shog9, the answer to your question is:</p>
<div class="code"><pre class="code literal-block"><span class="k">return</span><span class="w"> </span><span class="nv">item1</span>.<span class="nv">attr</span>.<span class="nv">localeCompare</span><span class="ss">(</span><span class="nv">item2</span>.<span class="nv">attr</span><span class="ss">)</span><span class="c1">;</span>
</pre></div>

<h4>Further reading:</h4>
<ul>
<li>https://softwareengineering.stackexchange.com/questions/257286/is-there-any-language-agnostic-specification-for-string-natural-sorting-order</li>
<li>How to sort strings in JavaScript</li>
<li>Natural sort of alphanumerical strings in JavaScript</li>
<li>Sort Array of numeric &amp; alphabetical elements (Natural Sort)</li>
<li>Sort mixed alpha/numeric array</li>
<li>https://web.archive.org/web/20130929122019/http://my.opera.com/GreyWyvern/blog/show.dml/1671288</li>
<li>https://web.archive.org/web/20131005224909/http://www.davekoelle.com/alphanum.html</li>
<li>http://snipplr.com/view/36012/javascript-natural-sort/</li>
<li>http://blog.codinghorror.com/sorting-for-humans-natural-sort-order/</li>
</ul>
<p>Thanks to Shog9's nice answer, which put me in the "right" direction I
believe.</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/javascript/" rel="tag">javascript</a></li>
            <li><a class="tag p-category" href="../../categories/string/" rel="tag">string</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../fatal-not-possible-to-fast-forward-aborting/" rel="prev" title="Fatal: Not possible to fast-forward, aborting">Previous post</a>
            </li>
            <li class="next">
                <a href="../reading-a-file-line-by-line-in-go/" rel="next" title="Reading a file line by line in Go">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Consensus of Hyperledger Fabric | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/consensus-of-hyperledger-fabric/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../how-to-make-sure-transactions-take-0-fee-in-a-private-ethereum-blockchain/" title="How to make sure transactions take 0 fee in a private Ethereum blockchain?" type="text/html">
<link rel="next" href="../get-keys-of-solidity-mapping/" title="Get Keys of Solidity mapping" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="Consensus of Hyperledger Fabric">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/consensus-of-hyperledger-fabric/">
<meta property="og:description" content="I'm new with Hyperledger Fabric. I'm reading with the document of Fabric
latest version, but I'm not clear with consensus of Fabric. What is the
consensus that Fabric used? And how does it work? Pleas">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-28T04:53:32+08:00">
<meta property="article:tag" content="blockchain">
<meta property="article:tag" content="consensus">
<meta property="article:tag" content="hyperledger-fabric">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Consensus of Hyperledger Fabric</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-28T04:53:32+08:00" itemprop="datePublished" title="2023-02-28 04:53">2023-02-28 04:53</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>I'm new with Hyperledger Fabric. I'm reading with the document of Fabric
latest version, but I'm not clear with consensus of Fabric. What is the
consensus that Fabric used? And how does it work? Please explain.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>I am assuming that you know the basics of consensus in the Blockchain context.
Hyperledger Fabric's consensus can be treated as a special case of the same,
may be a power-packed one. It kind of checks the transaction during multiple
phases to ensure the permission, order and correctness of changes which are
getting written to ledger.</p>
<p>In Fabric, when you are executing a transaction, if not in error, you would
want this transaction to commit to the ledger, ie, to write the transaction
into a block in the ledger in the right order. And then the same to be
consistently synchronized across all participants in the network, through a
collaborative process. So this process which ensures correctness in order and
data synchronization - is called consensus</p>
<p>HLF Standard definition is</p>
<blockquote>
<p>The process of keeping the ledger transactions synchronized across the
network – to ensure that ledgers update only when transactions are approved
by the appropriate participants, and that when ledgers do update, they
update with the same transactions in the same order – is called consensus</p>
</blockquote>
<p>This is done across the entire transaction cycle in the following ways</p>
<ol>
<li>When you are submitting the transactions, i.e, when you invoke a function in the smart contract, the Client SDK which you are using has to send that transaction proposal to the endorsers ( specific to that smart contract in the specific channel ) This transaction proposal is <strong>takes the user’s cryptographic credentials to produce a unique signature</strong>
</li>
<li>Endorsing peers do their share of checks, <strong>like proposal is valid, user who has attempted the transaction has the privilege for the same in that channel etc</strong> . And then they would simulate the transaction - and creates a response and R/W set. This is sent as proposal response which comes back to SDK.</li>
<li>SDK accumulates them and checks them and then sends them out to the orderer. <strong>Orderer will order the transaction as per time and creates a block and sends the block out to all the peers in the relevant channel</strong>
</li>
<li>Peers who receive the block starts <strong>inspecting each transaction in the block (using Validation System Chaincode), to see endorsement is done for all of them &amp; r/w set is proper ( MVCC check)</strong>. Depending on the checks, the transactions may be marked valid or invalid</li>
</ol>
<p>So once all the checks are ok, the transaction is marked valid and current
state is updated, and finally the blocks is written and events are generated
accordingly. This way the consensus is accomplished over multiple stages in
Hyperledger fabric. I think you would understand better if you refer to this
link below Hyperledger Fabric Transaction Flow</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/blockchain/" rel="tag">blockchain</a></li>
            <li><a class="tag p-category" href="../../categories/consensus/" rel="tag">consensus</a></li>
            <li><a class="tag p-category" href="../../categories/hyperledger-fabric/" rel="tag">hyperledger-fabric</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../how-to-make-sure-transactions-take-0-fee-in-a-private-ethereum-blockchain/" rel="prev" title="How to make sure transactions take 0 fee in a private Ethereum blockchain?">Previous post</a>
            </li>
            <li class="next">
                <a href="../get-keys-of-solidity-mapping/" rel="next" title="Get Keys of Solidity mapping">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

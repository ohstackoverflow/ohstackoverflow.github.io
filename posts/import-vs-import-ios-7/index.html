<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>@import vs #import - iOS 7 | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/import-vs-import-ios-7/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../how-do-i-get-a-cron-like-scheduler-in-python/" title="How do I get a Cron like scheduler in Python?" type="text/html">
<link rel="next" href="../create-pandas-dataframe-from-a-string/" title="Create Pandas DataFrame from a string" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="@import vs #import - iOS 7">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/import-vs-import-ios-7/">
<meta property="og:description" content='I am playing around with some of the new iOS 7 features and working with some
of the Image Effects as discussed in the WWDC video "Implementing Engaging UI
on iOS". For producing a blur effect within '>
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-03-03T10:34:59+08:00">
<meta property="article:tag" content="import">
<meta property="article:tag" content="ios">
<meta property="article:tag" content="ios7">
<meta property="article:tag" content="objective-c">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">@import vs #import - iOS 7</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T10:34:59+08:00" itemprop="datePublished" title="2023-03-03 10:34">2023-03-03 10:34</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>I am playing around with some of the new iOS 7 features and working with some
of the Image Effects as discussed in the WWDC video "Implementing Engaging UI
on iOS". For producing a blur effect within the source code for the session,
<code>UIImage</code> was extended via a category which imports UIKit like so:</p>
<div class="code"><pre class="code literal-block"><span class="nd">@import</span> <span class="n">UIKit</span><span class="p">;</span>
</pre></div>

<p>I think I saw something about this in another session video but I'm having
trouble finding it. I'm looking for any background information on when to use
this. Can it only be used with Apple frameworks? Are the benefits of using
this compiler directive enough that I should go back and update old code?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>It's a new feature called <strong>Modules</strong> or "semantic import". There's more info
in the WWDC 2013 videos for Session 205 and 404. It's kind of a better
implementation of the pre-compiled headers. <strong>You can use modules with any of
the system frameworks in iOS 7 and Mavericks.</strong> Modules are a packaging
together of the framework executable and its headers and are touted as being
safer and more efficient than <code>#import</code>.</p>
<p>One of the big advantages of using <code>@import</code> is that <strong>you don't need to add
the framework in the project settings, it's done automatically</strong>. That means
that you can skip the step where you click the plus button and search for the
framework (golden toolbox), then move it to the "Frameworks" group. It will
save many developers from the cryptic "Linker error" messages.</p>
<p><strong>You don't actually need to use the<code>@import</code> keyword.</strong> If you opt-in to
using modules, all <code>#import</code> and <code>#include</code> directives are mapped to use
<code>@import</code> automatically. That means that you don't have to change your source
code (or the source code of libraries that you download from elsewhere).
Supposedly using modules improves the build performance too, especially if you
haven't been using PCHs well or if your project has many small source files.</p>
<p>Modules are pre-built for most Apple frameworks (UIKit, MapKit, GameKit, etc).
You can use them with frameworks you create yourself: they are created
automatically if you create a Swift framework in Xcode, and you can manually
create a ".modulemap" file yourself for any Apple or 3rd-party library.</p>
<p>You can use code-completion to see the list of available frameworks:</p>
<p><img alt="enter image description here" src="../../images/h7UNV.png"></p>
<p><strong>Modules are enabled by default in new projects in Xcode 5</strong>. To enable them
in an older project, go into your project build settings, search for "Modules"
and set "Enable Modules" to "YES". The "Link Frameworks" should be "YES" too:</p>
<p><img alt=" " src="../../images/723Su.png"></p>
<p>You have to be using Xcode 5 and the iOS 7 or Mavericks SDK, but you can still
release for older OSs (say iOS 4.3 or whatever). <strong>Modules don't change how
your code is built or any of the source code.</strong></p>
<hr>
<p>From the WWDC slides:</p>
<blockquote>
<ul>
<li>Imports complete semantic description of a framework</li>
<li>Doesn't need to parse the headers</li>
<li>Better way to import a framework’s interface</li>
<li>Loads binary representation</li>
<li>More flexible than precompiled headers</li>
<li>Immune to effects of local macro definitions (e.g. <code>#define readonly
0x01</code>)</li>
<li>Enabled for new projects by default
</li>
</ul>
</blockquote>
<hr>
<p><strong>To explicitly use modules:</strong></p>
<p>Replace <code>#import &lt;Cocoa/Cocoa.h&gt;</code> with <code>@import Cocoa;</code></p>
<p>You can also import just one header with this notation:</p>
<div class="code"><pre class="code literal-block"><span class="nd">@import</span> <span class="n">iAd</span><span class="o">.</span><span class="n">ADBannerView</span><span class="p">;</span>
</pre></div>

<p>The submodules autocomplete for you in Xcode.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Nice answer you can find in book Learning Cocoa with Objective-C (ISBN:
978-1-491-90139-7)</p>
<p>Modules are a new means of including and linking files and libraries into your
projects. To understand how modules work and what benefits they have, it is
important to look back into the history of Objective-C and the #import
statement Whenever you want to include a file for use, you will generally have
some code that looks like this:</p>
<div class="code"><pre class="code literal-block"><span class="c1">#import "someFile.h"</span>
</pre></div>

<p>Or in the case of frameworks:</p>
<div class="code"><pre class="code literal-block"><span class="c1">#import &lt;SomeLibrary/SomeFile.h&gt;</span>
</pre></div>

<p>Because Objective-C is a superset of the C programming language, the #import
state‐ ment is a minor refinement upon C’s <code>#include</code> statement. The #include
statement is very simple; it copies everything it finds in the included file
into your code during compilation. This can sometimes cause significant
problems. For example, imagine you have two header files: <code>SomeFileA.h</code> and
<code>SomeFileB.h</code>; <code>SomeFileA.h</code> includes <code>SomeFileB.h</code>, and <code>SomeFileB.h</code>
includes <code>SomeFileA.h</code>. This creates a loop, and can confuse the coimpiler. To
deal with this, C programmers have to write guards against this type of event
from occurring.</p>
<p>When using <code>#import</code>, you don’t need to worry about this issue or write header
guards to avoid it. However, <code>#import</code> is still just a glorified copy-and-
paste action, causing slow compilation time among a host of other smaller but
still very dangerous issues (such as an included file overriding something you
have declared elsewhere in your own code.)</p>
<p>Modules are an attempt to get around this. They are no longer a copy-and-paste
into source code, but a serialised representation of the included files that
can be imported into your source code only when and where they’re needed. By
using modules, code will generally compile faster, and be safer than using
either #include or <code>#import</code>.</p>
<p>Returning to the previous example of importing a framework:</p>
<div class="code"><pre class="code literal-block"><span class="c1">#import &lt;SomeLibrary/SomeFile.h&gt;</span>
</pre></div>

<p>To import this library as a module, the code would be changed to:</p>
<div class="code"><pre class="code literal-block"><span class="nd">@import</span> <span class="n">SomeLibrary</span><span class="p">;</span>
</pre></div>

<p>This has the added bonus of Xcode linking the SomeLibrary framework into the
project automatically. Modules also allow you to only include the components
you really need into your project. For example, if you want to use the
AwesomeObject component in the AwesomeLibrary framework, normally you would
have to import everything just to use the one piece. However, using modules,
you can just import the specific object you want to use:</p>
<div class="code"><pre class="code literal-block"><span class="nd">@import</span> <span class="n">AwesomeLibrary</span><span class="o">.</span><span class="n">AwesomeObject</span><span class="p">;</span>
</pre></div>

<p>For all new projects made in Xcode 5, modules are enabled by default. If you
want to use modules in older projects (and you really should) they will have
to be enabled in the project’s build settings. Once you do that, you can use
both <code>#import</code> and <code>@import</code> statements in your code together without any
concern.</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/import/" rel="tag">import</a></li>
            <li><a class="tag p-category" href="../../categories/ios/" rel="tag">ios</a></li>
            <li><a class="tag p-category" href="../../categories/ios7/" rel="tag">ios7</a></li>
            <li><a class="tag p-category" href="../../categories/objective-c/" rel="tag">objective-c</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../how-do-i-get-a-cron-like-scheduler-in-python/" rel="prev" title="How do I get a Cron like scheduler in Python?">Previous post</a>
            </li>
            <li class="next">
                <a href="../create-pandas-dataframe-from-a-string/" rel="next" title="Create Pandas DataFrame from a string">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

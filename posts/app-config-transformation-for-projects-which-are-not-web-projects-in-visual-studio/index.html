<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>App.Config Transformation for projects which are not Web Projects in Visual Studio? | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/app-config-transformation-for-projects-which-are-not-web-projects-in-visual-studio/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../uitableviewcell-show-delete-button-on-swipe/" title="UITableViewCell, show delete button on swipe" type="text/html">
<link rel="next" href="../proper-way-to-use-kwargs-in-python/" title="Proper way to use **kwargs in Python" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="App.Config Transformation for projects which are not Web Projects in V">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/app-config-transformation-for-projects-which-are-not-web-projects-in-visual-studio/">
<meta property="og:description" content="For Visual Studio 2010 Web based application we have Config Transformation
features by which we can maintain multiple configuration files for different
environments. But the same feature is not availa">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-18T02:38:29+08:00">
<meta property="article:tag" content=".net-4.0">
<meta property="article:tag" content="app-config">
<meta property="article:tag" content="slowcheetah">
<meta property="article:tag" content="visual-studio">
<meta property="article:tag" content="web-config-transform">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">App.Config Transformation for projects which are not Web Projects in Visual Studio?</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T02:38:29+08:00" itemprop="datePublished" title="2023-02-18 02:38">2023-02-18 02:38</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>For Visual Studio 2010 Web based application we have Config Transformation
features by which we can maintain multiple configuration files for different
environments. But the same feature is not available for App.Config files for
Windows Services/WinForms or Console Application.</p>
<p>There is a workaround available as suggested here: Applying XDT magic to
App.Config.</p>
<p>However it is not straightforward and requires a number of steps. Is there an
easier way to achieve the same for app.config files?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>This works now with the Visual Studio AddIn treated in this article:
SlowCheetah - Web.config Transformation Syntax now generalized for any XML
configuration file.</p>
<blockquote>
<p>You can right-click on your web.config and click "Add Config Transforms."
When you do this, you'll get a web.debug.config and a web.release.config.
You can make a web.whatever.config if you like, as long as the name lines up
with a configuration profile. These files are just the changes you want
made, not a complete copy of your web.config.</p>
<p>You might think you'd want to use XSLT to transform a web.config, but while
they feels intuitively right it's actually very verbose.</p>
<p>Here's two transforms, one using XSLT and the same one using the XML
Document Transform syntax/namespace. As with all things there's multiple
ways in XSLT to do this, but you get the general idea. XSLT is a generalized
tree transformation language, while this deployment one is optimized for a
specific subset of common scenarios. But, the cool part is that each XDT
transform is a .NET plugin, so you can make your own.</p>
<div class="code"><pre class="code literal-block"><span class="cp">&lt;?xml version="1.0" ?&gt;</span>
<span class="k">&lt;xsl:stylesheet</span><span class="w"> </span><span class="na">xmlns:xsl=</span><span class="s">"http://www.w3.org/1999/XSL/Transform"</span>
</pre></div>

<p>version="1.0"&gt;
    <template match="@*|node()"><copy><br><apply-templates select="@*|node()"></apply-templates></copy></template><template match="/configuration/appSettings"><copy><apply-templates select="node()|@*"></apply-templates><element name="add"><attribute name="key">NewSetting</attribute><attribute name="value">New Setting Value</attribute></element></copy></template></p>
<p>Or the same thing via the deployment transform:</p>
<div class="code"><pre class="code literal-block">&lt;configuration xmlns:xdt="http://schemas.microsoft.com/XML-Document-
</pre></div>

<p>Transform"&gt;
       <appsettings><add name="NewSetting" value="New Setting Value" xdt:transform="Insert"></add></appsettings></p>
</blockquote>
<p><br></p>
<h3>Suggest</h3>
<p>This works now with the Visual Studio AddIn treated in this article:
SlowCheetah - Web.config Transformation Syntax now generalized for any XML
configuration file.</p>
<blockquote>
<p>You can right-click on your web.config and click "Add Config Transforms."
When you do this, you'll get a web.debug.config and a web.release.config.
You can make a web.whatever.config if you like, as long as the name lines up
with a configuration profile. These files are just the changes you want
made, not a complete copy of your web.config.</p>
<p>You might think you'd want to use XSLT to transform a web.config, but while
they feels intuitively right it's actually very verbose.</p>
<p>Here's two transforms, one using XSLT and the same one using the XML
Document Transform syntax/namespace. As with all things there's multiple
ways in XSLT to do this, but you get the general idea. XSLT is a generalized
tree transformation language, while this deployment one is optimized for a
specific subset of common scenarios. But, the cool part is that each XDT
transform is a .NET plugin, so you can make your own.</p>
<div class="code"><pre class="code literal-block"><span class="cp">&lt;?xml version="1.0" ?&gt;</span>
<span class="k">&lt;xsl:stylesheet</span><span class="w"> </span><span class="na">xmlns:xsl=</span><span class="s">"http://www.w3.org/1999/XSL/Transform"</span>
</pre></div>

<p>version="1.0"&gt;
    <template match="@*|node()"><copy><br><apply-templates select="@*|node()"></apply-templates></copy></template><template match="/configuration/appSettings"><copy><apply-templates select="node()|@*"></apply-templates><element name="add"><attribute name="key">NewSetting</attribute><attribute name="value">New Setting Value</attribute></element></copy></template></p>
<p>Or the same thing via the deployment transform:</p>
<div class="code"><pre class="code literal-block">&lt;configuration xmlns:xdt="http://schemas.microsoft.com/XML-Document-
</pre></div>

<p>Transform"&gt;
       <appsettings><add name="NewSetting" value="New Setting Value" xdt:transform="Insert"></add></appsettings></p>
</blockquote>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/net-40/" rel="tag">.net-4.0</a></li>
            <li><a class="tag p-category" href="../../categories/app-config/" rel="tag">app-config</a></li>
            <li><a class="tag p-category" href="../../categories/slowcheetah/" rel="tag">slowcheetah</a></li>
            <li><a class="tag p-category" href="../../categories/visual-studio/" rel="tag">visual-studio</a></li>
            <li><a class="tag p-category" href="../../categories/web-config-transform/" rel="tag">web-config-transform</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../uitableviewcell-show-delete-button-on-swipe/" rel="prev" title="UITableViewCell, show delete button on swipe">Previous post</a>
            </li>
            <li class="next">
                <a href="../proper-way-to-use-kwargs-in-python/" rel="next" title="Proper way to use **kwargs in Python">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

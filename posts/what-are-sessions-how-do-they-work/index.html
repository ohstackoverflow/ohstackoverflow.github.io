<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>What are sessions? How do they work? | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/what-are-sessions-how-do-they-work/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../how-can-you-sort-an-array-without-mutating-the-original-array/" title="How can you sort an array without mutating the original array?" type="text/html">
<link rel="next" href="../how-do-you-force-visual-studio-to-regenerate-the-designer-files-for-aspx-ascx-files/" title="How do you force Visual Studio to regenerate the .designer files for aspx/ascx files?" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="What are sessions? How do they work?">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/what-are-sessions-how-do-they-work/">
<meta property="og:description" content="I am just beginning to start learning web application development, using
python. I am coming across the terms 'cookies' and 'sessions'. I understand
cookies in that they store some info in a key value">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-03-03T16:00:07+08:00">
<meta property="article:tag" content="language-agnostic">
<meta property="article:tag" content="session">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">What are sessions? How do they work?</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T16:00:07+08:00" itemprop="datePublished" title="2023-03-03 16:00">2023-03-03 16:00</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>I am just beginning to start learning web application development, using
python. I am coming across the terms 'cookies' and 'sessions'. I understand
cookies in that they store some info in a key value pair on the browser. But I
have a little confusion regarding sessions, in a session too we store data in
a cookie on the user's browser.</p>
<p>For example - I login using <code>username='rasmus'</code> and <code>password='default'</code>. In
such a case the data will be posted to the server which is supposed to check
and log me in if authenticated. However during the entire process the server
also generates a session ID which will be stored in a cookie on my browser.
Now the server also stores this session ID in its file system or datastore.</p>
<p>But based on just the session ID, how would it be able to know my username
during my subsequent traversal through the site? Does it store the data on the
server as a dict where the key would be a session ID and details like
<code>username</code>, <code>email</code> etc. be the values?</p>
<p>I am getting quite confused here. Need help.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Because HTTP is stateless, in order to associate a request to any other
request, you need a way to store user data between HTTP requests.</p>
<p>Cookies or URL parameters ( for ex. like
http://example.com/myPage?asd=lol&amp;boo=no ) are both suitable ways to transport
data between 2 or more request. However they are not good in case you don't
want that data to be readable/editable on client side.</p>
<p>The solution is to store that data server side, give it an "id", and let the
client only know (and pass back at every http request) that id. There you go,
sessions implemented. Or you can use the client as a convenient remote
storage, but you would encrypt the data and keep the secret server-side.</p>
<p>Of course there are other aspects to consider, like you don't want people to
hijack other's sessions, you want sessions to not last forever but to expire,
and so on.</p>
<p>In your specific example, the user id (could be username or another unique ID
in your user database) is stored in the session data, server-side, after
successful identification. Then for every HTTP request you get from the
client, the session id (given by the client) will point you to the correct
session data (stored by the server) that contains the authenticated user id -
that way your code will know what user it is talking to.</p>
<p><br></p>
<h3>Suggest</h3>
<h4>Explanation via Pictures:</h4>
<p><img alt="Sessions explained via Picture" src="../../images/mYLGr.png"></p>
<p>You can think of a session kinda like a library ID card. Everytime you go to a
library, then you you show them your ID card which was issued by <em>that
particular library</em>.</p>
<h2>Simple Explanation by analogy</h2>
<p>Imagine you are in a bank, trying to get some money out of your account. But
it's dark; the bank is pitch black: there's no light. You are surrounded by
another 20 people. They all look the same. And everybody has the same voice.
And everyone is a potential bad guy. In other words, HTTP is stateless.</p>
<p>This bank is a funny type of bank - for the sake of argument here's how things
work:</p>
<ol>
<li>you talk to your teller and make a request to withdraw money, and then</li>
<li>you have to wait briefly on the sofa, and 20 minutes later</li>
<li>you collect your money from the teller.</li>
</ol>
<h4>But how will the teller tell you apart from everyone else?</h4>
<p>The teller can't see or readily recognise you, remember, because the lights
are all out.</p>
<p>What if your teller gives your $10,000 withdrawal to someone else - the wrong
person?! It's absolutely vital that the teller can recognise you as the one
who made the withdrawal, so that you can get the money (or resource) that you
asked for.</p>
<p><strong>Solution:</strong></p>
<p>When you first appear to the teller, he or she tells you something in secret:</p>
<blockquote>
<p>"When ever you are talking to me," says the teller, "you should first
identify yourself as GNASHEU329 - that way I know it's you".</p>
</blockquote>
<p>Nobody else knows the secret passcode.</p>
<h4>Example of How I Withdrew Cash:</h4>
<p>So I decide to go to and chill out for 20 minutes and then later I go to the
teller and say "I'd like to collect my withdrawal"</p>
<p>The teller asks me: "who are you??!"</p>
<p>"It's me, Mr. George Banks!"</p>
<p>"Prove it!"</p>
<p>And then I tell them my passcode: GNASHEU329</p>
<p>"Certainly Mr. Banks!"</p>
<p>That basically is how a session works. It allows one to be uniquely identified
in a sea of millions of people. You need to identify yourself every time you
deal with the teller.</p>
<h4>Difference between Sessions and Cookies</h4>
<p><strong>Sessions</strong> : You can think of sessions as the temporary passcode in the
above example. Once the bank (i.e. server) sees the passcode - they will be
able to identify who you are, what you want etc.</p>
<p><strong>Cookie</strong> : You can think of a cookie as simply plastic card upon which
information is printed on. You can store anything on that card, like:</p>
<ul>
<li>name / age / sex / marital status</li>
<li>passcodes</li>
</ul>
<h4>Security Concerns with Cookies</h4>
<p>The bank can write information onto your card - and so can you. But this can
be dangerous:</p>
<div class="code"><pre class="code literal-block"><span class="n">name</span><span class="o">:</span><span class="w"> </span><span class="n">Ben</span><span class="w"> </span><span class="n">Koshy</span>
<span class="n">sex</span><span class="o">:</span><span class="w"> </span><span class="n">male</span>
<span class="n">bank</span><span class="w"> </span><span class="n">balance</span><span class="o">:</span><span class="w"> </span><span class="n">$1</span><span class="o">.</span><span class="mi">99</span><span class="o">.</span>
</pre></div>

<p>If I wanna be sneaky, I could edit my ID card:</p>
<div class="code"><pre class="code literal-block"><span class="n">name</span><span class="o">:</span><span class="w"> </span><span class="n">Ben</span><span class="w"> </span><span class="n">Koshy</span>
<span class="n">sex</span><span class="o">:</span><span class="w"> </span><span class="n">male</span>
<span class="n">bank</span><span class="w"> </span><span class="n">balance</span><span class="o">:</span><span class="w"> </span><span class="n">$1</span><span class="w"> </span><span class="n">billion</span><span class="w"> </span><span class="n">bucks</span><span class="o">.</span><span class="w">  </span><span class="o">&lt;------</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">line</span>
</pre></div>

<p>Hooray! I could print more money than Yellen and Powell combined. This
presents a security risk: it is for this reason that banks "encrypt"
information on cookies, so that if you tampered with it, the bank would know.
As a general rule you should never put anything compromising, that can be
tampered into a cookie - the bank balance should be stored on the server,
where nobody can directly tamper with it.</p>
<p>In this case, Powell decided to tamper with bank balance in his cookie. The
bank can now invalidate his session:</p>
<div class="code"><pre class="code literal-block"><span class="n">name</span><span class="o">:</span><span class="w"> </span><span class="n">Jerome</span><span class="w"> </span><span class="n">Powell</span>
<span class="n">session</span><span class="o">:</span><span class="w"> </span><span class="n">tampering</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">bank</span><span class="w"> </span><span class="n">balance</span><span class="o">,</span><span class="w"> </span><span class="n">session</span><span class="w"> </span><span class="n">invalid</span><span class="o">.</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">him</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="n">immediately</span><span class="o">.</span><span class="w"> </span><span class="n">And</span><span class="w"> </span><span class="n">fire</span><span class="w"> </span><span class="n">him</span><span class="w"> </span><span class="n">too</span><span class="o">.</span>
</pre></div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/language-agnostic/" rel="tag">language-agnostic</a></li>
            <li><a class="tag p-category" href="../../categories/session/" rel="tag">session</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../how-can-you-sort-an-array-without-mutating-the-original-array/" rel="prev" title="How can you sort an array without mutating the original array?">Previous post</a>
            </li>
            <li class="next">
                <a href="../how-do-you-force-visual-studio-to-regenerate-the-designer-files-for-aspx-ascx-files/" rel="next" title="How do you force Visual Studio to regenerate the .designer files for aspx/ascx files?">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>How does collections.defaultdict work? | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/how-does-collections-defaultdict-work/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../pull-request-vs-merge-request/" title="Pull request vs Merge request" type="text/html">
<link rel="next" href="../how-to-add-local-jar-file-dependency-to-build-gradle-file/" title="How to add local .jar file dependency to build.gradle file?" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="How does collections.defaultdict work?">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/how-does-collections-defaultdict-work/">
<meta property="og:description" content="I've read the examples in python docs, but still can't figure out what this
method means. Can somebody help? Here are two examples from the python docs
&gt;&gt;&gt; from collections import defaultdict

&gt;&gt;&gt; s =">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-17T14:00:11+08:00">
<meta property="article:tag" content="default-value">
<meta property="article:tag" content="defaultdict">
<meta property="article:tag" content="dictionary">
<meta property="article:tag" content="python">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">How does collections.defaultdict work?</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T14:00:11+08:00" itemprop="datePublished" title="2023-02-17 14:00">2023-02-17 14:00</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>I've read the examples in python docs, but still can't figure out what this
method means. Can somebody help? Here are two examples from the python docs</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">s</span> <span class="o">=</span> <span class="s1">'mississippi'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
<span class="o">...</span>     <span class="n">d</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="o">...</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
<span class="p">[(</span><span class="s1">'i'</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="s1">'p'</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="s1">'s'</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="s1">'m'</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]</span>
</pre></div>

<p>and</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="n">('yellow', 1), ('blue', 2), ('yellow', 3), ('blue', 4), ('red', 1)</span><span class="o">]</span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">defaultdict</span><span class="p">(</span><span class="n">list</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">k</span><span class="p">,</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nl">s</span><span class="p">:</span>
<span class="p">...</span><span class="w">     </span><span class="n">d</span><span class="o">[</span><span class="n">k</span><span class="o">]</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="p">...</span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">items</span><span class="p">()</span>
<span class="o">[</span><span class="n">('blue', [2, 4</span><span class="o">]</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="s1">'red'</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">1</span><span class="o">]</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="s1">'yellow'</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">1, 3</span><span class="o">]</span><span class="p">)</span><span class="err">]</span>
</pre></div>

<p>the parameters <code>int</code> and <code>list</code> are for what?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Usually, a Python dictionary throws a <code>KeyError</code> if you try to get an item
with a key that is not currently in the dictionary. The <code>defaultdict</code> in
contrast will simply create any items that you try to access (provided of
course they do not exist yet). To create such a "default" item, it calls the
function object that you pass to the constructor (more precisely, it's an
arbitrary "callable" object, which includes function and type objects). For
the first example, default items are created using <code>int()</code>, which will return
the integer object <code>0</code>. For the second example, default items are created
using <code>list()</code>, which returns a new empty list object.</p>
<p><br></p>
<h3>Suggest</h3>
<p><code>defaultdict</code> means that if a key is not found in the dictionary, then instead
of a <code>KeyError</code> being thrown, a new entry is created. The type of this new
entry is given by the argument of defaultdict.</p>
<p>For example:</p>
<div class="code"><pre class="code literal-block">somedict = {}
print(somedict[3]) # KeyError

someddict = defaultdict(int)
print(someddict[3]) # print int(), thus 0
</pre></div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/default-value/" rel="tag">default-value</a></li>
            <li><a class="tag p-category" href="../../categories/defaultdict/" rel="tag">defaultdict</a></li>
            <li><a class="tag p-category" href="../../categories/dictionary/" rel="tag">dictionary</a></li>
            <li><a class="tag p-category" href="../../categories/python/" rel="tag">python</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../pull-request-vs-merge-request/" rel="prev" title="Pull request vs Merge request">Previous post</a>
            </li>
            <li class="next">
                <a href="../how-to-add-local-jar-file-dependency-to-build-gradle-file/" rel="next" title="How to add local .jar file dependency to build.gradle file?">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

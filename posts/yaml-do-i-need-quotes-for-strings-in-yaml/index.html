<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>YAML: Do I need quotes for strings in YAML? | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/yaml-do-i-need-quotes-for-strings-in-yaml/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../c-difference-between-and-equals/" title="C# difference between == and Equals()" type="text/html">
<link rel="next" href="../why-catch-and-rethrow-an-exception-in-c/" title="Why catch and rethrow an exception in C#?" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="YAML: Do I need quotes for strings in YAML?">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/yaml-do-i-need-quotes-for-strings-in-yaml/">
<meta property="og:description" content="I am trying to write a YAML dictionary for internationalisation of a Rails
project. I am a little confused though, as in some files I see strings in
double-quotes and in some without. A few points to ">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-17T18:05:05+08:00">
<meta property="article:tag" content="quotes">
<meta property="article:tag" content="syntax">
<meta property="article:tag" content="yaml">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">YAML: Do I need quotes for strings in YAML?</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T18:05:05+08:00" itemprop="datePublished" title="2023-02-17 18:05">2023-02-17 18:05</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>I am trying to write a YAML dictionary for internationalisation of a Rails
project. I am a little confused though, as in some files I see strings in
double-quotes and in some without. A few points to consider:</p>
<ul>
<li>example 1 - all strings use double quotes;</li>
<li>example 2 - no strings (except the last two) use quotes;</li>
<li>the YAML cookbook says: <em>Enclosing strings in double quotes allows you to use escaping to represent ASCII and Unicode characters.</em> Does this mean I need to use double quotes only when I want to escape some characters? If yes - why do they use double quotes everywhere in the first example - only for the sake of unity / stylistic reasons?</li>
<li>the last two lines of example 2 use <code>!</code> - the non-specific tag, while the last two lines of the first example don't - and they both work.</li>
</ul>
<p>My question is: what are the rules for using the different types of quotes in
YAML?</p>
<p>Could it be said that:</p>
<ul>
<li>in general, you don't need quotes;</li>
<li>if you want to escape characters use double quotes;</li>
<li>use <code>!</code> with single quotes, when... ?!?</li>
</ul>
<p><br><br></p>
<h2>Answer</h2>
<p>After a brief review of the YAML cookbook cited in the question and some
testing, here's my interpretation:</p>
<ul>
<li>In general, you don't need quotes.</li>
<li>Use quotes to force a string, e.g. if your key or value is <code>10</code> but you want it to return a String and not a Fixnum, write <code>'10'</code> or <code>"10"</code>.</li>
<li>Use quotes if your value includes special characters, (e.g. <code>:</code>, <code>{</code>, <code>}</code>, <code>[</code>, <code>]</code>, <code>,</code>, <code>&amp;</code>, <code>*</code>, <code>#</code>, <code>?</code>, <code>|</code>, <code>-</code>, <code>&lt;</code>, <code>&gt;</code>, <code>=</code>, <code>!</code>, <code>%</code>, <code>@</code>, <code>\</code>).</li>
<li>Single quotes let you put almost any character in your string, and won't try to parse escape codes. <code>'\n'</code> would be returned as the string <code>\n</code>.</li>
<li>Double quotes parse escape codes. <code>"\n"</code> would be returned as a line feed character.</li>
<li>The exclamation mark introduces a method, e.g. <code>!ruby/sym</code> to return a Ruby symbol.</li>
</ul>
<p>Seems to me that the best approach would be to not use quotes unless you have
to, and then to use single quotes unless you specifically want to process
escape codes.</p>
<p><strong>Update</strong></p>
<p>"Yes" and "No" should be enclosed in quotes (single or double) or else they
will be interpreted as TrueClass and FalseClass values:</p>
<div class="code"><pre class="code literal-block"><span class="n">en</span><span class="o">:</span>
<span class="w">  </span><span class="n">yesno</span><span class="o">:</span>
<span class="w">    </span><span class="s1">'yes'</span><span class="o">:</span><span class="w"> </span><span class="s1">'Yes'</span>
<span class="w">    </span><span class="s1">'no'</span><span class="o">:</span><span class="w"> </span><span class="s1">'No'</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>While Mark's answer nicely summarizes when the quotes are <strong>needed</strong> according
to the YAML language rules, I think what many of the developers/administrators
are asking themselves, when working with strings in YAML, is "what <strong>should</strong>
be <strong>my</strong> rule of thumb for handling the strings?"</p>
<p>It may sound subjective, but the number of rules you have to remember, if you
want to use the quotes <strong>only</strong> when they are really <strong>needed as per the
language spec</strong> , is somewhat excessive for such a simple thing as specifying
one of the most common datatypes. Don't get me wrong, you will eventually
remember them when working with YAML regularly, but what if you use it
occasionally, and you didn't develop automatism for writing YAML? Do you
really want to spend time remembering all the rules just to specify the string
correctly?</p>
<p>The whole point of the "rule of thumb" is to save the cognitive resource and
to handle a common task without thinking about it. Our "CPU" time can arguably
be used for something more useful than handling the strings correctly.</p>
<p>From this - pure practical - perspective, I think the best rule of thumb is to
single quote the strings. The rationale behind it:</p>
<ul>
<li>Single quoted strings work for all scenarios, except when you need to use escape sequences.</li>
<li>The only special character you have to handle within a single-quoted string is the single quote itself.</li>
</ul>
<p>These are just 2 rules to remember for some occasional YAML user, minimizing
the cognitive effort.</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/quotes/" rel="tag">quotes</a></li>
            <li><a class="tag p-category" href="../../categories/syntax/" rel="tag">syntax</a></li>
            <li><a class="tag p-category" href="../../categories/yaml/" rel="tag">yaml</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../c-difference-between-and-equals/" rel="prev" title="C# difference between == and Equals()">Previous post</a>
            </li>
            <li class="next">
                <a href="../why-catch-and-rethrow-an-exception-in-c/" rel="next" title="Why catch and rethrow an exception in C#?">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

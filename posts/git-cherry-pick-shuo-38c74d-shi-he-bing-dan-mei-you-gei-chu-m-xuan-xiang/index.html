<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>git cherry-pick 说“...38c74d 是合并但没有给出 -m 选项” | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/git-cherry-pick-shuo-38c74d-shi-he-bing-dan-mei-you-gei-chu-m-xuan-xiang/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../shi-shi-yu-kuo-zhan-he-shi-shi-yong-you-shi-yao-bu-tong/" title="实施与扩展：何时使用？有什么不同？" type="text/html">
<link rel="next" href="../ru-he-shi-xian-ji-ben-de-chang-lun-xun/" title="如何实现基本的“长轮询”？" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="git cherry-pick 说“...38c74d 是合并但没有给出 -m 选项”">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/git-cherry-pick-shuo-38c74d-shi-he-bing-dan-mei-you-gei-chu-m-xuan-xiang/">
<meta property="og:description" content="我在我的 master 分支中做了一些更改，并想将它们带到上游。当我挑选以下提交时。但是，我卡在 fd9f578 上，git 说：
$ git cherry-pick fd9f578
fatal: Commit fd9f57850f6b94b7906e5bbe51a0d75bf638c74d is a merge but no -m option was given.


git 试图告诉我什么，">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-17T13:11:19+08:00">
<meta property="article:tag" content="cherry-pick">
<meta property="article:tag" content="git">
<meta property="article:tag" content="git-cherry-pick">
<meta property="article:tag" content="merge">
<meta property="article:tag" content="rebase">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">git cherry-pick 说“...38c74d 是合并但没有给出 -m 选项”</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T13:11:19+08:00" itemprop="datePublished" title="2023-02-17 13:11">2023-02-17 13:11</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>我在我的 master 分支中做了一些更改，并想将它们带到上游。当我挑选以下提交时。但是，我卡在 fd9f578 上，git 说：</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>git<span class="w"> </span>cherry-pick<span class="w"> </span>fd9f578
fatal:<span class="w"> </span>Commit<span class="w"> </span>fd9f57850f6b94b7906e5bbe51a0d75bf638c74d<span class="w"> </span>is<span class="w"> </span>a<span class="w"> </span>merge<span class="w"> </span>but<span class="w"> </span>no<span class="w"> </span>-m<span class="w"> </span>option<span class="w"> </span>was<span class="w"> </span>given.
</pre></div>

<p>git 试图告诉我什么，cherry-pick 是否适合在这里使用？master
分支确实包含对上游分支中已修改的文件的更改，因此我确定会有一些合并冲突，但这些冲突并不太糟糕，无法理顺。我知道哪里需要进行哪些更改。</p>
<p>这些是我想带到上游的提交。</p>
<div class="code"><pre class="code literal-block">e7d4cff added some comments...
23e6d2a moved static strings...
44cc65a incorporated test ...
40b83d5 whoops delete whitspace...
24f8a50 implemented global.c...
43651c3 cleaned up ...
068b2fe cleaned up version.c ...
fd9f578 Merge branch 'master' of ssh://extgit/git/sessions_common
4172caa cleaned up comments in sessions.c ...
</pre></div>

<p><br><br></p>
<h2>解答</h2>
<p>cherry-pick 的工作方式是获取变更集所代表的差异（此时的工作树与其父级的工作树之间的差异），并将其应用于当前分支。</p>
<p>因此，如果一个提交有两个或多个父项，它也代表两个或多个差异——应该应用哪一个？</p>
<p>您正在尝试 cherry pick <code>fd9f578</code>，这是与两个父母的合并。因此，您需要使用选项告诉 cherry-pick 命令应该针对哪个 diff
进行计算<code>-m</code>。例如，<code>git cherry-pick -m 1 fd9f578</code>使用父 1 作为基础。</p>
<p>对于您的特定情况，我不能肯定地说，但通常建议使用<code>git merge</code>而不是<code>git cherry-
pick</code>。当您挑选合并提交时，它会将您未指定的父项中所做的 <strong>所有</strong> 更改折叠<code>-m</code>到该 <strong>提交</strong>
中。你失去了他们所有的历史，并把他们所有的差异放在一起。你的来电。</p>
<p><br></p>
<h3>更多建议</h3>
<p><code>-m</code>指父母号码。</p>
<p>来自 git 文档：</p>
<blockquote>
<p>通常你不能挑选合并，因为你不知道合并的哪一边应该被认为是主线。此选项指定主线的父编号（从 1 开始），并允许 cherry-pick
重播相对于指定父级的更改。</p>
</blockquote>
<p>例如，如果您的提交树如下所示：</p>
<div class="code"><pre class="code literal-block">- A - D - E - F -   master
   \     /
    B - C           branch one
</pre></div>

<p>然后<code>git cherry-pick E</code>会产生你面临的问题。</p>
<p><code>git cherry-pick E -m 1</code>表示使用<code>D-E</code>，而<code>git cherry-pick E -m 2</code>表示使用<code>B-C-E</code>。</p>
<p><br><br><a href="../git-cherry-pick-says-38c74d-is-a-merge-but-no-m-option-was-given/">查看原文</a></p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/cherry-pick/" rel="tag">cherry-pick</a></li>
            <li><a class="tag p-category" href="../../categories/git/" rel="tag">git</a></li>
            <li><a class="tag p-category" href="../../categories/git-cherry-pick/" rel="tag">git-cherry-pick</a></li>
            <li><a class="tag p-category" href="../../categories/merge/" rel="tag">merge</a></li>
            <li><a class="tag p-category" href="../../categories/rebase/" rel="tag">rebase</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../shi-shi-yu-kuo-zhan-he-shi-shi-yong-you-shi-yao-bu-tong/" rel="prev" title="实施与扩展：何时使用？有什么不同？">Previous post</a>
            </li>
            <li class="next">
                <a href="../ru-he-shi-xian-ji-ben-de-chang-lun-xun/" rel="next" title="如何实现基本的“长轮询”？">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>How do you pass a function as a parameter in C? | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/how-do-you-pass-a-function-as-a-parameter-in-c/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../how-to-convert-decimal-to-double-in-c/" title="How to convert Decimal to Double in C#?" type="text/html">
<link rel="next" href="../why-is-my-program-slow-when-looping-over-exactly-8192-elements/" title="Why is my program slow when looping over exactly 8192 elements?" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="How do you pass a function as a parameter in C?">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/how-do-you-pass-a-function-as-a-parameter-in-c/">
<meta property="og:description" content="I want to create a function that performs a function passed by parameter on a
set of data. How do you pass a function as a parameter in C?

Answer
Declaration
A prototype for a function which takes a ">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-17T13:32:46+08:00">
<meta property="article:tag" content="c">
<meta property="article:tag" content="function">
<meta property="article:tag" content="parameters">
<meta property="article:tag" content="pointers">
<meta property="article:tag" content="syntax">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">How do you pass a function as a parameter in C?</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T13:32:46+08:00" itemprop="datePublished" title="2023-02-17 13:32">2023-02-17 13:32</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>I want to create a function that performs a function passed by parameter on a
set of data. How do you pass a function as a parameter in C?</p>
<p><br><br></p>
<h2>Answer</h2>
<p><strong>Declaration</strong></p>
<p>A prototype for a function which takes a function parameter looks like the
following:</p>
<div class="code"><pre class="code literal-block"><span class="nb nb-Type">void</span><span class="w"> </span><span class="k">func</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="nb nb-Type">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">f</span><span class="p">)(</span><span class="nb nb-Type">int</span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
</pre></div>

<p>This states that the parameter <code>f</code> will be a pointer to a function which has a
<code>void</code> return type and which takes a single <code>int</code> parameter. The following
function (<code>print</code>) is an example of a function which could be passed to <code>func</code>
as a parameter because it is the proper type:</p>
<div class="code"><pre class="code literal-block">void print ( int x ) {
  printf("%d\n", x);
}
</pre></div>

<p><strong>Function Call</strong></p>
<p>When calling a function with a function parameter, the value passed must be a
pointer to a function. Use the function's name (without parentheses) for this:</p>
<div class="code"><pre class="code literal-block">func(print);
</pre></div>

<p>would call <code>func</code>, passing the print function to it.</p>
<p><strong>Function Body</strong></p>
<p>As with any parameter, <code>func</code> can now use the parameter's name in the function
body to access the value of the parameter. Let's say that <code>func</code> will apply
the function it is passed to the numbers 0-4. Consider, first, what the loop
would look like to call print directly:</p>
<div class="code"><pre class="code literal-block"><span class="k">for</span><span class="w"> </span><span class="ss">(</span><span class="w"> </span><span class="nv">int</span><span class="w"> </span><span class="nv">ctr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="c1">; ctr &lt; 5 ; ctr++ ) {</span>
<span class="w">  </span><span class="nv">print</span><span class="ss">(</span><span class="nv">ctr</span><span class="ss">)</span><span class="c1">;</span>
}
</pre></div>

<p>Since <code>func</code>'s parameter declaration says that <code>f</code> is the name for a pointer
to the desired function, we recall first that if <code>f</code> is a pointer then <code>*f</code> is
the thing that <code>f</code> points to (i.e. the function <code>print</code> in this case). As a
result, just replace every occurrence of print in the loop above with <code>*f</code>:</p>
<div class="code"><pre class="code literal-block"><span class="nb nb-Type">void</span><span class="w"> </span><span class="k">func</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="nb nb-Type">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">f</span><span class="p">)(</span><span class="nb nb-Type">int</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="nb nb-Type">int</span><span class="w"> </span><span class="n">ctr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="n">ctr</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="n">ctr</span><span class="o">++</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">(</span><span class="o">*</span><span class="n">f</span><span class="p">)(</span><span class="n">ctr</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>Source</p>
<p><br></p>
<h3>Suggest</h3>
<p>This question already has the answer for defining function pointers, however
they can get very messy, especially if you are going to be passing them around
your application. To avoid this unpleasantness I would recommend that you
typedef the function pointer into something more readable. For example.</p>
<div class="code"><pre class="code literal-block">typedef void (*functiontype)();
</pre></div>

<p>Declares a function that returns void and takes no arguments. To create a
function pointer to this type you can now do:</p>
<div class="code"><pre class="code literal-block"><span class="nb nb-Type">void</span><span class="w"> </span><span class="n">dosomething</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>

<span class="n">functiontype</span><span class="w"> </span><span class="k">func</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">dosomething</span><span class="p">;</span>
<span class="k">func</span><span class="p">();</span>
</pre></div>

<p>For a function that returns an int and takes a char you would do</p>
<div class="code"><pre class="code literal-block">typedef int (*functiontype2)(char);
</pre></div>

<p>and to use it</p>
<div class="code"><pre class="code literal-block"><span class="nv">int</span><span class="w"> </span><span class="nv">dosomethingwithchar</span><span class="ss">(</span><span class="nv">char</span><span class="w"> </span><span class="nv">a</span><span class="ss">)</span><span class="w"> </span>{<span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="c1">; }</span>

<span class="nv">functiontype2</span><span class="w"> </span><span class="nv">func2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="nv">dosomethingwithchar</span>
<span class="nv">int</span><span class="w"> </span><span class="nb">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">func2</span><span class="ss">(</span><span class="s1">'a'</span><span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p>There are libraries that can help with turning function pointers into nice
readable types. The boost function library is great and is well worth the
effort!</p>
<div class="code"><pre class="code literal-block"><span class="nt">boost</span><span class="p">::</span><span class="nd">function</span><span class="o">&lt;</span><span class="nt">int</span><span class="w"> </span><span class="o">(</span><span class="nt">char</span><span class="w"> </span><span class="nt">a</span><span class="o">)&gt;</span><span class="w"> </span><span class="nt">functiontype2</span><span class="o">;</span>
</pre></div>

<p>is so much nicer than the above.</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/c/" rel="tag">c</a></li>
            <li><a class="tag p-category" href="../../categories/function/" rel="tag">function</a></li>
            <li><a class="tag p-category" href="../../categories/parameters/" rel="tag">parameters</a></li>
            <li><a class="tag p-category" href="../../categories/pointers/" rel="tag">pointers</a></li>
            <li><a class="tag p-category" href="../../categories/syntax/" rel="tag">syntax</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../how-to-convert-decimal-to-double-in-c/" rel="prev" title="How to convert Decimal to Double in C#?">Previous post</a>
            </li>
            <li class="next">
                <a href="../why-is-my-program-slow-when-looping-over-exactly-8192-elements/" rel="next" title="Why is my program slow when looping over exactly 8192 elements?">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

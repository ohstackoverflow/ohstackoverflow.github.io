<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>What are differences between AssemblyVersion, AssemblyFileVersion and AssemblyInformationalVersion? | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/what-are-differences-between-assemblyversion-assemblyfileversion-and-assemblyinformationalversion/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../how-to-change-node-js-s-console-font-color/" title="How to change node.js's console font color?" type="text/html">
<link rel="next" href="../when-to-use-first-and-when-to-use-firstordefault-with-linq/" title="When to use .First and when to use .FirstOrDefault with LINQ?" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="What are differences between AssemblyVersion, AssemblyFileVersion and ">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/what-are-differences-between-assemblyversion-assemblyfileversion-and-assemblyinformationalversion/">
<meta property="og:description" content="There are three assembly version attributes. What are differences? Is it ok if
I use AssemblyVersion and ignore the rest?

MSDN says:

AssemblyVersion:


Specifies the version of the assembly being at">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-17T09:22:46+08:00">
<meta property="article:tag" content=".net">
<meta property="article:tag" content="assemblies">
<meta property="article:tag" content="attributes">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">What are differences between AssemblyVersion, AssemblyFileVersion and AssemblyInformationalVersion?</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T09:22:46+08:00" itemprop="datePublished" title="2023-02-17 09:22">2023-02-17 09:22</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>There are three assembly version attributes. What are differences? Is it ok if
I use <code>AssemblyVersion</code> and ignore the rest?</p>
<hr>
<p>MSDN says:</p>
<ul>
<li>AssemblyVersion:</li>
</ul>
<blockquote>
<p>Specifies the version of the assembly being attributed.</p>
</blockquote>
<ul>
<li>AssemblyFileVersion:</li>
</ul>
<blockquote>
<p>Instructs a compiler to use a specific version number for the Win32 file
version resource. The Win32 file version is not required to be the same as
the assembly's version number.</p>
</blockquote>
<ul>
<li>AssemblyInformationalVersion:</li>
</ul>
<blockquote>
<p>Defines additional version information for an assembly manifest.</p>
</blockquote>
<hr>
<p><em>This is a follow-up to What are the best practices for using Assembly
Attributes?</em></p>
<p><br><br></p>
<h2>Answer</h2>
<p><strong>AssemblyVersion</strong></p>
<p>Where other assemblies that reference your assembly will look. If this number
changes, other assemblies must update their references to your assembly! Only
update this version if it breaks backward compatibility. The <code>AssemblyVersion</code>
is required.</p>
<p>I use the format: <em>major.minor</em> (and <em>major</em> for very stable codebases). This
would result in:</p>
<div class="code"><pre class="code literal-block">[assembly: AssemblyVersion("1.3")]
</pre></div>

<p>If you're following SemVer strictly then this means you only update when the
<em>major</em> changes, so 1.0, 2.0, 3.0, etc.</p>
<p><strong>AssemblyFileVersion</strong></p>
<p>Used for deployment (like setup programs). You can increase this number for
every deployment. Use it to mark assemblies that have the same
<code>AssemblyVersion</code> but are generated from different builds and/or code.</p>
<p>In Windows, it can be viewed in the file properties.</p>
<p>The AssemblyFileVersion is optional. If not given, the AssemblyVersion is
used.</p>
<p>I use the format: <em>major.minor.patch.build</em> , where I follow SemVer for the
first three parts and use the buildnumber of the buildserver for the last part
(0 for local build). This would result in:</p>
<div class="code"><pre class="code literal-block">[assembly: AssemblyFileVersion("1.3.2.42")]
</pre></div>

<p>Be aware that System.Version names these parts as
<code>major.minor.build.revision</code>!</p>
<p><strong>AssemblyInformationalVersion</strong></p>
<p>The Product version of the assembly. This is the version you would use when
talking to customers or for display on your website. This version can be a
string, like ' <em>1.0 Release Candidate</em> '.</p>
<p>The <code>AssemblyInformationalVersion</code> is optional. If not given, the
AssemblyFileVersion is used.</p>
<p>I use the format: <em>major.minor[.patch] [revision as string]</em>. This would
result in:</p>
<div class="code"><pre class="code literal-block">[assembly: AssemblyInformationalVersion("1.3 RC1")]
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Versioning of assemblies in .NET can be a confusing prospect given that there
are currently at least three ways to specify a version for your assembly.</p>
<p>Here are the three main version-related assembly attributes:</p>
<div class="code"><pre class="code literal-block"><span class="c1">// Assembly mscorlib, Version 2.0.0.0</span>
<span class="p">[</span><span class="n">assembly</span><span class="p">:</span><span class="w"> </span><span class="n">AssemblyFileVersion</span><span class="p">(</span><span class="s">"2.0.50727.3521"</span><span class="p">)]</span>
<span class="p">[</span><span class="n">assembly</span><span class="p">:</span><span class="w"> </span><span class="n">AssemblyInformationalVersion</span><span class="p">(</span><span class="s">"2.0.50727.3521"</span><span class="p">)]</span>
<span class="p">[</span><span class="n">assembly</span><span class="p">:</span><span class="w"> </span><span class="n">AssemblyVersion</span><span class="p">(</span><span class="s">"2.0.0.0"</span><span class="p">)]</span>
</pre></div>

<p>By convention, the four parts of the version are referred to as the <strong>Major
Version</strong> , <strong>Minor Version</strong> , <strong>Build</strong> , and <strong>Revision</strong>.</p>
<h2>The <code>AssemblyFileVersion</code> is intended to uniquely identify a build of the</h2>
<p><em>individual assembly</em></p>
<p>Typically you’ll manually set the Major and Minor AssemblyFileVersion to
reflect the version of the assembly, then increment the Build and/or Revision
every time your build system compiles the assembly. The AssemblyFileVersion
should allow you to uniquely identify a build of the assembly, so that you can
use it as a starting point for debugging any problems.</p>
<p>On my current project we have the build server encode the changelist number
from our source control repository into the Build and Revision parts of the
AssemblyFileVersion. This allows us to map directly from an assembly to its
source code, for any assembly generated by the build server (without having to
use labels or branches in source control, or manually keeping any records of
released versions).</p>
<p>This version number is stored in the Win32 version resource and can be seen
when viewing the Windows Explorer property pages for the assembly.</p>
<p><strong>The CLR does not care about nor examine the AssemblyFileVersion.</strong></p>
<h2>The <code>AssemblyInformationalVersion</code> is intended to represent the version of</h2>
<p>your entire product</p>
<p>The AssemblyInformationalVersion is intended to allow coherent versioning of
the entire product, which may consist of many assemblies that are
independently versioned, perhaps with differing versioning policies, and
potentially developed by disparate teams.</p>
<blockquote>
<p>“For example, version 2.0 of a product might contain several assemblies; one
of these assemblies is marked as version 1.0 since it’s a new assembly that
didn’t ship in version 1.0 of the same product. Typically, you set the major
and minor parts of this version number to represent the public version of
your product. Then you increment the build and revision parts each time you
package a complete product with all its assemblies.” — Jeffrey Richter, [CLR
via C# (Second Edition)] p. 57</p>
</blockquote>
<p><strong>The CLR does not care about nor examine the AssemblyInformationalVersion.</strong></p>
<h2>The <code>AssemblyVersion</code> is the only version the CLR cares about (but it cares</h2>
<p>about the entire <code>AssemblyVersion</code>)</p>
<p>The AssemblyVersion is used by the CLR to bind to strongly named assemblies.
It is stored in the AssemblyDef manifest metadata table of the built assembly,
and in the AssemblyRef table of any assembly that references it.</p>
<p>This is very important, because it means that when you reference a strongly
named assembly, you are tightly bound to a specific AssemblyVersion of that
assembly. The entire AssemblyVersion must be an exact match for the binding to
succeed. For example, if you reference version 1.0.0.0 of a strongly named
assembly at build-time, but only version 1.0.0.1 of that assembly is available
at runtime, binding will fail! (You will then have to work around this using
Assembly Binding Redirection.)</p>
<h2>Confusion over whether the entire <code>AssemblyVersion</code> has to match. (Yes, it</h2>
<p>does.)</p>
<p>There is a little confusion around whether the entire AssemblyVersion has to
be an exact match in order for an assembly to be loaded. Some people are under
the false belief that only the Major and Minor parts of the AssemblyVersion
have to match in order for binding to succeed. This is a sensible assumption,
however it is ultimately incorrect (as of .NET 3.5), and it’s trivial to
verify this for your version of the CLR. Just execute this sample code.</p>
<p>On my machine the second assembly load fails, and the last two lines of the
fusion log make it perfectly clear why:</p>
<div class="code"><pre class="code literal-block"><span class="o">.</span><span class="n">NET</span><span class="w"> </span><span class="n">Framework</span><span class="w"> </span><span class="n">Version</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0</span><span class="o">.</span><span class="mf">50727.3521</span>
<span class="o">---</span>
<span class="n">Attempting</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="nb">load</span><span class="w"> </span><span class="n">assembly</span><span class="p">:</span><span class="w"> </span><span class="n">Rhino</span><span class="o">.</span><span class="n">Mocks</span><span class="p">,</span><span class="w"> </span><span class="n">Version</span><span class="o">=</span><span class="mf">3.5</span><span class="o">.</span><span class="mf">0.1337</span><span class="p">,</span><span class="w"> </span><span class="n">Culture</span><span class="o">=</span><span class="n">neutral</span><span class="p">,</span><span class="w"> </span><span class="n">PublicKeyToken</span><span class="o">=</span><span class="mi">0</span><span class="n">b3305902db7183f</span>
<span class="n">Successfully</span><span class="w"> </span><span class="n">loaded</span><span class="w"> </span><span class="n">assembly</span><span class="p">:</span><span class="w"> </span><span class="n">Rhino</span><span class="o">.</span><span class="n">Mocks</span><span class="p">,</span><span class="w"> </span><span class="n">Version</span><span class="o">=</span><span class="mf">3.5</span><span class="o">.</span><span class="mf">0.1337</span><span class="p">,</span><span class="w"> </span><span class="n">Culture</span><span class="o">=</span><span class="n">neutral</span><span class="p">,</span><span class="w"> </span><span class="n">PublicKeyToken</span><span class="o">=</span><span class="mi">0</span><span class="n">b3305902db7183f</span>
<span class="o">---</span>
<span class="n">Attempting</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="nb">load</span><span class="w"> </span><span class="n">assembly</span><span class="p">:</span><span class="w"> </span><span class="n">Rhino</span><span class="o">.</span><span class="n">Mocks</span><span class="p">,</span><span class="w"> </span><span class="n">Version</span><span class="o">=</span><span class="mf">3.5</span><span class="o">.</span><span class="mf">0.1336</span><span class="p">,</span><span class="w"> </span><span class="n">Culture</span><span class="o">=</span><span class="n">neutral</span><span class="p">,</span><span class="w"> </span><span class="n">PublicKeyToken</span><span class="o">=</span><span class="mi">0</span><span class="n">b3305902db7183f</span>
<span class="n">Assembly</span><span class="w"> </span><span class="n">binding</span><span class="w"> </span><span class="k">for</span><span class="w">  </span><span class="n">failed</span><span class="p">:</span>
<span class="n">System</span><span class="o">.</span><span class="n">IO</span><span class="o">.</span><span class="n">FileLoadException</span><span class="p">:</span><span class="w"> </span><span class="n">Could</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nb">load</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">assembly</span><span class="w"> </span><span class="s1">'Rhino.Mocks, Version=3.5.0.1336, Culture=neutral, </span>
<span class="n">PublicKeyToken</span><span class="o">=</span><span class="mi">0</span><span class="n">b3305902db7183f</span><span class="s1">' or one of its dependencies. The located assembly'</span><span class="n">s</span><span class="w"> </span><span class="n">manifest</span><span class="w"> </span><span class="n">definition</span><span class="w"> </span>
<span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="k">match</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">assembly</span><span class="w"> </span><span class="n">reference</span><span class="o">.</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">HRESULT</span><span class="p">:</span><span class="w"> </span><span class="mh">0x80131040</span><span class="p">)</span>
<span class="n">File</span><span class="w"> </span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s1">'Rhino.Mocks, Version=3.5.0.1336, Culture=neutral, PublicKeyToken=0b3305902db7183f'</span>

<span class="o">===</span><span class="w"> </span><span class="n">Pre</span><span class="o">-</span><span class="n">bind</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="o">===</span>
<span class="n">LOG</span><span class="p">:</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Phoenix</span>\<span class="n">Dani</span>
<span class="n">LOG</span><span class="p">:</span><span class="w"> </span><span class="n">DisplayName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Rhino</span><span class="o">.</span><span class="n">Mocks</span><span class="p">,</span><span class="w"> </span><span class="n">Version</span><span class="o">=</span><span class="mf">3.5</span><span class="o">.</span><span class="mf">0.1336</span><span class="p">,</span><span class="w"> </span><span class="n">Culture</span><span class="o">=</span><span class="n">neutral</span><span class="p">,</span><span class="w"> </span><span class="n">PublicKeyToken</span><span class="o">=</span><span class="mi">0</span><span class="n">b3305902db7183f</span>
<span class="w"> </span><span class="p">(</span><span class="n">Fully</span><span class="o">-</span><span class="n">specified</span><span class="p">)</span>
<span class="n">LOG</span><span class="p">:</span><span class="w"> </span><span class="n">Appbase</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="o">...</span><span class="p">]</span>
<span class="n">LOG</span><span class="p">:</span><span class="w"> </span><span class="n">Initial</span><span class="w"> </span><span class="n">PrivatePath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NULL</span>
<span class="n">Calling</span><span class="w"> </span><span class="n">assembly</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">AssemblyBinding</span><span class="p">,</span><span class="w"> </span><span class="n">Version</span><span class="o">=</span><span class="mf">1.0</span><span class="o">.</span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="n">Culture</span><span class="o">=</span><span class="n">neutral</span><span class="p">,</span><span class="w"> </span><span class="n">PublicKeyToken</span><span class="o">=</span><span class="nb nb-Type">null</span><span class="o">.</span>
<span class="o">===</span>
<span class="n">LOG</span><span class="p">:</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="n">bind</span><span class="w"> </span><span class="n">starts</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="nb">load</span><span class="w"> </span><span class="n">context</span><span class="o">.</span>
<span class="n">LOG</span><span class="p">:</span><span class="w"> </span><span class="n">No</span><span class="w"> </span><span class="n">application</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">found</span><span class="o">.</span>
<span class="n">LOG</span><span class="p">:</span><span class="w"> </span><span class="n">Using</span><span class="w"> </span><span class="n">machine</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">C</span><span class="p">:</span>\<span class="n">Windows</span>\<span class="n">Microsoft</span><span class="o">.</span><span class="n">NET</span>\<span class="n">Framework64</span>\<span class="n">v2</span><span class="o">.</span><span class="mf">0.50727</span>\<span class="n">config</span>\<span class="n">machine</span><span class="o">.</span><span class="n">config</span><span class="o">.</span>
<span class="n">LOG</span><span class="p">:</span><span class="w"> </span><span class="n">Post</span><span class="o">-</span><span class="n">policy</span><span class="w"> </span><span class="n">reference</span><span class="p">:</span><span class="w"> </span><span class="n">Rhino</span><span class="o">.</span><span class="n">Mocks</span><span class="p">,</span><span class="w"> </span><span class="n">Version</span><span class="o">=</span><span class="mf">3.5</span><span class="o">.</span><span class="mf">0.1336</span><span class="p">,</span><span class="w"> </span><span class="n">Culture</span><span class="o">=</span><span class="n">neutral</span><span class="p">,</span><span class="w"> </span><span class="n">PublicKeyToken</span><span class="o">=</span><span class="mi">0</span><span class="n">b3305902db7183f</span>
<span class="n">LOG</span><span class="p">:</span><span class="w"> </span><span class="n">Attempting</span><span class="w"> </span><span class="n">download</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">URL</span><span class="w"> </span><span class="p">[</span><span class="o">...</span><span class="p">]</span><span class="o">.</span>
<span class="n">WRN</span><span class="p">:</span><span class="w"> </span><span class="n">Comparing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">assembly</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">resulted</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mismatch</span><span class="p">:</span><span class="w"> </span><span class="n">Revision</span><span class="w"> </span><span class="n">Number</span>
<span class="n">ERR</span><span class="p">:</span><span class="w"> </span><span class="n">Failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">complete</span><span class="w"> </span><span class="n">setup</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">assembly</span><span class="w"> </span><span class="p">(</span><span class="n">hr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x80131040</span><span class="p">)</span><span class="o">.</span><span class="w"> </span><span class="n">Probing</span><span class="w"> </span><span class="n">terminated</span><span class="o">.</span>
</pre></div>

<p>I think the source of this confusion is probably because Microsoft originally
intended to be a little more lenient on this strict matching of the full
AssemblyVersion, by matching only on the Major and Minor version parts:</p>
<blockquote>
<p>“When loading an assembly, the CLR will automatically find the latest
installed servicing version that matches the major/minor version of the
assembly being requested.” — Jeffrey Richter, [CLR via C# (Second Edition)]
p. 56</p>
</blockquote>
<p>This was the behaviour in Beta 1 of the 1.0 CLR, however this feature was
removed before the 1.0 release, and hasn’t managed to re-surface in .NET 2.0:</p>
<blockquote>
<p>“Note: I have just described how you should think of version numbers.
Unfortunately, the CLR doesn’t treat version numbers this way. [In .NET
2.0], the CLR treats a version number as an opaque value, and if an assembly
depends on version 1.2.3.4 of another assembly, the CLR tries to load
version 1.2.3.4 only (unless a binding redirection is in place). However,
<strong>Microsoft has plans to change the CLR’s loader in a future version so that
it loads the latest build/revision for a given major/minor version of an
assembly</strong>. For example, on a future version of the CLR, if the loader is
trying to find version 1.2.3.4 of an assembly and version 1.2.5.0 exists,
the loader with automatically pick up the latest servicing version. This
will be a very welcome change to the CLR’s loader — I for one can’t wait.” —
Jeffrey Richter, [CLR via C# (Second Edition)] p. 164 (Emphasis mine)</p>
</blockquote>
<p>As this change still hasn’t been implemented, I think it’s safe to assume that
Microsoft had back-tracked on this intent, and it is perhaps too late to
change this now. I tried to search around the web to find out what happened
with these plans, but I couldn’t find any answers. I still wanted to get to
the bottom of it.</p>
<p>So I emailed Jeff Richter and asked him directly — I figured if anyone knew
what happened, it would be him.</p>
<p>He replied within 12 hours, on a Saturday morning no less, and clarified that
the .NET 1.0 Beta 1 loader did implement this ‘automatic roll-forward’
mechanism of picking up the latest available Build and Revision of an
assembly, but this behaviour was reverted before .NET 1.0 shipped. It was
later intended to revive this but it didn’t make it in before the CLR 2.0
shipped. Then came Silverlight, which took priority for the CLR team, so this
functionality got delayed further. In the meantime, most of the people who
were around in the days of CLR 1.0 Beta 1 have since moved on, so it’s
unlikely that this will see the light of day, despite all the hard work that
had already been put into it.</p>
<p>The current behaviour, it seems, is here to stay.</p>
<p>It is also worth noting from my discussion with Jeff that AssemblyFileVersion
was only added after the removal of the ‘automatic roll-forward’ mechanism —
because after 1.0 Beta 1, any change to the AssemblyVersion was a breaking
change for your customers, there was then nowhere to safely store your build
number. AssemblyFileVersion is that safe haven, since it’s never automatically
examined by the CLR. Maybe it’s clearer that way, having two separate version
numbers, with separate meanings, rather than trying to make that separation
between the Major/Minor (breaking) and the Build/Revision (non-breaking) parts
of the AssemblyVersion.</p>
<h2>The bottom line: Think carefully about when you change your</h2>
<p><code>AssemblyVersion</code></p>
<p>The moral is that if you’re shipping assemblies that other developers are
going to be referencing, you need to be extremely careful about when you do
(and don’t) change the AssemblyVersion of those assemblies. Any changes to the
AssemblyVersion will mean that application developers will either have to re-
compile against the new version (to update those AssemblyRef entries) or use
assembly binding redirects to manually override the binding.</p>
<ul>
<li>
<strong>Do not</strong> change the AssemblyVersion for a servicing release which is intended to be backwards compatible.</li>
<li>
<strong>Do</strong> change the AssemblyVersion for a release that you know has breaking changes.</li>
</ul>
<p>Just take another look at the version attributes on mscorlib:</p>
<div class="code"><pre class="code literal-block"><span class="c1">// Assembly mscorlib, Version 2.0.0.0</span>
<span class="p">[</span><span class="n">assembly</span><span class="p">:</span><span class="w"> </span><span class="n">AssemblyFileVersion</span><span class="p">(</span><span class="s">"2.0.50727.3521"</span><span class="p">)]</span>
<span class="p">[</span><span class="n">assembly</span><span class="p">:</span><span class="w"> </span><span class="n">AssemblyInformationalVersion</span><span class="p">(</span><span class="s">"2.0.50727.3521"</span><span class="p">)]</span>
<span class="p">[</span><span class="n">assembly</span><span class="p">:</span><span class="w"> </span><span class="n">AssemblyVersion</span><span class="p">(</span><span class="s">"2.0.0.0"</span><span class="p">)]</span>
</pre></div>

<p>Note that it’s the AssemblyFileVersion that contains all the interesting
servicing information (it’s the Revision part of this version that tells you
what Service Pack you’re on), meanwhile the AssemblyVersion is fixed at a
boring old 2.0.0.0. Any change to the AssemblyVersion would force every .NET
application referencing mscorlib.dll to re-compile against the new version!</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/net/" rel="tag">.net</a></li>
            <li><a class="tag p-category" href="../../categories/assemblies/" rel="tag">assemblies</a></li>
            <li><a class="tag p-category" href="../../categories/attributes/" rel="tag">attributes</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../how-to-change-node-js-s-console-font-color/" rel="prev" title="How to change node.js's console font color?">Previous post</a>
            </li>
            <li class="next">
                <a href="../when-to-use-first-and-when-to-use-firstordefault-with-linq/" rel="next" title="When to use .First and when to use .FirstOrDefault with LINQ?">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

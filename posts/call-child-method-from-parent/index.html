<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Call child method from parent | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/call-child-method-from-parent/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../how-to-cancel-a-local-git-commit/" title="How to cancel a local git commit?" type="text/html">
<link rel="next" href="../how-are-iloc-and-loc-different/" title="How are iloc and loc different?" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="Call child method from parent">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/call-child-method-from-parent/">
<meta property="og:description" content="I have two components:

Parent component
Child component

I was trying to call Child's method from Parent, I tried this way but couldn't
get a result:
class Parent extends Component {
  render() {
   ">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-17T10:30:59+08:00">
<meta property="article:tag" content="javascript">
<meta property="article:tag" content="reactjs">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Call child method from parent</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T10:30:59+08:00" itemprop="datePublished" title="2023-02-17 10:30">2023-02-17 10:30</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>I have two components:</p>
<ol>
<li>Parent component</li>
<li>Child component</li>
</ol>
<p>I was trying to call Child's method from Parent, I tried this way but couldn't
get a result:</p>
<div class="code"><pre class="code literal-block">class<span class="w"> </span>Parent<span class="w"> </span>extends<span class="w"> </span>Component<span class="w"> </span>{
<span class="w">  </span>render()<span class="w"> </span>{
<span class="w">    </span>return<span class="w"> </span>(
<span class="w">      </span><span class="nt">&lt;Child&gt;</span>
<span class="w">        </span><span class="nt">&lt;button</span><span class="w"> </span><span class="na">onClick=</span><span class="s">{Child.getAlert()}</span><span class="nt">&gt;</span>Click<span class="nt">&lt;/button&gt;</span>
<span class="w">      </span><span class="nt">&lt;/Child&gt;</span>
<span class="w">      </span>);
<span class="w">    </span>}
<span class="w">  </span>}

class<span class="w"> </span>Child<span class="w"> </span>extends<span class="w"> </span>Component<span class="w"> </span>{
<span class="w">  </span>getAlert()<span class="w"> </span>{
<span class="w">    </span>alert('clicked');
<span class="w">  </span>}

<span class="w">  </span>render()<span class="w"> </span>{
<span class="w">    </span>return<span class="w"> </span>(
<span class="w">      </span><span class="nt">&lt;h1</span><span class="w"> </span><span class="na">ref=</span><span class="s">"hello"</span><span class="nt">&gt;</span>Hello<span class="nt">&lt;/h1&gt;</span>
<span class="w">    </span>);
<span class="w">  </span>}
}
</pre></div>

<p>Is there a way to call Child's method from Parent?</p>
<p>Note: Child and Parent components are in two different files.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>First off, let me express that this is generally <em>not</em> the way to go about
things in React land. Usually what you want to do is pass down functionality
to children in props, and pass up notifications from children in events (or
better yet: <code>dispatch</code>).</p>
<p>But if you <em>must</em> expose an imperative method on a child component, you can
use refs. Remember this is an escape hatch and usually indicates a better
design is available.</p>
<blockquote>
<p>Previously, refs were only supported for Class-based components. With the
advent of React Hooks, that's no longer the case</p>
</blockquote>
<h3>Modern React with Hooks (<code>v16.8+</code>)</h3>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">forwardRef</span><span class="p">,</span><span class="w"> </span><span class="n">useRef</span><span class="p">,</span><span class="w"> </span><span class="n">useImperativeHandle</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">React</span><span class="p">;</span>

<span class="c1">// We need to wrap component in `forwardRef` in order to gain</span>
<span class="c1">// access to the ref object that is assigned using the `ref` prop.</span>
<span class="c1">// This ref is passed as the second parameter to the function component.</span>
<span class="k">const</span><span class="w"> </span><span class="n">Child</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">forwardRef</span><span class="p">((</span><span class="n">props</span><span class="p">,</span><span class="w"> </span><span class="n">ref</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">  </span><span class="c1">// The component instance will be extended</span>
<span class="w">  </span><span class="c1">// with whatever you return from the callback passed</span>
<span class="w">  </span><span class="c1">// as the second argument</span>
<span class="w">  </span><span class="n">useImperativeHandle</span><span class="p">(</span><span class="n">ref</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">({</span>

<span class="w">    </span><span class="n">getAlert</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">alert</span><span class="p">(</span><span class="s">"getAlert from Child"</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">  </span><span class="p">}));</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">Hi</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">});</span>

<span class="k">const</span><span class="w"> </span><span class="n">Parent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// In order to gain access to the child component instance,</span>
<span class="w">  </span><span class="c1">// you need to assign it to a `ref`, so we call `useRef()` to get one</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">childRef</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">useRef</span><span class="p">();</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="n">Child</span><span class="w"> </span><span class="n">ref</span><span class="o">=</span><span class="p">{</span><span class="n">childRef</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="n">button</span><span class="w"> </span><span class="n">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">childRef</span><span class="p">.</span><span class="n">current</span><span class="p">.</span><span class="n">getAlert</span><span class="p">()}</span><span class="o">&gt;</span><span class="n">Click</span><span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
<span class="w">    </span><span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">};</span>

<span class="n">ReactDOM</span><span class="p">.</span><span class="n">render</span><span class="p">(</span>
<span class="w">  </span><span class="o">&lt;</span><span class="n">Parent</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">,</span>
<span class="w">  </span><span class="n">document</span><span class="p">.</span><span class="n">getElementById</span><span class="p">(</span><span class="err">'</span><span class="n">root</span><span class="err">'</span><span class="p">)</span>
<span class="p">);</span>


<span class="o">&lt;</span><span class="n">script</span><span class="w"> </span><span class="n">src</span><span class="o">=</span><span class="s">"https://unpkg.com/react@16/umd/react.development.js"</span><span class="w"> </span><span class="n">crossorigin</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">script</span><span class="w"> </span><span class="n">src</span><span class="o">=</span><span class="s">"https://unpkg.com/react-dom@16/umd/react-dom.development.js"</span><span class="w"> </span><span class="n">crossorigin</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">div</span><span class="w"> </span><span class="kt">id</span><span class="o">=</span><span class="s">"root"</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</pre></div>

<p>Documentation for <code>useImperativeHandle()</code> is here:</p>
<blockquote>
<p><code>useImperativeHandle</code> customizes the instance value that is exposed to
parent components when using <code>ref</code>.</p>
</blockquote>
<h3>Legacy API using Class Components (<code>&gt;= react@16.4</code>)</h3>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Component</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">React</span><span class="p">;</span>

<span class="k">class</span><span class="w"> </span><span class="n">Parent</span><span class="w"> </span><span class="n">extends</span><span class="w"> </span><span class="n">Component</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">constructor</span><span class="p">(</span><span class="n">props</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nb">super</span><span class="p">(</span><span class="n">props</span><span class="p">);</span>
<span class="w">    </span><span class="n">this</span><span class="p">.</span><span class="n">child</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">React</span><span class="p">.</span><span class="n">createRef</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">onClick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">this</span><span class="p">.</span><span class="n">child</span><span class="p">.</span><span class="n">current</span><span class="p">.</span><span class="n">getAlert</span><span class="p">();</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="n">render</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">      </span><span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="n">Child</span><span class="w"> </span><span class="n">ref</span><span class="o">=</span><span class="p">{</span><span class="n">this</span><span class="p">.</span><span class="n">child</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="n">button</span><span class="w"> </span><span class="n">onClick</span><span class="o">=</span><span class="p">{</span><span class="n">this</span><span class="p">.</span><span class="n">onClick</span><span class="p">}</span><span class="o">&gt;</span><span class="n">Click</span><span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span><span class="w"> </span><span class="n">Child</span><span class="w"> </span><span class="n">extends</span><span class="w"> </span><span class="n">Component</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">getAlert</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">alert</span><span class="p">(</span><span class="err">'</span><span class="n">getAlert</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">Child</span><span class="err">'</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">render</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">Hello</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="n">ReactDOM</span><span class="p">.</span><span class="n">render</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Parent</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">document</span><span class="p">.</span><span class="n">getElementById</span><span class="p">(</span><span class="err">'</span><span class="n">root</span><span class="err">'</span><span class="p">));</span>


<span class="o">&lt;</span><span class="n">script</span><span class="w"> </span><span class="n">src</span><span class="o">=</span><span class="s">"https://unpkg.com/react@16/umd/react.development.js"</span><span class="w"> </span><span class="n">crossorigin</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">script</span><span class="w"> </span><span class="n">src</span><span class="o">=</span><span class="s">"https://unpkg.com/react-dom@16/umd/react-dom.development.js"</span><span class="w"> </span><span class="n">crossorigin</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">div</span><span class="w"> </span><span class="kt">id</span><span class="o">=</span><span class="s">"root"</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</pre></div>

<h3>Callback Ref API</h3>
<p>Callback-style refs are another approach to achieving this, although not quite
as common in modern React:</p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Component</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">React</span><span class="p">;</span>
<span class="k">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">render</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ReactDOM</span><span class="p">;</span>

<span class="k">class</span><span class="w"> </span><span class="n">Parent</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="n">Component</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">render</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">      </span><span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="n">Child</span><span class="w"> </span><span class="n">ref</span><span class="o">=</span><span class="p">{</span><span class="n">instance</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">this</span><span class="o">.</span><span class="n">child</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">instance</span><span class="p">;</span><span class="w"> </span><span class="p">}}</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="n">button</span><span class="w"> </span><span class="n">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">this</span><span class="o">.</span><span class="n">child</span><span class="o">.</span><span class="n">getAlert</span><span class="p">();</span><span class="w"> </span><span class="p">}}</span><span class="o">&gt;</span><span class="n">Click</span><span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span><span class="w"> </span><span class="n">Child</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="n">Component</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">getAlert</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">alert</span><span class="p">(</span><span class="s1">'clicked'</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">render</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">      </span><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">Hello</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>


<span class="n">render</span><span class="p">(</span>
<span class="w">  </span><span class="o">&lt;</span><span class="n">Parent</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">,</span>
<span class="w">  </span><span class="n">document</span><span class="o">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s1">'app'</span><span class="p">)</span>
<span class="p">);</span>


<span class="o">&lt;</span><span class="n">script</span><span class="w"> </span><span class="n">src</span><span class="o">=</span><span class="s2">"https://cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react.min.js"</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">script</span><span class="w"> </span><span class="n">src</span><span class="o">=</span><span class="s2">"https://cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react-dom.min.js"</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">div</span><span class="w"> </span><span class="n">id</span><span class="o">=</span><span class="s2">"app"</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>You can use another pattern here:</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span><span class="w"> </span><span class="n">Parent</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="n">Component</span><span class="w"> </span><span class="p">{</span>
<span class="w"> </span><span class="n">render</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="n">Child</span><span class="w"> </span><span class="n">setClick</span><span class="o">=</span><span class="p">{</span><span class="n">click</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">this</span><span class="o">.</span><span class="n">clickChild</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">click</span><span class="p">}</span><span class="o">/&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="n">button</span><span class="w"> </span><span class="n">onClick</span><span class="o">=</span><span class="p">{()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">this</span><span class="o">.</span><span class="n">clickChild</span><span class="p">()}</span><span class="o">&gt;</span><span class="n">Click</span><span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
<span class="w">    </span><span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="w"> </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span><span class="w"> </span><span class="n">Child</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="n">Component</span><span class="w"> </span><span class="p">{</span>
<span class="w"> </span><span class="n">constructor</span><span class="p">(</span><span class="n">props</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">super</span><span class="p">(</span><span class="n">props</span><span class="p">);</span>
<span class="w">    </span><span class="n">this</span><span class="o">.</span><span class="n">getAlert</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">this</span><span class="o">.</span><span class="n">getAlert</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">this</span><span class="p">);</span>
<span class="w"> </span><span class="p">}</span>
<span class="w"> </span><span class="n">componentDidMount</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">this</span><span class="o">.</span><span class="n">props</span><span class="o">.</span><span class="n">setClick</span><span class="p">(</span><span class="n">this</span><span class="o">.</span><span class="n">getAlert</span><span class="p">);</span>
<span class="w"> </span><span class="p">}</span>
<span class="w"> </span><span class="n">getAlert</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">alert</span><span class="p">(</span><span class="s1">'clicked'</span><span class="p">);</span>
<span class="w"> </span><span class="p">}</span>
<span class="w"> </span><span class="n">render</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="n">h1</span><span class="w"> </span><span class="n">ref</span><span class="o">=</span><span class="s2">"hello"</span><span class="o">&gt;</span><span class="n">Hello</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>What it does is to set the parent's <code>clickChild</code> method when child is mounted.
In this way when you click the button in parent it will call <code>clickChild</code>
which calls child's <code>getAlert</code>.</p>
<p>This also works if your child is wrapped with <code>connect()</code> so you don't need
the <code>getWrappedInstance()</code> hack.</p>
<p>Note you can't use <code>onClick={this.clickChild}</code> in parent because when parent
is rendered child is not mounted so <code>this.clickChild</code> is not assigned yet.
Using <code>onClick={() =&gt; this.clickChild()}</code> is fine because when you click the
button <code>this.clickChild</code> should already be assigned.</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/javascript/" rel="tag">javascript</a></li>
            <li><a class="tag p-category" href="../../categories/reactjs/" rel="tag">reactjs</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../how-to-cancel-a-local-git-commit/" rel="prev" title="How to cancel a local git commit?">Previous post</a>
            </li>
            <li class="next">
                <a href="../how-are-iloc-and-loc-different/" rel="next" title="How are iloc and loc different?">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

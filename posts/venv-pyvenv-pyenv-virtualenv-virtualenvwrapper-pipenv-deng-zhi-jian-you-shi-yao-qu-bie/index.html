<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>venv、pyvenv、pyenv、virtualenv、virtualenvwrapper、pipenv 等之间有什么区别？ | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/venv-pyvenv-pyenv-virtualenv-virtualenvwrapper-pipenv-deng-zhi-jian-you-shi-yao-qu-bie/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../ru-he-jiang-jian-zhi-dui-tian-jia-dao-javascript-dui-xiang/" title="如何将键/值对添加到 JavaScript 对象？" type="text/html">
<link rel="next" href="../javascript-zhong-de-new-guan-jian-zi-shi-shi-yao/" title="JavaScript 中的“new”关键字是什么？" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="venv、pyvenv、pyenv、virtualenv、virtualenvwrapper、pipenv 等之间有什么区别？">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/venv-pyvenv-pyenv-virtualenv-virtualenvwrapper-pipenv-deng-zhi-jian-you-shi-yao-qu-bie/">
<meta property="og:description" content="Python 3.3
在其标准库中包含了新的包venv。它有什么作用，它与匹配正则表达式的所有其他包有何不同(py)?(v|virtual|pip)?env？

解答
这是我对初学者的个人建议： 从学习 Python 2 和 Python 3
以及适用于各种情况的工具开始virtualenv，pip然后在开始需要时选择其他工具。
现在回答这个问题：这些名称相似的东西有什么区别：venv、virtu">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-16T23:35:18+08:00">
<meta property="article:tag" content="pyenv">
<meta property="article:tag" content="python">
<meta property="article:tag" content="python-venv">
<meta property="article:tag" content="virtualenv">
<meta property="article:tag" content="virtualenvwrapper">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">venv、pyvenv、pyenv、virtualenv、virtualenvwrapper、pipenv 等之间有什么区别？</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T23:35:18+08:00" itemprop="datePublished" title="2023-02-16 23:35">2023-02-16 23:35</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>Python 3.3
在其标准库中包含了新的包<code>venv</code>。它有什么作用，它与匹配正则表达式的所有其他包有何不同<code>(py)?(v|virtual|pip)?env</code>？</p>
<p><br><br></p>
<h2>解答</h2>
<p><strong>这是我对初学者的个人建议：</strong> 从学习 Python 2 和 Python 3
以及适用于各种情况的工具开始<code>virtualenv</code>，<code>pip</code>然后在开始需要时选择其他工具。</p>
<p>现在回答这个问题：这些名称相似的东西有什么区别：venv、virtualenv 等？</p>
<h2>PyPI 包不在标准库中：</h2>
<ul>
<li>
<strong><code>virtualenv</code></strong> 是一个非常流行的工具，可以为 Python 库创建独立的 Python 环境。如果您不熟悉此工具，我强烈建议您学习它，因为它是一个非常有用的工具。</li>
</ul>
<p>它的工作原理是在目录中安装一堆文件（例如<code>env/</code>：），然后修改<code>PATH</code>环境变量以在其前面加上自定义<code>bin</code>目录（例如<code>env/bin/</code>：）。<code>python</code>或二进制文件的精确副本<code>python3</code>放置在此目录中，但
Python 被编程为首先在环境目录中查找与其路径相关的库。它不是 Python 标准库的一部分，但得到了 PyPA（Python Packaging
Authority）的正式认可。激活后，您可以在虚拟环境中使用<code>pip</code>.</p>
<ul>
<li>
<p><strong><code>pyenv</code></strong> 用于隔离 Python 版本。例如，您可能想要针对 Python 2.7、3.6、3.7 和 3.8 测试您的代码，因此您需要一种在它们之间切换的方法。激活后，它会在<code>PATH</code>环境变量前加上前缀<code>~/.pyenv/shims</code>，其中有与 Python 命令匹配的特殊文件（<code>python</code>, <code>pip</code>）。这些不是 Python 提供的命令的副本；<code>PYENV_VERSION</code>它们是特殊的脚本，可以根据环境变量、<code>.python-version</code>文件或文件即时决定运行哪个版本的 Python <code>~/.pyenv/version</code>。<code>pyenv</code>使用命令也可以更轻松地下载和安装多个 Python 版本<code>pyenv install</code>。</p>
</li>
<li>
<p><strong><code>pyenv-virtualenv</code></strong><code>pyenv</code>是与 同作者的一个插件，方便您同时<code>pyenv</code>使用<code>pyenv</code>和。<code>virtualenv</code>但是，如果您使用的是 Python 3.3 或更高版本，将在可用时<code>pyenv-virtualenv</code>尝试运行，而不是. 如果您不想要便利功能，则可以不使用 , 一起使用and 。<code>python -m venv``virtualenv``virtualenv``pyenv``pyenv-virtualenv</code></p>
</li>
<li>
<p><strong><code>virtualenvwrapper</code></strong> 是一组扩展<code>virtualenv</code>（参见文档）。<code>mkvirtualenv</code>它为您提供,等命令<code>lssitepackages</code>，尤其<code>workon</code>是用于在不同目录之间切换<code>virtualenv</code>。如果您需要多个目录，此工具特别有用<code>virtualenv</code>。</p>
</li>
<li>
<p><strong><code>pyenv-virtualenvwrapper</code></strong><code>pyenv</code>是与 同一作者的插件<code>pyenv</code>，方便集成<code>virtualenvwrapper</code>到<code>pyenv</code>.</p>
</li>
<li>
<p><strong><code>pipenv</code></strong> 旨在将<code>Pipfile</code>,<code>pip</code>和组合<code>virtualenv</code>成命令行上的一个命令。该<code>virtualenv</code>目录通常放置在 中<code>~/.local/share/virtualenvs/XXX</code>，<code>XXX</code>是项目目录路径的散列。这与 不同<code>virtualenv</code>，目录通常位于当前工作目录中。<code>pipenv</code>旨在用于开发 Python 应用程序（而不是库）。有替代方案<code>pipenv</code>，例如<code>poetry</code>，我不会在这里列出，因为这个问题只是关于名称相似的包。</p>
</li>
</ul>
<h2>标准库：</h2>
<ul>
<li>
<p><strong><code>pyvenv</code></strong> （不要与 <strong><code>pyenv</code></strong> 上一节中的混淆）是 Python 3.3 到 3.7 附带的脚本。它已从Python 3.8 中删除，因为它存在问题（更不用说令人困惑的名称了）。运行与 .<code>python3 -m venv</code>具有完全相同的效果<code>pyvenv</code>。</p>
</li>
<li>
<p><strong><code>venv</code></strong> 是 Python 3 附带的一个包，您可以使用它运行<code>python3 -m venv</code>（尽管出于某种原因，一些发行版将它分离到一个单独的发行版包中，例如<code>python3-venv</code>在 Ubuntu/Debian 上）。它的用途与 相同<code>virtualenv</code>，但只有一部分功能（参见此处的比较）。<code>virtualenv</code>继续比 更受欢迎<code>venv</code>，特别是因为前者同时支持 Python 2 和 3。</p>
</li>
</ul>
<p><br></p>
<h3>更多建议</h3>
<p>我只是避免在 Python3.3+ 之后使用<code>virtualenv</code>，而是使用标准的 shipped library
<code>venv</code>。要创建一个新的虚拟环境，您可以键入：</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>python3<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>&lt;MYVENV&gt;
</pre></div>

<p><code>virtualenv</code>尝试将 Python 二进制文件复制到虚拟环境的 bin 目录中。但是它不会更新嵌入到该二进制文件中的库文件链接，因此如果您将
Python 从源代码构建到具有相对路径名的非系统目录中，则 Python 二进制文件会中断。由于这是制作可分发 Python
副本的方式，因此这是一个很大的缺陷。顺便说一句，要检查 OS X 上的嵌入式库文件链接，请使用<code>otool</code>. 例如，在您的虚拟环境中，键入：</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>otool<span class="w"> </span>-L<span class="w"> </span>bin/python
python:
<span class="w">    </span>@executable_path/../Python<span class="w"> </span><span class="o">(</span>compatibility<span class="w"> </span>version<span class="w"> </span><span class="m">3</span>.4.0,<span class="w"> </span>current<span class="w"> </span>version<span class="w"> </span><span class="m">3</span>.4.0<span class="o">)</span>
<span class="w">    </span>/usr/lib/libSystem.B.dylib<span class="w"> </span><span class="o">(</span>compatibility<span class="w"> </span>version<span class="w"> </span><span class="m">1</span>.0.0,<span class="w"> </span>current<span class="w"> </span>version<span class="w"> </span><span class="m">1238</span>.0.0<span class="o">)</span>
</pre></div>

<p>因此我会避免<code>virtualenvwrapper</code>和<code>pipenv</code>。<code>pyvenv</code>已弃用。<code>pyenv</code>似乎经常在<code>virtualenv</code>使用的地方使用，但我也会远离它，因为我认为<code>venv</code>它也是<code>pyenv</code>为构建而设计的。</p>
<p><code>venv</code>在 shell 中创建 <strong>全新的</strong> 沙 <strong>盒</strong> 虚拟环境，具有 <strong>用户可安装的库</strong> ，并且它是 <strong>多 python 安全的</strong> 。</p>
<p><strong>新鲜</strong> ：因为虚拟环境只从 python 附带的标准库开始，你必须在<code>pip install</code>虚拟环境处于活动状态时重新安装任何其他库。</p>
<p><strong>沙盒化</strong> ：因为这些新库安装在虚拟环境之外都不可见，所以您可以删除整个环境并重新开始，而不必担心影响您的基本 python 安装。</p>
<p><strong>用户可安装的库</strong> ：因为虚拟环境的目标文件夹是<code>sudo</code>在您已经拥有的某个目录下创建的，所以您不需要<code>sudo</code>权限即可将库安装到其中。</p>
<p><strong>多 python 安全</strong> ：因为当虚拟环境激活时，shell 只会看到用于构建该虚拟环境的 python 版本（3.4、3.5 等）。</p>
<p><code>pyenv</code>类似于<code>venv</code>它可以让您管理多个 python
环境。但是，<code>pyenv</code>您无法方便地将库安装回滚到某个启动状态，并且您可能<code>admin</code>在某些时候需要特权来更新库。所以我觉得也是最好用的<code>venv</code>。</p>
<p>在过去的几年里，我在构建系统（emacs 包、python
独立应用程序构建器、安装程序...）中发现了许多问题，这些问题最终归结为<code>virtualenv</code>. 我认为当我们消除这个附加选项并只使用<code>venv</code>.</p>
<p>编辑：BDFL 的推文，</p>
<blockquote>
<p>我使用 venv（在 stdlib 中）和一堆 shell 别名来快速切换。</p>
<p>- Guido van Rossum (@gvanrossum) 2020 年 10 月 22 日</p>
</blockquote>
<p><br><br><a href="../what-is-the-difference-between-venv-pyvenv-pyenv-virtualenv-virtualenvwrapper-pipenv-etc/">查看原文</a></p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/pyenv/" rel="tag">pyenv</a></li>
            <li><a class="tag p-category" href="../../categories/python/" rel="tag">python</a></li>
            <li><a class="tag p-category" href="../../categories/python-venv/" rel="tag">python-venv</a></li>
            <li><a class="tag p-category" href="../../categories/virtualenv/" rel="tag">virtualenv</a></li>
            <li><a class="tag p-category" href="../../categories/virtualenvwrapper/" rel="tag">virtualenvwrapper</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../ru-he-jiang-jian-zhi-dui-tian-jia-dao-javascript-dui-xiang/" rel="prev" title="如何将键/值对添加到 JavaScript 对象？">Previous post</a>
            </li>
            <li class="next">
                <a href="../javascript-zhong-de-new-guan-jian-zi-shi-shi-yao/" rel="next" title="JavaScript 中的“new”关键字是什么？">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

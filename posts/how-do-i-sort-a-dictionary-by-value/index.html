<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>How do I sort a dictionary by value? | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/how-do-i-sort-a-dictionary-by-value/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../how-can-i-add-new-keys-to-a-dictionary/" title="How can I add new keys to a dictionary?" type="text/html">
<link rel="next" href="../what-is-the-difference-between-call-and-apply/" title="What is the difference between call and apply?" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="How do I sort a dictionary by value?">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/how-do-i-sort-a-dictionary-by-value/">
<meta property="og:description" content="This question's answers are a community effort. Edit existing answers to
improve this post. It is not currently accepting new answers or interactions.
I have a dictionary of values read from two field">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-16T19:39:08+08:00">
<meta property="article:tag" content="dictionary">
<meta property="article:tag" content="python">
<meta property="article:tag" content="sorting">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">How do I sort a dictionary by value?</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T19:39:08+08:00" itemprop="datePublished" title="2023-02-16 19:39">2023-02-16 19:39</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p><strong>This question's answers are a community effort</strong>. Edit existing answers to
improve this post. It is not currently accepting new answers or interactions.</p>
<p>I have a dictionary of values read from two fields in a database: a string
field and a numeric field. The string field is unique, so that is the key of
the dictionary.</p>
<p>I can sort on the keys, but how can I sort based on the values?</p>
<p>Note: I have read Stack Overflow question here <em>How do I sort a list of
dictionaries by a value of the dictionary?</em> and probably could change my code
to have a list of dictionaries, but since I do not really need a list of
dictionaries I wanted to know if there is a simpler solution to sort either in
ascending or descending order.</p>
<p><br><br></p>
<h2>Answer</h2>
<h4>Python 3.7+ or CPython 3.6</h4>
<p>Dicts preserve insertion order in Python 3.7+. Same in CPython 3.6, but it's
an implementation detail.</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>{<span class="mi">1</span>:<span class="w"> </span><span class="mi">2</span>,<span class="w"> </span><span class="mi">3</span>:<span class="w"> </span><span class="mi">4</span>,<span class="w"> </span><span class="mi">4</span>:<span class="w"> </span><span class="mi">3</span>,<span class="w"> </span><span class="mi">2</span>:<span class="w"> </span><span class="mi">1</span>,<span class="w"> </span><span class="mi">0</span>:<span class="w"> </span><span class="mi">0</span>}
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span>{<span class="nv">k</span>:<span class="w"> </span><span class="nv">v</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">k</span>,<span class="w"> </span><span class="nv">v</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">sorted</span><span class="ss">(</span><span class="nv">x</span>.<span class="nv">items</span><span class="ss">()</span>,<span class="w"> </span><span class="nv">key</span><span class="o">=</span><span class="nv">lambda</span><span class="w"> </span><span class="nv">item</span>:<span class="w"> </span><span class="nv">item</span>[<span class="mi">1</span>]<span class="ss">)</span>}
{<span class="mi">0</span>:<span class="w"> </span><span class="mi">0</span>,<span class="w"> </span><span class="mi">2</span>:<span class="w"> </span><span class="mi">1</span>,<span class="w"> </span><span class="mi">1</span>:<span class="w"> </span><span class="mi">2</span>,<span class="w"> </span><span class="mi">4</span>:<span class="w"> </span><span class="mi">3</span>,<span class="w"> </span><span class="mi">3</span>:<span class="w"> </span><span class="mi">4</span>}
</pre></div>

<p>or</p>
<div class="code"><pre class="code literal-block">&gt;&gt;&gt; dict(sorted(x.items(), key=lambda item: item[1]))
{0: 0, 2: 1, 1: 2, 4: 3, 3: 4}
</pre></div>

<h4>Older Python</h4>
<p>It is not possible to sort a dictionary, only to get a representation of a
dictionary that is sorted. Dictionaries are inherently orderless, but other
types, such as lists and tuples, are not. So you need an ordered data type to
represent sorted values, which will be a list—probably a list of tuples.</p>
<p>For instance,</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">operator</span>
<span class="n">x</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
<span class="n">sorted_x</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="n">operator</span><span class="o">.</span><span class="n">itemgetter</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
</pre></div>

<p><code>sorted_x</code> will be a list of tuples sorted by the second element in each
tuple. <code>dict(sorted_x) == x</code>.</p>
<p>And for those wishing to sort on keys instead of values:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">operator</span>
<span class="n">x</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
<span class="n">sorted_x</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="n">operator</span><span class="o">.</span><span class="n">itemgetter</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
</pre></div>

<p>In Python3 since unpacking is not allowed we can use</p>
<div class="code"><pre class="code literal-block">x = {1: 2, 3: 4, 4: 3, 2: 1, 0: 0}
sorted_x = sorted(x.items(), key=lambda kv: kv[1])
</pre></div>

<p>If you want the output as a dict, you can use <code>collections.OrderedDict</code>:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">collections</span>

<span class="n">sorted_dict</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">OrderedDict</span><span class="p">(</span><span class="n">sorted_x</span><span class="p">)</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<h3>As simple as: <code>sorted(dict1, key=dict1.get)</code>
</h3>
<p>Well, it is actually possible to do a "sort by dictionary values". Recently I
had to do that in a Code Golf (Stack Overflow question <em>Code golf: Word
frequency chart</em> ). Abridged, the problem was of the kind: given a text, count
how often each word is encountered and display a list of the top words, sorted
by decreasing frequency.</p>
<p>If you construct a dictionary with the words as keys and the number of
occurrences of each word as value, simplified here as:</p>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">():</span>
    <span class="n">d</span><span class="p">[</span><span class="n">w</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div>

<p>then you can get a list of the words, ordered by frequency of use with
<code>sorted(d, key=d.get)</code> - the sort iterates over the dictionary keys, using
the number of word occurrences as a sort key .</p>
<div class="code"><pre class="code literal-block"><span class="k">for</span><span class="w"> </span><span class="n">w</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">sorted</span><span class="p">(</span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="k">key</span><span class="o">=</span><span class="n">d</span><span class="p">.</span><span class="k">get</span><span class="p">,</span><span class="w"> </span><span class="nf">reverse</span><span class="o">=</span><span class="k">True</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="k">print</span><span class="p">(</span><span class="n">w</span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="o">[</span><span class="n">w</span><span class="o">]</span><span class="p">)</span>
</pre></div>

<p>I am writing this detailed explanation to illustrate what people often mean by
"I can easily sort a dictionary by key, but how do I sort by value" - and I
think the original post was trying to address such an issue. And the solution
is to do sort of list of the keys, based on the values, as shown above.</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/dictionary/" rel="tag">dictionary</a></li>
            <li><a class="tag p-category" href="../../categories/python/" rel="tag">python</a></li>
            <li><a class="tag p-category" href="../../categories/sorting/" rel="tag">sorting</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../how-can-i-add-new-keys-to-a-dictionary/" rel="prev" title="How can I add new keys to a dictionary?">Previous post</a>
            </li>
            <li class="next">
                <a href="../what-is-the-difference-between-call-and-apply/" rel="next" title="What is the difference between call and apply?">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

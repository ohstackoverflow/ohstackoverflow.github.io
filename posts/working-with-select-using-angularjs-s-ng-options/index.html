<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Working with select using AngularJS's ng-options | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/working-with-select-using-angularjs-s-ng-options/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../is-fortran-easier-to-optimize-than-c-for-heavy-calculations/" title="Is Fortran easier to optimize than C for heavy calculations?" type="text/html">
<link rel="next" href="../what-is-the-largest-tcp-ip-network-port-number-allowable-for-ipv4/" title="What is the largest TCP/IP network port number allowable for IPv4?" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="Working with select using AngularJS's ng-options">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/working-with-select-using-angularjs-s-ng-options/">
<meta property="og:description" content="I have read about it in other posts, but I couldn't figure it out.
I have an array,
$scope.items = [
   {ID: '000001', Title: 'Chicago'},
   {ID: '000002', Title: 'New York'},
   {ID: '000003', Title:">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-03-03T11:08:09+08:00">
<meta property="article:tag" content="angularjs">
<meta property="article:tag" content="html-select">
<meta property="article:tag" content="javascript">
<meta property="article:tag" content="ng-options">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Working with select using AngularJS's ng-options</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T11:08:09+08:00" itemprop="datePublished" title="2023-03-03 11:08">2023-03-03 11:08</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>I have read about it in other posts, but I couldn't figure it out.</p>
<p>I have an array,</p>
<div class="code"><pre class="code literal-block"><span class="o">$</span><span class="nt">scope</span><span class="p">.</span><span class="nc">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="cp">[</span>
<span class="w">   </span><span class="p">{</span><span class="nx">ID</span><span class="p">:</span><span class="w"> </span><span class="s1">'000001'</span><span class="p">,</span><span class="w"> </span><span class="nx">Title</span><span class="p">:</span><span class="w"> </span><span class="s1">'Chicago'</span><span class="p">},</span>
<span class="w">   </span><span class="p">{</span><span class="nx">ID</span><span class="p">:</span><span class="w"> </span><span class="s1">'000002'</span><span class="p">,</span><span class="w"> </span><span class="nx">Title</span><span class="p">:</span><span class="w"> </span><span class="s1">'New York'</span><span class="p">},</span>
<span class="w">   </span><span class="p">{</span><span class="nx">ID</span><span class="p">:</span><span class="w"> </span><span class="s1">'000003'</span><span class="p">,</span><span class="w"> </span><span class="nx">Title</span><span class="p">:</span><span class="w"> </span><span class="s1">'Washington'</span><span class="p">},</span>
<span class="cp">]</span><span class="o">;</span>
</pre></div>

<p>I want to render it as:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;select&gt;</span>
<span class="w">  </span><span class="nt">&lt;option</span><span class="w"> </span><span class="na">value=</span><span class="s">"000001"</span><span class="nt">&gt;</span>Chicago<span class="nt">&lt;/option&gt;</span>
<span class="w">  </span><span class="nt">&lt;option</span><span class="w"> </span><span class="na">value=</span><span class="s">"000002"</span><span class="nt">&gt;</span>New<span class="w"> </span>York<span class="nt">&lt;/option&gt;</span>
<span class="w">  </span><span class="nt">&lt;option</span><span class="w"> </span><span class="na">value=</span><span class="s">"000003"</span><span class="nt">&gt;</span>Washington<span class="nt">&lt;/option&gt;</span>
<span class="nt">&lt;/select&gt;</span>
</pre></div>

<p>And also I want to select the option with ID=000002.</p>
<p>I have read <em>select</em> and tried, but I can't figure it out.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>One thing to note is that ngModel is <em>required</em> for ngOptions to work... note
the <code>ng-model="blah"</code> which is saying "set $scope.blah to the selected value".</p>
<p>Try this:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;select</span><span class="w"> </span><span class="na">ng-model=</span><span class="s">"blah"</span><span class="w"> </span><span class="na">ng-options=</span><span class="s">"item.ID as item.Title for item in items"</span><span class="nt">&gt;&lt;/select&gt;</span>
</pre></div>

<p>Here's more from AngularJS's documentation (if you haven't seen it):</p>
<blockquote>
<p>for array data sources:</p>
<ul>
<li>label for value in array</li>
<li>select as label for value in array</li>
<li>label group by group for value in array = select as label group by group
for value in array
</li>
</ul>
<p>for object data sources:</p>
<ul>
<li>label for (key , value) in object</li>
<li>select as label for (key , value) in object</li>
<li>label group by group for (key, value) in object</li>
<li>select as label group by group for (key, value) in object
</li>
</ul>
</blockquote>
<hr>
<p>For some clarification on option tag values in AngularJS:</p>
<p>When you use <code>ng-options</code>, <strong>the values of option tags written out by ng-
options will always be the index of the array item the option tag relates
to</strong>. This is because AngularJS actually allows you to select entire objects
with select controls, and not just primitive types. For example:</p>
<div class="code"><pre class="code literal-block">app.controller('MainCtrl',<span class="w"> </span>function($scope)<span class="w"> </span>{
<span class="w">   </span>$scope.items<span class="w"> </span>=<span class="w"> </span>[
<span class="w">     </span>{<span class="w"> </span>id:<span class="w"> </span>1,<span class="w"> </span>name:<span class="w"> </span>'foo'<span class="w"> </span>},
<span class="w">     </span>{<span class="w"> </span>id:<span class="w"> </span>2,<span class="w"> </span>name:<span class="w"> </span>'bar'<span class="w"> </span>},
<span class="w">     </span>{<span class="w"> </span>id:<span class="w"> </span>3,<span class="w"> </span>name:<span class="w"> </span>'blah'<span class="w"> </span>}
<span class="w">   </span>];
});



<span class="nt">&lt;div</span><span class="w"> </span><span class="na">ng-controller=</span><span class="s">"MainCtrl"</span><span class="nt">&gt;</span>
<span class="w">   </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">ng-model=</span><span class="s">"selectedItem"</span><span class="w"> </span><span class="na">ng-options=</span><span class="s">"item as item.name for item in items"</span><span class="nt">&gt;&lt;/select&gt;</span>
<span class="w">   </span><span class="nt">&lt;pre&gt;</span><span class="cp">{{</span><span class="nv">selectedItem</span> <span class="o">|</span> <span class="nf">json</span><span class="cp">}}</span><span class="nt">&lt;/pre&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p>The above will allow you to select an entire object into <code>$scope.selectedItem</code>
directly. <strong>The point is, with AngularJS, you don't need to worry about what's
in your option tag. Let AngularJS handle that; you should only care about
what's in your model in your scope.</strong></p>
<p>Here is a plunker demonstrating the behavior above, and showing the HTML
written out</p>
<hr>
<p>Dealing with the default option:</p>
<p>There are a few things I've failed to mention above relating to the default
option.</p>
<p><strong>Selecting the first option and removing the empty option:</strong></p>
<p>You can do this by adding a simple <code>ng-init</code> that sets the model (from <code>ng-
model</code>) to the first element in the items your repeating in <code>ng-options</code>:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;select</span><span class="w"> </span><span class="na">ng-init=</span><span class="s">"foo = foo || items[0]"</span><span class="w"> </span><span class="na">ng-model=</span><span class="s">"foo"</span><span class="w"> </span><span class="na">ng-options=</span><span class="s">"item as item.name for item in items"</span><span class="nt">&gt;&lt;/select&gt;</span>
</pre></div>

<p>Note: This could get a little crazy if <code>foo</code> happens to be initialized
properly to something "falsy". In that case, you'll want to handle the
initialization of <code>foo</code> in your controller, most likely.</p>
<p><strong>Customizing the default option:</strong></p>
<p>This is a little different; here all you need to do is add an option tag as a
child of your select, with an empty value attribute, then customize its inner
text:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;select</span><span class="w"> </span><span class="na">ng-model=</span><span class="s">"foo"</span><span class="w"> </span><span class="na">ng-options=</span><span class="s">"item as item.name for item in items"</span><span class="nt">&gt;</span>
<span class="w">   </span><span class="nt">&lt;option</span><span class="w"> </span><span class="na">value=</span><span class="s">""</span><span class="nt">&gt;</span>Nothing<span class="w"> </span>selected<span class="nt">&lt;/option&gt;</span>
<span class="nt">&lt;/select&gt;</span>
</pre></div>

<p>Note: In this case the "empty" option will stay there even after you select a
different option. This isn't the case for the default behavior of selects
under AngularJS.</p>
<p><strong>A customized default option that hides after a selection is made:</strong></p>
<p>If you wanted your customized default option to go away after you select a
value, you can add an ng-hide attribute to your default option:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;select</span><span class="w"> </span><span class="na">ng-model=</span><span class="s">"foo"</span><span class="w"> </span><span class="na">ng-options=</span><span class="s">"item as item.name for item in items"</span><span class="nt">&gt;</span>
<span class="w">   </span><span class="nt">&lt;option</span><span class="w"> </span><span class="na">value=</span><span class="s">""</span><span class="w"> </span><span class="na">ng-if=</span><span class="s">"foo"</span><span class="nt">&gt;</span>Select<span class="w"> </span>something<span class="w"> </span>to<span class="w"> </span>remove<span class="w"> </span>me.<span class="nt">&lt;/option&gt;</span>
<span class="nt">&lt;/select&gt;</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>I'm learning AngularJS and was struggling with selection as well. I know this
question is already answered, but I wanted to share some more code
nevertheless.</p>
<p>In my test I have two listboxes: car makes and car models. The models list is
disabled until some make is selected. If selection in makes listbox is later
reset (set to 'Select Make') then the models listbox becomes disabled again
AND its selection is reset as well (to 'Select Model'). Makes are retrieved as
a resource while models are just hard-coded.</p>
<h4>Makes JSON:</h4>
<div class="code"><pre class="code literal-block">[
{"code": "0", "name": "Select Make"},
{"code": "1", "name": "Acura"},
{"code": "2", "name": "Audi"}
]
</pre></div>

<h4>services.js:</h4>
<div class="code"><pre class="code literal-block"><span class="nt">angular</span><span class="p">.</span><span class="nc">module</span><span class="o">(</span><span class="s1">'makeServices'</span><span class="o">,</span><span class="w"> </span><span class="cp">[</span><span class="s1">'ngResource'</span><span class="cp">]</span><span class="o">).</span>
<span class="nt">factory</span><span class="o">(</span><span class="s1">'Make'</span><span class="o">,</span><span class="w"> </span><span class="nt">function</span><span class="o">($</span><span class="nt">resource</span><span class="o">)</span><span class="p">{</span>
<span class="w">    </span><span class="err">return</span><span class="w"> </span><span class="err">$resource('makes.json',</span><span class="w"> </span><span class="err">{</span><span class="p">}</span><span class="o">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">query</span><span class="p">:</span><span class="w"> </span><span class="err">{</span><span class="n">method</span><span class="o">:</span><span class="s1">'GET'</span><span class="p">,</span><span class="w"> </span><span class="n">isArray</span><span class="o">:</span><span class="n">true</span><span class="p">}</span>
<span class="w">    </span><span class="err">}</span><span class="o">);</span>
<span class="err">}</span><span class="o">);</span>
</pre></div>

<h4>HTML file:</h4>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;div</span><span class="w"> </span><span class="na">ng:controller=</span><span class="s">"MakeModelCtrl"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;div&gt;</span>Make<span class="nt">&lt;/div&gt;</span>
<span class="w">  </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">"makeListBox"</span>
<span class="w">      </span><span class="na">ng-model=</span><span class="s">"make.selected"</span>
<span class="w">      </span><span class="na">ng-options=</span><span class="s">"make.code as make.name for make in makes"</span>
<span class="w">      </span><span class="na">ng-change=</span><span class="s">"makeChanged(make.selected)"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;/select&gt;</span>

<span class="w">  </span><span class="nt">&lt;div&gt;</span>Model<span class="nt">&lt;/div&gt;</span>
<span class="w">  </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">"modelListBox"</span>
<span class="w">     </span><span class="na">ng-disabled=</span><span class="s">"makeNotSelected"</span>
<span class="w">     </span><span class="na">ng-model=</span><span class="s">"model.selected"</span>
<span class="w">     </span><span class="na">ng-options=</span><span class="s">"model.code as model.name for model in models"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;/select&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>

<h4>controllers.js:</h4>
<div class="code"><pre class="code literal-block"><span class="k">function</span><span class="w"> </span><span class="nf">MakeModelCtrl</span><span class="p">(</span>$scope<span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span>$<span class="n">scope</span><span class="p">.</span><span class="n">makeNotSelected</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="w">    </span>$<span class="n">scope</span><span class="p">.</span><span class="n">make</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">{</span><span class="n">selected</span><span class="p">:</span><span class="w"> </span><span class="s">"0"</span><span class="p">};</span>
<span class="w">    </span>$<span class="n">scope</span><span class="p">.</span><span class="n">makes</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">Make</span><span class="p">.</span><span class="n">query</span><span class="p">({},</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="p">(</span><span class="n">makes</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span>$<span class="n">scope</span><span class="p">.</span><span class="n">make</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">{</span><span class="n">selected</span><span class="p">:</span><span class="w"> </span><span class="n">makes</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">code</span><span class="p">};</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span>$<span class="n">scope</span><span class="p">.</span><span class="n">makeChanged</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">selectedMakeCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span>$<span class="n">scope</span><span class="p">.</span><span class="n">makeNotSelected</span><span class="w"> </span><span class="p">=</span><span class="w"> </span>!<span class="n">selectedMakeCode</span><span class="p">;</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span>$<span class="n">scope</span><span class="p">.</span><span class="n">makeNotSelected</span><span class="p">)</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span>$<span class="n">scope</span><span class="p">.</span><span class="n">model</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">{</span><span class="n">selected</span><span class="p">:</span><span class="w"> </span><span class="s">"0"</span><span class="p">};</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">};</span>

<span class="w">    </span>$<span class="n">scope</span><span class="p">.</span><span class="n">models</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span><span class="n">code</span><span class="p">:</span><span class="s">"0"</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">:</span><span class="s">"Select Model"</span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span><span class="n">code</span><span class="p">:</span><span class="s">"1"</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">:</span><span class="s">"Model1"</span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span><span class="n">code</span><span class="p">:</span><span class="s">"2"</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">:</span><span class="s">"Model2"</span><span class="p">}</span>
<span class="w">    </span><span class="p">];</span>
<span class="w">    </span>$<span class="n">scope</span><span class="p">.</span><span class="n">model</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">{</span><span class="n">selected</span><span class="p">:</span><span class="w"> </span><span class="s">"0"</span><span class="p">};</span>
<span class="p">}</span>
</pre></div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/angularjs/" rel="tag">angularjs</a></li>
            <li><a class="tag p-category" href="../../categories/html-select/" rel="tag">html-select</a></li>
            <li><a class="tag p-category" href="../../categories/javascript/" rel="tag">javascript</a></li>
            <li><a class="tag p-category" href="../../categories/ng-options/" rel="tag">ng-options</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../is-fortran-easier-to-optimize-than-c-for-heavy-calculations/" rel="prev" title="Is Fortran easier to optimize than C for heavy calculations?">Previous post</a>
            </li>
            <li class="next">
                <a href="../what-is-the-largest-tcp-ip-network-port-number-allowable-for-ipv4/" rel="next" title="What is the largest TCP/IP network port number allowable for IPv4?">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

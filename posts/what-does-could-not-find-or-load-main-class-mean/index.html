<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>What does "Could not find or load main class" mean? | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/what-does-could-not-find-or-load-main-class-mean/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../open-files-always-in-a-new-tab/" title="Open files always in a new tab" type="text/html">
<link rel="next" href="../how-do-i-prompt-for-yes-no-cancel-input-in-a-linux-shell-script/" title="How do I prompt for Yes/No/Cancel input in a Linux shell script?" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content='What does "Could not find or load main class" mean?'>
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/what-does-could-not-find-or-load-main-class-mean/">
<meta property="og:description" content="A common problem that new Java developers experience is that their programs
fail to run with the error message: Could not find or load main class ...
What does this mean, what causes it, and how shoul">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-17T00:08:38+08:00">
<meta property="article:tag" content="class">
<meta property="article:tag" content="java">
<meta property="article:tag" content="program-entry-point">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">What does "Could not find or load main class" mean?</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T00:08:38+08:00" itemprop="datePublished" title="2023-02-17 00:08">2023-02-17 00:08</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>A common problem that new Java developers experience is that their programs
fail to run with the error message: <code>Could not find or load main class ...</code></p>
<p>What does this mean, what causes it, and how should you fix it?</p>
<p><br><br></p>
<h2>Answer</h2>
<h3>The <code>java &lt;class-name&gt;</code> command syntax</h3>
<p>First of all, you need to understand the correct way to launch a program using
the <code>java</code> (or <code>javaw</code>) command.</p>
<p>The normal syntax1 is this:</p>
<div class="code"><pre class="code literal-block">    java [ &lt;options&gt; ] &lt;class-name&gt; [&lt;arg&gt; ...]
</pre></div>

<p>where <code>&lt;option&gt;</code> is a command line option (starting with a "-" character),
<code>&lt;class-name&gt;</code> is a fully qualified Java class name, and <code>&lt;arg&gt;</code> is an
arbitrary command line argument that gets passed to your application.</p>
<hr>
<p>1 - There are some other syntaxes which are described near the end of this
answer.</p>
<p>The fully qualified name (FQN) for the class is conventionally written as you
would in Java source code; e.g.</p>
<div class="code"><pre class="code literal-block">    packagename.packagename2.packagename3.ClassName
</pre></div>

<p>However some versions of the <code>java</code> command allow you to use slashes instead
of periods; e.g.</p>
<div class="code"><pre class="code literal-block">    packagename/packagename2/packagename3/ClassName
</pre></div>

<p>which (confusingly) looks like a file pathname, but isn't one. Note that the
term <em>fully qualified name</em> is standard Java terminology ... not something I
just made up to confuse you :-)</p>
<p>Here is an example of what a <code>java</code> command should look like:</p>
<div class="code"><pre class="code literal-block">    java -Xmx100m com.acme.example.ListUsers fred joe bert
</pre></div>

<p>The above is going to cause the <code>java</code> command to do the following:</p>
<ol>
<li>Search for the compiled version of the <code>com.acme.example.ListUsers</code> class.</li>
<li>Load the class.</li>
<li>Check that the class has a <code>main</code> method with <em>signature</em> , <em>return type</em> and <em>modifiers</em> given by <code>public static void main(String[])</code>. (Note, the method argument's name is <strong>NOT</strong> part of the signature.)</li>
<li>Call that method passing it the command line arguments ("fred", "joe", "bert") as a <code>String[]</code>.</li>
</ol>
<h3>Reasons why Java cannot find the class</h3>
<p>When you get the message "Could not find or load main class ...", that means
that the first step has failed. The <code>java</code> command was not able to find the
class. And indeed, the "..." in the message will be the <em>fully qualified class
name</em> that <code>java</code> is looking for.</p>
<p>So why might it be unable to find the class?</p>
<h3>Reason #1 - you made a mistake with the classname argument</h3>
<p>The first likely cause is that you may have provided the wrong class name. (Or
... the right class name, but in the wrong form.) Considering the example
above, here are a variety of <strong>wrong ways</strong> to specify the class name:</p>
<ul>
<li>Example #1 - a simple class name:<div class="code"><pre class="code literal-block">java ListUser
</pre></div>

</li>
</ul>
<p>When the class is declared in a package such as <code>com.acme.example</code>, then you
must use the full classname <em>including</em> the package name in the <code>java</code>
command; e.g.</p>
<div class="code"><pre class="code literal-block">    java com.acme.example.ListUser
</pre></div>

<ul>
<li>
<p>Example #2 - a filename or pathname rather than a class name:</p>
<div class="code"><pre class="code literal-block">java ListUser.class
</pre></div>

<p>java com/acme/example/ListUser.class</p>
</li>
<li>
<p>Example #3 - a class name with the casing incorrect:</p>
<div class="code"><pre class="code literal-block">java com.acme.example.listuser
</pre></div>

</li>
<li>
<p>Example #4 - a typo</p>
<div class="code"><pre class="code literal-block">java com.acme.example.mistuser
</pre></div>

</li>
<li>
<p>Example #5 - a source filename (except for Java 11 or later; see below)</p>
<div class="code"><pre class="code literal-block">java ListUser.java
</pre></div>

</li>
<li>
<p>Example #6 - you forgot the class name entirely</p>
<div class="code"><pre class="code literal-block">java lots of arguments
</pre></div>

</li>
</ul>
<h3>Reason #2 - the application's classpath is incorrectly specified</h3>
<p>The second likely cause is that the class name is correct, but that the <code>java</code>
command cannot find the class. To understand this, you need to understand the
concept of the "classpath". This is explained <em>well</em> by the Oracle
documentation:</p>
<ul>
<li>The <code>java</code> command documentation</li>
<li>Setting the Classpath.</li>
<li>The Java Tutorial - PATH and CLASSPATH</li>
</ul>
<p>So ... if you have specified the class name correctly, the next thing to check
is that you have specified the classpath correctly:</p>
<ol>
<li>Read the three documents linked above. (Yes ... READ them! It is important that a Java programmer <em>understands</em> at least the basics of how the Java classpath mechanisms works.)</li>
<li>Look at command line and / or the CLASSPATH environment variable that is in effect when you run the <code>java</code> command. Check that the directory names and JAR file names are correct.</li>
<li>If there are <em>relative</em> pathnames in the classpath, check that they resolve correctly ... from the current directory that is in effect when you run the <code>java</code> command.</li>
<li>Check that the class (mentioned in the error message) can be located on the <em>effective</em> classpath.</li>
<li>Note that the classpath syntax is <em>different</em> for Windows versus Linux and Mac OS. (The classpath separator is <code>;</code> on Windows and <code>:</code> on the others. If you use the wrong separator for your platform, you won't get an explicit error message. Instead, you will get a nonexistent file or directory on the path that will be silently ignored.)</li>
</ol>
<h3>Reason #2a - the wrong directory is on the classpath</h3>
<p>When you put a directory on the classpath, it notionally corresponds to the
root of the qualified name space. Classes are located in the directory
structure beneath that root, <em>by mapping the fully qualified name to a
pathname</em>. So for example, if "/usr/local/acme/classes" is on the class path,
then when the JVM looks for a class called <code>com.acme.example.Foon</code>, it will
look for a ".class" file with this pathname:</p>
<div class="code"><pre class="code literal-block">  /usr/local/acme/classes/com/acme/example/Foon.class
</pre></div>

<p>If you had put "/usr/local/acme/classes/com/acme/example" on the classpath,
then the JVM wouldn't be able to find the class.</p>
<h3>Reason #2b - the subdirectory path doesn't match the FQN</h3>
<p>If your classes FQN is <code>com.acme.example.Foon</code>, then the JVM is going to look
for "Foon.class" in the directory "com/acme/example":</p>
<ul>
<li>
<p>If your directory structure doesn't match the package naming as per the pattern above, the JVM won't find your class.</p>
</li>
<li>
<p>If you attempt <em>rename</em> a class by moving it, that will fail as well ... but the exception stacktrace will be different. It is liable to say something like this:</p>
<div class="code"><pre class="code literal-block">Caused by: java.lang.NoClassDefFoundError: &lt;path&gt; (wrong name: &lt;name&gt;)
</pre></div>

</li>
</ul>
<p>because the FQN in the class file doesn't match what the class loader is
expecting to find.</p>
<p>To give a concrete example, supposing that:</p>
<ul>
<li>you want to run <code>com.acme.example.Foon</code> class,</li>
<li>the full file path is <code>/usr/local/acme/classes/com/acme/example/Foon.class</code>,</li>
<li>your current working directory is <code>/usr/local/acme/classes/com/acme/example/</code>,</li>
</ul>
<p>then:</p>
<div class="code"><pre class="code literal-block"># wrong, FQN is needed
java Foon

# wrong, there is no `com/acme/example` folder in the current working directory
java com.acme.example.Foon

# wrong, similar to above
java -classpath . com.acme.example.Foon

# fine; relative classpath set
java -classpath ../../.. com.acme.example.Foon

# fine; absolute classpath set
java -classpath /usr/local/acme/classes com.acme.example.Foon
</pre></div>

<p>Notes:</p>
<ul>
<li>The <code>-classpath</code> option can be shortened to <code>-cp</code> in most Java releases. Check the respective manual entries for <code>java</code>, <code>javac</code> and so on.</li>
<li>Think carefully when choosing between absolute and relative pathnames in classpaths. Remember that a relative pathname may "break" if the current directory changes.</li>
</ul>
<h3>Reason #2c - dependencies missing from the classpath</h3>
<p>The classpath needs to include all of the <em>other</em> (non-system) classes that
your application depends on. (The system classes are located automatically,
and you rarely need to concern yourself with this.) For the main class to load
correctly, the JVM needs to find:</p>
<ul>
<li>the class itself.</li>
<li>all classes and interfaces in the superclass hierarchy (e.g. see Java class is present in classpath but startup fails with Error: Could not find or load main class)</li>
<li>all classes and interfaces that are referred to by means of variable or variable declarations, or method call or field access expressions.</li>
</ul>
<p>(Note: the JLS and JVM specifications allow some scope for a JVM to load
classes "lazily", and this can affect when a classloader exception is thrown.)</p>
<h3>Reason #3 - the class has been declared in the wrong package</h3>
<p>It occasionally happens that someone puts a source code file into the the
wrong folder in their source code tree, or they leave out the <code>package</code>
declaration. If you do this in an IDE, the IDE's compiler will tell you about
this immediately. Similarly if you use a decent Java build tool, the tool will
run <code>javac</code> in a way that will detect the problem. However, if you build your
Java code by hand, you can do it in such a way that the compiler doesn't
notice the problem, and the resulting ".class" file is not in the place that
you expect it to be.</p>
<h3>Still can't find the problem?</h3>
<p>There lots of things to check, and it is easy to miss something. Try adding
the <code>-Xdiag</code> option to the <code>java</code> command line (as the first thing after
<code>java</code>). It will output various things about class loading, and this may offer
you clues as to what the real problem is.</p>
<p>Also, consider possible problems caused by copying and pasting invisible or
non-ASCII characters from websites, documents and so on. And consider
"homoglyphs", where two letters or symbols look the same ... but aren't.</p>
<p>You may run into this problem if you have invalid or incorrect signatures in
<code>META-INF/*.SF</code>. You can try opening up the .jar in your favorite ZIP editor,
and removing files from <code>META-INF</code> until all you have is your <code>MANIFEST.MF</code>.
However this is NOT RECOMMENDED in general. (The invalid signature may be the
result of someone having injected malware into the original signed JAR file.
If you erase the invalid signature, you are in infecting your application with
the malware!) The recommended approach is to get hold of JAR files with valid
signatures, or rebuild them from the (authentic) original source code.</p>
<p>Finally, you can apparently run into this problem if there is a syntax error
in the <code>MANIFEST.MF</code> file (see https://stackoverflow.com/a/67145190/139985).</p>
<hr>
<h3>Alternative syntaxes for <code>java</code>
</h3>
<p>There are three alternative syntaxes for the launching Java programs using the
<code>java command</code>.</p>
<ol>
<li>The syntax used for launching an "executable" JAR file is as follows:<div class="code"><pre class="code literal-block">java [ &lt;options&gt; ] -jar &lt;jar-file-name&gt; [&lt;arg&gt; ...]
</pre></div>

</li>
</ol>
<p>e.g.</p>
<div class="code"><pre class="code literal-block">    java -Xmx100m -jar /usr/local/acme-example/listuser.jar fred
</pre></div>

<p>The name of the entry-point class (i.e. <code>com.acme.example.ListUser</code>) and the
classpath are specified in the MANIFEST of the JAR file.</p>
<ol>
<li>The syntax for launching an application from a module (Java 9 and later) is as follows:<div class="code"><pre class="code literal-block">java [ &lt;options&gt; ] --module &lt;module&gt;[/&lt;mainclass&gt;] [&lt;arg&gt; ...]
</pre></div>

</li>
</ol>
<p>The name of the entrypoint class is either defined by the <code>&lt;module&gt;</code> itself,
or is given by the optional <code>&lt;mainclass&gt;</code>.</p>
<ol>
<li>From Java 11 onwards, you can use the <code>java</code> command to compile and run a single source code file using the following syntax:<div class="code"><pre class="code literal-block">java [ &lt;options&gt; ] &lt;sourcefile&gt; [&lt;arg&gt; ...]
</pre></div>

</li>
</ol>
<p>where <code>&lt;sourcefile&gt;</code> is (typically) a file with the suffix ".java".</p>
<p>For more details, please refer to the official documentation for the <code>java</code>
command for the Java release that you are using.</p>
<hr>
<h3>IDEs</h3>
<p>A typical Java IDE has support for running Java applications in the IDE JVM
itself or in a child JVM. These are <em>generally</em> immune from this particular
exception, because the IDE uses its own mechanisms to construct the runtime
classpath, identify the main class and create the <code>java</code> command line.</p>
<p>However it is still possible for this exception to occur, if you do things
behind the back of the IDE. For example, if you have previously set up an
Application Launcher for your Java app in Eclipse, and you then moved the JAR
file containing the "main" class to a different place in the file system
<em>without telling Eclipse</em> , Eclipse would unwittingly launch the JVM with an
incorrect classpath.</p>
<p>In short, if you get this problem in an IDE, check for things like stale IDE
state, broken project references or broken launcher configurations.</p>
<p>It is also possible for an IDE to simply get confused. IDE's are hugely
complicated pieces of software comprising many interacting parts. Many of
these parts adopt various caching strategies in order to make the IDE as a
whole responsive. These can sometimes go wrong, and one possible symptom is
problems when launching applications. If you suspect this could be happening,
it is worth trying other things like restarting your IDE, rebuilding the
project and so on.</p>
<hr>
<h3>Other References</h3>
<ul>
<li>From the Oracle Java Tutorials - Common Problems (and Their Solutions)</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<p>If your source code name is HelloWorld.java, your compiled code will be
<code>HelloWorld.class</code>.</p>
<p>You will get that error if you call it using:</p>
<div class="code"><pre class="code literal-block">java HelloWorld.class
</pre></div>

<p>Instead, use this:</p>
<div class="code"><pre class="code literal-block">java HelloWorld
</pre></div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/class/" rel="tag">class</a></li>
            <li><a class="tag p-category" href="../../categories/java/" rel="tag">java</a></li>
            <li><a class="tag p-category" href="../../categories/program-entry-point/" rel="tag">program-entry-point</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../open-files-always-in-a-new-tab/" rel="prev" title="Open files always in a new tab">Previous post</a>
            </li>
            <li class="next">
                <a href="../how-do-i-prompt-for-yes-no-cancel-input-in-a-linux-shell-script/" rel="next" title="How do I prompt for Yes/No/Cancel input in a Linux shell script?">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

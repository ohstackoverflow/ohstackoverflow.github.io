<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>TDD 的 JavaScript 单元测试工具 | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/tdd-de-javascript-dan-yuan-ce-shi-gong-ju/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../ru-he-shi-yong-rails-qian-yi-shan-chu-lie/" title="如何使用 Rails 迁移删除列" type="text/html">
<link rel="next" href="../ru-he-bian-xie-dai-you-ke-xuan-shu-ru-can-shu-de-bash-jiao-ben/" title="如何编写带有可选输入参数的 bash 脚本？" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="TDD 的 JavaScript 单元测试工具">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/tdd-de-javascript-dan-yuan-ce-shi-gong-ju/">
<meta property="og:description" content="这个问题的答案是 社区的努力。编辑现有答案以改进这篇文章。它目前不接受新的答案或互动。
我研究并考虑了许多 JavaScript 单元测试和测试工具，但一直无法找到合适的选项来保持完全 TDD 兼容。那么，有没有完全兼容 TDD 的
JavaScript 单元测试工具呢？

解答
业力或量角器
Karma 是一个使用 Node.js 构建的 JavaScript 测试运行器，用于单元测试。
Pro">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-17T16:53:37+08:00">
<meta property="article:tag" content="javascript">
<meta property="article:tag" content="tdd">
<meta property="article:tag" content="unit-testing">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">TDD 的 JavaScript 单元测试工具</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T16:53:37+08:00" itemprop="datePublished" title="2023-02-17 16:53">2023-02-17 16:53</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p><strong>这个问题的答案是 社区的努力</strong>。编辑现有答案以改进这篇文章。它目前不接受新的答案或互动。</p>
<p>我研究并考虑了许多 JavaScript 单元测试和测试工具，但一直无法找到合适的选项来保持完全 TDD 兼容。那么，有没有完全兼容 TDD 的
JavaScript 单元测试工具呢？</p>
<p><br><br></p>
<h2>解答</h2>
<h3>业力或量角器</h3>
<p>Karma 是一个使用 Node.js 构建的 JavaScript 测试运行器，用于单元测试。</p>
<p>Protractor 用于端到端测试，并使用 Selenium Web Driver 来驱动测试。</p>
<p>两者都是由 Angular 团队制作的。您可以使用任何您想要的断言库。</p>
<p>截屏视频：Karma 入门</p>
<p><strong>相关</strong> ：</p>
<ul>
<li>我应该使用 Protractor 还是 Karma 进行端到端测试？</li>
<li>Protractor 和 Karma 可以一起使用吗？</li>
</ul>
<p><strong>优点</strong> ：</p>
<ul>
<li>使用Node.js，兼容Win/OS X/Linux</li>
<li>从浏览器或使用 PhantomJS 无头运行测试</li>
<li>一次在多个客户端上运行</li>
<li>启动、捕获和自动关闭浏览器的选项</li>
<li>在开发计算机上或单独运行服务器/客户端的选项</li>
<li>从命令行运行测试（可以集成到 ant/maven 中）</li>
<li>编写测试 xUnit 或 BDD 风格</li>
<li>支持多种 JavaScript 测试框架</li>
<li>保存时自动运行测试</li>
<li>代理请求跨域</li>
<li>可以定制： <ul>
<li>扩展它以包装其他测试框架（Jasmine、Mocha、QUnit 内置）</li>
<li>你自己的断言/反驳</li>
<li>记者</li>
<li>浏览器启动器</li>
</ul>
</li>
<li>WebStorm 插件</li>
<li>受 NetBeans IDE 支持</li>
</ul>
<p><strong>缺点</strong> ：</p>
<ul>
<li>不支持Node.js（即后端）测试</li>
<li>Eclipse 没有插件（还）</li>
<li>没有以前的测试结果的历史</li>
</ul>
<h2>摩卡.js</h2>
<p>我完全没有资格评论 mocha.js 的特性、优点和缺点，但它只是 JS 社区中我信任的人向我推荐的。</p>
<p>其网站所报告的功能列表：</p>
<ul>
<li>浏览器支持</li>
<li>简单的异步支持，包括承诺</li>
<li>测试覆盖率报告</li>
<li>字符串差异支持</li>
<li>用于运行测试的 JavaScript # API</li>
<li>CI 支持等的正确退出状态</li>
<li>自动检测并禁用非 ttys 的着色</li>
<li>将未捕获的异常映射到正确的测试用例</li>
<li>异步测试超时支持</li>
<li>特定于测试的超时</li>
<li>咆哮通知支持</li>
<li>报告测试持续时间</li>
<li>突出慢速测试</li>
<li>文件观察器支持</li>
<li>全局变量泄漏检测</li>
<li>可选择运行匹配正则表达式的测试</li>
<li>自动退出以防止活动循环“挂起”</li>
<li>轻松元生成套件和测试用例</li>
<li>mocha.opts 文件支持</li>
<li>可点击的套件标题来过滤测试执行</li>
<li>节点调试器支持</li>
<li>检测到对 done() 的多次调用</li>
<li>使用你想要的任何断言库</li>
<li>可扩展报告，与 9+ 记者捆绑</li>
<li>可扩展测试 DSL 或“接口”</li>
<li>在每个钩子之前、之后、每个钩子之前、之后</li>
<li>任意转译器支持（咖啡脚本等）</li>
<li>TextMate 捆绑包</li>
</ul>
<h3>yolpo</h3>
<p><img alt="yolpo" src="https://i.imgur.com/5HKEWSW.png"></p>
<blockquote>
<p>这不再存在，而是重定向到sequential.js</p>
</blockquote>
<p>Yolpo 是一个可视化 JavaScript 执行的工具。鼓励 JavaScript API 开发人员编写他们的用例来展示和讲述他们的
API。这些用例构成了回归测试的基础。</p>
<h3>艾娃</h3>
<p><img alt="艾娃标志" src="../../images/43HiK.png"></p>
<p>内置支持 ES2015 的未来测试运行器。尽管 JavaScript 是单线程的，但由于其异步特性，Node.js 中的 I/O 可以并行发生。AVA
利用这一点并同时运行您的测试，这对于 I/O 繁重的测试特别有益。此外，测试文件作为单独的进程并行运行，为您提供更好的性能和每个测试文件的隔离环境。</p>
<ul>
<li>最小和快速</li>
<li>简单的测试语法</li>
<li>同时运行测试</li>
<li>强制编写原子测试</li>
<li>没有隐式全局变量</li>
<li>每个测试文件的隔离环境</li>
<li>在 ES2015 中编写测试</li>
<li>承诺支持</li>
<li>生成器功能支持</li>
<li>Async function support</li>
<li>Observable support</li>
<li>Enhanced asserts</li>
<li>Optional TAP o utput</li>
<li>Clean stack traces</li>
</ul>
<h3>Buster.js</h3>
<p>A JavaScript test-runner built with Node.js. Very modular and flexible. It
comes with its own assertion library, but you can add your own if you like.
The assertions library is decoupled, so you can also use it with other test-
runners. Instead of using <code>assert(!...)</code> or <code>expect(...).not...</code>, it uses
<code>refute(...)</code> which is a nice twist imho.</p>
<blockquote>
<p>A browser JavaScript testing toolkit. It does browser testing with browser
automation (think JsTestDriver), QUnit style static HTML page testing,
testing in headless browsers (PhantomJS, jsdom, ...), and more. Take a look
at the overview!</p>
<p>A Node.js testing toolkit. You get the same test case library, assertion
library, etc. This is also great for hybrid browser and Node.js code. Write
your test case with <code>Buster.JS</code> and run it both in Node.js and in a real
browser.</p>
</blockquote>
<p>Screencast: Buster.js Getting started (2:45)</p>
<p><strong>pros</strong> :</p>
<ul>
<li>Uses Node.js, so compatible with Win/OS X/Linux</li>
<li>Run tests from a browser or headless with PhantomJS (soon)</li>
<li>Run on multiple clients at once</li>
<li>Supports Node.js testing</li>
<li>Don't need to run server/clients on development computer (no need for IE)</li>
<li>Run tests from a command line (can be integrated into ant/maven)</li>
<li>Write tests xUnit or BDD style</li>
<li>Supports multiple JavaScript test frameworks</li>
<li>Defer tests instead of commenting them out</li>
<li>SinonJS built-in</li>
<li>Auto-run tests on save</li>
<li>Proxies requests cross-domain</li>
<li>Possible to customize: <ul>
<li>Extend it to wrap other test-frameworks (JsTestDriver built in)</li>
<li>Your own assertions/refutes</li>
<li>Reporters (xUnit XML, traditional dots, specification, tap, TeamCity and more built-in)</li>
<li>Customize/replace the HTML that is used to run the browser-tests</li>
</ul>
</li>
<li>TextMate and Emacs integration</li>
</ul>
<p><strong>Cons</strong> :</p>
<ul>
<li>Stil in beta so can be buggy</li>
<li>No plugin for Eclipse/IntelliJ (yet)</li>
<li>Doesn't group results by os/browser/version like TestSwarm *. It does, however, print out the browser name and version in the test results.</li>
<li>No history of previous test results like TestSwarm *</li>
<li>
<p>Doesn't fully work on windows as of May 2014</p>
</li>
<li>
<p>TestSwarm is also a Continuous Integration server, while you need a separate CI server for <code>Buster.js</code>. It does, however, output xUnit XML reports, so it should be easy to integrate with Hudson, Bamboo or other CI servers.</p>
</li>
</ul>
<h3>TestSwarm</h3>
<p>https://github.com/jquery/testswarm</p>
<p>TestSwarm is officially no longer under active development as stated on their
GitHub webpage. They recommend Karma, browserstack-runner, or Intern.</p>
<h3>Jasmine</h3>
<p><img alt="茉莉花" src="https://jasmine.github.io/images/jasmine-purple-horizontal.svg"></p>
<p>This is a behavior-driven framework (as stated in quote below) that might
interest developers familiar with Ruby or Ruby on Rails. The syntax is based
on RSpec that are used for testing in Rails projects.</p>
<p>Jasmine specs can be run from an HTML page (in qUnit fashion) or from a test
runner (as Karma).</p>
<blockquote>
<p>Jasmine is a behavior-driven development framework for testing your
JavaScript code. It does not depend on any other JavaScript frameworks. It
does not require a DOM.</p>
</blockquote>
<p>If you have experience with this testing framework, please contribute with
more info :)</p>
<p>Project home: http://jasmine.github.io/</p>
<h3>QUnit</h3>
<p>QUnit focuses on testing JavaScript in the browser while providing as much
convenience to the developer as possible. Blurb from the site:</p>
<blockquote>
<p>QUnit is a powerful, easy-to-use JavaScript unit test suite. It's used by
the jQuery, jQuery UI, and jQuery Mobile projects and is capable of testing
any generic JavaScript code</p>
</blockquote>
<p>QUnit shares some history with TestSwarm (above):</p>
<blockquote>
<p>QUnit was originally developed by John Resig as part of jQuery. In 2008 it
got its own home, name and API documentation, allowing others to use it for
their unit testing as well. At the time it still depended on jQuery. A
rewrite in 2009 fixed that, now QUnit runs completely standalone. QUnit's
assertion methods follow the CommonJS Unit Testing specification, which was
to some degree influenced by QUnit.</p>
</blockquote>
<p>Project home: http://qunitjs.com/</p>
<h3>Sinon</h3>
<p>Another great tool is sinon.js by Christian Johansen, the author of Test-
Driven JavaScript Development. Best described by himself:</p>
<blockquote>
<p>Standalone test spies, stubs and mocks for JavaScript. No dependencies works
with any unit testing framework.</p>
</blockquote>
<h3>Intern</h3>
<p>The Intern Web site provides a direct feature comparison to the other testing
frameworks on this list. It offers more features out of the box than any other
JavaScript-based testing system.</p>
<h3>JEST</h3>
<p>A new but yet very powerful testing framework. It allows snapshot based
testing as well this increases the testing speed and creates a new dynamic in
terms of testing</p>
<p>Check out one of their talks: https://www.youtube.com/watch?v=cAKYQpTC7MA</p>
<p>Better yet: Getting Started</p>
<p><br></p>
<h3>更多建议</h3>
<p>看看Dojo Object Harness (DOH) 单元测试框架，它几乎是用于 JavaScript 单元测试的框架独立工具，并且没有任何 Dojo
依赖项。在使用 Dojo Objective Harness 对 Web 2.0 应用程序进行单元测试时对此有很好的描述。</p>
<p>如果你想自动化 UI 测试（许多开发人员的痛点）——检查doh.robot  <em>（暂时下线。更新：其他链接
http://dojotoolkit.org/reference-guide/util/dohrobot.html）_和dijit .robotx
</em>（暂时下）_ 。后者专为验收测试而设计。更新：</p>
<p>参考文章解释了如何使用它们，如何模拟用户使用鼠标和/或键盘与您的 UI 交互，以及如何记录测试会话，以便您稍后可以自动“播放”它。</p>
<p><br><br><a href="../javascript-unit-test-tools-for-tdd/">查看原文</a></p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/javascript/" rel="tag">javascript</a></li>
            <li><a class="tag p-category" href="../../categories/tdd/" rel="tag">tdd</a></li>
            <li><a class="tag p-category" href="../../categories/unit-testing/" rel="tag">unit-testing</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../ru-he-shi-yong-rails-qian-yi-shan-chu-lie/" rel="prev" title="如何使用 Rails 迁移删除列">Previous post</a>
            </li>
            <li class="next">
                <a href="../ru-he-bian-xie-dai-you-ke-xuan-shu-ru-can-shu-de-bash-jiao-ben/" rel="next" title="如何编写带有可选输入参数的 bash 脚本？">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

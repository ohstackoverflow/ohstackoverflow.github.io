<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Prevent users from submitting a form by hitting Enter | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/prevent-users-from-submitting-a-form-by-hitting-enter/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../how-do-i-remove-version-tracking-from-a-project-cloned-from-git/" title="How do I remove version tracking from a project cloned from git?" type="text/html">
<link rel="next" href="../can-t-find-the-libpq-fe-h-header-when-trying-to-install-pg-gem/" title="Can't find the 'libpq-fe.h header when trying to install pg gem" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="Prevent users from submitting a form by hitting Enter">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/prevent-users-from-submitting-a-form-by-hitting-enter/">
<meta property="og:description" content="I have a survey on a website, and there seems to be some issues with the users
hitting enter (I don't know why) and accidentally submitting the survey (form)
without clicking the submit button. Is the">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-17T08:40:27+08:00">
<meta property="article:tag" content="form-submit">
<meta property="article:tag" content="forms">
<meta property="article:tag" content="html">
<meta property="article:tag" content="jquery">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Prevent users from submitting a form by hitting Enter</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T08:40:27+08:00" itemprop="datePublished" title="2023-02-17 08:40">2023-02-17 08:40</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>I have a survey on a website, and there seems to be some issues with the users
hitting enter (I don't know why) and accidentally submitting the survey (form)
without clicking the submit button. Is there a way to prevent this?</p>
<p>I'm using HTML, PHP 5.2.9, and jQuery on the survey.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can use a method such as</p>
<div class="code"><pre class="code literal-block">$<span class="ss">(</span><span class="nv">document</span><span class="ss">)</span>.<span class="nv">ready</span><span class="ss">(</span><span class="nv">function</span><span class="ss">()</span><span class="w"> </span>{
<span class="w">  </span>$<span class="ss">(</span><span class="nv">window</span><span class="ss">)</span>.<span class="nv">keydown</span><span class="ss">(</span><span class="nv">function</span><span class="ss">(</span><span class="nv">event</span><span class="ss">)</span>{
<span class="w">    </span><span class="k">if</span><span class="ss">(</span><span class="nv">event</span>.<span class="nv">keyCode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">13</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">      </span><span class="nv">event</span>.<span class="nv">preventDefault</span><span class="ss">()</span><span class="c1">;</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nv">false</span><span class="c1">;</span>
<span class="w">    </span>}
<span class="w">  </span>}<span class="ss">)</span><span class="c1">;</span>
}<span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p>In reading the comments on the original post, to make it more usable and allow
people to press <code>Enter</code> if they have completed all the fields:</p>
<div class="code"><pre class="code literal-block"><span class="nv">function</span><span class="w"> </span><span class="nv">validationFunction</span><span class="ss">()</span><span class="w"> </span>{
<span class="w">  </span>$<span class="ss">(</span><span class="s1">'input'</span><span class="ss">)</span>.<span class="nv">each</span><span class="ss">(</span><span class="nv">function</span><span class="ss">()</span><span class="w"> </span>{
<span class="w">    </span>...

<span class="w">  </span>}
<span class="w">  </span><span class="k">if</span><span class="ss">(</span><span class="nv">good</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">true</span><span class="c1">;</span>
<span class="w">  </span>}
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nv">false</span><span class="c1">;</span>
}

$<span class="ss">(</span><span class="nv">document</span><span class="ss">)</span>.<span class="nv">ready</span><span class="ss">(</span><span class="nv">function</span><span class="ss">()</span><span class="w"> </span>{
<span class="w">  </span>$<span class="ss">(</span><span class="nv">window</span><span class="ss">)</span>.<span class="nv">keydown</span><span class="ss">(</span><span class="nv">function</span><span class="ss">(</span><span class="nv">event</span><span class="ss">)</span>{
<span class="w">    </span><span class="k">if</span><span class="ss">(</span><span class="w"> </span><span class="ss">(</span><span class="nv">event</span>.<span class="nv">keyCode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">13</span><span class="ss">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="ss">(</span><span class="nv">validationFunction</span><span class="ss">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">false</span><span class="ss">)</span><span class="w"> </span><span class="ss">)</span><span class="w"> </span>{
<span class="w">      </span><span class="nv">event</span>.<span class="nv">preventDefault</span><span class="ss">()</span><span class="c1">;</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nv">false</span><span class="c1">;</span>
<span class="w">    </span>}
<span class="w">  </span>}<span class="ss">)</span><span class="c1">;</span>
}<span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<h3>Disallow enter key anywhere</h3>
<p>If you don't have a <code>&lt;textarea&gt;</code> in your form, then just add the following to
your <code>&lt;form&gt;</code>:</p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;</span><span class="nv">form</span><span class="w"> </span>...<span class="w"> </span><span class="nv">onkeydown</span><span class="o">=</span><span class="s2">"return event.key != 'Enter';"</span><span class="o">&gt;</span>
</pre></div>

<p>Or with jQuery:</p>
<div class="code"><pre class="code literal-block">$<span class="ss">(</span><span class="nv">document</span><span class="ss">)</span>.<span class="nv">on</span><span class="ss">(</span><span class="s2">"keydown"</span>,<span class="w"> </span><span class="s2">"form"</span>,<span class="w"> </span><span class="nv">function</span><span class="ss">(</span><span class="nv">event</span><span class="ss">)</span><span class="w"> </span>{<span class="w"> </span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">event</span>.<span class="nv">key</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s2">"Enter"</span><span class="c1">;</span>
}<span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p>This will cause that every key press inside the form will be checked on the
<code>key</code>. If it is not <code>Enter</code>, then it will return <code>true</code> and anything continue
as usual. If it is <code>Enter</code>, then it will return <code>false</code> and anything will stop
immediately, so the form won't be submitted.</p>
<p>The <code>keydown</code> event is preferred over <code>keyup</code> as the <code>keyup</code> is too late to
block form submit. Historically there was also the <code>keypress</code>, but this is
deprecated, as is the <code>KeyboardEvent.keyCode</code>. You should use
<code>KeyboardEvent.key</code> instead which returns the name of the key being pressed.
When <code>Enter</code> is checked, then this would check 13 (normal enter) as well as
108 (numpad enter).</p>
<p>Note that <code>$(window)</code> as suggested in some other answers instead of
<code>$(document)</code> doesn't work for <code>keydown</code>/<code>keyup</code> in IE&lt;=8, so that's not a
good choice if you're like to cover those poor users as well.</p>
<h3>Allow enter key on textareas only</h3>
<p>If you have a <code>&lt;textarea&gt;</code> in your form (which of course <em>should</em> accept the
Enter key), then add the keydown handler to every individual input element
which isn't a <code>&lt;textarea&gt;</code>.</p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;</span><span class="nv">input</span><span class="w"> </span>...<span class="w"> </span><span class="nv">onkeydown</span><span class="o">=</span><span class="s2">"return event.key != 'Enter';"</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nv">select</span><span class="w"> </span>...<span class="w"> </span><span class="nv">onkeydown</span><span class="o">=</span><span class="s2">"return event.key != 'Enter';"</span><span class="o">&gt;</span>
...
</pre></div>

<p>To reduce boilerplate, this is better to be done with jQuery:</p>
<div class="code"><pre class="code literal-block"><span class="o">$(</span><span class="nt">document</span><span class="o">)</span><span class="p">.</span><span class="nc">on</span><span class="o">(</span><span class="s2">"keydown"</span><span class="o">,</span><span class="w"> </span><span class="s2">":input:not(textarea)"</span><span class="o">,</span><span class="w"> </span><span class="nt">function</span><span class="o">(</span><span class="nt">event</span><span class="o">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">return</span><span class="w"> </span><span class="err">event.key</span><span class="w"> </span><span class="err">!=</span><span class="w"> </span><span class="err">"Enter"</span><span class="p">;</span>
<span class="p">}</span><span class="o">);</span>
</pre></div>

<p>If you have other event handler functions attached on those input elements,
which you'd also like to invoke on enter key for some reason, then only
prevent event's default behavior instead of returning false, so it can
properly propagate to other handlers.</p>
<div class="code"><pre class="code literal-block"><span class="o">$(</span><span class="nt">document</span><span class="o">)</span><span class="p">.</span><span class="nc">on</span><span class="o">(</span><span class="s2">"keydown"</span><span class="o">,</span><span class="w"> </span><span class="s2">":input:not(textarea)"</span><span class="o">,</span><span class="w"> </span><span class="nt">function</span><span class="o">(</span><span class="nt">event</span><span class="o">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">if</span><span class="w"> </span><span class="err">(event.key</span><span class="w"> </span><span class="err">==</span><span class="w"> </span><span class="err">"Enter")</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="err">event.preventDefault()</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="err">}</span><span class="o">);</span>
</pre></div>

<h3>Allow enter key on textareas and submit buttons only</h3>
<p>If you'd like to allow enter key on submit buttons <code>&lt;input|button
type="submit"&gt;</code> too, then you can always refine the selector as below.</p>
<div class="code"><pre class="code literal-block"><span class="o">$(</span><span class="nt">document</span><span class="o">)</span><span class="p">.</span><span class="nc">on</span><span class="o">(</span><span class="s2">"keydown"</span><span class="o">,</span><span class="w"> </span><span class="s2">":input:not(textarea):not(:submit)"</span><span class="o">,</span><span class="w"> </span><span class="nt">function</span><span class="o">(</span><span class="nt">event</span><span class="o">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">...</span>
<span class="p">}</span><span class="o">);</span>
</pre></div>

<p>Note that <code>input[type=text]</code> as suggested in some other answers doesn't cover
those HTML5 non-text inputs, so that's not a good selector.</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/form-submit/" rel="tag">form-submit</a></li>
            <li><a class="tag p-category" href="../../categories/forms/" rel="tag">forms</a></li>
            <li><a class="tag p-category" href="../../categories/html/" rel="tag">html</a></li>
            <li><a class="tag p-category" href="../../categories/jquery/" rel="tag">jquery</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../how-do-i-remove-version-tracking-from-a-project-cloned-from-git/" rel="prev" title="How do I remove version tracking from a project cloned from git?">Previous post</a>
            </li>
            <li class="next">
                <a href="../can-t-find-the-libpq-fe-h-header-when-trying-to-install-pg-gem/" rel="next" title="Can't find the 'libpq-fe.h header when trying to install pg gem">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

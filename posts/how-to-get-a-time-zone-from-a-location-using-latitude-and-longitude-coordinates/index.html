<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>How to get a time zone from a location using latitude and longitude coordinates? | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/how-to-get-a-time-zone-from-a-location-using-latitude-and-longitude-coordinates/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../how-can-i-use-async-await-at-the-top-level/" title="How can I use async/await at the top level?" type="text/html">
<link rel="next" href="../vim-80-column-layout-concerns/" title="Vim 80 column layout concerns" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="How to get a time zone from a location using latitude and longitude co">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/how-to-get-a-time-zone-from-a-location-using-latitude-and-longitude-coordinates/">
<meta property="og:description" content="Given the latitude and longitude of a location, how does one know what time
zone is in effect in that location?
In most cases, we are looking for an IANA/Olson time zone id, although some
services may">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-03-03T15:05:14+08:00">
<meta property="article:tag" content="geolocation">
<meta property="article:tag" content="latitude-longitude">
<meta property="article:tag" content="timezone">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">How to get a time zone from a location using latitude and longitude coordinates?</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T15:05:14+08:00" itemprop="datePublished" title="2023-03-03 15:05">2023-03-03 15:05</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>Given the latitude and longitude of a location, how does one know what time
zone is in effect in that location?</p>
<p>In most cases, we are looking for an IANA/Olson time zone id, although some
services may return just a UTC offset, or some other time zone identifier.
Please read the timezone tag info for details.</p>
<p><br><br></p>
<h2>Answer</h2>
<p><strong>Time Zone Location Web Services</strong></p>
<ul>
<li>Google Maps Time Zone API</li>
<li>Bing Maps Time Zone API</li>
<li>Azure Maps Time Zone API</li>
<li>GeoNames Time Zone API</li>
<li>TimeZoneDB API</li>
<li>AskGeo - commercial (but arguably more accurate than GeoNames)</li>
<li>GeoGarage Time Zone API - commercial, focusing on Nautical time zones.</li>
</ul>
<p><strong>Raw Time Zone Boundary Data</strong></p>
<ul>
<li>Timezone Boundary Builder - builds time zone shapefiles from OpenStreetMaps map data. Includes territorial waters near coastlines.</li>
</ul>
<p>The following projects have previously been sources of time zone boundary
data, but are no longer actively maintained.</p>
<ul>
<li>tz_world - the original shapefile data from Eric Muller</li>
<li>whereonearth-timezone - GeoJSON version with WOEDB data merged in</li>
</ul>
<p><strong>Time Zone Geolocation Offline Implementations</strong></p>
<p>Implementations that use the Timezone Boundary Builder data</p>
<ul>
<li>node-geo-tz - JavaScript library (Node.js only)</li>
<li>timespace - JavaScript library</li>
<li>tz-lookup-oss - JavaScript library</li>
<li>GeoTimeZone - .NET library</li>
<li>Geo-Timezone - PHP library</li>
<li>timezonefinder - Python library</li>
<li>ZoneDetect - C library</li>
<li>Timeshape - Java library</li>
<li>TimeZoneMap - Java and Android library</li>
<li>lutz - R library</li>
<li>go-tz - Go library</li>
<li>Timezone lookup - Go library</li>
<li>docker-timezone-lookup - docker container wrapping node-geo-tz</li>
<li>tzf - Go library</li>
<li>tzfpy - Python port of <code>tzf</code> library</li>
<li>tzf-rs - Rust port of <code>tzf</code> library</li>
</ul>
<p>Implementations that use the older tz_world data</p>
<ul>
<li>latlong - Go library (Read this post also.)</li>
<li>TimeZoneMapper - Java library</li>
<li>tzwhere - JavaScript/Node library</li>
<li>pytzwhere - Python library</li>
<li>timezone_finder - Ruby library</li>
<li>LatLongToTimeZone - Java and Swift libraries</li>
<li>What Time is it here? - Blog post describing PHP and MongoDB</li>
<li>rundel/timezone - R library</li>
</ul>
<p><strong>Libraries that call one of the web services</strong></p>
<ul>
<li>timezone - Ruby gem that calls GeoNames</li>
<li>AskGeo has its own libraries for calling from Java or .Net</li>
<li>GeoNames has client libraries for just about everything</li>
</ul>
<p><strong>Self-hosted web services</strong></p>
<ul>
<li>geo2tz - based on Timezone lookup, available via Docker image</li>
</ul>
<p><strong>Other Ideas</strong></p>
<ul>
<li>Find the nearest city with an R-Tree</li>
<li>Find the nearest city with MySQL</li>
</ul>
<p><em>Please update this list if you know of any others</em></p>
<p>Also, note that the nearest-city approach may not yield the "correct" result,
just an approximation.</p>
<p><strong>Conversion To Windows Zones</strong></p>
<p>Most of the methods listed will return an IANA time zone id. If you need to
convert to a Windows time zone for use with the <code>TimeZoneInfo</code> class in .NET,
use the TimeZoneConverter library.</p>
<p><strong>Don't use zone.tab</strong></p>
<p>The tz database includes a file called <code>zone.tab</code>. This file is primarily used
to present a list of time zones for a user to pick from. It includes the
latitude and longitude coordinates for the point of reference for each time
zone. This allows a map to be created highlighting these points. For example,
see the interactive map shown on the moment-timezone home page.</p>
<p>While it may be tempting to use this data to resolve the time zone from a
latitude and longitude coordinates, consider that these are points - not
boundaries. The best one could do would be to determine the <em>closest</em> point,
which in many cases will not be the correct point.</p>
<p>Consider the following example:</p>
<p><img alt="Time Zone Example Art" src="../../images/tjd5u.png"></p>
<p>The two squares represent different time zones, where the black dot in each
square is the reference location, such as what can be found in zone.tab. The
blue dot represents the location we are attempting to find a time zone for.
Clearly, this location is within the orange zone on the left, but if we just
look at closest distance to the reference point, it will resolve to the
greenish zone on the right.</p>
<p><br></p>
<h3>Suggest</h3>
<p>How about this solution for node.js https://github.com/mattbornski/tzwhere</p>
<p>And its Python counterpart: https://github.com/pegler/pytzwhere</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/geolocation/" rel="tag">geolocation</a></li>
            <li><a class="tag p-category" href="../../categories/latitude-longitude/" rel="tag">latitude-longitude</a></li>
            <li><a class="tag p-category" href="../../categories/timezone/" rel="tag">timezone</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../how-can-i-use-async-await-at-the-top-level/" rel="prev" title="How can I use async/await at the top level?">Previous post</a>
            </li>
            <li class="next">
                <a href="../vim-80-column-layout-concerns/" rel="next" title="Vim 80 column layout concerns">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Fixed position but relative to container | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/fixed-position-but-relative-to-container/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../restful-authentication/" title="RESTful Authentication" type="text/html">
<link rel="next" href="../how-to-convert-a-byte-array-to-a-hex-string-in-java/" title="How to convert a byte array to a hex string in Java?" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="Fixed position but relative to container">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/fixed-position-but-relative-to-container/">
<meta property="og:description" content="I am trying to fix a div so it always sticks to the top of the screen,
using:
position: fixed;
top: 0px;
right: 0px;


However, the div is inside a centered container. When I use position:fixed
it fix">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-17T13:30:59+08:00">
<meta property="article:tag" content="css">
<meta property="article:tag" content="css-position">
<meta property="article:tag" content="fixed">
<meta property="article:tag" content="position">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Fixed position but relative to container</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T13:30:59+08:00" itemprop="datePublished" title="2023-02-17 13:30">2023-02-17 13:30</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>I am trying to fix a <code>div</code> so it always sticks to the top of the screen,
using:</p>
<div class="code"><pre class="code literal-block"><span class="n">position</span><span class="o">:</span><span class="w"> </span><span class="n">fixed</span><span class="o">;</span>
<span class="n">top</span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="n">px</span><span class="o">;</span>
<span class="n">right</span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="n">px</span><span class="o">;</span>
</pre></div>

<p>However, the <code>div</code> is inside a centered container. When I use <code>position:fixed</code>
it fixes the <code>div</code> relative to the browser window, such as it's up against the
right side of the browser. Instead, it should be fixed relative to the
container.</p>
<p>I know that <code>position:absolute</code> can be used to fix an element relative to the
<code>div</code>, but when you scroll down the page the element vanishes and doesn't
stick to the top as with <code>position:fixed</code>.</p>
<p>Is there a hack or workaround to achieve this?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Short answer: <del>no.</del> (It is now possible with CSS transform. See the edit
below)</p>
<p>Long answer: The problem with using "fixed" positioning is that it takes the
element <strong>out of flow</strong>. thus it can't be re-positioned relative to its parent
because it's as if it didn't have one. If, however, the container is of a
fixed, known width, you can use something like:</p>
<div class="code"><pre class="code literal-block"><span class="p">#</span><span class="nn">fixedContainer</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">position</span><span class="p">:</span><span class="w"> </span><span class="kc">fixed</span><span class="p">;</span>
<span class="w">  </span><span class="k">width</span><span class="p">:</span><span class="w"> </span><span class="mi">600</span><span class="kt">px</span><span class="p">;</span>
<span class="w">  </span><span class="k">height</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="kt">px</span><span class="p">;</span>
<span class="w">  </span><span class="k">left</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="kt">%</span><span class="p">;</span>
<span class="w">  </span><span class="k">top</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="kt">%</span><span class="p">;</span>
<span class="w">  </span><span class="k">margin-left</span><span class="p">:</span><span class="w"> </span><span class="mi">-300</span><span class="kt">px</span><span class="p">;</span><span class="w"> </span><span class="c">/*half the width*/</span>
<span class="p">}</span>
</pre></div>

<p>http://jsfiddle.net/HFjU6/1/</p>
<h4>Edit (03/2015):</h4>
<p>This is outdated information. It is now possible to center content of an
dynamic size (horizontally and vertically) with the help of the magic of CSS3
transform. The same principle applies, but instead of using margin to offset
your container, you can use <code>translateX(-50%)</code>. This doesn't work with the
above margin trick because you don't know how much to offset it unless the
width is fixed and you can't use relative values (like <code>50%</code>) because it will
be relative to the parent and not the element it's applied to. <code>transform</code>
behaves differently. Its values are relative to the element they are applied
to. Thus, <code>50%</code> for <code>transform</code> means half the width of the element, while
<code>50%</code> for margin is half of the parent's width. This is an IE9+ solution</p>
<p>Using similar code to the above example, I recreated the same scenario using
completely dynamic width and height:</p>
<div class="code"><pre class="code literal-block"><span class="p">.</span><span class="nc">fixedContainer</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">background-color</span><span class="p">:</span><span class="mh">#ddd</span><span class="p">;</span>
<span class="w">    </span><span class="k">position</span><span class="p">:</span><span class="w"> </span><span class="kc">fixed</span><span class="p">;</span>
<span class="w">    </span><span class="k">padding</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="kt">em</span><span class="p">;</span>
<span class="w">    </span><span class="k">left</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="kt">%</span><span class="p">;</span>
<span class="w">    </span><span class="k">top</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="kt">%</span><span class="p">;</span>
<span class="w">    </span><span class="k">transform</span><span class="p">:</span><span class="w"> </span><span class="nb">translateX</span><span class="p">(</span><span class="nv">-50</span><span class="err">%</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

<p>If you want it to be centered, you can do that too:</p>
<div class="code"><pre class="code literal-block"><span class="p">.</span><span class="nc">fixedContainer</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">background-color</span><span class="p">:</span><span class="mh">#ddd</span><span class="p">;</span>
<span class="w">    </span><span class="k">position</span><span class="p">:</span><span class="w"> </span><span class="kc">fixed</span><span class="p">;</span>
<span class="w">    </span><span class="k">padding</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="kt">em</span><span class="p">;</span>
<span class="w">    </span><span class="k">left</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="kt">%</span><span class="p">;</span>
<span class="w">    </span><span class="k">top</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="kt">%</span><span class="p">;</span>
<span class="w">    </span><span class="k">transform</span><span class="p">:</span><span class="w"> </span><span class="nb">translate</span><span class="p">(</span><span class="nv">-50</span><span class="err">%</span><span class="p">,</span><span class="w"> </span><span class="nv">-50</span><span class="err">%</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

<h4>Demos:</h4>
<p>jsFiddle: Centered horizontally only<br>
jsFiddle: Centered both horizontally and vertically<br>
Original credit goes to user aaronk6 for pointing it out to me in this answer</p>
<p><br></p>
<h3>Suggest</h3>
<p>Actually this is possible and the accepted answer only deals with
centralising, which is straightforward enough. Also you really don't need to
use JavaScript.</p>
<h4>This will let you deal with any scenario:</h4>
<p>Set everything up as you would if you want to position: absolute inside a
position: relative container, and then create a new fixed position div inside
the div with <code>position: absolute</code>, but do <strong>not</strong> set its top and left
properties. It will then be fixed wherever you want it, relative to the
container.</p>
<p>For example:</p>
<div class="code"><pre class="code literal-block">/*<span class="w"> </span>Main<span class="w"> </span>site<span class="w"> </span>body<span class="w"> </span>*/
.wrapper<span class="w"> </span>{
<span class="w">    </span>width:<span class="w"> </span>940px;
<span class="w">    </span>margin:<span class="w"> </span>0<span class="w"> </span>auto;
<span class="w">    </span>position:<span class="w"> </span>relative;<span class="w"> </span>/*<span class="w"> </span>Ensure<span class="w"> </span>absolute<span class="w"> </span>positioned<span class="w"> </span>child<span class="w"> </span>elements<span class="w"> </span>are<span class="w"> </span>relative<span class="w"> </span>to<span class="w"> </span>this*/
}

/*<span class="w"> </span>Absolute<span class="w"> </span>positioned<span class="w"> </span>wrapper<span class="w"> </span>for<span class="w"> </span>the<span class="w"> </span>element<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>fix<span class="w"> </span>position<span class="w"> </span>*/
.fixed-wrapper<span class="w"> </span>{
<span class="w">    </span>width:<span class="w"> </span>220px;
<span class="w">    </span>position:<span class="w"> </span>absolute;
<span class="w">    </span>top:<span class="w"> </span>0;
<span class="w">    </span>left:<span class="w"> </span>-240px;<span class="w"> </span>/*<span class="w"> </span>Move<span class="w"> </span>this<span class="w"> </span>out<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>left<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>site<span class="w"> </span>body,<span class="w"> </span>leaving<span class="w"> </span>a<span class="w"> </span>20px<span class="w"> </span>gutter<span class="w"> </span>*/
}

/*<span class="w"> </span>The<span class="w"> </span>element<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span>fix<span class="w"> </span>the<span class="w"> </span>position<span class="w"> </span>of<span class="w"> </span>*/
.fixed<span class="w"> </span>{
<span class="w">    </span>width:<span class="w"> </span>220px;
<span class="w">    </span>position:<span class="w"> </span>fixed;
<span class="w">    </span>/*<span class="w"> </span>Do<span class="w"> </span>not<span class="w"> </span>set<span class="w"> </span>top<span class="w"> </span>/<span class="w"> </span>left!<span class="w"> </span>*/
}


<span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"wrapper"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"fixed-wrapper"</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"fixed"</span><span class="nt">&gt;</span>
<span class="w">            </span>Content<span class="w"> </span>in<span class="w"> </span>here<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>fixed<span class="w"> </span>position,<span class="w"> </span>but<span class="w"> </span>240px<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>left<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>site<span class="w"> </span>body.
<span class="w">        </span><span class="nt">&lt;/div&gt;</span>
<span class="w">    </span><span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p>Sadly, I was hoping this thread might solve my issue with Android's WebKit
rendering box-shadow blur pixels as margins on fixed position elements, but it
seems it's a bug.</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/css/" rel="tag">css</a></li>
            <li><a class="tag p-category" href="../../categories/css-position/" rel="tag">css-position</a></li>
            <li><a class="tag p-category" href="../../categories/fixed/" rel="tag">fixed</a></li>
            <li><a class="tag p-category" href="../../categories/position/" rel="tag">position</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../restful-authentication/" rel="prev" title="RESTful Authentication">Previous post</a>
            </li>
            <li class="next">
                <a href="../how-to-convert-a-byte-array-to-a-hex-string-in-java/" rel="next" title="How to convert a byte array to a hex string in Java?">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

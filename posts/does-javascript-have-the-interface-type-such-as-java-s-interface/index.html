<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Does JavaScript have the interface type (such as Java's 'interface')? | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/does-javascript-have-the-interface-type-such-as-java-s-interface/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../android-add-placeholder-text-to-edittext/" title="Android add placeholder text to EditText" type="text/html">
<link rel="next" href="../c-loop-through-map/" title="C++ Loop through Map" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="Does JavaScript have the interface type (such as Java's 'interface')?">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/does-javascript-have-the-interface-type-such-as-java-s-interface/">
<meta property="og:description" content="I'm learning how to make OOP with JavaScript. Does it have the interface
concept (such as Java's interface)?
So I would be able to create a listener...

Answer
There's no notion of &quot;this class must ha">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-03-03T15:17:12+08:00">
<meta property="article:tag" content="javascript">
<meta property="article:tag" content="oop">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Does JavaScript have the interface type (such as Java's 'interface')?</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T15:17:12+08:00" itemprop="datePublished" title="2023-03-03 15:17">2023-03-03 15:17</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>I'm learning how to make OOP with JavaScript. Does it have the interface
concept (such as Java's <code>interface</code>)?</p>
<p>So I would be able to create a listener...</p>
<p><br><br></p>
<h2>Answer</h2>
<p>There's no notion of "this class must have these functions" (that is, no
interfaces per se), because:</p>
<ol>
<li>JavaScript inheritance is based on objects, not classes. That's not a big deal until you realize:</li>
<li>JavaScript is an <em>extremely</em> dynamically typed language -- you can create an object with the proper methods, which would make it conform to the interface, <em>and then undefine all the stuff that made it conform</em>. It'd be so easy to subvert the type system -- even accidentally! -- that it wouldn't be worth it to try and make a type system in the first place.</li>
</ol>
<p>Instead, JavaScript uses what's called duck typing. (If it walks like a duck,
and quacks like a duck, as far as JS cares, it's a duck.) If your object has
quack(), walk(), and fly() methods, code can use it wherever it expects an
object that can walk, quack, and fly, without requiring the implementation of
some "Duckable" interface. The interface is exactly the set of functions that
the code uses (and the return values from those functions), and with duck
typing, you get that for free.</p>
<p>Now, that's not to say your code won't fail halfway through, if you try to
call <code>some_dog.quack()</code>; you'll get a TypeError. Frankly, if you're telling
dogs to quack, you have slightly bigger problems; duck typing works best when
you keep all your ducks in a row, so to speak, and aren't letting dogs and
ducks mingle together unless you're treating them as generic animals. In other
words, even though the interface is fluid, it's still there; it's often an
error to pass a dog to code that expects it to quack and fly in the first
place.</p>
<p>But if you're sure you're doing the right thing, you can work around the
quacking-dog problem by testing for the existence of a particular method
before trying to use it. Something like</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">typeof</span><span class="ss">(</span><span class="nv">someObject</span>.<span class="nv">quack</span><span class="ss">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"function"</span><span class="ss">)</span>
{
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="nv">This</span><span class="w"> </span><span class="nv">thing</span><span class="w"> </span><span class="nv">can</span><span class="w"> </span><span class="nv">quack</span>
}
</pre></div>

<p>So you can check for all the methods you can use before you use them. The
syntax is kind of ugly, though. There's a slightly prettier way:</p>
<div class="code"><pre class="code literal-block"><span class="k">Object</span><span class="p">.</span><span class="n">prototype</span><span class="p">.</span><span class="n">can</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">methodName</span><span class="p">)</span>
<span class="err">{</span>
<span class="w">     </span><span class="k">return</span><span class="w"> </span><span class="p">((</span><span class="n">typeof</span><span class="w"> </span><span class="n">this</span><span class="o">[</span><span class="n">methodName</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="ss">"function"</span><span class="p">);</span>
<span class="err">}</span><span class="p">;</span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">someObject</span><span class="p">.</span><span class="n">can</span><span class="p">(</span><span class="ss">"quack"</span><span class="p">))</span>
<span class="err">{</span>
<span class="w">    </span><span class="n">someObject</span><span class="p">.</span><span class="n">quack</span><span class="p">();</span>
<span class="err">}</span>
</pre></div>

<p>This is standard JavaScript, so it should work in any JS interpreter worth
using. It has the added benefit of reading like English.</p>
<p>For modern browsers (that is, pretty much any browser other than IE 6-8),
there's even a way to keep the property from showing up in <code>for...in</code>:</p>
<div class="code"><pre class="code literal-block"><span class="k">Object</span><span class="p">.</span><span class="n">defineProperty</span><span class="p">(</span><span class="k">Object</span><span class="p">.</span><span class="n">prototype</span><span class="p">,</span><span class="w"> </span><span class="s1">'can'</span><span class="p">,</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="nl">enumerable</span><span class="p">:</span><span class="w"> </span><span class="k">false</span><span class="p">,</span>
<span class="w">    </span><span class="k">value</span><span class="err">:</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="k">method</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">typeof</span><span class="w"> </span><span class="n">this</span><span class="o">[</span><span class="n">method</span><span class="o">]</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">'function'</span><span class="p">);</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>
</pre></div>

<p>The problem is that IE7 objects don't have <code>.defineProperty</code> at all, and in
IE8, it allegedly only works on host objects (that is, DOM elements and such).
If compatibility is an issue, you can't use <code>.defineProperty</code>. (I won't even
mention IE6, because it's rather irrelevant anymore outside of China.)</p>
<p>Another issue is that some coding styles like to assume that everyone writes
bad code, and prohibit modifying <code>Object.prototype</code> in case someone wants to
blindly use <code>for...in</code>. If you care about that, or are using (IMO <em>broken</em> )
code that does, try a slightly different version:</p>
<div class="code"><pre class="code literal-block"><span class="k">function</span><span class="w"> </span><span class="nf">can</span><span class="p">(</span>obj, methodName<span class="p">)</span>
<span class="p">{</span>
<span class="w">     </span><span class="k">return</span><span class="w"> </span><span class="p">((</span><span class="n">typeof</span><span class="w"> </span><span class="n">obj</span><span class="p">[</span><span class="n">methodName</span><span class="p">])</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">"function"</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">can</span><span class="p">(</span><span class="n">someObject</span><span class="p">,</span><span class="w"> </span><span class="s">"quack"</span><span class="p">))</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">someObject</span><span class="p">.</span><span class="n">quack</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Pick up a copy of 'JavaScript design patterns' by Dustin Diaz. There's a few
chapters dedicated to implementing JavaScript interfaces through Duck Typing.
It's a nice read as well. But no, there's no language native implementation of
an interface, you have to Duck Type.</p>
<div class="code"><pre class="code literal-block"><span class="o">//</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">duck</span><span class="w"> </span><span class="n">typing</span><span class="w"> </span><span class="k">method</span>
<span class="nf">var</span><span class="w"> </span><span class="n">hasMethods</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">obj</span><span class="w"> </span><span class="cm">/*, method list as strings */</span><span class="p">)</span><span class="err">{</span>
<span class="w">    </span><span class="nf">var</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">methodName</span><span class="p">;</span>
<span class="w">    </span><span class="k">while</span><span class="p">((</span><span class="n">methodName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">arguments</span><span class="o">[</span><span class="n">i++</span><span class="o">]</span><span class="p">))</span><span class="err">{</span>
<span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">typeof</span><span class="w"> </span><span class="n">obj</span><span class="o">[</span><span class="n">methodName</span><span class="o">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s1">'function'</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">false</span><span class="p">;</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">    </span><span class="err">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">true</span><span class="p">;</span>
<span class="err">}</span>

<span class="o">//</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">code</span>
<span class="k">if</span><span class="p">(</span><span class="n">hasMethods</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span><span class="w"> </span><span class="s1">'quak'</span><span class="p">,</span><span class="w"> </span><span class="s1">'flapWings'</span><span class="p">,</span><span class="s1">'waggle'</span><span class="p">))</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="o">//</span><span class="w">  </span><span class="n">IT</span><span class="err">'</span><span class="n">S</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="n">DUCK</span><span class="p">,</span><span class="w"> </span><span class="n">do</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">duck</span><span class="w"> </span><span class="n">thang</span>
<span class="err">}</span>
</pre></div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/javascript/" rel="tag">javascript</a></li>
            <li><a class="tag p-category" href="../../categories/oop/" rel="tag">oop</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../android-add-placeholder-text-to-edittext/" rel="prev" title="Android add placeholder text to EditText">Previous post</a>
            </li>
            <li class="next">
                <a href="../c-loop-through-map/" rel="next" title="C++ Loop through Map">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

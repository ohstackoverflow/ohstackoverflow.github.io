<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>How to dynamically change header based on AngularJS partial view? | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/how-to-dynamically-change-header-based-on-angularjs-partial-view/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../if-a-dom-element-is-removed-are-its-listeners-also-removed-from-memory/" title="If a DOM Element is removed, are its listeners also removed from memory?" type="text/html">
<link rel="next" href="../how-to-get-the-file-name-from-a-full-path-using-javascript/" title="How to get the file name from a full path using JavaScript?" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="How to dynamically change header based on AngularJS partial view?">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/how-to-dynamically-change-header-based-on-angularjs-partial-view/">
<meta property="og:description" content="I am using ng-view to include AngularJS partial views, and I want to update
the page title and h1 header tags based on the included view. These are out of
scope of the partial view controllers though,">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-03-03T17:29:56+08:00">
<meta property="article:tag" content="angular-routing">
<meta property="article:tag" content="angularjs">
<meta property="article:tag" content="javascript">
<meta property="article:tag" content="partial-views">
<meta property="article:tag" content="templates">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">How to dynamically change header based on AngularJS partial view?</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T17:29:56+08:00" itemprop="datePublished" title="2023-03-03 17:29">2023-03-03 17:29</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>I am using ng-view to include AngularJS partial views, and I want to update
the page title and h1 header tags based on the included view. These are out of
scope of the partial view controllers though, and so I can't figure out how to
bind them to data set in the controllers.</p>
<p>If it was ASP.NET MVC you could use @ViewBag to do this, but I don't know the
equivalent in AngularJS. I've searched about shared services, events etc but
still can't get it working. Any way to modify my example so it works would be
much appreciated.</p>
<p>My HTML:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;html</span><span class="w"> </span><span class="na">data-ng-app=</span><span class="s">"myModule"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="cm">&lt;!-- include js files --&gt;</span>
<span class="nt">&lt;title&gt;</span><span class="cm">&lt;!-- should changed when ng-view changes --&gt;</span><span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;h1&gt;</span><span class="cm">&lt;!-- should changed when ng-view changes --&gt;</span><span class="nt">&lt;/h1&gt;</span>

<span class="nt">&lt;div</span><span class="w"> </span><span class="err">data-ng-view</span><span class="nt">&gt;&lt;/div&gt;</span>

<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>

<p>My JavaScript:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">myModule</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">angular</span><span class="o">.</span><span class="n">module</span><span class="p">(</span><span class="s1">'myModule'</span><span class="p">,</span><span class="w"> </span><span class="p">[]);</span>
<span class="n">myModule</span><span class="o">.</span><span class="n">config</span><span class="p">([</span><span class="s1">'$routeProvider'</span><span class="p">,</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="o">$</span><span class="n">routeProvider</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">$</span><span class="n">routeProvider</span><span class="o">.</span>
<span class="w">        </span><span class="n">when</span><span class="p">(</span><span class="s1">'/test1'</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">templateUrl</span><span class="p">:</span><span class="w"> </span><span class="s1">'test1.html'</span><span class="p">,</span><span class="w"> </span><span class="n">controller</span><span class="p">:</span><span class="w"> </span><span class="n">Test1Ctrl</span><span class="p">})</span><span class="o">.</span>
<span class="w">        </span><span class="n">when</span><span class="p">(</span><span class="s1">'/test2'</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">templateUrl</span><span class="p">:</span><span class="w"> </span><span class="s1">'test2.html'</span><span class="p">,</span><span class="w"> </span><span class="n">controller</span><span class="p">:</span><span class="w"> </span><span class="n">Test2Ctrl</span><span class="p">})</span><span class="o">.</span>
<span class="w">        </span><span class="n">otherwise</span><span class="p">({</span><span class="n">redirectTo</span><span class="p">:</span><span class="w"> </span><span class="s1">'/test1'</span><span class="p">});</span>
<span class="p">}]);</span>

<span class="n">function</span><span class="w"> </span><span class="n">Test1Ctrl</span><span class="p">(</span><span class="o">$</span><span class="n">scope</span><span class="p">,</span><span class="w"> </span><span class="o">$</span><span class="n">http</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">$</span><span class="n">scope</span><span class="o">.</span><span class="n">header</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Test 1"</span><span class="p">;</span><span class="w"> </span>
<span class="w">                                  </span><span class="o">/*</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="n">put</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">title</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">h1</span><span class="w"> </span><span class="o">*/</span><span class="w"> </span><span class="p">}</span>
<span class="n">function</span><span class="w"> </span><span class="n">Test2Ctrl</span><span class="p">(</span><span class="o">$</span><span class="n">scope</span><span class="p">,</span><span class="w"> </span><span class="o">$</span><span class="n">http</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">$</span><span class="n">scope</span><span class="o">.</span><span class="n">header</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Test 2"</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>You could define controller at the <code>&lt;html&gt;</code> level.</p>
<div class="code"><pre class="code literal-block"><span class="w"> </span><span class="nt">&lt;html</span><span class="w"> </span><span class="na">ng-app=</span><span class="s">"app"</span><span class="w"> </span><span class="na">ng-controller=</span><span class="s">"titleCtrl"</span><span class="nt">&gt;</span>
<span class="w">   </span><span class="nt">&lt;head&gt;</span>
<span class="w">     </span><span class="nt">&lt;title&gt;</span><span class="cp">{{</span> <span class="nv">Page.title</span><span class="o">()</span> <span class="cp">}}</span><span class="nt">&lt;/title&gt;</span>
<span class="w"> </span>...
</pre></div>

<p>You create service: <code>Page</code> and modify from controllers.</p>
<div class="code"><pre class="code literal-block"><span class="n">myModule</span><span class="o">.</span><span class="n">factory</span><span class="p">(</span><span class="s1">'Page'</span><span class="p">,</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="k">var</span><span class="w"> </span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'default'</span><span class="p">;</span>
<span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">     </span><span class="n">title</span><span class="p">:</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">title</span><span class="p">;</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="n">setTitle</span><span class="p">:</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="n">newTitle</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newTitle</span><span class="w"> </span><span class="p">}</span>
<span class="w">   </span><span class="p">};</span>
<span class="p">});</span>
</pre></div>

<p>Inject <code>Page</code> and Call 'Page.setTitle()' from controllers.</p>
<p>Here is the concrete example: http://plnkr.co/edit/0e7T6l</p>
<p><br></p>
<h3>Suggest</h3>
<p>You could define controller at the <code>&lt;html&gt;</code> level.</p>
<div class="code"><pre class="code literal-block"><span class="w"> </span><span class="nt">&lt;html</span><span class="w"> </span><span class="na">ng-app=</span><span class="s">"app"</span><span class="w"> </span><span class="na">ng-controller=</span><span class="s">"titleCtrl"</span><span class="nt">&gt;</span>
<span class="w">   </span><span class="nt">&lt;head&gt;</span>
<span class="w">     </span><span class="nt">&lt;title&gt;</span><span class="cp">{{</span> <span class="nv">Page.title</span><span class="o">()</span> <span class="cp">}}</span><span class="nt">&lt;/title&gt;</span>
<span class="w"> </span>...
</pre></div>

<p>You create service: <code>Page</code> and modify from controllers.</p>
<div class="code"><pre class="code literal-block"><span class="n">myModule</span><span class="o">.</span><span class="n">factory</span><span class="p">(</span><span class="s1">'Page'</span><span class="p">,</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="k">var</span><span class="w"> </span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'default'</span><span class="p">;</span>
<span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">     </span><span class="n">title</span><span class="p">:</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">title</span><span class="p">;</span><span class="w"> </span><span class="p">},</span>
<span class="w">     </span><span class="n">setTitle</span><span class="p">:</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="n">newTitle</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newTitle</span><span class="w"> </span><span class="p">}</span>
<span class="w">   </span><span class="p">};</span>
<span class="p">});</span>
</pre></div>

<p>Inject <code>Page</code> and Call 'Page.setTitle()' from controllers.</p>
<p>Here is the concrete example: http://plnkr.co/edit/0e7T6l</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/angular-routing/" rel="tag">angular-routing</a></li>
            <li><a class="tag p-category" href="../../categories/angularjs/" rel="tag">angularjs</a></li>
            <li><a class="tag p-category" href="../../categories/javascript/" rel="tag">javascript</a></li>
            <li><a class="tag p-category" href="../../categories/partial-views/" rel="tag">partial-views</a></li>
            <li><a class="tag p-category" href="../../categories/templates/" rel="tag">templates</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../if-a-dom-element-is-removed-are-its-listeners-also-removed-from-memory/" rel="prev" title="If a DOM Element is removed, are its listeners also removed from memory?">Previous post</a>
            </li>
            <li class="next">
                <a href="../how-to-get-the-file-name-from-a-full-path-using-javascript/" rel="next" title="How to get the file name from a full path using JavaScript?">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>防止正文滚动但允许覆盖滚动 | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/fang-zhi-zheng-wen-gun-dong-dan-yun-xu-fu-gai-gun-dong/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../ru-he-shi-yong-google-maps-api-jin-yong-shu-biao-gun-lun-suo-fang/" title="如何使用 Google Maps API 禁用鼠标滚轮缩放" type="text/html">
<link rel="next" href="../ru-he-guan-bi-liu-lan-qi-chuang-kou-zhong-de-dang-qian-xuan-xiang-qia/" title="如何关闭浏览器窗口中的当前选项卡？" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="防止正文滚动但允许覆盖滚动">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/fang-zhi-zheng-wen-gun-dong-dan-yun-xu-fu-gai-gun-dong/">
<meta property="og:description" content="我一直在寻找一种允许这样做的“灯箱”类型的解决方案，但还没有找到（如果您知道的话，请提出建议）。
我试图重新创建的行为就像您在Pinterest上单击图片时看到的一样。叠加层是可滚动的（ 因为整个叠加层像页面顶部的页面一样向上移动 ）但叠加层
后面的 主体是固定的。
我试图只用 CSS 创建它（ 即div在整个页面和正文的顶部覆盖overflow: hidden），但它不会阻止div滚动。
如何防">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-18T03:21:19+08:00">
<meta property="article:tag" content="css">
<meta property="article:tag" content="lightbox">
<meta property="article:tag" content="overlay">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">防止正文滚动但允许覆盖滚动</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T03:21:19+08:00" itemprop="datePublished" title="2023-02-18 03:21">2023-02-18 03:21</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>我一直在寻找一种允许这样做的“灯箱”类型的解决方案，但还没有找到（如果您知道的话，请提出建议）。</p>
<p>我试图重新创建的行为就像您在Pinterest上单击图片时看到的一样。叠加层是可滚动的（ <em>因为整个叠加层像页面顶部的页面一样向上移动</em> ）但叠加层
<strong>后面的</strong> 主体是固定的。</p>
<p>我试图只用 CSS 创建它（ <em>即<code>div</code>在整个页面和正文的顶部覆盖<code>overflow: hidden</code></em>），但它不会阻止<code>div</code>滚动。</p>
<p>如何防止正文/页面滚动但在全屏容器内继续滚动？</p>
<p><br><br></p>
<h2>解答</h2>
<p><strong>理论</strong></p>
<p>查看 pinterest 站点的当前实现（将来可能会更改），当您打开叠加层时，一个<code>noscroll</code>类将应用于<code>body</code>元素（设置<code>overflow:
hidden</code>），使其<code>body</code>不再可滚动。</p>
<p>即时创建或已经注入页面并通过以下方式可见的叠加层- 这没有区别 - 具有 and ， with ， 和<code>display: block</code>属性 <em>设置</em>
为<code>position : fixed</code>：<code>overflow-y:
scroll</code>这种<code>top</code>样式<code>left</code>使叠加层填充整个视口（但现在我们在2022，因此您可以改用）。<code>right``bottom``0``inset:
0</code></p>
<p>覆盖层的内部<code>div</code>是<code>position: static</code>垂直滚动条与该元素相关的。这导致可滚动但固定的覆盖。</p>
<p>当您关闭叠加层时，您必须将其隐藏（使用<code>display: none</code>），您甚至可以通过 javascript
删除节点（或仅删除其中的内容，这取决于您，但也取决于内容的性质）。</p>
<p>最后一步是删除<code>noscroll</code>应用到的类<code>body</code>（这样<code>overflow</code>属性就会恢复到之前的值）</p>
<hr>
<p><strong>代码</strong></p>
<blockquote>
<p>代码笔示例</p>
</blockquote>
<p>（它通过更改<code>aria-hidden</code>叠加层的属性来显示和隐藏它并增加其可访问性）。</p>
<p><strong>标记</strong><br><em>（打开按钮）</em></p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;button</span><span class="w"> </span><span class="na">type=</span><span class="s">"button"</span><span class="w"> </span><span class="na">class=</span><span class="s">"open-overlay"</span><span class="nt">&gt;</span>OPEN<span class="w"> </span>LAYER<span class="nt">&lt;/button&gt;</span>
</pre></div>

<p><em>（覆盖和关闭按钮）</em></p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;section</span><span class="w"> </span><span class="na">class=</span><span class="s">"overlay"</span><span class="w"> </span><span class="na">aria-hidden=</span><span class="s">"true"</span><span class="w"> </span><span class="na">tabindex=</span><span class="s">"-1"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;div&gt;</span>
<span class="w">    </span><span class="nt">&lt;h2&gt;</span>Hello,<span class="w"> </span>I'm<span class="w"> </span>the<span class="w"> </span>overlayer<span class="nt">&lt;/h2&gt;</span>
<span class="w">    </span>...<span class="w">   </span>
<span class="w">    </span><span class="nt">&lt;button</span><span class="w"> </span><span class="na">type=</span><span class="s">"button"</span><span class="w"> </span><span class="na">class=</span><span class="s">"close-overlay"</span><span class="nt">&gt;</span>CLOSE<span class="w"> </span>LAYER<span class="nt">&lt;/button&gt;</span>
<span class="w">  </span><span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/section&gt;</span>
</pre></div>

<p><strong>CSS</strong></p>
<div class="code"><pre class="code literal-block"><span class="na">.noscroll</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<span class="w">  </span><span class="no">overflow</span><span class="p">:</span><span class="w"> </span><span class="no">hidden</span><span class="c1">;</span>
<span class="err">}</span>

<span class="na">.overlay</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<span class="w">   </span><span class="no">position</span><span class="p">:</span><span class="w"> </span><span class="no">fixed</span><span class="c1">; </span>
<span class="w">   </span><span class="nl">overflow-y:</span><span class="w"> </span><span class="nf">scroll</span><span class="c1">;</span>
<span class="w">   </span><span class="nl">inset:</span><span class="w"> </span><span class="err">0</span><span class="c1">; }</span>

<span class="err">[</span><span class="nf">aria-hidden</span><span class="err">="</span><span class="no">true</span><span class="err">"</span><span class="p">]</span><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="no">display</span><span class="p">:</span><span class="w"> </span><span class="no">none</span><span class="c1">; }</span>
<span class="err">[</span><span class="nf">aria-hidden</span><span class="err">="</span><span class="no">false</span><span class="err">"</span><span class="p">]</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="no">display</span><span class="p">:</span><span class="w"> </span><span class="no">block</span><span class="c1">; }</span>
</pre></div>

<p><strong>Javascript</strong> <em>（香草-JS）</em></p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">document</span><span class="o">.</span><span class="n">body</span><span class="p">,</span>
<span class="w">    </span><span class="n">overlay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">document</span><span class="o">.</span><span class="n">querySelector</span><span class="p">(</span><span class="s1">'.overlay'</span><span class="p">),</span>
<span class="w">    </span><span class="n">overlayBtts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">document</span><span class="o">.</span><span class="n">querySelectorAll</span><span class="p">(</span><span class="s1">'button[class$="overlay"]'</span><span class="p">),</span>
<span class="w">    </span><span class="n">openingBtt</span><span class="p">;</span>

<span class="p">[]</span><span class="o">.</span><span class="n">forEach</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">overlayBtts</span><span class="p">,</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="n">btt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">  </span><span class="n">btt</span><span class="o">.</span><span class="n">addEventListener</span><span class="p">(</span><span class="s1">'click'</span><span class="p">,</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>

<span class="w">     </span><span class="o">/*</span><span class="w"> </span><span class="n">Detect</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">button</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">*/</span>
<span class="w">     </span><span class="k">var</span><span class="w"> </span><span class="n">overlayOpen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">this</span><span class="o">.</span><span class="n">className</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">'open-overlay'</span><span class="p">;</span>

<span class="w">     </span><span class="o">/*</span><span class="w"> </span><span class="n">storing</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">opening</span><span class="w"> </span><span class="n">button</span><span class="w"> </span><span class="o">*/</span>
<span class="w">     </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">overlayOpen</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">openingBtt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">this</span><span class="p">;</span>
<span class="w">     </span><span class="p">}</span>

<span class="w">     </span><span class="o">/*</span><span class="w"> </span><span class="n">Toggle</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">aria</span><span class="o">-</span><span class="n">hidden</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">overlay</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span>
<span class="w">        </span><span class="n">no</span><span class="o">-</span><span class="n">scroll</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="o">*/</span>
<span class="w">     </span><span class="n">overlay</span><span class="o">.</span><span class="n">setAttribute</span><span class="p">(</span><span class="s1">'aria-hidden'</span><span class="p">,</span><span class="w"> </span><span class="o">!</span><span class="n">overlayOpen</span><span class="p">);</span>
<span class="w">     </span><span class="n">body</span><span class="o">.</span><span class="n">classList</span><span class="o">.</span><span class="n">toggle</span><span class="p">(</span><span class="s1">'noscroll'</span><span class="p">,</span><span class="w"> </span><span class="n">overlayOpen</span><span class="p">);</span>

<span class="w">     </span><span class="o">/*</span><span class="w"> </span><span class="n">On</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">mobile</span><span class="w"> </span><span class="n">browser</span><span class="w"> </span><span class="n">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">overlay</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">previously</span>
<span class="w">        </span><span class="n">opened</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">scrolled</span><span class="p">,</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">open</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">again</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">doesn</span><span class="s1">'t </span>
<span class="w">        </span><span class="n">reset</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">scrollTop</span><span class="w"> </span><span class="n">property</span><span class="w"> </span><span class="o">*/</span>
<span class="w">     </span><span class="n">overlay</span><span class="o">.</span><span class="n">scrollTop</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>

<span class="w">      </span><span class="o">/*</span><span class="w"> </span><span class="n">forcing</span><span class="w"> </span><span class="n">focus</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">Assistive</span><span class="w"> </span><span class="n">technologies</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">note</span><span class="p">:</span>
<span class="w">    </span><span class="o">-</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">modal</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">just</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">phrase</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">button</span><span class="w"> </span><span class="n">move</span><span class="w"> </span><span class="n">the</span>
<span class="w">      </span><span class="n">focus</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">button</span>
<span class="w">    </span><span class="o">-</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">modal</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">long</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="n">inside</span><span class="w"> </span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">privacy</span>
<span class="w">      </span><span class="n">policy</span><span class="p">)</span><span class="w"> </span><span class="n">move</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">focus</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">heading</span><span class="w"> </span><span class="n">inside</span><span class="w"> </span>
<span class="w">      </span><span class="n">the</span><span class="w"> </span><span class="n">modal</span>
<span class="w">    </span><span class="o">-</span><span class="w"> </span><span class="n">otherwise</span><span class="w"> </span><span class="n">just</span><span class="w"> </span><span class="n">focus</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">modal</span><span class="o">.</span>

<span class="w">    </span><span class="n">When</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">close</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">overlay</span><span class="w"> </span><span class="n">restore</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">focus</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span>
<span class="w">    </span><span class="n">button</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">opened</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">modal</span><span class="o">.</span>
<span class="w">    </span><span class="o">*/</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">overlayOpen</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">       </span><span class="n">overlay</span><span class="o">.</span><span class="n">focus</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">       </span><span class="n">openingBtt</span><span class="o">.</span><span class="n">focus</span><span class="p">();</span>
<span class="w">       </span><span class="n">openingBtt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">  </span><span class="p">},</span><span class="w"> </span><span class="bp">false</span><span class="p">);</span>

<span class="p">});</span>

<span class="o">/*</span><span class="w"> </span><span class="n">detect</span><span class="w"> </span><span class="n">Escape</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">overlay</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">open</span><span class="w"> </span><span class="o">*/</span>
<span class="n">document</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">addEventListener</span><span class="p">(</span><span class="s1">'keyup'</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">ev</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ev</span><span class="o">.</span><span class="n">key</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">"Escape"</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">overlay</span><span class="o">.</span><span class="n">getAttribute</span><span class="p">(</span><span class="s1">'aria-hidden'</span><span class="p">)</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">'false'</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">overlay</span><span class="o">.</span><span class="n">setAttribute</span><span class="p">(</span><span class="s1">'aria-hidden'</span><span class="p">,</span><span class="w"> </span><span class="s1">'true'</span><span class="p">);</span>
<span class="w">      </span><span class="n">body</span><span class="o">.</span><span class="n">classList</span><span class="o">.</span><span class="n">toggle</span><span class="p">(</span><span class="s1">'noscroll'</span><span class="p">,</span><span class="w"> </span><span class="bp">false</span><span class="p">);</span>
<span class="w">      </span><span class="n">openingBtt</span><span class="o">.</span><span class="n">focus</span><span class="p">();</span>
<span class="w">      </span><span class="n">openingBtt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">;</span>
<span class="w">   </span><span class="p">}</span>
<span class="p">})</span>
</pre></div>

<hr>
<p><code>transition</code>最后，这是另一个示例，其中通过应用到属性的 CSS 以淡入效果打开叠加层<code>opacity</code>。当滚动条消失时，还应用
a<code>padding-right</code>以避免在基础文本上回流。</p>
<blockquote>
<p>Codepen 示例（淡出）</p>
</blockquote>
<p><strong>CSS</strong></p>
<div class="code"><pre class="code literal-block"><span class="na">.noscroll</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="no">overflow</span><span class="p">:</span><span class="w"> </span><span class="no">hidden</span><span class="c1">; }</span>

<span class="err">@</span><span class="nf">media</span><span class="w"> </span><span class="p">(</span><span class="no">min-device-width</span><span class="p">:</span><span class="w"> </span><span class="mi">1025</span><span class="no">px</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="cm">/* not strictly necessary, just an experiment for </span>
<span class="cm">       this specific example and couldn't be necessary </span>
<span class="cm">       at all on some browser */</span>
<span class="w">    </span><span class="na">.noscroll</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<span class="w">        </span><span class="no">padding-right</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="no">px</span><span class="c1">;</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>

<span class="na">.overlay</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<span class="w">     </span><span class="no">position</span><span class="p">:</span><span class="w"> </span><span class="no">fixed</span><span class="c1">; </span>
<span class="w">     </span><span class="nl">overflow-y:</span><span class="w"> </span><span class="nf">scroll</span><span class="c1">;</span>
<span class="w">     </span><span class="nl">inset:</span><span class="w"> </span><span class="err">0</span><span class="c1">;</span>
<span class="err">}</span>

<span class="err">[</span><span class="nf">aria-hidden</span><span class="err">="</span><span class="no">true</span><span class="err">"</span><span class="p">]</span><span class="w"> </span><span class="p">{</span><span class="w">    </span>
<span class="w">    </span><span class="no">transition</span><span class="p">:</span><span class="w"> </span><span class="no">opacity</span><span class="w"> </span><span class="mi">1</span><span class="no">s</span><span class="p">,</span><span class="w"> </span><span class="no">z-index</span><span class="w"> </span><span class="mi">0</span><span class="no">s</span><span class="w"> </span><span class="mi">1</span><span class="no">s</span><span class="c1">;</span>
<span class="w">    </span><span class="nl">width:</span><span class="w"> </span><span class="err">100</span><span class="nf">vw</span><span class="c1">;</span>
<span class="w">    </span><span class="nl">z-index:</span><span class="w"> </span><span class="err">-1</span><span class="c1">; </span>
<span class="w">    </span><span class="nl">opacity:</span><span class="w"> </span><span class="err">0</span><span class="c1">;  </span>
<span class="err">}</span>

<span class="err">[</span><span class="nf">aria-hidden</span><span class="err">="</span><span class="no">false</span><span class="err">"</span><span class="p">]</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">    </span><span class="no">transition</span><span class="p">:</span><span class="w"> </span><span class="no">opacity</span><span class="w"> </span><span class="mi">1</span><span class="no">s</span><span class="c1">;</span>
<span class="w">    </span><span class="nl">width:</span><span class="w"> </span><span class="err">100%</span><span class="c1">;</span>
<span class="w">    </span><span class="nl">z-index:</span><span class="w"> </span><span class="err">1</span><span class="c1">;  </span>
<span class="w">    </span><span class="nl">opacity:</span><span class="w"> </span><span class="err">1</span><span class="c1">; </span>
<span class="err">}</span>
</pre></div>

<p><br></p>
<h3>更多建议</h3>
<p><code>overscroll-behavior</code>css 属性允许在到达内容的顶部/底部时覆盖浏览器的默认溢出滚动行为。</p>
<p>只需将以下样式添加到叠加层：</p>
<div class="code"><pre class="code literal-block"><span class="na">.overlay</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nl">overscroll-behavior:</span><span class="w"> </span><span class="nf">contain</span><span class="c1">;</span>
<span class="w">   </span><span class="na">...</span>
<span class="err">}</span>
</pre></div>

<blockquote>
<p>代码笔演示</p>
</blockquote>
<p>目前适用于 Chrome、Firefox 和 IE( caniuse )</p>
<p>有关详细信息，请查看谷歌开发人员文章。</p>
<p><br><br><a href="../prevent-body-scrolling-but-allow-overlay-scrolling/">查看原文</a></p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/css/" rel="tag">css</a></li>
            <li><a class="tag p-category" href="../../categories/lightbox/" rel="tag">lightbox</a></li>
            <li><a class="tag p-category" href="../../categories/overlay/" rel="tag">overlay</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../ru-he-shi-yong-google-maps-api-jin-yong-shu-biao-gun-lun-suo-fang/" rel="prev" title="如何使用 Google Maps API 禁用鼠标滚轮缩放">Previous post</a>
            </li>
            <li class="next">
                <a href="../ru-he-guan-bi-liu-lan-qi-chuang-kou-zhong-de-dang-qian-xuan-xiang-qia/" rel="next" title="如何关闭浏览器窗口中的当前选项卡？">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

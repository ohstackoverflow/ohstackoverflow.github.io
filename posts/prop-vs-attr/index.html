<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>.prop() vs .attr() | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/prop-vs-attr/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../how-do-i-declare-and-initialize-an-array-in-java/" title="How do I declare and initialize an array in Java?" type="text/html">
<link rel="next" href="../how-to-make-a-great-r-reproducible-example/" title="How to make a great R reproducible example" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content=".prop() vs .attr()">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/prop-vs-attr/">
<meta property="og:description" content="So jQuery 1.6 has the new function prop().
$(selector).click(function(){
    //instead of:
    this.getAttribute('style');
    //do i use:
    $(this).prop('style');
    //or:
    $(this).attr('style'">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-16T21:21:36+08:00">
<meta property="article:tag" content="attr">
<meta property="article:tag" content="dom">
<meta property="article:tag" content="javascript">
<meta property="article:tag" content="jquery">
<meta property="article:tag" content="prop">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">.prop() vs .attr()</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T21:21:36+08:00" itemprop="datePublished" title="2023-02-16 21:21">2023-02-16 21:21</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>So jQuery 1.6 has the new function <code>prop()</code>.</p>
<div class="code"><pre class="code literal-block"><span class="o">$(</span><span class="nt">selector</span><span class="o">)</span><span class="p">.</span><span class="nc">click</span><span class="o">(</span><span class="nt">function</span><span class="o">()</span><span class="p">{</span>
<span class="w">    </span><span class="err">//instead</span><span class="w"> </span><span class="n">of</span><span class="p">:</span>
<span class="w">    </span><span class="n">this</span><span class="o">.</span><span class="nf">getAttribute</span><span class="p">(</span><span class="s1">'style'</span><span class="p">);</span>
<span class="w">    </span><span class="err">//do</span><span class="w"> </span><span class="err">i</span><span class="w"> </span><span class="n">use</span><span class="p">:</span>
<span class="w">    </span><span class="err">$</span><span class="p">(</span><span class="n">this</span><span class="p">)</span><span class="o">.</span><span class="nf">prop</span><span class="p">(</span><span class="s1">'style'</span><span class="p">);</span>
<span class="w">    </span><span class="err">//</span><span class="n">or</span><span class="p">:</span>
<span class="w">    </span><span class="err">$</span><span class="p">(</span><span class="n">this</span><span class="p">)</span><span class="o">.</span><span class="nb">attr</span><span class="p">(</span><span class="s1">'style'</span><span class="p">);</span>
<span class="p">}</span><span class="o">)</span>
</pre></div>

<p>or in this case do they do the same thing?</p>
<p>And if I <em>do</em> have to switch to using <code>prop()</code>, all the old <code>attr()</code> calls
will break if i switch to 1.6?</p>
<p><strong>UPDATE</strong></p>
<div class="code"><pre class="code literal-block">selector<span class="w"> </span>=<span class="w"> </span>'#id'

$(selector).click(function()<span class="w"> </span>{
<span class="w">    </span>//instead<span class="w"> </span>of:
<span class="w">    </span>var<span class="w"> </span>getAtt<span class="w"> </span>=<span class="w"> </span>this.getAttribute('style');
<span class="w">    </span>//do<span class="w"> </span>i<span class="w"> </span>use:
<span class="w">    </span>var<span class="w"> </span>thisProp<span class="w"> </span>=<span class="w"> </span>$(this).prop('style');
<span class="w">    </span>//or:
<span class="w">    </span>var<span class="w"> </span>thisAttr<span class="w"> </span>=<span class="w"> </span>$(this).attr('style');

<span class="w">    </span>console.log(getAtt,<span class="w"> </span>thisProp,<span class="w"> </span>thisAttr);
});


<span class="nt">&lt;script</span><span class="w"> </span><span class="na">src=</span><span class="s">"https://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;div</span><span class="w"> </span><span class="na">id=</span><span class="s">'id'</span><span class="w"> </span><span class="na">style=</span><span class="s">"color: red;background: orange;"</span><span class="nt">&gt;</span>test<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p>(see also this fiddle: http://jsfiddle.net/maniator/JpUF2/)</p>
<p>The console logs the <code>getAttribute</code> as a string, and the <code>attr</code> as a string,
but the <code>prop</code> as a <code>CSSStyleDeclaration</code>, Why? And how does that affect my
coding in the future?</p>
<p><br><br></p>
<h2>Answer</h2>
<p><strong>Update 1 November 2012</strong></p>
<p>My original answer applies specifically to jQuery 1.6. My advice remains the
same but jQuery 1.6.1 changed things slightly: in the face of the predicted
pile of broken websites, the jQuery team reverted <code>attr()</code> to something close
to (but not exactly the same as) its old behaviour for Boolean attributes.
John Resig also blogged about it. I can see the difficulty they were in but
still disagree with his recommendation to prefer <code>attr()</code>.</p>
<p><strong>Original answer</strong></p>
<p>If you've only ever used jQuery and not the DOM directly, this could be a
confusing change, although it is definitely an improvement conceptually. Not
so good for the bazillions of sites using jQuery that will break as a result
of this change though.</p>
<p>I'll summarize the main issues:</p>
<ul>
<li>You usually want <code>prop()</code> rather than <code>attr()</code>.</li>
<li>In the majority of cases, <code>prop()</code> does what <code>attr()</code> used to do. Replacing calls to <code>attr()</code> with <code>prop()</code> in your code will generally work.</li>
<li>Properties are generally simpler to deal with than attributes. An attribute value may only be a string whereas a property can be of any type. For example, the <code>checked</code> property is a Boolean, the <code>style</code> property is an object with individual properties for each style, the <code>size</code> property is a number.</li>
<li>Where both a property and an attribute with the same name exists, usually updating one will update the other, but this is not the case for certain attributes of inputs, such as <code>value</code> and <code>checked</code>: for these attributes, the property always represents the current state while the attribute (except in old versions of IE) corresponds to the default value/checkedness of the input (reflected in the <code>defaultValue</code> / <code>defaultChecked</code> property).</li>
<li>This change removes some of the layer of magic jQuery stuck in front of attributes and properties, meaning jQuery developers will have to learn a bit about the difference between properties and attributes. This is a good thing.</li>
</ul>
<p>If you're a jQuery developer and are confused by this whole business about
properties and attributes, you need to take a step back and learn a little
about it, since jQuery is no longer trying so hard to shield you from this
stuff. For the authoritative but somewhat dry word on the subject, there's the
specs: DOM4, HTML DOM, DOM Level 2, DOM Level 3. Mozilla's DOM documentation
is valid for most modern browsers and is easier to read than the specs, so you
may find their DOM reference helpful. There's a section on element properties.</p>
<p>As an example of how properties are simpler to deal with than attributes,
consider a checkbox that is initially checked. Here are two possible pieces of
valid HTML to do this:</p>
<div class="code"><pre class="code literal-block">&lt;input id="cb" type="checkbox" checked&gt;
&lt;input id="cb" type="checkbox" checked="checked"&gt;
</pre></div>

<p>So, how do you find out if the checkbox is checked with jQuery? Look on Stack
Overflow and you'll commonly find the following suggestions:</p>
<ul>
<li><code>if ( $("#cb").attr("checked") === true ) {...}</code></li>
<li><code>if ( $("#cb").attr("checked") == "checked" ) {...}</code></li>
<li><code>if ( $("#cb").is(":checked") ) {...}</code></li>
</ul>
<p>This is actually the simplest thing in the world to do with the <code>checked</code>
Boolean property, which has existed and worked flawlessly in every major
scriptable browser since 1995:</p>
<p><code>if (document.getElementById("cb").checked) {...}</code></p>
<p>The property also makes checking or unchecking the checkbox trivial:</p>
<p><code>document.getElementById("cb").checked = false</code></p>
<p>In jQuery 1.6, this unambiguously becomes</p>
<p><code>$("#cb").prop("checked", false)</code></p>
<p>The idea of using the <code>checked</code> attribute for scripting a checkbox is
unhelpful and unnecessary. The property is what you need.</p>
<ul>
<li>It's not obvious what the correct way to check or uncheck the checkbox is using the <code>checked</code> attribute</li>
<li>The attribute value reflects the default rather than the current visible state (except in some older versions of IE, thus making things still harder). The attribute tells you nothing about the whether the checkbox on the page is checked. See http://jsfiddle.net/VktA6/49/.</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<p>I think Tim said it quite well, but let's step back:</p>
<p>A DOM element is an object, a thing in memory. Like most objects in OOP, it
has <em>properties</em>. It also, separately, has a map of the attributes defined on
the element (usually coming from the markup that the browser read to create
the element). Some of the element's <em>properties</em> get their <em>initial</em> values
from <em>attributes</em> with the same or similar names (<code>value</code> gets its initial
value from the "value" attribute; <code>href</code> gets its initial value from the
"href" attribute, but it's not exactly the same value; <code>className</code> from the
"class" attribute). Other properties get their initial values in other ways:
For instance, the <code>parentNode</code> property gets its value based on what its
parent element is; an element always has a <code>style</code> property, whether it has a
"style" attribute or not.</p>
<p>Let's consider this anchor in a page at <code>http://example.com/testing.html</code>:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;a</span><span class="w"> </span><span class="na">href=</span><span class="s">'foo.html'</span><span class="w"> </span><span class="na">class=</span><span class="s">'test one'</span><span class="w"> </span><span class="na">name=</span><span class="s">'fooAnchor'</span><span class="w"> </span><span class="na">id=</span><span class="s">'fooAnchor'</span><span class="nt">&gt;</span>Hi<span class="nt">&lt;/a&gt;</span>
</pre></div>

<p>Some gratuitous ASCII art (and leaving out a lot of stuff):</p>
<div class="code"><pre class="code literal-block">+−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−+
|             HTMLAnchorElement             |
+−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−+
| href:       "http://example.com/foo.html" |
| name:       "fooAnchor"                   |
| id:         "fooAnchor"                   |
| className:  "test one"                    |
| attributes:                               |
|    href:  "foo.html"                      |
|    name:  "fooAnchor"                     |
|    id:    "fooAnchor"                     |
|    class: "test one"                      |
+−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−−+
</pre></div>

<p>Note that the properties and attributes are distinct.</p>
<p>Now, although they are distinct, because all of this evolved rather than being
designed from the ground up, a number of properties write back to the
attribute they derived from if you set them. But not all do, and as you can
see from <code>href</code> above, the mapping is not always a straight "pass the value
on", sometimes there's interpretation involved.</p>
<p>When I talk about properties being properties of an object, I'm not speaking
in the abstract. Here's some non-jQuery code:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">link</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">document</span><span class="o">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s1">'fooAnchor'</span><span class="p">);</span>
<span class="n">alert</span><span class="p">(</span><span class="n">link</span><span class="o">.</span><span class="n">href</span><span class="p">);</span><span class="w">                 </span><span class="o">//</span><span class="w"> </span><span class="n">alerts</span><span class="w"> </span><span class="s2">"http://example.com/foo.html"</span>
<span class="n">alert</span><span class="p">(</span><span class="n">link</span><span class="o">.</span><span class="n">getAttribute</span><span class="p">(</span><span class="s2">"href"</span><span class="p">));</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">alerts</span><span class="w"> </span><span class="s2">"foo.html"</span>
</pre></div>

<p>(Those values are as per most browsers; there's some variation.)</p>
<p>The <code>link</code> object is a real thing, and you can see there's a real distinction
between accessing a <em>property</em> on it, and accessing an <em>attribute</em>.</p>
<p>As Tim said, the <strong>vast majority</strong> of the time, we want to be working with
properties. Partially that's because their values (even their names) tend to
be more consistent across browsers. We mostly only want to work with
attributes when there is no property related to it (custom attributes), or
when we know that for that particular attribute, the attribute and the
property are not 1:1 (as with <code>href</code> and "href" above).</p>
<p>The standard properties are laid out in the various DOM specs:</p>
<ul>
<li>DOM2 HTML <em>(largely obsolete, see the HTML spec instead)</em>
</li>
<li>DOM2 Core <em>(obsolete)</em>
</li>
<li>DOM3 Core <em>(obsolete)</em>
</li>
<li>DOM4</li>
</ul>
<p>These specs have excellent indexes and I recommend keeping links to them
handy; I use them all the time.</p>
<p>Custom attributes would include, for instance, any <code>data-xyz</code> attributes you
might put on elements to provide meta-data to your code (now that that's valid
as of HTML5, as long as you stick to the <code>data-</code> prefix). (Recent versions of
jQuery give you access to <code>data-xyz</code> elements via the <code>data</code> function, but
that function is <strong>not</strong> just an accessor for <code>data-xyz</code> attributes [it does
both more and less than that]; unless you actually need its features, I'd use
the <code>attr</code> function to interact with <code>data-xyz</code> attribute.)</p>
<p>The <code>attr</code> function used to have some convoluted logic around getting what
they thought you wanted, rather than literally getting the attribute. It
conflated the concepts. Moving to <code>prop</code> and <code>attr</code> was meant to de-conflate
them. Briefly in v1.6.0 jQuery went too far in that regard, but functionality
was quickly added back to <code>attr</code> to handle the common situations where people
use <code>attr</code> when technically they should use <code>prop</code>.</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/attr/" rel="tag">attr</a></li>
            <li><a class="tag p-category" href="../../categories/dom/" rel="tag">dom</a></li>
            <li><a class="tag p-category" href="../../categories/javascript/" rel="tag">javascript</a></li>
            <li><a class="tag p-category" href="../../categories/jquery/" rel="tag">jquery</a></li>
            <li><a class="tag p-category" href="../../categories/prop/" rel="tag">prop</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../how-do-i-declare-and-initialize-an-array-in-java/" rel="prev" title="How do I declare and initialize an array in Java?">Previous post</a>
            </li>
            <li class="next">
                <a href="../how-to-make-a-great-r-reproducible-example/" rel="next" title="How to make a great R reproducible example">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Accessing the index in 'for' loops | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/accessing-the-index-in-for-loops/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../how-do-i-check-whether-a-checkbox-is-checked-in-jquery/" title="How do I check whether a checkbox is checked in jQuery?" type="text/html">
<link rel="next" href="../how-do-i-make-a-flat-list-out-of-a-list-of-lists/" title="How do I make a flat list out of a list of lists?" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="Accessing the index in 'for' loops">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/accessing-the-index-in-for-loops/">
<meta property="og:description" content='How do I access the index while iterating over a sequence with a for loop?
xs = [8, 23, 45]

for x in xs:
    print("item #{} = {}".format(index, x))


Desired output:
item #1 = 8
item #2 = 23
item #3'>
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-16T18:48:18+08:00">
<meta property="article:tag" content="list">
<meta property="article:tag" content="loops">
<meta property="article:tag" content="python">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Accessing the index in 'for' loops</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T18:48:18+08:00" itemprop="datePublished" title="2023-02-16 18:48">2023-02-16 18:48</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>How do I access the index while iterating over a sequence with a <code>for</code> loop?</p>
<div class="code"><pre class="code literal-block"><span class="nv">xs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="mi">8</span>,<span class="w"> </span><span class="mi">23</span>,<span class="w"> </span><span class="mi">45</span>]

<span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">xs</span>:
<span class="w">    </span><span class="nv">print</span><span class="ss">(</span><span class="s2">"item #{} = {}"</span>.<span class="nv">format</span><span class="ss">(</span><span class="nv">index</span>,<span class="w"> </span><span class="nv">x</span><span class="ss">))</span>
</pre></div>

<p>Desired output:</p>
<div class="code"><pre class="code literal-block">item #1 = 8
item #2 = 23
item #3 = 45
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>Use the built-in function <code>enumerate()</code>:</p>
<div class="code"><pre class="code literal-block"><span class="k">for</span><span class="w"> </span><span class="n">idx</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">enumerate</span><span class="p">(</span><span class="n">xs</span><span class="p">):</span>
<span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">)</span>
</pre></div>

<p>It is <em>non-pythonic</em> to manually index via <code>for i in range(len(xs)): x =
xs[i]</code> or manually manage an additional state variable.</p>
<p>Check out PEP 279 for more.</p>
<p><br></p>
<h3>Suggest</h3>
<blockquote>
<h2>Using a for loop, how do I access the loop index, from 1 to 5 in this</h2>
<p>case?</p>
</blockquote>
<p>Use <code>enumerate</code> to get the index with the element as you iterate:</p>
<div class="code"><pre class="code literal-block"><span class="k">for</span><span class="w"> </span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">enumerate</span><span class="p">(</span><span class="n">items</span><span class="p">):</span>
<span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="n">item</span><span class="p">)</span>
</pre></div>

<p>And note that Python's indexes start at zero, so you would get 0 to 4 with the
above. If you want the count, 1 to 5, do this:</p>
<div class="code"><pre class="code literal-block"><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="c1"># in case items is empty and you need it after the loop</span>
<span class="k">for</span><span class="w"> </span><span class="n">count</span><span class="p">,</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">enumerate</span><span class="p">(</span><span class="n">items</span><span class="p">,</span><span class="w"> </span><span class="n">start</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="n">count</span><span class="p">,</span><span class="w"> </span><span class="n">item</span><span class="p">)</span>
</pre></div>

<h2>Unidiomatic control flow</h2>
<p>What you are asking for is the Pythonic equivalent of the following, which is
the algorithm most programmers of lower-level languages would use:</p>
<blockquote>
<div class="code"><pre class="code literal-block"><span class="nv">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w">            </span>#<span class="w"> </span><span class="nv">Python</span><span class="err">'s indexing starts at zero</span>
<span class="k">for</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">items</span>:<span class="w">   </span>#<span class="w"> </span><span class="nv">Python</span><span class="err">'s for loops are a "for each" loop</span>
<span class="err">    print(index, item)</span>
<span class="err">    index += 1</span>
</pre></div>

</blockquote>
<p>Or in languages that do not have a for-each loop:</p>
<blockquote>
<div class="code"><pre class="code literal-block"><span class="k">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="k">while</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">items</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="k">print</span><span class="p">(</span><span class="k">index</span><span class="p">,</span><span class="w"> </span><span class="n">items</span><span class="o">[</span><span class="n">index</span><span class="o">]</span><span class="p">)</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span>
</pre></div>

</blockquote>
<p>or sometimes more commonly (but unidiomatically) found in Python:</p>
<blockquote>
<div class="code"><pre class="code literal-block"><span class="k">for</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">items</span><span class="p">))</span><span class="err">:</span>
<span class="w">    </span><span class="k">print</span><span class="p">(</span><span class="k">index</span><span class="p">,</span><span class="w"> </span><span class="n">items</span><span class="o">[</span><span class="n">index</span><span class="o">]</span><span class="p">)</span>
</pre></div>

</blockquote>
<h2>Use the Enumerate Function</h2>
<p>Python's <code>enumerate</code> function reduces the visual clutter by hiding the
accounting for the indexes, and encapsulating the iterable into another
iterable (an <code>enumerate</code> object) that yields a two-item tuple of the index and
the item that the original iterable would provide. That looks like this:</p>
<div class="code"><pre class="code literal-block"><span class="k">for</span><span class="w"> </span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">enumerate</span><span class="p">(</span><span class="n">items</span><span class="p">,</span><span class="w"> </span><span class="n">start</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span><span class="w">   </span><span class="c1"># default is zero</span>
<span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="n">item</span><span class="p">)</span>
</pre></div>

<p>This code sample is fairly well the canonical example of the difference
between code that is idiomatic of Python and code that is not. Idiomatic code
is sophisticated (but not complicated) Python, written in the way that it was
intended to be used. Idiomatic code is expected by the designers of the
language, which means that usually this code is not just more readable, but
also more efficient.</p>
<h3>Getting a count</h3>
<p>Even if you don't need indexes as you go, but you need a count of the
iterations (sometimes desirable) you can start with <code>1</code> and the final number
will be your count.</p>
<div class="code"><pre class="code literal-block"><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="c1"># in case items is empty</span>
<span class="k">for</span><span class="w"> </span><span class="n">count</span><span class="p">,</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">enumerate</span><span class="p">(</span><span class="n">items</span><span class="p">,</span><span class="w"> </span><span class="n">start</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span><span class="w">   </span><span class="c1"># default is zero</span>
<span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">'there were {0} items printed'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">count</span><span class="p">))</span>
</pre></div>

<p>The count seems to be more what you intend to ask for (as opposed to index)
when you said you wanted from 1 to 5.</p>
<hr>
<h3>Breaking it down - a step by step explanation</h3>
<p>To break these examples down, say we have a list of items that we want to
iterate over with an index:</p>
<div class="code"><pre class="code literal-block">items = ['a', 'b', 'c', 'd', 'e']
</pre></div>

<p>Now we pass this iterable to enumerate, creating an enumerate object:</p>
<div class="code"><pre class="code literal-block"><span class="n">enumerate_object</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">enumerate</span><span class="p">(</span><span class="n">items</span><span class="p">)</span><span class="w"> </span><span class="c1"># the enumerate object</span>
</pre></div>

<p>We can pull the first item out of this iterable that we would get in a loop
with the <code>next</code> function:</p>
<div class="code"><pre class="code literal-block"><span class="n">iteration</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">next</span><span class="p">(</span><span class="n">enumerate_object</span><span class="p">)</span><span class="w"> </span><span class="c1"># first iteration from enumerate</span>
<span class="nb">print</span><span class="p">(</span><span class="n">iteration</span><span class="p">)</span>
</pre></div>

<p>And we see we get a tuple of <code>0</code>, the first index, and <code>'a'</code>, the first item:</p>
<div class="code"><pre class="code literal-block">(0, 'a')
</pre></div>

<p>we can use what is referred to as "sequence unpacking" to extract the elements
from this two-tuple:</p>
<div class="code"><pre class="code literal-block">index, item = iteration
#   0,  'a' = (0, 'a') # essentially this.
</pre></div>

<p>and when we inspect <code>index</code>, we find it refers to the first index, 0, and
<code>item</code> refers to the first item, <code>'a'</code>.</p>
<div class="code"><pre class="code literal-block">&gt;&gt;&gt; print(index)
0
&gt;&gt;&gt; print(item)
a
</pre></div>

<h2>Conclusion</h2>
<ul>
<li>Python indexes start at zero</li>
<li>To get these indexes from an iterable as you iterate over it, use the enumerate function</li>
<li>Using enumerate in the idiomatic way (along with tuple unpacking) creates code that is more readable and maintainable:</li>
</ul>
<p>So do this:</p>
<div class="code"><pre class="code literal-block"><span class="k">for</span><span class="w"> </span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">enumerate</span><span class="p">(</span><span class="n">items</span><span class="p">,</span><span class="w"> </span><span class="n">start</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span><span class="w">   </span><span class="c1"># Python indexes start at zero</span>
<span class="w">    </span><span class="nb">print</span><span class="p">(</span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="n">item</span><span class="p">)</span>
</pre></div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/list/" rel="tag">list</a></li>
            <li><a class="tag p-category" href="../../categories/loops/" rel="tag">loops</a></li>
            <li><a class="tag p-category" href="../../categories/python/" rel="tag">python</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../how-do-i-check-whether-a-checkbox-is-checked-in-jquery/" rel="prev" title="How do I check whether a checkbox is checked in jQuery?">Previous post</a>
            </li>
            <li class="next">
                <a href="../how-do-i-make-a-flat-list-out-of-a-list-of-lists/" rel="next" title="How do I make a flat list out of a list of lists?">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

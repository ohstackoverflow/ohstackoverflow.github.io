<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>var functionName = function() {} vs function functionName() {} | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/var-functionname-function-vs-function-functionname/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../how-do-i-revert-a-git-repository-to-a-previous-commit/" title="How do I revert a Git repository to a previous commit?" type="text/html">
<link rel="next" href="../why-is-subtracting-these-two-times-in-1927-giving-a-strange-result/" title="Why is subtracting these two times (in 1927) giving a strange result?" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="var functionName = function() {} vs function functionName() {}">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/var-functionname-function-vs-function-functionname/">
<meta property="og:description" content="I've recently started maintaining someone else's JavaScript code. I'm fixing
bugs, adding features and also trying to tidy up the code and make it more
consistent.
The previous developer used two ways">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-16T18:25:01+08:00">
<meta property="article:tag" content="function">
<meta property="article:tag" content="javascript">
<meta property="article:tag" content="methods">
<meta property="article:tag" content="syntax">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">var functionName = function() {} vs function functionName() {}</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T18:25:01+08:00" itemprop="datePublished" title="2023-02-16 18:25">2023-02-16 18:25</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>I've recently started maintaining someone else's JavaScript code. I'm fixing
bugs, adding features and also trying to tidy up the code and make it more
consistent.</p>
<p>The previous developer used two ways of declaring functions and I can't work
out if there is a reason behind it or not.</p>
<p>The two ways are:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">functionOne</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Some</span><span class="w"> </span><span class="n">code</span>
<span class="p">};</span>
</pre></div>

<p>And,</p>
<div class="code"><pre class="code literal-block">function functionTwo() {
    // Some code
}
</pre></div>

<p>What are the reasons for using these two different methods and what are the
pros and cons of each? Is there anything that can be done with one method that
can't be done with the other?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The difference is that <code>functionOne</code> is a function expression and so only
defined when that line is reached, whereas <code>functionTwo</code> is a function
declaration and is defined as soon as its surrounding function or script is
executed (due to hoisting).</p>
<p>For example, a function expression:</p>
<div class="code"><pre class="code literal-block"><span class="o">//</span><span class="w"> </span><span class="n">TypeError</span><span class="p">:</span><span class="w"> </span><span class="n">functionOne</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">function</span>
<span class="n">functionOne</span><span class="p">();</span>

<span class="k">var</span><span class="w"> </span><span class="n">functionOne</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s2">"Hello!"</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>

<p>And, a function declaration:</p>
<div class="code"><pre class="code literal-block"><span class="c1">// Outputs: "Hello!"</span>
<span class="n">functionTwo</span><span class="p">();</span>

<span class="k">function</span><span class="w"> </span><span class="nf">functionTwo</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">console</span><span class="p">.</span><span class="nb">log</span><span class="p">(</span><span class="s">"Hello!"</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

<p>Historically, function declarations defined within blocks were handled
inconsistently between browsers. Strict mode (introduced in ES5) resolved this
by scoping function declarations to their enclosing block.</p>
<div class="code"><pre class="code literal-block">'use strict';    
{ // note this block!
  function functionThree() {
    console.log("Hello!");
  }
}
functionThree(); // ReferenceError
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>First I want to correct Greg: <code>function abc(){}</code> is scoped too — the name
<code>abc</code> is defined in the scope where this definition is encountered. Example:</p>
<div class="code"><pre class="code literal-block">function xyz(){
  function abc(){};
  // abc is defined here...
}
// ...but not here
</pre></div>

<p>Secondly, it is possible to combine both styles:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">xyz</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">abc</span><span class="p">(){};</span>
</pre></div>

<p><code>xyz</code> is going to be defined as usual, <code>abc</code> is undefined in all browsers but
Internet Explorer — do not rely on it being defined. But it will be defined
inside its body:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">xyz</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">abc</span><span class="p">(){</span>
<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">xyz</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">visible</span><span class="w"> </span><span class="n">here</span>
<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">abc</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">visible</span><span class="w"> </span><span class="n">here</span>
<span class="p">}</span>
<span class="o">//</span><span class="w"> </span><span class="n">xyz</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">visible</span><span class="w"> </span><span class="n">here</span>
<span class="o">//</span><span class="w"> </span><span class="n">abc</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">undefined</span><span class="w"> </span><span class="n">here</span>
</pre></div>

<p>If you want to alias functions on all browsers, use this kind of declaration:</p>
<div class="code"><pre class="code literal-block"><span class="n">function</span><span class="w"> </span><span class="n">abc</span><span class="p">(){};</span>
<span class="k">var</span><span class="w"> </span><span class="n">xyz</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">abc</span><span class="p">;</span>
</pre></div>

<p>In this case, both <code>xyz</code> and <code>abc</code> are aliases of the same object:</p>
<div class="code"><pre class="code literal-block">console.log(xyz === abc); // prints "true"
</pre></div>

<p>One compelling reason to use the combined style is the "name" attribute of
function objects ( <strong>not supported by Internet Explorer</strong> ). Basically when
you define a function like</p>
<div class="code"><pre class="code literal-block">function abc(){};
console.log(abc.name); // prints "abc"
</pre></div>

<p>its name is automatically assigned. But when you define it like</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">abc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">(){};</span>
<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">name</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="nb">prints</span><span class="w"> </span><span class="s2">""</span>
</pre></div>

<p>its name is empty — we created an anonymous function and assigned it to some
variable.</p>
<p>Another good reason to use the combined style is to use a short internal name
to refer to itself, while providing a long non-conflicting name for external
users:</p>
<div class="code"><pre class="code literal-block"><span class="c1">// Assume really.long.external.scoped is {}</span>
<span class="n">really</span><span class="p">.</span><span class="n">long</span><span class="p">.</span><span class="n">external</span><span class="p">.</span><span class="n">scoped</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">shortcut</span><span class="p">(</span><span class="n">n</span><span class="p">){</span>
<span class="w">  </span><span class="c1">// Let it call itself recursively:</span>
<span class="w">  </span><span class="n">shortcut</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// ...</span>
<span class="w">  </span><span class="c1">// Let it pass itself as a callback:</span>
<span class="w">  </span><span class="n">someFunction</span><span class="p">(</span><span class="n">shortcut</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>

<p>In the example above we can do the same with an external name, but it'll be
too unwieldy (and slower).</p>
<p><em>(Another way to refer to itself is to use<code>arguments.callee</code>, which is still
relatively long, and not supported in the strict mode.)</em></p>
<p>Deep down, JavaScript treats both statements differently. This is a function
declaration:</p>
<div class="code"><pre class="code literal-block">function abc(){}
</pre></div>

<p><code>abc</code> here is defined everywhere in the current scope:</p>
<div class="code"><pre class="code literal-block"><span class="c1">// We can call it here</span>
<span class="n">abc</span><span class="p">();</span><span class="w"> </span><span class="c1">// Works</span>

<span class="c1">// Yet, it is defined down there.</span>
<span class="k">function</span><span class="w"> </span><span class="nf">abc</span><span class="p">(){}</span>

<span class="c1">// We can call it again</span>
<span class="n">abc</span><span class="p">();</span><span class="w"> </span><span class="c1">// Works</span>
</pre></div>

<p>Also, it hoisted through a <code>return</code> statement:</p>
<div class="code"><pre class="code literal-block"><span class="c1">// We can call it here</span>
<span class="n">abc</span><span class="p">();</span><span class="w"> </span><span class="c1">// Works</span>
<span class="k">return</span><span class="p">;</span>
<span class="k">function</span><span class="w"> </span><span class="nf">abc</span><span class="p">(){}</span>
</pre></div>

<p>This is a function expression:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">xyz</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">(){};</span>
</pre></div>

<p><code>xyz</code> here is defined from the point of assignment:</p>
<div class="code"><pre class="code literal-block"><span class="c1">// We can't call it here</span>
<span class="n">xyz</span><span class="p">();</span><span class="w"> </span><span class="c1">// UNDEFINED!!!</span>

<span class="c1">// Now it is defined</span>
<span class="n">xyz</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">function</span><span class="p">(){}</span>

<span class="c1">// We can call it here</span>
<span class="n">xyz</span><span class="p">();</span><span class="w"> </span><span class="c1">// works</span>
</pre></div>

<p>Function declaration vs. function expression is the real reason why there is a
difference demonstrated by Greg.</p>
<p>Fun fact:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">xyz</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">abc</span><span class="p">(){};</span>
<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">xyz</span><span class="o">.</span><span class="n">name</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">Prints</span><span class="w"> </span><span class="s2">"abc"</span>
</pre></div>

<p>Personally, I prefer the "function expression" declaration because this way I
can control the visibility. When I define the function like</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">abc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">(){};</span>
</pre></div>

<p>I know that I defined the function locally. When I define the function like</p>
<div class="code"><pre class="code literal-block">abc = function(){};
</pre></div>

<p>I know that I defined it globally providing that I didn't define <code>abc</code>
anywhere in the chain of scopes. This style of definition is resilient even
when used inside <code>eval()</code>. While the definition</p>
<div class="code"><pre class="code literal-block">function abc(){};
</pre></div>

<p>depends on the context and may leave you guessing where it is actually
defined, especially in the case of <code>eval()</code> — the answer is: It depends on the
browser.</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/function/" rel="tag">function</a></li>
            <li><a class="tag p-category" href="../../categories/javascript/" rel="tag">javascript</a></li>
            <li><a class="tag p-category" href="../../categories/methods/" rel="tag">methods</a></li>
            <li><a class="tag p-category" href="../../categories/syntax/" rel="tag">syntax</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../how-do-i-revert-a-git-repository-to-a-previous-commit/" rel="prev" title="How do I revert a Git repository to a previous commit?">Previous post</a>
            </li>
            <li class="next">
                <a href="../why-is-subtracting-these-two-times-in-1927-giving-a-strange-result/" rel="next" title="Why is subtracting these two times (in 1927) giving a strange result?">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

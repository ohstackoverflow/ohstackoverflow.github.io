<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>How to check iOS version? | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/how-to-check-ios-version/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../android-os-fileuriexposedexception-file-storage-emulated-0-test-txt-exposed-beyond-app-through-intent-getdata/" title="android.os.FileUriExposedException: file:///storage/emulated/0/test.txt exposed beyond app through Intent.getData()" type="text/html">
<link rel="next" href="../identify-if-a-string-is-a-number/" title="Identify if a string is a number" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="How to check iOS version?">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/how-to-check-ios-version/">
<meta property="og:description" content="I want to check if the iOS version of the device is greater than 3.1.3 I
tried things like:
[[UIDevice currentDevice].systemVersion floatValue]


but it does not work, I just want a:
if (version &gt; 3.1">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-17T10:05:39+08:00">
<meta property="article:tag" content="ios">
<meta property="article:tag" content="objective-c">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">How to check iOS version?</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T10:05:39+08:00" itemprop="datePublished" title="2023-02-17 10:05">2023-02-17 10:05</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>I want to check if the <code>iOS</code> version of the device is greater than <code>3.1.3</code> I
tried things like:</p>
<div class="code"><pre class="code literal-block"><span class="p">[[</span><span class="bp">UIDevice</span><span class="w"> </span><span class="n">currentDevice</span><span class="p">].</span><span class="n">systemVersion</span><span class="w"> </span><span class="n">floatValue</span><span class="p">]</span>
</pre></div>

<p>but it does not work, I just want a:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">version</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">3</span>.<span class="mi">1</span>.<span class="mi">3</span><span class="ss">)</span><span class="w"> </span>{<span class="w"> </span>}
</pre></div>

<p>How can I achieve this?</p>
<p><br><br></p>
<h2>Answer</h2>
<h4>The quick answer …</h4>
<p>As of Swift 2.0, you can use <code>#available</code> in an <code>if</code> or <code>guard</code> to protect
code that should only be run on certain systems.</p>
<p><code>if #available(iOS 9, *) {}</code>  </p>
<p>In Objective-C, you need to check the system version and perform a comparison.</p>
<p><code>[[NSProcessInfo processInfo] operatingSystemVersion]</code> in iOS 8 and above.</p>
<p>As of Xcode 9:</p>
<p><code>if (@available(iOS 9, *)) {}</code></p>
<h3>The full answer …</h3>
<p>In Objective-C, and Swift in rare cases, it's better to avoid relying on the
operating system version as an indication of device or OS capabilities. There
is usually a more reliable method of checking whether a particular feature or
class is available.</p>
<p><strong>Checking for the presence of APIs:</strong></p>
<p>For example, you can check if <code>UIPopoverController</code> is available on the
current device using <code>NSClassFromString</code>:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">NSClassFromString</span><span class="p">(</span><span class="s">@"UIPopoverController"</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Do something</span>
<span class="p">}</span>
</pre></div>

<p>For weakly linked classes, it is safe to message the class, directly. Notably,
this works for frameworks that aren't explicitly linked as "Required". For
missing classes, the expression evaluates to nil, failing the condition:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="p">([</span><span class="bp">LAContext</span><span class="w"> </span><span class="k">class</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Do something</span>
<span class="p">}</span>
</pre></div>

<p>Some classes, like <code>CLLocationManager</code> and <code>UIDevice</code>, provide methods to
check device capabilities:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="p">([</span><span class="bp">CLLocationManager</span><span class="w"> </span><span class="n">headingAvailable</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Do something</span>
<span class="p">}</span>
</pre></div>

<p><strong>Checking for the presence of symbols:</strong></p>
<p>Very occasionally, you must check for the presence of a constant. This came up
in iOS 8 with the introduction of <code>UIApplicationOpenSettingsURLString</code>, used
to load Settings app via <code>-openURL:</code>. The value didn't exist prior to iOS 8.
Passing nil to this API will crash, so you must take care to verify the
existence of the constant first:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">&amp;</span><span class="n">UIApplicationOpenSettingsURLString</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">[[</span><span class="bp">UIApplication</span><span class="w"> </span><span class="n">sharedApplication</span><span class="p">]</span><span class="w"> </span><span class="n">openURL</span><span class="o">:</span><span class="p">[</span><span class="bp">NSURL</span><span class="w"> </span><span class="n">URLWithString</span><span class="o">:</span><span class="n">UIApplicationOpenSettingsURLString</span><span class="p">]];</span>
<span class="p">}</span>
</pre></div>

<p><strong>Comparing against the operating system version:</strong></p>
<p>Let's assume you're faced with the relatively rare need to check the operating
system version. For projects targeting iOS 8 and above, <code>NSProcessInfo</code>
includes a method for performing version comparisons with less chance of
error:</p>
<div class="code"><pre class="code literal-block">- (BOOL)isOperatingSystemAtLeastVersion:(NSOperatingSystemVersion)version
</pre></div>

<p>Projects targeting older systems can use <code>systemVersion</code> on <code>UIDevice</code>. Apple
uses it in their GLSprite sample code.</p>
<div class="code"><pre class="code literal-block"><span class="c1">// A system version of 3.1 or greater is required to use CADisplayLink. The NSTimer</span>
<span class="c1">// class is used as fallback when it isn't available.</span>
<span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="n">reqSysVer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">@"3.1"</span><span class="p">;</span>
<span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="n">currSysVer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="bp">UIDevice</span><span class="w"> </span><span class="n">currentDevice</span><span class="p">]</span><span class="w"> </span><span class="n">systemVersion</span><span class="p">];</span>
<span class="k">if</span><span class="w"> </span><span class="p">([</span><span class="n">currSysVer</span><span class="w"> </span><span class="n">compare</span><span class="o">:</span><span class="n">reqSysVer</span><span class="w"> </span><span class="n">options</span><span class="o">:</span><span class="n">NSNumericSearch</span><span class="p">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">NSOrderedAscending</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">displayLinkSupported</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">TRUE</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>If for whatever reason you decide that <code>systemVersion</code> is what you want, make
sure to treat it as an string or you risk truncating the patch revision number
(eg. 3.1.2 -&gt; 3.1).</p>
<p><br></p>
<h3>Suggest</h3>
<h4>The quick answer …</h4>
<p>As of Swift 2.0, you can use <code>#available</code> in an <code>if</code> or <code>guard</code> to protect
code that should only be run on certain systems.</p>
<p><code>if #available(iOS 9, *) {}</code>  </p>
<p>In Objective-C, you need to check the system version and perform a comparison.</p>
<p><code>[[NSProcessInfo processInfo] operatingSystemVersion]</code> in iOS 8 and above.</p>
<p>As of Xcode 9:</p>
<p><code>if (@available(iOS 9, *)) {}</code></p>
<h3>The full answer …</h3>
<p>In Objective-C, and Swift in rare cases, it's better to avoid relying on the
operating system version as an indication of device or OS capabilities. There
is usually a more reliable method of checking whether a particular feature or
class is available.</p>
<p><strong>Checking for the presence of APIs:</strong></p>
<p>For example, you can check if <code>UIPopoverController</code> is available on the
current device using <code>NSClassFromString</code>:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">NSClassFromString</span><span class="p">(</span><span class="s">@"UIPopoverController"</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Do something</span>
<span class="p">}</span>
</pre></div>

<p>For weakly linked classes, it is safe to message the class, directly. Notably,
this works for frameworks that aren't explicitly linked as "Required". For
missing classes, the expression evaluates to nil, failing the condition:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="p">([</span><span class="bp">LAContext</span><span class="w"> </span><span class="k">class</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Do something</span>
<span class="p">}</span>
</pre></div>

<p>Some classes, like <code>CLLocationManager</code> and <code>UIDevice</code>, provide methods to
check device capabilities:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="p">([</span><span class="bp">CLLocationManager</span><span class="w"> </span><span class="n">headingAvailable</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Do something</span>
<span class="p">}</span>
</pre></div>

<p><strong>Checking for the presence of symbols:</strong></p>
<p>Very occasionally, you must check for the presence of a constant. This came up
in iOS 8 with the introduction of <code>UIApplicationOpenSettingsURLString</code>, used
to load Settings app via <code>-openURL:</code>. The value didn't exist prior to iOS 8.
Passing nil to this API will crash, so you must take care to verify the
existence of the constant first:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">&amp;</span><span class="n">UIApplicationOpenSettingsURLString</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">[[</span><span class="bp">UIApplication</span><span class="w"> </span><span class="n">sharedApplication</span><span class="p">]</span><span class="w"> </span><span class="n">openURL</span><span class="o">:</span><span class="p">[</span><span class="bp">NSURL</span><span class="w"> </span><span class="n">URLWithString</span><span class="o">:</span><span class="n">UIApplicationOpenSettingsURLString</span><span class="p">]];</span>
<span class="p">}</span>
</pre></div>

<p><strong>Comparing against the operating system version:</strong></p>
<p>Let's assume you're faced with the relatively rare need to check the operating
system version. For projects targeting iOS 8 and above, <code>NSProcessInfo</code>
includes a method for performing version comparisons with less chance of
error:</p>
<div class="code"><pre class="code literal-block">- (BOOL)isOperatingSystemAtLeastVersion:(NSOperatingSystemVersion)version
</pre></div>

<p>Projects targeting older systems can use <code>systemVersion</code> on <code>UIDevice</code>. Apple
uses it in their GLSprite sample code.</p>
<div class="code"><pre class="code literal-block"><span class="c1">// A system version of 3.1 or greater is required to use CADisplayLink. The NSTimer</span>
<span class="c1">// class is used as fallback when it isn't available.</span>
<span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="n">reqSysVer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">@"3.1"</span><span class="p">;</span>
<span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="n">currSysVer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="bp">UIDevice</span><span class="w"> </span><span class="n">currentDevice</span><span class="p">]</span><span class="w"> </span><span class="n">systemVersion</span><span class="p">];</span>
<span class="k">if</span><span class="w"> </span><span class="p">([</span><span class="n">currSysVer</span><span class="w"> </span><span class="n">compare</span><span class="o">:</span><span class="n">reqSysVer</span><span class="w"> </span><span class="n">options</span><span class="o">:</span><span class="n">NSNumericSearch</span><span class="p">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">NSOrderedAscending</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">displayLinkSupported</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">TRUE</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>If for whatever reason you decide that <code>systemVersion</code> is what you want, make
sure to treat it as an string or you risk truncating the patch revision number
(eg. 3.1.2 -&gt; 3.1).</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/ios/" rel="tag">ios</a></li>
            <li><a class="tag p-category" href="../../categories/objective-c/" rel="tag">objective-c</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../android-os-fileuriexposedexception-file-storage-emulated-0-test-txt-exposed-beyond-app-through-intent-getdata/" rel="prev" title="android.os.FileUriExposedException: file:///storage/emulated/0/test.txt exposed beyond app through Intent.getData()">Previous post</a>
            </li>
            <li class="next">
                <a href="../identify-if-a-string-is-a-number/" rel="next" title="Identify if a string is a number">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

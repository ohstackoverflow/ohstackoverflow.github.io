<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>How do I prevent a parent's onclick event from firing when a child anchor is clicked? | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/how-do-i-prevent-a-parent-s-onclick-event-from-firing-when-a-child-anchor-is-clicked/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../redirecting-to-a-relative-url-in-javascript/" title="Redirecting to a relative URL in JavaScript" type="text/html">
<link rel="next" href="../change-vs-ngmodelchange-in-angular/" title="(change) vs (ngModelChange) in angular" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="How do I prevent a parent's onclick event from firing when a child anc">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/how-do-i-prevent-a-parent-s-onclick-event-from-firing-when-a-child-anchor-is-clicked/">
<meta property="og:description" content="I'm currently using jQuery to make a div clickable and in this div I also have
anchors. The problem I'm running into is that when I click on an anchor both
click events are firing (for the div and the">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-03-03T07:10:20+08:00">
<meta property="article:tag" content="event-propagation">
<meta property="article:tag" content="javascript">
<meta property="article:tag" content="jquery">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">How do I prevent a parent's onclick event from firing when a child anchor is clicked?</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T07:10:20+08:00" itemprop="datePublished" title="2023-03-03 07:10">2023-03-03 07:10</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>I'm currently using jQuery to make a div clickable and in this div I also have
anchors. The problem I'm running into is that when I click on an anchor both
click events are firing (for the div and the anchor). How do I prevent the
div's onclick event from firing when an anchor is clicked?</p>
<p>Here's the broken code:</p>
<p><strong>JavaScript</strong></p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="s2">"#clickable a"</span><span class="p">)</span><span class="o">.</span><span class="n">attr</span><span class="p">(</span><span class="s2">"href"</span><span class="p">);</span>

<span class="o">$</span><span class="p">(</span><span class="s2">"#clickable"</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">(</span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">window</span><span class="o">.</span><span class="n">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">url</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="bp">true</span><span class="p">;</span>
<span class="p">})</span>
</pre></div>

<p><strong>HTML</strong></p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;div</span><span class="w"> </span><span class="na">id=</span><span class="s">"clickable"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="cm">&lt;!-- Other content. --&gt;</span>
<span class="w">    </span><span class="nt">&lt;a</span><span class="w"> </span><span class="na">href=</span><span class="s">"http://foo.example"</span><span class="nt">&gt;</span>I<span class="w"> </span>don't<span class="w"> </span>want<span class="w"> </span>#clickable<span class="w"> </span>to<span class="w"> </span>handle<span class="w"> </span>this<span class="w"> </span>click<span class="w"> </span>event.<span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>Events bubble to the highest point in the DOM at which a click event has been
attached. So in your example, even if you didn't have any other explicitly
clickable elements in the div, every child element of the div would bubble
their click event up the DOM to until the DIV's click event handler catches
it.</p>
<p>There are two solutions to this is to check to see who actually originated the
event. jQuery passes an eventargs object along with the event:</p>
<div class="code"><pre class="code literal-block"><span class="o">$</span><span class="p">(</span><span class="s2">"#clickable"</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">(</span><span class="n">function</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">senderElement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">e</span><span class="o">.</span><span class="n">target</span><span class="p">;</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Check</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">sender</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="o">$</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">target</span><span class="p">)</span><span class="o">.</span><span class="k">is</span><span class="p">(</span><span class="s2">"div"</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">window</span><span class="o">.</span><span class="n">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">url</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="bp">true</span><span class="p">;</span>
<span class="p">});</span>
</pre></div>

<p>You can also attach a click event handler to your links which tell them to
stop event bubbling after their own handler executes:</p>
<div class="code"><pre class="code literal-block">$<span class="ss">(</span><span class="s2">"#clickable a"</span><span class="ss">)</span>.<span class="nv">click</span><span class="ss">(</span><span class="nv">function</span><span class="ss">(</span><span class="nv">e</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">   </span><span class="o">//</span><span class="w"> </span><span class="k">Do</span><span class="w"> </span><span class="nv">something</span>
<span class="w">   </span><span class="nv">e</span>.<span class="nv">stopPropagation</span><span class="ss">()</span><span class="c1">;</span>
}<span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Use stopPropagation method, see an example:</p>
<div class="code"><pre class="code literal-block">$("#clickable a").click(function(e) {
   e.stopPropagation();
});
</pre></div>

<p>As said by jQuery Docs:</p>
<blockquote>
<p><code>stopPropagation</code> method prevents the event from bubbling up the DOM tree,
preventing any parent handlers from being notified of the event.</p>
</blockquote>
<p>Keep in mind that it does not <strong>prevent others listeners to handle this
event</strong> (ex. more than one click handler for a button), if it is not the
desired effect, you must use <code>stopImmediatePropagation</code> instead.</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/event-propagation/" rel="tag">event-propagation</a></li>
            <li><a class="tag p-category" href="../../categories/javascript/" rel="tag">javascript</a></li>
            <li><a class="tag p-category" href="../../categories/jquery/" rel="tag">jquery</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../redirecting-to-a-relative-url-in-javascript/" rel="prev" title="Redirecting to a relative URL in JavaScript">Previous post</a>
            </li>
            <li class="next">
                <a href="../change-vs-ngmodelchange-in-angular/" rel="next" title="(change) vs (ngModelChange) in angular">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

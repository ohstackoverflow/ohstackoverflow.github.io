<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>How can I have a newline in a string in sh? | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/how-can-i-have-a-newline-in-a-string-in-sh/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../how-to-check-that-an-element-is-in-a-std-set/" title="How to check that an element is in a std::set?" type="text/html">
<link rel="next" href="../does-go-have-if-x-in-construct-similar-to-python/" title='Does Go have "if x in" construct similar to Python?' type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="How can I have a newline in a string in sh?">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/how-can-i-have-a-newline-in-a-string-in-sh/">
<meta property="og:description" content="This
STR=&quot;Hello\nWorld&quot;
echo $STR


produces as output
Hello\nWorld


instead of
Hello
World


What should I do to have a newline in a string?
Note: This question is not about echo. I'm aware of echo ">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-03-03T10:54:28+08:00">
<meta property="article:tag" content="sh">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">How can I have a newline in a string in sh?</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T10:54:28+08:00" itemprop="datePublished" title="2023-03-03 10:54">2023-03-03 10:54</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>This</p>
<div class="code"><pre class="code literal-block">STR="Hello\nWorld"
echo $STR
</pre></div>

<p>produces as output</p>
<div class="code"><pre class="code literal-block">Hello\nWorld
</pre></div>

<p>instead of</p>
<div class="code"><pre class="code literal-block">Hello
World
</pre></div>

<p>What should I do to have a newline in a string?</p>
<p>Note: This question is not about <em>echo</em>. I'm aware of <code>echo -e</code>, but I'm
looking for a solution that allows passing a string (which includes a newline)
as an argument to <em>other</em> commands that do not have a similar option to
interpret <code>\n</code>'s as newlines.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>If you're using Bash, you can use backslash-escapes inside of a specially-
quoted <code>$'string'</code>. For example, adding <code>\n</code>:</p>
<div class="code"><pre class="code literal-block">STR=$'Hello\nWorld'
echo "$STR" # quotes are required here!
</pre></div>

<p>Prints:</p>
<div class="code"><pre class="code literal-block">Hello
World
</pre></div>

<p>If you're using pretty much any other shell, just insert the newline as-is in
the string:</p>
<div class="code"><pre class="code literal-block">STR='Hello
World'
</pre></div>

<p>Bash recognizes a number of other backslash escape sequences in the <code>$''</code>
string. Here is an excerpt from the Bash manual page:</p>
<div class="code"><pre class="code literal-block"><span class="nv">Words</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">form</span><span class="w"> </span>$<span class="s1">'string'</span><span class="w"> </span><span class="nv">are</span><span class="w"> </span><span class="nv">treated</span><span class="w"> </span><span class="nv">specially</span>.<span class="w"> </span><span class="nv">The</span><span class="w"> </span><span class="nv">word</span><span class="w"> </span><span class="nv">expands</span><span class="w"> </span><span class="nv">to</span>
<span class="nv">string</span>,<span class="w"> </span><span class="nv">with</span><span class="w"> </span><span class="nv">backslash</span><span class="o">-</span><span class="nv">escaped</span><span class="w"> </span><span class="nv">characters</span><span class="w"> </span><span class="nv">replaced</span><span class="w"> </span><span class="nv">as</span><span class="w"> </span><span class="nv">specified</span><span class="w"> </span><span class="nv">by</span><span class="w"> </span><span class="nv">the</span>
<span class="nv">ANSI</span><span class="w"> </span><span class="nv">C</span><span class="w"> </span><span class="nv">standard</span>.<span class="w"> </span><span class="nv">Backslash</span><span class="w"> </span><span class="nv">escape</span><span class="w"> </span><span class="nv">sequences</span>,<span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">present</span>,<span class="w"> </span><span class="nv">are</span><span class="w"> </span><span class="nv">decoded</span>
<span class="nv">as</span><span class="w"> </span><span class="nv">follows</span>:
<span class="w">      </span>\<span class="nv">a</span><span class="w">     </span><span class="nv">alert</span><span class="w"> </span><span class="ss">(</span><span class="nv">bell</span><span class="ss">)</span>
<span class="w">      </span>\<span class="nv">b</span><span class="w">     </span><span class="nv">backspace</span>
<span class="w">      </span>\<span class="nv">e</span>
<span class="w">      </span>\<span class="nv">E</span><span class="w">     </span><span class="nv">an</span><span class="w"> </span><span class="nv">escape</span><span class="w"> </span><span class="nv">character</span>
<span class="w">      </span>\<span class="nv">f</span><span class="w">     </span><span class="nv">form</span><span class="w"> </span><span class="nv">feed</span>
<span class="w">      </span>\<span class="nv">n</span><span class="w">     </span><span class="nv">new</span><span class="w"> </span><span class="nv">line</span>
<span class="w">      </span>\<span class="nv">r</span><span class="w">     </span><span class="nv">carriage</span><span class="w"> </span><span class="k">return</span>
<span class="w">      </span>\<span class="nv">t</span><span class="w">     </span><span class="nv">horizontal</span><span class="w"> </span><span class="nv">tab</span>
<span class="w">      </span>\<span class="nv">v</span><span class="w">     </span><span class="nv">vertical</span><span class="w"> </span><span class="nv">tab</span>
<span class="w">      </span>\\<span class="w">     </span><span class="nv">backslash</span>
<span class="w">      </span>\<span class="err">'     single quote</span>
<span class="err">      \"     double quote</span>
<span class="err">      \nnn   the eight-bit character whose value is the octal value</span>
<span class="err">             nnn (one to three digits)</span>
<span class="err">      \xHH   the eight-bit character whose value is the hexadecimal</span>
<span class="err">             value HH (one or two hex digits)</span>
<span class="err">      \cx    a control-x character</span>

<span class="err">The expanded result is single-quoted, as if the dollar sign had not</span>
<span class="err">been present.</span>

<span class="err">A double-quoted string preceded by a dollar sign ($"string") will cause</span>
<span class="err">the string to be translated according to the current locale. If the</span>
<span class="err">current locale is C or POSIX, the dollar sign is ignored. If the</span>
<span class="err">string is translated and replaced, the replacement is double-quoted.</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Echo is so nineties and so fraught with perils that its use should result in
core dumps no less than 4GB. Seriously, echo's problems were the reason why
the Unix Standardization process finally invented the <code>printf</code> utility, doing
away with all the problems.</p>
<p>So to get a newline in a string, there are two ways:</p>
<div class="code"><pre class="code literal-block"><span class="p">#</span><span class="w"> </span><span class="mh">1</span><span class="p">)</span><span class="w"> </span><span class="n">Literal</span><span class="w"> </span><span class="n">newline</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">assignment</span><span class="p">.</span>
<span class="n">FOO</span><span class="o">=</span><span class="s">"hello</span>
<span class="n">world</span><span class="s">"</span>
<span class="p">#</span><span class="w"> </span><span class="mh">2</span><span class="p">)</span><span class="w"> </span><span class="n">Command</span><span class="w"> </span><span class="n">substitution</span><span class="p">.</span>
<span class="n">BAR</span><span class="o">=</span><span class="err">$</span><span class="p">(</span><span class="n">printf</span><span class="w"> </span><span class="s">"hello</span><span class="se">\n</span><span class="s">world</span><span class="se">\n</span><span class="s">"</span><span class="p">)</span><span class="w"> </span><span class="p">#</span><span class="w"> </span><span class="n">Alternative</span><span class="p">;</span><span class="w"> </span><span class="nl">note:</span><span class="w"> </span><span class="k">final</span><span class="w"> </span><span class="n">newline</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">deleted</span>
<span class="n">printf</span><span class="w"> </span><span class="p">'</span><span class="o">&lt;%</span><span class="n">s</span><span class="o">&gt;</span><span class="n">\n'</span><span class="w"> </span><span class="s">"$FOO"</span>
<span class="n">printf</span><span class="w"> </span><span class="p">'</span><span class="o">&lt;%</span><span class="n">s</span><span class="o">&gt;</span><span class="n">\n'</span><span class="w"> </span><span class="s">"$BAR"</span>
</pre></div>

<p>There! No SYSV vs BSD echo madness, everything gets neatly printed and fully
portable support for C escape sequences. Everybody please use <code>printf</code> now for
all your output needs and never look back.</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/sh/" rel="tag">sh</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../how-to-check-that-an-element-is-in-a-std-set/" rel="prev" title="How to check that an element is in a std::set?">Previous post</a>
            </li>
            <li class="next">
                <a href="../does-go-have-if-x-in-construct-similar-to-python/" rel="next" title='Does Go have "if x in" construct similar to Python?'>Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

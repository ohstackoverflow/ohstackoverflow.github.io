<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>How to check if a variable is set in Bash | StackOverflow Snapshot</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/posts/how-to-check-if-a-variable-is-set-in-bash/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Arya">
<link rel="prev" href="../get-int-value-from-enum-in-c/" title="Get int value from enum in C#" type="text/html">
<link rel="next" href="../what-is-inversion-of-control/" title="What is Inversion of Control?" type="text/html">
<meta property="og:site_name" content="StackOverflow Snapshot">
<meta property="og:title" content="How to check if a variable is set in Bash">
<meta property="og:url" content="https://ohstackoverflow.netlify.app/posts/how-to-check-if-a-variable-is-set-in-bash/">
<meta property="og:description" content="How do I know if a variable is set in Bash?
For example, how do I check if the user gave the first parameter to a
function?
function a {
    # if $1 is set ?
}



Answer
(Usually) The right way
if [ -">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-16T22:02:53+08:00">
<meta property="article:tag" content="bash">
<meta property="article:tag" content="shell">
<meta property="article:tag" content="variables">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">How to check if a variable is set in Bash</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T22:02:53+08:00" itemprop="datePublished" title="2023-02-16 22:02">2023-02-16 22:02</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>How do I know if a variable is set in Bash?</p>
<p>For example, how do I check if the user gave the first parameter to a
function?</p>
<div class="code"><pre class="code literal-block"><span class="nv">function</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span>{
<span class="w">    </span>#<span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="mh">$1</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">set</span><span class="w"> </span>?
}
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<h3>(Usually) The right way</h3>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="o">-</span><span class="n">z</span><span class="w"> </span><span class="o">$</span><span class="p">{</span><span class="k">var</span><span class="o">+</span><span class="n">x</span><span class="p">}</span><span class="w"> </span><span class="p">];</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="n">echo</span><span class="w"> </span><span class="s2">"var is unset"</span><span class="p">;</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">echo</span><span class="w"> </span><span class="s2">"var is set to '$var'"</span><span class="p">;</span><span class="w"> </span><span class="n">fi</span>
</pre></div>

<p>where <code>${var+x}</code> is a parameter expansion which evaluates to nothing if <code>var</code>
is unset, and substitutes the string <code>x</code> otherwise.</p>
<h4>Quotes Digression</h4>
<p>Quotes can be omitted (so we can say <code>${var+x}</code> instead of <code>"${var+x}"</code>)
because this syntax &amp; usage guarantees this will only expand to something that
does not require quotes (since it either expands to <code>x</code> (which contains no
word breaks so it needs no quotes), or to nothing (which results in <code>[ -z ]</code>,
which conveniently evaluates to the same value (true) that <code>[ -z "" ]</code> does as
well)).</p>
<p>However, while quotes can be safely omitted, and it was not immediately
obvious to all (it wasn't even apparent to the first author of this quotes
explanation who is also a major Bash coder), it would sometimes be better to
write the solution with quotes as <code>[ -z "${var+x}" ]</code>, at the very small
possible cost of an O(1) speed penalty. The first author also added this as a
comment next to the code using this solution giving the URL to this answer,
which now also includes the explanation for why the quotes can be safely
omitted.</p>
<h3>(Often) The wrong way</h3>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="o">-</span><span class="n">z</span><span class="w"> </span><span class="s2">"$var"</span><span class="w"> </span><span class="p">];</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="n">echo</span><span class="w"> </span><span class="s2">"var is blank"</span><span class="p">;</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">echo</span><span class="w"> </span><span class="s2">"var is set to '$var'"</span><span class="p">;</span><span class="w"> </span><span class="n">fi</span>
</pre></div>

<p>This is often wrong because it doesn't distinguish between a variable that is
unset and a variable that is set to the empty string. That is to say, if
<code>var=''</code>, then the above solution will output "var is blank".</p>
<p>The distinction between unset and "set to the empty string" is essential in
situations where the user has to specify an extension, or additional list of
properties, and that not specifying them defaults to a non-empty value,
whereas specifying the empty string should make the script use an empty
extension or list of additional properties.</p>
<p>The distinction may not be essential in every scenario though. In those cases
<code>[ -z "$var" ]</code> will be just fine.</p>
<p><br></p>
<h3>Suggest</h3>
<p>To check for non-null/non-zero string variable, i.e. if set, use</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span>[<span class="w"> </span><span class="o">-</span><span class="nv">n</span><span class="w"> </span><span class="s2">"$1"</span><span class="w"> </span>]
</pre></div>

<p>It's the opposite of <code>-z</code>. I find myself using <code>-n</code> more than <code>-z</code>.</p>
<p>You would use it like:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span>[<span class="w"> </span><span class="o">-</span><span class="nv">n</span><span class="w"> </span><span class="s2">"$1"</span><span class="w"> </span>]<span class="c1">; then</span>
<span class="w">  </span><span class="nv">echo</span><span class="w"> </span><span class="s2">"You supplied the first parameter!"</span>
<span class="k">else</span>
<span class="w">  </span><span class="nv">echo</span><span class="w"> </span><span class="s2">"First parameter not supplied."</span>
<span class="nv">fi</span>
</pre></div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/bash/" rel="tag">bash</a></li>
            <li><a class="tag p-category" href="../../categories/shell/" rel="tag">shell</a></li>
            <li><a class="tag p-category" href="../../categories/variables/" rel="tag">variables</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../get-int-value-from-enum-in-c/" rel="prev" title="Get int value from enum in C#">Previous post</a>
            </li>
            <li class="next">
                <a href="../what-is-inversion-of-control/" rel="next" title="What is Inversion of Control?">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="../../assets/js/search.js"></script>
</body>
</html>

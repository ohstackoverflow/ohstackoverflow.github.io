<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1284) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1284.html">
<link rel="prev" href="index-1285.html" type="text/html">
<link rel="next" href="index-1283.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/convert-python-dict-into-a-dataframe/" class="u-url">Convert Python dict into a dataframe</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/convert-python-dict-into-a-dataframe/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T05:41:14+08:00" itemprop="datePublished" title="2023-02-18 05:41">2023-02-18 05:41</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a Python dictionary like the following:</p>
<div class="code"><pre class="code literal-block">{u'2012-06-08': 388,
 u'2012-06-09': 388,
 u'2012-06-10': 388,
 u'2012-06-11': 389,
 u'2012-06-12': 389,
 u'2012-06-13': 389,
 u'2012-06-14': 389,
 u'2012-06-15': 389,
 u'2012-06-16': 389,
 u'2012-06-17': 389,
 u'2012-06-18': 390,
 u'2012-06-19': 390,
 u'2012-06-20': 390,
 u'2012-06-21': 390,
 u'2012-06-22': 390,
 u'2012-06-23': 390,
 u'2012-06-24': 390,
 u'2012-06-25': 391,
 u'2012-06-26': 391,
 u'2012-06-27': 391,
 u'2012-06-28': 391,
 u'2012-06-29': 391,
 u'2012-06-30': 391,
 u'2012-07-01': 391,
 u'2012-07-02': 392,
 u'2012-07-03': 392,
 u'2012-07-04': 392,
 u'2012-07-05': 392,
 u'2012-07-06': 392}
</pre></div>

<p>The keys are Unicode dates and the values are integers. I would like to
convert this into a pandas dataframe by having the dates and their
corresponding values as two separate columns. Example: col1: Dates col2:
DateValue (the dates are still Unicode and datevalues are still integers)</p>
<div class="code"><pre class="code literal-block">     Date         DateValue
0    2012-07-01    391
1    2012-07-02    392
2    2012-07-03    392
.    2012-07-04    392
.    ...           ...
.    ...           ...
</pre></div>

<p>Any help in this direction would be much appreciated. I am unable to find
resources on the pandas docs to help me with this.</p>
<p>I know one solution might be to convert each key-value pair in this dict, into
a dict so the entire structure becomes a dict of dicts, and then we can add
each row individually to the dataframe. But I want to know if there is an
easier way and a more direct way to do this.</p>
<p>So far I have tried converting the dict into a series object but this doesn't
seem to maintain the relationship between the columns:</p>
<div class="code"><pre class="code literal-block">s  = Series(my_dict,index=my_dict.keys())
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>The error here, is since calling the DataFrame constructor with scalar values
(where it expects values to be a list/dict/... i.e. have multiple columns):</p>
<div class="code"><pre class="code literal-block"><span class="nv">pd</span>.<span class="nv">DataFrame</span><span class="ss">(</span><span class="nv">d</span><span class="ss">)</span>
<span class="nv">ValueError</span>:<span class="w"> </span><span class="k">If</span><span class="w"> </span><span class="nv">using</span><span class="w"> </span><span class="nv">all</span><span class="w"> </span><span class="nv">scalar</span><span class="w"> </span><span class="nv">values</span>,<span class="w"> </span><span class="nv">you</span><span class="w"> </span><span class="nv">must</span><span class="w"> </span><span class="nv">must</span><span class="w"> </span><span class="nv">pass</span><span class="w"> </span><span class="nv">an</span><span class="w"> </span><span class="nv">index</span>
</pre></div>

<p>You could take the items from the dictionary (i.e. the key-value pairs):</p>
<div class="code"><pre class="code literal-block">In [11]: pd.DataFrame(d.items())  # or list(d.items()) in python 3
Out[11]:
             0    1
0   2012-07-02  392
1   2012-07-06  392
2   2012-06-29  391
3   2012-06-28  391
...

In [12]: pd.DataFrame(d.items(), columns=['Date', 'DateValue'])
Out[12]:
          Date  DateValue
0   2012-07-02        392
1   2012-07-06        392
2   2012-06-29        391
</pre></div>

<p>But I think it makes more sense to pass the Series constructor:</p>
<div class="code"><pre class="code literal-block">In [21]: s = pd.Series(d, name='DateValue')
Out[21]:
2012-06-08    388
2012-06-09    388
2012-06-10    388

In [22]: s.index.name = 'Date'

In [23]: s.reset_index()
Out[23]:
          Date  DateValue
0   2012-06-08        388
1   2012-06-09        388
2   2012-06-10        388
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>When converting a dictionary into a pandas dataframe where you want the keys
to be the columns of said dataframe and the values to be the row values, you
can do simply put brackets around the dictionary like this:</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">dict_</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{</span><span class="s1">'key 1'</span><span class="err">:</span><span class="w"> </span><span class="s1">'value 1'</span><span class="p">,</span><span class="w"> </span><span class="s1">'key 2'</span><span class="err">:</span><span class="w"> </span><span class="s1">'value 2'</span><span class="p">,</span><span class="w"> </span><span class="s1">'key 3'</span><span class="err">:</span><span class="w"> </span><span class="s1">'value 3'</span><span class="err">}</span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">pd</span><span class="p">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="o">[</span><span class="n">dict_</span><span class="o">]</span><span class="p">)</span>

<span class="w">    </span><span class="k">key</span><span class="w"> </span><span class="mi">1</span><span class="w">     </span><span class="k">key</span><span class="w"> </span><span class="mi">2</span><span class="w">     </span><span class="k">key</span><span class="w"> </span><span class="mi">3</span>
<span class="mi">0</span><span class="w">   </span><span class="k">value</span><span class="w"> </span><span class="mi">1</span><span class="w">   </span><span class="k">value</span><span class="w"> </span><span class="mi">2</span><span class="w">   </span><span class="k">value</span><span class="w"> </span><span class="mi">3</span>
</pre></div>

<p>EDIT: In the pandas docs one option for the <code>data</code> parameter in the DataFrame
constructor is a list of dictionaries. Here we're passing a list with one
dictionary in it.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/python-datetime-to-string-without-microsecond-component/" class="u-url">Python datetime to string without microsecond component</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/python-datetime-to-string-without-microsecond-component/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T05:40:48+08:00" itemprop="datePublished" title="2023-02-18 05:40">2023-02-18 05:40</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm adding UTC time strings to Bitbucket API responses that currently only
contain Amsterdam (!) time strings. For consistency with the UTC time strings
returned elsewhere, the desired format is <code>2011-11-03 11:07:04</code> (followed by
<code>+00:00</code>, but that's not germane).</p>
<p>What's the best way to create such a string ( <em>without</em> a microsecond
component) from a <code>datetime</code> instance <em>with</em> a microsecond component?</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">datetime</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span> <span class="n">unicode</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">())</span>
<span class="mi">2011</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">03</span> <span class="mi">11</span><span class="p">:</span><span class="mi">13</span><span class="p">:</span><span class="mf">39.278026</span>
</pre></div>

<p>I'll add the best option that's occurred to me as a possible answer, but there
may well be a more elegant solution.</p>
<p><strong>Edit:</strong> I should mention that I'm not <em>actually</em> printing the current time –
I used <code>datetime.now</code> to provide a quick example. So the solution should not
assume that any <code>datetime</code> instances it receives will include microsecond
components.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>If you want to format a <code>datetime</code> object in a specific format that is
different from the standard format, it's best to explicitly specify that
format:</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">datetime</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">"%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S"</span><span class="p">)</span>
<span class="s1">'2011-11-03 18:21:26'</span>
</pre></div>

<p>See the documentation of <code>datetime.strftime()</code> for an explanation of the <code>%</code>
directives.</p>
<p>Starting from Python 3.6, the <code>isoformat()</code> method is flexible enough to also
produce this format:</p>
<div class="code"><pre class="code literal-block">datetime.datetime.now().isoformat(sep=" ", timespec="seconds")
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">datetime</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span> <span class="n">unicode</span><span class="p">(</span><span class="n">now</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">microsecond</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
<span class="mi">2011</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">03</span> <span class="mi">11</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mi">07</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-have-a-transparent-imagebutton-android/" class="u-url">How to have a transparent ImageButton: Android</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-have-a-transparent-imagebutton-android/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T05:40:20+08:00" itemprop="datePublished" title="2023-02-18 05:40">2023-02-18 05:40</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <div class="code"><pre class="code literal-block"><span class="nt">&lt;ImageButton</span><span class="w"> </span><span class="na">android:id=</span><span class="s">"@+id/previous"</span>
<span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
<span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
<span class="na">android:src=</span><span class="s">"@drawable/media_skip_backward"</span>
<span class="na">android:background=</span><span class="s">"@drawable/transparent"</span><span class="nt">&gt;&lt;/ImageButton&gt;</span>
</pre></div>

<p>This is what I tried to get a transparent ImageButton so as to place those
buttons on a SurfaceView. But Eclipse, gives me an error in the project as
soon as I include the transparent line in xml.</p>
<p>Please help.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Try using null for the background ...</p>
<div class="code"><pre class="code literal-block"><span class="n">android</span><span class="o">:</span><span class="n">background</span><span class="o">=</span><span class="s2">"@null"</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p><strong>DON'T USE A TRANSAPENT OR NULL LAYOUT</strong> because then the button (or the
generic view) will no more highlight at click!!!</p>
<blockquote>
<p>I had the same problem and finally <strong>I found the correct attribute from
Android API</strong> to solve the problem. It can apply to any view.</p>
</blockquote>
<p>Use this in the button specifications:</p>
<div class="code"><pre class="code literal-block"><span class="n">android</span><span class="o">:</span><span class="n">background</span><span class="o">=</span><span class="s2">"?android:selectableItemBackground"</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1285.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1283.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

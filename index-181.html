<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 181) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-181.html">
<link rel="prev" href="index-182.html" type="text/html">
<link rel="next" href="index-180.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/turning-off-eslint-rule-for-a-specific-line/" class="u-url">Turning off eslint rule for a specific line</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/turning-off-eslint-rule-for-a-specific-line/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T00:05:55+08:00" itemprop="datePublished" title="2023-02-17 00:05">2023-02-17 00:05</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>In order to turn off linting rule for a particular line in JSHint we use the
following rule:</p>
<div class="code"><pre class="code literal-block"><span class="o">/*</span><span class="w"> </span><span class="n">jshint</span><span class="w"> </span><span class="n">ignore</span><span class="p">:</span><span class="n">start</span><span class="o">*/</span>
<span class="no">$</span><span class="n">scope</span><span class="p">.</span><span class="n">someVar</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">ConstructorFunction</span><span class="p">();</span>
<span class="o">/*</span><span class="w"> </span><span class="n">jshint</span><span class="w"> </span><span class="n">ignore</span><span class="p">:</span><span class="k">end</span><span class="w"> </span><span class="o">*/</span>
</pre></div>

<p>I have been trying to locate the equivalent of the above for eslint.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>To disable next line:</p>
<div class="code"><pre class="code literal-block"><span class="o">//</span><span class="w"> </span><span class="n">eslint</span><span class="o">-</span><span class="n">disable</span><span class="o">-</span><span class="n">next</span><span class="o">-</span><span class="n">line</span><span class="w"> </span><span class="n">no</span><span class="o">-</span><span class="n">use</span><span class="o">-</span><span class="n">before</span><span class="o">-</span><span class="n">define</span>
<span class="k">var</span><span class="w"> </span><span class="n">thing</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Thing</span><span class="p">();</span>
</pre></div>

<p>Or use the single line syntax:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">thing</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Thing</span><span class="p">();</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">eslint</span><span class="o">-</span><span class="n">disable</span><span class="o">-</span><span class="n">line</span><span class="w"> </span><span class="n">no</span><span class="o">-</span><span class="n">use</span><span class="o">-</span><span class="n">before</span><span class="o">-</span><span class="n">define</span>
</pre></div>

<p>See the eslint docs</p>
<p><br></p>
<h3>Suggest</h3>
<h3>Update</h3>
<p>ESlint has now been updated with a better way disable a single line, see
@goofballLogic's excellent answer.</p>
<h3>Old answer:</h3>
<p>You can use the following</p>
<div class="code"><pre class="code literal-block"><span class="o">/*</span><span class="n">eslint</span><span class="o">-</span><span class="n">disable</span><span class="w"> </span><span class="o">*/</span>

<span class="c1">//suppress all warnings between comments</span>
<span class="n">alert</span><span class="p">(</span><span class="s">'foo'</span><span class="p">);</span>

<span class="o">/*</span><span class="n">eslint</span><span class="o">-</span><span class="n">enable</span><span class="w"> </span><span class="o">*/</span>
</pre></div>

<p>Which is slightly buried in the "configuring rules" section of the docs;</p>
<p>To disable a warning for an entire file, you can include a comment at the top
of the file e.g.</p>
<div class="code"><pre class="code literal-block"><span class="o">/*</span><span class="n">eslint</span><span class="w"> </span><span class="n">eqeqeq</span><span class="p">:</span><span class="mi">0</span><span class="o">*/</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/sass-variable-in-css-calc-function/" class="u-url">Sass Variable in CSS calc() function</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/sass-variable-in-css-calc-function/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T00:05:26+08:00" itemprop="datePublished" title="2023-02-17 00:05">2023-02-17 00:05</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm trying to use the <code>calc()</code> function in a Sass stylesheet, but I'm having
some issues. Here's my code:</p>
<div class="code"><pre class="code literal-block"><span class="o">$</span><span class="nt">body_padding</span><span class="o">:</span><span class="w"> </span><span class="nt">50px</span>

<span class="nt">body</span>
<span class="w">    </span><span class="nt">padding-top</span><span class="o">:</span><span class="w"> </span><span class="o">$</span><span class="nt">body_padding</span>
<span class="w">    </span><span class="nt">height</span><span class="o">:</span><span class="w"> </span><span class="nt">calc</span><span class="o">(</span><span class="nt">100</span><span class="o">%</span><span class="w"> </span><span class="nt">-</span><span class="w"> </span><span class="o">$</span><span class="nt">body_padding</span><span class="o">)</span>
</pre></div>

<p>If I use the literal <code>50px</code> instead of my <code>body_padding</code> variable, I get
exactly what I want. However, when I switch to the variable, this is the
output:</p>
<div class="code"><pre class="code literal-block"><span class="nt">body</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">padding-top</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="kt">px</span><span class="p">;</span>
<span class="w">    </span><span class="k">height</span><span class="p">:</span><span class="w"> </span><span class="nb">calc</span><span class="p">(</span><span class="mi">100</span><span class="kt">%</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="err">$</span><span class="n">body_padding</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

<p>How can I get Sass to recognize that it needs to replace the variable within
the <code>calc</code> function?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Interpolate:</p>
<div class="code"><pre class="code literal-block"><span class="x">body</span>
<span class="x">    height: calc(100% - #</span><span class="cp">{</span><span class="nv">$body_padding</span><span class="cp">}</span><span class="x">)</span>
</pre></div>

<p>For this case, border-box would also suffice:</p>
<div class="code"><pre class="code literal-block">body
    box-sizing: border-box
    height: 100%
    padding-top: $body_padding
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>To use <code>$variables</code> inside your <code>calc()</code> of the height property:</p>
<p>HTML:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;div&gt;&lt;/div&gt;</span>
</pre></div>

<p>SCSS:</p>
<div class="code"><pre class="code literal-block"><span class="o">$</span><span class="nt">a</span><span class="o">:</span><span class="w"> </span><span class="nt">4em</span><span class="o">;</span>

<span class="nt">div</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">height</span><span class="p">:</span><span class="w"> </span><span class="nb">calc</span><span class="p">(</span><span class="err">#{$</span><span class="n">a</span><span class="err">}</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">7</span><span class="kt">px</span><span class="p">);</span>
<span class="w">  </span><span class="k">background</span><span class="p">:</span><span class="w"> </span><span class="mh">#e53b2c</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/when-to-use-virtual-destructors/" class="u-url">When to use virtual destructors?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/when-to-use-virtual-destructors/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T00:04:55+08:00" itemprop="datePublished" title="2023-02-17 00:04">2023-02-17 00:04</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a solid understanding of most <code>OOP</code> theory but the one thing that
confuses me a lot is virtual destructors.</p>
<p>I thought that the destructor always gets called no matter what and for every
object in the chain.</p>
<p>When are you meant to make them virtual and why?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Virtual destructors are useful when you might potentially delete an instance
of a derived class through a pointer to base class:</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span> <span class="n">Base</span> 
{
    // <span class="n">some</span> <span class="n">virtual</span> <span class="nb">methods</span>
};

<span class="k">class</span> <span class="n">Derived</span> : <span class="n">public</span> <span class="n">Base</span>
{
    ~<span class="n">Derived</span>()
    {
        // <span class="n">Do</span> <span class="n">some</span> <span class="n">important</span> <span class="nb">cleanup</span>
    }
};
</pre></div>

<p>Here, you'll notice that I didn't declare Base's destructor to be <code>virtual</code>.
Now, let's have a look at the following snippet:</p>
<div class="code"><pre class="code literal-block">Base *b = new Derived();
// use b
delete b; // Here's the problem!
</pre></div>

<p>Since Base's destructor is not <code>virtual</code> and <code>b</code> is a <code>Base*</code> pointing to a
<code>Derived</code> object, <code>delete b</code> has undefined behaviour:</p>
<blockquote>
<p>[In <code>delete b</code>], if the static type of the object to be deleted is different
from its dynamic type, the static type shall be a base class of the dynamic
type of the object to be deleted and <strong>the static type shall have a virtual
destructor or the behavior is undefined</strong>.</p>
</blockquote>
<p>In most implementations, the call to the destructor will be resolved like any
non-virtual code, meaning that the destructor of the base class will be called
but not the one of the derived class, resulting in a resources leak.</p>
<p>To sum up, always make base classes' destructors <code>virtual</code> when they're meant
to be manipulated polymorphically.</p>
<p>If you want to prevent the deletion of an instance through a base class
pointer, you can make the base class destructor protected and nonvirtual; by
doing so, the compiler won't let you call <code>delete</code> on a base class pointer.</p>
<p>You can learn more about virtuality and virtual base class destructor in this
article from Herb Sutter.</p>
<p><br></p>
<h3>Suggest</h3>
<p>A virtual constructor is not possible but virtual destructor is possible. Let
us experiment.......</p>
<div class="code"><pre class="code literal-block"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>

<span class="n">using</span><span class="w"> </span><span class="n">namespace</span><span class="w"> </span><span class="nn">std</span><span class="p">;</span>

<span class="kr">class</span><span class="w"> </span><span class="nc">Base</span>
<span class="p">{</span>
<span class="kr">public</span><span class="o">:</span>
<span class="w">    </span><span class="n">Base</span><span class="p">(){</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"Base Constructor Called</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="o">~</span><span class="n">Base</span><span class="p">(){</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"Base Destructor called</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">};</span>

<span class="kr">class</span><span class="w"> </span><span class="nc">Derived1</span><span class="o">:</span><span class="w"> </span><span class="kr">public</span><span class="w"> </span><span class="n">Base</span>
<span class="p">{</span>
<span class="kr">public</span><span class="o">:</span>
<span class="w">    </span><span class="n">Derived1</span><span class="p">(){</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"Derived constructor called</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="o">~</span><span class="n">Derived1</span><span class="p">(){</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"Derived destructor called</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">};</span>

<span class="kr">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">Base</span><span class="w"> </span><span class="o">*</span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Derived1</span><span class="p">();</span>
<span class="w">    </span><span class="kr">delete</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>The above code output the following:</p>
<div class="code"><pre class="code literal-block"><span class="n">Base</span><span class="w"> </span><span class="n">Constructor</span><span class="w"> </span><span class="n">Called</span>
<span class="n">Derived</span><span class="w"> </span><span class="n">constructor</span><span class="w"> </span><span class="n">called</span>
<span class="n">Base</span><span class="w"> </span><span class="n">Destructor</span><span class="w"> </span><span class="n">called</span>
</pre></div>

<p>The construction of derived object follow the construction rule but when we
delete the "b" pointer(base pointer) we have found that only the base
destructor is called. But this must not happen. To do the appropriate thing,
we have to make the base destructor virtual. Now let see what happens in the
following:</p>
<div class="code"><pre class="code literal-block"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>

<span class="n">using</span><span class="w"> </span><span class="n">namespace</span><span class="w"> </span><span class="nn">std</span><span class="p">;</span>

<span class="kr">class</span><span class="w"> </span><span class="nc">Base</span>
<span class="p">{</span><span class="w"> </span>
<span class="kr">public</span><span class="o">:</span>
<span class="w">    </span><span class="n">Base</span><span class="p">(){</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"Base Constructor Called</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="kr">virtual</span><span class="w"> </span><span class="o">~</span><span class="n">Base</span><span class="p">(){</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"Base Destructor called</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">};</span>

<span class="kr">class</span><span class="w"> </span><span class="nc">Derived1</span><span class="o">:</span><span class="w"> </span><span class="kr">public</span><span class="w"> </span><span class="n">Base</span>
<span class="p">{</span>
<span class="kr">public</span><span class="o">:</span>
<span class="w">    </span><span class="n">Derived1</span><span class="p">(){</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"Derived constructor called</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="o">~</span><span class="n">Derived1</span><span class="p">(){</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"Derived destructor called</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">};</span>

<span class="kr">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">Base</span><span class="w"> </span><span class="o">*</span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Derived1</span><span class="p">();</span>
<span class="w">    </span><span class="kr">delete</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>The output changed as following:</p>
<div class="code"><pre class="code literal-block">Base Constructor Called
Derived Constructor called
Derived destructor called
Base destructor called
</pre></div>

<p>So the destruction of the base pointer (which takes an allocation on derived
object!) follows the destruction rule, i.e first the Derived, then the Base.
On the other hand, there is nothing like a virtual constructor.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-182.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-180.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

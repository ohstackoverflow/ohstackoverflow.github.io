<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1066) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1066.html">
<link rel="prev" href="index-1067.html" type="text/html">
<link rel="next" href="index-1065.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/error-git-is-not-recognized-as-an-internal-or-external-command/" class="u-url">Error "'git' is not recognized as an internal or external command"</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/error-git-is-not-recognized-as-an-internal-or-external-command/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T00:18:22+08:00" itemprop="datePublished" title="2023-02-18 00:18">2023-02-18 00:18</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have an installation of Git for Windows, but when I try to use the <code>git</code>
command in Command Prompt, I get the following error:</p>
<div class="code"><pre class="code literal-block">'git' is not recognized as an internal or external command,
operable program or batch file.
</pre></div>

<p>How do I fix this problem?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You may not have set your <code>PATH</code> correctly to point at your Git installation.</p>
<p>You need to add the following paths to <code>PATH</code>:</p>
<ul>
<li><code>C:\Program Files\Git\bin\</code></li>
<li><code>C:\Program Files\Git\cmd\</code></li>
</ul>
<p>And check that these paths are correct. You may have Git installed on a
different drive, or under <code>Program Files (x86)</code>. Correct the paths if
necessary.</p>
<hr>
<p>Modifying <code>PATH</code> on Windows 10:</p>
<ol>
<li>In the Start Menu or taskbar search, search for "environment variable".</li>
<li>Select "Edit the system environment variables".</li>
<li>Click the "Environment Variables" button at the bottom.</li>
<li>Double-click the "Path" entry under "System variables".</li>
<li>With the "New" button in the PATH editor, add <code>C:\Program Files\Git\bin\</code> and <code>C:\Program Files\Git\cmd\</code> to the end of the list.</li>
<li>Close and re-open your console.</li>
</ol>
<p>Modifying <code>PATH</code> on Windows 7:</p>
<ol>
<li>Right-click "Computer" on the Desktop or Start Menu.</li>
<li>Select "Properties".</li>
<li>On the very far left, click the "Advanced system settings" link.</li>
<li>Click the "Environment Variables" button at the bottom.</li>
<li>Double-click the "Path" entry under "System variables".</li>
<li>At the end of "Variable value", insert a <code>;</code> if there is not already one, and then <code>C:\Program Files\Git\bin\;C:\Program Files\Git\cmd\</code>. Do not put a space between <code>;</code> and the entry.</li>
<li>Close and re-open your console.</li>
</ol>
<p>If these instructions weren't helpful, feel free to look at some others:</p>
<ul>
<li>How to set the path and environment variables in Windows (Computer Hope)</li>
<li>How to edit your system PATH for easy command line access in Windows (How-To Geek)</li>
<li>How to set Path environment variables in Windows 10 (Addictive Tips)</li>
<li>What are PATH and other environment variables, and how can I set or use them? (Super User)</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<p>If you opened the cmd prompt before installation of Git, close and reopen it.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/moving-changed-files-to-another-branch-for-check-in/" class="u-url">moving changed files to another branch for check-in</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/moving-changed-files-to-another-branch-for-check-in/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T00:17:53+08:00" itemprop="datePublished" title="2023-02-18 00:17">2023-02-18 00:17</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>This often happens to me: I write some code, go to check in my changes, and
then realize I'm not in the proper branch to check in those changes. However I
can't switch to another branch without my changes reverting. Is there a way to
move changes to another branch to be checked in there?</p>
<p><br><br></p>
<h2>Answer</h2>
<p><code>git stash</code> is your friend.</p>
<p>If you have not made the commit yet, just run <code>git stash</code>. This will save away
all of your changes.</p>
<p>Switch to the branch you want the changes on and run <code>git stash pop</code>.</p>
<p>There are lots of uses for git stash. This is certainly one of the more useful
reasons.</p>
<p>An example:</p>
<div class="code"><pre class="code literal-block"># work on some code
git stash
git checkout correct-branch
git stash pop
</pre></div>

<hr>
<p>Update: No need to use <code>stash</code> command. uncommitted changes do not belong to
any branch so just use <code>git checkout -b &lt;new-branch&gt;</code></p>
<p><br></p>
<h3>Suggest</h3>
<p><strong>If you haven't already committed your changes</strong> , just use <code>git checkout</code> to
move to the new branch and then commit them normally - changes to files are
not tied to a particular branch until you commit them.</p>
<p>If you <strong>have</strong> already committed your changes:</p>
<ol>
<li>Type <code>git log</code> and remember the SHA of the commit you want to move.</li>
<li>Check out the branch you want to move the commit to.</li>
<li>Type <code>git cherry-pick SHA</code> substituting the SHA from above.</li>
<li>Switch back to your original branch.</li>
<li>Use <code>git reset HEAD~1</code> to reset back before your wrong-branch commit.</li>
</ol>
<p><code>cherry-pick</code> takes a given commit and applies it to the currently checked-out
head, thus allowing you to copy the commit over to a new branch.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/why-should-java-8-s-optional-not-be-used-in-arguments/" class="u-url">Why should Java 8's Optional not be used in arguments</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/why-should-java-8-s-optional-not-be-used-in-arguments/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T00:17:19+08:00" itemprop="datePublished" title="2023-02-18 00:17">2023-02-18 00:17</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I've read on many Web sites Optional should be used as a return type only, and
not used in method arguments. I'm struggling to find a logical reason why. For
example I have a piece of logic which has 2 optional parameters. Therefore I
think it would make sense to write my method signature like this (solution 1):</p>
<div class="code"><pre class="code literal-block">public int calculateSomething(Optional&lt;String&gt; p1, Optional&lt;BigDecimal&gt; p2) {
    // my logic
}
</pre></div>

<p>Many web pages specify Optional should not be used as method arguments. With
this in mind, I could use the following method signature and add a clear
Javadoc comment to specify that the arguments may be null, hoping future
maintainers will read the Javadoc and therefore always carry out null checks
prior to using the arguments (solution 2):</p>
<div class="code"><pre class="code literal-block">public int calculateSomething(String p1, BigDecimal p2) {
    // my logic
}
</pre></div>

<p>Alternatively I could replace my method with four public methods to provide a
nicer interface and make it more obvious p1 and p2 are optional (solution 3):</p>
<div class="code"><pre class="code literal-block">public int calculateSomething() {
    calculateSomething(null, null);
}

public int calculateSomething(String p1) {
    calculateSomething(p1, null);
}

public int calculateSomething(BigDecimal p2) {
    calculateSomething(null, p2);
}

public int calculateSomething(String p1, BigDecimal p2) {
    // my logic
}
</pre></div>

<p>Now I try writing the code of the class which invokes this piece of logic for
each approach. I first retrieve the two input parameters from another object
which returns <code>Optional</code>s and then, I invoke <code>calculateSomething</code>. Therefore,
if solution 1 is used the calling code would look like this:</p>
<div class="code"><pre class="code literal-block">Optional&lt;String&gt; p1 = otherObject.getP1();
Optional&lt;BigInteger&gt; p2 = otherObject.getP2();
int result = myObject.calculateSomething(p1, p2);
</pre></div>

<p>if solution 2 is used, the calling code would look like this:</p>
<div class="code"><pre class="code literal-block">Optional&lt;String&gt; p1 = otherObject.getP1();
Optional&lt;BigInteger&gt; p2 = otherObject.getP2();
int result = myObject.calculateSomething(p1.orElse(null), p2.orElse(null));
</pre></div>

<p>if solution 3 is applied, I could use the code above or I could use the
following (but it's significantly more code):</p>
<div class="code"><pre class="code literal-block"><span class="nv">Optional</span><span class="o">&lt;</span><span class="nv">String</span><span class="o">&gt;</span><span class="w"> </span><span class="nv">p1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">otherObject</span>.<span class="nv">getP1</span><span class="ss">()</span><span class="c1">;</span>
<span class="nv">Optional</span><span class="o">&lt;</span><span class="nv">BigInteger</span><span class="o">&gt;</span><span class="w"> </span><span class="nv">p2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">otherObject</span>.<span class="nv">getP2</span><span class="ss">()</span><span class="c1">;</span>
<span class="nv">int</span><span class="w"> </span><span class="nb">result</span><span class="c1">;</span>
<span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">p1</span>.<span class="nv">isPresent</span><span class="ss">())</span><span class="w"> </span>{
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">p2</span>.<span class="nv">isPresent</span><span class="ss">())</span><span class="w"> </span>{
<span class="w">        </span><span class="nb">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">myObject</span>.<span class="nv">calculateSomething</span><span class="ss">(</span><span class="nv">p1</span>,<span class="w"> </span><span class="nv">p2</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span>}<span class="w"> </span><span class="k">else</span><span class="w"> </span>{
<span class="w">        </span><span class="nb">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">myObject</span>.<span class="nv">calculateSomething</span><span class="ss">(</span><span class="nv">p1</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span>}
}<span class="w"> </span><span class="k">else</span><span class="w"> </span>{
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">p2</span>.<span class="nv">isPresent</span><span class="ss">())</span><span class="w"> </span>{
<span class="w">        </span><span class="nb">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">myObject</span>.<span class="nv">calculateSomething</span><span class="ss">(</span><span class="nv">p2</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span>}<span class="w"> </span><span class="k">else</span><span class="w"> </span>{
<span class="w">        </span><span class="nb">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">myObject</span>.<span class="nv">calculateSomething</span><span class="ss">()</span><span class="c1">;</span>
<span class="w">    </span>}
}
</pre></div>

<p><strong>So my question is: Why is it considered bad practice to use<code>Optional</code>s as
method arguments (see solution 1)?</strong> It looks like the most readable solution
to me and makes it most obvious that the parameters could be empty/null to
future maintainers. (I'm aware the designers of <code>Optional</code> intended it to only
be used as a return type, but I can't find any logical reasons not to use it
in this scenario).</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Oh, those coding styles are to be taken with a bit of salt.</p>
<ol>
<li>(+) Passing an Optional result to another method, without any semantic analysis; leaving that to the method, is quite alright.</li>
<li>(-) Using Optional parameters causing conditional logic inside the methods is literally contra-productive.</li>
<li>(-) Needing to pack an argument in an Optional, is suboptimal for the compiler, and does an unnecessary wrapping.</li>
<li>(-) In comparison to nullable parameters Optional is more costly.</li>
<li>(-) The risk of someone passing the Optional as null in actual parameters.</li>
</ol>
<p>In general: Optional unifies two states, which have to be unraveled. Hence
better suited for result than input, for the complexity of the data flow.</p>
<p><br></p>
<h3>Suggest</h3>
<p>The best post I've seen on the topic was written by Daniel Olszewski:</p>
<blockquote>
<p>Although it might be tempting to consider Optional for not mandatory method
parameters, such a solution pale in comparison with other possible
alternatives. To illustrate the problem, examine the following constructor
declaration:</p>
<div class="code"><pre class="code literal-block">public SystemMessage(String title, String content, Optional&lt;Attachment&gt;
</pre></div>

<p>attachment) {
        // assigning field values
    }</p>
<p>At first glance it may look as a right design decision. After all, we
explicitly marked the attachment parameter as optional. However, as for
calling the constructor, client code can become a little bit clumsy.</p>
<div class="code"><pre class="code literal-block">SystemMessage withoutAttachment = new SystemMessage("title", "content",
</pre></div>

<p>Optional.empty());
    Attachment attachment = new Attachment();
    SystemMessage withAttachment = new SystemMessage("title", "content",
Optional.ofNullable(attachment));</p>
<p>Instead of providing clarity, the factory methods of the Optional class only
distract the reader. Note there’s only one optional parameter, but imagine
having two or three. Uncle Bob definitely wouldn’t be proud of such code 😉</p>
<p><strong>When a method can accept optional parameters, it’s preferable to adopt the
well-proven approach and design such case using method overloading.</strong> In the
example of the SystemMessage class, declaring two separate constructors are
superior to using Optional.</p>
<div class="code"><pre class="code literal-block">public SystemMessage(String title, String content) {
    this(title, content, null);
}

public SystemMessage(String title, String content, Attachment
</pre></div>

<p>attachment) {
        // assigning field values
    }</p>
<p>That change makes client code much simpler and easier to read.</p>
<div class="code"><pre class="code literal-block">SystemMessage withoutAttachment = new SystemMessage("title", "content");
Attachment attachment = new Attachment();
SystemMessage withAttachment = new SystemMessage("title", "content",
</pre></div>

<p>attachment);
</p>
</blockquote>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1067.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1065.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1018) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1018.html">
<link rel="prev" href="index-1019.html" type="text/html">
<link rel="next" href="index-1017.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/selenium-using-python-geckodriver-executable-needs-to-be-in-path/" class="u-url">Selenium using Python - Geckodriver executable needs to be in PATH</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/selenium-using-python-geckodriver-executable-needs-to-be-in-path/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T22:40:29+08:00" itemprop="datePublished" title="2023-02-17 22:40">2023-02-17 22:40</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am going over Sweigart's <em>Automate the Boring Stuff with Python</em> text. I'm
using IDLE and already installed the Selenium module and the Firefox browser.</p>
<p>Whenever I tried to run the webdriver function, I get this:</p>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
<span class="n">browser</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Firefox</span><span class="p">()</span>
</pre></div>

<p>Exception:</p>
<div class="code"><pre class="code literal-block"><span class="n">Exception</span><span class="w"> </span><span class="n">ignored</span><span class="w"> </span><span class="ow">in</span><span class="p">:</span><span class="w"> </span><span class="o">&lt;</span><span class="n">bound</span><span class="w"> </span><span class="n">method</span><span class="w"> </span><span class="n">Service</span><span class="o">.</span><span class="n">__del__</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="o">&lt;</span><span class="n">selenium</span><span class="o">.</span><span class="n">webdriver</span><span class="o">.</span><span class="n">firefox</span><span class="o">.</span><span class="n">service</span><span class="o">.</span><span class="n">Service</span><span class="w"> </span><span class="n">object</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="mh">0x00000249C0DA1080</span><span class="o">&gt;&gt;</span>
<span class="n">Traceback</span><span class="w"> </span><span class="p">(</span><span class="n">most</span><span class="w"> </span><span class="n">recent</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="n">last</span><span class="p">):</span>
<span class="w">  </span><span class="n">File</span><span class="w"> </span><span class="s2">"C:\Python\Python35\lib\site-packages\selenium\webdriver\common\service.py"</span><span class="p">,</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="mi">163</span><span class="p">,</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">__del__</span>
<span class="w">    </span><span class="bp">self</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
<span class="w">  </span><span class="n">File</span><span class="w"> </span><span class="s2">"C:\Python\Python35\lib\site-packages\selenium\webdriver\common\service.py"</span><span class="p">,</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="mi">135</span><span class="p">,</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">stop</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">process</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">None</span><span class="p">:</span>
<span class="n">AttributeError</span><span class="p">:</span><span class="w"> </span><span class="s1">'Service'</span><span class="w"> </span><span class="n">object</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">attribute</span><span class="w"> </span><span class="s1">'process'</span>
<span class="n">Exception</span><span class="w"> </span><span class="n">ignored</span><span class="w"> </span><span class="ow">in</span><span class="p">:</span><span class="w"> </span><span class="o">&lt;</span><span class="n">bound</span><span class="w"> </span><span class="n">method</span><span class="w"> </span><span class="n">Service</span><span class="o">.</span><span class="n">__del__</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="o">&lt;</span><span class="n">selenium</span><span class="o">.</span><span class="n">webdriver</span><span class="o">.</span><span class="n">firefox</span><span class="o">.</span><span class="n">service</span><span class="o">.</span><span class="n">Service</span><span class="w"> </span><span class="n">object</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="mh">0x00000249C0E08128</span><span class="o">&gt;&gt;</span>
<span class="n">Traceback</span><span class="w"> </span><span class="p">(</span><span class="n">most</span><span class="w"> </span><span class="n">recent</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="n">last</span><span class="p">):</span>
<span class="w">  </span><span class="n">File</span><span class="w"> </span><span class="s2">"C:\Python\Python35\lib\site-packages\selenium\webdriver\common\service.py"</span><span class="p">,</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="mi">163</span><span class="p">,</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">__del__</span>
<span class="w">    </span><span class="bp">self</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
<span class="w">  </span><span class="n">File</span><span class="w"> </span><span class="s2">"C:\Python\Python35\lib\site-packages\selenium\webdriver\common\service.py"</span><span class="p">,</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="mi">135</span><span class="p">,</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">stop</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">process</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">None</span><span class="p">:</span>
<span class="n">AttributeError</span><span class="p">:</span><span class="w"> </span><span class="s1">'Service'</span><span class="w"> </span><span class="n">object</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">attribute</span><span class="w"> </span><span class="s1">'process'</span>
<span class="n">Traceback</span><span class="w"> </span><span class="p">(</span><span class="n">most</span><span class="w"> </span><span class="n">recent</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="n">last</span><span class="p">):</span>
<span class="w">  </span><span class="n">File</span><span class="w"> </span><span class="s2">"C:\Python\Python35\lib\site-packages\selenium\webdriver\common\service.py"</span><span class="p">,</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">start</span>
<span class="w">    </span><span class="n">stdout</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log_file</span><span class="p">,</span><span class="w"> </span><span class="n">stderr</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">log_file</span><span class="p">)</span>
<span class="w">  </span><span class="n">File</span><span class="w"> </span><span class="s2">"C:\Python\Python35\lib\subprocess.py"</span><span class="p">,</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="mi">947</span><span class="p">,</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">__init__</span>
<span class="w">    </span><span class="n">restore_signals</span><span class="p">,</span><span class="w"> </span><span class="n">start_new_session</span><span class="p">)</span>
<span class="w">  </span><span class="n">File</span><span class="w"> </span><span class="s2">"C:\Python\Python35\lib\subprocess.py"</span><span class="p">,</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="mi">1224</span><span class="p">,</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">_execute_child</span>
<span class="w">    </span><span class="n">startupinfo</span><span class="p">)</span>
<span class="n">FileNotFoundError</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="n">WinError</span><span class="w"> </span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">cannot</span><span class="w"> </span><span class="n">find</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">specified</span>
</pre></div>

<p>During handling of the above exception, another exception occurred:</p>
<div class="code"><pre class="code literal-block"><span class="nv">Traceback</span><span class="w"> </span><span class="ss">(</span><span class="nv">most</span><span class="w"> </span><span class="nv">recent</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="nl">last</span><span class="ss">)</span>:
<span class="w">  </span><span class="nv">File</span><span class="w"> </span><span class="s2">"&lt;pyshell#11&gt;"</span>,<span class="w"> </span><span class="nv">line</span><span class="w"> </span><span class="mi">1</span>,<span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="o">&lt;</span><span class="nv">module</span><span class="o">&gt;</span>
<span class="w">    </span><span class="nv">browser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">webdriver</span>.<span class="nv">Firefox</span><span class="ss">()</span>
<span class="w">  </span><span class="nv">File</span><span class="w"> </span><span class="s2">"C:\Python\Python35\lib\site-packages\selenium\webdriver\firefox\webdriver.py"</span>,<span class="w"> </span><span class="nv">line</span><span class="w"> </span><span class="mi">135</span>,<span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">__init__</span>
<span class="w">    </span><span class="nv">self</span>.<span class="nv">service</span>.<span class="nv">start</span><span class="ss">()</span>
<span class="w">  </span><span class="nv">File</span><span class="w"> </span><span class="s2">"C:\Python\Python35\lib\site-packages\selenium\webdriver\common\service.py"</span>,<span class="w"> </span><span class="nv">line</span><span class="w"> </span><span class="mi">71</span>,<span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">start</span>
<span class="w">    </span><span class="nv">os</span>.<span class="nv">path</span>.<span class="k">basename</span><span class="ss">(</span><span class="nv">self</span>.<span class="nv">path</span><span class="ss">)</span>,<span class="w"> </span><span class="nv">self</span>.<span class="nv">start_error_message</span><span class="ss">)</span>
<span class="nv">selenium</span>.<span class="nv">common</span>.<span class="nv">exceptions</span>.<span class="nv">WebDriverException</span>:<span class="w"> </span><span class="nv">Message</span>:<span class="w"> </span><span class="s1">'geckodriver'</span><span class="w"> </span><span class="nv">executable</span><span class="w"> </span><span class="nv">needs</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">be</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">PATH</span>.
</pre></div>

<p>I think I need to set the path for <code>geckodriver</code>, but I am not sure how, so
how would I do this?</p>
<p><br><br></p>
<h2>Answer</h2>
<blockquote>
<p>selenium.common.exceptions.WebDriverException: Message: 'geckodriver'
executable needs to be in PATH.</p>
</blockquote>
<p>First of all you will need to download latest executable geckodriver from here
to run latest Firefox using Selenium</p>
<p>Actually, the Selenium client bindings tries to locate the <code>geckodriver</code>
executable from the system <code>PATH</code>. You will need to add the directory
containing the executable to the system path.</p>
<ul>
<li>
<p>On Unix systems you can do the following to append it to your system’s search path, if you’re using a Bash-compatible shell:</p>
<div class="code"><pre class="code literal-block"><span class="w">  </span><span class="k">export</span><span class="w"> </span><span class="n">PATH</span><span class="o">=$</span><span class="n">PATH</span><span class="p">:</span><span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">directory</span><span class="o">/</span><span class="n">of</span><span class="o">/</span><span class="n">executable</span><span class="o">/</span><span class="n">downloaded</span><span class="o">/</span><span class="ow">in</span><span class="o">/</span><span class="n">previous</span><span class="o">/</span><span class="n">step</span>
</pre></div>

</li>
<li>
<p>On Windows you will need to update the <strong>Path system variable to add the full directory path to the executable geckodriver</strong> manually or command line<strong> (don't forget to restart your system after adding executable geckodriver into system PATH to take effect)</strong>. The principle is the same as on Unix.</p>
</li>
</ul>
<p>Now you can run your code same as you're doing as below :-</p>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>

<span class="n">browser</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Firefox</span><span class="p">()</span>
</pre></div>

<blockquote>
<p>selenium.common.exceptions.WebDriverException: Message: Expected browser
binary location, but unable to find binary in default location, no
'moz:firefoxOptions.binary' capability provided, and no binary flag set on
the command line</p>
</blockquote>
<p>The exception clearly states you have installed Firefox some other location
while Selenium is trying to find Firefox and launch from the default location,
but it couldn't find it. You need to provide explicitly Firefox installed
binary location to launch Firefox as below :-</p>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.firefox.firefox_binary</span> <span class="kn">import</span> <span class="n">FirefoxBinary</span>

<span class="n">binary</span> <span class="o">=</span> <span class="n">FirefoxBinary</span><span class="p">(</span><span class="s1">'path/to/installed firefox binary'</span><span class="p">)</span>
<span class="n">browser</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Firefox</span><span class="p">(</span><span class="n">firefox_binary</span><span class="o">=</span><span class="n">binary</span><span class="p">)</span>
</pre></div>

<p>https://github.com/mozilla/geckodriver/releases</p>
<p>For Windows:</p>
<p>Download the file from GitHub, extract it, and paste it in Python file. It
worked for me.</p>
<p>https://github.com/mozilla/geckodriver/releases</p>
<p>For me, my path path is:</p>
<div class="code"><pre class="code literal-block">C:\Users\MYUSERNAME\AppData\Local\Programs\Python\Python39
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>This solved it for me.</p>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
<span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Firefox</span><span class="p">(</span><span class="n">executable_path</span><span class="o">=</span><span class="sa">r</span><span class="s1">'your\path\geckodriver.exe'</span><span class="p">)</span>
<span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'http://inventwithpython.com'</span><span class="p">)</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/multi-line-string-with-extra-space-preserved-indentation/" class="u-url">Multi-line string with extra space (preserved indentation)</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/multi-line-string-with-extra-space-preserved-indentation/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T22:39:57+08:00" itemprop="datePublished" title="2023-02-17 22:39">2023-02-17 22:39</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I want to write some pre-defined texts to a file with the following:</p>
<div class="code"><pre class="code literal-block">text="this is line one\n
this is line two\n
this is line three"

echo -e $text &gt; filename
</pre></div>

<p>I'm expecting something like this:</p>
<div class="code"><pre class="code literal-block">this is line one
this is line two
this is line three
</pre></div>

<p>But got this:</p>
<div class="code"><pre class="code literal-block">this is line one
 this is line two
 this is line three
</pre></div>

<p>I'm positive that there is no space after each <code>\n</code>, but how does the extra
space come out?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Heredoc sounds more convenient for this purpose. It is used to send multiple
commands to a command interpreter program like <em>ex</em> or <em>cat</em></p>
<div class="code"><pre class="code literal-block">cat &lt;&lt; EndOfMessage
This is line 1.
This is line 2.
Line 3.
EndOfMessage
</pre></div>

<p>The string after <code>&lt;&lt;</code> indicates where to stop.</p>
<p>To send these lines to a file, use:</p>
<div class="code"><pre class="code literal-block">cat &gt; $FILE &lt;&lt;- EOM
Line 1.
Line 2.
EOM
</pre></div>

<p>You could also store these lines to a variable:</p>
<div class="code"><pre class="code literal-block">read -r -d '' VAR &lt;&lt; EOM
This is line 1.
This is line 2.
Line 3.
EOM
</pre></div>

<p>This stores the lines to the variable named <code>VAR</code>.</p>
<p>When printing, remember the quotes around the variable otherwise you won't see
the newline characters.</p>
<div class="code"><pre class="code literal-block">echo "$VAR"
</pre></div>

<p>Even better, you can use indentation to make it stand out more in your code.
This time just add a <code>-</code> after <code>&lt;&lt;</code> to stop the tabs from appearing.</p>
<div class="code"><pre class="code literal-block">read -r -d '' VAR &lt;&lt;- EOM
    This is line 1.
    This is line 2.
    Line 3.
EOM
</pre></div>

<p>But then you must use tabs, not spaces, for indentation in your code.</p>
<p><br></p>
<h3>Suggest</h3>
<p>If you're trying to get the string into a variable, another easy way is
something like this:</p>
<div class="code"><pre class="code literal-block"><span class="n">USAGE</span><span class="o">=$</span><span class="p">(</span><span class="n">cat</span> <span class="o">&lt;&lt;-</span><span class="kr">END</span>
    <span class="n">This</span> <span class="n">is</span> <span class="n">line</span> <span class="n">one</span><span class="p">.</span>
    <span class="n">This</span> <span class="n">is</span> <span class="n">line</span> <span class="n">two</span><span class="p">.</span>
    <span class="n">This</span> <span class="n">is</span> <span class="n">line</span> <span class="n">three</span><span class="p">.</span>
<span class="kr">END</span>

<span class="p">)</span>
</pre></div>

<p>If you indent your string with tabs (i.e., '\t'), the indentation will be
stripped out. If you indent with spaces, the indentation will be left in.</p>
<p>NOTE: It <em>is</em> significant that the last closing parenthesis is on another
line. The <code>END</code> text must appear on a line by itself.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/sqlalchemy-order-by-descending/" class="u-url">SQLAlchemy ORDER BY DESCENDING?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/sqlalchemy-order-by-descending/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T22:39:32+08:00" itemprop="datePublished" title="2023-02-17 22:39">2023-02-17 22:39</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How can I use ORDER BY <code>descending</code> in a SQLAlchemy query like the following?</p>
<p>This query works, but returns them in ascending order:</p>
<div class="code"><pre class="code literal-block">query = (model.Session.query(model.Entry)
        .join(model.ClassificationItem)
        .join(model.EnumerationValue)
        .filter_by(id=c.row.id)
        .order_by(model.Entry.amount) # This row :)
        )
</pre></div>

<p>If I try:</p>
<div class="code"><pre class="code literal-block"><span class="na">.order_by</span><span class="p">(</span><span class="no">desc</span><span class="p">(</span><span class="no">model.Entry.amount</span><span class="p">))</span>
</pre></div>

<p>then I get: <code>NameError: global name 'desc' is not defined</code>.</p>
<p><br><br></p>
<h2>Answer</h2>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">desc</span>
<span class="n">someselect</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="n">desc</span><span class="p">(</span><span class="n">table1</span><span class="o">.</span><span class="n">mycol</span><span class="p">))</span>
</pre></div>

<p>Usage from @jpmc26</p>
<p><br></p>
<h3>Suggest</h3>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">desc</span>
<span class="n">someselect</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="n">desc</span><span class="p">(</span><span class="n">table1</span><span class="o">.</span><span class="n">mycol</span><span class="p">))</span>
</pre></div>

<p>Usage from @jpmc26</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1019.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1017.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

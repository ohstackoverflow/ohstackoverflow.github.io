<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2362) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2362.html">
<link rel="prev" href="index-2363.html" type="text/html">
<link rel="next" href="index-2361.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/when-should-you-use-friend-in-c/" class="u-url">When should you use 'friend' in C++?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/when-should-you-use-friend-in-c/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T10:31:43+08:00" itemprop="datePublished" title="2023-03-04 10:31">2023-03-04 10:31</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have been reading through the C++ FAQ and was curious about the <code>friend</code>
declaration. I personally have never used it, however I am interested in
exploring the language.</p>
<p>What is a good example of using <code>friend</code>?</p>
<hr>
<p>Reading the FAQ a bit longer I like the idea of the <code>&lt;&lt;</code> <code>&gt;&gt;</code> operator
overloading and adding as a friend of those classes. However I am not sure how
this doesn't break encapsulation. When can these exceptions stay within the
strictness that is OOP?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Firstly (IMO) don't listen to people who say <code>friend</code> is not useful. It IS
useful. In many situations you will have objects with data or functionality
that are not intended to be publicly available. This is particularly true of
large codebases with many authors who may only be superficially familiar with
different areas.</p>
<p>There ARE alternatives to the friend specifier, but often they are cumbersome
(cpp-level concrete classes/masked typedefs) or not foolproof (comments or
function name conventions).</p>
<p>Onto the answer;</p>
<p>The <code>friend</code> specifier allows the designated class access to protected data or
functionality within the class making the friend statement. For example in the
below code anyone may ask a child for their name, but only the mother and the
child may change the name.</p>
<p>You can take this simple example further by considering a more complex class
such as a Window. Quite likely a Window will have many function/data elements
that should not be publicly accessible, but ARE needed by a related class such
as a WindowManager.</p>
<div class="code"><pre class="code literal-block"><span class="nt">class</span><span class="w"> </span><span class="nt">Child</span>
<span class="p">{</span>
<span class="err">//Mother</span><span class="w"> </span><span class="err">class</span><span class="w"> </span><span class="err">members</span><span class="w"> </span><span class="err">can</span><span class="w"> </span><span class="err">access</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">private</span><span class="w"> </span><span class="err">parts</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">class</span><span class="w"> </span><span class="err">Child.</span>
<span class="err">friend</span><span class="w"> </span><span class="err">class</span><span class="w"> </span><span class="err">Mother</span><span class="p">;</span>

<span class="n">public</span><span class="p">:</span>

<span class="w">  </span><span class="n">string</span><span class="w"> </span><span class="nf">name</span><span class="p">(</span><span class="w"> </span><span class="n">void</span><span class="w"> </span><span class="p">);</span>

<span class="n">protected</span><span class="p">:</span>

<span class="w">  </span><span class="n">void</span><span class="w"> </span><span class="nf">setName</span><span class="p">(</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="n">newName</span><span class="w"> </span><span class="p">);</span>
<span class="p">}</span><span class="o">;</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>At work we <strong>use friends for testing code</strong> , extensively. It means we can
provide proper encapsulation and information hiding for the main application
code. But also we can have separate test code that uses friends to inspect
internal state and data for testing.</p>
<p>Suffice to say I wouldn't use the friend keyword as an essential component of
your design.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/javascript-equivalent-to-php-explode/" class="u-url">Javascript Equivalent to PHP Explode()</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/javascript-equivalent-to-php-explode/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T10:30:00+08:00" itemprop="datePublished" title="2023-03-04 10:30">2023-03-04 10:30</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have this string:</p>
<blockquote>
<p>0000000020C90037:TEMP:data</p>
</blockquote>
<p>I need this string:</p>
<blockquote>
<p>TEMP:data.</p>
</blockquote>
<p>With PHP I would do this:</p>
<div class="code"><pre class="code literal-block"><span class="o">$</span><span class="nb">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'0000000020C90037:TEMP:data'</span><span class="p">;</span>
<span class="o">$</span><span class="n">arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">explode</span><span class="p">(</span><span class="s1">':'</span><span class="p">,</span><span class="w"> </span><span class="o">$</span><span class="nb">str</span><span class="p">);</span>
<span class="o">$</span><span class="k">var</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">$</span><span class="n">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="s1">':'</span><span class="o">.$</span><span class="n">arr</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
</pre></div>

<p>How do I effectively <code>explode</code> a string in JavaScript the way it works in PHP?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>This is a direct conversion from your PHP code:</p>
<div class="code"><pre class="code literal-block"><span class="o">//</span><span class="n">Loading</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">variable</span>
<span class="k">var</span><span class="w"> </span><span class="n">mystr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'0000000020C90037:TEMP:data'</span><span class="p">;</span>

<span class="o">//</span><span class="n">Splitting</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">separator</span>
<span class="k">var</span><span class="w"> </span><span class="n">myarr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mystr</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">":"</span><span class="p">);</span>

<span class="o">//</span><span class="n">Then</span><span class="w"> </span><span class="n">read</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">array</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">first</span>
<span class="o">//</span><span class="n">Since</span><span class="w"> </span><span class="n">we</span><span class="w"> </span><span class="n">skipped</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">array</span><span class="p">,</span><span class="w"> </span><span class="n">we</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="mi">1</span>
<span class="k">var</span><span class="w"> </span><span class="n">myvar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">myarr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">":"</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">myarr</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>

<span class="o">//</span><span class="w"> </span><span class="n">Show</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">resulting</span><span class="w"> </span><span class="n">value</span>
<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">myvar</span><span class="p">);</span>
<span class="o">//</span><span class="w"> </span><span class="s1">'TEMP:data'</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<div class="code"><pre class="code literal-block"><span class="nb nb-Type">String</span><span class="o">.</span><span class="n">prototype</span><span class="o">.</span><span class="n">explode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="p">(</span><span class="n">separator</span><span class="p">,</span><span class="w"> </span><span class="n">limit</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">array</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">this</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">separator</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">limit</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="n">undefined</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">array</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">limit</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">array</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">array</span><span class="o">.</span><span class="n">splice</span><span class="p">(</span><span class="n">limit</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">separator</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">array</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>

<p>Should mimic PHP's explode() function exactly.</p>
<div class="code"><pre class="code literal-block">'a'.explode('.', 2); // ['a']
'a.b'.explode('.', 2); // ['a', 'b']
'a.b.c'.explode('.', 2); // ['a', 'b.c']
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/programmatically-navigate-using-react-router-v4/" class="u-url">Programmatically navigate using react router V4</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/programmatically-navigate-using-react-router-v4/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T10:28:19+08:00" itemprop="datePublished" title="2023-03-04 10:28">2023-03-04 10:28</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have just replaced <code>react-router</code> from v3 to v4.<br>
But I am not sure how to programmatically navigate in the member function of a
<code>Component</code>. i.e in <code>handleClick()</code> function I want to navigate to
<code>/path/some/where</code> after processing some data. I used to do that by:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="p">{</span> <span class="n">browserHistory</span> <span class="p">}</span> <span class="kn">from</span> <span class="s1">'react-router'</span>
<span class="n">browserHistory</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="s1">'/path/some/where'</span><span class="p">)</span>
</pre></div>

<p>But I can't find such interfaces in v4.<br>
How can I navigate using v4?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>If you are targeting browser environments, you need to use <code>react-router-dom</code>
package, instead of <code>react-router</code>. They are following the same approach as
React did, in order to separate the core, (<code>react</code>) and the platform specific
code, (<code>react-dom</code>, <code>react-native</code> ) with the subtle difference that you don't
need to install two separate packages, so the environment packages contain
everything you need. You can add it to your project as:</p>
<p><code>yarn add react-router-dom</code></p>
<p>or</p>
<p><code>npm i react-router-dom</code></p>
<p>The first thing you need to do is to provide a <code>&lt;BrowserRouter&gt;</code> as the top
most parent component in your application. <code>&lt;BrowserRouter&gt;</code> uses the HTML5
<code>history</code> API and manages it for you, so you don't have to worry about
instantiating it yourself and passing it down to the <code>&lt;BrowserRouter&gt;</code>
component as a prop (as you needed to do in previous versions).</p>
<p>In V4, for navigating programatically you need to access the <code>history</code> object,
which is available through React <code>context</code>, as long as you have a
<code>&lt;BrowserRouter&gt;</code> <em>provider</em> component as the top most parent in your
application. The library exposes through context the <code>router</code> object, that
itself contains <code>history</code> as a property. The <code>history</code> interface offers
several navigation methods, such as <code>push</code>, <code>replace</code> and <code>goBack</code>, among
others. You can check the whole list of properties and methods here.</p>
<hr>
<h3><strong>Important Note to Redux/Mobx users</strong></h3>
<p><strong>If you are using redux or mobx as your state management library in your
application, you may have come across issues with components that should be
location-aware but are not re-rendered after triggering an URL update</strong></p>
<p>That's happening because <code>react-router</code> passes <code>location</code> to components using
the context model.</p>
<blockquote>
<p>Both connect and observer create components whose shouldComponentUpdate
methods do a shallow comparison of their current props and their next props.
Those components will only re-render when at least one prop has changed.
This means that in order to ensure they update when the location changes,
they will need to be given a prop that changes when the location changes.</p>
</blockquote>
<p>The 2 approaches for solving this are:</p>
<ul>
<li>Wrap your <em>connected</em> component in a pathless <code>&lt;Route /&gt;</code>. The current <code>location</code> object is one of the props that a <code>&lt;Route&gt;</code> passes to the component it renders</li>
<li>Wrap your <em>connected</em> component with the <code>withRouter</code> higher-order component, that in fact has the same effect and injects <code>location</code> as a prop </li>
</ul>
<p>Setting that aside, there are four ways to navigate programatically, ordered
by recommendation:</p>
<hr>
<h4><strong>1.- Using a<code>&lt;Route&gt;</code> Component</strong></h4>
<p>It promotes a declarative style. Prior to v4, <code>&lt;Route /&gt;</code> components were
placed at the top of your component hierarchy, having to think of your routes
structure beforehand. However, now you can have <code>&lt;Route&gt;</code> components
<strong>anywhere</strong> in your tree, allowing you to have a finer control for
conditionally rendering depending on the URL. <code>Route</code> injects <code>match</code>,
<code>location</code> and <code>history</code> as props into your component. The navigation methods
(such as <code>push</code>, <code>replace</code>, <code>goBack</code>...) are available as properties of the
<code>history</code> object.</p>
<p>There are 3 ways to render something with a <code>Route</code>, by using either
<code>component</code>, <code>render</code> or <code>children</code> props, but don't use more than one in the
same <code>Route</code>. The choice depends on the use case, but basically the first two
options will only render your component if the <code>path</code> matches the url
location, whereas with <code>children</code> the component will be rendered whether the
path matches the location or not (useful for adjusting the UI based on URL
matching).</p>
<p><strong>If you want to customise your component rendering output</strong> , you need to
wrap your component in a function and use the <code>render</code> option, in order to
pass to your component any other props you desire, apart from <code>match</code>,
<code>location</code> and <code>history</code>. An example to illustrate:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="p">{</span> <span class="n">BrowserRouter</span> <span class="k">as</span> <span class="n">Router</span> <span class="p">}</span> <span class="kn">from</span> <span class="s1">'react-router-dom'</span>

<span class="n">const</span> <span class="n">ButtonToNavigate</span> <span class="o">=</span> <span class="p">({</span> <span class="n">title</span><span class="p">,</span> <span class="n">history</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">(</span>
  <span class="o">&lt;</span><span class="n">button</span>
    <span class="nb">type</span><span class="o">=</span><span class="s2">"button"</span>
    <span class="n">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="n">history</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="s1">'/my-new-location'</span><span class="p">)}</span>
  <span class="o">&gt;</span>
    <span class="p">{</span><span class="n">title</span><span class="p">}</span>
  <span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
<span class="p">);</span>

<span class="n">const</span> <span class="n">SomeComponent</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(</span>
  <span class="o">&lt;</span><span class="n">Route</span> <span class="n">path</span><span class="o">=</span><span class="s2">"/"</span> <span class="n">render</span><span class="o">=</span><span class="p">{(</span><span class="n">props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="o">&lt;</span><span class="n">ButtonToNavigate</span> <span class="p">{</span><span class="o">...</span><span class="n">props</span><span class="p">}</span> <span class="n">title</span><span class="o">=</span><span class="s2">"Navigate elsewhere"</span> <span class="o">/&gt;</span><span class="p">}</span> <span class="o">/&gt;</span>
<span class="p">)</span>

<span class="n">const</span> <span class="n">App</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(</span>
  <span class="o">&lt;</span><span class="n">Router</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">SomeComponent</span> <span class="o">/&gt;</span> <span class="o">//</span> <span class="n">Notice</span> <span class="n">how</span> <span class="ow">in</span> <span class="n">v4</span> <span class="n">we</span> <span class="n">can</span> <span class="n">have</span> <span class="nb">any</span> <span class="n">other</span> <span class="n">component</span> <span class="n">interleaved</span>
    <span class="o">&lt;</span><span class="n">AnotherComponent</span> <span class="o">/&gt;</span>
  <span class="o">&lt;/</span><span class="n">Router</span><span class="o">&gt;</span>
<span class="p">);</span>
</pre></div>

<hr>
<h4><strong>2.- Using<code>withRouter</code> HoC</strong></h4>
<p>This higher order component will inject the same props as <code>Route</code>. However, it
carries along the limitation that you can have only 1 HoC per file.</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="p">{</span> <span class="n">withRouter</span> <span class="p">}</span> <span class="kn">from</span> <span class="s1">'react-router-dom'</span>

<span class="n">const</span> <span class="n">ButtonToNavigate</span> <span class="o">=</span> <span class="p">({</span> <span class="n">history</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">(</span>
  <span class="o">&lt;</span><span class="n">button</span>
    <span class="nb">type</span><span class="o">=</span><span class="s2">"button"</span>
    <span class="n">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="n">history</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="s1">'/my-new-location'</span><span class="p">)}</span>
  <span class="o">&gt;</span>
    <span class="n">Navigate</span>
  <span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
<span class="p">);</span>


<span class="n">ButtonToNavigate</span><span class="o">.</span><span class="n">propTypes</span> <span class="o">=</span> <span class="p">{</span>
  <span class="n">history</span><span class="p">:</span> <span class="n">React</span><span class="o">.</span><span class="n">PropTypes</span><span class="o">.</span><span class="n">shape</span><span class="p">({</span>
    <span class="n">push</span><span class="p">:</span> <span class="n">React</span><span class="o">.</span><span class="n">PropTypes</span><span class="o">.</span><span class="n">func</span><span class="o">.</span><span class="n">isRequired</span><span class="p">,</span>
  <span class="p">}),</span>
<span class="p">};</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">withRouter</span><span class="p">(</span><span class="n">ButtonToNavigate</span><span class="p">);</span>
</pre></div>

<h4>3.- Using a <code>Redirect</code> component</h4>
<p>Rendering a <code>&lt;Redirect&gt;</code> will navigate to a new location. But keep in mind
that, <strong>by default</strong> , the current location is replaced by the new one, like
server-side redirects (HTTP 3xx). The new location is provided by <code>to</code> prop,
that can be a string (URL to redirect to) or a <code>location</code> object. If you want
to <strong>push a new entry onto the history</strong> instead, pass a <code>push</code> prop as well
and set it to <code>true</code></p>
<div class="code"><pre class="code literal-block">&lt;Redirect to="/your-new-location" push /&gt;
</pre></div>

<h4>4.- Accessing <code>router</code> manually through context</h4>
<p>A bit discouraged because context is still an experimental API and it is
likely to break/change in future releases of React</p>
<div class="code"><pre class="code literal-block">const<span class="w"> </span>ButtonToNavigate<span class="w"> </span>=<span class="w"> </span>(props,<span class="w"> </span>context)<span class="w"> </span>=&gt;<span class="w"> </span>(
<span class="w">  </span><span class="nt">&lt;button</span>
<span class="w">    </span><span class="na">type=</span><span class="s">"button"</span>
<span class="w">    </span><span class="na">onClick=</span><span class="s">{()</span><span class="w"> </span><span class="err">=</span><span class="nt">&gt;</span><span class="w"> </span>context.router.history.push('/my-new-location')}
<span class="w">  </span>&gt;
<span class="w">    </span>Navigate<span class="w"> </span>to<span class="w"> </span>a<span class="w"> </span>new<span class="w"> </span>location
<span class="w">  </span><span class="nt">&lt;/button&gt;</span>
);

ButtonToNavigate.contextTypes<span class="w"> </span>=<span class="w"> </span>{
<span class="w">  </span>router:<span class="w"> </span>React.PropTypes.shape({
<span class="w">    </span>history:<span class="w"> </span>React.PropTypes.object.isRequired,
<span class="w">  </span>}),
};
</pre></div>

<p>Needless to say there are also other Router components that are meant to be
for non browser ecosystems, such as <code>&lt;NativeRouter&gt;</code> that replicates a
navigation stack <em>in memory</em> and targets React Native platform, available
through <code>react-router-native</code> package.</p>
<p>For any further reference, don't hesitate to take a look at the official docs.
There is also a video made by one of the co-authors of the library that
provides a pretty cool introduction to react-router v4, highlighting some of
the major changes.</p>
<p><br></p>
<h3>Suggest</h3>
<p>The easiest way to get it done:</p>
<p><code>this.props.history.push("/new/url")</code></p>
<p>Note:</p>
<ul>
<li>You may want to pass the <code>history</code> <code>prop</code> from parent component down to the component you want to invoke the action if its not available.</li>
</ul>
</div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2363.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2361.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

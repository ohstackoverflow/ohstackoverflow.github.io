<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 490) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-490.html">
<link rel="prev" href="index-491.html" type="text/html">
<link rel="next" href="index-489.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/git-recover-deleted-file-where-no-commit-was-made-after-the-delete/" class="u-url">git recover deleted file where no commit was made after the delete</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/git-recover-deleted-file-where-no-commit-was-made-after-the-delete/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T08:10:20+08:00" itemprop="datePublished" title="2023-02-17 08:10">2023-02-17 08:10</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I deleted some files.</p>
<p>I did NOT commit yet.</p>
<p>I want to reset my workspace to recover the files.</p>
<p>I did a <code>git checkout .</code>.</p>
<p>But the deleted files are still missing.</p>
<p>And <code>git status</code> shows:</p>
<div class="code"><pre class="code literal-block"># On branch master
# Changes to be committed:
#   (use "git reset HEAD &lt;file&gt;..." to unstage)
#
#   deleted:    cc.properties
#   deleted:    store/README
#   deleted:    store/cc.properties
#
</pre></div>

<p>Why doesn't <code>git checkout .</code> reset the workspace to <code>HEAD</code>?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The output tells you what you need to do. <code>git reset HEAD cc.properties</code> etc.</p>
<p>This will unstage the rm operation. After that, running a <code>git status</code> again
will tell you that you need to do a <code>git checkout -- cc.properties</code> to get the
file back.</p>
<p>Update: I have this in my config file</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>git<span class="w"> </span>config<span class="w"> </span>alias.unstage
reset<span class="w"> </span>HEAD
</pre></div>

<p>which I usually use to unstage stuff.</p>
<p><br></p>
<h3>Suggest</h3>
<p>You've staged the deletion so you need to do:</p>
<div class="code"><pre class="code literal-block">git checkout HEAD cc.properties store/README store/cc.properties
</pre></div>

<p><code>git checkout .</code> only checks out from the index where the deletion has already
been staged.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/gitignore-and-the-following-untracked-working-tree-files-would-be-overwritten-by-checkout/" class="u-url">.gitignore and "The following untracked working tree files would be overwritten by checkout"</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/gitignore-and-the-following-untracked-working-tree-files-would-be-overwritten-by-checkout/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T08:09:49+08:00" itemprop="datePublished" title="2023-02-17 08:09">2023-02-17 08:09</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>So I added a folder to my .gitignore file.</p>
<p>Once I do a <code>git status</code> it tells me</p>
<div class="code"><pre class="code literal-block"># On branch latest
nothing to commit (working directory clean)
</pre></div>

<p>However, when I try to change branches I get the following:</p>
<div class="code"><pre class="code literal-block">My-MacBook-Pro:webapp marcamillion$ git checkout develop
error: The following untracked working tree files would be overwritten by checkout:
    public/system/images/9/thumb/red-stripe.jpg
    public/system/images/9/original/red-stripe.jpg
    public/system/images/8/thumb/red-stripe-red.jpg
    public/system/images/8/original/red-stripe-red.jpg
    public/system/images/8/original/00-louis_c.k.-chewed_up-cover-2008.jpg
    public/system/images/7/thumb/red-stripe-dark.jpg
    public/system/images/7/original/red-stripe-dark.jpg
    public/system/images/7/original/DSC07833.JPG
    public/system/images/6/thumb/red-stripe-bw.jpg
    public/system/images/6/original/website-logo.png
    public/system/images/6/original/red-stripe-bw.jpg
    public/system/images/5/thumb/Guy_Waving_Jamaican_Flag.jpg
    public/system/images/5/original/logocompv-colored-squares-100px.png
    public/system/images/5/original/Guy_Waving_Jamaican_Flag.jpg
    public/system/images/4/thumb/DSC_0001.JPG
    public/system/images/4/original/logo.png
    public/system/images/4/original/DSC_0001.JPG
    public/system/images/4/original/2-up.jpg
    public/system/images/3/thumb/logo2.gif
    public/system/images/3/original/logo2.gif
    public/system/images/3/original/Guy_Waving_Jamaican_Flag.jpg
    public/system/images/3/original/11002000962.jpg
    public/system/images/2/thumb/Profile Pic.jpg
    public/system/images/2/original/Profile Pic.jpg
    public/system/images/2/original/02 Login Screen.jpg
    public/system/images/1/original/Argentina-2010-World-Cup.jpg
Please move or remove them before you can switch branches.
Aborting
</pre></div>

<p>This is what my .gitignore file looks like:</p>
<div class="code"><pre class="code literal-block"><span class="na">.bundle</span>
<span class="na">.DS_Store</span>
<span class="nf">db</span><span class="cm">/*.sqlite3</span>
<span class="cm">log/*.log</span>
<span class="cm">tmp/**/</span><span class="err">*</span>
<span class="nf">public</span><span class="err">/</span><span class="no">system</span><span class="err">/</span><span class="no">images</span><span class="err">/</span><span class="p">*</span>
<span class="nf">public</span><span class="err">/</span><span class="no">system</span><span class="err">/</span><span class="no">avatars</span><span class="err">/</span><span class="p">*</span>
</pre></div>

<p>How do I get this working so I can switch branches without deleting those
files?</p>
<p>If I make a change, will it affect those files? In other words, if I came back
to this branch afterwards would everything be perfect as up to my latest
commit?</p>
<p>I don't want to lose those files, I just don't want them tracked.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>It seems like you want the files ignored but they have already been commited.
.gitignore has no effect on files that are already in the repo so they need to
be removed with <code>git rm --cached</code>. The <code>--cached</code> will prevent it from having
any effect on your working copy and it will just mark as removed the next time
you commit. After the files are removed from the repo then the .gitignore will
prevent them from being added again.</p>
<p>But you have another problem with your .gitignore, you are excessively using
wildcards and its causing it to match less than you expect it to. Instead lets
change the .gitignore and try this.</p>
<div class="code"><pre class="code literal-block"><span class="na">.bundle</span>
<span class="na">.DS_Store</span>
<span class="nf">db</span><span class="err">/</span><span class="p">*.</span><span class="no">sqlite3</span>
<span class="nf">log</span><span class="err">/</span><span class="p">*.</span><span class="no">log</span>
<span class="nf">tmp</span><span class="err">/</span>
<span class="nf">public</span><span class="err">/</span><span class="no">system</span><span class="err">/</span><span class="no">images</span><span class="err">/</span>
<span class="nf">public</span><span class="err">/</span><span class="no">system</span><span class="err">/</span><span class="no">avatars</span><span class="err">/</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<blockquote>
<p><strong>Warning: This will delete the local files that are not indexed</strong></p>
</blockquote>
<p>Just force it : <code>git checkout -f another-branch</code></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/cross-origin-requests-are-only-supported-for-http-error-when-loading-a-local-file/" class="u-url">"Cross origin requests are only supported for HTTP." error when loading a local file</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/cross-origin-requests-are-only-supported-for-http-error-when-loading-a-local-file/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T08:09:20+08:00" itemprop="datePublished" title="2023-02-17 08:09">2023-02-17 08:09</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm trying to load a 3D model, stored locally on my computer, into Three.js
with <code>JSONLoader</code>, and that 3D model is in the same directory as the entire
website.</p>
<p>I'm getting the <code>"Cross origin requests are only supported for HTTP."</code> error,
but I don't know what's causing it nor how to fix it.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>My crystal ball says that you are loading the model using either <code>file://</code> or
<code>C:/</code>, which stays true to the error message as they are not <code>http://</code></p>
<p>So you can either install a webserver in your local PC or upload the model
somewhere else and use <code>jsonp</code> and change the url to
<code>http://example.com/path/to/model</code></p>
<p>Origin is defined in RFC-6454 as</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span>...<span class="nv">they</span><span class="w"> </span><span class="nv">have</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">same</span>
<span class="w">   </span><span class="nv">scheme</span>,<span class="w"> </span><span class="nv">host</span>,<span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="nv">port</span>.<span class="w">  </span><span class="ss">(</span><span class="nv">See</span><span class="w"> </span><span class="nv">Section</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">full</span><span class="w"> </span><span class="nv">details</span>.<span class="ss">)</span>
</pre></div>

<p>So even though your file originates from the same host (<code>localhost</code>), but as
long as the scheme is different (<code>http</code> / <code>file</code>), they are treated as
different origin.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Just to be explicit - Yes, the error is saying you cannot point your browser
directly at <code>file://some/path/some.html</code></p>
<p>Here are some options to quickly spin up a local web server to let your
browser render local files</p>
<h3>Python 2</h3>
<p>If you have Python installed...</p>
<ol>
<li>
<p>Change directory into the folder where your file <code>some.html</code> or file(s) exist using the command <code>cd /path/to/your/folder</code></p>
</li>
<li>
<p>Start up a Python web server using the command <code>python -m SimpleHTTPServer</code></p>
</li>
</ol>
<p>This will start a web server to host your entire directory listing at
<code>http://localhost:8000</code></p>
<ol>
<li>You can use a custom port <code>python -m SimpleHTTPServer 9000</code> giving you link: <code>http://localhost:9000</code>
</li>
</ol>
<p>This approach is built in to any Python installation.</p>
<h3>Python 3</h3>
<p>Do the same steps, but use the following command instead <code>python3 -m
http.server</code></p>
<h3>VSCode</h3>
<p>If you are using Visual Studio Code you can install the Live Server extension
which provides a local web server enviroment.</p>
<h3>Node.js</h3>
<p>Alternatively, if you demand a more responsive setup and already use nodejs...</p>
<ol>
<li>
<p>Install <code>http-server</code> by typing <code>npm install -g http-server</code></p>
</li>
<li>
<p>Change into your working directory, where your<code>some.html</code> lives</p>
</li>
<li>
<p>Start your http server by issuing <code>http-server -c-1</code></p>
</li>
</ol>
<p>This spins up a Node.js httpd which serves the files in your directory as
static files accessible from <code>http://localhost:8080</code></p>
<h3>Ruby</h3>
<p>If your preferred language is Ruby ... the Ruby Gods say this works as well:</p>
<div class="code"><pre class="code literal-block">ruby -run -e httpd . -p 8080
</pre></div>

<h3>PHP</h3>
<p>Of course PHP also has its solution.</p>
<div class="code"><pre class="code literal-block">php -S localhost:8000
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-491.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-489.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

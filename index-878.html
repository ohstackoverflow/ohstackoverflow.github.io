<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 878) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-878.html">
<link rel="prev" href="index-879.html" type="text/html">
<link rel="next" href="index-877.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/ios-8-uitableview-separator-inset-0-not-working/" class="u-url">iOS 8 UITableView separator inset 0 not working</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/ios-8-uitableview-separator-inset-0-not-working/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T18:26:11+08:00" itemprop="datePublished" title="2023-02-17 18:26">2023-02-17 18:26</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have an app where the <code>UITableView</code>'s separator inset is set to custom
values - Right <code>0</code>, Left <code>0</code>. This works perfectly in <code>iOS 7.x</code>, however in
<code>iOS 8.0</code> I see that the separator inset is set to the default of <code>15</code> on the
right. Even though in the xib files it set to <code>0</code>, it still shows up
incorrectly.</p>
<p>How do I remove the <code>UITableViewCell</code> separator margins?</p>
<p><br><br></p>
<h2>Answer</h2>
<p><strong>iOS 8.0 introduces the layoutMargins property on cells AND table views.</strong></p>
<p>This property isn't available on iOS 7.0 so you need to make sure you check
before assigning it!</p>
<p>The easy fix is to subclass your cell and override the layout margins property
as suggested by @user3570727. However you will lose any system behavior like
inheriting margins from the Safe Area so I do not recommend the below
solution:</p>
<p>(ObjectiveC)</p>
<div class="code"><pre class="code literal-block"><span class="o">-</span><span class="ss">(</span><span class="nv">UIEdgeInsets</span><span class="ss">)</span><span class="nv">layoutMargins</span><span class="w"> </span>{<span class="w"> </span>
<span class="w">     </span><span class="k">return</span><span class="w"> </span><span class="nv">UIEdgeInsetsZero</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="nv">override</span><span class="w"> </span><span class="nv">any</span><span class="w"> </span><span class="nv">margins</span><span class="w"> </span><span class="nv">inc</span>.<span class="w"> </span><span class="nv">safe</span><span class="w"> </span><span class="nv">area</span>
}
</pre></div>

<p>(swift 4.2):</p>
<div class="code"><pre class="code literal-block"><span class="n">override</span><span class="w"> </span><span class="k">var</span><span class="w"> </span><span class="n">layoutMargins</span><span class="p">:</span><span class="w"> </span><span class="n">UIEdgeInsets</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">get</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="o">.</span><span class="n">zero</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>

<p>If you don't want to override the property, or need to set it conditionally,
keep reading.</p>
<hr>
<p>In addition to the <code>layoutMargins</code> property, Apple has added a <strong>property</strong> to
your cell that will prevent it from inheriting your Table View's margin
settings. When this property is set, your cells are allowed to configure their
own margins independently of the table view. Think of it as an override.</p>
<p>This property is called <code>preservesSuperviewLayoutMargins</code>, and setting it to
<code>NO</code> will allow the cell's <code>layoutMargin</code> setting to override whatever
<code>layoutMargin</code> is set on your TableView. It both saves time ( <strong>you don't have
to modify the Table View's settings</strong> ), and is more concise. Please refer to
Mike Abdullah's answer for a detailed explanation.</p>
<p><em>NOTE: what follows is a clean implementation for a <strong>cell-level margin
setting</strong> , as expressed in Mike Abdullah's answer. Setting your cell's
<code>preservesSuperviewLayoutMargins=NO</code> will ensure that your Table View does not
override the cell settings. If you actually want your entire table view to
have consistent margins, please adjust your code accordingly.</em></p>
<p><strong>Setup your cell margins:</strong></p>
<div class="code"><pre class="code literal-block"><span class="p">-(</span><span class="kt">void</span><span class="p">)</span><span class="nf">tableView:</span><span class="p">(</span><span class="bp">UITableView</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">tableView</span><span class="w"> </span><span class="nf">willDisplayCell:</span><span class="p">(</span><span class="bp">UITableViewCell</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">cell</span><span class="w"> </span><span class="nf">forRowAtIndexPath:</span><span class="p">(</span><span class="bp">NSIndexPath</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">indexPath</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// Remove seperator inset</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">([</span><span class="n">cell</span><span class="w"> </span><span class="n">respondsToSelector</span><span class="o">:</span><span class="k">@selector</span><span class="p">(</span><span class="n">setSeparatorInset</span><span class="o">:</span><span class="p">)])</span><span class="w"> </span><span class="p">{</span>
<span class="w">           </span><span class="p">[</span><span class="n">cell</span><span class="w"> </span><span class="n">setSeparatorInset</span><span class="o">:</span><span class="n">UIEdgeInsetsZero</span><span class="p">];</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Prevent the cell from inheriting the Table View's margin settings</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">([</span><span class="n">cell</span><span class="w"> </span><span class="n">respondsToSelector</span><span class="o">:</span><span class="k">@selector</span><span class="p">(</span><span class="n">setPreservesSuperviewLayoutMargins</span><span class="o">:</span><span class="p">)])</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">[</span><span class="n">cell</span><span class="w"> </span><span class="n">setPreservesSuperviewLayoutMargins</span><span class="o">:</span><span class="nb">NO</span><span class="p">];</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Explictly set your cell's layout margins</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">([</span><span class="n">cell</span><span class="w"> </span><span class="n">respondsToSelector</span><span class="o">:</span><span class="k">@selector</span><span class="p">(</span><span class="n">setLayoutMargins</span><span class="o">:</span><span class="p">)])</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">[</span><span class="n">cell</span><span class="w"> </span><span class="n">setLayoutMargins</span><span class="o">:</span><span class="n">UIEdgeInsetsZero</span><span class="p">];</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p><strong>Swift 4:</strong></p>
<div class="code"><pre class="code literal-block"><span class="k">func</span><span class="w"> </span><span class="n">tableView</span><span class="p">(</span><span class="n">_</span><span class="w"> </span><span class="n">tableView</span><span class="p">:</span><span class="w"> </span><span class="n">UITableView</span><span class="p">,</span><span class="w"> </span><span class="n">willDisplay</span><span class="w"> </span><span class="n">cell</span><span class="p">:</span><span class="w"> </span><span class="n">UITableViewCell</span><span class="p">,</span><span class="w"> </span><span class="n">forRowAt</span><span class="w"> </span><span class="n">indexPath</span><span class="p">:</span><span class="w"> </span><span class="n">IndexPath</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Remove</span><span class="w"> </span><span class="n">seperator</span><span class="w"> </span><span class="n">inset</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">cell</span><span class="o">.</span><span class="n">responds</span><span class="p">(</span><span class="n">to</span><span class="p">:</span><span class="w"> </span><span class="c1">#selector(setter: UITableViewCell.separatorInset)) {</span>
<span class="w">        </span><span class="n">cell</span><span class="o">.</span><span class="n">separatorInset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">.</span><span class="n">zero</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Prevent</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">cell</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">inheriting</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">Table</span><span class="w"> </span><span class="n">View</span><span class="s1">'s margin settings</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">cell</span><span class="o">.</span><span class="n">responds</span><span class="p">(</span><span class="n">to</span><span class="p">:</span><span class="w"> </span><span class="c1">#selector(setter: UITableViewCell.preservesSuperviewLayoutMargins)) {</span>
<span class="w">        </span><span class="n">cell</span><span class="o">.</span><span class="n">preservesSuperviewLayoutMargins</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">false</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Explictly</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">cell</span><span class="s1">'s layout margins</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">cell</span><span class="o">.</span><span class="n">responds</span><span class="p">(</span><span class="n">to</span><span class="p">:</span><span class="w"> </span><span class="c1">#selector(setter: UITableViewCell.layoutMargins)) {</span>
<span class="w">        </span><span class="n">cell</span><span class="o">.</span><span class="n">layoutMargins</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">.</span><span class="n">zero</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>Setting the <code>preservesSuperviewLayoutMargins</code> property on your cell to NO
<strong>should</strong> prevent your table view from overriding your cell margins. In some
cases, it seems to not function properly.</p>
<p><strong>If all fails, you may brute-force your Table View margins:</strong></p>
<div class="code"><pre class="code literal-block"><span class="p">-(</span><span class="kt">void</span><span class="p">)</span><span class="nf">viewDidLayoutSubviews</span>
<span class="p">{</span>
<span class="w">    </span><span class="p">[</span><span class="nb">super</span><span class="w"> </span><span class="n">viewDidLayoutSubviews</span><span class="p">];</span>

<span class="w">    </span><span class="c1">// Force your tableview margins (this may be a bad idea)</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">([</span><span class="nb">self</span><span class="p">.</span><span class="n">tableView</span><span class="w"> </span><span class="n">respondsToSelector</span><span class="o">:</span><span class="k">@selector</span><span class="p">(</span><span class="n">setSeparatorInset</span><span class="o">:</span><span class="p">)])</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">tableView</span><span class="w"> </span><span class="n">setSeparatorInset</span><span class="o">:</span><span class="n">UIEdgeInsetsZero</span><span class="p">];</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">([</span><span class="nb">self</span><span class="p">.</span><span class="n">tableView</span><span class="w"> </span><span class="n">respondsToSelector</span><span class="o">:</span><span class="k">@selector</span><span class="p">(</span><span class="n">setLayoutMargins</span><span class="o">:</span><span class="p">)])</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">tableView</span><span class="w"> </span><span class="n">setLayoutMargins</span><span class="o">:</span><span class="n">UIEdgeInsetsZero</span><span class="p">];</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p><strong>Swift 4:</strong></p>
<div class="code"><pre class="code literal-block"><span class="k">func</span><span class="w"> </span><span class="n">viewDidLayoutSubviews</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">super</span><span class="o">.</span><span class="n">viewDidLayoutSubviews</span><span class="p">()</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Force</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">tableview</span><span class="w"> </span><span class="n">margins</span><span class="w"> </span><span class="p">(</span><span class="n">this</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">bad</span><span class="w"> </span><span class="n">idea</span><span class="p">)</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">tableView</span><span class="o">.</span><span class="n">responds</span><span class="p">(</span><span class="n">to</span><span class="p">:</span><span class="w"> </span><span class="c1">#selector(setter: UITableView.separatorInset)) {</span>
<span class="w">        </span><span class="n">tableView</span><span class="o">.</span><span class="n">separatorInset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">.</span><span class="n">zero</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">tableView</span><span class="o">.</span><span class="n">responds</span><span class="p">(</span><span class="n">to</span><span class="p">:</span><span class="w"> </span><span class="c1">#selector(setter: UITableView.layoutMargins)) {</span>
<span class="w">        </span><span class="n">tableView</span><span class="o">.</span><span class="n">layoutMargins</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">.</span><span class="n">zero</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>...and there you go! This should work on iOS 7 and 8.</p>
<hr>
<p><strong>EDIT:</strong> <strong>Mohamed Saleh brought to my attention a possible change in iOS
9.</strong> You may need to set the Table View's
<code>cellLayoutMarginsFollowReadableWidth</code> to <code>NO</code> if you want to customize insets
or margins. Your mileage may vary, this is not documented very well.</p>
<p>This property only exists in iOS 9 so be sure to check before setting.</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="p">([</span><span class="n">myTableView</span><span class="w"> </span><span class="n">respondsToSelector</span><span class="o">:</span><span class="k">@selector</span><span class="p">(</span><span class="n">setCellLayoutMarginsFollowReadableWidth</span><span class="o">:</span><span class="p">)])</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">myTableView</span><span class="p">.</span><span class="n">cellLayoutMarginsFollowReadableWidth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NO</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p><strong>Swift 4:</strong></p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="nv">myTableView</span>.<span class="nv">responds</span><span class="ss">(</span><span class="nv">to</span>:<span class="w"> </span>#<span class="nv">selector</span><span class="ss">(</span><span class="nv">setter</span>:<span class="w"> </span><span class="nv">self</span>.<span class="nv">cellLayoutMarginsFollowReadableWidth</span><span class="ss">))</span><span class="w"> </span>{
<span class="w">    </span><span class="nv">myTableView</span>.<span class="nv">cellLayoutMarginsFollowReadableWidth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">false</span>
}
</pre></div>

<p>(above code from iOS 8 UITableView separator inset 0 not working)</p>
<p><strong>EDIT: Here's a pure Interface Builder approach:</strong></p>
<p><img alt="TableViewAttributesInspector" src="images/QLjGB.png"><img alt="TableViewCellSizeInspector" src="images/pbgBU.png"></p>
<p><em>NOTE: iOS 11 changes &amp; simplifies much of this behavior, an update will be
forthcoming...</em></p>
<p><br></p>
<h3>Suggest</h3>
<p>Arg!!! After playing around either doing this in your <code>Cell</code> subclass:</p>
<div class="code"><pre class="code literal-block"><span class="o">-</span><span class="w"> </span><span class="ss">(</span><span class="nv">UIEdgeInsets</span><span class="ss">)</span><span class="nv">layoutMargins</span>
{
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">UIEdgeInsetsZero</span><span class="c1">;</span>
}
</pre></div>

<p>or setting the <code>cell.layoutMargins = UIEdgeInsetsZero;</code> fixed it for me.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/vue-js-how-to-properly-watch-for-nested-data/" class="u-url">Vue.js - How to properly watch for nested data</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/vue-js-how-to-properly-watch-for-nested-data/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T18:25:44+08:00" itemprop="datePublished" title="2023-02-17 18:25">2023-02-17 18:25</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm trying to understand how to properly watch for some prop variation. I have
a parent component (.vue files) that receive data from an ajax call, put the
data inside an object and use it to render some child component through a
v-for directive, below a simplification of my implementation:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;template&gt;</span>
<span class="w">  </span><span class="nt">&lt;div&gt;</span>
<span class="w">    </span><span class="nt">&lt;player</span><span class="w"> </span><span class="na">v-for=</span><span class="s">"(item, key, index) in players"</span>
<span class="w">      </span><span class="na">:item=</span><span class="s">"item"</span>
<span class="w">      </span><span class="na">:index=</span><span class="s">"index"</span>
<span class="w">      </span><span class="na">:key=</span><span class="s">"key"</span><span class="err">"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;/player&gt;</span>
<span class="w">  </span><span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/template&gt;</span>
</pre></div>

<p>... then inside <code>&lt;script&gt;</code> tag:</p>
<div class="code"><pre class="code literal-block"><span class="w"> </span><span class="k">data</span><span class="p">()</span><span class="err">{</span>
<span class="w">     </span><span class="k">return</span><span class="w"> </span><span class="err">{</span>
<span class="w">         </span><span class="nl">players</span><span class="p">:</span><span class="w"> </span><span class="err">{}</span>
<span class="w"> </span><span class="err">}</span><span class="p">,</span>
<span class="w"> </span><span class="n">created</span><span class="p">()</span><span class="err">{</span>
<span class="w">        </span><span class="n">let</span><span class="w"> </span><span class="n">self</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">this</span><span class="p">;</span>
<span class="w">        </span><span class="n">this</span><span class="p">.</span><span class="err">$</span><span class="n">http</span><span class="p">.</span><span class="k">get</span><span class="p">(</span><span class="s1">'../serv/config/player.php'</span><span class="p">).</span><span class="k">then</span><span class="p">((</span><span class="n">response</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="n">let</span><span class="w"> </span><span class="n">pls</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">response</span><span class="p">.</span><span class="n">body</span><span class="p">;</span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">let</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">pls</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">                </span><span class="n">self</span><span class="p">.</span><span class="err">$</span><span class="k">set</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">players</span><span class="p">,</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="n">pls</span><span class="o">[</span><span class="n">p</span><span class="o">]</span><span class="p">);</span>
<span class="w">            </span><span class="err">}</span>
<span class="w">    </span><span class="err">}</span><span class="p">);</span>
<span class="err">}</span>
</pre></div>

<p>item objects are like this:</p>
<div class="code"><pre class="code literal-block">item:{
   prop: value,
   someOtherProp: {
       nestedProp: nestedValue,
       myArray: [{type: "a", num: 1},{type: "b" num: 6} ...]
    },
}
</pre></div>

<p>Now, inside my child "player" component I'm trying to watch for any Item's
property variation and I use:</p>
<div class="code"><pre class="code literal-block">...
watch:{
    'item.someOtherProp'(newVal){
        //to work with changes in "myArray"
    },
    'item.prop'(newVal){
        //to work with changes in prop
    }
}
</pre></div>

<p>It works but it seems a bit tricky to me and I was wondering if this is the
right way to do it. My goal is to perform some action every time <code>prop</code>
changes or <code>myArray</code> gets new elements or some variation inside existing ones.
Any suggestion will be appreciated.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can use a deep watcher for that:</p>
<div class="code"><pre class="code literal-block"><span class="nv">watch</span>:<span class="w"> </span>{
<span class="w">  </span><span class="nv">item</span>:<span class="w"> </span>{
<span class="w">     </span><span class="nv">handler</span><span class="ss">(</span><span class="nv">val</span><span class="ss">)</span>{
<span class="w">       </span><span class="o">//</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="nv">stuff</span>
<span class="w">     </span>},
<span class="w">     </span><span class="nv">deep</span>:<span class="w"> </span><span class="nv">true</span>
<span class="w">  </span>}
}
</pre></div>

<p>This will now detect any changes to the objects in the <code>item</code> array and
additions to the array itself (when used with Vue.set). Here's a JSFiddle:
http://jsfiddle.net/je2rw3rs/</p>
<p><strong>EDIT</strong></p>
<p>If you don't want to watch for every change on the top level object, and just
want a less awkward syntax for watching nested objects directly, you can
simply watch a <code>computed</code> instead:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">vm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Vue</span><span class="p">({</span>
<span class="w">  </span><span class="n">el</span><span class="p">:</span><span class="w"> </span><span class="s1">'#app'</span><span class="p">,</span>
<span class="w">  </span><span class="n">computed</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">foo</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">this</span><span class="o">.</span><span class="n">item</span><span class="o">.</span><span class="n">foo</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="n">watch</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">foo</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s1">'Foo Changed!'</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="n">data</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">item</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">foo</span><span class="p">:</span><span class="w"> </span><span class="s1">'foo'</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">})</span>
</pre></div>

<p>Here's the JSFiddle: http://jsfiddle.net/oa07r5fw/</p>
<p><br></p>
<h3>Suggest</h3>
<p>Another good approach and one that is a bit more elegant is as follows:</p>
<div class="code"><pre class="code literal-block"> watch:{
     'item.someOtherProp': function (newVal, oldVal){
         //to work with changes in someOtherProp
     },
     'item.prop': function(newVal, oldVal){
         //to work with changes in prop
     }
 }
</pre></div>

<p>(I learned this approach from @peerbolte in the comment here)</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-convert-seconds-to-hours-minutes-and-seconds/" class="u-url">How do I convert seconds to hours, minutes and seconds?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-convert-seconds-to-hours-minutes-and-seconds/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T18:25:16+08:00" itemprop="datePublished" title="2023-02-17 18:25">2023-02-17 18:25</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a function that returns information in seconds, but I need to store
that information in hours:minutes:seconds.</p>
<p>Is there an easy way to convert the seconds to this format in Python?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can use <code>datetime.timedelta</code> function:</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">datetime</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">str</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">666</span><span class="p">))</span>
<span class="s1">'0:11:06'</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>By using the <code>divmod()</code> function, which does only a single division to produce
both the quotient and the remainder, you can have the result very quickly with
only two mathematical operations:</p>
<div class="code"><pre class="code literal-block">m, s = divmod(seconds, 60)
h, m = divmod(m, 60)
</pre></div>

<p>And then use string formatting to convert the result into your desired output:</p>
<div class="code"><pre class="code literal-block">print('{:d}:{:02d}:{:02d}'.format(h, m, s)) # Python 3
print(f'{h:d}:{m:02d}:{s:02d}') # Python 3.6+
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-879.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-877.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

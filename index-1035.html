<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1035) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1035.html">
<link rel="prev" href="index-1036.html" type="text/html">
<link rel="next" href="index-1034.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-check-if-a-dictionary-is-empty/" class="u-url">How to check if a dictionary is empty?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-check-if-a-dictionary-is-empty/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T23:15:49+08:00" itemprop="datePublished" title="2023-02-17 23:15">2023-02-17 23:15</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am trying to check if a dictionary is empty but it doesn't behave properly.
It just skips it and displays <strong>ONLINE</strong> without anything aside from the
display the message. Any ideas why ?</p>
<div class="code"><pre class="code literal-block"><span class="n">def</span><span class="w"> </span><span class="n">isEmpty</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="n">dictionary</span><span class="p">)</span><span class="o">:</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nl">dictionary:</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nl">element:</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">True</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">False</span>

<span class="n">def</span><span class="w"> </span><span class="n">onMessage</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="n">socket</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">)</span><span class="o">:</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">isEmpty</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">users</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nl">False:</span>
<span class="w">        </span><span class="n">socket</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="s">"Nobody is online, please use REGISTER command"</span><span class="w"> </span><span class="se">\</span>
<span class="w">                 </span><span class="s">" in order to register into the server"</span><span class="p">)</span>
<span class="w">    </span><span class="k">else</span><span class="o">:</span>
<span class="w">        </span><span class="n">socket</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="s">"ONLINE "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="sc">' '</span><span class="w"> </span><span class="p">.</span><span class="k">join</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">users</span><span class="p">.</span><span class="n">keys</span><span class="p">()))</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>Empty dictionaries evaluate to <code>False</code> in Python:</p>
<div class="code"><pre class="code literal-block">&gt;&gt;&gt; dct = {}
&gt;&gt;&gt; bool(dct)
False
&gt;&gt;&gt; not dct
True
&gt;&gt;&gt;
</pre></div>

<p>Thus, your <code>isEmpty</code> function is unnecessary. All you need to do is:</p>
<div class="code"><pre class="code literal-block"><span class="n">def</span><span class="w"> </span><span class="n">onMessage</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="n">socket</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">)</span><span class="o">:</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="nl">users:</span>
<span class="w">        </span><span class="n">socket</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="s">"Nobody is online, please use REGISTER command"</span><span class="w"> </span><span class="se">\</span>
<span class="w">                    </span><span class="s">" in order to register into the server"</span><span class="p">)</span>
<span class="w">    </span><span class="k">else</span><span class="o">:</span>
<span class="w">        </span><span class="n">socket</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="s">"ONLINE "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="sc">' '</span><span class="w"> </span><span class="p">.</span><span class="k">join</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">users</span><span class="p">.</span><span class="n">keys</span><span class="p">()))</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Here are three ways you can check if dict is empty. I prefer using the first
way only though. The other two ways are way too wordy.</p>
<div class="code"><pre class="code literal-block"><span class="nv">test_dict</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>{}

<span class="k">if</span><span class="w"> </span><span class="nv">not</span><span class="w"> </span><span class="nv">test_dict</span>:
<span class="w">    </span><span class="nv">print</span><span class="w"> </span><span class="s2">"Dict is Empty"</span>


<span class="k">if</span><span class="w"> </span><span class="nv">not</span><span class="w"> </span><span class="nv">bool</span><span class="ss">(</span><span class="nv">test_dict</span><span class="ss">)</span>:
<span class="w">    </span><span class="nv">print</span><span class="w"> </span><span class="s2">"Dict is Empty"</span>


<span class="k">if</span><span class="w"> </span><span class="nv">len</span><span class="ss">(</span><span class="nv">test_dict</span><span class="ss">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span>:
<span class="w">    </span><span class="nv">print</span><span class="w"> </span><span class="s2">"Dict is Empty"</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/set-the-value-of-an-input-field/" class="u-url">Set the value of an input field</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/set-the-value-of-an-input-field/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T23:15:10+08:00" itemprop="datePublished" title="2023-02-17 23:15">2023-02-17 23:15</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How would you set the default value of a form <code>&lt;input&gt;</code> text field in
JavaScript?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>This is one way of doing it:</p>
<div class="code"><pre class="code literal-block">document.getElementById("nameofid").value = "My value";
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>I use <code>setAttribute()</code>:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;input</span><span class="w"> </span><span class="na">type=</span><span class="s">"text"</span><span class="w"> </span><span class="na">id=</span><span class="s">"example"</span><span class="nt">&gt;</span><span class="w"> </span>//<span class="w"> </span>Setup<span class="w"> </span>text<span class="w"> </span>field<span class="w"> </span>
<span class="nt">&lt;script</span><span class="w"> </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span><span class="w"> </span>
<span class="w">  </span>document.getElementById("example").setAttribute('value','My<span class="w"> </span>default<span class="w"> </span>value');
<span class="nt">&lt;/script&gt;</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/looping-through-array-and-removing-items-without-breaking-for-loop/" class="u-url">Looping through array and removing items, without breaking for loop</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/looping-through-array-and-removing-items-without-breaking-for-loop/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T23:14:32+08:00" itemprop="datePublished" title="2023-02-17 23:14">2023-02-17 23:14</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have the following for loop, and when I use <code>splice()</code> to remove an item, I
then get that 'seconds' is undefined. I could check if it's undefined, but I
feel there's probably a more elegant way to do this. The desire is to simply
delete an item and keep on going.</p>
<div class="code"><pre class="code literal-block"><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nf">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Auction</span><span class="p">.</span><span class="n">auctions</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nf">len</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">auction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Auction</span><span class="p">.</span><span class="n">auctions</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">;</span>
<span class="w">    </span><span class="n">Auction</span><span class="p">.</span><span class="n">auctions</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">'seconds'</span><span class="o">]</span><span class="w"> </span><span class="o">--</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">auction</span><span class="p">.</span><span class="n">seconds</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="err">{</span><span class="w"> </span>
<span class="w">        </span><span class="n">Auction</span><span class="p">.</span><span class="n">auctions</span><span class="p">.</span><span class="n">splice</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w">    </span><span class="err">}</span><span class="w">           </span>
<span class="err">}</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>The array is being re-indexed when you do a <code>.splice()</code>, which means you'll
skip over an index when one is removed, and your cached <code>.length</code> is obsolete.</p>
<p>To fix it, you'd either need to decrement <code>i</code> after a <code>.splice()</code>, or simply
iterate in reverse...</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Auction</span><span class="o">.</span><span class="n">auctions</span><span class="o">.</span><span class="n">length</span>
<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="o">--</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">...</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">...</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<span class="w">        </span><span class="n">Auction</span><span class="o">.</span><span class="n">auctions</span><span class="o">.</span><span class="n">splice</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span>
<span class="p">}</span>
</pre></div>

<p>This way the re-indexing doesn't affect the next item in the iteration, since
the indexing affects only the items from the current point to the end of the
Array, and the next item in the iteration is lower than the current point.</p>
<p><br></p>
<h3>Suggest</h3>
<p>This is a pretty common issue. The solution is to loop backwards:</p>
<div class="code"><pre class="code literal-block"><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="nf">var</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Auction</span><span class="p">.</span><span class="n">auctions</span><span class="p">.</span><span class="n">length</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">--</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">Auction</span><span class="p">.</span><span class="n">auctions</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">.</span><span class="n">seconds</span><span class="o">--</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">Auction</span><span class="p">.</span><span class="n">auctions</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">.</span><span class="n">seconds</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="err">{</span><span class="w"> </span>
<span class="w">        </span><span class="n">Auction</span><span class="p">.</span><span class="n">auctions</span><span class="p">.</span><span class="n">splice</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>
</pre></div>

<p>It doesn't matter if you're popping them off of the end because the indices
will be preserved as you go backwards.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1036.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1034.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

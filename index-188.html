<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 188) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-188.html">
<link rel="prev" href="index-189.html" type="text/html">
<link rel="next" href="index-187.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/hide-scroll-bar-but-while-still-being-able-to-scroll/" class="u-url">Hide scroll bar, but while still being able to scroll</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/hide-scroll-bar-but-while-still-being-able-to-scroll/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T00:18:09+08:00" itemprop="datePublished" title="2023-02-17 00:18">2023-02-17 00:18</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I want to be able to scroll through the whole page, but without the scrollbar
being shown.</p>
<p>In Google Chrome it's:</p>
<div class="code"><pre class="code literal-block"><span class="w">    </span><span class="nt">display</span><span class="o">:</span><span class="w"> </span><span class="nt">none</span><span class="o">;</span>
<span class="err">}</span>
</pre></div>

<p>But Mozilla Firefox and Internet Explorer don't seem to work like that.</p>
<p>I also tried this in CSS:</p>
<div class="code"><pre class="code literal-block"><span class="n">overflow</span><span class="o">:</span><span class="w"> </span><span class="n">hidden</span><span class="o">;</span>
</pre></div>

<p>That does hide the scrollbar, but I can't scroll any more.</p>
<p>Is there a way I can remove the scrollbar while still being able to scroll the
whole page?</p>
<p>With just CSS or HTML, please.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Just a test which is working fine.</p>
<div class="code"><pre class="code literal-block"><span class="p">#</span><span class="nn">parent</span><span class="p">{</span>
<span class="w">    </span><span class="k">width</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
<span class="w">    </span><span class="k">height</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
<span class="w">    </span><span class="k">overflow</span><span class="p">:</span><span class="w"> </span><span class="kc">hidden</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">#</span><span class="nn">child</span><span class="p">{</span>
<span class="w">    </span><span class="k">width</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
<span class="w">    </span><span class="k">height</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
<span class="w">    </span><span class="k">overflow-y</span><span class="p">:</span><span class="w"> </span><span class="kc">scroll</span><span class="p">;</span>
<span class="w">    </span><span class="k">padding-right</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="kt">px</span><span class="p">;</span><span class="w"> </span><span class="c">/* Increase/decrease this value for cross-browser compatibility */</span>
<span class="w">    </span><span class="k">box-sizing</span><span class="p">:</span><span class="w"> </span><span class="kc">content-box</span><span class="p">;</span><span class="w"> </span><span class="c">/* So the width will be 100% + 17px */</span>
<span class="p">}</span>
</pre></div>

<p><strong>Working Fiddle</strong></p>
<h4>JavaScript:</h4>
<p>Since the scrollbar width differs in different browsers, it is better to
handle it with JavaScript. If you do <code>Element.offsetWidth -
Element.clientWidth</code>, the exact scrollbar width will show up.</p>
<p><strong>JavaScript Working Fiddle</strong></p>
<h3>Or</h3>
<p>Using <code>Position: absolute</code>,</p>
<div class="code"><pre class="code literal-block"><span class="p">#</span><span class="nn">parent</span><span class="p">{</span>
<span class="w">    </span><span class="k">width</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
<span class="w">    </span><span class="k">height</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
<span class="w">    </span><span class="k">overflow</span><span class="p">:</span><span class="w"> </span><span class="kc">hidden</span><span class="p">;</span>
<span class="w">    </span><span class="k">position</span><span class="p">:</span><span class="w"> </span><span class="kc">relative</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">#</span><span class="nn">child</span><span class="p">{</span>
<span class="w">    </span><span class="k">position</span><span class="p">:</span><span class="w"> </span><span class="kc">absolute</span><span class="p">;</span>
<span class="w">    </span><span class="k">top</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">bottom</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">left</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">right</span><span class="p">:</span><span class="w"> </span><span class="mi">-17</span><span class="kt">px</span><span class="p">;</span><span class="w"> </span><span class="c">/* Increase/Decrease this value for cross-browser compatibility */</span>
<span class="w">    </span><span class="k">overflow-y</span><span class="p">:</span><span class="w"> </span><span class="kc">scroll</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p><strong>Working Fiddle</strong></p>
<p><strong>JavaScript Working Fiddle</strong></p>
<h4>Information:</h4>
<p>Based on this answer, I created a simple scroll plugin.</p>
<p><br></p>
<h3>Suggest</h3>
<p>This works for me with simple CSS properties:</p>
<div class="code"><pre class="code literal-block"><span class="p">.</span><span class="s s-Atom">container</span> <span class="p">{</span>
    <span class="o">-</span><span class="s s-Atom">ms</span><span class="o">-</span><span class="s s-Atom">overflow</span><span class="o">-</span><span class="s s-Atom">style</span><span class="p">:</span> <span class="s s-Atom">none</span><span class="p">;</span>  <span class="cm">/* Internet Explorer 10+ */</span>
    <span class="s s-Atom">scrollbar</span><span class="o">-</span><span class="s s-Atom">width</span><span class="p">:</span> <span class="s s-Atom">none</span><span class="p">;</span>  <span class="cm">/* Firefox */</span>
<span class="p">}</span>
<span class="p">.</span><span class="s s-Atom">container</span><span class="p">:</span><span class="o">:-</span><span class="s s-Atom">webkit</span><span class="o">-</span><span class="s s-Atom">scrollbar</span> <span class="p">{</span> 
    <span class="s s-Atom">display</span><span class="p">:</span> <span class="s s-Atom">none</span><span class="p">;</span>  <span class="cm">/* Safari and Chrome */</span>
<span class="p">}</span>
</pre></div>

<p>For older versions of Firefox, use: <code>overflow: -moz-scrollbars-none;</code></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-s-the-canonical-way-to-check-for-type-in-python/" class="u-url">What's the canonical way to check for type in Python?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-s-the-canonical-way-to-check-for-type-in-python/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T00:17:38+08:00" itemprop="datePublished" title="2023-02-17 00:17">2023-02-17 00:17</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How do I check if an object is of a given type, or if it inherits from a given
type?</p>
<p>How do I check if the object <code>o</code> is of type <code>str</code>?</p>
<hr>
<p>Beginners often wrongly expect the string to <em>already be</em> "a number" - either
expecting Python 3.x <code>input</code> to convert type, or expecting that a string like
<code>'1'</code> is <em>also simultaneously</em> an integer. This is the wrong canonical for
those questions. Please carefully read the question and then use How do I
check if a string represents a number (float or int)?, How can I read inputs
as numbers? and/or Asking the user for input until they give a valid response
as appropriate.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Use <code>isinstance</code> to check if <code>o</code> is an instance of <code>str</code> or any subclass of
<code>str</code>:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="nv">isinstance</span><span class="ss">(</span><span class="nv">o</span>,<span class="w"> </span><span class="nv">str</span><span class="ss">)</span>:
</pre></div>

<p>To check if the type of <code>o</code> is exactly <code>str</code>, <em>excluding subclasses of<code>str</code></em>:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="nv">type</span><span class="ss">(</span><span class="nv">o</span><span class="ss">)</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">str</span>:
</pre></div>

<p>See Built-in Functions in the Python Library Reference for relevant
information.</p>
<hr>
<h5>Checking for strings in Python 2</h5>
<p>For Python 2, this is a better way to check if <code>o</code> is a string:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="nv">isinstance</span><span class="ss">(</span><span class="nv">o</span>,<span class="w"> </span><span class="nv">basestring</span><span class="ss">)</span>:
</pre></div>

<p>because this will also catch Unicode strings. <code>unicode</code> is not a subclass of
<code>str</code>; both <code>str</code> and <code>unicode</code> are subclasses of <code>basestring</code>. In Python 3,
<code>basestring</code> no longer exists since there's a strict separation of strings
(<code>str</code>) and binary data (<code>bytes</code>).</p>
<p>Alternatively, <code>isinstance</code> accepts a tuple of classes. This will return
<code>True</code> if <code>o</code> is an instance of any subclass of any of <code>(str, unicode)</code>:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="nv">isinstance</span><span class="ss">(</span><span class="nv">o</span>,<span class="w"> </span><span class="ss">(</span><span class="nv">str</span>,<span class="w"> </span><span class="nv">unicode</span><span class="ss">))</span>:
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>The <strong>most</strong> Pythonic way to check the type of an object is... not to check
it.</p>
<p>Since Python encourages Duck Typing, you should just <code>try...except</code> to use the
object's methods the way you want to use them. So if your function is looking
for a writable file object, <em>don't</em> check that it's a subclass of <code>file</code>, just
try to use its <code>.write()</code> method!</p>
<p>Of course, sometimes these nice abstractions break down and <code>isinstance(obj,
cls)</code> is what you need. But use sparingly.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-does-facebook-disable-the-browser-s-integrated-developer-tools/" class="u-url">How does Facebook disable the browser's integrated Developer Tools?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-does-facebook-disable-the-browser-s-integrated-developer-tools/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T00:17:08+08:00" itemprop="datePublished" title="2023-02-17 00:17">2023-02-17 00:17</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>So apparently because of the recent scams, the developer tools is exploited by
people to post spam and even used to "hack" accounts. Facebook has blocked the
developer tools, and I can't even use the console.</p>
<p><img alt="Enter image description here" src="images/Wiatp.png"></p>
<p>How did they do that?? One Stack Overflow post claimed that it is not
possible, but Facebook has proven them wrong.</p>
<p>Just go to Facebook and open up the developer tools, type one character into
the console, and this warning pops up. No matter what you put in, it will not
get executed.</p>
<p>How is this possible?</p>
<p>They even blocked auto-complete in the console:</p>
<p><img alt="Enter image description here" src="images/j0Zmx.png"></p>
<p><br><br></p>
<h2>Answer</h2>
<p>I'm a security engineer at Facebook and this is my fault. We're testing this
for some users to see if it can slow down some attacks where users are tricked
into pasting (malicious) JavaScript code into the browser console.</p>
<p>Just to be clear: trying to block hackers client-side is a bad idea in
general; this is to protect against a specific social engineering attack.</p>
<p>If you ended up in the test group and are annoyed by this, sorry. I tried to
make the old opt-out page (now help page) as simple as possible while still
being scary enough to stop at least <em>some</em> of the victims.</p>
<p>The actual code is pretty similar to @joeldixon66's link; ours is a little
more complicated for no good reason.</p>
<p>Chrome wraps all console code in</p>
<div class="code"><pre class="code literal-block">with ((console &amp;&amp; console._commandLineAPI) || {}) {
  &lt;code goes here&gt;
}
</pre></div>

<p>... so the site redefines <code>console._commandLineAPI</code> to throw:</p>
<div class="code"><pre class="code literal-block">Object.defineProperty(console, '_commandLineAPI',
   { get : function() { throw 'Nooo!' } })
</pre></div>

<p>This is not quite enough (try it!), but that's the main trick.</p>
<hr>
<p>Epilogue: The Chrome team decided that defeating the console from user-side JS
was a bug and fixed the issue, rendering this technique invalid. Afterwards,
additional protection was added to protect users from self-xss.</p>
<p><br></p>
<h3>Suggest</h3>
<p>I located the Facebook's console buster script using Chrome developer tools.
Here is the script with minor changes for readability. I have removed the bits
that I could not understand:</p>
<div class="code"><pre class="code literal-block"><span class="nb nb-Type">Object</span><span class="o">.</span><span class="n">defineProperty</span><span class="p">(</span><span class="n">window</span><span class="p">,</span><span class="w"> </span><span class="s2">"console"</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">value</span><span class="p">:</span><span class="w"> </span><span class="n">console</span><span class="p">,</span>
<span class="w">    </span><span class="n">writable</span><span class="p">:</span><span class="w"> </span><span class="bp">false</span><span class="p">,</span>
<span class="w">    </span><span class="n">configurable</span><span class="p">:</span><span class="w"> </span><span class="bp">false</span>
<span class="p">});</span>

<span class="k">var</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="n">function</span><span class="w"> </span><span class="n">showWarningAndThrow</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">setTimeout</span><span class="p">(</span><span class="n">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s2">"</span><span class="si">%c</span><span class="s2">Warning message"</span><span class="p">,</span><span class="w"> </span><span class="s2">"font: 2em sans-serif; color: yellow; background-color: red;"</span><span class="p">);</span>
<span class="w">        </span><span class="p">},</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w">        </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">throw</span><span class="w"> </span><span class="s2">"Console is disabled"</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">var</span><span class="w"> </span><span class="n">l</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">set</span><span class="p">:</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="p">(</span><span class="n">o</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">l</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">o</span><span class="p">;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="n">get</span><span class="p">:</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">showWarningAndThrow</span><span class="p">();</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">l</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">};</span>
<span class="nb nb-Type">Object</span><span class="o">.</span><span class="n">defineProperty</span><span class="p">(</span><span class="n">console</span><span class="p">,</span><span class="w"> </span><span class="s2">"_commandLineAPI"</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
<span class="nb nb-Type">Object</span><span class="o">.</span><span class="n">defineProperty</span><span class="p">(</span><span class="n">console</span><span class="p">,</span><span class="w"> </span><span class="s2">"__commandLineAPI"</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">);</span>
</pre></div>

<p>With this, the console auto-complete fails silently while statements typed in
console will fail to execute (the exception will be logged).</p>
<p>References:</p>
<ul>
<li>Object.defineProperty</li>
<li>Object.getOwnPropertyDescriptor</li>
<li>Chrome's console.log function (for tips on formatting output)</li>
</ul>
</div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-189.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-187.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

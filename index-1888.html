<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1888) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1888.html">
<link rel="prev" href="index-1889.html" type="text/html">
<link rel="next" href="index-1887.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/locate-current-file-in-intellij/" class="u-url">Locate current file in IntelliJ</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/locate-current-file-in-intellij/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T11:47:17+08:00" itemprop="datePublished" title="2023-03-03 11:47">2023-03-03 11:47</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How do I locate the current file in the project structure? (Similar to Visual
Studio's <code>Ctrl</code> + <code>Alt</code> + <code>L</code>). What is the name of the operation (so I can
define it in the keymap)</p>
<p><br><br></p>
<h2>Answer</h2>
<p><code>Alt</code> + <code>F1</code> (or <code>Alt</code> + <code>Shift</code> + <code>1</code> for linux) almost does what you
want. You need to hit <code>Enter</code> afterwards as IDEA allows multiple "targets" for
navigation (project structure, file structure etc).</p>
<p>(Note you can also set AutoScroll to Source and AutoScroll from source using
the two "boxes with arrows" buttons above the project structure view but this
can get annoying when it shoves you into the JDK source because you followed a
reference to <code>java.io.File</code>.</p>
<p>The keymap defines it as <em>Select current file or symbol in any view</em>.</p>
<p><br></p>
<h3>Suggest</h3>
<p>You can also click the little cross hairs button in the projects pane:</p>
<p><img alt="enter image description here" src="images/0g4Cu.png"></p>
<p>Note that the symbol won't be shown if Always Select Opened File (previously
Autoscroll from Source) option is enabled.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-the-purpose-of-a-plus-symbol-before-a-variable/" class="u-url">What is the purpose of a plus symbol before a variable?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-the-purpose-of-a-plus-symbol-before-a-variable/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T11:46:48+08:00" itemprop="datePublished" title="2023-03-03 11:46">2023-03-03 11:46</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What does the <code>+d</code> in</p>
<div class="code"><pre class="code literal-block"><span class="nv">function</span><span class="w"> </span><span class="nv">addMonths</span><span class="ss">(</span><span class="nv">d</span>,<span class="w"> </span><span class="nv">n</span>,<span class="w"> </span><span class="nv">keepTime</span><span class="ss">)</span><span class="w"> </span>{<span class="w"> </span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="o">+</span><span class="nv">d</span><span class="ss">)</span><span class="w"> </span>{
</pre></div>

<p>mean?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The <code>+</code> operator returns the numeric representation of the object. So in your
particular case, it would appear to be predicating the if on whether or not
<code>d</code> is a non-zero number.</p>
<p>Reference here. And, as pointed out in comments, here.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Operator <code>+</code> is a unary operator which converts the value to a number. Below
is a table with corresponding results of using this operator for different
values.</p>
<div class="code"><pre class="code literal-block"><span class="o">+----------------------------+-----------+</span>
<span class="o">|</span><span class="w"> </span><span class="nv">Value</span><span class="w">                      </span><span class="o">|</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="ss">(</span><span class="nv">Value</span><span class="ss">)</span><span class="w"> </span><span class="o">|</span>
<span class="o">+----------------------------+-----------+</span>
<span class="o">|</span><span class="w"> </span><span class="mi">1</span><span class="w">                          </span><span class="o">|</span><span class="w"> </span><span class="mi">1</span><span class="w">         </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="s1">'-1'</span><span class="w">                       </span><span class="o">|</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w">        </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="s1">'3.14'</span><span class="w">                     </span><span class="o">|</span><span class="w"> </span><span class="mi">3</span>.<span class="mi">14</span><span class="w">      </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="s1">'3'</span><span class="w">                        </span><span class="o">|</span><span class="w"> </span><span class="mi">3</span><span class="w">         </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="s1">'0xAA'</span><span class="w">                     </span><span class="o">|</span><span class="w"> </span><span class="mi">170</span><span class="w">       </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="nv">true</span><span class="w">                       </span><span class="o">|</span><span class="w"> </span><span class="mi">1</span><span class="w">         </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="nv">false</span><span class="w">                      </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="w">         </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="nv">null</span><span class="w">                       </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="w">         </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="s1">'Infinity'</span><span class="w">                 </span><span class="o">|</span><span class="w"> </span><span class="nv">Infinity</span><span class="w">  </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="s1">'infinity'</span><span class="w">                 </span><span class="o">|</span><span class="w"> </span><span class="nv">NaN</span><span class="w">       </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="s1">'10a'</span><span class="w">                      </span><span class="o">|</span><span class="w"> </span><span class="nv">NaN</span><span class="w">       </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="nv">undefined</span><span class="w">                  </span><span class="o">|</span><span class="w"> </span><span class="nv">NaN</span><span class="w">       </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span>[<span class="s1">'Apple'</span>]<span class="w">                  </span><span class="o">|</span><span class="w"> </span><span class="nv">NaN</span><span class="w">       </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="nv">function</span><span class="ss">(</span><span class="nv">val</span><span class="ss">)</span>{<span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="nv">val</span><span class="w"> </span>}<span class="o">|</span><span class="w"> </span><span class="nv">NaN</span><span class="w">       </span><span class="o">|</span>
<span class="o">+----------------------------+-----------+</span>
</pre></div>

<p>Operator <code>+</code> returns a value for objects which have implemented method
<code>valueOf</code>.</p>
<div class="code"><pre class="code literal-block"><span class="nt">let</span><span class="w"> </span><span class="nt">something</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">valueOf</span><span class="p">:</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">return</span><span class="w"> </span><span class="mi">25</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="err">}</span><span class="o">;</span>

<span class="nt">console</span><span class="p">.</span><span class="nc">log</span><span class="o">(+</span><span class="nt">something</span><span class="o">);</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/jquery-set-cursor-position-in-text-area/" class="u-url">jQuery Set Cursor Position in Text Area</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/jquery-set-cursor-position-in-text-area/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T11:46:22+08:00" itemprop="datePublished" title="2023-03-03 11:46">2023-03-03 11:46</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How do you set the cursor position in a text field using jQuery? I've got a
text field with content, and I want the users cursor to be positioned at a
certain offset when they focus on the field. The code should look kind of like
this:</p>
<div class="code"><pre class="code literal-block">$('#input').focus(function() {
  $(this).setCursorPosition(4);
});
</pre></div>

<p>What would the implementation of that setCursorPosition function look like? If
you had a text field with the content abcdefg, this call would result in the
cursor being positioned as follows: abcd<strong>|</strong>efg.</p>
<p>Java has a similar function, setCaretPosition. Does a similar method exist for
javascript?</p>
<p><strong>Update: I modified CMS's code to work with jQuery as follows:</strong></p>
<div class="code"><pre class="code literal-block"><span class="n">new</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="o">$</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="o">$.</span><span class="n">fn</span><span class="o">.</span><span class="n">setCursorPosition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="n">pos</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">this</span><span class="o">.</span><span class="n">setSelectionRange</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">this</span><span class="o">.</span><span class="n">setSelectionRange</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span><span class="w"> </span><span class="n">pos</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">this</span><span class="o">.</span><span class="n">createTextRange</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">var</span><span class="w"> </span><span class="nb">range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">this</span><span class="o">.</span><span class="n">createTextRange</span><span class="p">();</span>
<span class="w">      </span><span class="nb">range</span><span class="o">.</span><span class="n">collapse</span><span class="p">(</span><span class="bp">true</span><span class="p">);</span>
<span class="w">      </span><span class="k">if</span><span class="p">(</span><span class="n">pos</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="n">this</span><span class="p">)</span><span class="o">.</span><span class="n">val</span><span class="p">()</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">pos</span><span class="p">;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">      </span><span class="nb">range</span><span class="o">.</span><span class="n">moveEnd</span><span class="p">(</span><span class="s1">'character'</span><span class="p">,</span><span class="w"> </span><span class="n">pos</span><span class="p">);</span>
<span class="w">      </span><span class="nb">range</span><span class="o">.</span><span class="n">moveStart</span><span class="p">(</span><span class="s1">'character'</span><span class="p">,</span><span class="w"> </span><span class="n">pos</span><span class="p">);</span>
<span class="w">      </span><span class="nb">range</span><span class="o">.</span><span class="n">select</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}(</span><span class="n">jQuery</span><span class="p">);</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>I have two functions:</p>
<div class="code"><pre class="code literal-block"><span class="n">function</span><span class="w"> </span><span class="n">setSelectionRange</span><span class="p">(</span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="n">selectionStart</span><span class="p">,</span><span class="w"> </span><span class="n">selectionEnd</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">input</span><span class="o">.</span><span class="n">setSelectionRange</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">input</span><span class="o">.</span><span class="n">focus</span><span class="p">();</span>
<span class="w">    </span><span class="n">input</span><span class="o">.</span><span class="n">setSelectionRange</span><span class="p">(</span><span class="n">selectionStart</span><span class="p">,</span><span class="w"> </span><span class="n">selectionEnd</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">input</span><span class="o">.</span><span class="n">createTextRange</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="nb">range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">input</span><span class="o">.</span><span class="n">createTextRange</span><span class="p">();</span>
<span class="w">    </span><span class="nb">range</span><span class="o">.</span><span class="n">collapse</span><span class="p">(</span><span class="bp">true</span><span class="p">);</span>
<span class="w">    </span><span class="nb">range</span><span class="o">.</span><span class="n">moveEnd</span><span class="p">(</span><span class="s1">'character'</span><span class="p">,</span><span class="w"> </span><span class="n">selectionEnd</span><span class="p">);</span>
<span class="w">    </span><span class="nb">range</span><span class="o">.</span><span class="n">moveStart</span><span class="p">(</span><span class="s1">'character'</span><span class="p">,</span><span class="w"> </span><span class="n">selectionStart</span><span class="p">);</span>
<span class="w">    </span><span class="nb">range</span><span class="o">.</span><span class="n">select</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="n">function</span><span class="w"> </span><span class="n">setCaretToPos</span><span class="w"> </span><span class="p">(</span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="n">pos</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">setSelectionRange</span><span class="p">(</span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="n">pos</span><span class="p">,</span><span class="w"> </span><span class="n">pos</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

<p>Then you can use setCaretToPos like this:</p>
<div class="code"><pre class="code literal-block">setCaretToPos(document.getElementById("YOURINPUT"), 4);
</pre></div>

<p>Live example with both a <code>textarea</code> and an <code>input</code>, showing use from jQuery:</p>
<p>Show code snippet</p>
<div class="code"><pre class="code literal-block"><span class="n">function</span><span class="w"> </span><span class="n">setSelectionRange</span><span class="p">(</span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="n">selectionStart</span><span class="p">,</span><span class="w"> </span><span class="n">selectionEnd</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">input</span><span class="o">.</span><span class="n">setSelectionRange</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">input</span><span class="o">.</span><span class="n">focus</span><span class="p">();</span>
<span class="w">    </span><span class="n">input</span><span class="o">.</span><span class="n">setSelectionRange</span><span class="p">(</span><span class="n">selectionStart</span><span class="p">,</span><span class="w"> </span><span class="n">selectionEnd</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">input</span><span class="o">.</span><span class="n">createTextRange</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="nb">range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">input</span><span class="o">.</span><span class="n">createTextRange</span><span class="p">();</span>
<span class="w">    </span><span class="nb">range</span><span class="o">.</span><span class="n">collapse</span><span class="p">(</span><span class="bp">true</span><span class="p">);</span>
<span class="w">    </span><span class="nb">range</span><span class="o">.</span><span class="n">moveEnd</span><span class="p">(</span><span class="s1">'character'</span><span class="p">,</span><span class="w"> </span><span class="n">selectionEnd</span><span class="p">);</span>
<span class="w">    </span><span class="nb">range</span><span class="o">.</span><span class="n">moveStart</span><span class="p">(</span><span class="s1">'character'</span><span class="p">,</span><span class="w"> </span><span class="n">selectionStart</span><span class="p">);</span>
<span class="w">    </span><span class="nb">range</span><span class="o">.</span><span class="n">select</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="n">function</span><span class="w"> </span><span class="n">setCaretToPos</span><span class="p">(</span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="n">pos</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">setSelectionRange</span><span class="p">(</span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="n">pos</span><span class="p">,</span><span class="w"> </span><span class="n">pos</span><span class="p">);</span>
<span class="p">}</span>

<span class="o">$</span><span class="p">(</span><span class="s2">"#set-textarea"</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">(</span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">setCaretToPos</span><span class="p">(</span><span class="o">$</span><span class="p">(</span><span class="s2">"#the-textarea"</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
<span class="p">});</span>
<span class="o">$</span><span class="p">(</span><span class="s2">"#set-input"</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">(</span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">setCaretToPos</span><span class="p">(</span><span class="o">$</span><span class="p">(</span><span class="s2">"#the-input"</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
<span class="p">});</span>


<span class="o">&lt;</span><span class="n">textarea</span><span class="w"> </span><span class="n">id</span><span class="o">=</span><span class="s2">"the-textarea"</span><span class="w"> </span><span class="n">cols</span><span class="o">=</span><span class="s2">"40"</span><span class="w"> </span><span class="n">rows</span><span class="o">=</span><span class="s2">"4"</span><span class="o">&gt;</span><span class="n">Lorem</span><span class="w"> </span><span class="n">ipsum</span><span class="w"> </span><span class="n">dolor</span><span class="w"> </span><span class="n">sit</span><span class="w"> </span><span class="n">amet</span><span class="p">,</span><span class="w"> </span><span class="n">consectetur</span><span class="w"> </span><span class="n">adipiscing</span><span class="w"> </span><span class="n">elit</span><span class="p">,</span><span class="w"> </span><span class="n">sed</span><span class="w"> </span><span class="n">do</span><span class="w"> </span><span class="n">eiusmod</span><span class="w"> </span><span class="n">tempor</span><span class="w"> </span><span class="n">incididunt</span><span class="w"> </span><span class="n">ut</span><span class="w"> </span><span class="n">labore</span><span class="w"> </span><span class="n">et</span><span class="w"> </span><span class="n">dolore</span><span class="w"> </span><span class="n">magna</span><span class="w"> </span><span class="n">aliqua</span><span class="o">.</span><span class="w"> </span><span class="n">Ut</span><span class="w"> </span><span class="n">enim</span><span class="w"> </span><span class="n">ad</span><span class="w"> </span><span class="n">minim</span><span class="w"> </span><span class="n">veniam</span><span class="p">,</span><span class="w"> </span><span class="n">quis</span><span class="w"> </span><span class="n">nostrud</span><span class="w"> </span><span class="n">exercitation</span><span class="w"> </span><span class="n">ullamco</span><span class="w"> </span><span class="n">laboris</span><span class="w"> </span><span class="n">nisi</span><span class="w"> </span><span class="n">ut</span><span class="w"> </span><span class="n">aliquip</span><span class="w"> </span><span class="n">ex</span><span class="w"> </span><span class="n">ea</span><span class="w"> </span><span class="n">commodo</span><span class="w"> </span><span class="n">consequat</span><span class="o">.</span><span class="w"> </span><span class="n">Duis</span><span class="w"> </span><span class="n">aute</span><span class="w"> </span><span class="n">irure</span><span class="w"> </span><span class="n">dolor</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">reprehenderit</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">voluptate</span><span class="w"> </span><span class="n">velit</span><span class="w"> </span><span class="n">esse</span><span class="w"> </span><span class="n">cillum</span><span class="w"> </span><span class="n">dolore</span><span class="w"> </span><span class="n">eu</span><span class="w"> </span><span class="n">fugiat</span><span class="w"> </span><span class="n">nulla</span><span class="w"> </span><span class="n">pariatur</span><span class="o">.</span><span class="w"> </span><span class="n">Excepteur</span><span class="w"> </span><span class="n">sint</span><span class="w"> </span><span class="n">occaecat</span><span class="w"> </span><span class="n">cupidatat</span><span class="w"> </span><span class="n">non</span><span class="w"> </span><span class="n">proident</span><span class="p">,</span><span class="w"> </span><span class="n">sunt</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">culpa</span><span class="w"> </span><span class="n">qui</span><span class="w"> </span><span class="n">officia</span><span class="w"> </span><span class="n">deserunt</span><span class="w"> </span><span class="n">mollit</span><span class="w"> </span><span class="n">anim</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="n">est</span><span class="w"> </span><span class="n">laborum</span><span class="o">.&lt;/</span><span class="n">textarea</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">br</span><span class="o">&gt;&lt;</span><span class="n">input</span><span class="w"> </span><span class="n">type</span><span class="o">=</span><span class="s2">"button"</span><span class="w"> </span><span class="n">id</span><span class="o">=</span><span class="s2">"set-textarea"</span><span class="w"> </span><span class="n">value</span><span class="o">=</span><span class="s2">"Set in textarea"</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">br</span><span class="o">&gt;&lt;</span><span class="n">input</span><span class="w"> </span><span class="n">id</span><span class="o">=</span><span class="s2">"the-input"</span><span class="w"> </span><span class="n">type</span><span class="o">=</span><span class="s2">"text"</span><span class="w"> </span><span class="n">size</span><span class="o">=</span><span class="s2">"40"</span><span class="w"> </span><span class="n">value</span><span class="o">=</span><span class="s2">"Lorem ipsum dolor sit amet, consectetur adipiscing elit"</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">br</span><span class="o">&gt;&lt;</span><span class="n">input</span><span class="w"> </span><span class="n">type</span><span class="o">=</span><span class="s2">"button"</span><span class="w"> </span><span class="n">id</span><span class="o">=</span><span class="s2">"set-input"</span><span class="w"> </span><span class="n">value</span><span class="o">=</span><span class="s2">"Set in input"</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">script</span><span class="w"> </span><span class="n">src</span><span class="o">=</span><span class="s2">"https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>

<p>As of 2016, tested and working on Chrome, Firefox, IE11, even IE8 (see that
last here; Stack Snippets don't support IE8).</p>
<p><br></p>
<h3>Suggest</h3>
<p>I have two functions:</p>
<div class="code"><pre class="code literal-block"><span class="n">function</span><span class="w"> </span><span class="n">setSelectionRange</span><span class="p">(</span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="n">selectionStart</span><span class="p">,</span><span class="w"> </span><span class="n">selectionEnd</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">input</span><span class="o">.</span><span class="n">setSelectionRange</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">input</span><span class="o">.</span><span class="n">focus</span><span class="p">();</span>
<span class="w">    </span><span class="n">input</span><span class="o">.</span><span class="n">setSelectionRange</span><span class="p">(</span><span class="n">selectionStart</span><span class="p">,</span><span class="w"> </span><span class="n">selectionEnd</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">input</span><span class="o">.</span><span class="n">createTextRange</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="nb">range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">input</span><span class="o">.</span><span class="n">createTextRange</span><span class="p">();</span>
<span class="w">    </span><span class="nb">range</span><span class="o">.</span><span class="n">collapse</span><span class="p">(</span><span class="bp">true</span><span class="p">);</span>
<span class="w">    </span><span class="nb">range</span><span class="o">.</span><span class="n">moveEnd</span><span class="p">(</span><span class="s1">'character'</span><span class="p">,</span><span class="w"> </span><span class="n">selectionEnd</span><span class="p">);</span>
<span class="w">    </span><span class="nb">range</span><span class="o">.</span><span class="n">moveStart</span><span class="p">(</span><span class="s1">'character'</span><span class="p">,</span><span class="w"> </span><span class="n">selectionStart</span><span class="p">);</span>
<span class="w">    </span><span class="nb">range</span><span class="o">.</span><span class="n">select</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="n">function</span><span class="w"> </span><span class="n">setCaretToPos</span><span class="w"> </span><span class="p">(</span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="n">pos</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">setSelectionRange</span><span class="p">(</span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="n">pos</span><span class="p">,</span><span class="w"> </span><span class="n">pos</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

<p>Then you can use setCaretToPos like this:</p>
<div class="code"><pre class="code literal-block">setCaretToPos(document.getElementById("YOURINPUT"), 4);
</pre></div>

<p>Live example with both a <code>textarea</code> and an <code>input</code>, showing use from jQuery:</p>
<p>Show code snippet</p>
<div class="code"><pre class="code literal-block"><span class="n">function</span><span class="w"> </span><span class="n">setSelectionRange</span><span class="p">(</span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="n">selectionStart</span><span class="p">,</span><span class="w"> </span><span class="n">selectionEnd</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">input</span><span class="o">.</span><span class="n">setSelectionRange</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">input</span><span class="o">.</span><span class="n">focus</span><span class="p">();</span>
<span class="w">    </span><span class="n">input</span><span class="o">.</span><span class="n">setSelectionRange</span><span class="p">(</span><span class="n">selectionStart</span><span class="p">,</span><span class="w"> </span><span class="n">selectionEnd</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">input</span><span class="o">.</span><span class="n">createTextRange</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="nb">range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">input</span><span class="o">.</span><span class="n">createTextRange</span><span class="p">();</span>
<span class="w">    </span><span class="nb">range</span><span class="o">.</span><span class="n">collapse</span><span class="p">(</span><span class="bp">true</span><span class="p">);</span>
<span class="w">    </span><span class="nb">range</span><span class="o">.</span><span class="n">moveEnd</span><span class="p">(</span><span class="s1">'character'</span><span class="p">,</span><span class="w"> </span><span class="n">selectionEnd</span><span class="p">);</span>
<span class="w">    </span><span class="nb">range</span><span class="o">.</span><span class="n">moveStart</span><span class="p">(</span><span class="s1">'character'</span><span class="p">,</span><span class="w"> </span><span class="n">selectionStart</span><span class="p">);</span>
<span class="w">    </span><span class="nb">range</span><span class="o">.</span><span class="n">select</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="n">function</span><span class="w"> </span><span class="n">setCaretToPos</span><span class="p">(</span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="n">pos</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">setSelectionRange</span><span class="p">(</span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="n">pos</span><span class="p">,</span><span class="w"> </span><span class="n">pos</span><span class="p">);</span>
<span class="p">}</span>

<span class="o">$</span><span class="p">(</span><span class="s2">"#set-textarea"</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">(</span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">setCaretToPos</span><span class="p">(</span><span class="o">$</span><span class="p">(</span><span class="s2">"#the-textarea"</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
<span class="p">});</span>
<span class="o">$</span><span class="p">(</span><span class="s2">"#set-input"</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">(</span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">setCaretToPos</span><span class="p">(</span><span class="o">$</span><span class="p">(</span><span class="s2">"#the-input"</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
<span class="p">});</span>


<span class="o">&lt;</span><span class="n">textarea</span><span class="w"> </span><span class="n">id</span><span class="o">=</span><span class="s2">"the-textarea"</span><span class="w"> </span><span class="n">cols</span><span class="o">=</span><span class="s2">"40"</span><span class="w"> </span><span class="n">rows</span><span class="o">=</span><span class="s2">"4"</span><span class="o">&gt;</span><span class="n">Lorem</span><span class="w"> </span><span class="n">ipsum</span><span class="w"> </span><span class="n">dolor</span><span class="w"> </span><span class="n">sit</span><span class="w"> </span><span class="n">amet</span><span class="p">,</span><span class="w"> </span><span class="n">consectetur</span><span class="w"> </span><span class="n">adipiscing</span><span class="w"> </span><span class="n">elit</span><span class="p">,</span><span class="w"> </span><span class="n">sed</span><span class="w"> </span><span class="n">do</span><span class="w"> </span><span class="n">eiusmod</span><span class="w"> </span><span class="n">tempor</span><span class="w"> </span><span class="n">incididunt</span><span class="w"> </span><span class="n">ut</span><span class="w"> </span><span class="n">labore</span><span class="w"> </span><span class="n">et</span><span class="w"> </span><span class="n">dolore</span><span class="w"> </span><span class="n">magna</span><span class="w"> </span><span class="n">aliqua</span><span class="o">.</span><span class="w"> </span><span class="n">Ut</span><span class="w"> </span><span class="n">enim</span><span class="w"> </span><span class="n">ad</span><span class="w"> </span><span class="n">minim</span><span class="w"> </span><span class="n">veniam</span><span class="p">,</span><span class="w"> </span><span class="n">quis</span><span class="w"> </span><span class="n">nostrud</span><span class="w"> </span><span class="n">exercitation</span><span class="w"> </span><span class="n">ullamco</span><span class="w"> </span><span class="n">laboris</span><span class="w"> </span><span class="n">nisi</span><span class="w"> </span><span class="n">ut</span><span class="w"> </span><span class="n">aliquip</span><span class="w"> </span><span class="n">ex</span><span class="w"> </span><span class="n">ea</span><span class="w"> </span><span class="n">commodo</span><span class="w"> </span><span class="n">consequat</span><span class="o">.</span><span class="w"> </span><span class="n">Duis</span><span class="w"> </span><span class="n">aute</span><span class="w"> </span><span class="n">irure</span><span class="w"> </span><span class="n">dolor</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">reprehenderit</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">voluptate</span><span class="w"> </span><span class="n">velit</span><span class="w"> </span><span class="n">esse</span><span class="w"> </span><span class="n">cillum</span><span class="w"> </span><span class="n">dolore</span><span class="w"> </span><span class="n">eu</span><span class="w"> </span><span class="n">fugiat</span><span class="w"> </span><span class="n">nulla</span><span class="w"> </span><span class="n">pariatur</span><span class="o">.</span><span class="w"> </span><span class="n">Excepteur</span><span class="w"> </span><span class="n">sint</span><span class="w"> </span><span class="n">occaecat</span><span class="w"> </span><span class="n">cupidatat</span><span class="w"> </span><span class="n">non</span><span class="w"> </span><span class="n">proident</span><span class="p">,</span><span class="w"> </span><span class="n">sunt</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">culpa</span><span class="w"> </span><span class="n">qui</span><span class="w"> </span><span class="n">officia</span><span class="w"> </span><span class="n">deserunt</span><span class="w"> </span><span class="n">mollit</span><span class="w"> </span><span class="n">anim</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="n">est</span><span class="w"> </span><span class="n">laborum</span><span class="o">.&lt;/</span><span class="n">textarea</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">br</span><span class="o">&gt;&lt;</span><span class="n">input</span><span class="w"> </span><span class="n">type</span><span class="o">=</span><span class="s2">"button"</span><span class="w"> </span><span class="n">id</span><span class="o">=</span><span class="s2">"set-textarea"</span><span class="w"> </span><span class="n">value</span><span class="o">=</span><span class="s2">"Set in textarea"</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">br</span><span class="o">&gt;&lt;</span><span class="n">input</span><span class="w"> </span><span class="n">id</span><span class="o">=</span><span class="s2">"the-input"</span><span class="w"> </span><span class="n">type</span><span class="o">=</span><span class="s2">"text"</span><span class="w"> </span><span class="n">size</span><span class="o">=</span><span class="s2">"40"</span><span class="w"> </span><span class="n">value</span><span class="o">=</span><span class="s2">"Lorem ipsum dolor sit amet, consectetur adipiscing elit"</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">br</span><span class="o">&gt;&lt;</span><span class="n">input</span><span class="w"> </span><span class="n">type</span><span class="o">=</span><span class="s2">"button"</span><span class="w"> </span><span class="n">id</span><span class="o">=</span><span class="s2">"set-input"</span><span class="w"> </span><span class="n">value</span><span class="o">=</span><span class="s2">"Set in input"</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">script</span><span class="w"> </span><span class="n">src</span><span class="o">=</span><span class="s2">"https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>

<p>As of 2016, tested and working on Chrome, Firefox, IE11, even IE8 (see that
last here; Stack Snippets don't support IE8).</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1889.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1887.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

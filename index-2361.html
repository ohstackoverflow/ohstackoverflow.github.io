<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2361) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2361.html">
<link rel="prev" href="index-2362.html" type="text/html">
<link rel="next" href="index-2360.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/flatten-list-in-linq/" class="u-url">Flatten List in LINQ</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/flatten-list-in-linq/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T10:26:58+08:00" itemprop="datePublished" title="2023-03-04 10:26">2023-03-04 10:26</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a LINQ query which returns <code>IEnumerable&lt;List&lt;int&gt;&gt;</code> but i want to
return only <code>List&lt;int&gt;</code> so i want to merge all my record in my
<code>IEnumerable&lt;List&lt;int&gt;&gt;</code> to only one array.</p>
<p>Example :</p>
<div class="code"><pre class="code literal-block">IEnumerable&lt;List&lt;int&gt;&gt; iList = from number in
    (from no in Method() select no) select number;
</pre></div>

<p>I want to take all my result <code>IEnumerable&lt;List&lt;int&gt;&gt;</code> to only one <code>List&lt;int&gt;</code></p>
<p>Hence, from source arrays: <code>[1,2,3,4]</code> and <code>[5,6,7]</code></p>
<p>I want only one array <code>[1,2,3,4,5,6,7]</code></p>
<p>Thanks</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Try <code>SelectMany()</code></p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iList</span><span class="o">.</span><span class="n">SelectMany</span><span class="p">(</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="p">);</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>With query syntax:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="o">=</span>
<span class="n">from</span><span class="w"> </span><span class="n">inner</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">outer</span>
<span class="n">from</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">inner</span>
<span class="n">select</span><span class="w"> </span><span class="n">value</span><span class="p">;</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-easily-initialize-a-list-of-tuples/" class="u-url">How to easily initialize a list of Tuples?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-easily-initialize-a-list-of-tuples/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T10:25:34+08:00" itemprop="datePublished" title="2023-03-04 10:25">2023-03-04 10:25</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I love tuples. They allow you to quickly group relevant information together
without having to write a struct or class for it. This is very useful while
refactoring very localized code.</p>
<p>Initializing a list of them however seems a bit redundant.</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">tupleList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Tuple</span><span class="o">&lt;</span><span class="nb nb-Type">int</span><span class="p">,</span><span class="w"> </span><span class="n">string</span><span class="o">&gt;&gt;</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">Tuple</span><span class="o">.</span><span class="n">Create</span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s2">"cow"</span><span class="w"> </span><span class="p">),</span>
<span class="w">    </span><span class="n">Tuple</span><span class="o">.</span><span class="n">Create</span><span class="p">(</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="s2">"chickens"</span><span class="w"> </span><span class="p">),</span>
<span class="w">    </span><span class="n">Tuple</span><span class="o">.</span><span class="n">Create</span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s2">"airplane"</span><span class="w"> </span><span class="p">)</span>
<span class="p">};</span>
</pre></div>

<p>Isn't there a better way? I would love a solution along the lines of the
Dictionary initializer.</p>
<div class="code"><pre class="code literal-block">Dictionary&lt;int, string&gt; students = new Dictionary&lt;int, string&gt;()
{
    { 111, "bleh" },
    { 112, "bloeh" },
    { 113, "blah" }
};
</pre></div>

<p>Can't we use a similar syntax?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>c# 7.0 lets you do this:</p>
<div class="code"><pre class="code literal-block"><span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">tupleList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="p">(</span><span class="nb nb-Type">int</span><span class="p">,</span><span class="w"> </span><span class="n">string</span><span class="p">)</span><span class="o">&gt;</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">      </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s2">"cow"</span><span class="p">),</span>
<span class="w">      </span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="s2">"chickens"</span><span class="p">),</span>
<span class="w">      </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s2">"airplane"</span><span class="p">)</span>
<span class="w">  </span><span class="p">};</span>
</pre></div>

<p>If you don't need a <code>List</code>, but just an array, you can do:</p>
<div class="code"><pre class="code literal-block"><span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">tupleList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="p">(</span><span class="nb nb-Type">int</span><span class="p">,</span><span class="w"> </span><span class="n">string</span><span class="p">)[]</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">      </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s2">"cow"</span><span class="p">),</span>
<span class="w">      </span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="s2">"chickens"</span><span class="p">),</span>
<span class="w">      </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s2">"airplane"</span><span class="p">)</span>
<span class="w">  </span><span class="p">};</span>
</pre></div>

<p>And if you don't like "Item1" and "Item2", you can do:</p>
<div class="code"><pre class="code literal-block"><span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">tupleList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="p">(</span><span class="nb nb-Type">int</span><span class="w"> </span><span class="n">Index</span><span class="p">,</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="n">Name</span><span class="p">)</span><span class="o">&gt;</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">      </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s2">"cow"</span><span class="p">),</span>
<span class="w">      </span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="s2">"chickens"</span><span class="p">),</span>
<span class="w">      </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s2">"airplane"</span><span class="p">)</span>
<span class="w">  </span><span class="p">};</span>
</pre></div>

<p>or for an array:</p>
<div class="code"><pre class="code literal-block"><span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">tupleList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="p">(</span><span class="nb nb-Type">int</span><span class="w"> </span><span class="n">Index</span><span class="p">,</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="n">Name</span><span class="p">)[]</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">      </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s2">"cow"</span><span class="p">),</span>
<span class="w">      </span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="s2">"chickens"</span><span class="p">),</span>
<span class="w">      </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s2">"airplane"</span><span class="p">)</span>
<span class="w">  </span><span class="p">};</span>
</pre></div>

<p>which lets you do: <code>tupleList[0].Index</code> and <code>tupleList[0].Name</code></p>
<p><strong>Framework 4.6.2 and below</strong></p>
<p>You must install <code>System.ValueTuple</code> from the Nuget Package Manager.</p>
<p><strong>Framework 4.7 and above</strong></p>
<p>It is built into the framework. Do <em>not</em> install <code>System.ValueTuple</code>. In fact,
remove it <strong>and</strong> delete it from the bin directory.</p>
<p><em>note: In real life, I wouldn't be able to choose between cow, chickens or
airplane. I would be really torn.</em></p>
<p><br></p>
<h3>Suggest</h3>
<p>Yes! This is possible.</p>
<blockquote>
<p>The <em>{ }</em> syntax of the collection initializer works on any <em>IEnumerable</em>
type which has an <em>Add</em> method with the correct amount of arguments. Without
bothering how that works under the covers, that means you can simply extend
from <em>List <t></t></em>, add a custom Add method to initialize your <em>T</em> , and you
are done!</p>
</blockquote>
<div class="code"><pre class="code literal-block">public class TupleList&lt;T1, T2&gt; : List&lt;Tuple&lt;T1, T2&gt;&gt;
{
    public void Add( T1 item, T2 item2 )
    {
        Add( new Tuple&lt;T1, T2&gt;( item, item2 ) );
    }
}
</pre></div>

<p>This allows you to do the following:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">groceryList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">TupleList</span><span class="o">&lt;</span><span class="nb nb-Type">int</span><span class="p">,</span><span class="w"> </span><span class="n">string</span><span class="o">&gt;</span>
<span class="p">{</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s2">"kiwi"</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="s2">"apples"</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="s2">"potatoes"</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s2">"tomato"</span><span class="w"> </span><span class="p">}</span>
<span class="p">};</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-you-list-volumes-in-docker-containers/" class="u-url">How do you list volumes in docker containers?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-you-list-volumes-in-docker-containers/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T10:24:08+08:00" itemprop="datePublished" title="2023-03-04 10:24">2023-03-04 10:24</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>When using docker images from registries, I often need to see the volumes
created by the image's containers.</p>
<p><em>Note: I'm using docker version 1.3.2 on Red Hat 7.</em></p>
<h3>Example</h3>
<p>The <code>postgres</code> official image from the Docker Registry has a volume configured
for containers at <code>/var/lib/postgresql/data</code>.</p>
<p>What's the most succinct command to show the volume at
<code>/var/lib/postgresql/data</code> in a <code>postgres</code> container?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Use <code>docker ps</code> to get the container id.</p>
<p>Then <code>docker inspect -f '{{ .Mounts }}' containerid</code></p>
<p>Example:</p>
<p>terminal 1</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>-v<span class="w"> </span>/tmp:/tmp<span class="w"> </span>ubuntu:14.04<span class="w"> </span>/bin/bash
</pre></div>

<p>terminal 2</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>docker<span class="w"> </span>ps
CONTAINER<span class="w"> </span>ID<span class="w">        </span>IMAGE<span class="w">               </span>COMMAND<span class="w">             </span>CREATED<span class="w">              </span>STATUS<span class="w">              </span>PORTS<span class="w">               </span>NAMES
ddb7b55902cc<span class="w">        </span>ubuntu:14.04<span class="w">        </span><span class="s2">"/bin/bash"</span><span class="w">         </span>About<span class="w"> </span>a<span class="w"> </span>minute<span class="w"> </span>ago<span class="w">   </span>Up<span class="w"> </span>About<span class="w"> </span>a<span class="w"> </span>minute<span class="w">                       </span>distracted_banach

$<span class="w"> </span>docker<span class="w"> </span>inspect<span class="w"> </span>-f<span class="w"> </span><span class="s2">"{{ .Mounts }}"</span><span class="w"> </span>ddb7
map<span class="o">[</span>/tmp:/tmp<span class="o">]</span>
</pre></div>

<p>The output</p>
<div class="code"><pre class="code literal-block">map[/tmp:/tmp]
</pre></div>

<p>is, apparently, due to the use of the <em>Go</em> language to implement the docker
command tools.</p>
<p>The <code>docker inspect</code> command without the <code>-f format</code> is quite verbose. Since
it is JSON you could pipe it to python or nodejs and extract whatever you
needed.</p>
<div class="code"><pre class="code literal-block"><span class="n">paul</span><span class="err">@</span><span class="n">home</span><span class="p">:</span><span class="o">~$</span><span class="w"> </span><span class="n">docker</span><span class="w"> </span><span class="n">inspect</span><span class="w"> </span><span class="n">ddb7</span>
<span class="p">[{</span>
<span class="w">    </span><span class="s2">"AppArmorProfile"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span>
<span class="w">    </span><span class="s2">"Args"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">    </span><span class="s2">"Config"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="s2">"AttachStderr"</span><span class="p">:</span><span class="w"> </span><span class="bp">true</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"AttachStdin"</span><span class="p">:</span><span class="w"> </span><span class="bp">true</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"AttachStdout"</span><span class="p">:</span><span class="w"> </span><span class="bp">true</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"Cmd"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">"/bin/bash"</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">        </span><span class="s2">"CpuShares"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"Cpuset"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"Domainname"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"Entrypoint"</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"Env"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">        </span><span class="s2">"ExposedPorts"</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"Hostname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ddb7b55902cc"</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"Image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ubuntu:14.04"</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"MacAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"Memory"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"MemorySwap"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"NetworkDisabled"</span><span class="p">:</span><span class="w"> </span><span class="bp">false</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"OnBuild"</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"OpenStdin"</span><span class="p">:</span><span class="w"> </span><span class="bp">true</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"PortSpecs"</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"StdinOnce"</span><span class="p">:</span><span class="w"> </span><span class="bp">true</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"Tty"</span><span class="p">:</span><span class="w"> </span><span class="bp">true</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"User"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"Volumes"</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"WorkingDir"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="s2">"Created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-08T22:41:44.74862921Z"</span><span class="p">,</span>
<span class="w">    </span><span class="s2">"Driver"</span><span class="p">:</span><span class="w"> </span><span class="s2">"devicemapper"</span><span class="p">,</span>
<span class="w">    </span><span class="s2">"ExecDriver"</span><span class="p">:</span><span class="w"> </span><span class="s2">"native-0.2"</span><span class="p">,</span>
<span class="w">    </span><span class="s2">"ExecIDs"</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">,</span>
<span class="w">    </span><span class="s2">"HostConfig"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="s2">"Binds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">"/tmp:/tmp"</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">        </span><span class="s2">"CapAdd"</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"CapDrop"</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"ContainerIDFile"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"Devices"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">        </span><span class="s2">"Dns"</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"DnsSearch"</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"ExtraHosts"</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"IpcMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"Links"</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"LxcConf"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">        </span><span class="s2">"NetworkMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bridge"</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"PidMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"PortBindings"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
<span class="w">        </span><span class="s2">"Privileged"</span><span class="p">:</span><span class="w"> </span><span class="bp">false</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"PublishAllPorts"</span><span class="p">:</span><span class="w"> </span><span class="bp">false</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"ReadonlyRootfs"</span><span class="p">:</span><span class="w"> </span><span class="bp">false</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"RestartPolicy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="s2">"MaximumRetryCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">            </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="s2">"SecurityOpt"</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"VolumesFrom"</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">null</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="s2">"HostnamePath"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/var/lib/docker/containers/ddb7b55902cc328612d794570fe9a936d96a9644411e89c4ea116a5fef4c311a/hostname"</span><span class="p">,</span>
<span class="w">    </span><span class="s2">"HostsPath"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/var/lib/docker/containers/ddb7b55902cc328612d794570fe9a936d96a9644411e89c4ea116a5fef4c311a/hosts"</span><span class="p">,</span>
<span class="w">    </span><span class="s2">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ddb7b55902cc328612d794570fe9a936d96a9644411e89c4ea116a5fef4c311a"</span><span class="p">,</span>
<span class="w">    </span><span class="s2">"Image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ed5a78b7b42bde1e3e4c2996e02da778882dca78f8919cbd0deb6694803edec3"</span><span class="p">,</span>
<span class="w">    </span><span class="s2">"MountLabel"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span>
<span class="w">    </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/distracted_banach"</span><span class="p">,</span>
<span class="w">    </span><span class="s2">"NetworkSettings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="s2">"Bridge"</span><span class="p">:</span><span class="w"> </span><span class="s2">"docker0"</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"Gateway"</span><span class="p">:</span><span class="w"> </span><span class="s2">"172.17.42.1"</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"GlobalIPv6Address"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"GlobalIPv6PrefixLen"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"IPAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"172.17.0.4"</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"IPPrefixLen"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"IPv6Gateway"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"LinkLocalIPv6Address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fe80::42:acff:fe11:4"</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"LinkLocalIPv6PrefixLen"</span><span class="p">:</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"MacAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02:42:ac:11:00:04"</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"PortMapping"</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"Ports"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="s2">"Path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/bin/bash"</span><span class="p">,</span>
<span class="w">    </span><span class="s2">"ProcessLabel"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span>
<span class="w">    </span><span class="s2">"ResolvConfPath"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/var/lib/docker/containers/ddb7b55902cc328612d794570fe9a936d96a9644411e89c4ea116a5fef4c311a/resolv.conf"</span><span class="p">,</span>
<span class="w">    </span><span class="s2">"RestartCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="s2">"State"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="s2">"Error"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"ExitCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"FinishedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0001-01-01T00:00:00Z"</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"OOMKilled"</span><span class="p">:</span><span class="w"> </span><span class="bp">false</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"Paused"</span><span class="p">:</span><span class="w"> </span><span class="bp">false</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"Pid"</span><span class="p">:</span><span class="w"> </span><span class="mi">6115</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"Restarting"</span><span class="p">:</span><span class="w"> </span><span class="bp">false</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"Running"</span><span class="p">:</span><span class="w"> </span><span class="bp">true</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"StartedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-08T22:41:45.367432585Z"</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="s2">"Volumes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="s2">"/tmp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/tmp"</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="s2">"VolumesRW"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="s2">"/tmp"</span><span class="p">:</span><span class="w"> </span><span class="bp">true</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
<span class="p">]</span>
</pre></div>

<p><code>docker history &lt;image name&gt;</code> will show the layers baked into an image.
Unfortunately, <code>docker history</code> seems hobbled by its formatting and lack of
options to choose what is displayed.</p>
<p>You can choose terse and verbose formats, via the --no-trunc flag.</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>docker<span class="w"> </span><span class="nb">history</span><span class="w"> </span>drpaulbrewer/spark-worker
IMAGE<span class="w">               </span>CREATED<span class="w">             </span>CREATED<span class="w"> </span>BY<span class="w">                                      </span>SIZE
438ff4e1753a<span class="w">        </span><span class="m">2</span><span class="w"> </span>weeks<span class="w"> </span>ago<span class="w">         </span>/bin/sh<span class="w"> </span>-c<span class="w"> </span><span class="c1">#(nop) CMD [/bin/sh -c /spark/my-s   0 B</span>
6b664e299724<span class="w">        </span><span class="m">2</span><span class="w"> </span>weeks<span class="w"> </span>ago<span class="w">         </span>/bin/sh<span class="w"> </span>-c<span class="w"> </span><span class="c1">#(nop) ADD file:09da603c5f0dca7cc6   296 B</span>
f6ae126ae124<span class="w">        </span><span class="m">2</span><span class="w"> </span>weeks<span class="w"> </span>ago<span class="w">         </span>/bin/sh<span class="w"> </span>-c<span class="w"> </span><span class="c1">#(nop) MAINTAINER drpaulbrewer@eaf   0 B</span>
70bcb3ffaec9<span class="w">        </span><span class="m">2</span><span class="w"> </span>weeks<span class="w"> </span>ago<span class="w">         </span>/bin/sh<span class="w"> </span>-c<span class="w"> </span><span class="c1">#(nop) EXPOSE 2222/tcp 4040/tcp 60   0 B</span>
1332ac203849<span class="w">        </span><span class="m">2</span><span class="w"> </span>weeks<span class="w"> </span>ago<span class="w">         </span>/bin/sh<span class="w"> </span>-c<span class="w"> </span>apt-get<span class="w"> </span>update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>apt-get<span class="w"> </span>--yes<span class="w"> </span>up<span class="w">   </span><span class="m">1</span>.481<span class="w"> </span>GB
8e6f1e0bb1b0<span class="w">        </span><span class="m">2</span><span class="w"> </span>weeks<span class="w"> </span>ago<span class="w">         </span>/bin/sh<span class="w"> </span>-c<span class="w"> </span>sed<span class="w"> </span>-e<span class="w"> </span><span class="s1">'s/archive.ubuntu.com/www.g   1.975 kB</span>
<span class="s1">b3d242776b1f        2 weeks ago         /bin/sh -c #(nop) WORKDIR /spark/spark-1.3.1    0 B</span>
<span class="s1">ac0d6cc5aa3f        2 weeks ago         /bin/sh -c #(nop) ADD file:b6549e3d28e2d149c0   25.89 MB</span>
<span class="s1">6ee404a44b3f        5 weeks ago         /bin/sh -c #(nop) WORKDIR /spark                0 B</span>
<span class="s1">c167faff18cf        5 weeks ago         /bin/sh -c adduser --disabled-password --home   335.1 kB</span>
<span class="s1">f55d468318a4        5 weeks ago         /bin/sh -c #(nop) MAINTAINER drpaulbrewer@eaf   0 B</span>
<span class="s1">19c8c047d0fe        8 weeks ago         /bin/sh -c #(nop) CMD [/bin/bash]               0 B</span>
<span class="s1">c44d976a473f        8 weeks ago         /bin/sh -c sed -i '</span>s/^#<span class="se">\s</span>*<span class="se">\(</span>deb.*universe<span class="se">\)</span>$/<span class="w">   </span><span class="m">1</span>.879<span class="w"> </span>kB
14dbf1d35e28<span class="w">        </span><span class="m">8</span><span class="w"> </span>weeks<span class="w"> </span>ago<span class="w">         </span>/bin/sh<span class="w"> </span>-c<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s1">'#!/bin/sh'</span><span class="w"> </span>&gt;<span class="w"> </span>/usr/sbin/polic<span class="w">   </span><span class="m">701</span><span class="w"> </span>B
afa7a164a0d2<span class="w">        </span><span class="m">8</span><span class="w"> </span>weeks<span class="w"> </span>ago<span class="w">         </span>/bin/sh<span class="w"> </span>-c<span class="w"> </span><span class="c1">#(nop) ADD file:57f97478006b988c0c   131.5 MB</span>
511136ea3c5a<span class="w">        </span><span class="m">23</span><span class="w"> </span>months<span class="w"> </span>ago<span class="w">                                                       </span><span class="m">0</span><span class="w"> </span>B
</pre></div>

<p>Here's a verbose example.</p>
<div class="code"><pre class="code literal-block"><span class="n">docker</span><span class="w"> </span><span class="n">history</span><span class="w"> </span><span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">trunc</span><span class="o">=</span><span class="bp">true</span><span class="w"> </span><span class="n">drpaulbrewer</span><span class="o">/</span><span class="n">spark</span><span class="o">-</span><span class="n">worker</span>
<span class="n">IMAGE</span><span class="w">                                                              </span><span class="n">CREATED</span><span class="w">             </span><span class="n">CREATED</span><span class="w"> </span><span class="n">BY</span><span class="w">                                                                                                                                                                                                                                                                                                                                                                                                                        </span><span class="n">SIZE</span>
<span class="mi">438</span><span class="n">ff4e1753a60779f389a3de593d41f7d24a61da6e1df76dded74a688febd64</span><span class="w">   </span><span class="mi">2</span><span class="w"> </span><span class="n">weeks</span><span class="w"> </span><span class="n">ago</span><span class="w">         </span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">sh</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="c1">#(nop) CMD [/bin/sh -c /spark/my-spark-worker.sh]                                                                                                                                                                                                                                                                                                                                                                      0 B</span>
<span class="mi">6</span><span class="n">b664e29972481b8d6d47f98167f110609d9599f48001c3ca11c22364196c98a</span><span class="w">   </span><span class="mi">2</span><span class="w"> </span><span class="n">weeks</span><span class="w"> </span><span class="n">ago</span><span class="w">         </span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">sh</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="c1">#(nop) ADD file:09da603c5f0dca7cc60f1911caf30c3c70df5e4783f7eb10468e70df66e2109f in /spark/                                                                                                                                                                                                                                                                                                                            296 B</span>
<span class="n">f6ae126ae124ca211c04a1257510930b37ea78425e31a273ea0b1495fa176c57</span><span class="w">   </span><span class="mi">2</span><span class="w"> </span><span class="n">weeks</span><span class="w"> </span><span class="n">ago</span><span class="w">         </span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">sh</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="c1">#(nop) MAINTAINER drpaulbrewer@eaftc.com                                                                                                                                                                                                                                                                                                                                                                               0 B</span>
<span class="mi">70</span><span class="n">bcb3ffaec97a0d14e93b170ed70cc7d68c3c9dfb0222c1d360a300d6e05255</span><span class="w">   </span><span class="mi">2</span><span class="w"> </span><span class="n">weeks</span><span class="w"> </span><span class="n">ago</span><span class="w">         </span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">sh</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="c1">#(nop) EXPOSE 2222/tcp 4040/tcp 6066/tcp 7077/tcp 7777/tcp 8080/tcp 8081/tcp                                                                                                                                                                                                                                                                                                                                           0 B</span>
<span class="mi">1332</span><span class="n">ac20384947fe1f15107213b675e5be36a68d72f0e81153d6d5a21acf35af</span><span class="w">   </span><span class="mi">2</span><span class="w"> </span><span class="n">weeks</span><span class="w"> </span><span class="n">ago</span><span class="w">         </span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">sh</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="n">apt</span><span class="o">-</span><span class="n">get</span><span class="w"> </span><span class="n">update</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">apt</span><span class="o">-</span><span class="n">get</span><span class="w"> </span><span class="o">--</span><span class="n">yes</span><span class="w"> </span><span class="n">upgrade</span><span class="w">     </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">apt</span><span class="o">-</span><span class="n">get</span><span class="w"> </span><span class="o">--</span><span class="n">yes</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">sed</span><span class="w"> </span><span class="n">nano</span><span class="w"> </span><span class="n">curl</span><span class="w"> </span><span class="n">wget</span><span class="w"> </span><span class="n">openjdk</span><span class="o">-</span><span class="mi">8</span><span class="o">-</span><span class="n">jdk</span><span class="w"> </span><span class="n">scala</span><span class="w">     </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">echo</span><span class="w"> </span><span class="s2">"JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64"</span><span class="w"> </span><span class="o">&gt;&gt;/</span><span class="n">etc</span><span class="o">/</span><span class="n">environment</span><span class="w">     </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="k">export</span><span class="w"> </span><span class="n">MAVEN_OPTS</span><span class="o">=</span><span class="s2">"-Xmx2g -XX:MaxPermSize=512M -XX:ReservedCodeCacheSize=512m"</span><span class="w">     </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">./</span><span class="n">build</span><span class="o">/</span><span class="n">mvn</span><span class="w"> </span><span class="o">-</span><span class="n">Phive</span><span class="w"> </span><span class="o">-</span><span class="n">Phive</span><span class="o">-</span><span class="n">thriftserver</span><span class="w"> </span><span class="o">-</span><span class="n">DskipTests</span><span class="w"> </span><span class="n">clean</span><span class="w"> </span><span class="n">package</span><span class="w">     </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">chown</span><span class="w"> </span><span class="o">-</span><span class="n">R</span><span class="w"> </span><span class="n">spark</span><span class="p">:</span><span class="n">spark</span><span class="w"> </span><span class="o">/</span><span class="n">spark</span><span class="w">     </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">mkdir</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">sshd</span><span class="w">   </span><span class="mf">1.481</span><span class="w"> </span><span class="n">GB</span>
<span class="mf">8e6</span><span class="n">f1e0bb1b0b9286947d3a4b443cc8099b00f9670aab1d58654051e06f62e51</span><span class="w">   </span><span class="mi">2</span><span class="w"> </span><span class="n">weeks</span><span class="w"> </span><span class="n">ago</span><span class="w">         </span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">sh</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="n">sed</span><span class="w"> </span><span class="o">-</span><span class="n">e</span><span class="w"> </span><span class="s1">'s/archive.ubuntu.com/www.gtlib.gatech.edu\/pub/'</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">apt</span><span class="o">/</span><span class="n">sources</span><span class="o">.</span><span class="n">list</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">sources</span><span class="o">.</span><span class="n">list</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">mv</span><span class="w"> </span><span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">sources</span><span class="o">.</span><span class="n">list</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">apt</span><span class="o">/</span><span class="n">sources</span><span class="o">.</span><span class="n">list</span><span class="w">                                                                                                                                                                                                                                                                       </span><span class="mf">1.975</span><span class="w"> </span><span class="n">kB</span>
<span class="n">b3d242776b1f1f1ae5685471d06a91a68f92845ef6fc6445d831835cd55e5d0b</span><span class="w">   </span><span class="mi">2</span><span class="w"> </span><span class="n">weeks</span><span class="w"> </span><span class="n">ago</span><span class="w">         </span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">sh</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="c1">#(nop) WORKDIR /spark/spark-1.3.1                                                                                                                                                                                                                                                                                                                                                                                      0 B</span>
<span class="n">ac0d6cc5aa3fdc3b65fc0173f6775af283c3c395c8dae945cf23940435f2785d</span><span class="w">   </span><span class="mi">2</span><span class="w"> </span><span class="n">weeks</span><span class="w"> </span><span class="n">ago</span><span class="w">         </span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">sh</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="c1">#(nop) ADD file:b6549e3d28e2d149c0bc84f69eb0beab16f62780fc4889bcc64cfc9ce9f762d6 in /spark/                                                                                                                                                                                                                                                                                                                            25.89 MB</span>
<span class="mi">6</span><span class="n">ee404a44b3fdd3ef3318dc10f3d002f1995eea238c78f4eeb9733d00bb29404</span><span class="w">   </span><span class="mi">5</span><span class="w"> </span><span class="n">weeks</span><span class="w"> </span><span class="n">ago</span><span class="w">         </span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">sh</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="c1">#(nop) WORKDIR /spark                                                                                                                                                                                                                                                                                                                                                                                                  0 B</span>
<span class="n">c167faff18cfecedef30343ef1cb54aca45f4ef0478a3f6296746683f69d601b</span><span class="w">   </span><span class="mi">5</span><span class="w"> </span><span class="n">weeks</span><span class="w"> </span><span class="n">ago</span><span class="w">         </span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">sh</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="n">adduser</span><span class="w"> </span><span class="o">--</span><span class="n">disabled</span><span class="o">-</span><span class="n">password</span><span class="w"> </span><span class="o">--</span><span class="n">home</span><span class="w"> </span><span class="o">/</span><span class="n">spark</span><span class="w"> </span><span class="n">spark</span><span class="w">                                                                                                                                                                                                                                                                                                                                                                        </span><span class="mf">335.1</span><span class="w"> </span><span class="n">kB</span>
<span class="n">f55d468318a4778733160d377c5d350dc8f593683009699c2af85244471b15a3</span><span class="w">   </span><span class="mi">5</span><span class="w"> </span><span class="n">weeks</span><span class="w"> </span><span class="n">ago</span><span class="w">         </span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">sh</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="c1">#(nop) MAINTAINER drpaulbrewer@eaftc.com                                                                                                                                                                                                                                                                                                                                                                               0 B</span>
<span class="mi">19</span><span class="n">c8c047d0fe2de7239120f2b5c1a20bbbcb4d3eb9cbf0efa59ab27ab047377a</span><span class="w">   </span><span class="mi">8</span><span class="w"> </span><span class="n">weeks</span><span class="w"> </span><span class="n">ago</span><span class="w">         </span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">sh</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="c1">#(nop) CMD [/bin/bash]                                                                                                                                                                                                                                                                                                                                                                                                 0 B</span>
<span class="n">c44d976a473f143937ef91449c73f2cabd109b540f6edf54facb9bc2b4fff136</span><span class="w">   </span><span class="mi">8</span><span class="w"> </span><span class="n">weeks</span><span class="w"> </span><span class="n">ago</span><span class="w">         </span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">sh</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="n">sed</span><span class="w"> </span><span class="o">-</span><span class="n">i</span><span class="w"> </span><span class="s1">'s/^#\s*\(deb.*universe\)$/</span><span class="se">\1</span><span class="s1">/g'</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">apt</span><span class="o">/</span><span class="n">sources</span><span class="o">.</span><span class="n">list</span><span class="w">                                                                                                                                                                                                                                                                                                                                                          </span><span class="mf">1.879</span><span class="w"> </span><span class="n">kB</span>
<span class="mi">14</span><span class="n">dbf1d35e2849a00c6c2628055030fa84b4fb55eaadbe0ecad8b82df65cc0db</span><span class="w">   </span><span class="mi">8</span><span class="w"> </span><span class="n">weeks</span><span class="w"> </span><span class="n">ago</span><span class="w">         </span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">sh</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="n">echo</span><span class="w"> </span><span class="s1">'#!/bin/sh'</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">sbin</span><span class="o">/</span><span class="n">policy</span><span class="o">-</span><span class="n">rc</span><span class="o">.</span><span class="n">d</span><span class="w">                                                                                                                                                                                                                                                                                                                                                                               </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">echo</span><span class="w"> </span><span class="s1">'exit 101'</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">sbin</span><span class="o">/</span><span class="n">policy</span><span class="o">-</span><span class="n">rc</span><span class="o">.</span><span class="n">d</span><span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">chmod</span><span class="w"> </span><span class="o">+</span><span class="n">x</span><span class="w"> </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">sbin</span><span class="o">/</span><span class="n">policy</span><span class="o">-</span><span class="n">rc</span><span class="o">.</span><span class="n">d</span><span class="w">                        </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">dpkg</span><span class="o">-</span><span class="n">divert</span><span class="w"> </span><span class="o">--</span><span class="n">local</span><span class="w"> </span><span class="o">--</span><span class="n">rename</span><span class="w"> </span><span class="o">--</span><span class="n">add</span><span class="w"> </span><span class="o">/</span><span class="n">sbin</span><span class="o">/</span><span class="n">initctl</span><span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">cp</span><span class="w"> </span><span class="o">-</span><span class="n">a</span><span class="w"> </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">sbin</span><span class="o">/</span><span class="n">policy</span><span class="o">-</span><span class="n">rc</span><span class="o">.</span><span class="n">d</span><span class="w"> </span><span class="o">/</span><span class="n">sbin</span><span class="o">/</span><span class="n">initctl</span><span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">sed</span><span class="w"> </span><span class="o">-</span><span class="n">i</span><span class="w"> </span><span class="s1">'s/^exit.*/exit 0/'</span><span class="w"> </span><span class="o">/</span><span class="n">sbin</span><span class="o">/</span><span class="n">initctl</span><span class="w">                        </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">echo</span><span class="w"> </span><span class="s1">'force-unsafe-io'</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">dpkg</span><span class="o">/</span><span class="n">dpkg</span><span class="o">.</span><span class="n">cfg</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">docker</span><span class="o">-</span><span class="n">apt</span><span class="o">-</span><span class="n">speedup</span><span class="w">                        </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">echo</span><span class="w"> </span><span class="s1">'DPkg::Post-Invoke { "rm -f /var/cache/apt/archives/*.deb /var/cache/apt/archives/partial/*.deb /var/cache/apt/*.bin || true"; };'</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">apt</span><span class="o">/</span><span class="n">apt</span><span class="o">.</span><span class="n">conf</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">docker</span><span class="o">-</span><span class="n">clean</span><span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">echo</span><span class="w"> </span><span class="s1">'APT::Update::Post-Invoke { "rm -f /var/cache/apt/archives/*.deb /var/cache/apt/archives/partial/*.deb /var/cache/apt/*.bin || true"; };'</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">apt</span><span class="o">/</span><span class="n">apt</span><span class="o">.</span><span class="n">conf</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">docker</span><span class="o">-</span><span class="n">clean</span><span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">echo</span><span class="w"> </span><span class="s1">'Dir::Cache::pkgcache ""; Dir::Cache::srcpkgcache "";'</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">apt</span><span class="o">/</span><span class="n">apt</span><span class="o">.</span><span class="n">conf</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">docker</span><span class="o">-</span><span class="n">clean</span><span class="w">                        </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">echo</span><span class="w"> </span><span class="s1">'Acquire::Languages "none";'</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">apt</span><span class="o">/</span><span class="n">apt</span><span class="o">.</span><span class="n">conf</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">docker</span><span class="o">-</span><span class="n">no</span><span class="o">-</span><span class="n">languages</span><span class="w">                        </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">echo</span><span class="w"> </span><span class="s1">'Acquire::GzipIndexes "true"; Acquire::CompressionTypes::Order:: "gz";'</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">apt</span><span class="o">/</span><span class="n">apt</span><span class="o">.</span><span class="n">conf</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">docker</span><span class="o">-</span><span class="n">gzip</span><span class="o">-</span><span class="n">indexes</span><span class="w">   </span><span class="mi">701</span><span class="w"> </span><span class="n">B</span>
<span class="n">afa7a164a0d215dbf45cd1aadad2a4d12b8e33fc890064568cc2ea6d42ef9b3c</span><span class="w">   </span><span class="mi">8</span><span class="w"> </span><span class="n">weeks</span><span class="w"> </span><span class="n">ago</span><span class="w">         </span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">sh</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="c1">#(nop) ADD file:57f97478006b988c0c68e5bf82684372e427fd45f21cd7baf5d974d2cfb29e65 in /                                                                                                                                                                                                                                                                                                                                  131.5 MB</span>
<span class="mi">511136</span><span class="n">ea3c5a64f264b78b5433614aec563103b4d4702f3ba7d4d2698e22c158</span><span class="w">   </span><span class="mi">23</span><span class="w"> </span><span class="n">months</span><span class="w"> </span><span class="n">ago</span><span class="w">                                                                                                                                                                                                                                                                                                                                                                                                                                         </span><span class="mi">0</span><span class="w"> </span><span class="n">B</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>With docker 1.10, you now have new commands for data-volume containers.<br>
(for regular containers, see the next section, for docker 1.8+):</p>
<ul>
<li><code>docker volume ls</code></li>
<li><code>docker volume inspect</code></li>
</ul>
<hr>
<p>With docker 1.8.1 (August 2015), a <code>docker inspect -f '{{ .Volumes }}'
containerid</code> would be <strong>empty!</strong></p>
<p>You now need to check <strong><code>Mounts</code></strong> , which is a list of mounted paths like:</p>
<div class="code"><pre class="code literal-block"><span class="w">   </span><span class="s2">"Mounts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">       </span><span class="p">{</span>
<span class="w">           </span><span class="s2">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7ced22ebb63b78823f71cf33f9a7e1915abe4595fcd4f067084f7c4e8cc1afa2"</span><span class="p">,</span>
<span class="w">           </span><span class="s2">"Source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/mnt/sda1/var/lib/docker/volumes/7ced22ebb63b78823f71cf33f9a7e1915abe4595fcd4f067084f7c4e8cc1afa2/_data"</span><span class="p">,</span>
<span class="w">           </span><span class="s2">"Destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/home/git/repositories"</span><span class="p">,</span>
<span class="w">           </span><span class="s2">"Driver"</span><span class="p">:</span><span class="w"> </span><span class="s2">"local"</span><span class="p">,</span>
<span class="w">           </span><span class="s2">"Mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span>
<span class="w">           </span><span class="s2">"RW"</span><span class="p">:</span><span class="w"> </span><span class="bp">true</span>
<span class="w">       </span><span class="p">}</span>
<span class="w">   </span><span class="p">],</span>
</pre></div>

<p>If you want the path of the <em>first</em> mount (for instance), that would be (using
index 0):</p>
<div class="code"><pre class="code literal-block"><span class="x">docker inspect -f '</span><span class="cp">{{</span> <span class="o">(</span><span class="nv">index</span> <span class="nv">.Mounts</span> <span class="m">0</span><span class="o">)</span><span class="nv">.Source</span> <span class="cp">}}</span><span class="x">' containerid</span>
</pre></div>

<p>As Mike Mitterer comments below:</p>
<blockquote>
<p>Pretty print the whole thing:</p>
</blockquote>
<div class="code"><pre class="code literal-block"><span class="w"> </span><span class="n">docker</span><span class="w"> </span><span class="n">inspect</span><span class="w"> </span><span class="o">-</span><span class="n">f</span><span class="w"> </span><span class="s1">'{{ json .Mounts }}'</span><span class="w"> </span><span class="n">containerid</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">python</span><span class="w"> </span><span class="o">-</span><span class="n">m</span><span class="w"> </span><span class="n">json</span><span class="o">.</span><span class="k">tool</span>
</pre></div>

<p>Or, as commented by Mitja, use the <code>jq</code> command.</p>
<div class="code"><pre class="code literal-block"><span class="x">docker inspect -f '</span><span class="cp">{{</span> <span class="nv">json</span> <span class="nv">.Mounts</span> <span class="cp">}}</span><span class="x">' containerid | jq</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2362.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2360.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

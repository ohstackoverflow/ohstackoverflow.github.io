<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2498) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2498.html">
<link rel="prev" href="index-2499.html" type="text/html">
<link rel="next" href="index-2497.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/pass-parameters-in-setinterval-function/" class="u-url">Pass parameters in setInterval function</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/pass-parameters-in-setinterval-function/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T20:39:18+08:00" itemprop="datePublished" title="2023-03-04 20:39">2023-03-04 20:39</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Please advise how to pass parameters into a function called using
<code>setInterval</code>.</p>
<p>My example <code>setInterval(funca(10,3), 500);</code> is incorrect.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You need to create an anonymous function so the actual function isn't executed
right away.</p>
<div class="code"><pre class="code literal-block">setInterval( function() { funca(10,3); }, 500 );
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Add them as parameters to setInterval:</p>
<div class="code"><pre class="code literal-block">setInterval(funca, 500, 10, 3);
</pre></div>

<p>The syntax in your question uses eval, which is not recommended practice.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/find-mouse-position-relative-to-element/" class="u-url">Find mouse position relative to element</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/find-mouse-position-relative-to-element/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T20:37:36+08:00" itemprop="datePublished" title="2023-03-04 20:37">2023-03-04 20:37</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I want to make a little painting app using canvas. So I need to find the
mouse's position on the canvas.</p>
<p><br><br></p>
<h2>Answer</h2>
<p><strong>For people using JQuery:</strong></p>
<p>Sometimes, when you have nested elements, one of them with the event attached
to it, it can be confusing to understand what your browser sees as the parent.
Here, you can specify which parent.</p>
<p>You take the mouse position, and then subtract it from the parent element's
offset position.</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">evt</span><span class="o">.</span><span class="n">pageX</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="s1">'#element'</span><span class="p">)</span><span class="o">.</span><span class="n">offset</span><span class="p">()</span><span class="o">.</span><span class="n">left</span><span class="p">;</span>
<span class="k">var</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">evt</span><span class="o">.</span><span class="n">pageY</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="s1">'#element'</span><span class="p">)</span><span class="o">.</span><span class="n">offset</span><span class="p">()</span><span class="o">.</span><span class="n">top</span><span class="p">;</span>
</pre></div>

<p>If you're trying to get the mouse position on a page inside a scrolling pane:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">evt</span><span class="o">.</span><span class="n">pageX</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="s1">'#element'</span><span class="p">)</span><span class="o">.</span><span class="n">offset</span><span class="p">()</span><span class="o">.</span><span class="n">left</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">scrollLeft</span><span class="p">();</span>
<span class="k">var</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">evt</span><span class="o">.</span><span class="n">pageY</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="s1">'#element'</span><span class="p">)</span><span class="o">.</span><span class="n">offset</span><span class="p">()</span><span class="o">.</span><span class="n">top</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">scrollTop</span><span class="p">();</span>
</pre></div>

<p>Or the position relative to the page:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">evt</span><span class="o">.</span><span class="n">pageX</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="s1">'#element'</span><span class="p">)</span><span class="o">.</span><span class="n">offset</span><span class="p">()</span><span class="o">.</span><span class="n">left</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="n">window</span><span class="p">)</span><span class="o">.</span><span class="n">scrollLeft</span><span class="p">();</span>
<span class="k">var</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">evt</span><span class="o">.</span><span class="n">pageY</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="s1">'#element'</span><span class="p">)</span><span class="o">.</span><span class="n">offset</span><span class="p">()</span><span class="o">.</span><span class="n">top</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="n">window</span><span class="p">)</span><span class="o">.</span><span class="n">scrollTop</span><span class="p">();</span>
</pre></div>

<p>Note the following performance optimisation:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="s1">'#element'</span><span class="p">)</span><span class="o">.</span><span class="n">offset</span><span class="p">();</span>
<span class="o">//</span><span class="w"> </span><span class="n">Then</span><span class="w"> </span><span class="n">refer</span><span class="w"> </span><span class="n">to</span><span class="w"> </span>
<span class="k">var</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">evt</span><span class="o">.</span><span class="n">pageX</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">offset</span><span class="o">.</span><span class="n">left</span><span class="p">;</span>
</pre></div>

<p><em>In this way, JQuery does not have to look up<code>#element</code> for each line.</em></p>
<h2>Update</h2>
<p>There is a newer, JavaScript-only version in an answer by @anytimecoder -- see
also browser support for getBoundingClientRect().</p>
<p><br></p>
<h3>Suggest</h3>
<p><strong>For people using JQuery:</strong></p>
<p>Sometimes, when you have nested elements, one of them with the event attached
to it, it can be confusing to understand what your browser sees as the parent.
Here, you can specify which parent.</p>
<p>You take the mouse position, and then subtract it from the parent element's
offset position.</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">evt</span><span class="o">.</span><span class="n">pageX</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="s1">'#element'</span><span class="p">)</span><span class="o">.</span><span class="n">offset</span><span class="p">()</span><span class="o">.</span><span class="n">left</span><span class="p">;</span>
<span class="k">var</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">evt</span><span class="o">.</span><span class="n">pageY</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="s1">'#element'</span><span class="p">)</span><span class="o">.</span><span class="n">offset</span><span class="p">()</span><span class="o">.</span><span class="n">top</span><span class="p">;</span>
</pre></div>

<p>If you're trying to get the mouse position on a page inside a scrolling pane:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">evt</span><span class="o">.</span><span class="n">pageX</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="s1">'#element'</span><span class="p">)</span><span class="o">.</span><span class="n">offset</span><span class="p">()</span><span class="o">.</span><span class="n">left</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">scrollLeft</span><span class="p">();</span>
<span class="k">var</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">evt</span><span class="o">.</span><span class="n">pageY</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="s1">'#element'</span><span class="p">)</span><span class="o">.</span><span class="n">offset</span><span class="p">()</span><span class="o">.</span><span class="n">top</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">scrollTop</span><span class="p">();</span>
</pre></div>

<p>Or the position relative to the page:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">evt</span><span class="o">.</span><span class="n">pageX</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="s1">'#element'</span><span class="p">)</span><span class="o">.</span><span class="n">offset</span><span class="p">()</span><span class="o">.</span><span class="n">left</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="n">window</span><span class="p">)</span><span class="o">.</span><span class="n">scrollLeft</span><span class="p">();</span>
<span class="k">var</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">evt</span><span class="o">.</span><span class="n">pageY</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="s1">'#element'</span><span class="p">)</span><span class="o">.</span><span class="n">offset</span><span class="p">()</span><span class="o">.</span><span class="n">top</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="n">window</span><span class="p">)</span><span class="o">.</span><span class="n">scrollTop</span><span class="p">();</span>
</pre></div>

<p>Note the following performance optimisation:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="s1">'#element'</span><span class="p">)</span><span class="o">.</span><span class="n">offset</span><span class="p">();</span>
<span class="o">//</span><span class="w"> </span><span class="n">Then</span><span class="w"> </span><span class="n">refer</span><span class="w"> </span><span class="n">to</span><span class="w"> </span>
<span class="k">var</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">evt</span><span class="o">.</span><span class="n">pageX</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">offset</span><span class="o">.</span><span class="n">left</span><span class="p">;</span>
</pre></div>

<p><em>In this way, JQuery does not have to look up<code>#element</code> for each line.</em></p>
<h2>Update</h2>
<p>There is a newer, JavaScript-only version in an answer by @anytimecoder -- see
also browser support for getBoundingClientRect().</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-create-a-delay-in-swift/" class="u-url">How to create a delay in Swift?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-create-a-delay-in-swift/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T20:35:56+08:00" itemprop="datePublished" title="2023-03-04 20:35">2023-03-04 20:35</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I want to pause my app at a certain in point. In other words, I want my app to
execute the code, but then at a certain point, pause for 4 seconds, and then
continue on with the rest of the code. How can I do this?</p>
<p>I am using Swift.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Instead of a sleep, which will lock up your program if called from the UI
thread, consider using <code>NSTimer</code> or a dispatch timer.</p>
<p>But, if you really need a delay in the current thread:</p>
<div class="code"><pre class="code literal-block"><span class="k">do</span><span class="w"> </span>{
<span class="w">    </span><span class="nv">sleep</span><span class="ss">(</span><span class="mi">4</span><span class="ss">)</span>
}
</pre></div>

<p>This uses the <code>sleep</code> function from UNIX.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Instead of a sleep, which will lock up your program if called from the UI
thread, consider using <code>NSTimer</code> or a dispatch timer.</p>
<p>But, if you really need a delay in the current thread:</p>
<div class="code"><pre class="code literal-block"><span class="k">do</span><span class="w"> </span>{
<span class="w">    </span><span class="nv">sleep</span><span class="ss">(</span><span class="mi">4</span><span class="ss">)</span>
}
</pre></div>

<p>This uses the <code>sleep</code> function from UNIX.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2499.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2497.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

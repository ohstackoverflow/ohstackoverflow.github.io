<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2264) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2264.html">
<link rel="prev" href="index-2265.html" type="text/html">
<link rel="next" href="index-2263.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/is-there-a-better-alternative-than-this-to-switch-on-type/" class="u-url">Is there a better alternative than this to 'switch on type'?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/is-there-a-better-alternative-than-this-to-switch-on-type/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T03:17:17+08:00" itemprop="datePublished" title="2023-03-04 03:17">2023-03-04 03:17</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Seeing as C# can't <code>switch</code> on a Type (which I gather wasn't added as a
special case because <code>is</code> relationships mean that more than one distinct
<code>case</code> might apply), is there a better way to simulate switching on type other
than this?</p>
<div class="code"><pre class="code literal-block"><span class="nt">void</span><span class="w"> </span><span class="nt">Foo</span><span class="o">(</span><span class="nt">object</span><span class="w"> </span><span class="nt">o</span><span class="o">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="err">if</span><span class="w"> </span><span class="err">(o</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">A)</span>
<span class="w">    </span><span class="err">{</span>
<span class="w">        </span><span class="err">((A)o).Hop()</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nt">else</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="o">(</span><span class="nt">o</span><span class="w"> </span><span class="nt">is</span><span class="w"> </span><span class="nt">B</span><span class="o">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="err">((B)o).Skip()</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nt">else</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="err">throw</span><span class="w"> </span><span class="err">new</span><span class="w"> </span><span class="err">ArgumentException("Unexpected</span><span class="w"> </span><span class="n">type</span><span class="p">:</span><span class="w"> </span><span class="err">"</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">o</span><span class="o">.</span><span class="nf">GetType</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
<span class="err">}</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>Switching on types is definitely lacking in C# ( <strong>UPDATE: in C#7 / VS 2017
switching on types is supported - see Zachary Yates's answer</strong> ). In order to
do this without a large if/else if/else statement, you'll need to work with a
different structure. I wrote a blog post awhile back detailing how to build a
TypeSwitch structure.</p>
<p>https://learn.microsoft.com/archive/blogs/jaredpar/switching-on-types</p>
<p>Short version: TypeSwitch is designed to prevent redundant casting and give a
syntax that is similar to a normal switch/case statement. For example, here is
TypeSwitch in action on a standard Windows form event</p>
<div class="code"><pre class="code literal-block"><span class="nv">TypeSwitch</span>.<span class="k">Do</span><span class="ss">(</span>
<span class="w">    </span><span class="nv">sender</span>,
<span class="w">    </span><span class="nv">TypeSwitch</span>.<span class="nv">Case</span><span class="o">&lt;</span><span class="nv">Button</span><span class="o">&gt;</span><span class="ss">(()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nv">textBox1</span>.<span class="nv">Text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Hit a Button"</span><span class="ss">)</span>,
<span class="w">    </span><span class="nv">TypeSwitch</span>.<span class="nv">Case</span><span class="o">&lt;</span><span class="nv">CheckBox</span><span class="o">&gt;</span><span class="ss">(</span><span class="nv">x</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nv">textBox1</span>.<span class="nv">Text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Checkbox is "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">x</span>.<span class="nv">Checked</span><span class="ss">)</span>,
<span class="w">    </span><span class="nv">TypeSwitch</span>.<span class="nv">Default</span><span class="ss">(()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nv">textBox1</span>.<span class="nv">Text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Not sure what is hovered over"</span><span class="ss">))</span><span class="c1">;</span>
</pre></div>

<p>The code for TypeSwitch is actually pretty small and can easily be put into
your project.</p>
<div class="code"><pre class="code literal-block"><span class="k">static</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">TypeSwitch</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">CaseInfo</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">public</span><span class="w"> </span><span class="nb nb-Type">bool</span><span class="w"> </span><span class="n">IsDefault</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">get</span><span class="p">;</span><span class="w"> </span><span class="n">set</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">        </span><span class="n">public</span><span class="w"> </span><span class="n">Type</span><span class="w"> </span><span class="n">Target</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">get</span><span class="p">;</span><span class="w"> </span><span class="n">set</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">        </span><span class="n">public</span><span class="w"> </span><span class="n">Action</span><span class="o">&lt;</span><span class="n">object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">Action</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">get</span><span class="p">;</span><span class="w"> </span><span class="n">set</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="nb nb-Type">void</span><span class="w"> </span><span class="n">Do</span><span class="p">(</span><span class="n">object</span><span class="w"> </span><span class="n">source</span><span class="p">,</span><span class="w"> </span><span class="n">params</span><span class="w"> </span><span class="n">CaseInfo</span><span class="p">[]</span><span class="w"> </span><span class="n">cases</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">var</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="n">GetType</span><span class="p">();</span>
<span class="w">        </span><span class="n">foreach</span><span class="w"> </span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">entry</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">cases</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">entry</span><span class="o">.</span><span class="n">IsDefault</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">entry</span><span class="o">.</span><span class="n">Target</span><span class="o">.</span><span class="n">IsAssignableFrom</span><span class="p">(</span><span class="n">type</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">entry</span><span class="o">.</span><span class="n">Action</span><span class="p">(</span><span class="n">source</span><span class="p">);</span>
<span class="w">                </span><span class="k">break</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">CaseInfo</span><span class="w"> </span><span class="n">Case</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Action</span><span class="w"> </span><span class="n">action</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">CaseInfo</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">Action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">action</span><span class="p">(),</span>
<span class="w">            </span><span class="n">Target</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">typeof</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>
<span class="w">        </span><span class="p">};</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">CaseInfo</span><span class="w"> </span><span class="n">Case</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Action</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">action</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">CaseInfo</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">Action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">action</span><span class="p">((</span><span class="n">T</span><span class="p">)</span><span class="n">x</span><span class="p">),</span>
<span class="w">            </span><span class="n">Target</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">typeof</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>
<span class="w">        </span><span class="p">};</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">CaseInfo</span><span class="w"> </span><span class="n">Default</span><span class="p">(</span><span class="n">Action</span><span class="w"> </span><span class="n">action</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">CaseInfo</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">Action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">action</span><span class="p">(),</span>
<span class="w">            </span><span class="n">IsDefault</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">true</span>
<span class="w">        </span><span class="p">};</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Switching on types is definitely lacking in C# ( <strong>UPDATE: in C#7 / VS 2017
switching on types is supported - see Zachary Yates's answer</strong> ). In order to
do this without a large if/else if/else statement, you'll need to work with a
different structure. I wrote a blog post awhile back detailing how to build a
TypeSwitch structure.</p>
<p>https://learn.microsoft.com/archive/blogs/jaredpar/switching-on-types</p>
<p>Short version: TypeSwitch is designed to prevent redundant casting and give a
syntax that is similar to a normal switch/case statement. For example, here is
TypeSwitch in action on a standard Windows form event</p>
<div class="code"><pre class="code literal-block"><span class="nv">TypeSwitch</span>.<span class="k">Do</span><span class="ss">(</span>
<span class="w">    </span><span class="nv">sender</span>,
<span class="w">    </span><span class="nv">TypeSwitch</span>.<span class="nv">Case</span><span class="o">&lt;</span><span class="nv">Button</span><span class="o">&gt;</span><span class="ss">(()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nv">textBox1</span>.<span class="nv">Text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Hit a Button"</span><span class="ss">)</span>,
<span class="w">    </span><span class="nv">TypeSwitch</span>.<span class="nv">Case</span><span class="o">&lt;</span><span class="nv">CheckBox</span><span class="o">&gt;</span><span class="ss">(</span><span class="nv">x</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nv">textBox1</span>.<span class="nv">Text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Checkbox is "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">x</span>.<span class="nv">Checked</span><span class="ss">)</span>,
<span class="w">    </span><span class="nv">TypeSwitch</span>.<span class="nv">Default</span><span class="ss">(()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nv">textBox1</span>.<span class="nv">Text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Not sure what is hovered over"</span><span class="ss">))</span><span class="c1">;</span>
</pre></div>

<p>The code for TypeSwitch is actually pretty small and can easily be put into
your project.</p>
<div class="code"><pre class="code literal-block"><span class="k">static</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">TypeSwitch</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">CaseInfo</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">public</span><span class="w"> </span><span class="nb nb-Type">bool</span><span class="w"> </span><span class="n">IsDefault</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">get</span><span class="p">;</span><span class="w"> </span><span class="n">set</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">        </span><span class="n">public</span><span class="w"> </span><span class="n">Type</span><span class="w"> </span><span class="n">Target</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">get</span><span class="p">;</span><span class="w"> </span><span class="n">set</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">        </span><span class="n">public</span><span class="w"> </span><span class="n">Action</span><span class="o">&lt;</span><span class="n">object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">Action</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">get</span><span class="p">;</span><span class="w"> </span><span class="n">set</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="nb nb-Type">void</span><span class="w"> </span><span class="n">Do</span><span class="p">(</span><span class="n">object</span><span class="w"> </span><span class="n">source</span><span class="p">,</span><span class="w"> </span><span class="n">params</span><span class="w"> </span><span class="n">CaseInfo</span><span class="p">[]</span><span class="w"> </span><span class="n">cases</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">var</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="n">GetType</span><span class="p">();</span>
<span class="w">        </span><span class="n">foreach</span><span class="w"> </span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">entry</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">cases</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">entry</span><span class="o">.</span><span class="n">IsDefault</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">entry</span><span class="o">.</span><span class="n">Target</span><span class="o">.</span><span class="n">IsAssignableFrom</span><span class="p">(</span><span class="n">type</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">entry</span><span class="o">.</span><span class="n">Action</span><span class="p">(</span><span class="n">source</span><span class="p">);</span>
<span class="w">                </span><span class="k">break</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">CaseInfo</span><span class="w"> </span><span class="n">Case</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Action</span><span class="w"> </span><span class="n">action</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">CaseInfo</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">Action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">action</span><span class="p">(),</span>
<span class="w">            </span><span class="n">Target</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">typeof</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>
<span class="w">        </span><span class="p">};</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">CaseInfo</span><span class="w"> </span><span class="n">Case</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Action</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">action</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">CaseInfo</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">Action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">action</span><span class="p">((</span><span class="n">T</span><span class="p">)</span><span class="n">x</span><span class="p">),</span>
<span class="w">            </span><span class="n">Target</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">typeof</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>
<span class="w">        </span><span class="p">};</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">CaseInfo</span><span class="w"> </span><span class="n">Default</span><span class="p">(</span><span class="n">Action</span><span class="w"> </span><span class="n">action</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">CaseInfo</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">Action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">action</span><span class="p">(),</span>
<span class="w">            </span><span class="n">IsDefault</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">true</span>
<span class="w">        </span><span class="p">};</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-does-axis-in-pandas-mean/" class="u-url">What does axis in pandas mean?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-does-axis-in-pandas-mean/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T03:15:30+08:00" itemprop="datePublished" title="2023-03-04 03:15">2023-03-04 03:15</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Here is my code to generate a dataframe:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">dff</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="n">columns</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">'AB'</span><span class="p">))</span>
</pre></div>

<p>then I got the dataframe:</p>
<div class="code"><pre class="code literal-block"><span class="nb">+------------+---------+--------+</span>
<span class="c">|            |  A      |  B     |</span>
<span class="nb">+------------+---------+---------</span>
<span class="c">|      0     | 0</span><span class="nt">.</span><span class="c">626386| 1</span><span class="nt">.</span><span class="c">52325|</span>
<span class="nb">+------------+---------+--------+</span>
</pre></div>

<p>When I type the commmand :</p>
<div class="code"><pre class="code literal-block">dff.mean(axis=1)
</pre></div>

<p>I got :</p>
<div class="code"><pre class="code literal-block"><span class="mf">0</span><span class="w">    </span><span class="mf">1.074821</span>
<span class="n">dtype</span><span class="p">:</span><span class="w"> </span><span class="n">float64</span>
</pre></div>

<p>According to the reference of pandas, axis=1 stands for columns and I expect
the result of the command to be</p>
<div class="code"><pre class="code literal-block">A    0.626386
B    1.523255
dtype: float64
</pre></div>

<p>So here is my question: what does axis in pandas mean?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>It specifies the axis <strong>along which</strong> the means are computed. By default
<code>axis=0</code>. This is consistent with the <code>numpy.mean</code> usage when <code>axis</code> is
specified <em>explicitly</em> (in <code>numpy.mean</code>, axis==None by default, which computes
the mean value over the flattened array) , in which <code>axis=0</code> along the <em>rows</em>
(namely, <em>index</em> in pandas), and <code>axis=1</code> along the <em>columns</em>. For added
clarity, one may choose to specify <code>axis='index'</code> (instead of <code>axis=0</code>) or
<code>axis='columns'</code> (instead of <code>axis=1</code>).</p>
<div class="code"><pre class="code literal-block"><span class="nb">+------------+---------+--------+</span>
<span class="c">|            |  A      |  B     |</span>
<span class="nb">+------------+---------+---------</span>
<span class="c">|      0     | 0</span><span class="nt">.</span><span class="c">626386| 1</span><span class="nt">.</span><span class="c">52325|</span><span class="nb">----</span><span class="c">axis=1</span><span class="nb">-----</span><span class="nv">&gt;</span>
<span class="nb">+------------+---------+--------+</span>
<span class="c">             |         |</span>
<span class="c">             | axis=0  |</span>
<span class="c">             ↓         ↓</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>These answers do help explain this, but it still isn't perfectly intuitive for
a non-programmer (i.e. someone like me who is learning Python for the first
time in context of data science coursework). I still find using the terms
"along" or "for each" wrt to rows and columns to be confusing.</p>
<p>What makes more sense to me is to say it this way:</p>
<ul>
<li>Axis 0 will act on all the ROWS in each COLUMN </li>
<li>Axis 1 will act on all the COLUMNS in each ROW</li>
</ul>
<p>So a mean on axis 0 will be the mean of all the rows in each column, and a
mean on axis 1 will be a mean of all the columns in each row.</p>
<p>Ultimately this is saying the same thing as @zhangxaochen and @Michael, but in
a way that is easier for me to internalize.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/set-size-on-background-image-with-css/" class="u-url">Set size on background image with CSS?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/set-size-on-background-image-with-css/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T03:13:46+08:00" itemprop="datePublished" title="2023-03-04 03:13">2023-03-04 03:13</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is it possible to set the size of the background image with CSS?</p>
<p>I want to do something like:</p>
<div class="code"><pre class="code literal-block"><span class="n">background</span><span class="o">:</span><span class="w"> </span><span class="n">url</span><span class="o">(</span><span class="s1">'bg.gif'</span><span class="o">)</span><span class="w"> </span><span class="n">top</span><span class="w"> </span><span class="n">repeat</span><span class="o">-</span><span class="n">y</span><span class="o">;</span>
<span class="n">background</span><span class="o">-</span><span class="n">size</span><span class="o">:</span><span class="w"> </span><span class="mi">490</span><span class="n">px</span><span class="o">;</span>
</pre></div>

<p>But it seems it's totally wrong to do it like that...</p>
<p><br><br></p>
<h2>Answer</h2>
<h2>CSS2</h2>
<p>If you need to make the image bigger, you must edit the image itself in an
image editor.</p>
<p>If you use the img tag, you can change the size, but that would not give you
the desired result if you need the image to be background for some other
content (and it will not repeat itself like you seems to want)...</p>
<h2>CSS3 unleash the powers</h2>
<p>This is possible to do in CSS3 with <code>background-size</code>.</p>
<p>All modern browsers support this, so unless you need to support old browsers,
this is the way to do it.<br><strong>Supported browsers:</strong><br>
Mozilla Firefox 4.0+ (Gecko 2.0+), Microsoft Internet Explorer 9.0+, Opera
10.0+, Safari 4.1+ (webkit 532) and Chrome 3.0+.</p>
<div class="code"><pre class="code literal-block"><span class="na">.stretch</span><span class="p">{</span>
<span class="cm">/* Will stretch to specified width/height */</span>
<span class="w">  </span><span class="nl">background-size:</span><span class="w"> </span><span class="err">200</span><span class="nf">px</span><span class="w"> </span><span class="mi">150</span><span class="no">px</span><span class="c1">;</span>
<span class="err">}</span>
<span class="na">.stretch-content</span><span class="p">{</span>
<span class="cm">/* Will stretch to width/height of element */</span>
<span class="w">  </span><span class="nl">background-size:</span><span class="w"> </span><span class="err">100%</span><span class="w"> </span><span class="err">100%</span><span class="c1">;</span>
<span class="err">}</span>

<span class="na">.resize-width</span><span class="p">{</span>
<span class="cm">/* width: 150px, height: auto to retain aspect ratio */</span>
<span class="w">  </span><span class="nl">background-size:</span><span class="w"> </span><span class="err">150</span><span class="nf">px</span><span class="w"> </span><span class="no">Auto</span><span class="c1">;</span>
<span class="err">}</span>
<span class="na">.resize-height</span><span class="p">{</span>
<span class="cm">/* height: 150px, width: auto to retain aspect ratio */</span>
<span class="w">  </span><span class="nl">background-size:</span><span class="w"> </span><span class="nf">Auto</span><span class="w"> </span><span class="mi">150</span><span class="no">px</span><span class="c1">;</span>
<span class="err">}</span>
<span class="na">.resize-fill-and-clip</span><span class="p">{</span><span class="w"> </span>
<span class="w">  </span><span class="cm">/* Resize to fill and retain aspect ratio.</span>
<span class="cm">     Will cause clipping if aspect ratio of box is different from image. */</span><span class="w"> </span>
<span class="w">  </span><span class="nl">background-size:</span><span class="w"> </span><span class="nf">cover</span><span class="c1">;</span>
<span class="err">}</span>
<span class="na">.resize-best-fit</span><span class="p">{</span>
<span class="cm">/* Resize to best fit and retain aspect ratio.</span>
<span class="cm">   Will cause gap if aspect ratio of box is different from image. */</span><span class="w"> </span>
<span class="w">  </span><span class="nl">background-size:</span><span class="w"> </span><span class="nf">contain</span><span class="c1">;</span>
<span class="err">}</span>
</pre></div>

<p>In particular, I like the <code>cover</code> and <code>contain</code> values that gives us new power
of control that we didn't have before.</p>
<h3>Round</h3>
<p>You can also use <code>background-size: round</code> that have a meaning in combination
with repeat:</p>
<div class="code"><pre class="code literal-block"><span class="na">.resize-best-fit-in-repeat</span><span class="p">{</span>
<span class="cm">/* Resize to best fit in a whole number of times in x-direction */</span><span class="w"> </span>
<span class="w">  </span><span class="nl">background-size:</span><span class="w"> </span><span class="nf">round</span><span class="w"> </span><span class="no">auto</span><span class="c1">; /* Height: auto is to keep aspect ratio */</span>
<span class="w">  </span><span class="nl">background-repeat:</span><span class="w"> </span><span class="na">rep</span><span class="nf">eat</span><span class="c1">;</span>
<span class="err">}</span>
</pre></div>

<p>This will adjust the image width so it fits a whole number of times in the
background positioning area.</p>
<hr>
<p><em>Additional note</em><br>
If the size you need is static pixel size, it is still smart to physically
resize the actual image. This is both to improve quality of the resize (given
that your image software does a better job than the browsers), and to save
bandwidth if the original image is larger than what to display.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Only CSS 3 supports that,</p>
<div class="code"><pre class="code literal-block"><span class="nt">background-size</span><span class="o">:</span><span class="w"> </span><span class="nt">200px</span><span class="w"> </span><span class="nt">50px</span><span class="o">;</span>
</pre></div>

<p>But I would edit the image itself, so that the user needs to load less, and it
might look better than a shrunken image without antialiasing.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2265.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2263.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

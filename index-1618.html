<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1618) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1618.html">
<link rel="prev" href="index-1619.html" type="text/html">
<link rel="next" href="index-1617.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/print-a-list-in-reverse-order-with-range/" class="u-url">Print a list in reverse order with range()?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/print-a-list-in-reverse-order-with-range/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T05:19:56+08:00" itemprop="datePublished" title="2023-03-03 05:19">2023-03-03 05:19</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How can you produce the following list with <code>range()</code> in Python?</p>
<div class="code"><pre class="code literal-block">[9, 8, 7, 6, 5, 4, 3, 2, 1, 0]
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>use <code>reversed()</code> function:</p>
<div class="code"><pre class="code literal-block">reversed(range(10))
</pre></div>

<p>It's much more meaningful.</p>
<p><strong>Update:</strong></p>
<p>If you want it to be a list (as btk pointed out):</p>
<div class="code"><pre class="code literal-block">list(reversed(range(10)))
</pre></div>

<p>Update:</p>
<p>If you want to use only <code>range</code> to achieve the same result, you can use all
its parameters. <code>range(start, stop, step)</code></p>
<p>For example, to generate a list <code>[5,4,3,2,1,0]</code>, you can use the following:</p>
<div class="code"><pre class="code literal-block">range(5, -1, -1)
</pre></div>

<p>It may be less intuitive but as the comments mention, this is more efficient
and the right usage of range for reversed list.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Use the 'range' built-in function. The signature is <code>range(start, stop,
step)</code>. This produces a sequence that yields numbers, starting with <code>start</code>,
and ending if <code>stop</code> has been reached, excluding <code>stop</code>.</p>
<div class="code"><pre class="code literal-block">&gt;&gt;&gt; range(9,-1,-1)
    range(9, -1, -1)
&gt;&gt;&gt; list(range(9,-1,-1))
    [9, 8, 7, 6, 5, 4, 3, 2, 1, 0]
&gt;&gt;&gt; list(range(-2, 6, 2))
    [-2, 0, 2, 4]
</pre></div>

<p>The list constructor converts range (which is a python generator), into a
list.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/error-related-to-only-full-group-by-when-executing-a-query-in-mysql/" class="u-url">Error related to only_full_group_by when executing a query in MySql</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/error-related-to-only-full-group-by-when-executing-a-query-in-mysql/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T05:17:40+08:00" itemprop="datePublished" title="2023-03-03 05:17">2023-03-03 05:17</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have upgraded my system and have installed MySql 5.7.9 with php for a web
application I am working on. I have a query that is dynamically created, and
when run in older versions of MySQL it works fine. Since upgrading to 5.7 I
get this error:</p>
<blockquote>
<p>Expression #1 of SELECT list is not in GROUP BY clause and contains
nonaggregated column 'support_desk.mod_users_groups.group_id' which is not
functionally dependent on columns in GROUP BY clause; this is incompatible
with sql_mode=only_full_group_by</p>
</blockquote>
<p>Note the manual page for Mysql 5.7 on the topic of Server SQL Modes.</p>
<p>This is the query that is giving me trouble:</p>
<div class="code"><pre class="code literal-block"><span class="k">SELECT</span><span class="w"> </span><span class="n">mod_users_groups</span><span class="p">.</span><span class="n">group_id</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s1">'value'</span><span class="p">,</span><span class="w"> </span>
<span class="w">       </span><span class="n">group_name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s1">'text'</span><span class="w"> </span>
<span class="k">FROM</span><span class="w"> </span><span class="n">mod_users_groups</span>
<span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">mod_users_data</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">mod_users_groups</span><span class="p">.</span><span class="n">group_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mod_users_data</span><span class="p">.</span><span class="n">group_id</span><span class="w"> </span>
<span class="k">WHERE</span><span class="w">  </span><span class="n">mod_users_groups</span><span class="p">.</span><span class="k">active</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span>
<span class="w">  </span><span class="k">AND</span><span class="w"> </span><span class="n">mod_users_groups</span><span class="p">.</span><span class="n">department_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span>
<span class="w">  </span><span class="k">AND</span><span class="w"> </span><span class="n">mod_users_groups</span><span class="p">.</span><span class="n">manage_work_orders</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span>
<span class="w">  </span><span class="k">AND</span><span class="w"> </span><span class="n">group_name</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s1">'root'</span><span class="w"> </span>
<span class="w">  </span><span class="k">AND</span><span class="w"> </span><span class="n">group_name</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s1">'superuser'</span><span class="w"> </span>
<span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">group_name</span><span class="w"> </span>
<span class="k">HAVING</span><span class="w"> </span><span class="nf">COUNT</span><span class="p">(</span><span class="n n-Quoted">`user_id`</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span>
<span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">group_name</span>
</pre></div>

<p>I don't understand <code>only_full_group_by</code> enough to figure out what I need to do
to fix the query. Can I just turn off the <code>only_full_group_by</code> option, or is
there something else I need to do?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>I would just add <code>group_id</code> to the <code>GROUP BY</code>.</p>
<p>When <code>SELECT</code>ing a column that is not part of the <code>GROUP BY</code> there could be
multiple values for that column within the groups, but there will only be
space for a single value in the results. So, the database <em>usually</em> needs to
be told exactly how to make those multiple values into one value. Commonly,
this is done with an aggregate function like <code>COUNT()</code>, <code>SUM()</code>, <code>MAX()</code>
etc... I say <em>usually</em> because most other popular database systems insist on
this. However, in MySQL prior to version 5.7 the default behaviour has been
more forgiving because it will not complain and then arbitrarily choose <em>any
value</em>! It also has an <code>ANY_VALUE()</code> function that could be used as another
solution to this question if you really needed the same behaviour as before.
This flexibility comes at a cost because it is non-deterministic, so I would
not recommend it unless you have a very good reason for needing it. MySQL are
now turning on the <code>only_full_group_by</code> setting by default for good reasons,
so it's best to get used to it and make your queries comply with it.</p>
<p>So why my simple answer above? I've made a couple of assumptions:</p>
<p>1) the <code>group_id</code> is unique. Seems reasonable, it is an 'ID' after all.</p>
<p>2) the <code>group_name</code> is also unique. This may not be such a reasonable
assumption. If this is not the case and you have some duplicate <code>group_names</code>
and you then follow my advice to add <code>group_id</code> to the <code>GROUP BY</code>, you may
find that you now get more results than before because the groups with the
same name will now have separate rows in the results. To me, this would be
better than having these duplicate groups hidden because the database has
quietly selected a value arbitrarily!</p>
<p>It's also good practice to qualify all the columns with their table name or
alias when there's more than one table involved...</p>
<div class="code"><pre class="code literal-block">SELECT 
  g.group_id AS 'value', 
  g.group_name AS 'text' 
FROM mod_users_groups g
LEFT JOIN mod_users_data d ON g.group_id = d.group_id 
WHERE g.active = 1 
  AND g.department_id = 1 
  AND g.manage_work_orders = 1 
  AND g.group_name != 'root' 
  AND g.group_name != 'superuser' 
GROUP BY 
  g.group_name, 
  g.group_id 
HAVING COUNT(d.user_id) &gt; 0 
ORDER BY g.group_name
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>You can try to disable the <code>only_full_group_by</code> setting by executing the
following:</p>
<div class="code"><pre class="code literal-block">mysql&gt; set global sql_mode='STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION';
mysql&gt; set session sql_mode='STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION';
</pre></div>

<p>MySQL 8 does not accept <code>NO_AUTO_CREATE_USER</code> so that needs to be removed.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-develop-or-migrate-apps-for-iphone-5-screen-resolution/" class="u-url">How to develop or migrate apps for iPhone 5 screen resolution?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-develop-or-migrate-apps-for-iphone-5-screen-resolution/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T05:17:08+08:00" itemprop="datePublished" title="2023-03-03 05:17">2023-03-03 05:17</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>The new iPhone 5 display has a new aspect ratio and a new resolution (640 x
1136 pixels).</p>
<p>What is required to develop new or transition already existing applications to
the new screen size?</p>
<p>What should we keep in mind to make applications "universal" for both the
older displays and the new widescreen aspect ratio?</p>
<p><br><br></p>
<h2>Answer</h2>
<ol>
<li>Download and install latest version of Xcode.</li>
<li>Set a Launch Screen File for your app (in the general tab of your target settings). This is how you get to use the full size of any screen, including iPad split view sizes in iOS 9.</li>
<li>Test your app, and hopefully do nothing else, since everything should work magically if you had set auto resizing masks properly, or used Auto Layout.</li>
<li>If you didn't, adjust your view layouts, preferably with Auto Layout.</li>
<li>If there is something you have to do for the larger screens specifically, then it looks like you have to check height of <code>[[UIScreen mainScreen] bounds]</code> as there seems to be no specific API for that. As of iOS 8 there are also size classes that abstract screen sizes into regular or compact vertically and horizontally and are recommended way to adapt your UI.</li>
</ol>
<p><br></p>
<h3>Suggest</h3>
<p><strong>If you have an app built for iPhone 4S or earlier, it'll run letterboxed on
iPhone 5.</strong></p>
<p>To adapt your app to the new taller screen, the first thing you do is to
change the launch image to: Default-568h@2x.png. Its size should be 1136x640
(HxW). <em>Yep, having the default image in the new screen size is the key to let
your app take the whole of new iPhone 5's screen</em>.</p>
<p><em>(Note that the naming convention works only for the default image. Naming
another image "Image-568h@2x.png" will not cause it to be loaded in place of
"Image@2x.png". If you need to load different images for different screen
sizes, you'll have to do it programmatically.)</em></p>
<p>If you're very very lucky, that might be it... but in all likelihood, <strong>you'll
have to take a few more steps.</strong></p>
<ul>
<li>Make sure, your Xibs/Views use auto-layout to resize themselves.</li>
<li>Use springs and struts to resize views.</li>
<li>If this is not good enough for your app, design your xib/storyboard for one specific screen size and reposition programmatically for the other.</li>
</ul>
<p>In the extreme case (when none of the above suffices), design the two Xibs and
load the appropriate one in the view controller.</p>
<p>To detect screen size:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="p">(</span><span class="n">UI_USER_INTERFACE_IDIOM</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">UIUserInterfaceIdiomPhone</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">CGSize</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="bp">UIScreen</span><span class="w"> </span><span class="n">mainScreen</span><span class="p">]</span><span class="w"> </span><span class="n">bounds</span><span class="p">].</span><span class="n">size</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">height</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">480</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// iPhone Classic</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">height</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">568</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// iPhone 5</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1619.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1617.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

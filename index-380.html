<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 380) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-380.html">
<link rel="prev" href="index-381.html" type="text/html">
<link rel="next" href="index-379.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/is-there-a-regular-expression-to-detect-a-valid-regular-expression/" class="u-url">Is there a regular expression to detect a valid regular expression?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/is-there-a-regular-expression-to-detect-a-valid-regular-expression/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T05:22:34+08:00" itemprop="datePublished" title="2023-02-17 05:22">2023-02-17 05:22</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is it possible to detect a valid regular expression with another regular
expression? If so please give example code below.</p>
<p><br><br></p>
<h2>Answer</h2>
<div class="code"><pre class="code literal-block"><span class="o">/</span>
<span class="o">^</span><span class="w">                                             </span><span class="o">#</span><span class="w"> </span><span class="nv">start</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nf">string</span>
<span class="p">(</span><span class="w">                                             </span><span class="o">#</span><span class="w"> </span><span class="nv">first</span><span class="w"> </span><span class="nv">group</span><span class="w"> </span><span class="nf">start</span>
<span class="w">  </span><span class="p">(</span>?<span class="o">:</span>
<span class="w">    </span><span class="p">(</span>?<span class="o">:</span><span class="p">[</span><span class="o">^</span>?<span class="o">+*</span><span class="p">{}()[</span>\<span class="p">]</span>\\<span class="o">|</span><span class="p">]</span><span class="o">+</span><span class="w">                      </span><span class="o">#</span><span class="w"> </span><span class="nv">literals</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="o">^</span><span class="p">,</span><span class="w"> </span><span class="p">$</span>
<span class="w">     </span><span class="o">|</span><span class="w"> </span>\\<span class="o">.</span><span class="w">                                    </span><span class="o">#</span><span class="w"> </span><span class="nv">escaped</span><span class="w"> </span><span class="nv">characters</span>
<span class="w">     </span><span class="o">|</span><span class="w"> </span>\<span class="p">[</span><span class="w"> </span><span class="p">(</span>?<span class="o">:</span><span class="w"> </span>\<span class="o">^</span>?\\<span class="o">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span>\<span class="o">^</span><span class="p">[</span><span class="o">^</span>\\<span class="p">]</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">[</span><span class="o">^</span>\\<span class="o">^</span><span class="p">]</span><span class="w"> </span><span class="p">)</span><span class="w">     </span><span class="o">#</span><span class="w"> </span><span class="nv">character</span><span class="w"> </span><span class="nf">classes</span>
<span class="w">          </span><span class="p">(</span>?<span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="o">^</span>\<span class="p">]</span>\\<span class="p">]</span><span class="o">+</span><span class="w"> </span><span class="o">|</span><span class="w"> </span>\\<span class="o">.</span><span class="w"> </span><span class="p">)</span><span class="o">*</span><span class="w"> </span>\<span class="p">]</span>
<span class="w">     </span><span class="o">|</span><span class="w"> </span>\<span class="p">(</span><span class="w"> </span><span class="p">(</span>?<span class="o">:</span>\?<span class="p">[</span><span class="o">:=!</span><span class="p">]</span><span class="o">|</span>\?<span class="o">&lt;</span><span class="p">[</span><span class="o">=!</span><span class="p">]</span><span class="o">|</span>\?<span class="o">&gt;</span><span class="p">)</span>?<span class="w"> </span><span class="p">(</span>?<span class="mi">1</span><span class="p">)</span>??<span class="w"> </span>\<span class="p">)</span><span class="w">  </span><span class="o">#</span><span class="w"> </span><span class="nv">parenthesis</span><span class="p">,</span><span class="w"> </span><span class="nv">with</span><span class="w"> </span><span class="nv">recursive</span><span class="w"> </span><span class="nv">content</span>
<span class="w">     </span><span class="o">|</span><span class="w"> </span>\<span class="p">(</span>\?<span class="w"> </span><span class="p">(</span>?<span class="o">:</span><span class="nv">R</span><span class="o">|</span><span class="p">[</span><span class="o">+-</span><span class="p">]</span>?\<span class="nv">d</span><span class="o">+</span><span class="p">)</span><span class="w"> </span>\<span class="p">)</span><span class="w">                 </span><span class="o">#</span><span class="w"> </span><span class="nv">recursive</span><span class="w"> </span><span class="nv">matching</span>
<span class="w">     </span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span>?<span class="o">:</span><span class="w"> </span><span class="p">(</span>?<span class="o">:</span><span class="p">[</span>?<span class="o">+*</span><span class="p">]</span><span class="o">|</span>\<span class="p">{</span>\<span class="nv">d</span><span class="o">+</span><span class="p">(</span>?<span class="o">:</span><span class="p">,</span>\<span class="nv">d</span><span class="o">*</span><span class="p">)</span>?\<span class="p">})</span><span class="w"> </span><span class="p">[</span>?<span class="o">+</span><span class="p">]</span>?<span class="w"> </span><span class="p">)</span>?<span class="w">   </span><span class="o">#</span><span class="w"> </span><span class="nv">quantifiers</span>
<span class="w">  </span><span class="o">|</span><span class="w"> </span>\<span class="o">|</span><span class="w">                                        </span><span class="o">#</span><span class="w"> </span><span class="nv">alternative</span>
<span class="w">  </span><span class="p">)</span><span class="o">*</span><span class="w">                                          </span><span class="o">#</span><span class="w"> </span><span class="k">repeat</span><span class="w"> </span><span class="nv">content</span>
<span class="p">)</span><span class="w">                                             </span><span class="o">#</span><span class="w"> </span><span class="nv">end</span><span class="w"> </span><span class="nv">first</span><span class="w"> </span><span class="nv">group</span>
<span class="p">$</span><span class="w">                                             </span><span class="o">#</span><span class="w"> </span><span class="nv">end</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">string</span>
<span class="o">/</span>
</pre></div>

<p>This is a recursive regex, and is not supported by many regex engines. PCRE
based ones should support it.</p>
<p>Without whitespace and comments:</p>
<div class="code"><pre class="code literal-block"><span class="o">/^</span><span class="p">((</span>?<span class="o">:</span><span class="p">(</span>?<span class="o">:</span><span class="p">[</span><span class="o">^</span>?<span class="o">+*</span><span class="p">{}()[</span>\<span class="p">]</span>\\<span class="o">|</span><span class="p">]</span><span class="o">+|</span>\\<span class="o">.|</span>\<span class="p">[(</span>?<span class="o">:</span>\<span class="o">^</span>?\\<span class="o">.|</span>\<span class="o">^</span><span class="p">[</span><span class="o">^</span>\\<span class="p">]</span><span class="o">|</span><span class="p">[</span><span class="o">^</span>\\<span class="o">^</span><span class="p">])(</span>?<span class="o">:</span><span class="p">[</span><span class="o">^</span>\<span class="p">]</span>\\<span class="p">]</span><span class="o">+|</span>\\<span class="o">.</span><span class="p">)</span><span class="o">*</span>\<span class="p">]</span><span class="o">|</span>\<span class="p">((</span>?<span class="o">:</span>\?<span class="p">[</span><span class="o">:=!</span><span class="p">]</span><span class="o">|</span>\?<span class="o">&lt;</span><span class="p">[</span><span class="o">=!</span><span class="p">]</span><span class="o">|</span>\?<span class="o">&gt;</span><span class="p">)</span>?<span class="p">(</span>?<span class="mi">1</span><span class="p">)</span>??\<span class="p">)</span><span class="o">|</span>\<span class="p">(</span>\?<span class="p">(</span>?<span class="o">:</span><span class="nv">R</span><span class="o">|</span><span class="p">[</span><span class="o">+-</span><span class="p">]</span>?\<span class="nv">d</span><span class="o">+</span><span class="p">)</span>\<span class="p">))(</span>?<span class="o">:</span><span class="p">(</span>?<span class="o">:</span><span class="p">[</span>?<span class="o">+*</span><span class="p">]</span><span class="o">|</span>\<span class="p">{</span>\<span class="nv">d</span><span class="o">+</span><span class="p">(</span>?<span class="o">:</span><span class="p">,</span>\<span class="nv">d</span><span class="o">*</span><span class="p">)</span>?\<span class="p">})[</span>?<span class="o">+</span><span class="p">]</span>?<span class="p">)</span>?<span class="o">|</span>\<span class="o">|</span><span class="p">)</span><span class="o">*</span><span class="p">)$</span><span class="o">/</span>
</pre></div>

<hr>
<p>.NET does not support recursion directly. (The <code>(?1)</code> and <code>(?R)</code> constructs.)
The recursion would have to be converted to counting balanced groups:</p>
<div class="code"><pre class="code literal-block"><span class="o">^</span><span class="w">                                         </span><span class="o">#</span><span class="w"> </span><span class="nv">start</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nf">string</span>
<span class="p">(</span>?<span class="o">:</span>
<span class="w">  </span><span class="p">(</span>?<span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="o">^</span>?<span class="o">+*</span><span class="p">{}()[</span>\<span class="p">]</span>\\<span class="o">|</span><span class="p">]</span><span class="o">+</span><span class="w">                   </span><span class="o">#</span><span class="w"> </span><span class="nv">literals</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="o">^</span><span class="p">,</span><span class="w"> </span><span class="p">$</span>
<span class="w">   </span><span class="o">|</span><span class="w"> </span>\\<span class="o">.</span><span class="w">                                  </span><span class="o">#</span><span class="w"> </span><span class="nv">escaped</span><span class="w"> </span><span class="nv">characters</span>
<span class="w">   </span><span class="o">|</span><span class="w"> </span>\<span class="p">[</span><span class="w"> </span><span class="p">(</span>?<span class="o">:</span><span class="w"> </span>\<span class="o">^</span>?\\<span class="o">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span>\<span class="o">^</span><span class="p">[</span><span class="o">^</span>\\<span class="p">]</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">[</span><span class="o">^</span>\\<span class="o">^</span><span class="p">]</span><span class="w"> </span><span class="p">)</span><span class="w">   </span><span class="o">#</span><span class="w"> </span><span class="nv">character</span><span class="w"> </span><span class="nf">classes</span>
<span class="w">        </span><span class="p">(</span>?<span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="o">^</span>\<span class="p">]</span>\\<span class="p">]</span><span class="o">+</span><span class="w"> </span><span class="o">|</span><span class="w"> </span>\\<span class="o">.</span><span class="w"> </span><span class="p">)</span><span class="o">*</span><span class="w"> </span>\<span class="p">]</span>
<span class="w">   </span><span class="o">|</span><span class="w"> </span>\<span class="p">(</span><span class="w"> </span><span class="p">(</span>?<span class="o">:</span>\?<span class="p">[</span><span class="o">:=!</span><span class="p">]</span>
<span class="w">         </span><span class="o">|</span><span class="w"> </span>\?<span class="o">&lt;</span><span class="p">[</span><span class="o">=!</span><span class="p">]</span>
<span class="w">         </span><span class="o">|</span><span class="w"> </span>\?<span class="o">&gt;</span>
<span class="w">         </span><span class="o">|</span><span class="w"> </span>\?<span class="o">&lt;</span><span class="p">[</span><span class="o">^</span>\<span class="nv">W</span>\<span class="nv">d</span><span class="p">]</span>\<span class="nv">w</span><span class="o">*&gt;</span>
<span class="w">         </span><span class="o">|</span><span class="w"> </span>\?<span class="o">'</span><span class="p">[</span><span class="o">^</span>\<span class="nv">W</span>\<span class="nv">d</span><span class="p">]</span>\<span class="nv">w</span><span class="o">*'</span>
<span class="w">         </span><span class="p">)</span>?<span class="w">                               </span><span class="o">#</span><span class="w"> </span><span class="nv">opening</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nf">group</span>
<span class="w">     </span><span class="p">(</span>?<span class="o">&lt;</span><span class="nv">N</span><span class="o">&gt;</span><span class="p">)</span><span class="w">                               </span><span class="o">#</span><span class="w">   </span><span class="nv">increment</span><span class="w"> </span><span class="nv">counter</span>
<span class="w">   </span><span class="o">|</span><span class="w"> </span>\<span class="p">)</span><span class="w">                                   </span><span class="o">#</span><span class="w"> </span><span class="nv">closing</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nf">group</span>
<span class="w">     </span><span class="p">(</span>?<span class="o">&lt;-</span><span class="nv">N</span><span class="o">&gt;</span><span class="p">)</span><span class="w">                              </span><span class="o">#</span><span class="w">   </span><span class="nv">decrement</span><span class="w"> </span><span class="nv">counter</span>
<span class="w">   </span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span>?<span class="o">:</span><span class="w"> </span><span class="p">(</span>?<span class="o">:</span><span class="p">[</span>?<span class="o">+*</span><span class="p">]</span><span class="o">|</span>\<span class="p">{</span>\<span class="nv">d</span><span class="o">+</span><span class="p">(</span>?<span class="o">:</span><span class="p">,</span>\<span class="nv">d</span><span class="o">*</span><span class="p">)</span>?\<span class="p">})</span><span class="w"> </span><span class="p">[</span>?<span class="o">+</span><span class="p">]</span>?<span class="w"> </span><span class="p">)</span>?<span class="w"> </span><span class="o">#</span><span class="w"> </span><span class="nv">quantifiers</span>
<span class="o">|</span><span class="w"> </span>\<span class="o">|</span><span class="w">                                      </span><span class="o">#</span><span class="w"> </span><span class="nv">alternative</span>
<span class="p">)</span><span class="o">*</span><span class="w">                                        </span><span class="o">#</span><span class="w"> </span><span class="k">repeat</span><span class="w"> </span><span class="nv">content</span>
<span class="p">$</span><span class="w">                                         </span><span class="o">#</span><span class="w"> </span><span class="nv">end</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nf">string</span>
<span class="p">(</span>?<span class="p">(</span><span class="nv">N</span><span class="p">)(</span>?<span class="o">!</span><span class="p">))</span><span class="w">                                </span><span class="o">#</span><span class="w"> </span><span class="nv">fail</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">counter</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">non</span><span class="o">-</span><span class="nv">zero</span><span class="o">.</span>
</pre></div>

<p>Compacted:</p>
<div class="code"><pre class="code literal-block"><span class="o">^</span><span class="p">(</span>?<span class="o">:</span><span class="p">(</span>?<span class="o">:</span><span class="p">[</span><span class="o">^</span>?<span class="o">+*</span><span class="p">{}()[</span>\<span class="p">]</span>\\<span class="o">|</span><span class="p">]</span><span class="o">+|</span>\\<span class="o">.|</span>\<span class="p">[(</span>?<span class="o">:</span>\<span class="o">^</span>?\\<span class="o">.|</span>\<span class="o">^</span><span class="p">[</span><span class="o">^</span>\\<span class="p">]</span><span class="o">|</span><span class="p">[</span><span class="o">^</span>\\<span class="o">^</span><span class="p">])(</span>?<span class="o">:</span><span class="p">[</span><span class="o">^</span>\<span class="p">]</span>\\<span class="p">]</span><span class="o">+|</span>\\<span class="o">.</span><span class="p">)</span><span class="o">*</span>\<span class="p">]</span><span class="o">|</span>\<span class="p">((</span>?<span class="o">:</span>\?<span class="p">[</span><span class="o">:=!</span><span class="p">]</span><span class="o">|</span>\?<span class="o">&lt;</span><span class="p">[</span><span class="o">=!</span><span class="p">]</span><span class="o">|</span>\?<span class="o">&gt;|</span>\?<span class="o">&lt;</span><span class="p">[</span><span class="o">^</span>\<span class="nv">W</span>\<span class="nv">d</span><span class="p">]</span>\<span class="nv">w</span><span class="o">*&gt;|</span>\?<span class="o">'</span><span class="p">[</span><span class="o">^</span>\<span class="nv">W</span>\<span class="nv">d</span><span class="p">]</span>\<span class="nv">w</span><span class="o">*'</span><span class="p">)</span>?<span class="p">(</span>?<span class="o">&lt;</span><span class="nv">N</span><span class="o">&gt;</span><span class="p">)</span><span class="o">|</span>\<span class="p">)(</span>?<span class="o">&lt;-</span><span class="nv">N</span><span class="o">&gt;</span><span class="p">))(</span>?<span class="o">:</span><span class="p">(</span>?<span class="o">:</span><span class="p">[</span>?<span class="o">+*</span><span class="p">]</span><span class="o">|</span>\<span class="p">{</span>\<span class="nv">d</span><span class="o">+</span><span class="p">(</span>?<span class="o">:</span><span class="p">,</span>\<span class="nv">d</span><span class="o">*</span><span class="p">)</span>?\<span class="p">})[</span>?<span class="o">+</span><span class="p">]</span>?<span class="p">)</span>?<span class="o">|</span>\<span class="o">|</span><span class="p">)</span><span class="o">*</span><span class="p">$(</span>?<span class="p">(</span><span class="nv">N</span><span class="p">)(</span>?<span class="o">!</span><span class="p">))</span>
</pre></div>

<p>From the comments:</p>
<blockquote>
<p>Will this validate substitutions and translations?</p>
</blockquote>
<p>It will validate just the regex part of substitutions and translations.
<code>s/&lt;this part&gt;/.../</code></p>
<blockquote>
<p>It is not theoretically possible to match all valid regex grammars with a
regex.</p>
</blockquote>
<p>It is possible if the regex engine supports recursion, such as PCRE, but that
can't really be called regular expressions any more.</p>
<blockquote>
<p>Indeed, a "recursive regular expression" is not a regular expression. But
this an often-accepted extension to regex engines... Ironically, this
extended regex doesn't match extended regexes.</p>
</blockquote>
<p>"In theory, theory and practice are the same. In practice, they're not."
Almost everyone who knows regular expressions knows that regular expressions
does not support recursion. But PCRE and most other implementations support
much more than basic regular expressions.</p>
<blockquote>
<p>using this with shell script in the grep command , it shows me some error..
grep: Invalid content of {} . I am making a script that could grep a code
base to find all the files that contain regular expressions</p>
</blockquote>
<p>This pattern exploits an extension called recursive regular expressions. This
is not supported by the POSIX flavor of regex. You could try with the -P
switch, to enable the PCRE regex flavor.</p>
<blockquote>
<p>Regex itself "is not a regular language and hence cannot be parsed by
regular expression..."</p>
</blockquote>
<p>This is true for classical regular expressions. Some modern implementations
allow recursion, which makes it into a Context Free language, although it is
somewhat verbose for this task.</p>
<blockquote>
<p>I see where you're matching <code>[]()/\</code>. and other special regex characters.
Where are you allowing non-special characters? It seems like this will match
<code>^(?:[\.]+)$</code>, but not <code>^abcdefg$</code>. That's a valid regex.</p>
</blockquote>
<p><code>[^?+*{}()[\]\\|]</code> will match any single character, not part of any of the
other constructs. This includes both literal (<code>a</code> - <code>z</code>), and certain special
characters (<code>^</code>, <code>$</code>, <code>.</code>).</p>
<p><br></p>
<h3>Suggest</h3>
<p>Unlikely.</p>
<p>Evaluate it in a <code>try..catch</code> or whatever your language provides.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-s-the-difference-between-openid-and-oauth/" class="u-url">What's the difference between OpenID and OAuth?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-s-the-difference-between-openid-and-oauth/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T05:22:07+08:00" itemprop="datePublished" title="2023-02-17 05:22">2023-02-17 05:22</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm really trying to understand the difference between OpenID and OAuth? Maybe
they're two totally separate things?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>OpenID is about authentication (ie. proving who you are), OAuth is about
authorisation (ie. to grant access to functionality/data/etc.. without having
to deal with the original authentication).</p>
<p>OAuth could be used in external partner sites to allow access to protected
data without them having to re-authenticate a user.</p>
<p>The blog post "OpenID versus OAuth from the user’s perspective" has a simple
comparison of the two from the user's perspective and "OAuth-OpenID: You’re
Barking Up the Wrong Tree if you Think They’re the Same Thing" has more
information about it.</p>
<p><br></p>
<h3>Suggest</h3>
<p>There are three ways to compare OAuth and OpenID:</p>
<p><strong>1. Purposes</strong></p>
<p><strong>OpenID was created for federated authentication, that is, letting a third-
party authenticate your users for you, by using accounts they already have</strong>.
The term federated is critical here because the whole point of OpenID is that
any provider can be used (with the exception of white-lists). You don't need
to pre-choose or negotiate a deal with the providers to allow users to use any
other account they have.</p>
<p><strong>OAuth was created to remove the need for users to share their passwords with
third-party applications</strong>. It actually started as a way to solve an OpenID
problem: if you support OpenID on your site, you can't use HTTP Basic
credentials (username and password) to provide an API because the users don't
have a password on your site.</p>
<p>The problem is with this separation of OpenID for authentication and OAuth for
authorization is that both protocols can accomplish many of the same things.
They each provide a different set of features which are desired by different
implementations but essentially, they are pretty interchangeable. At their
core, both protocols are an assertion verification method (OpenID is limited
to the 'this is who I am' assertion, while OAuth provides an 'access token'
that can be exchanged for any supported assertion via an API).</p>
<p><strong>2. Features</strong></p>
<p>Both protocols provide a way for a site to redirect a user somewhere else and
come back with a verifiable assertion. <em><strong>OpenID provides an identity
assertion while OAuth is more generic in the form of an access token which can
then be used to "ask the OAuth provider questions"</strong></em>. However, they each
support different features:</p>
<p><strong>OpenID</strong> - the most important feature of OpenID is its discovery process.
OpenID does not require hard coding each the providers you want to use ahead
of time. Using discovery, the user can choose any third-party provider they
want to authenticate. This discovery feature has also caused most of OpenID's
problems because the way it is implemented is by using HTTP URIs as
identifiers which most web users just don't get. Other features OpenID has is
its support for ad-hoc client registration using a DH exchange, immediate mode
for optimized end-user experience, and a way to verify assertions without
making another round-trip to the provider.</p>
<p><strong>OAuth</strong> - the most important feature of OAuth is the access token which
provides a long lasting method of making additional requests. Unlike OpenID,
OAuth does not end with authentication but provides an access token to gain
access to additional resources provided by the same third-party service.
However, since OAuth does not support discovery, it requires pre-selecting and
hard-coding the providers you decide to use. A user visiting your site cannot
use any identifier, only those pre-selected by you. Also, OAuth does not have
a concept of identity so using it for login means either adding a custom
parameter (as done by Twitter) or making another API call to get the currently
"logged in" user.</p>
<p><strong>3. Technical Implementations</strong></p>
<p>The two protocols share a common architecture in using redirection to obtain
user authorization. In OAuth the user authorizes access to their protected
resources and in OpenID, to their identity. But that's all they share.</p>
<p>Each protocol has a different way of calculating a signature used to verify
the authenticity of the request or response, and each has different
registration requirements.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-s-the-difference-between-lists-and-tuples/" class="u-url">What's the difference between lists and tuples?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-s-the-difference-between-lists-and-tuples/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T05:21:38+08:00" itemprop="datePublished" title="2023-02-17 05:21">2023-02-17 05:21</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What's the difference between tuples/lists and what are their
advantages/disadvantages?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Apart from tuples being immutable there is also a semantic distinction that
should guide their usage. Tuples are heterogeneous data structures (i.e.,
their entries have different meanings), while lists are homogeneous sequences.
<strong>Tuples have structure, lists have order.</strong></p>
<p>Using this distinction makes code more explicit and understandable.</p>
<p>One example would be pairs of page and line number to reference locations in a
book, e.g.:</p>
<div class="code"><pre class="code literal-block">my_location = (42, 11)  # page number, line number
</pre></div>

<p>You can then use this as a key in a dictionary to store notes on locations. A
list on the other hand could be used to store multiple locations. Naturally
one might want to add or remove locations from the list, so it makes sense
that lists are mutable. On the other hand it doesn't make sense to add or
remove items from an existing location - hence tuples are immutable.</p>
<p>There might be situations where you want to change items within an existing
location tuple, for example when iterating through the lines of a page. But
tuple immutability forces you to create a new location tuple for each new
value. This seems inconvenient on the face of it, but using immutable data
like this is a cornerstone of value types and functional programming
techniques, which can have substantial advantages.</p>
<p>There are some interesting articles on this issue, e.g. "Python Tuples are Not
Just Constant Lists" or "Understanding tuples vs. lists in Python". The
official Python documentation also mentions this</p>
<blockquote>
<p>"Tuples are immutable, and usually contain an heterogeneous sequence ...".</p>
</blockquote>
<p>In a statically typed language like <em>Haskell</em> the values in a tuple generally
have different types and the length of the tuple must be fixed. In a list the
values all have the same type and the length is not fixed. So the difference
is very obvious.</p>
<p>Finally there is the namedtuple in Python, which makes sense because a tuple
is already supposed to have structure. This underlines the idea that tuples
are a light-weight alternative to classes and instances.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Difference between list and tuple</p>
<ol>
<li>
<p><strong>Literal</strong></p>
<div class="code"><pre class="code literal-block">someTuple = (1,2)
</pre></div>

<p>someList  = [1,2] </p>
</li>
<li>
<p><strong>Size</strong></p>
<div class="code"><pre class="code literal-block">a = tuple(range(1000))
</pre></div>

<p>b = list(range(1000))</p>
<p>a.<strong>sizeof</strong>() # 8024
b.<strong>sizeof</strong>() # 9088</p>
</li>
</ol>
<p>Due to the smaller size of a tuple operation, it becomes a bit faster, but not
that much to mention about until you have a huge number of elements.</p>
<ol>
<li>
<p><strong>Permitted operations</strong></p>
<div class="code"><pre class="code literal-block">b    = [1,2]
</pre></div>

<p>b[0] = 3       # [3, 2]</p>
<p>a    = (1,2)
a[0] = 3       # Error</p>
</li>
</ol>
<p>That also means that you can't delete an element or sort a tuple. However, you
could add a new element to both list and tuple with the only difference that
since the tuple is immutable, you are not <em>really</em> adding an element but you
are creating a new tuple, so the id of will change</p>
<div class="code"><pre class="code literal-block">    a     = (1,2)
b     = [1,2]

id(a)          # 140230916716520
id(b)          # 748527696

a   += (3,)    # (1, 2, 3)
b   += [3]     # [1, 2, 3]

id(a)          # 140230916878160
id(b)          # 748527696
</pre></div>

<ol>
<li><strong>Usage</strong></li>
</ol>
<p>As a list is mutable, it can't be used as a key in a dictionary, whereas a
tuple can be used.</p>
<div class="code"><pre class="code literal-block">    a    = (1,2)
b    = [1,2]

c = {a: 1}     # OK
c = {b: 1}     # Error
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-381.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-379.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

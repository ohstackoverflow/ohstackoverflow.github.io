<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2239) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2239.html">
<link rel="prev" href="index-2240.html" type="text/html">
<link rel="next" href="index-2238.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/adding-parameter-to-ng-click-function-inside-ng-repeat-doesn-t-seem-to-work/" class="u-url">Adding parameter to ng-click function inside ng-repeat doesn't seem to work</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/adding-parameter-to-ng-click-function-inside-ng-repeat-doesn-t-seem-to-work/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T01:31:50+08:00" itemprop="datePublished" title="2023-03-04 01:31">2023-03-04 01:31</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a simple loop with <code>ng-repeat</code> like this:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;li</span><span class="w"> </span><span class="na">ng-repeat=</span><span class="s">'task in tasks'</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;p&gt;</span><span class="w"> </span><span class="cp">{{</span><span class="nv">task.name</span><span class="cp">}}</span>
<span class="w">  </span><span class="nt">&lt;button</span><span class="w"> </span><span class="na">ng-click=</span><span class="s">"removeTask(</span><span class="cp">{{</span><span class="nv">task.id</span><span class="cp">}}</span><span class="s">)"</span><span class="nt">&gt;</span>remove<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;/li&gt;</span>
</pre></div>

<p>There is a function in the controller <code>$scope.removeTask(taskID)</code>.</p>
<p>As far as I know Angular will first render the view and replace interpolated
<code>{{task.id}}</code> with a number, and then, on click event, will evaluate <code>ng-
click</code> string.</p>
<p>In this case <code>ng-click</code> gets totally what is expected, ie: <code>ng-
click="removeTask(5)".</code> However... it's not doing anything.</p>
<p>Of course I can write a code to get <code>task.id</code> from the <code>$tasks</code> array or even
the DOM, but this does not seem like the Angular way.</p>
<p>So, how can one add dynamic content to <code>ng-click</code> directive inside a <code>ng-
repeat</code> loop?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Instead of</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;button</span><span class="w"> </span><span class="na">ng-click=</span><span class="s">"removeTask(</span><span class="cp">{{</span><span class="nv">task.id</span><span class="cp">}}</span><span class="s">)"</span><span class="nt">&gt;</span>remove<span class="nt">&lt;/button&gt;</span>
</pre></div>

<p>do this:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;button</span><span class="w"> </span><span class="na">ng-click=</span><span class="s">"removeTask(task.id)"</span><span class="nt">&gt;</span>remove<span class="nt">&lt;/button&gt;</span>
</pre></div>

<p>Please see this fiddle:</p>
<p>http://jsfiddle.net/JSWorld/Hp4W7/34/</p>
<p><br></p>
<h3>Suggest</h3>
<p>One thing that really hung me up, was when I inspected this html in the
browser, instead of seeing it expanded to something like:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;button</span><span class="w"> </span><span class="na">ng-click=</span><span class="s">"removeTask(1234)"</span><span class="nt">&gt;</span>remove<span class="nt">&lt;/button&gt;</span>
</pre></div>

<p>I saw:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;button</span><span class="w"> </span><span class="na">ng-click=</span><span class="s">"removeTask(task.id)"</span><span class="nt">&gt;</span>remove<span class="nt">&lt;/button&gt;</span>
</pre></div>

<p>However, the latter works!</p>
<p>This is because you are in the "Angular World", when inside ng-click=""
Angular all ready knows about task.id as you are inside it's model. There is
no need to use Data binding, as in {{}}.</p>
<p>Further, if you wanted to pass the task object itself, you can like:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;button</span><span class="w"> </span><span class="na">ng-click=</span><span class="s">"removeTask(task)"</span><span class="nt">&gt;</span>remove<span class="nt">&lt;/button&gt;</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/string-concatenation-in-ruby/" class="u-url">String concatenation in Ruby</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/string-concatenation-in-ruby/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T01:31:20+08:00" itemprop="datePublished" title="2023-03-04 01:31">2023-03-04 01:31</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am looking for a more elegant way of concatenating strings in Ruby.</p>
<p>I have the following line:</p>
<div class="code"><pre class="code literal-block">source = "#{ROOT_DIR}/" &lt;&lt; project &lt;&lt; "/App.config"
</pre></div>

<p>Is there a nicer way of doing this?</p>
<p>And for that matter what is the difference between <code>&lt;&lt;</code> and <code>+</code>?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can do that in several ways:</p>
<ol>
<li>As you shown with <code>&lt;&lt;</code> but that is not the <em>usual</em> way</li>
<li>
<p>With string interpolation</p>
<div class="code"><pre class="code literal-block">source = "#{ROOT_DIR}/#{project}/App.config"
</pre></div>

</li>
<li>
<p>with <code>+</code></p>
<div class="code"><pre class="code literal-block">source = "#{ROOT_DIR}/" + project + "/App.config"
</pre></div>

</li>
</ol>
<p>The second method seems to be more efficient in term of memory/speed from what
I've seen (not measured though). All three methods will throw an uninitialized
constant error when ROOT_DIR is nil.</p>
<p>When dealing with pathnames, you may want to use <code>File.join</code> to avoid messing
up with pathname separator.</p>
<p>In the end, it is a matter of taste.</p>
<p><br></p>
<h3>Suggest</h3>
<p>The <code>+</code> operator is the normal concatenation choice, and is probably the
fastest way to concatenate strings.</p>
<p>The difference between <code>+</code> and <code>&lt;&lt;</code> is that <code>&lt;&lt;</code> changes the object on its
left hand side, and <code>+</code> doesn't.</p>
<div class="code"><pre class="code literal-block">irb(main):001:0&gt; s = 'a'
=&gt; "a"
irb(main):002:0&gt; s + 'b'
=&gt; "ab"
irb(main):003:0&gt; s
=&gt; "a"
irb(main):004:0&gt; s &lt;&lt; 'b'
=&gt; "ab"
irb(main):005:0&gt; s
=&gt; "ab"
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/assign-a-variable-inside-a-block-to-a-variable-outside-a-block/" class="u-url">Assign a variable inside a Block to a variable outside a Block</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/assign-a-variable-inside-a-block-to-a-variable-outside-a-block/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T01:30:59+08:00" itemprop="datePublished" title="2023-03-04 01:30">2023-03-04 01:30</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm getting an error</p>
<blockquote>
<p>Variable is not assignable (missing __block type specifier)</p>
</blockquote>
<p>on the line <code>aPerson = participant;</code>. How can I make sure the block can access
the <code>aPerson</code> variable and the <code>aPerson</code> variable can be returned?</p>
<div class="code"><pre class="code literal-block"><span class="n">Person</span><span class="w"> </span><span class="o">*</span><span class="n">aPerson</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">nil</span><span class="p">;</span>

<span class="p">[</span><span class="n">participants</span><span class="w"> </span><span class="n">enumerateObjectsUsingBlock</span><span class="o">:^</span><span class="p">(</span><span class="kt">id</span><span class="w"> </span><span class="n">obj</span><span class="p">,</span><span class="w"> </span><span class="n">NSUInteger</span><span class="w"> </span><span class="n">idx</span><span class="p">,</span><span class="w"> </span><span class="kt">BOOL</span><span class="w"> </span><span class="o">*</span><span class="n">stop</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">   </span>
<span class="w">    </span><span class="n">Person</span><span class="w"> </span><span class="o">*</span><span class="n">participant</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Person</span><span class="o">*</span><span class="p">)</span><span class="n">obj</span><span class="p">;</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">([</span><span class="n">participant</span><span class="p">.</span><span class="n">gender</span><span class="w"> </span><span class="n">isEqualToString</span><span class="o">:</span><span class="s">@"M"</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">aPerson</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">participant</span><span class="p">;</span>
<span class="w">        </span><span class="o">*</span><span class="n">stop</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">YES</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}];</span>

<span class="k">return</span><span class="w"> </span><span class="n">aPerson</span><span class="p">;</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>You need to use this line of code to resolve your problem:</p>
<div class="code"><pre class="code literal-block">__block Person *aPerson = nil;
</pre></div>

<p>For more details, please refer to this tutorial: Blocks and Variables</p>
<p><br></p>
<h3>Suggest</h3>
<p>Just a reminder of a mistake I made myself too, the</p>
<div class="code"><pre class="code literal-block"> __block
</pre></div>

<p>declaration must be done when first declaring the variable, that is, OUTSIDE
of the block, not inside of it. This should resolve problems mentioned in the
comments about the variable not retaining its value outside of the block.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2240.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2238.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

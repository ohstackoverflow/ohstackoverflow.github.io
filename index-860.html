<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 860) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-860.html">
<link rel="prev" href="index-861.html" type="text/html">
<link rel="next" href="index-859.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-bind-to-list-of-checkbox-values-with-angularjs/" class="u-url">How do I bind to list of checkbox values with AngularJS?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-bind-to-list-of-checkbox-values-with-angularjs/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T17:55:24+08:00" itemprop="datePublished" title="2023-02-17 17:55">2023-02-17 17:55</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a few checkboxes:</p>
<div class="code"><pre class="code literal-block">&lt;input type='checkbox' value="apple" checked&gt;
&lt;input type='checkbox' value="orange"&gt;
&lt;input type='checkbox' value="pear" checked&gt;
&lt;input type='checkbox' value="naartjie"&gt;
</pre></div>

<p>That I would like to bind to a list in my controller such that whenever a
checkbox is changed the controller maintains a list of all the checked values,
for example, <code>['apple', 'pear']</code>.</p>
<p>ng-model seems to only be able to bind the value of one single checkbox to a
variable in the controller.</p>
<p>Is there another way to do it so that I can bind the four checkboxes to a list
in the controller?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>There are two ways to approach this problem. Either use a simple array or an
array of objects. Each solution has it pros and cons. Below you'll find one
for each case.</p>
<hr>
<h4>With a simple array as input data</h4>
<p>The HTML could look like:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;label</span><span class="w"> </span><span class="na">ng-repeat=</span><span class="s">"fruitName in fruits"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;input</span>
<span class="w">    </span><span class="na">type=</span><span class="s">"checkbox"</span>
<span class="w">    </span><span class="na">name=</span><span class="s">"selectedFruits[]"</span>
<span class="w">    </span><span class="na">value=</span><span class="s">"</span><span class="cp">{{</span><span class="nv">fruitName</span><span class="cp">}}</span><span class="s">"</span>
<span class="w">    </span><span class="na">ng-checked=</span><span class="s">"selection.indexOf(fruitName) &gt; -1"</span>
<span class="w">    </span><span class="na">ng-click=</span><span class="s">"toggleSelection(fruitName)"</span>
<span class="w">  </span><span class="nt">&gt;</span><span class="w"> </span><span class="cp">{{</span><span class="nv">fruitName</span><span class="cp">}}</span>
<span class="nt">&lt;/label&gt;</span>
</pre></div>

<p>And the appropriate controller code would be:</p>
<div class="code"><pre class="code literal-block"><span class="n">app</span><span class="o">.</span><span class="n">controller</span><span class="p">(</span><span class="s1">'SimpleArrayCtrl'</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s1">'$scope'</span><span class="p">,</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">SimpleArrayCtrl</span><span class="p">(</span><span class="o">$</span><span class="n">scope</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">Fruits</span>
<span class="w">  </span><span class="o">$</span><span class="n">scope</span><span class="o">.</span><span class="n">fruits</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s1">'apple'</span><span class="p">,</span><span class="w"> </span><span class="s1">'orange'</span><span class="p">,</span><span class="w"> </span><span class="s1">'pear'</span><span class="p">,</span><span class="w"> </span><span class="s1">'naartjie'</span><span class="p">];</span>

<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">Selected</span><span class="w"> </span><span class="n">fruits</span>
<span class="w">  </span><span class="o">$</span><span class="n">scope</span><span class="o">.</span><span class="n">selection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s1">'apple'</span><span class="p">,</span><span class="w"> </span><span class="s1">'pear'</span><span class="p">];</span>

<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">Toggle</span><span class="w"> </span><span class="n">selection</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">given</span><span class="w"> </span><span class="n">fruit</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">name</span>
<span class="w">  </span><span class="o">$</span><span class="n">scope</span><span class="o">.</span><span class="n">toggleSelection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">toggleSelection</span><span class="p">(</span><span class="n">fruitName</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">idx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">$</span><span class="n">scope</span><span class="o">.</span><span class="n">selection</span><span class="o">.</span><span class="n">indexOf</span><span class="p">(</span><span class="n">fruitName</span><span class="p">);</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Is</span><span class="w"> </span><span class="n">currently</span><span class="w"> </span><span class="n">selected</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">idx</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="o">$</span><span class="n">scope</span><span class="o">.</span><span class="n">selection</span><span class="o">.</span><span class="n">splice</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Is</span><span class="w"> </span><span class="n">newly</span><span class="w"> </span><span class="n">selected</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="o">$</span><span class="n">scope</span><span class="o">.</span><span class="n">selection</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">fruitName</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">};</span>
<span class="p">}]);</span>
</pre></div>

<p><strong>Pros</strong> : Simple data structure and toggling by name is easy to handle</p>
<p><strong>Cons</strong> : Add/remove is cumbersome as two lists (the input and selection)
have to be managed</p>
<hr>
<h4>With an object array as input data</h4>
<p>The HTML could look like:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;label</span><span class="w"> </span><span class="na">ng-repeat=</span><span class="s">"fruit in fruits"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!--</span>
<span class="cm">    - Use `value="</span><span class="cp">{{</span><span class="nv">fruit.name</span><span class="cp">}}</span><span class="cm">"` to give the input a real value, in case the form gets submitted</span>
<span class="cm">      traditionally</span>

<span class="cm">    - Use `ng-checked="fruit.selected"` to have the checkbox checked based on some angular expression</span>
<span class="cm">      (no two-way-data-binding)</span>

<span class="cm">    - Use `ng-model="fruit.selected"` to utilize two-way-data-binding. Note that `.selected`</span>
<span class="cm">      is arbitrary. The property name could be anything and will be created on the object if not present.</span>
<span class="cm">  --&gt;</span>
<span class="w">  </span><span class="nt">&lt;input</span>
<span class="w">    </span><span class="na">type=</span><span class="s">"checkbox"</span>
<span class="w">    </span><span class="na">name=</span><span class="s">"selectedFruits[]"</span>
<span class="w">    </span><span class="na">value=</span><span class="s">"</span><span class="cp">{{</span><span class="nv">fruit.name</span><span class="cp">}}</span><span class="s">"</span>
<span class="w">    </span><span class="na">ng-model=</span><span class="s">"fruit.selected"</span>
<span class="w">  </span><span class="nt">&gt;</span><span class="w"> </span><span class="cp">{{</span><span class="nv">fruit.name</span><span class="cp">}}</span>
<span class="nt">&lt;/label&gt;</span>
</pre></div>

<p>And the appropriate controller code would be:</p>
<div class="code"><pre class="code literal-block"><span class="nt">app</span><span class="p">.</span><span class="nc">controller</span><span class="o">(</span><span class="s1">'ObjectArrayCtrl'</span><span class="o">,</span><span class="w"> </span><span class="cp">[</span><span class="s1">'$scope'</span><span class="p">,</span><span class="w"> </span><span class="s1">'filterFilter'</span><span class="p">,</span><span class="w"> </span><span class="nx">function</span><span class="w"> </span><span class="nx">ObjectArrayCtrl</span><span class="p">(</span><span class="nv">$scope</span><span class="p">,</span><span class="w"> </span><span class="nx">filterFilter</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">  </span><span class="c1">// Fruits</span>
<span class="w">  </span><span class="nv">$scope.fruits</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">[</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">name</span><span class="p">:</span><span class="w"> </span><span class="s1">'apple'</span><span class="p">,</span><span class="w">    </span><span class="nb">selected</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">name</span><span class="p">:</span><span class="w"> </span><span class="s1">'orange'</span><span class="p">,</span><span class="w">   </span><span class="nb">selected</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">name</span><span class="p">:</span><span class="w"> </span><span class="s1">'pear'</span><span class="p">,</span><span class="w">     </span><span class="nb">selected</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">name</span><span class="p">:</span><span class="w"> </span><span class="s1">'naartjie'</span><span class="p">,</span><span class="w"> </span><span class="nb">selected</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="p">}</span>
<span class="w">  </span><span class="cp">]</span><span class="o">;</span>

<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="nt">Selected</span><span class="w"> </span><span class="nt">fruits</span>
<span class="w">  </span><span class="o">$</span><span class="nt">scope</span><span class="p">.</span><span class="nc">selection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="cp">[]</span><span class="o">;</span>

<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="nt">Helper</span><span class="w"> </span><span class="nt">method</span><span class="w"> </span><span class="nt">to</span><span class="w"> </span><span class="nt">get</span><span class="w"> </span><span class="nt">selected</span><span class="w"> </span><span class="nt">fruits</span>
<span class="w">  </span><span class="o">$</span><span class="nt">scope</span><span class="p">.</span><span class="nc">selectedFruits</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">function</span><span class="w"> </span><span class="nt">selectedFruits</span><span class="o">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">return</span><span class="w"> </span><span class="err">filterFilter($scope.fruits,</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="n">selected</span><span class="p">:</span><span class="w"> </span><span class="n">true</span><span class="w"> </span><span class="p">}</span><span class="o">);</span>
<span class="w">  </span><span class="err">}</span><span class="o">;</span>

<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="nt">Watch</span><span class="w"> </span><span class="nt">fruits</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nt">changes</span>
<span class="w">  </span><span class="o">$</span><span class="nt">scope</span><span class="o">.$</span><span class="nt">watch</span><span class="o">(</span><span class="s1">'fruits|filter:{selected:true}'</span><span class="o">,</span><span class="w"> </span><span class="nt">function</span><span class="w"> </span><span class="o">(</span><span class="nt">nv</span><span class="o">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">$scope.selection</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">nv.map(function</span><span class="w"> </span><span class="err">(fruit)</span><span class="w"> </span><span class="err">{</span>
<span class="w">      </span><span class="err">return</span><span class="w"> </span><span class="err">fruit.name</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span><span class="o">);</span>
<span class="w">  </span><span class="err">}</span><span class="o">,</span><span class="w"> </span><span class="nt">true</span><span class="o">);</span>
<span class="err">}</span><span class="o">]);</span>
</pre></div>

<p><strong>Pros</strong> : Add/remove is very easy</p>
<p><strong>Cons</strong> : Somewhat more complex data structure and toggling by name is
cumbersome or requires a helper method</p>
<hr>
<p><strong>Demo</strong> : http://jsbin.com/ImAqUC/1/</p>
<p><br></p>
<h3>Suggest</h3>
<p>A simple solution:</p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;</span><span class="n">div</span><span class="w"> </span><span class="n">ng</span><span class="o">-</span><span class="n">controller</span><span class="o">=</span><span class="ss">"MainCtrl"</span><span class="o">&gt;</span>
<span class="w">  </span><span class="o">&lt;</span><span class="n">label</span><span class="w"> </span><span class="n">ng</span><span class="o">-</span><span class="n">repeat</span><span class="o">=</span><span class="ss">"(color,enabled) in colors"</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="k">input</span><span class="w"> </span><span class="n">type</span><span class="o">=</span><span class="ss">"checkbox"</span><span class="w"> </span><span class="n">ng</span><span class="o">-</span><span class="n">model</span><span class="o">=</span><span class="ss">"colors[color]"</span><span class="w"> </span><span class="o">/&gt;</span><span class="w"> </span><span class="err">{{</span><span class="n">color</span><span class="err">}}</span><span class="w"> </span>
<span class="w">  </span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
<span class="w">  </span><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="nl">colors</span><span class="p">:</span><span class="w"> </span><span class="err">{{</span><span class="n">colors</span><span class="err">}}</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">script</span><span class="o">&gt;</span>
<span class="w">  </span><span class="nf">var</span><span class="w"> </span><span class="n">app</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">angular</span><span class="p">.</span><span class="k">module</span><span class="p">(</span><span class="s1">'plunker'</span><span class="p">,</span><span class="w"> </span><span class="err">[]</span><span class="p">);</span>

<span class="w">  </span><span class="n">app</span><span class="p">.</span><span class="n">controller</span><span class="p">(</span><span class="s1">'MainCtrl'</span><span class="p">,</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="err">$</span><span class="k">scope</span><span class="p">)</span><span class="err">{</span>
<span class="w">      </span><span class="err">$</span><span class="k">scope</span><span class="p">.</span><span class="n">colors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{</span><span class="nl">Blue</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="nl">Orange</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="err">}</span><span class="p">;</span>
<span class="w">  </span><span class="err">}</span><span class="p">);</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>

<p>http://plnkr.co/edit/U4VD61?p=preview</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-add-a-changed-file-to-an-older-not-last-commit-in-git/" class="u-url">How to add a changed file to an older (not last) commit in Git</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-add-a-changed-file-to-an-older-not-last-commit-in-git/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T17:54:58+08:00" itemprop="datePublished" title="2023-02-17 17:54">2023-02-17 17:54</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have changed several things over the last hour and committed them step by
step, but I just realized I've forgot to add a changed file some commits ago.</p>
<p>The Log looks like this:</p>
<div class="code"><pre class="code literal-block"><span class="n">GIT</span><span class="w"> </span><span class="n">TidyUpRequests</span><span class="w"> </span><span class="nl">u</span><span class="p">:</span><span class="mi">1</span><span class="w"> </span><span class="nl">d</span><span class="p">:</span><span class="mi">0</span><span class="o">&gt;</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="nf">log</span><span class="w"> </span>
<span class="k">commit</span><span class="w"> </span><span class="n">fc6734b6351f6c36a587dba6dbd9d5efa30c09ce</span><span class="w"> </span>
<span class="nl">Author</span><span class="p">:</span><span class="w"> </span><span class="n">David</span><span class="w"> </span><span class="n">Klein</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span>
<span class="nc">Date</span><span class="err">:</span><span class="w">   </span><span class="n">Tue</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">27</span><span class="w"> </span><span class="mi">09</span><span class="err">:</span><span class="mi">43</span><span class="err">:</span><span class="mi">55</span><span class="w"> </span><span class="mi">2010</span><span class="w"> </span><span class="o">+</span><span class="mi">0200</span>

<span class="w">    </span><span class="n">The</span><span class="w"> </span><span class="n">Main</span><span class="w"> </span><span class="n">program</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="n">tests</span><span class="w"> </span><span class="k">both</span><span class="w"> </span><span class="n">Webservices</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="n">once</span>

<span class="k">commit</span><span class="w"> </span><span class="mi">8</span><span class="n">a2c6014c2b035e37aebd310a6393a1ecb39f463</span><span class="w"> </span>
<span class="nl">Author</span><span class="p">:</span><span class="w"> </span><span class="n">David</span><span class="w"> </span><span class="n">Klein</span><span class="w"> </span><span class="o">&lt;&gt;</span>
<span class="nc">Date</span><span class="err">:</span><span class="w">   </span><span class="n">Tue</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">27</span><span class="w"> </span><span class="mi">09</span><span class="err">:</span><span class="mi">43</span><span class="err">:</span><span class="mi">27</span><span class="w"> </span><span class="mi">2010</span><span class="w"> </span><span class="o">+</span><span class="mi">0200</span>

<span class="w">    </span><span class="n">ISBNDBQueryHandler</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">XPath</span><span class="w"> </span><span class="n">functions</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">XPath</span><span class="p">.</span><span class="n">fs</span><span class="w"> </span><span class="n">too</span>

<span class="k">commit</span><span class="w"> </span><span class="mi">06</span><span class="n">a504e277fd98d97eed4dad22dfa5933d81451f</span><span class="w"> </span>
<span class="nl">Author</span><span class="p">:</span><span class="w"> </span><span class="n">David</span><span class="w"> </span><span class="n">Klein</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span>
<span class="nc">Date</span><span class="err">:</span><span class="w">   </span><span class="n">Tue</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">27</span><span class="w"> </span><span class="mi">09</span><span class="err">:</span><span class="mi">30</span><span class="err">:</span><span class="mi">34</span><span class="w"> </span><span class="mi">2010</span><span class="w"> </span><span class="o">+</span><span class="mi">0200</span>

<span class="w">    </span><span class="n">AmazonQueryHandler</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">XPath</span><span class="w"> </span><span class="n">Helper</span><span class="w"> </span><span class="n">functions</span><span class="w"> </span><span class="n">defined</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">XPath</span><span class="p">.</span><span class="n">fs</span>

<span class="k">commit</span><span class="w"> </span><span class="n">a0865e28be35a3011d0b6091819ec32922dd2dd8</span><span class="w"> </span><span class="o">&lt;---</span><span class="w"> </span><span class="n">changed</span><span class="w"> </span><span class="k">file</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="k">go</span><span class="w"> </span><span class="n">here</span>
<span class="nl">Author</span><span class="p">:</span><span class="w"> </span><span class="n">David</span><span class="w"> </span><span class="n">Klein</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span>
<span class="nc">Date</span><span class="err">:</span><span class="w">   </span><span class="n">Tue</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">27</span><span class="w"> </span><span class="mi">09</span><span class="err">:</span><span class="mi">29</span><span class="err">:</span><span class="mi">53</span><span class="w"> </span><span class="mi">2010</span><span class="w"> </span><span class="o">+</span><span class="mi">0200</span>

<span class="w">    </span><span class="n">Factored</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="ow">some</span><span class="w"> </span><span class="n">common</span><span class="w"> </span><span class="n">XPath</span><span class="w"> </span><span class="n">Operations</span>
</pre></div>

<p>Any ideas?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Use <code>git rebase</code>. Specifically:</p>
<ol>
<li>Use <code>git stash</code> to store the changes you want to add.</li>
<li>Use <code>git rebase -i HEAD~10</code> (or however many commits back you want to see).</li>
<li>Mark the commit in question (<code>a0865...</code>) for edit by changing the word <code>pick</code> at the start of the line into <code>edit</code>. Don't delete the other lines as that would delete the commits.<sup id="fnref:vimnote"><a class="footnote-ref" href="posts/how-to-add-a-changed-file-to-an-older-not-last-commit-in-git/#fn:vimnote">1</a></sup>
</li>
<li>Save the rebase file, and git will drop back to the shell and wait for you to fix that commit.</li>
<li>Pop the stash by using <code>git stash pop</code>
</li>
<li>Add your file with <code>git add &lt;file&gt;</code>.</li>
<li>Amend the commit with <code>git commit --amend --no-edit</code>.</li>
<li>Do a <code>git rebase --continue</code> which will rewrite the rest of your commits against the new one.</li>
<li>Repeat from step 2 onwards if you have marked more than one commit for edit.</li>
</ol>
<p><br></p>
<h3>Suggest</h3>
<p>To "fix" an old commit with a small change, without changing the commit
message of the old commit, where <code>OLDCOMMIT</code> is something like <code>091b73a</code>:</p>
<div class="code"><pre class="code literal-block">git add &lt;my fixed files&gt;
git commit --fixup=OLDCOMMIT
git rebase --interactive --autosquash OLDCOMMIT^
</pre></div>

<p>You can also use <code>git commit --squash=OLDCOMMIT</code> to edit the old commit
message during rebase.</p>
<p>See documentation for git commit and git rebase. As always, when rewriting git
history, you should only fixup or squash commits you have not yet published to
anyone else (including random internet users and build servers).</p>
<hr>
<p><strong>Detailed explanation</strong></p>
<ul>
<li>
<code>git commit --fixup=OLDCOMMIT</code> copies the <code>OLDCOMMIT</code> commit message and automatically prefixes <code>fixup!</code> so it can be put in the correct order during interactive rebase. (<code>--squash=OLDCOMMIT</code> does the same but prefixes <code>squash!</code>.)</li>
<li>
<code>git rebase --interactive</code> will bring up a text editor (which can be configured) to confirm (or edit) the <em>rebase instruction sequence</em>. There is info for rebase instruction changes in the file; just <strong>save and quit</strong> the editor (<code>:wq</code> in <code>vim</code>) to continue with the rebase.</li>
<li>
<code>--autosquash</code> will automatically put any <code>--fixup=OLDCOMMIT</code> commits in the correct order. Note that <code>--autosquash</code> is only valid when the <code>--interactive</code> option is used.</li>
<li>The <code>^</code> in <code>OLDCOMMIT^</code> means it's a reference to the commit just before <code>OLDCOMMIT</code>. (<code>OLDCOMMIT^</code> is the first parent of <code>OLDCOMMIT</code>.)</li>
</ul>
<hr>
<p><strong>Optional automation</strong></p>
<p>The above steps are good for verification and/or modifying the <em>rebase
instruction sequence</em> , but it's also possible to skip/automate the
interactive rebase text editor by:</p>
<ul>
<li>Setting <code>GIT_SEQUENCE_EDITOR</code> to a script.</li>
<li>Creating a git alias to automatically autosquash all queued fixups.</li>
<li>Creating a git alias to automatically fixup a single commit.</li>
</ul>
<div class="footnote">
<hr>
<ol>
<li id="fn:vimnote">
<p>If you are using <code>vim</code> then you will have to hit the <code>Insert</code> key
to edit, then <code>Esc</code> and type in <code>:wq</code> to save the file, quit the editor, and
apply the changes. Alternatively, you can configure a user-friendly git commit
editor with <code>git config --global core.editor "nano"</code>. <a class="footnote-backref" href="posts/how-to-add-a-changed-file-to-an-older-not-last-commit-in-git/#fnref:vimnote" title="Jump back to footnote 1 in the text">↩</a></p>
</li>
</ol>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-check-django-version/" class="u-url">How to check Django version</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-check-django-version/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T17:54:15+08:00" itemprop="datePublished" title="2023-02-17 17:54">2023-02-17 17:54</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have to use Python and Django for our application. So I have two versions of
Python, 2.6 and 2.7. Now I have installed Django. I could run the sample
application for testing Django succesfuly. But how do I make sure whether
Django uses the 2.6 or 2.7 version and what version of modules Django uses?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Django 1.5 supports Python 2.6.5 and later.</p>
<p>If you're under Linux and want to check the Python version you're using, run
<code>python -V</code> from the command line.</p>
<p>If you want to check the Django version, open a Python console and type</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">django</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">django</span><span class="o">.</span><span class="n">VERSION</span>
<span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">'final'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Basically the same as bcoughlan's answer, but here it is as an executable
command:</p>
<div class="code"><pre class="code literal-block"><span class="err">$</span> <span class="n">python</span> <span class="o">-</span><span class="n">c</span> <span class="s2">"import django; print(django.get_version())"</span>
<span class="mf">2.0</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-861.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-859.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

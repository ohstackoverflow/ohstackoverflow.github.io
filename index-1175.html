<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1175) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1175.html">
<link rel="prev" href="index-1176.html" type="text/html">
<link rel="next" href="index-1174.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/object-spread-vs-object-assign/" class="u-url">Object spread vs. Object.assign</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/object-spread-vs-object-assign/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T03:01:45+08:00" itemprop="datePublished" title="2023-02-18 03:01">2023-02-18 03:01</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Let’s say I have an <code>options</code> variable and I want to set some default value.</p>
<p>What’s is the benefit / drawback of these two alternatives?</p>
<p>Using object spread</p>
<div class="code"><pre class="code literal-block">options = {...optionsDefault, ...options};
</pre></div>

<p>Or using Object.assign</p>
<div class="code"><pre class="code literal-block"><span class="n">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Object</span><span class="p">.</span><span class="k">assign</span><span class="p">({},</span><span class="w"> </span><span class="n">optionsDefault</span><span class="p">,</span><span class="w"> </span><span class="n">options</span><span class="p">);</span>
</pre></div>

<p>This is the commit that made me wonder.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>For reference object rest/spread is finalised in ECMAScript 2018 as a stage 4.
The proposal can be found here.</p>
<p>For the most part object assign and spread work the same way, the key
difference is that spread defines properties, whilst Object.assign() sets
them. This means Object.assign() triggers setters.</p>
<p>It's worth remembering that other than this, object rest/spread 1:1 maps to
Object.assign() and acts differently to array (iterable) spread. For example,
when spreading an array null values are spread. However using object spread
null values are silently spread to nothing.</p>
<p><strong>Array (Iterable) Spread Example</strong></p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">];</span>
<span class="k">const</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="o">...</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">];</span>
<span class="k">const</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">;</span>

<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">y</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">];</span>
<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">([</span><span class="o">...</span><span class="n">z</span><span class="p">]);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">TypeError</span>
</pre></div>

<p><strong>Object Spread Example</strong></p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">;</span>
<span class="k">const</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">a</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">};</span>
<span class="k">const</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="o">...</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="o">...</span><span class="n">y</span><span class="p">};</span>

<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">z</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="p">{</span><span class="n">a</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">}</span>
</pre></div>

<p>This is consistent with how Object.assign() would work, both silently exclude
the null value with no error.</p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">;</span>
<span class="k">const</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">a</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">};</span>
<span class="k">const</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb nb-Type">Object</span><span class="o">.</span><span class="n">assign</span><span class="p">({},</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">);</span>

<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">z</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="p">{</span><span class="n">a</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">}</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>For reference object rest/spread is finalised in ECMAScript 2018 as a stage 4.
The proposal can be found here.</p>
<p>For the most part object assign and spread work the same way, the key
difference is that spread defines properties, whilst Object.assign() sets
them. This means Object.assign() triggers setters.</p>
<p>It's worth remembering that other than this, object rest/spread 1:1 maps to
Object.assign() and acts differently to array (iterable) spread. For example,
when spreading an array null values are spread. However using object spread
null values are silently spread to nothing.</p>
<p><strong>Array (Iterable) Spread Example</strong></p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">];</span>
<span class="k">const</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="o">...</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">];</span>
<span class="k">const</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">;</span>

<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">y</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">];</span>
<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">([</span><span class="o">...</span><span class="n">z</span><span class="p">]);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">TypeError</span>
</pre></div>

<p><strong>Object Spread Example</strong></p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">;</span>
<span class="k">const</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">a</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">};</span>
<span class="k">const</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="o">...</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="o">...</span><span class="n">y</span><span class="p">};</span>

<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">z</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="p">{</span><span class="n">a</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">}</span>
</pre></div>

<p>This is consistent with how Object.assign() would work, both silently exclude
the null value with no error.</p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">;</span>
<span class="k">const</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">a</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">};</span>
<span class="k">const</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb nb-Type">Object</span><span class="o">.</span><span class="n">assign</span><span class="p">({},</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">);</span>

<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">z</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="p">{</span><span class="n">a</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">}</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/correct-format-specifier-for-double-in-printf/" class="u-url">Correct format specifier for double in printf</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/correct-format-specifier-for-double-in-printf/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T03:00:41+08:00" itemprop="datePublished" title="2023-02-18 03:00">2023-02-18 03:00</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What is the correct format specifier for <code>double</code> in printf? Is it <code>%f</code> or is
it <code>%lf</code>? I believe it's <code>%f</code>, but I am not sure.</p>
<h4>Code sample</h4>
<div class="code"><pre class="code literal-block"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">   </span><span class="kt">double</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.4</span><span class="p">;</span>
<span class="w">   </span><span class="n">printf</span><span class="p">(</span><span class="s">"%lf"</span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">);</span><span class="w"> </span><span class="c1">// Is this wrong?</span>
<span class="p">}</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p><code>"%f"</code> is the (or at least one) correct format for a double. There <em>is</em> no
format for a <code>float</code>, because if you attempt to pass a <code>float</code> to <code>printf</code>,
it'll be promoted to <code>double</code> before <code>printf</code> receives it1. <code>"%lf"</code> is also
acceptable under the current standard -- the <code>l</code> is specified as having no
effect if followed by the <code>f</code> conversion specifier (among others).</p>
<p>Note that this is one place that <code>printf</code> format strings differ substantially
from <code>scanf</code> (and <code>fscanf</code>, etc.) format strings. For output, you're passing a
<em>value</em> , which will be promoted from <code>float</code> to <code>double</code> when passed as a
variadic parameter. For input you're passing a <em>pointer</em> , which is not
promoted, so you have to tell <code>scanf</code> whether you want to read a <code>float</code> or a
<code>double</code>, so for <code>scanf</code>, <code>%f</code> means you want to read a <code>float</code> and <code>%lf</code>
means you want to read a <code>double</code> (and, for what it's worth, for a <code>long
double</code>, you use <code>%Lf</code> for either <code>printf</code> or <code>scanf</code>).</p>
<hr>
<p>1. C99, §6.5.2.2/6: "If the expression that denotes the called function has a
type that does not include a prototype, the integer promotions are performed
on each argument, and arguments that have type float are promoted to double.
These are called the default argument promotions." In C++ the wording is
somewhat different (e.g., it doesn't use the word "prototype") but the effect
is the same: all the variadic parameters undergo default promotions before
they're received by the function.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Given the C99 standard (namely, the <em>N1256</em> draft), the rules depend on the
function kind: fprintf (printf, sprintf, ...) or scanf.</p>
<p>Here are relevant parts extracted:</p>
<blockquote>
<p><strong>Foreword</strong></p>
<p>This second edition cancels and replaces the first edition, ISO/IEC
9899:1990, as amended and corrected by ISO/IEC 9899/COR1:1994, ISO/IEC
9899/AMD1:1995, and ISO/IEC 9899/COR2:1996. Major changes from the previous
edition include:</p>
<ul>
<li>
<code>%lf</code> conversion specifier allowed in <code>printf</code>
</li>
</ul>
<p><strong>7.19.6.1 The<code>fprintf</code> function</strong></p>
<p><strong>7</strong> The length modifiers and their meanings are:</p>
<p><em>l</em> (ell) Specifies that (...) has no effect on a following a, A, e, E, f,
F, g, or G conversion specifier.</p>
<p><em>L</em> Specifies that a following a, A, e, E, f, F, g, or G conversion
specifier applies to a long double argument.</p>
</blockquote>
<p>The same rules specified for <code>fprintf</code> apply for <code>printf</code>, <code>sprintf</code> and
similar functions.</p>
<blockquote>
<p><strong>7.19.6.2 The<code>fscanf</code> function</strong></p>
<p><strong>11</strong> The length modifiers and their meanings are:</p>
<p><em>l</em> (ell) Specifies that (...) that a following a, A, e, E, f, F, g, or G
conversion specifier applies to an argument with type pointer to double;</p>
<p><em>L</em> Specifies that a following a, A, e, E, f, F, g, or G conversion
specifier applies to an argument with type pointer to long double.</p>
<p><strong>12</strong> The conversion specifiers and their meanings are: a,e,f,g Matches an
optionally signed floating-point number, (...)</p>
<p><strong>14</strong> The conversion specifiers A, E, F, G, and X are also valid and behave
the same as, respectively, a, e, f, g, and x.</p>
</blockquote>
<p>The long story short, for <code>fprintf</code> the following specifiers and corresponding
types are specified:</p>
<ul>
<li>
<code>%f</code> -&gt; double</li>
<li>
<code>%Lf</code> -&gt; long double.</li>
</ul>
<p>and for <code>fscanf</code> it is:</p>
<ul>
<li>
<code>%f</code> -&gt; float</li>
<li>
<code>%lf</code> -&gt; double</li>
<li>
<code>%Lf</code> -&gt; long double.</li>
</ul>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-s-the-main-difference-between-int-parse-and-convert-toint32/" class="u-url">What's the main difference between int.Parse() and Convert.ToInt32</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-s-the-main-difference-between-int-parse-and-convert-toint32/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T03:00:15+08:00" itemprop="datePublished" title="2023-02-18 03:00">2023-02-18 03:00</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <ul>
<li>What is the main difference between <code>int.Parse()</code> and <code>Convert.ToInt32()</code>?</li>
<li>Which one is to be preferred</li>
</ul>
<p><br><br></p>
<h2>Answer</h2>
<ul>
<li>
<p>If you've got a string, and you expect it to always be an integer (say, if some web service is handing you an integer in string format), you'd use <strong><code>Int32.Parse()</code></strong>.</p>
</li>
<li>
<p>If you're collecting input from a user, you'd generally use <strong><code>Int32.TryParse()</code></strong> , since it allows you more fine-grained control over the situation when the user enters invalid input.</p>
</li>
<li>
<p><strong><code>Convert.ToInt32()</code></strong> takes an object as its argument. (See Chris S's answer for how it works)</p>
</li>
</ul>
<p><code>Convert.ToInt32()</code> also does not throw <code>ArgumentNullException</code> when its
argument is null the way <code>Int32.Parse()</code> does. That also means that
<code>Convert.ToInt32()</code> is probably a wee bit slower than <code>Int32.Parse()</code>, though
in practice, unless you're doing a very large number of iterations in a loop,
you'll never notice it.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Have a look in reflector:</p>
<p><strong>int.Parse("32"):</strong></p>
<div class="code"><pre class="code literal-block"><span class="nv">public</span><span class="w"> </span><span class="nv">static</span><span class="w"> </span><span class="nv">int</span><span class="w"> </span><span class="nv">Parse</span><span class="ss">(</span><span class="nv">string</span><span class="w"> </span><span class="nv">s</span><span class="ss">)</span>
{
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">System</span>.<span class="nv">Number</span>.<span class="nv">ParseInt32</span><span class="ss">(</span><span class="nv">s</span>,<span class="w"> </span><span class="nv">NumberStyles</span>.<span class="nv">Integer</span>,<span class="w"> </span><span class="nv">NumberFormatInfo</span>.<span class="nv">CurrentInfo</span><span class="ss">)</span><span class="c1">;</span>
}
</pre></div>

<p>which is a call to:</p>
<div class="code"><pre class="code literal-block"><span class="nv">internal</span><span class="w"> </span><span class="nv">static</span><span class="w"> </span><span class="nv">unsafe</span><span class="w"> </span><span class="nv">int</span><span class="w"> </span><span class="nv">ParseInt32</span><span class="ss">(</span><span class="nv">string</span><span class="w"> </span><span class="nv">s</span>,<span class="w"> </span><span class="nv">NumberStyles</span><span class="w"> </span><span class="nv">style</span>,<span class="w"> </span><span class="nv">NumberFormatInfo</span><span class="w"> </span><span class="nv">info</span><span class="ss">)</span>
{
<span class="w">    </span><span class="nv">byte</span><span class="o">*</span><span class="w"> </span><span class="nv">stackBuffer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">stackalloc</span><span class="w"> </span><span class="nv">byte</span>[<span class="mi">1</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">0</span><span class="nv">x72</span>]<span class="c1">;</span>
<span class="w">    </span><span class="nv">NumberBuffer</span><span class="w"> </span><span class="nv">number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">NumberBuffer</span><span class="ss">(</span><span class="nv">stackBuffer</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span><span class="nv">int</span><span class="w"> </span><span class="nv">num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="c1">;</span>
<span class="w">    </span><span class="nv">StringToNumber</span><span class="ss">(</span><span class="nv">s</span>,<span class="w"> </span><span class="nv">style</span>,<span class="w"> </span><span class="nv">ref</span><span class="w"> </span><span class="nv">number</span>,<span class="w"> </span><span class="nv">info</span>,<span class="w"> </span><span class="nv">false</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="ss">((</span><span class="nv">style</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="nv">NumberStyles</span>.<span class="nv">AllowHexSpecifier</span><span class="ss">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nv">NumberStyles</span>.<span class="nv">None</span><span class="ss">)</span>
<span class="w">    </span>{
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="o">!</span><span class="nv">HexNumberToInt32</span><span class="ss">(</span><span class="nv">ref</span><span class="w"> </span><span class="nv">number</span>,<span class="w"> </span><span class="nv">ref</span><span class="w"> </span><span class="nv">num</span><span class="ss">))</span>
<span class="w">        </span>{
<span class="w">            </span><span class="nv">throw</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">OverflowException</span><span class="ss">(</span><span class="nv">Environment</span>.<span class="nv">GetResourceString</span><span class="ss">(</span><span class="s2">"Overflow_Int32"</span><span class="ss">))</span><span class="c1">;</span>
<span class="w">        </span>}
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nv">num</span><span class="c1">;</span>
<span class="w">    </span>}
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="o">!</span><span class="nv">NumberToInt32</span><span class="ss">(</span><span class="nv">ref</span><span class="w"> </span><span class="nv">number</span>,<span class="w"> </span><span class="nv">ref</span><span class="w"> </span><span class="nv">num</span><span class="ss">))</span>
<span class="w">    </span>{
<span class="w">        </span><span class="nv">throw</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">OverflowException</span><span class="ss">(</span><span class="nv">Environment</span>.<span class="nv">GetResourceString</span><span class="ss">(</span><span class="s2">"Overflow_Int32"</span><span class="ss">))</span><span class="c1">;</span>
<span class="w">    </span>}
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">num</span><span class="c1">;</span>
}
</pre></div>

<p><strong>Convert.ToInt32("32"):</strong></p>
<div class="code"><pre class="code literal-block"><span class="nv">public</span><span class="w"> </span><span class="nv">static</span><span class="w"> </span><span class="nv">int</span><span class="w"> </span><span class="nv">ToInt32</span><span class="ss">(</span><span class="nv">string</span><span class="w"> </span><span class="nv">value</span><span class="ss">)</span>
{
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">value</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">null</span><span class="ss">)</span>
<span class="w">    </span>{
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="c1">;</span>
<span class="w">    </span>}
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">int</span>.<span class="nv">Parse</span><span class="ss">(</span><span class="nv">value</span>,<span class="w"> </span><span class="nv">CultureInfo</span>.<span class="nv">CurrentCulture</span><span class="ss">)</span><span class="c1">;</span>
}
</pre></div>

<p>As the first (Dave M's) comment says.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1176.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1174.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

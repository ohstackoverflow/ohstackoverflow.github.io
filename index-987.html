<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 987) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-987.html">
<link rel="prev" href="index-988.html" type="text/html">
<link rel="next" href="index-986.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/javascript-chrome-how-to-copy-an-object-from-the-webkit-inspector-as-code/" class="u-url">Javascript / Chrome - How to copy an object from the webkit inspector as code</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/javascript-chrome-how-to-copy-an-object-from-the-webkit-inspector-as-code/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T21:43:22+08:00" itemprop="datePublished" title="2023-02-17 21:43">2023-02-17 21:43</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am doing a console.log statement in my javascript in order to log a
javascript object. I'm wondering if there's a way, once that's done - to copy
that object as javascript code. What I'm trying to do is convert an object
that was created using ajax to parse an xml feed into a static javascript
object so that a file can run locally, without a server. I've included a
screenshot of the object in the chrome inspector window so you can see what
I'm trying to do.<img alt="enter image description here" src="images/RsxAB.png"></p>
<p><br><br></p>
<h2>Answer</h2>
<ol>
<li>
<p>Right-click an object in Chrome's console and select <code>Store as Global Variable</code> from the context menu. It will return something like <code>temp1</code> as the variable name.</p>
</li>
<li>
<p>Chrome also has a <code>copy()</code> method, so <code>copy(temp1)</code> in the console should copy that object to your clipboard.</p>
</li>
</ol>
<p><img alt="Copy Javascript Object in Chrome
DevTools" src="https://thumbs.gfycat.com/JadedUnsteadyFennecfox-%0Asize_restricted.gif"></p>
<p><strong>Note on Recursive Objects:</strong> If you're trying to copy a recursive object,
you will get <code>[object Object]</code>. The way out is to try
<code>copy(JSON.stringify(temp1))</code> , the object will be fully copied to your
clipboard as a valid JSON, so you'd be able to format it as you wish, using
one of many resources.</p>
<p>If you get the <code>Uncaught TypeError: Converting circular structure to JSON</code>
message, you can use <code>JSON.stringify</code>'s second argument (which is a filter
function) to filter out the offending circular properties. See this Stack
Overflow answer for more details.</p>
<p><br></p>
<h3>Suggest</h3>
<p>In Chrome 89 or later you can simply right click an object in the console and
choose <code>Copy Object</code> (ref). This also works in some other places inside Chrome
Developer Tools e.g. whilst debugging or inside response tab for a network
request.</p>
<p>Other option is to use the <code>copy</code> command as-is:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">a</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">};</span>
<span class="n">copy</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
</pre></div>

<hr>
<p>Original answer</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/xcode-6-bug-unknown-class-in-interface-builder-file/" class="u-url">Xcode 6 Bug: Unknown class in Interface Builder file</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/xcode-6-bug-unknown-class-in-interface-builder-file/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T21:40:57+08:00" itemprop="datePublished" title="2023-02-17 21:40">2023-02-17 21:40</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I upgraded to Xcode 6 beta 4 and now my App continuously crashes with the
message</p>
<blockquote>
<p>Unknown class X in Interface Builder file.</p>
</blockquote>
<p>It crashes because supposedly Xcode can't find my custom classes that I have
linked in my Storyboard but it shows that they are linked correctly in the
Xcode interface.</p>
<p>I'm positive everything is linked correctly. My only other option may be to
delete the entire storyboard file and start from scratch because it might be
corrupted somehow.</p>
<p>Edit: I would also like to add that I tried cleaning, reseting simulator,
messing with build phases etc. None of that works.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>I resolved this issue as I was typing the question. I figured I'd answer my
question and leave it here for anyone else who may face this issue when using
Xcode 6 beta 4.</p>
<p>To resolve this issue, you need to select each of your custom class objects in
Storyboard (this includes any custom views, even the custom view controllers
themselves).</p>
<p>Then with those objects selected, open the identity inspector and under
"Custom Class" you should see the Module option. Finally:</p>
<ul>
<li>Click inside the Module text box, and press enter.</li>
<li>
<strong>Or</strong> (update 2022), check the "Inherit Module From Target" option.</li>
</ul>
<p>That's it! The current module for all of my custom objects must have been
internally incorrectly set somehow in Xcode 6 beta 4. But there was no visual
indication of this in the inspector.</p>
<p>Note that if pressing enter inside the Module text box doesn't work, try
selecting the arrow to the right and manually select your current module, then
clear the text box and press enter. You can also try pressing enter inside the
class text box (although this usually is to resolve a different issue).</p>
<p>Here is an image to make things more clear: <img alt="enter image description
here" src="images/7u8bd.png"></p>
<p><br></p>
<h3>Suggest</h3>
<p>Sometimes Xcode missed <strong><code>customModule="AppName"
customModuleProvider="target"</code></strong></p>
<p>To fix it, open storyboard as source code and replace this line:</p>
<div class="code"><pre class="code literal-block">&lt;viewController storyboardIdentifier="StoryboardId" id="SomeID" customClass="CustomClass"
sceneMemberID="viewController"&gt;
</pre></div>

<p>to this:</p>
<div class="code"><pre class="code literal-block">&lt;viewController storyboardIdentifier="StoryboardId" id="SomeID" customClass="CustomClass"
 customModule="AppName" customModuleProvider="target" sceneMemberID="viewController"&gt;
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-really-happens-when-you-don-t-free-after-malloc-before-program-termination/" class="u-url">What REALLY happens when you don't free after malloc before program termination?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-really-happens-when-you-don-t-free-after-malloc-before-program-termination/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T21:39:51+08:00" itemprop="datePublished" title="2023-02-17 21:39">2023-02-17 21:39</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>We are all taught that you MUST free every pointer that is allocated. I'm a
bit curious, though, about the real cost of not freeing memory. In some
obvious cases, like when <code>malloc()</code> is called inside a loop or part of a
thread execution, it's very important to free so there are no memory leaks.
But consider the following two examples:</p>
<p>First, if I have code that's something like this:</p>
<div class="code"><pre class="code literal-block"><span class="nv">int</span><span class="w"> </span><span class="nv">main</span><span class="ss">()</span>
{
<span class="w">    </span><span class="nv">char</span><span class="w"> </span><span class="o">*</span><span class="nv">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">malloc</span><span class="ss">(</span><span class="mi">1024</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span><span class="cm">/* Do some arbitrary stuff with 'a' (no alloc functions) */</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="c1">;</span>
}
</pre></div>

<p>What's the real result here? My thinking is that the process dies and then the
heap space is gone anyway so there's no harm in missing the call to <code>free</code>
(however, I do recognize the importance of having it anyway for closure,
maintainability, and good practice). Am I right in this thinking?</p>
<p>Second, let's say I have a program that acts a bit like a shell. Users can
declare variables like <code>aaa = 123</code> and those are stored in some dynamic data
structure for later use. Clearly, it seems obvious that you'd use some
solution that will calls some *alloc function (hashmap, linked list, something
like that). For this kind of program, it doesn't make sense to ever free after
calling <code>malloc</code> because these variables must be present at all times during
the program's execution and there's no good way (that I can see) to implement
this with statically allocated space. Is it bad design to have a bunch of
memory that's allocated but only freed as part of the process ending? If so,
what's the alternative?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Just about every modern operating system will recover all the allocated memory
space after a program exits. The only exception I can think of might be
something like Palm OS where the program's static storage and runtime memory
are pretty much the same thing, so not freeing might cause the program to take
up more storage. (I'm only speculating here.)</p>
<p>So generally, there's no harm in it, except the runtime cost of having more
storage than you need. Certainly in the example you give, you want to keep the
memory for a variable that might be used until it's cleared.</p>
<p>However, it's considered good style to free memory as soon as you don't need
it any more, and to free anything you still have around on program exit. It's
more of an exercise in knowing what memory you're using, and thinking about
whether you still need it. If you don't keep track, you might have memory
leaks.</p>
<p>On the other hand, the similar admonition to close your files on exit has a
much more concrete result - if you don't, the data you wrote to them might not
get flushed, or if they're a temp file, they might not get deleted when you're
done. Also, database handles should have their transactions committed and then
closed when you're done with them. Similarly, if you're using an object
oriented language like C++ or Objective C, not freeing an object when you're
done with it will mean the destructor will never get called, and any resources
the class is responsible might not get cleaned up.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Yes you are right, your example doesn't do any harm (at least not on most
modern operating systems). All the memory allocated by your process will be
recovered by the operating system once the process exits.</p>
<p>Source: Allocation and GC Myths (PostScript alert!)</p>
<blockquote>
<p>Allocation Myth 4: Non-garbage-collected programs should always deallocate
all memory they allocate.</p>
<p>The Truth: Omitted deallocations in frequently executed code cause growing
leaks. They are rarely acceptable. but Programs that retain most allocated
memory until program exit often perform better without any intervening
deallocation. Malloc is much easier to implement if there is no free.</p>
<p>In most cases, <strong>deallocating memory just before program exit is
pointless.</strong> The OS will reclaim it anyway. Free will touch and page in the
dead objects; the OS won't.</p>
<p>Consequence: Be careful with "leak detectors" that count allocations. Some
"leaks" are good!</p>
</blockquote>
<p>That said, you should really try to avoid all memory leaks!</p>
<p>Second question: your design is ok. If you need to store something until your
application exits then its ok to do this with dynamic memory allocation. If
you don't know the required size upfront, you can't use statically allocated
memory.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-988.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-986.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

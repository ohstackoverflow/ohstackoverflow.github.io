<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 965) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-965.html">
<link rel="prev" href="index-966.html" type="text/html">
<link rel="next" href="index-964.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-get-an-apk-file-from-an-android-device/" class="u-url">How do I get an apk file from an Android device?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-get-an-apk-file-from-an-android-device/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T20:52:52+08:00" itemprop="datePublished" title="2023-02-17 20:52">2023-02-17 20:52</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How do I get the apk file from an android device? Or how do I transfer the apk
file from device to system?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Use adb. With <em>adb pull</em> you can copy files from your device to your system,
when the device is attached with USB.</p>
<p>Of course you also need the right permissions to access the directory your
file is in. If not, you will need to root the device first.</p>
<hr>
<p>If you find that many of the APKs are named "base.apk" you can also use this
one line command to pull all the APKs off a phone you can access while
renaming any "base.apk" names to the package name. This also fixes the
directory not found issue for APK paths with seemingly random characters after
the name:</p>
<div class="code"><pre class="code literal-block"><span class="k">for</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span>$<span class="ss">(</span><span class="nv">adb</span><span class="w"> </span><span class="nv">shell</span><span class="w"> </span><span class="nv">pm</span><span class="w"> </span><span class="nv">list</span><span class="w"> </span><span class="nv">packages</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">awk</span><span class="w"> </span><span class="o">-</span><span class="nv">F</span><span class="s1">':'</span><span class="w"> </span><span class="s1">'{print $2}'</span><span class="ss">)</span><span class="c1">; do </span>
<span class="w">  </span><span class="nv">adb</span><span class="w"> </span><span class="nv">pull</span><span class="w"> </span><span class="s2">"$(adb shell pm path $i | awk -F':' '{print $2}')"</span>
<span class="w">  </span><span class="nv">mv</span><span class="w"> </span><span class="nv">base</span>.<span class="nv">apk</span><span class="w"> </span>$<span class="nv">i</span>.<span class="nv">apk</span><span class="w"> </span><span class="o">&amp;&gt;</span><span class="w"> </span><span class="o">/</span><span class="nv">dev</span><span class="o">/</span><span class="nv">null</span><span class="w"> </span>
<span class="nv">done</span>
</pre></div>

<p>If you get "adb: error: failed to stat remote object" that indicates you don't
have the needed permissions. I ran this on a NON-rooted Moto Z2 and was able
to download ALL the APKs I did not uninstall (see below) except youtube.</p>
<div class="code"><pre class="code literal-block">adb shell pm uninstall --user 0 com.android.cellbroadcastreceiver   &lt;--- kills presidential alert app!
</pre></div>

<p>(to view users run adb shell pm list users) This is a way to remove/uninstall
(not from the phone as it comes back with factory reset) almost <em>ANY</em> app
WITHOUT root INCLUDING system apps (hint the annoying update app that updates
your phone line it or not can be found by grepping for "ccc")</p>
<p><br></p>
<h3>Suggest</h3>
<p>Use adb. With <em>adb pull</em> you can copy files from your device to your system,
when the device is attached with USB.</p>
<p>Of course you also need the right permissions to access the directory your
file is in. If not, you will need to root the device first.</p>
<hr>
<p>If you find that many of the APKs are named "base.apk" you can also use this
one line command to pull all the APKs off a phone you can access while
renaming any "base.apk" names to the package name. This also fixes the
directory not found issue for APK paths with seemingly random characters after
the name:</p>
<div class="code"><pre class="code literal-block"><span class="k">for</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span>$<span class="ss">(</span><span class="nv">adb</span><span class="w"> </span><span class="nv">shell</span><span class="w"> </span><span class="nv">pm</span><span class="w"> </span><span class="nv">list</span><span class="w"> </span><span class="nv">packages</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">awk</span><span class="w"> </span><span class="o">-</span><span class="nv">F</span><span class="s1">':'</span><span class="w"> </span><span class="s1">'{print $2}'</span><span class="ss">)</span><span class="c1">; do </span>
<span class="w">  </span><span class="nv">adb</span><span class="w"> </span><span class="nv">pull</span><span class="w"> </span><span class="s2">"$(adb shell pm path $i | awk -F':' '{print $2}')"</span>
<span class="w">  </span><span class="nv">mv</span><span class="w"> </span><span class="nv">base</span>.<span class="nv">apk</span><span class="w"> </span>$<span class="nv">i</span>.<span class="nv">apk</span><span class="w"> </span><span class="o">&amp;&gt;</span><span class="w"> </span><span class="o">/</span><span class="nv">dev</span><span class="o">/</span><span class="nv">null</span><span class="w"> </span>
<span class="nv">done</span>
</pre></div>

<p>If you get "adb: error: failed to stat remote object" that indicates you don't
have the needed permissions. I ran this on a NON-rooted Moto Z2 and was able
to download ALL the APKs I did not uninstall (see below) except youtube.</p>
<div class="code"><pre class="code literal-block">adb shell pm uninstall --user 0 com.android.cellbroadcastreceiver   &lt;--- kills presidential alert app!
</pre></div>

<p>(to view users run adb shell pm list users) This is a way to remove/uninstall
(not from the phone as it comes back with factory reset) almost <em>ANY</em> app
WITHOUT root INCLUDING system apps (hint the annoying update app that updates
your phone line it or not can be found by grepping for "ccc")</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/invoke-customs-are-only-supported-starting-with-android-0-min-api-26/" class="u-url">Invoke-customs are only supported starting with android 0 --min-api 26</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/invoke-customs-are-only-supported-starting-with-android-0-min-api-26/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T20:52:23+08:00" itemprop="datePublished" title="2023-02-17 20:52">2023-02-17 20:52</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>before i'm use build version gradle 26 but after change buildtoolsversion to
27 like as this image</p>
<p>I am using android studio 4.2.2 recently i update all my dependency and</p>
<div class="code"><pre class="code literal-block">      sourceCompatibility JavaVersion.VERSION_1_10
      targetCompatibility JavaVersion.VERSION_1_10
</pre></div>

<p>to</p>
<div class="code"><pre class="code literal-block">compileOptions {
           sourceCompatibility kotlin_version
           targetCompatibility kotlin_version
         }
</pre></div>

<p>after update i am getting this error please help</p>
<p><img alt="" src="images/3U3MO.png"></p>
<p>error : error build gradle screenshot <img alt="" src="images/REjox.png"></p>
<p><br><br></p>
<h2>Answer</h2>
<p>After hours of struggling, I solved it by including the following within
<strong>app/build.gradle</strong> :</p>
<div class="code"><pre class="code literal-block">android {
    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }
}
</pre></div>

<p>https://github.com/mapbox/mapbox-gl-native/issues/11378</p>
<p><br></p>
<h3>Suggest</h3>
<p>If compileOptions doesn't work, try this</p>
<p>Disable 'Instant Run'.</p>
<p>Android Studio -&gt; <code>File</code> -&gt; <code>Settings</code> -&gt; <code>Build, Execution, Deployment</code>
-&gt; <code>Instant Run</code> -&gt; Disable checkbox</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-match-all-occurrences-of-a-regular-expression-in-ruby/" class="u-url">How to match all occurrences of a regular expression in Ruby</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-match-all-occurrences-of-a-regular-expression-in-ruby/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T20:51:39+08:00" itemprop="datePublished" title="2023-02-17 20:51">2023-02-17 20:51</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is there a quick way to find every match of a regular expression in Ruby? I've
looked through the Regex object in the Ruby STL and searched on Google to no
avail.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Using <code>scan</code> should do the trick:</p>
<div class="code"><pre class="code literal-block"><span class="k">string</span><span class="p">.</span><span class="n">scan</span><span class="p">(</span><span class="o">/</span><span class="n">regex</span><span class="o">/</span><span class="p">)</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>To find all the matching strings, use String's <code>scan</code> method.</p>
<div class="code"><pre class="code literal-block">str = "A 54mpl3 string w1th 7 numb3rs scatter36 ar0und"
str.scan(/\d+/)
#=&gt; ["54", "3", "1", "7", "3", "36", "0"]
</pre></div>

<p>If you want, <code>MatchData</code>, which is the type of the object returned by the
Regexp <code>match</code> method, use:</p>
<div class="code"><pre class="code literal-block"><span class="nb">str</span><span class="o">.</span><span class="n">to_enum</span><span class="p">(:</span><span class="n">scan</span><span class="p">,</span><span class="w"> </span><span class="o">/</span>\<span class="n">d</span><span class="o">+/</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Regexp</span><span class="o">.</span><span class="n">last_match</span><span class="w"> </span><span class="p">}</span>
<span class="c1">#=&gt; [#&lt;MatchData "54"&gt;, #&lt;MatchData "3"&gt;, #&lt;MatchData "1"&gt;, #&lt;MatchData "7"&gt;, #&lt;MatchData "3"&gt;, #&lt;MatchData "36"&gt;, #&lt;MatchData "0"&gt;]</span>
</pre></div>

<p>The benefit of using <code>MatchData</code> is that you can use methods like <code>offset</code>:</p>
<div class="code"><pre class="code literal-block"><span class="n">match_datas</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">str</span><span class="o">.</span><span class="n">to_enum</span><span class="p">(:</span><span class="n">scan</span><span class="p">,</span><span class="w"> </span><span class="o">/</span>\<span class="n">d</span><span class="o">+/</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Regexp</span><span class="o">.</span><span class="n">last_match</span><span class="w"> </span><span class="p">}</span>
<span class="n">match_datas</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">offset</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="c1">#=&gt; [2, 4]</span>
<span class="n">match_datas</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">offset</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="c1">#=&gt; [7, 8]</span>
</pre></div>

<p>See these questions if you'd like to know more:</p>
<ul>
<li>"How do I get the match data for all occurrences of a Ruby regular expression in a string?"</li>
<li>"Ruby regular expression matching enumerator with named capture support"</li>
<li>"How to find out the starting point for each match in ruby"</li>
</ul>
<p>Reading about special variables <code>$&amp;</code>, <code>$'</code>, <code>$1</code>, <code>$2</code> in Ruby will be helpful
too.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-966.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-964.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 250) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-250.html">
<link rel="prev" href="index-251.html" type="text/html">
<link rel="next" href="index-249.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/check-synchronously-if-file-directory-exists-in-node-js/" class="u-url">Check synchronously if file/directory exists in Node.js</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/check-synchronously-if-file-directory-exists-in-node-js/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T02:05:35+08:00" itemprop="datePublished" title="2023-02-17 02:05">2023-02-17 02:05</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How can I synchronously check, using <strong>node.js</strong> , if a file or directory
exists?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The answer to this question has changed over the years. The <em>current</em> answer
is here at the top, followed by the various answers over the years in
chronological order:</p>
<h3>Current Answer</h3>
<p>You can use <code>fs.existsSync()</code>:</p>
<div class="code"><pre class="code literal-block"><span class="n">const</span> <span class="n">fs</span> <span class="o">=</span> <span class="n">require</span><span class="p">(</span><span class="s2">"fs"</span><span class="p">);</span> <span class="o">//</span> <span class="n">Or</span> <span class="err">`</span><span class="kn">import</span> <span class="nn">fs</span> <span class="kn">from</span> <span class="s2">"fs"</span><span class="p">;</span><span class="err">`</span> <span class="k">with</span> <span class="n">ESM</span>
<span class="k">if</span> <span class="p">(</span><span class="n">fs</span><span class="o">.</span><span class="n">existsSync</span><span class="p">(</span><span class="n">path</span><span class="p">))</span> <span class="p">{</span>
    <span class="o">//</span> <span class="n">Do</span> <span class="n">something</span>
<span class="p">}</span>
</pre></div>

<p>It was deprecated for several years, but no longer is. From the docs:</p>
<blockquote>
<p>Note that <code>fs.exists()</code> is deprecated, but <code>fs.existsSync()</code> is not. (The
callback parameter to <code>fs.exists()</code> accepts parameters that are inconsistent
with other Node.js callbacks. <code>fs.existsSync()</code> does not use a callback.)</p>
</blockquote>
<p>You've specifically asked for a <em>synchronous</em> check, but if you can use an
<em>asynchronous</em> check instead (usually best with I/O), use <code>fs.promises.access</code>
if you're using <code>async</code> functions or <code>fs.access</code> (since <code>exists</code> is
deprecated) if not:</p>
<p>In an <code>async</code> function:</p>
<div class="code"><pre class="code literal-block">try {
    await fs.promises.access("somefile");
    // The check succeeded
} catch (error) {
    // The check failed
}
</pre></div>

<p>Or with a callback:</p>
<div class="code"><pre class="code literal-block"><span class="nv">fs</span>.<span class="nv">access</span><span class="ss">(</span><span class="s2">"somefile"</span>,<span class="w"> </span><span class="nv">error</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span>{
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="o">!</span><span class="nv">error</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="nv">The</span><span class="w"> </span><span class="nv">check</span><span class="w"> </span><span class="nv">succeeded</span>
<span class="w">    </span>}<span class="w"> </span><span class="k">else</span><span class="w"> </span>{
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="nv">The</span><span class="w"> </span><span class="nv">check</span><span class="w"> </span><span class="nv">failed</span>
<span class="w">    </span>}
}<span class="ss">)</span><span class="c1">;</span>
</pre></div>

<hr>
<h3>Historical Answers</h3>
<p>Here are the historical answers in chronological order:</p>
<ul>
<li>
<p><strong>Original answer from 2010</strong> <br>
(<code>stat</code>/<code>statSync</code> or <code>lstat</code>/<code>lstatSync</code>)</p>
</li>
<li>
<p><strong>Update September 2012</strong> <br>
(<code>exists</code>/<code>existsSync</code>)</p>
</li>
<li>
<p><strong>Update February 2015</strong> <br>
(Noting impending deprecation of <code>exists</code>/<code>existsSync</code>, so we're probably back
to <code>stat</code>/<code>statSync</code> or <code>lstat</code>/<code>lstatSync</code>)</p>
</li>
<li>
<p><strong>Update December 2015</strong> <br>
(There's also <code>fs.access(path, fs.F_OK, function(){})</code> / <code>fs.accessSync(path,
fs.F_OK)</code>, but note that if the file/directory doesn't exist, it's an error;
docs for <code>fs.stat</code> recommend using <code>fs.access</code> if you need to check for
existence without opening)</p>
</li>
<li>
<p><strong>Update December 2016</strong> <br><code>fs.exists()</code> is still deprecated but <code>fs.existsSync()</code> is no longer
deprecated. So you can safely use it now.</p>
</li>
</ul>
<h4>Original answer from 2010:</h4>
<p>You can use <code>statSync</code> or <code>lstatSync</code> (docs link), which give you an
<code>fs.Stats</code> object. In general, if a synchronous version of a function is
available, it will have the same name as the async version with <code>Sync</code> at the
end. So <code>statSync</code> is the synchronous version of <code>stat</code>; <code>lstatSync</code> is the
synchronous version of <code>lstat</code>, etc.</p>
<p><code>lstatSync</code> tells you both whether something exists, and if so, whether it's a
file or a directory (or in some file systems, a symbolic link, block device,
character device, etc.), e.g. if you need to know if it exists and is a
directory:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">fs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">require</span><span class="p">(</span><span class="s1">'fs'</span><span class="p">);</span>
<span class="n">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Query</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">entry</span>
<span class="w">    </span><span class="n">stats</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fs</span><span class="o">.</span><span class="n">lstatSync</span><span class="p">(</span><span class="s1">'/the/path'</span><span class="p">);</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Is</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">directory</span><span class="err">?</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">stats</span><span class="o">.</span><span class="n">isDirectory</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="n">Yes</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="k">is</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
<span class="n">catch</span><span class="w"> </span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="o">...</span>
<span class="p">}</span>
</pre></div>

<p>...and similarly, if it's a file, there's <code>isFile</code>; if it's a block device,
there's <code>isBlockDevice</code>, etc., etc. Note the <code>try/catch</code>; it throws an error
if the entry doesn't exist at all.</p>
<p><del>If you don't care what the entry <em>is</em> and only want to know whether it
exists, you can use <code>path.existsSync</code> (or with latest, <code>fs.existsSync</code>) as
noted by user618408:</del></p>
<p>~~</p>
<div class="code"><pre class="code literal-block"><span class="w"> </span><span class="k">var</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">require</span><span class="p">(</span><span class="s1">'path'</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">existsSync</span><span class="p">(</span><span class="s2">"/the/path"</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">fs</span><span class="o">.</span><span class="n">existsSync</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="o">...</span>
<span class="p">}</span>
</pre></div>

<p>~~</p>
<p><del>It doesn't require a<code>try/catch</code> but gives you no information about what the
thing is, just that it's there.</del> <code>path.existsSync</code> was deprecated long ago.</p>
<hr>
<p>Side note: You've expressly asked how to check <em>synchronously</em> , so I've used
the <code>xyzSync</code> versions of the functions above. But wherever possible, with
I/O, it really is best to avoid synchronous calls. Calls into the I/O
subsystem take significant time from a CPU's point of view. Note how easy it
is to call <code>lstat</code> rather than <code>lstatSync</code>:</p>
<div class="code"><pre class="code literal-block"><span class="c1">// Is it a directory?</span>
<span class="n">lstat</span><span class="p">(</span><span class="s">'/the/path'</span><span class="p">,</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">err</span><span class="p">,</span><span class="w"> </span><span class="n">stats</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span>!<span class="n">err</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">stats</span><span class="p">.</span><span class="n">isDirectory</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Yes it is</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">});</span>
</pre></div>

<p>But if you need the synchronous version, it's there.</p>
<h4>Update September 2012</h4>
<p>The below answer from a couple of years ago is now a bit out of date. The
current way is to use <code>fs.existsSync</code> to do a synchronous check for
file/directory existence (or of course <code>fs.exists</code> for an asynchronous check),
rather than the <code>path</code> versions below.</p>
<p>Example:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">fs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">require</span><span class="p">(</span><span class="s1">'fs'</span><span class="p">);</span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">fs</span><span class="o">.</span><span class="n">existsSync</span><span class="p">(</span><span class="n">path</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Do</span><span class="w"> </span><span class="n">something</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">Or</span>

<span class="n">fs</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="n">exists</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">exists</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="n">Do</span><span class="w"> </span><span class="n">something</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">});</span>
</pre></div>

<h4>Update February 2015</h4>
<p>And here we are in 2015 and the Node docs now say that <code>fs.existsSync</code> (and
<code>fs.exists</code>) "will be deprecated". (Because the Node folks think it's dumb to
check whether something exists before opening it, which it is; but that's not
the only reason for checking whether something exists!)</p>
<p>So we're probably back to the various <code>stat</code> methods... Until/unless this
changes yet again, of course.</p>
<h4>Update December 2015</h4>
<p>Don't know how long it's been there, but there's also <code>fs.access(path,
fs.F_OK, ...)</code> / <code>fs.accessSync(path, fs.F_OK)</code>. And at least as of October
2016, the <code>fs.stat</code> documentation recommends using <code>fs.access</code> to do existence
checks ( <em>"To check if a file exists without manipulating it
afterwards,<code>fs.access()</code> is recommended."</em>). But note that the access not
being available is considered an <em>error</em> , so this would probably be best if
you're expecting the file to be accessible:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">fs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">require</span><span class="p">(</span><span class="s1">'fs'</span><span class="p">);</span>

<span class="n">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">fs</span><span class="o">.</span><span class="n">accessSync</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="w"> </span><span class="n">fs</span><span class="o">.</span><span class="n">F_OK</span><span class="p">);</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Do</span><span class="w"> </span><span class="n">something</span>
<span class="p">}</span><span class="w"> </span><span class="n">catch</span><span class="w"> </span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">It</span><span class="w"> </span><span class="n">isn</span><span class="s1">'t accessible</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">Or</span>

<span class="n">fs</span><span class="o">.</span><span class="n">access</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="w"> </span><span class="n">fs</span><span class="o">.</span><span class="n">F_OK</span><span class="p">,</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">err</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="n">Do</span><span class="w"> </span><span class="n">something</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="n">It</span><span class="w"> </span><span class="n">isn</span><span class="s1">'t accessible</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">});</span>
</pre></div>

<h4>Update December 2016</h4>
<p>You can use <code>fs.existsSync()</code>:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">fs</span>.<span class="nv">existsSync</span><span class="ss">(</span><span class="nv">path</span><span class="ss">))</span><span class="w"> </span>{
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="k">Do</span><span class="w"> </span><span class="nv">something</span>
}
</pre></div>

<p>It was deprecated for several years, but no longer is. From the docs:</p>
<blockquote>
<p>Note that <code>fs.exists()</code> is deprecated, but <code>fs.existsSync()</code> is not. (The
callback parameter to <code>fs.exists()</code> accepts parameters that are inconsistent
with other Node.js callbacks. <code>fs.existsSync()</code> does not use a callback.)</p>
</blockquote>
<p><br></p>
<h3>Suggest</h3>
<p>Looking at the source, there's a synchronous version of <code>path.exists</code> -
<code>path.existsSync</code>. Looks like it got missed in the docs.</p>
<h4>Update:</h4>
<p><code>path.exists</code> and <code>path.existsSync</code> are now <strong>deprecated</strong>. <del>Please
use<code>fs.exists</code> and <code>fs.existsSync</code></del>.</p>
<h4>Update 2016:</h4>
<p><code>fs.exists</code> <del>and<code>fs.existsSync</code> have also</del> <strong>been deprecated</strong>. Use
fs.stat() or fs.access() instead.</p>
<h4>Update 2019:</h4>
<p>use <code>fs.existsSync</code>. It's not deprecated.
https://nodejs.org/api/fs.html#fs_fs_existssync_path</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-compare-arrays-in-javascript/" class="u-url">How to compare arrays in JavaScript?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-compare-arrays-in-javascript/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T02:05:05+08:00" itemprop="datePublished" title="2023-02-17 02:05">2023-02-17 02:05</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'd like to compare two arrays... ideally, efficiently. Nothing fancy, just
<code>true</code> if they are identical, and <code>false</code> if not. Not surprisingly, the
comparison operator doesn't seem to work.</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">a1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">];</span>
<span class="k">var</span><span class="w"> </span><span class="n">a2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">];</span>
<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">a1</span><span class="o">==</span><span class="n">a2</span><span class="p">);</span><span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Returns</span><span class="w"> </span><span class="bp">false</span>
<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">JSON</span><span class="o">.</span><span class="n">stringify</span><span class="p">(</span><span class="n">a1</span><span class="p">)</span><span class="o">==</span><span class="n">JSON</span><span class="o">.</span><span class="n">stringify</span><span class="p">(</span><span class="n">a2</span><span class="p">));</span><span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Returns</span><span class="w"> </span><span class="bp">true</span>
</pre></div>

<p>JSON encoding each array does, but is there a faster or "better" way to simply
compare arrays without having to iterate through each value?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>To compare arrays, loop through them and compare every value:</p>
<h3>Comparing arrays:</h3>
<div class="code"><pre class="code literal-block"><span class="o">//</span><span class="w"> </span><span class="n">Warn</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">overriding</span><span class="w"> </span><span class="n">existing</span><span class="w"> </span><span class="k">method</span>
<span class="k">if</span><span class="p">(</span><span class="k">Array</span><span class="p">.</span><span class="n">prototype</span><span class="p">.</span><span class="k">equals</span><span class="p">)</span>
<span class="w">    </span><span class="n">console</span><span class="p">.</span><span class="n">warn</span><span class="p">(</span><span class="ss">"Overriding existing Array.prototype.equals. Possible causes: New API defines the method, there's a framework conflict or you've got double inclusions in your code."</span><span class="p">);</span>
<span class="o">//</span><span class="w"> </span><span class="n">attach</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="p">.</span><span class="k">equals</span><span class="w"> </span><span class="k">method</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">Array</span><span class="err">'</span><span class="n">s</span><span class="w"> </span><span class="n">prototype</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="ow">any</span><span class="w"> </span><span class="k">array</span>
<span class="k">Array</span><span class="p">.</span><span class="n">prototype</span><span class="p">.</span><span class="k">equals</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="p">(</span><span class="k">array</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="k">array</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">falsy</span><span class="w"> </span><span class="k">value</span><span class="p">,</span><span class="w"> </span><span class="k">return</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="err">!</span><span class="k">array</span><span class="p">)</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">false</span><span class="p">;</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">argument</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="k">array</span><span class="p">,</span><span class="w"> </span><span class="n">we</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">sure</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">contents</span><span class="w"> </span><span class="k">are</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">well</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="k">array</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="n">this</span><span class="p">)</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">true</span><span class="p">;</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">compare</span><span class="w"> </span><span class="n">lengths</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="k">save</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">lot</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nc">time</span><span class="w"> </span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">length</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="k">array</span><span class="p">.</span><span class="n">length</span><span class="p">)</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">false</span><span class="p">;</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="nf">var</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">l</span><span class="o">=</span><span class="n">this</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">l</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="k">Check</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">we</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">nested</span><span class="w"> </span><span class="n">arrays</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">this</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="n">instanceof</span><span class="w"> </span><span class="k">Array</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="k">array</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="n">instanceof</span><span class="w"> </span><span class="k">Array</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="n">recurse</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">nested</span><span class="w"> </span><span class="n">arrays</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="err">!</span><span class="n">this</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">.</span><span class="k">equals</span><span class="p">(</span><span class="k">array</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">))</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="k">false</span><span class="p">;</span><span class="w">       </span>
<span class="w">        </span><span class="err">}</span><span class="w">           </span>
<span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">this</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="k">array</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="err">{</span><span class="w"> </span>
<span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="n">Warning</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="k">object</span><span class="w"> </span><span class="n">instances</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">never</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="nl">equal</span><span class="p">:</span><span class="w"> </span><span class="err">{</span><span class="nl">x</span><span class="p">:</span><span class="mi">20</span><span class="err">}</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="err">{</span><span class="nl">x</span><span class="p">:</span><span class="mi">20</span><span class="err">}</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">false</span><span class="p">;</span><span class="w">   </span>
<span class="w">        </span><span class="err">}</span><span class="w">           </span>
<span class="w">    </span><span class="err">}</span><span class="w">       </span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">true</span><span class="p">;</span>
<span class="err">}</span>
<span class="o">//</span><span class="w"> </span><span class="n">Hide</span><span class="w"> </span><span class="k">method</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">for</span><span class="o">-</span><span class="ow">in</span><span class="w"> </span><span class="n">loops</span>
<span class="k">Object</span><span class="p">.</span><span class="n">defineProperty</span><span class="p">(</span><span class="k">Array</span><span class="p">.</span><span class="n">prototype</span><span class="p">,</span><span class="w"> </span><span class="ss">"equals"</span><span class="p">,</span><span class="w"> </span><span class="err">{</span><span class="nl">enumerable</span><span class="p">:</span><span class="w"> </span><span class="k">false</span><span class="err">}</span><span class="p">);</span>
</pre></div>

<h4>Usage:</h4>
<div class="code"><pre class="code literal-block">[1, 2, [3, 4]].equals([1, 2, [3, 2]]) === false;
[1, "2,3"].equals([1, 2, 3]) === false;
[1, 2, [3, 4]].equals([1, 2, [3, 4]]) === true;
[1, 2, 1, 2].equals([1, 2, 1, 2]) === true;
</pre></div>

<p>You may say " <em>But it is much faster to compare strings - no loops...</em> " well,
then you should note there ARE loops. First recursive loop that converts Array
to string and second, that compares two strings. So this method <strong>is faster
than use of string</strong>.</p>
<p>I believe that larger amounts of data should be always stored in arrays, not
in objects. However if you use objects, they can be partially compared too.<br><strong>Here's how:</strong></p>
<h3>Comparing objects:</h3>
<p>I've stated above, that two object <strong>instances</strong> will never be equal, even if
they contain same data at the moment:</p>
<div class="code"><pre class="code literal-block">({a:1, foo:"bar", numberOfTheBeast: 666}) == ({a:1, foo:"bar", numberOfTheBeast: 666})  //false
</pre></div>

<p>This has a reason, since there may be, for example private variables within
objects.</p>
<p>However, if you just use object structure to contain data, comparing is still
possible:</p>
<div class="code"><pre class="code literal-block"><span class="k">Object</span><span class="p">.</span><span class="n">prototype</span><span class="p">.</span><span class="k">equals</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">object2</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="o">//</span><span class="k">For</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">first</span><span class="w"> </span><span class="n">loop</span><span class="p">,</span><span class="w"> </span><span class="n">we</span><span class="w"> </span><span class="k">only</span><span class="w"> </span><span class="k">check</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">types</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">propName</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">this</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="o">//</span><span class="k">Check</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">inherited</span><span class="w"> </span><span class="n">methods</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">properties</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="ow">like</span><span class="w"> </span><span class="p">.</span><span class="k">equals</span><span class="w"> </span><span class="n">itself</span>
<span class="w">        </span><span class="o">//</span><span class="nl">https</span><span class="p">:</span><span class="o">//</span><span class="n">developer</span><span class="p">.</span><span class="n">mozilla</span><span class="p">.</span><span class="n">org</span><span class="o">/</span><span class="n">en</span><span class="o">-</span><span class="n">US</span><span class="o">/</span><span class="n">docs</span><span class="o">/</span><span class="n">Web</span><span class="o">/</span><span class="n">JavaScript</span><span class="o">/</span><span class="n">Reference</span><span class="o">/</span><span class="n">Global_Objects</span><span class="o">/</span><span class="k">Object</span><span class="o">/</span><span class="n">hasOwnProperty</span>
<span class="w">        </span><span class="o">//</span><span class="k">Return</span><span class="w"> </span><span class="k">false</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="k">value</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">different</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">hasOwnProperty</span><span class="p">(</span><span class="n">propName</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">object2</span><span class="p">.</span><span class="n">hasOwnProperty</span><span class="p">(</span><span class="n">propName</span><span class="p">))</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">false</span><span class="p">;</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">        </span><span class="o">//</span><span class="k">Check</span><span class="w"> </span><span class="n">instance</span><span class="w"> </span><span class="n">type</span>
<span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">typeof</span><span class="w"> </span><span class="n">this</span><span class="o">[</span><span class="n">propName</span><span class="o">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">typeof</span><span class="w"> </span><span class="n">object2</span><span class="o">[</span><span class="n">propName</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="o">//</span><span class="n">Different</span><span class="w"> </span><span class="n">types</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">equal</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">false</span><span class="p">;</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">    </span><span class="err">}</span>
<span class="w">    </span><span class="o">//</span><span class="n">Now</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">deeper</span><span class="w"> </span><span class="k">check</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">objects</span><span class="w"> </span><span class="n">property</span><span class="w"> </span><span class="k">names</span>
<span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">propName</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">object2</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="o">//</span><span class="n">We</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="k">check</span><span class="w"> </span><span class="n">instances</span><span class="w"> </span><span class="n">anyway</span><span class="p">,</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">property</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="k">only</span><span class="w"> </span><span class="ow">exists</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">object2</span>
<span class="w">            </span><span class="o">//</span><span class="n">I</span><span class="w"> </span><span class="n">wonder</span><span class="p">,</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">remembering</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">checked</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">first</span><span class="w"> </span><span class="n">loop</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">faster</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">hasOwnProperty</span><span class="p">(</span><span class="n">propName</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">object2</span><span class="p">.</span><span class="n">hasOwnProperty</span><span class="p">(</span><span class="n">propName</span><span class="p">))</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">false</span><span class="p">;</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">typeof</span><span class="w"> </span><span class="n">this</span><span class="o">[</span><span class="n">propName</span><span class="o">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">typeof</span><span class="w"> </span><span class="n">object2</span><span class="o">[</span><span class="n">propName</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">false</span><span class="p">;</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">        </span><span class="o">//</span><span class="k">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">property</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">inherited</span><span class="p">,</span><span class="w"> </span><span class="n">do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="k">check</span><span class="w"> </span><span class="ow">any</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="p">(</span><span class="n">it</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">equa</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="k">both</span><span class="w"> </span><span class="n">objects</span><span class="w"> </span><span class="n">inherit</span><span class="w"> </span><span class="n">it</span><span class="p">)</span>
<span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="err">!</span><span class="n">this</span><span class="p">.</span><span class="n">hasOwnProperty</span><span class="p">(</span><span class="n">propName</span><span class="p">))</span>
<span class="w">          </span><span class="k">continue</span><span class="p">;</span>

<span class="w">        </span><span class="o">//</span><span class="n">Now</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">detail</span><span class="w"> </span><span class="k">check</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">recursion</span>

<span class="w">        </span><span class="o">//</span><span class="n">This</span><span class="w"> </span><span class="k">returns</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">script</span><span class="w"> </span><span class="n">back</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">array</span><span class="w"> </span><span class="n">comparing</span>
<span class="w">        </span><span class="cm">/**REQUIRES Array.equals**/</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">this</span><span class="o">[</span><span class="n">propName</span><span class="o">]</span><span class="w"> </span><span class="n">instanceof</span><span class="w"> </span><span class="k">Array</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">object2</span><span class="o">[</span><span class="n">propName</span><span class="o">]</span><span class="w"> </span><span class="n">instanceof</span><span class="w"> </span><span class="k">Array</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">                   </span><span class="o">//</span><span class="w"> </span><span class="n">recurse</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">nested</span><span class="w"> </span><span class="n">arrays</span>
<span class="w">           </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="err">!</span><span class="n">this</span><span class="o">[</span><span class="n">propName</span><span class="o">]</span><span class="p">.</span><span class="k">equals</span><span class="p">(</span><span class="n">object2</span><span class="o">[</span><span class="n">propName</span><span class="o">]</span><span class="p">))</span>
<span class="w">                        </span><span class="k">return</span><span class="w"> </span><span class="k">false</span><span class="p">;</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">this</span><span class="o">[</span><span class="n">propName</span><span class="o">]</span><span class="w"> </span><span class="n">instanceof</span><span class="w"> </span><span class="k">Object</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">object2</span><span class="o">[</span><span class="n">propName</span><span class="o">]</span><span class="w"> </span><span class="n">instanceof</span><span class="w"> </span><span class="k">Object</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">                   </span><span class="o">//</span><span class="w"> </span><span class="n">recurse</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">another</span><span class="w"> </span><span class="n">objects</span>
<span class="w">                   </span><span class="o">//</span><span class="n">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="ss">"Recursing to compare "</span><span class="p">,</span><span class="w"> </span><span class="n">this</span><span class="o">[</span><span class="n">propName</span><span class="o">]</span><span class="p">,</span><span class="ss">"with"</span><span class="p">,</span><span class="n">object2</span><span class="o">[</span><span class="n">propName</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="ss">" both named \""+propName+"</span><span class="err">\</span><span class="ss">""</span><span class="p">);</span>
<span class="w">           </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="err">!</span><span class="n">this</span><span class="o">[</span><span class="n">propName</span><span class="o">]</span><span class="p">.</span><span class="k">equals</span><span class="p">(</span><span class="n">object2</span><span class="o">[</span><span class="n">propName</span><span class="o">]</span><span class="p">))</span>
<span class="w">                        </span><span class="k">return</span><span class="w"> </span><span class="k">false</span><span class="p">;</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">        </span><span class="o">//</span><span class="n">Normal</span><span class="w"> </span><span class="k">value</span><span class="w"> </span><span class="n">comparison</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">strings</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">numbers</span>
<span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">this</span><span class="o">[</span><span class="n">propName</span><span class="o">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">object2</span><span class="o">[</span><span class="n">propName</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">           </span><span class="k">return</span><span class="w"> </span><span class="k">false</span><span class="p">;</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">    </span><span class="err">}</span>
<span class="w">    </span><span class="o">//</span><span class="k">If</span><span class="w"> </span><span class="n">everything</span><span class="w"> </span><span class="n">passed</span><span class="p">,</span><span class="w"> </span><span class="n">let</span><span class="err">'</span><span class="n">s</span><span class="w"> </span><span class="n">say</span><span class="w"> </span><span class="n">YES</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">true</span><span class="p">;</span>
<span class="err">}</span>
</pre></div>

<p>However, remember that this one is to serve in comparing JSON like data, not
class instances and other stuff. If you want to compare more complicated
objects, look at this answer and it's super long function.<br>
To make this work with <code>Array.equals</code> you must edit the original function a
little bit:</p>
<div class="code"><pre class="code literal-block"><span class="p">...</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="k">Check</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">we</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">nested</span><span class="w"> </span><span class="n">arrays</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">this</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="n">instanceof</span><span class="w"> </span><span class="k">Array</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="k">array</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="n">instanceof</span><span class="w"> </span><span class="k">Array</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="n">recurse</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">nested</span><span class="w"> </span><span class="n">arrays</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="err">!</span><span class="n">this</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">.</span><span class="k">equals</span><span class="p">(</span><span class="k">array</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">))</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">false</span><span class="p">;</span>
<span class="w">    </span><span class="err">}</span>
<span class="w">    </span><span class="cm">/**REQUIRES OBJECT COMPARE**/</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">this</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="n">instanceof</span><span class="w"> </span><span class="k">Object</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="k">array</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="n">instanceof</span><span class="w"> </span><span class="k">Object</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="n">recurse</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">another</span><span class="w"> </span><span class="n">objects</span>
<span class="w">        </span><span class="o">//</span><span class="n">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="ss">"Recursing to compare "</span><span class="p">,</span><span class="w"> </span><span class="n">this</span><span class="o">[</span><span class="n">propName</span><span class="o">]</span><span class="p">,</span><span class="ss">"with"</span><span class="p">,</span><span class="n">object2</span><span class="o">[</span><span class="n">propName</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="ss">" both named \""+propName+"</span><span class="err">\</span><span class="ss">""</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="err">!</span><span class="n">this</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">.</span><span class="k">equals</span><span class="p">(</span><span class="k">array</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">))</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">false</span><span class="p">;</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">this</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="k">array</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="p">...</span>
</pre></div>

<p>I made a little test tool for both of the functions.</p>
<h3>Bonus: Nested arrays with <code>indexOf</code> and <code>contains</code>
</h3>
<p>Samy Bencherif has prepared useful functions for the case you're searching for
a specific object in nested arrays, which are available here:
https://jsfiddle.net/SamyBencherif/8352y6yw/</p>
<p><br></p>
<h3>Suggest</h3>
<p>While this only works for scalar arrays (see note below), it is short code:</p>
<div class="code"><pre class="code literal-block"><span class="n">array1</span><span class="p">.</span><span class="n">length</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="n">array2</span><span class="p">.</span><span class="n">length</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">array1</span><span class="p">.</span><span class="k">every</span><span class="p">(</span><span class="k">function</span><span class="p">(</span><span class="k">value</span><span class="p">,</span><span class="w"> </span><span class="k">index</span><span class="p">)</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="k">value</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="n">array2</span><span class="o">[</span><span class="n">index</span><span class="o">]</span><span class="err">}</span><span class="p">)</span>
</pre></div>

<p>Same as above but in ECMAScript 6 / CoffeeScript / TypeScript with Arrow
Functions:</p>
<div class="code"><pre class="code literal-block"><span class="n">array1</span><span class="p">.</span><span class="n">length</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="n">array2</span><span class="p">.</span><span class="n">length</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">array1</span><span class="p">.</span><span class="k">every</span><span class="p">((</span><span class="k">value</span><span class="p">,</span><span class="w"> </span><span class="k">index</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="k">value</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="n">array2</span><span class="o">[</span><span class="n">index</span><span class="o">]</span><span class="p">)</span>
</pre></div>

<p>(Note: 'scalar' here means values that can be compared directly using <code>===</code> .
So: numbers, strings, objects by reference, functions by reference. See the
MDN reference for more info about the comparison operators).</p>
<p><strong>UPDATE</strong></p>
<p>From what I read in the comments, sorting the array and comparing may give
accurate result:</p>
<div class="code"><pre class="code literal-block"><span class="n">const</span><span class="w"> </span><span class="n">array2Sorted</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array2</span><span class="p">.</span><span class="n">slice</span><span class="p">().</span><span class="n">sort</span><span class="p">();</span>
<span class="n">array1</span><span class="p">.</span><span class="n">length</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="n">array2</span><span class="p">.</span><span class="n">length</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">array1</span><span class="p">.</span><span class="n">slice</span><span class="p">().</span><span class="n">sort</span><span class="p">().</span><span class="k">every</span><span class="p">(</span><span class="k">function</span><span class="p">(</span><span class="k">value</span><span class="p">,</span><span class="w"> </span><span class="k">index</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">value</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="n">array2Sorted</span><span class="o">[</span><span class="n">index</span><span class="o">]</span><span class="p">;</span>
<span class="err">}</span><span class="p">);</span>
</pre></div>

<p>Eg:</p>
<div class="code"><pre class="code literal-block">array1 = [2,3,1,4];
array2 = [1,2,3,4];
</pre></div>

<p>Then the above code would return <code>true</code></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/ignoring-directories-in-git-repositories-on-windows/" class="u-url">Ignoring directories in Git repositories on Windows</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/ignoring-directories-in-git-repositories-on-windows/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T02:04:37+08:00" itemprop="datePublished" title="2023-02-17 02:04">2023-02-17 02:04</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How can I ignore directories or folders in Git using msysgit on Windows?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Create a file named <code>.gitignore</code> in your project's directory. Ignore
directories by entering the directory name into the file (with a slash
appended):</p>
<div class="code"><pre class="code literal-block">dir_to_ignore/
</pre></div>

<p>More information is here.</p>
<p><br></p>
<h3>Suggest</h3>
<p>By default, Windows Explorer will display <code>.gitignore</code> when in fact the file
name is <code>.gitignore.txt</code>.</p>
<p>Git will not use <code>.gitignore.txt</code></p>
<p>And you can't rename the file to <code>.gitignore</code>, because Windows Explorer thinks
it's a file of type gitignore without a name.</p>
<p>Non command line solution:</p>
<div class="code"><pre class="code literal-block">You can rename a file to **".gitignore."** , and it will create **".gitignore"**
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-251.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-249.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1803) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1803.html">
<link rel="prev" href="index-1804.html" type="text/html">
<link rel="next" href="index-1802.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/can-i-use-multiple-versions-of-jquery-on-the-same-page/" class="u-url">Can I use multiple versions of jQuery on the same page?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/can-i-use-multiple-versions-of-jquery-on-the-same-page/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T09:43:04+08:00" itemprop="datePublished" title="2023-03-03 09:43">2023-03-03 09:43</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>A project I'm working on requires the use of jQuery on customers' Web pages.
Customers will insert a chunk of code that we'll supply which includes a few
<code>&lt;script&gt;</code> elements that build a widget in a <code>&lt;script&gt;</code>-created <code>&lt;iframe&gt;</code>. If
they aren't already using the latest version of jQuery, this will also include
(most likely) a <code>&lt;script&gt;</code> for Google's hosted version of jQuery.</p>
<p>The problem is that some customers may already have an older version of jQuery
installed. While this may work if it's at least a fairly recent version, our
code does rely on some recently introduced functionality in the jQuery
library, so there are bound to be instances when a customer's jQuery version
is just too old. We can't require that they upgrade to the latest version of
jQuery.</p>
<p>Is there any way to load a newer version of jQuery to use only within the
context of our code, that will not interfere with, or affect, any code on the
customer's page? Ideally, maybe we could check for the presence of jQuery,
detect the version, and if it's too old, then somehow load the most recent
version just to use for our code.</p>
<p>I had the idea of loading jQuery in an <code>&lt;iframe&gt;</code> in the customer's domain
that also includes our <code>&lt;script&gt;</code>, which seems like it might be feasible, but
I'm hoping there's a more elegant way to do it (not to mention without the
performance and complexity penalties of extra <code>&lt;iframe&gt;</code>s).</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Yes, it's doable due to jQuery's noconflict mode.
http://blog.nemikor.com/2009/10/03/using-multiple-versions-of-jquery/</p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;!--</span><span class="w"> </span><span class="nb">load</span><span class="w"> </span><span class="n">jQuery</span><span class="w"> </span><span class="mf">1.1</span><span class="o">.</span><span class="mi">3</span><span class="w"> </span><span class="o">--&gt;</span>
<span class="o">&lt;</span><span class="n">script</span><span class="w"> </span><span class="n">type</span><span class="o">=</span><span class="s2">"text/javascript"</span><span class="w"> </span><span class="n">src</span><span class="o">=</span><span class="s2">"http://example.com/jquery-1.1.3.js"</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">script</span><span class="w"> </span><span class="n">type</span><span class="o">=</span><span class="s2">"text/javascript"</span><span class="o">&gt;</span>
<span class="k">var</span><span class="w"> </span><span class="n">jQuery_1_1_3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">$.</span><span class="n">noConflict</span><span class="p">(</span><span class="bp">true</span><span class="p">);</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>

<span class="o">&lt;!--</span><span class="w"> </span><span class="nb">load</span><span class="w"> </span><span class="n">jQuery</span><span class="w"> </span><span class="mf">1.3</span><span class="o">.</span><span class="mi">2</span><span class="w"> </span><span class="o">--&gt;</span>
<span class="o">&lt;</span><span class="n">script</span><span class="w"> </span><span class="n">type</span><span class="o">=</span><span class="s2">"text/javascript"</span><span class="w"> </span><span class="n">src</span><span class="o">=</span><span class="s2">"http://example.com/jquery-1.3.2.js"</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">script</span><span class="w"> </span><span class="n">type</span><span class="o">=</span><span class="s2">"text/javascript"</span><span class="o">&gt;</span>
<span class="k">var</span><span class="w"> </span><span class="n">jQuery_1_3_2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">$.</span><span class="n">noConflict</span><span class="p">(</span><span class="bp">true</span><span class="p">);</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>

<p>Then, instead of <code>$('#selector').function();</code>, you'd do
<code>jQuery_1_3_2('#selector').function();</code> or
<code>jQuery_1_1_3('#selector').function();</code>.</p>
<p><br></p>
<h3>Suggest</h3>
<p>After looking at this and trying it out I found it actually didn't allow more
than one instance of jquery to run at a time. After searching around I found
that this did just the trick and was a whole lot less code.</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;script</span><span class="w"> </span><span class="na">src=</span><span class="s">"http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"</span><span class="w"> </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script</span><span class="w"> </span><span class="na">src=</span><span class="s">"http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"</span><span class="w"> </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>var<span class="w"> </span>$j<span class="w"> </span>=<span class="w"> </span>jQuery.noConflict(true);<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
<span class="w">  </span>$(document).ready(function(){
<span class="w">   </span>console.log($().jquery);<span class="w"> </span>//<span class="w"> </span>This<span class="w"> </span>prints<span class="w"> </span>v1.4.2
<span class="w">   </span>console.log($j().jquery);<span class="w"> </span>//<span class="w"> </span>This<span class="w"> </span>prints<span class="w"> </span>v1.9.1
<span class="w">  </span>});
<span class="nt">&lt;/script&gt;</span>
</pre></div>

<p>So then adding the "j" after the "$" was all I needed to do.</p>
<div class="code"><pre class="code literal-block"><span class="o">$</span><span class="n">j</span><span class="p">(</span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="o">$</span><span class="n">j</span><span class="p">(</span><span class="s1">'.button-pro'</span><span class="p">)</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s1">'click'</span><span class="p">,</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">el</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="s1">'#cnt'</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">this</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'btn'</span><span class="p">,</span><span class="w"> </span><span class="s1">''</span><span class="p">));</span>
<span class="w">    </span><span class="o">$</span><span class="n">j</span><span class="p">(</span><span class="s1">'#contentnew &gt; div'</span><span class="p">)</span><span class="o">.</span><span class="ow">not</span><span class="p">(</span><span class="n">el</span><span class="p">)</span><span class="o">.</span><span class="n">animate</span><span class="p">({</span>
<span class="w">      </span><span class="n">height</span><span class="p">:</span><span class="w"> </span><span class="s2">"toggle"</span><span class="p">,</span>
<span class="w">      </span><span class="n">opacity</span><span class="p">:</span><span class="w"> </span><span class="s2">"toggle"</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">hide</span><span class="p">();</span>
<span class="w">    </span><span class="n">el</span><span class="o">.</span><span class="n">toggle</span><span class="p">();</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">});</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/git-bash-is-extremely-slow-on-windows-7-x64/" class="u-url">Git Bash is extremely slow on Windows 7 x64</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/git-bash-is-extremely-slow-on-windows-7-x64/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T09:42:38+08:00" itemprop="datePublished" title="2023-03-03 09:42">2023-03-03 09:42</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I've been using Git on both Windows and Ubuntu during the development of a
small project, frequently flipping back and forth between the two. The issue
is that <em>Git Bash</em> consistently becomes slow.</p>
<p>When I say slow, I mean that running <code>cd</code> takes anywhere from 8-25 seconds,
running <code>git</code> commands take from 5-20 seconds, and <code>ls</code> can take up to 30
seconds sometimes. Needless to say, this is not fun, not to mention
unproductive. I know Git is slower on Windows, but this is ridiculous.</p>
<p>The one solution which has worked--temporarily--for me has been to disable my
network connection (as suggested in this answer), start Git Bash, and then
reconnect. Sometimes it continues to run quickly for days after doing that,
but the performance always degrades eventually. I've trawled through the
msysgit discussion group, Stack Overflow, msysgit issue list, etc. on and off
for weeks, but I haven't been able to turn up solutions which work.</p>
<p>So far, I've tried:</p>
<ul>
<li>Adding Git &amp; project folders to the virus scanner's exclusion list</li>
<li>Disabling my virus scanner completely (Kaspersky IS 2011)</li>
<li>Ensuring that Outlook is not running (Outlook 2007)</li>
<li>Shutting down all other applications</li>
<li>Running Git Bash as administrator</li>
<li>Disabling network connection, starting Git Bash, and keeping connection disabled</li>
<li>Disabling network connection, starting Git Bash, re-enabling connection (works only occasionally)</li>
<li>Running <code>git gc</code>
</li>
<li>And combinations of the above</li>
</ul>
<p>I did read that a couple of people had success disabling Bash completion, but
ideally I'd like to keep that active. The version of msysgit is
1.7.3.1-preview20101002 &amp; the OS is Windows 7 x64. Running the same things on
Linux is, predictably, lightning fast. I would use Linux exclusively, but I
need to run stuff in Windows, too (certain applications, testing, etc.).</p>
<p>Has anyone encountered a similar issue? If so, what was the underlying problem
and what was the solution (if any)?</p>
<p>This extends beyond just the Git repositories, but just for reference, the
repositories I've been using Git with have been pretty small: ~4-50 files
maximum.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>It appears that completely uninstalling Git, restarting (the classic Windows
cure), and reinstalling Git was the cure. I also wiped out all bash config
files which were left over (they were manually created). Everything is fast
again.</p>
<p>If for some reason reinstalling isn't possible (or desirable), then I would
definitely try changing the PS1 variable referenced in Chris Dolan's answer;
it resulted in significant speedups in certain operations.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Do you have Git information showing in your Bash prompt? If so, maybe you're
inadvertently doing way too much work on every command. To test this theory
try the following temporary change in Bash:</p>
<div class="code"><pre class="code literal-block"><span class="k">export</span><span class="w"> </span><span class="n">PS1</span><span class="o">=</span><span class="s1">'$'</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/is-there-a-python-equivalent-of-the-c-null-coalescing-operator/" class="u-url">Is there a Python equivalent of the C# null-coalescing operator?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/is-there-a-python-equivalent-of-the-c-null-coalescing-operator/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T09:42:13+08:00" itemprop="datePublished" title="2023-03-03 09:42">2023-03-03 09:42</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>In C# there's a null-coalescing operator (written as <code>??</code>) that allows for
easy (short) null checking during assignment:</p>
<div class="code"><pre class="code literal-block"><span class="n">string</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">;</span>
<span class="k">var</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="err">??</span><span class="w"> </span><span class="s2">"some default value"</span><span class="p">;</span>
</pre></div>

<p>Is there a python equivalent?</p>
<p>I know that I can do:</p>
<div class="code"><pre class="code literal-block"><span class="nv">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">None</span>
<span class="nv">other</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">s</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">s</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s2">"some default value"</span>
</pre></div>

<p>But is there an even shorter way (where I don't need to repeat <code>s</code>)?</p>
<p><br><br></p>
<h2>Answer</h2>
<div class="code"><pre class="code literal-block">other = s or "some default value"
</pre></div>

<p>Ok, it must be clarified how the <code>or</code> operator works. It is a boolean
operator, so it works in a boolean context. If the values are not boolean,
they are converted to boolean for the purposes of the operator.</p>
<p>Note that the <code>or</code> operator does not return only <code>True</code> or <code>False</code>. Instead,
it returns the first operand if the first operand evaluates to true, and it
returns the second operand if the first operand evaluates to false.</p>
<p>In this case, the expression <code>x or y</code> returns <code>x</code> if it is <code>True</code> or evaluates
to true when converted to boolean. Otherwise, it returns <code>y</code>. For most cases,
this will serve for the very same purpose of C♯'s null-coalescing operator,
but keep in mind:</p>
<div class="code"><pre class="code literal-block"><span class="mf">42</span><span class="w">    </span><span class="ow">or</span><span class="w"> </span><span class="s">"something"</span><span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="kr">return</span><span class="n">s</span><span class="w"> </span><span class="mf">42</span>
<span class="mf">0</span><span class="w">     </span><span class="ow">or</span><span class="w"> </span><span class="s">"something"</span><span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="kr">return</span><span class="n">s</span><span class="w"> </span><span class="s">"something"</span>
<span class="n">None</span><span class="w">  </span><span class="ow">or</span><span class="w"> </span><span class="s">"something"</span><span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="kr">return</span><span class="n">s</span><span class="w"> </span><span class="s">"something"</span>
<span class="n">False</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s">"something"</span><span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="kr">return</span><span class="n">s</span><span class="w"> </span><span class="s">"something"</span>
<span class="s">""</span><span class="w">    </span><span class="ow">or</span><span class="w"> </span><span class="s">"something"</span><span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="kr">return</span><span class="n">s</span><span class="w"> </span><span class="s">"something"</span>
</pre></div>

<p>If you use your variable <code>s</code> to hold something that is either a reference to
the instance of a class or <code>None</code> (as long as your class does not define
members <code>__nonzero__()</code> and <code>__len__()</code>), it is secure to use the same
semantics as the null-coalescing operator.</p>
<p>In fact, it may even be useful to have this side-effect of Python. Since you
know what values evaluates to false, you can use this to trigger the default
value without using <code>None</code> specifically (an error object, for example).</p>
<p>In some languages this behavior is referred to as the Elvis operator.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Strictly,</p>
<div class="code"><pre class="code literal-block"><span class="nv">other</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">s</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">s</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">not</span><span class="w"> </span><span class="nv">None</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s2">"default value"</span>
</pre></div>

<p>Otherwise, <code>s = False</code> will become <code>"default value"</code>, which may not be what
was intended.</p>
<p>If you want to make this shorter, try:</p>
<div class="code"><pre class="code literal-block"><span class="nv">def</span><span class="w"> </span><span class="nv">notNone</span><span class="ss">(</span><span class="nv">s</span>,<span class="nv">d</span><span class="ss">)</span>:
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nv">s</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">None</span>:
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nv">d</span>
<span class="w">    </span><span class="k">else</span>:
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nv">s</span>

<span class="nv">other</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">notNone</span><span class="ss">(</span><span class="nv">s</span>,<span class="w"> </span><span class="s2">"default value"</span><span class="ss">)</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1804.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1802.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2737) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2737.html">
<link rel="prev" href="index-2738.html" type="text/html">
<link rel="next" href="index-2736.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-format-a-utc-date-as-a-yyyy-mm-dd-hh-mm-ss-string-using-nodejs/" class="u-url">How to format a UTC date as a `YYYY-MM-DD hh:mm:ss` string using NodeJS?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-format-a-utc-date-as-a-yyyy-mm-dd-hh-mm-ss-string-using-nodejs/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T14:07:28+08:00" itemprop="datePublished" title="2023-03-05 14:07">2023-03-05 14:07</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Using NodeJS, I want to format a <code>Date</code> into the following string format:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">ts_hms</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Date</span><span class="p">(</span><span class="n">UTC</span><span class="p">);</span>
<span class="n">ts_hms</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">"%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M:%S"</span><span class="p">);</span>
</pre></div>

<p>How do I do that?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>If you're using Node.js, you're sure to have EcmaScript 5, and so Date has a
<code>toISOString</code> method. You're asking for a slight modification of ISO8601:</p>
<div class="code"><pre class="code literal-block">new Date().toISOString()
&gt; '2012-11-04T14:51:06.157Z'
</pre></div>

<p>So just cut a few things out, and you're set:</p>
<div class="code"><pre class="code literal-block">new Date().toISOString().
  replace(/T/, ' ').      // replace T with a space
  replace(/\..+/, '')     // delete the dot and everything after
&gt; '2012-11-04 14:55:45'
</pre></div>

<p>Or, in one line: <code>new Date().toISOString().replace(/T/, ' ').replace(/\..+/,
'')</code></p>
<p>ISO8601 is necessarily UTC (also indicated by the trailing Z on the first
result), so you get UTC by default (always a good thing).</p>
<p><br></p>
<h3>Suggest</h3>
<p>UPDATE 2021-10-06: Added Day.js and remove spurious edit by @ashleedawg<br>
UPDATE 2021-04-07: Luxon added by @Tampa.<br>
UPDATE 2021-02-28: It should now be noted that Moment.js is no longer being
actively developed. It won't disappear in a hurry because it is embedded in so
many other things. The website has some recommendations for alternatives and
an explanation of why.<br>
UPDATE 2017-03-29: Added date-fns, some notes on Moment and Datejs<br>
UPDATE 2016-09-14: Added SugarJS which seems to have some excellent date/time
functions.</p>
<hr>
<p>OK, since no one has actually provided an actual answer, here is mine.</p>
<p>A library is certainly the best bet for handling dates and times in a standard
way. There are lots of edge cases in date/time calculations so it is useful to
be able to hand-off the development to a library.</p>
<p>Here is a list of the main <strong>Node</strong> compatible time formatting libraries:</p>
<ul>
<li>
<strong>Day.js</strong> [ <em>added 2021-10-06</em> ] "Fast 2kB alternative to Moment.js with the same modern API"</li>
<li>
<strong>Luxon</strong> [ <em>added 2017-03-29, thanks to Tampa</em> ] "A powerful, modern, and friendly wrapper for JavaScript dates and times." - MomentJS rebuilt from the ground up with immutable types, chaining and much more.</li>
<li>
<strong>Moment.js</strong> [ <em>thanks to Mustafa</em> ] "A lightweight (4.3k) javascript date library for parsing, manipulating, and formatting dates" - Includes internationalization, calculations and relative date formats - <em>Update 2017-03-29</em> : Not quite so light-weight any more but still the most comprehensive solution, especially if you need timezone support. - <em>Update 2021-02-28</em> : No longer in active development.</li>
<li>
<strong>date-fns</strong> [ <em>added 2017-03-29, thanks to Fractalf</em> ] Small, fast, works with standard JS date objects. Great alternative to Moment if you don't need timezone support.</li>
<li>
<strong>SugarJS</strong> - A general helper library adding much needed features to JavaScripts built-in object types. Includes some excellent looking date/time capabilities.</li>
<li>
<strong>strftime</strong> - Just what it says, nice and simple</li>
<li>
<strong>dateutil</strong> - This is the one I used to use before MomentJS</li>
<li><strong>node-formatdate</strong></li>
<li>
<strong>TimeTraveller</strong> - "Time Traveller provides a set of utility methods to deal with dates. From adding and subtracting, to formatting. Time Traveller only extends date objects that it creates, without polluting the global namespace."</li>
<li>
<strong>Tempus</strong> [ <em>thanks to Dan D</em> ] - UPDATE: this can also be used with Node and deployed with npm, see the docs</li>
</ul>
<p>There are also <strong>non-Node</strong> libraries:</p>
<ul>
<li>
<strong>Datejs</strong> [ <em>thanks to Peter Olson</em> ] - not packaged in npm or GitHub so not quite so easy to use with Node - not really recommended as not updated since 2007!</li>
</ul>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/hide-js-map-files-in-visual-studio-code-file-nesting/" class="u-url">Hide .js.map files in Visual Studio Code: File Nesting</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/hide-js-map-files-in-visual-studio-code-file-nesting/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T14:05:59+08:00" itemprop="datePublished" title="2023-03-05 14:05">2023-03-05 14:05</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am working on a typescript project in Visual Studio code and would like to
hide the <code>.js.map</code> (and maybe even the <code>.js</code>) files from appearing in the file
explorer.</p>
<p>Is it possible to display only the <code>.ts</code> files in the file explorer?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>In your settings (either user or workspace) there is a setting that you can
tweak to hide anything you'd like:</p>
<div class="code"><pre class="code literal-block">{
    "files.exclude": {
        "**/.git": true,
        "**/.DS_Store": true
    }
}
</pre></div>

<p>So you can add in the following to hide <code>.js</code> and <code>.js.map</code> files</p>
<div class="code"><pre class="code literal-block">"**/*.js": true,
"**/*.js.map": true
</pre></div>

<p>As this other answer explains, most people probably only want to hide <code>.js</code>
files when there is a matching <code>.ts</code> file.</p>
<p>So instead of doing:</p>
<div class="code"><pre class="code literal-block">"**/*.js": true
</pre></div>

<p>you might want to do:</p>
<div class="code"><pre class="code literal-block"><span class="s2">"**/*.js"</span>:<span class="w"> </span>{<span class="s2">"when"</span>:<span class="w"> </span><span class="s2">"$(basename).ts"</span>}
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>I found this, If you have standard JS files then these will be hidden too
which may not always be what you want. Perhaps this is better as it only hides
JS files that match TS files...</p>
<div class="code"><pre class="code literal-block">{
<span class="w">    </span><span class="s2">"files.exclude"</span>:<span class="w"> </span>{
<span class="w">        </span><span class="s2">"**/.git"</span>:<span class="w"> </span><span class="nv">true</span>,
<span class="w">        </span><span class="s2">"**/.DS_Store"</span>:<span class="w"> </span><span class="nv">true</span>,
<span class="w">        </span><span class="s2">"**/*.js.map"</span>:<span class="w"> </span><span class="nv">true</span>,
<span class="w">        </span><span class="s2">"**/*.js"</span>:<span class="w"> </span>{<span class="s2">"when"</span>:<span class="w"> </span><span class="s2">"$(basename).ts"</span>}
<span class="w">    </span>}
}
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-format-a-decimal-to-always-show-2-decimal-places/" class="u-url">How can I format a decimal to always show 2 decimal places?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-format-a-decimal-to-always-show-2-decimal-places/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T14:05:08+08:00" itemprop="datePublished" title="2023-03-05 14:05">2023-03-05 14:05</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I want to display:</p>
<p><code>49</code> as <code>49.00</code></p>
<p>and:</p>
<p><code>54.9</code> as <code>54.90</code></p>
<p>Regardless of the length of the decimal or whether there are are any decimal
places, I would like to display a <code>Decimal</code> with 2 decimal places, and I'd
like to do it in an efficient way. The purpose is to display money values.</p>
<p>eg, <code>4898489.00</code></p>
<hr>
<p>For the analogous issue with the built-in <code>float</code> type, see Limiting floats to
two decimal points.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>I suppose you're probably using the <code>Decimal()</code> objects from the <code>decimal</code>
module? (If you need exactly two digits of precision beyond the decimal point
with arbitrarily large numbers, you definitely should be, and that's what your
question's title suggests...)</p>
<p>If so, the <em>Decimal FAQ</em> section of the docs has a question/answer pair which
may be useful for you:</p>
<blockquote>
<p>Q. In a fixed-point application with two decimal places, some inputs have
many places and need to be rounded. Others are not supposed to have excess
digits and need to be validated. What methods should be used?</p>
<p>A. The quantize() method rounds to a fixed number of decimal places. If the
Inexact trap is set, it is also useful for validation:</p>
</blockquote>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">TWOPLACES</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Decimal</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="o">**</span><span class="w"> </span><span class="o">-</span><span class="mi">2</span><span class="w">       </span><span class="err">#</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nc">Decimal</span><span class="p">(</span><span class="s1">'0.01'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="nf">Round</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">places</span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="nc">Decimal</span><span class="p">(</span><span class="s1">'3.214'</span><span class="p">).</span><span class="n">quantize</span><span class="p">(</span><span class="n">TWOPLACES</span><span class="p">)</span>
<span class="nc">Decimal</span><span class="p">(</span><span class="s1">'3.21'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">Validate</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">exceed</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">places</span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="nc">Decimal</span><span class="p">(</span><span class="s1">'3.21'</span><span class="p">).</span><span class="n">quantize</span><span class="p">(</span><span class="n">TWOPLACES</span><span class="p">,</span><span class="w"> </span><span class="n">context</span><span class="o">=</span><span class="n">Context</span><span class="p">(</span><span class="n">traps</span><span class="o">=[</span><span class="n">Inexact</span><span class="o">]</span><span class="p">))</span>
<span class="nc">Decimal</span><span class="p">(</span><span class="s1">'3.21'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="nc">Decimal</span><span class="p">(</span><span class="s1">'3.214'</span><span class="p">).</span><span class="n">quantize</span><span class="p">(</span><span class="n">TWOPLACES</span><span class="p">,</span><span class="w"> </span><span class="n">context</span><span class="o">=</span><span class="n">Context</span><span class="p">(</span><span class="n">traps</span><span class="o">=[</span><span class="n">Inexact</span><span class="o">]</span><span class="p">))</span>
<span class="n">Traceback</span><span class="w"> </span><span class="p">(</span><span class="n">most</span><span class="w"> </span><span class="n">recent</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="k">last</span><span class="p">)</span><span class="err">:</span>
<span class="w">   </span><span class="p">...</span>
<span class="nl">Inexact</span><span class="p">:</span><span class="w"> </span><span class="k">None</span>
</pre></div>

<p>The next question reads</p>
<blockquote>
<p>Q. Once I have valid two place inputs, how do I maintain that invariant
throughout an application?</p>
</blockquote>
<p>If you need the answer to that (along with lots of other useful information),
see <em>the aforementioned section of the docs</em>. Also, if you keep your
<code>Decimal</code>s with two digits of precision beyond the decimal point (meaning as
much precision as is necessary to keep all digits to the left of the decimal
point and two to the right of it and no more...), then converting them to
strings with <code>str</code> will work fine:</p>
<div class="code"><pre class="code literal-block"><span class="n">str</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="s">'10'</span><span class="p">))</span>
<span class="cp"># -&gt; '10'</span>
<span class="n">str</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="s">'10.00'</span><span class="p">))</span>
<span class="cp"># -&gt; '10.00'</span>
<span class="n">str</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="s">'10.000'</span><span class="p">))</span>
<span class="cp"># -&gt; '10.000'</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>The String Formatting Operations section of the Python documentation contains
the answer you're looking for. In short:</p>
<div class="code"><pre class="code literal-block">"%0.2f" % (num,)
</pre></div>

<p>Some examples:</p>
<div class="code"><pre class="code literal-block">&gt;&gt;&gt; "%0.2f" % 10
'10.00'
&gt;&gt;&gt; "%0.2f" % 1000
'1000.00'
&gt;&gt;&gt; "%0.2f" % 10.1
'10.10'
&gt;&gt;&gt; "%0.2f" % 10.120
'10.12'
&gt;&gt;&gt; "%0.2f" % 10.126
'10.13'
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2738.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2736.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

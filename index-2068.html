<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2068) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2068.html">
<link rel="prev" href="index-2069.html" type="text/html">
<link rel="next" href="index-2067.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/does-java-jit-cheat-when-running-jdk-code/" class="u-url">Does Java JIT cheat when running JDK code?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/does-java-jit-cheat-when-running-jdk-code/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T16:10:23+08:00" itemprop="datePublished" title="2023-03-03 16:10">2023-03-03 16:10</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I was benchmarking some code, and I could not get it to run as fast as with
<code>java.math.BigInteger</code>, even when using the exact same algorithm. So I copied
<code>java.math.BigInteger</code> source into my own package and tried this:</p>
<div class="code"><pre class="code literal-block"><span class="o">//</span><span class="kn">import</span> <span class="nn">java.math.BigInteger</span><span class="p">;</span>

<span class="n">public</span> <span class="k">class</span> <span class="nc">MultiplyTest</span> <span class="p">{</span>
    <span class="n">public</span> <span class="n">static</span> <span class="n">void</span> <span class="n">main</span><span class="p">(</span><span class="n">String</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">Random</span> <span class="n">r</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Random</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
        <span class="n">long</span> <span class="n">tm</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span><span class="n">result</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="nb">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">400000</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="nb">int</span> <span class="n">s1</span> <span class="o">=</span> <span class="mi">400</span><span class="p">,</span> <span class="n">s2</span> <span class="o">=</span> <span class="mi">400</span><span class="p">;</span>
            <span class="n">BigInteger</span> <span class="n">a</span> <span class="o">=</span> <span class="n">new</span> <span class="n">BigInteger</span><span class="p">(</span><span class="n">s1</span> <span class="o">*</span> <span class="mi">8</span><span class="p">,</span> <span class="n">r</span><span class="p">),</span> <span class="n">b</span> <span class="o">=</span> <span class="n">new</span> <span class="n">BigInteger</span><span class="p">(</span><span class="n">s2</span> <span class="o">*</span> <span class="mi">8</span><span class="p">,</span> <span class="n">r</span><span class="p">);</span>
            <span class="n">long</span> <span class="n">tm1</span> <span class="o">=</span> <span class="n">System</span><span class="o">.</span><span class="n">nanoTime</span><span class="p">();</span>
            <span class="n">BigInteger</span> <span class="n">c</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">multiply</span><span class="p">(</span><span class="n">b</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">100000</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">tm</span> <span class="o">+=</span> <span class="n">System</span><span class="o">.</span><span class="n">nanoTime</span><span class="p">()</span> <span class="o">-</span> <span class="n">tm1</span><span class="p">;</span>
                <span class="n">count</span><span class="o">++</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="n">result</span><span class="o">+=</span><span class="n">c</span><span class="o">.</span><span class="n">bitLength</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="n">System</span><span class="o">.</span><span class="n">out</span><span class="o">.</span><span class="n">println</span><span class="p">((</span><span class="n">tm</span> <span class="o">/</span> <span class="n">count</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"nsec/mul"</span><span class="p">);</span>
        <span class="n">System</span><span class="o">.</span><span class="n">out</span><span class="o">.</span><span class="n">println</span><span class="p">(</span><span class="n">result</span><span class="p">);</span> 
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>When I run this (jdk 1.8.0_144-b01 on MacOS) it outputs:</p>
<div class="code"><pre class="code literal-block"><span class="mf">12089</span><span class="n">nsec</span><span class="o">/</span><span class="n">mul</span>
<span class="mf">2559044166</span>
</pre></div>

<p>When I run it with the import line uncommented:</p>
<div class="code"><pre class="code literal-block"><span class="mf">4098</span><span class="n">nsec</span><span class="o">/</span><span class="n">mul</span>
<span class="mf">2559044166</span>
</pre></div>

<p>It's almost three times as fast when using the JDK version of BigInteger
versus my version, even if it's using the exact same code.</p>
<p>I've examined the bytecode with javap, and compared compiler output when
running with options:</p>
<div class="code"><pre class="code literal-block"><span class="o">-</span><span class="nv">Xbatch</span> <span class="o">-</span><span class="nv">XX</span><span class="o">:-</span><span class="nv">TieredCompilation</span> <span class="o">-</span><span class="nv">XX</span><span class="o">:+</span><span class="nv">PrintCompilation</span> <span class="o">-</span><span class="nv">XX</span><span class="o">:+</span><span class="nv">UnlockDiagnosticVMOptions</span> 
<span class="o">-</span><span class="nv">XX</span><span class="o">:+</span><span class="nv">PrintInlining</span> <span class="o">-</span><span class="nv">XX</span><span class="o">:</span><span class="nv">CICompilerCount</span><span class="o">=</span><span class="mi">1</span>
</pre></div>

<p>and both versions seem to generate the same code. So is hotspot using some
precomputed optimisations that I can't use in my code? I always understood
that they don't. What explains this difference?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Yes, HotSpot JVM is kind of "cheating", because it has a special version of
some <code>BigInteger</code> methods that you won't find in Java code. These methods are
called JVM intrinsics.</p>
<p>In particular, <code>BigInteger.multiplyToLen</code> is an intrinsic method in HotSpot.
There is a special hand-coded assembly implementation in JVM source base, but
only for x86-64 architecture.</p>
<p>You may disable this intrinsic with <code>-XX:-UseMultiplyToLenIntrinsic</code> option to
force JVM to use pure Java implementation. In this case the performance will
be similar to the performance of your copied code.</p>
<p><em>P.S.</em> Here is a list of other HotSpot intrinsic methods.</p>
<p><br></p>
<h3>Suggest</h3>
<p>In <strong>Java 8</strong> this is indeed an intrinsic method; a slightly modified version
of the method:</p>
<div class="code"><pre class="code literal-block"><span class="w"> </span><span class="nv">private</span><span class="w"> </span><span class="nv">static</span><span class="w"> </span><span class="nv">BigInteger</span><span class="w"> </span><span class="nv">test</span><span class="ss">()</span><span class="w"> </span>{

<span class="w">    </span><span class="k">Random</span><span class="w"> </span><span class="nv">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="k">Random</span><span class="ss">(</span><span class="mi">1</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span><span class="nv">BigInteger</span><span class="w"> </span><span class="nv">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">null</span><span class="c1">;</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="ss">(</span><span class="nv">int</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="c1">; i &lt; 400000; i++) {</span>
<span class="w">        </span><span class="nv">int</span><span class="w"> </span><span class="nv">s1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">400</span>,<span class="w"> </span><span class="nv">s2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">400</span><span class="c1">;</span>
<span class="w">        </span><span class="nv">BigInteger</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">BigInteger</span><span class="ss">(</span><span class="nv">s1</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">8</span>,<span class="w"> </span><span class="nv">r</span><span class="ss">)</span>,<span class="w"> </span><span class="nv">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">BigInteger</span><span class="ss">(</span><span class="nv">s2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">8</span>,<span class="w"> </span><span class="nv">r</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">        </span><span class="nv">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">a</span>.<span class="nv">multiply</span><span class="ss">(</span><span class="nv">b</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span>}
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">c</span><span class="c1">;</span>
}
</pre></div>

<p>Running this with:</p>
<div class="code"><pre class="code literal-block"> java -XX:+UnlockDiagnosticVMOptions  
      -XX:+PrintInlining 
      -XX:+PrintIntrinsics 
      -XX:CICompilerCount=2 
      -XX:+PrintCompilation   
       &lt;YourClassName&gt;
</pre></div>

<p>This will print lots of lines and one of them will be:</p>
<div class="code"><pre class="code literal-block"> java.math.BigInteger::multiplyToLen (216 bytes)   (intrinsic)
</pre></div>

<p>In <strong>Java 9</strong> on the other hand that method seems to not be an intrinsic
anymore, but in turn it calls a method that is an intrinsic:</p>
<div class="code"><pre class="code literal-block"><span class="w"> </span><span class="nv">@HotSpotIntrinsicCandidate</span>
<span class="w"> </span><span class="n">private</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="nc">int</span><span class="err">[]</span><span class="w"> </span><span class="n">implMultiplyToLen</span>
</pre></div>

<p>So running the same code under Java 9 (with the same parameters) will reveal:</p>
<div class="code"><pre class="code literal-block">java.math.BigInteger::implMultiplyToLen (216 bytes)   (intrinsic)
</pre></div>

<p>Underneath it's the same code for the method - just a slightly different
naming.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/compiling-c-11-with-g/" class="u-url">Compiling C++11 with g++</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/compiling-c-11-with-g/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T16:10:02+08:00" itemprop="datePublished" title="2023-03-03 16:10">2023-03-03 16:10</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm trying to update my C++ compiler to C++11. I have searched a bit and I
have come to the conclusion that I have to use the flag <code>-std=c++0x</code> or
<code>-std=gnu++0x</code>, but I don't know many things about flags. Can anyone help me?
(I'm using Ubuntu 12.04.)</p>
<p>Here is the error that I get from the compiler when I attempt to use a library
which is included in C++11 (i.e. array):</p>
<div class="code"><pre class="code literal-block"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;array&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>

<span class="kr">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="kr">array</span><span class="o">&lt;</span><span class="kr">int</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="o">&gt;</span><span class="w"> </span><span class="n">arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">};</span>
<span class="w">    </span><span class="p">...</span>
<span class="p">}</span>
</pre></div>

<blockquote>
<p>This file requires compiler and library support for the upcoming ISO C++
standard, C++0x. This support is currently experimental, and must be enabled
with the -std=c++0x or -std=gnu++0x compiler options.</p>
</blockquote>
<p><br><br></p>
<h2>Answer</h2>
<p>Flags (or compiler options) are nothing but ordinary command line arguments
passed to the compiler executable.</p>
<p>Assuming you are invoking g++ from the command line (terminal):</p>
<p><code>$ g++ -std=c++11 your_file.cpp -o your_program</code></p>
<p>or</p>
<p><code>$ g++ -std=c++0x your_file.cpp -o your_program</code></p>
<p>if the above doesn't work.</p>
<p><br></p>
<h3>Suggest</h3>
<p>You can check your <code>g++</code> by command:</p>
<div class="code"><pre class="code literal-block">which g++
g++ --version
</pre></div>

<p>this will tell you which complier is currently it is pointing.</p>
<p>To switch to <code>g++</code> 4.7 (assuming that you have installed it in your
machine),run:</p>
<div class="code"><pre class="code literal-block"><span class="nv">sudo</span><span class="w"> </span><span class="nv">update</span><span class="o">-</span><span class="nv">alternatives</span><span class="w"> </span><span class="o">--</span><span class="nv">config</span><span class="w"> </span><span class="nv">gcc</span>

<span class="nv">There</span><span class="w"> </span><span class="nv">are</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="nv">choices</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">alternative</span><span class="w"> </span><span class="nv">gcc</span><span class="w"> </span><span class="ss">(</span><span class="nv">providing</span><span class="w"> </span><span class="o">/</span><span class="nv">usr</span><span class="o">/</span><span class="nv">bin</span><span class="o">/</span><span class="nv">gcc</span><span class="ss">)</span>.

<span class="w">  </span><span class="nv">Selection</span><span class="w">    </span><span class="nv">Path</span><span class="w">              </span><span class="nv">Priority</span><span class="w">   </span><span class="nv">Status</span>
<span class="o">------------------------------------------------------------</span>
<span class="w">  </span><span class="mi">0</span><span class="w">            </span><span class="o">/</span><span class="nv">usr</span><span class="o">/</span><span class="nv">bin</span><span class="o">/</span><span class="nv">gcc</span><span class="o">-</span><span class="mi">4</span>.<span class="mi">6</span><span class="w">   </span><span class="mi">60</span><span class="w">        </span><span class="nv">auto</span><span class="w"> </span><span class="nv">mode</span>
<span class="w">  </span><span class="mi">1</span><span class="w">            </span><span class="o">/</span><span class="nv">usr</span><span class="o">/</span><span class="nv">bin</span><span class="o">/</span><span class="nv">gcc</span><span class="o">-</span><span class="mi">4</span>.<span class="mi">6</span><span class="w">   </span><span class="mi">60</span><span class="w">        </span><span class="nv">manual</span><span class="w"> </span><span class="nv">mode</span>
<span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="w">            </span><span class="o">/</span><span class="nv">usr</span><span class="o">/</span><span class="nv">bin</span><span class="o">/</span><span class="nv">gcc</span><span class="o">-</span><span class="mi">4</span>.<span class="mi">7</span><span class="w">   </span><span class="mi">40</span><span class="w">        </span><span class="nv">manual</span><span class="w"> </span><span class="nv">mode</span>
</pre></div>

<p>Then select <code>2</code> as selection(My machine already pointing to <code>g++</code> 4.7,so the
*)</p>
<p>Once you switch the complier then again run <code>g++ --version</code> to check the
switching has happened correctly.</p>
<p>Now compile your program with</p>
<div class="code"><pre class="code literal-block">g++ -std=c++11 your_file.cpp -o main
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-set-limits-for-axes-in-ggplot2-r-plots/" class="u-url">How to set limits for axes in ggplot2 R plots?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-set-limits-for-axes-in-ggplot2-r-plots/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T16:09:41+08:00" itemprop="datePublished" title="2023-03-03 16:09">2023-03-03 16:09</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I plot the following:</p>
<div class="code"><pre class="code literal-block"><span class="nf">library</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span>

<span class="n">carrots</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">data.frame</span><span class="p">(</span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">rnorm</span><span class="p">(</span><span class="m">500000</span><span class="p">,</span><span class="w"> </span><span class="m">10000</span><span class="p">,</span><span class="w"> </span><span class="m">10000</span><span class="p">))</span>
<span class="n">cukes</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">data.frame</span><span class="p">(</span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">rnorm</span><span class="p">(</span><span class="m">50000</span><span class="p">,</span><span class="w"> </span><span class="m">10000</span><span class="p">,</span><span class="w"> </span><span class="m">20000</span><span class="p">))</span>
<span class="n">carrots</span><span class="o">$</span><span class="n">veg</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s">'carrot'</span>
<span class="n">cukes</span><span class="o">$</span><span class="n">veg</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s">'cuke'</span>
<span class="n">vegLengths</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">rbind</span><span class="p">(</span><span class="n">carrots</span><span class="p">,</span><span class="w"> </span><span class="n">cukes</span><span class="p">)</span>

<span class="nf">ggplot</span><span class="p">(</span><span class="n">vegLengths</span><span class="p">,</span><span class="w"> </span><span class="nf">aes</span><span class="p">(</span><span class="n">length</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">veg</span><span class="p">))</span><span class="w"> </span><span class="o">+</span>
<span class="w"> </span><span class="nf">geom_density</span><span class="p">(</span><span class="n">alpha</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.2</span><span class="p">)</span>
</pre></div>

<p>Now say, I only want to plot the region between <code>x=-5000</code> to <code>5000</code>, instead
of the entire range.</p>
<p>How can I do that?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Basically you have two options</p>
<div class="code"><pre class="code literal-block">scale_x_continuous(limits = c(-5000, 5000))
</pre></div>

<p>or</p>
<div class="code"><pre class="code literal-block">coord_cartesian(xlim = c(-5000, 5000))
</pre></div>

<p>Where the first removes all data points outside the given range and the second
only adjusts the visible area. In most cases you would not see the difference,
but if you fit anything to the data it would probably change the fitted
values.</p>
<p>You can also use the shorthand function <code>xlim</code> (or <code>ylim</code>), which like the
first option removes data points outside of the given range:</p>
<div class="code"><pre class="code literal-block">+ xlim(-5000, 5000)
</pre></div>

<p>For more information check the description of <strong><code>coord_cartesian</code></strong>.</p>
<p>The RStudio cheatsheet for <code>ggplot2</code> makes this quite clear visually. Here is
a small section of that cheatsheet:</p>
<p><img alt="enter image description here" src="images/ciyvf.png"></p>
<p><em>Distributed under CC BY</em>.</p>
<p><br></p>
<h3>Suggest</h3>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2069.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2067.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 92) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-92.html">
<link rel="prev" href="index-93.html" type="text/html">
<link rel="next" href="index-91.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/set-a-default-parameter-value-for-a-javascript-function/" class="u-url">Set a default parameter value for a JavaScript function</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/set-a-default-parameter-value-for-a-javascript-function/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T21:01:18+08:00" itemprop="datePublished" title="2023-02-16 21:01">2023-02-16 21:01</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I would like a JavaScript function to have optional arguments which I set a
default on, which get used if the value isn't defined (and ignored if the
value is passed). In Ruby you can do it like this:</p>
<div class="code"><pre class="code literal-block"><span class="nv">def</span><span class="w"> </span><span class="nv">read_file</span><span class="ss">(</span><span class="nv">file</span>,<span class="w"> </span><span class="nv">delete_after</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">false</span><span class="ss">)</span>
<span class="w">  </span>#<span class="w"> </span><span class="nv">code</span>
<span class="k">end</span>
</pre></div>

<p>Does this work in JavaScript?</p>
<div class="code"><pre class="code literal-block">function read_file(file, delete_after = false) {
  // Code
}
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>From ES6/ES2015, default parameters are in the language specification.</p>
<div class="code"><pre class="code literal-block">function read_file(file, delete_after = false) {
  // Code
}
</pre></div>

<p>just works.</p>
<p>Reference: Default Parameters - MDN</p>
<blockquote>
<p>Default function parameters allow formal parameters to be initialized with
default values if <strong>no value</strong> or <strong>undefined</strong> is passed.</p>
</blockquote>
<p>In ES6, you can simulate default <em>named</em> parameters via destructuring:</p>
<div class="code"><pre class="code literal-block"><span class="o">//</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n n-Quoted">`= {}`</span><span class="w"> </span><span class="n">below</span><span class="w"> </span><span class="n">lets</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="k">without</span><span class="w"> </span><span class="k">any</span><span class="w"> </span><span class="n">parameters</span>
<span class="k">function</span><span class="w"> </span><span class="n">myFor</span><span class="p">(</span><span class="err">{</span><span class="w"> </span><span class="k">start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">step</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="err">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{}</span><span class="p">)</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="k">Use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">variables</span><span class="w"> </span><span class="n n-Quoted">`start`</span><span class="p">,</span><span class="w"> </span><span class="n n-Quoted">`end`</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n n-Quoted">`step`</span><span class="w"> </span><span class="n">here</span>
<span class="w">    </span><span class="n">···</span>
<span class="err">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">sample</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">object</span>
<span class="n">myFor</span><span class="p">(</span><span class="err">{</span><span class="w"> </span><span class="k">start</span><span class="o">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="k">end</span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="err">}</span><span class="p">);</span>

<span class="o">//</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">OK</span>
<span class="n">myFor</span><span class="p">();</span>
<span class="n">myFor</span><span class="p">(</span><span class="err">{}</span><span class="p">);</span>
</pre></div>

<p><strong>Pre ES2015</strong> ,</p>
<p>There are a lot of ways, but this is my preferred method — it lets you pass in
anything you want, including false or null. (<code>typeof null == "object"</code>)</p>
<div class="code"><pre class="code literal-block">function foo(a, b) {
  a = typeof a !== 'undefined' ? a : 42;
  b = typeof b !== 'undefined' ? b : 'default_b';
  ...
}
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<div class="code"><pre class="code literal-block">function read_file(file, delete_after) {
    delete_after = delete_after || "my default here";
    //rest of code
}
</pre></div>

<p>This assigns to <code>delete_after</code> the value of <code>delete_after</code> if it is not a
<em>falsey</em> value otherwise it assigns the string <code>"my default here"</code>. For more
detail, check out Doug Crockford's survey of the language and check out the
section on Operators.</p>
<p>This approach does not work if you want to pass in a <em>falsey</em> value i.e.
<code>false</code>, <code>null</code>, <code>undefined</code>, <code>0</code> or <code>""</code>. If you require <em>falsey</em> values to
be passed in you would need to use the method in Tom Ritter's answer.</p>
<p>When dealing with a number of parameters to a function, it is often useful to
allow the consumer to pass the parameter arguments in an object and then
<em>merge</em> these values with an object that contains the default values for the
function</p>
<div class="code"><pre class="code literal-block"><span class="k">function</span><span class="w"> </span><span class="n">read_file</span><span class="p">(</span><span class="k">values</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="k">values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">merge</span><span class="p">(</span><span class="err">{</span><span class="w"> </span>
<span class="w">        </span><span class="n">delete_after</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="ss">"my default here"</span>
<span class="w">    </span><span class="err">}</span><span class="p">,</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="err">{}</span><span class="p">);</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">rest</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">code</span>
<span class="err">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">simple</span><span class="w"> </span><span class="n">implementation</span><span class="w"> </span><span class="n">based</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="err">$</span><span class="p">.</span><span class="n">extend</span><span class="p">()</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">jQuery</span>
<span class="k">function</span><span class="w"> </span><span class="k">merge</span><span class="p">()</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="nf">var</span><span class="w"> </span><span class="n">obj</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">copy</span><span class="p">,</span>
<span class="w">        </span><span class="n">target</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">arguments</span><span class="o">[</span><span class="n">0</span><span class="o">]</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="err">{}</span><span class="p">,</span>
<span class="w">        </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">        </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">arguments</span><span class="p">.</span><span class="n">length</span><span class="p">;</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="n">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">arguments</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="k">null</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">obj</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">                </span><span class="n">copy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">obj</span><span class="o">[</span><span class="n">name</span><span class="o">]</span><span class="p">;</span>

<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">target</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="n">copy</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">                    </span><span class="k">continue</span><span class="p">;</span>
<span class="w">                </span><span class="err">}</span>
<span class="w">                </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">copy</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="n">undefined</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">                    </span><span class="n">target</span><span class="o">[</span><span class="n">name</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">copy</span><span class="p">;</span>
<span class="w">                </span><span class="err">}</span>
<span class="w">            </span><span class="err">}</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">    </span><span class="err">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">target</span><span class="p">;</span>
<span class="err">}</span><span class="p">;</span>
</pre></div>

<p>to use</p>
<div class="code"><pre class="code literal-block"><span class="c1">// will use the default delete_after value</span>
<span class="n">read_file</span><span class="p">({</span><span class="w"> </span><span class="nb">file</span><span class="p">:</span><span class="w"> </span><span class="s">"my file"</span><span class="w"> </span><span class="p">});</span>

<span class="c1">// will override default delete_after value</span>
<span class="n">read_file</span><span class="p">({</span><span class="w"> </span><span class="nb">file</span><span class="p">:</span><span class="w"> </span><span class="s">"my file"</span><span class="p">,</span><span class="w"> </span><span class="n">delete_after</span><span class="p">:</span><span class="w"> </span><span class="s">"my value"</span><span class="w"> </span><span class="p">});</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/make-a-div-fill-the-height-of-the-remaining-screen-space/" class="u-url">Make a div fill the height of the remaining screen space</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/make-a-div-fill-the-height-of-the-remaining-screen-space/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T21:00:43+08:00" itemprop="datePublished" title="2023-02-16 21:00">2023-02-16 21:00</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am working on a web application where I want the content to fill the height
of the entire screen.</p>
<p>The page has a header, which contains a logo, and account information. This
could be an arbitrary height. I want the content div to fill the rest of the
page to the bottom.</p>
<p>I have a header <code>div</code> and a content <code>div</code>. At the moment I am using a table
for the layout like so:</p>
<p>CSS and HTML</p>
<div class="code"><pre class="code literal-block">#page<span class="w"> </span>{
<span class="w">    </span>height:<span class="w"> </span>100%;<span class="w"> </span>width:<span class="w"> </span>100%
}

#tdcontent<span class="w"> </span>{
<span class="w">    </span>height:<span class="w"> </span>100%;
}

#content<span class="w"> </span>{
<span class="w">    </span>overflow:<span class="w"> </span>auto;<span class="w"> </span>/*<span class="w"> </span>or<span class="w"> </span>overflow:<span class="w"> </span>hidden;<span class="w"> </span>*/
}


<span class="nt">&lt;table</span><span class="w"> </span><span class="na">id=</span><span class="s">"page"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;tr&gt;</span>
<span class="w">        </span><span class="nt">&lt;td</span><span class="w"> </span><span class="na">id=</span><span class="s">"tdheader"</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">id=</span><span class="s">"header"</span><span class="nt">&gt;</span>...<span class="nt">&lt;/div&gt;</span>
<span class="w">        </span><span class="nt">&lt;/td&gt;</span>
<span class="w">    </span><span class="nt">&lt;/tr&gt;</span>
<span class="w">    </span><span class="nt">&lt;tr&gt;</span>
<span class="w">        </span><span class="nt">&lt;td</span><span class="w"> </span><span class="na">id=</span><span class="s">"tdcontent"</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">id=</span><span class="s">"content"</span><span class="nt">&gt;</span>...<span class="nt">&lt;/div&gt;</span>
<span class="w">        </span><span class="nt">&lt;/td&gt;</span>
<span class="w">    </span><span class="nt">&lt;/tr&gt;</span>
<span class="nt">&lt;/table&gt;</span>
</pre></div>

<p>The entire height of the page is filled, and no scrolling is required.</p>
<p>For anything inside the content div, setting <code>top: 0;</code> will put it right
underneath the header. Sometimes the content will be a real table, with its
height set to 100%. Putting <code>header</code> inside <code>content</code> will not allow this to
work.</p>
<p>Is there a way to achieve the same effect without using the <code>table</code>?</p>
<p><strong>Update:</strong></p>
<p>Elements inside the content <code>div</code> will have heights set to percentages as
well. So something at 100% inside the <code>div</code> will fill it to the bottom. As
will two elements at 50%.</p>
<p><strong>Update 2:</strong></p>
<p>For instance, if the header takes up 20% of the screen's height, a table
specified at 50% inside <code>#content</code> would take up 40% of the screen space. So
far, wrapping the entire thing in a table is the only thing that works.</p>
<p><br><br></p>
<h2>Answer</h2>
<h4>2015 update: the flexbox approach</h4>
<p>There are two other answers briefly mentioning flexbox; however, that was more
than two years ago, and they don't provide any examples. The specification for
flexbox has definitely settled now.</p>
<blockquote>
<p>Note: Though CSS Flexible Boxes Layout specification is at the Candidate
Recommendation stage, not all browsers have implemented it. WebKit
implementation must be prefixed with -webkit-; Internet Explorer implements
an old version of the spec, prefixed with -ms-; Opera 12.10 implements the
latest version of the spec, unprefixed. See the compatibility table on each
property for an up-to-date compatibility status.</p>
<p>(taken from https://developer.mozilla.org/en-
US/docs/Web/Guide/CSS/Flexible_boxes)</p>
</blockquote>
<p>All major browsers and IE11+ support Flexbox. For IE 10 or older, you can use
the FlexieJS shim.</p>
<p>To check current support you can also see here:
http://caniuse.com/#feat=flexbox</p>
<h4>Working example</h4>
<p>With flexbox you can easily switch between any of your rows or columns either
having fixed dimensions, content-sized dimensions or remaining-space
dimensions. In my example I have set the header to snap to its content (as per
the OPs question), I've added a footer to show how to add a fixed-height
region and then set the content area to fill up the remaining space.</p>
<div class="code"><pre class="code literal-block"><span class="n">html</span><span class="p">,</span>
<span class="n">body</span><span class="w"> </span><span class="err">{</span>
<span class="w">  </span><span class="n">height</span><span class="o">:</span><span class="w"> </span><span class="mi">100</span><span class="o">%</span><span class="p">;</span>
<span class="w">  </span><span class="n">margin</span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="err">}</span>

<span class="p">.</span><span class="n">box</span><span class="w"> </span><span class="err">{</span>
<span class="w">  </span><span class="n">display</span><span class="o">:</span><span class="w"> </span><span class="n">flex</span><span class="p">;</span>
<span class="w">  </span><span class="n">flex</span><span class="o">-</span><span class="n">flow</span><span class="o">:</span><span class="w"> </span><span class="k">column</span><span class="p">;</span>
<span class="w">  </span><span class="n">height</span><span class="o">:</span><span class="w"> </span><span class="mi">100</span><span class="o">%</span><span class="p">;</span>
<span class="err">}</span>

<span class="p">.</span><span class="n">box</span><span class="w"> </span><span class="p">.</span><span class="k">row</span><span class="w"> </span><span class="err">{</span>
<span class="w">  </span><span class="n">border</span><span class="o">:</span><span class="w"> </span><span class="n">1px</span><span class="w"> </span><span class="n">dotted</span><span class="w"> </span><span class="n">grey</span><span class="p">;</span>
<span class="err">}</span>

<span class="p">.</span><span class="n">box</span><span class="w"> </span><span class="p">.</span><span class="k">row</span><span class="p">.</span><span class="n">header</span><span class="w"> </span><span class="err">{</span>
<span class="w">  </span><span class="n">flex</span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">auto</span><span class="p">;</span>
<span class="w">  </span><span class="cm">/* The above is shorthand for:</span>
<span class="cm">  flex-grow: 0,</span>
<span class="cm">  flex-shrink: 1,</span>
<span class="cm">  flex-basis: auto</span>
<span class="cm">  */</span>
<span class="err">}</span>

<span class="p">.</span><span class="n">box</span><span class="w"> </span><span class="p">.</span><span class="k">row</span><span class="p">.</span><span class="n">content</span><span class="w"> </span><span class="err">{</span>
<span class="w">  </span><span class="n">flex</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">auto</span><span class="p">;</span>
<span class="err">}</span>

<span class="p">.</span><span class="n">box</span><span class="w"> </span><span class="p">.</span><span class="k">row</span><span class="p">.</span><span class="n">footer</span><span class="w"> </span><span class="err">{</span>
<span class="w">  </span><span class="n">flex</span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">40px</span><span class="p">;</span>
<span class="err">}</span>


<span class="o">&lt;!--</span><span class="w"> </span><span class="n">Obviously</span><span class="p">,</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="k">use</span><span class="w"> </span><span class="n">HTML5</span><span class="w"> </span><span class="n">tags</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="n n-Quoted">`header`</span><span class="p">,</span><span class="w"> </span><span class="n n-Quoted">`footer`</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n n-Quoted">`section`</span><span class="w"> </span><span class="o">--&gt;</span>

<span class="o">&lt;</span><span class="k">div</span><span class="w"> </span><span class="n">class</span><span class="o">=</span><span class="s2">"box"</span><span class="o">&gt;</span>
<span class="w">  </span><span class="o">&lt;</span><span class="k">div</span><span class="w"> </span><span class="n">class</span><span class="o">=</span><span class="s2">"row header"</span><span class="o">&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;&lt;</span><span class="n">b</span><span class="o">&gt;</span><span class="n">header</span><span class="o">&lt;/</span><span class="n">b</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="n">br</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="n">br</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">(</span><span class="n">sized</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">content</span><span class="p">)</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
<span class="w">  </span><span class="o">&lt;/</span><span class="k">div</span><span class="o">&gt;</span>
<span class="w">  </span><span class="o">&lt;</span><span class="k">div</span><span class="w"> </span><span class="n">class</span><span class="o">=</span><span class="s2">"row content"</span><span class="o">&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="n">b</span><span class="o">&gt;</span><span class="n">content</span><span class="o">&lt;/</span><span class="n">b</span><span class="o">&gt;</span>
<span class="w">      </span><span class="p">(</span><span class="n">fills</span><span class="w"> </span><span class="n">remaining</span><span class="w"> </span><span class="n">space</span><span class="p">)</span>
<span class="w">    </span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
<span class="w">  </span><span class="o">&lt;/</span><span class="k">div</span><span class="o">&gt;</span>
<span class="w">  </span><span class="o">&lt;</span><span class="k">div</span><span class="w"> </span><span class="n">class</span><span class="o">=</span><span class="s2">"row footer"</span><span class="o">&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;&lt;</span><span class="n">b</span><span class="o">&gt;</span><span class="n">footer</span><span class="o">&lt;/</span><span class="n">b</span><span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="kt">fixed</span><span class="w"> </span><span class="n">height</span><span class="p">)</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
<span class="w">  </span><span class="o">&lt;/</span><span class="k">div</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="k">div</span><span class="o">&gt;</span>
</pre></div>

<p>In the CSS above, the flex property shorthands the flex-grow, flex-shrink, and
flex-basis properties to establish the flexibility of the flex items. Mozilla
has a good introduction to the flexible boxes model.</p>
<p><br></p>
<h3>Suggest</h3>
<p>There really isn't a sound, cross-browser way to do this in CSS. Assuming your
layout has complexities, you need to use JavaScript to set the element's
height. The essence of what you need to do is:</p>
<div class="code"><pre class="code literal-block">Element Height = Viewport height - element.offset.top - desired bottom margin
</pre></div>

<p>Once you can get this value and set the element's height, you need to attach
event handlers to both the window onload and onresize so that you can fire
your resize function.</p>
<p>Also, assuming your content could be larger than the viewport, you will need
to set overflow-y to scroll.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/adding-a-table-row-in-jquery/" class="u-url">Adding a table row in jQuery</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/adding-a-table-row-in-jquery/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T21:00:08+08:00" itemprop="datePublished" title="2023-02-16 21:00">2023-02-16 21:00</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm using jQuery to add an additional row to a table as the last row.</p>
<p>I have done it this way:</p>
<div class="code"><pre class="code literal-block">$('#myTable').append('<span class="nt">&lt;tr&gt;&lt;td&gt;</span>my<span class="w"> </span>data<span class="nt">&lt;/td&gt;&lt;td&gt;</span>more<span class="w"> </span>data<span class="nt">&lt;/td&gt;&lt;/tr&gt;</span>');
</pre></div>

<p>Are there limitations to what you can add to a table like this (such as
inputs, selects, number of rows)? Is there a different way to do it?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The approach you suggest is not guaranteed to give you the result you're
looking for - what if you had a <code>tbody</code> for example:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;table</span><span class="w"> </span><span class="na">id=</span><span class="s">"myTable"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;tbody&gt;</span>
<span class="w">    </span><span class="nt">&lt;tr&gt;</span>...<span class="nt">&lt;/tr&gt;</span>
<span class="w">    </span><span class="nt">&lt;tr&gt;</span>...<span class="nt">&lt;/tr&gt;</span>
<span class="w">  </span><span class="nt">&lt;/tbody&gt;</span>
<span class="nt">&lt;/table&gt;</span>
</pre></div>

<p>You would end up with the following:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;table</span><span class="w"> </span><span class="na">id=</span><span class="s">"myTable"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;tbody&gt;</span>
<span class="w">    </span><span class="nt">&lt;tr&gt;</span>...<span class="nt">&lt;/tr&gt;</span>
<span class="w">    </span><span class="nt">&lt;tr&gt;</span>...<span class="nt">&lt;/tr&gt;</span>
<span class="w">  </span><span class="nt">&lt;/tbody&gt;</span>
<span class="w">  </span><span class="nt">&lt;tr&gt;</span>...<span class="nt">&lt;/tr&gt;</span>
<span class="nt">&lt;/table&gt;</span>
</pre></div>

<p>I would therefore recommend this approach instead:</p>
<div class="code"><pre class="code literal-block">$('#myTable<span class="w"> </span>tr:last').after('<span class="nt">&lt;tr&gt;</span>...<span class="nt">&lt;/tr&gt;&lt;tr&gt;</span>...<span class="nt">&lt;/tr&gt;</span>');
</pre></div>

<p>You can include anything within the <code>after()</code> method as long as it's valid
HTML, including multiple rows as per the example above.</p>
<p><strong>Update:</strong> Revisiting this answer following recent activity with this
question. eyelidlessness makes a good comment that there will always be a
<code>tbody</code> in the DOM; this is true, but only if there is at least one row. If
you have no rows, there will be no <code>tbody</code> unless you have specified one
yourself.</p>
<p>DaRKoN_ suggests appending to the <code>tbody</code> rather than adding content after the
last <code>tr</code>. This gets around the issue of having no rows, but still isn't
bulletproof as you could theoretically have multiple <code>tbody</code> elements and the
row would get added to each of them.</p>
<p>Weighing everything up, I'm not sure there is a single one-line solution that
accounts for every single possible scenario. You will need to make sure the
jQuery code tallies with your markup.</p>
<p>I think the safest solution is probably to ensure your <code>table</code> always includes
at least one <code>tbody</code> in your markup, even if it has no rows. On this basis,
you can use the following which will work however many rows you have (and also
account for multiple <code>tbody</code> elements):</p>
<div class="code"><pre class="code literal-block">$('#myTable<span class="w"> </span>&gt;<span class="w"> </span>tbody:last-child').append('<span class="nt">&lt;tr&gt;</span>...<span class="nt">&lt;/tr&gt;&lt;tr&gt;</span>...<span class="nt">&lt;/tr&gt;</span>');
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>jQuery has a built-in facility to manipulate DOM elements on the fly.</p>
<p><strong>You can add anything to your table like this:</strong></p>
<div class="code"><pre class="code literal-block">$("#tableID").find('tbody')
    .append($('&lt;tr&gt;')
        .append($('&lt;td&gt;')
            .append($('&lt;img&gt;')
                .attr('src', 'img.png')
                .text('Image cell')
            )
        )
    );
</pre></div>

<p>The <code>$('&lt;some-tag&gt;')</code> thing in jQuery is a tag object that can have several
<code>attr</code> attributes that can be set and get, as well as <code>text</code>, which represents
the text between the tag here: <code>&lt;tag&gt;text&lt;/tag&gt;</code>.</p>
<p><em>This is some pretty weird indenting, but it's easier for you to see what's
going on in this example.</em></p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-93.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-91.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

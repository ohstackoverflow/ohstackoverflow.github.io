<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 277) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-277.html">
<link rel="prev" href="index-278.html" type="text/html">
<link rel="next" href="index-276.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-are-the-xms-and-xmx-parameters-when-starting-jvm/" class="u-url">What are the -Xms and -Xmx parameters when starting JVM?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-are-the-xms-and-xmx-parameters-when-starting-jvm/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T02:48:21+08:00" itemprop="datePublished" title="2023-02-17 02:48">2023-02-17 02:48</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Please explain the use of the <code>Xms</code> and <code>Xmx</code> parameters in JVMs. What are the
default values for them?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The flag <code>Xmx</code> specifies the maximum memory allocation pool for a Java Virtual
Machine (JVM), while <code>Xms</code> specifies the initial memory allocation pool.</p>
<p>This means that your JVM will be started with <code>Xms</code> amount of memory and will
be able to use a maximum of <code>Xmx</code> amount of memory. For example, starting a
JVM like below will start it with 256 MB of memory and will allow the process
to use up to 2048 MB of memory:</p>
<div class="code"><pre class="code literal-block">java -Xms256m -Xmx2048m
</pre></div>

<p>The memory flag can also be specified in different sizes, such as kilobytes,
megabytes, and so on.</p>
<div class="code"><pre class="code literal-block">-Xmx1024k
-Xmx512m
-Xmx8g
</pre></div>

<p>The <code>Xms</code> flag has no default value, and <code>Xmx</code> typically has a default value
of 256 MB. A common use for these flags is when you encounter a
<code>java.lang.OutOfMemoryError</code>.</p>
<p>When using these settings, keep in mind that these settings are for the JVM's
<em>heap</em> , and that the JVM can and will use more memory than just the size
allocated to the heap. From Oracle's documentation:</p>
<blockquote>
<p>Note that the JVM uses more memory than just the heap. For example Java
methods, thread stacks and native handles are allocated in memory separate
from the heap, as well as JVM internal data structures.</p>
</blockquote>
<p><br></p>
<h3>Suggest</h3>
<p>Run the command <code>java -X</code> and you will get a list of all <code>-X</code> options:</p>
<div class="code"><pre class="code literal-block"><span class="n">C</span><span class="p">:</span>\<span class="n">Users</span>\<span class="n">Admin</span><span class="o">&gt;</span><span class="n">java</span><span class="w"> </span><span class="o">-</span><span class="n">X</span>
<span class="o">-</span><span class="n">Xmixed</span><span class="w">           </span><span class="n">mixed</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">execution</span><span class="w"> </span><span class="p">(</span><span class="n">default</span><span class="p">)</span>
<span class="o">-</span><span class="n">Xint</span><span class="w">             </span><span class="n">interpreted</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">execution</span><span class="w"> </span><span class="n">only</span>
<span class="o">-</span><span class="n">Xbootclasspath</span><span class="p">:</span><span class="o">&lt;</span><span class="n">directories</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">zip</span><span class="o">/</span><span class="n">jar</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">separated</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="p">;</span><span class="o">&gt;</span>
<span class="w">                      </span><span class="n">set</span><span class="w"> </span><span class="n">search</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">bootstrap</span><span class="w"> </span><span class="n">classes</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">resources</span>
<span class="o">-</span><span class="n">Xbootclasspath</span><span class="o">/</span><span class="n">a</span><span class="p">:</span><span class="o">&lt;</span><span class="n">directories</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">zip</span><span class="o">/</span><span class="n">jar</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">separated</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="p">;</span><span class="o">&gt;</span>
<span class="w">                      </span><span class="n">append</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">end</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">bootstrap</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">path</span>
<span class="o">-</span><span class="n">Xbootclasspath</span><span class="o">/</span><span class="n">p</span><span class="p">:</span><span class="o">&lt;</span><span class="n">directories</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">zip</span><span class="o">/</span><span class="n">jar</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">separated</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="p">;</span><span class="o">&gt;</span>
<span class="w">                      </span><span class="n">prepend</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">front</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">bootstrap</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">path</span>
<span class="o">-</span><span class="n">Xdiag</span><span class="w">            </span><span class="n">show</span><span class="w"> </span><span class="n">additional</span><span class="w"> </span><span class="n">diagnostic</span><span class="w"> </span><span class="n">messages</span>
<span class="o">-</span><span class="n">Xnoclassgc</span><span class="w">       </span><span class="n">disable</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">garbage</span><span class="w"> </span><span class="n">collection</span>
<span class="o">-</span><span class="n">Xincgc</span><span class="w">           </span><span class="n">enable</span><span class="w"> </span><span class="n">incremental</span><span class="w"> </span><span class="n">garbage</span><span class="w"> </span><span class="n">collection</span>
<span class="o">-</span><span class="n">Xloggc</span><span class="p">:</span><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;</span><span class="w">    </span><span class="nb">log</span><span class="w"> </span><span class="n">GC</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">stamps</span>
<span class="o">-</span><span class="n">Xbatch</span><span class="w">           </span><span class="n">disable</span><span class="w"> </span><span class="n">background</span><span class="w"> </span><span class="n">compilation</span>
<span class="o">-</span><span class="n">Xms</span><span class="o">&lt;</span><span class="n">size</span><span class="o">&gt;</span><span class="w">        </span><span class="n">set</span><span class="w"> </span><span class="n">initial</span><span class="w"> </span><span class="n">Java</span><span class="w"> </span><span class="n">heap</span><span class="w"> </span><span class="n">size</span><span class="o">.........................</span>
<span class="o">-</span><span class="n">Xmx</span><span class="o">&lt;</span><span class="n">size</span><span class="o">&gt;</span><span class="w">        </span><span class="n">set</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">Java</span><span class="w"> </span><span class="n">heap</span><span class="w"> </span><span class="n">size</span><span class="o">.........................</span>
<span class="o">-</span><span class="n">Xss</span><span class="o">&lt;</span><span class="n">size</span><span class="o">&gt;</span><span class="w">        </span><span class="n">set</span><span class="w"> </span><span class="n">java</span><span class="w"> </span><span class="n">thread</span><span class="w"> </span><span class="n">stack</span><span class="w"> </span><span class="n">size</span>
<span class="o">-</span><span class="n">Xprof</span><span class="w">            </span><span class="n">output</span><span class="w"> </span><span class="n">cpu</span><span class="w"> </span><span class="n">profiling</span><span class="w"> </span><span class="n">data</span>
<span class="o">-</span><span class="n">Xfuture</span><span class="w">          </span><span class="n">enable</span><span class="w"> </span><span class="n">strictest</span><span class="w"> </span><span class="n">checks</span><span class="p">,</span><span class="w"> </span><span class="n">anticipating</span><span class="w"> </span><span class="n">future</span><span class="w"> </span><span class="n">default</span>
<span class="o">-</span><span class="n">Xrs</span><span class="w">              </span><span class="n">reduce</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">OS</span><span class="w"> </span><span class="n">signals</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">Java</span><span class="o">/</span><span class="n">VM</span><span class="w"> </span><span class="p">(</span><span class="n">see</span><span class="w"> </span><span class="n">documentation</span><span class="p">)</span>
<span class="o">-</span><span class="n">Xcheck</span><span class="p">:</span><span class="n">jni</span><span class="w">       </span><span class="n">perform</span><span class="w"> </span><span class="n">additional</span><span class="w"> </span><span class="n">checks</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">JNI</span><span class="w"> </span><span class="n">functions</span>
<span class="o">-</span><span class="n">Xshare</span><span class="p">:</span><span class="n">off</span><span class="w">       </span><span class="n">do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">attempt</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="n">shared</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">data</span>
<span class="o">-</span><span class="n">Xshare</span><span class="p">:</span><span class="n">auto</span><span class="w">      </span><span class="n">use</span><span class="w"> </span><span class="n">shared</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">possible</span><span class="w"> </span><span class="p">(</span><span class="n">default</span><span class="p">)</span>
<span class="o">-</span><span class="n">Xshare</span><span class="p">:</span><span class="n">on</span><span class="w">        </span><span class="n">require</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">shared</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">otherwise</span><span class="w"> </span><span class="n">fail</span><span class="o">.</span>
<span class="o">-</span><span class="n">XshowSettings</span><span class="w">    </span><span class="n">show</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="k">continue</span>
<span class="o">-</span><span class="n">XshowSettings</span><span class="p">:</span><span class="n">all</span><span class="w">         </span><span class="n">show</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="k">continue</span>
<span class="o">-</span><span class="n">XshowSettings</span><span class="p">:</span><span class="n">vm</span><span class="w">          </span><span class="n">show</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">vm</span><span class="w"> </span><span class="n">related</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="k">continue</span>
<span class="o">-</span><span class="n">XshowSettings</span><span class="p">:</span><span class="n">properties</span><span class="w">  </span><span class="n">show</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">property</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="k">continue</span>
<span class="o">-</span><span class="n">XshowSettings</span><span class="p">:</span><span class="n">locale</span><span class="w">      </span><span class="n">show</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">locale</span><span class="w"> </span><span class="n">related</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="k">continue</span>
</pre></div>

<p><strong>The -X options are non-standard and subject to change without notice.</strong></p>
<p>I hope this will help you understand <code>Xms</code>, <code>Xmx</code> as well as many other things
that matters the most. :)</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/check-if-table-exists-in-sql-server/" class="u-url">Check if table exists in SQL Server</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/check-if-table-exists-in-sql-server/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T02:47:55+08:00" itemprop="datePublished" title="2023-02-17 02:47">2023-02-17 02:47</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I would like this to be the ultimate discussion on how to check if a table
exists in SQL Server 2000/2005 using SQL Statements.</p>
<p>Here are two possible ways of doing it. Which one is the standard/best way of
doing it?</p>
<p>First way:</p>
<div class="code"><pre class="code literal-block"><span class="k">IF</span><span class="w"> </span><span class="nv">EXISTS</span><span class="w"> </span><span class="ss">(</span><span class="nv">SELECT</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span>
<span class="w">           </span><span class="nv">FROM</span><span class="w"> </span><span class="nv">INFORMATION_SCHEMA</span>.<span class="nv">TABLES</span><span class="w"> </span>
<span class="w">           </span><span class="nv">WHERE</span><span class="w"> </span><span class="nv">TABLE_TYPE</span><span class="o">=</span><span class="s1">'BASE TABLE'</span><span class="w"> </span>
<span class="w">           </span><span class="nv">AND</span><span class="w"> </span><span class="nv">TABLE_NAME</span><span class="o">=</span><span class="s1">'mytablename'</span><span class="ss">)</span><span class="w"> </span>
<span class="w">   </span><span class="nv">SELECT</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nv">AS</span><span class="w"> </span><span class="nv">res</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="nv">SELECT</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="nv">AS</span><span class="w"> </span><span class="nv">res</span><span class="c1">;</span>
</pre></div>

<p>Second way:</p>
<div class="code"><pre class="code literal-block"><span class="k">IF</span><span class="w"> </span><span class="nv">OBJECT_ID</span><span class="w"> </span><span class="ss">(</span><span class="nv">N</span><span class="s1">'mytablename'</span>,<span class="w"> </span><span class="nv">N</span><span class="s1">'U'</span><span class="ss">)</span><span class="w"> </span><span class="nv">IS</span><span class="w"> </span><span class="nv">NOT</span><span class="w"> </span><span class="nv">NULL</span><span class="w"> </span>
<span class="w">   </span><span class="nv">SELECT</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nv">AS</span><span class="w"> </span><span class="nv">res</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="nv">SELECT</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="nv">AS</span><span class="w"> </span><span class="nv">res</span><span class="c1">;</span>
</pre></div>

<p><strong>MySQL</strong> provides the simple</p>
<div class="code"><pre class="code literal-block"><span class="k">SHOW</span><span class="w"> </span><span class="nv">TABLES</span><span class="w"> </span><span class="nv">LIKE</span><span class="w"> </span><span class="s1">'%tablename%'</span><span class="c1">;</span>
</pre></div>

<p>statement. I am looking for something similar.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>For queries like this it is always best to use an <code>INFORMATION_SCHEMA</code> view.
These views are (mostly) standard across many different databases and rarely
change from version to version.</p>
<p>To check if a table exists use:</p>
<div class="code"><pre class="code literal-block"><span class="kr">IF</span> <span class="p">(</span><span class="n">EXISTS</span> <span class="p">(</span><span class="n">SELECT</span> <span class="o">*</span> 
                 <span class="n">FROM</span> <span class="n">INFORMATION_SCHEMA</span><span class="p">.</span><span class="n">TABLES</span> 
                 <span class="n">WHERE</span> <span class="n">TABLE_SCHEMA</span> <span class="o">=</span> <span class="s">'TheSchema'</span> 
                 <span class="n">AND</span>  <span class="n">TABLE_NAME</span> <span class="o">=</span> <span class="s">'TheTable'</span><span class="p">))</span>
<span class="kr">BEGIN</span>
    <span class="o">--</span><span class="n">Do</span> <span class="n">Stuff</span>
<span class="kr">END</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Also note that if for any reason you need to check for a temporary table you
can do this:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="nv">OBJECT_ID</span><span class="ss">(</span><span class="s1">'tempdb..#test'</span><span class="ss">)</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">not</span><span class="w"> </span><span class="nv">null</span>
<span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="nv">temp</span><span class="w"> </span><span class="nv">table</span><span class="w"> </span><span class="nv">exists</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/maintain-the-aspect-ratio-of-a-div-with-css/" class="u-url">Maintain the aspect ratio of a div with CSS</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/maintain-the-aspect-ratio-of-a-div-with-css/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T02:47:26+08:00" itemprop="datePublished" title="2023-02-17 02:47">2023-02-17 02:47</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I want to create a responsive <code>div</code> that can change its width/height as the
window's width changes.</p>
<p>Are there any CSS rules that would allow the height to change according to the
width, <strong>while maintaining its aspect ratio</strong>?</p>
<p>I know I can do this via JavaScript, but I would prefer using only CSS.</p>
<p><img alt="div keeping aspect ratio according to width of window" src="images/1cMfK.png"></p>
<p><br><br></p>
<h2>Answer</h2>
<p>Just create a wrapper <code>&lt;div&gt;</code> with a percentage value for <code>padding-bottom</code>,
like this:</p>
<div class="code"><pre class="code literal-block">.demoWrapper<span class="w"> </span>{
<span class="w">  </span>padding:<span class="w"> </span>10px;
<span class="w">  </span>background:<span class="w"> </span>white;
<span class="w">  </span>box-sizing:<span class="w"> </span>border-box;
<span class="w">  </span>resize:<span class="w"> </span>horizontal;
<span class="w">  </span>border:<span class="w"> </span>1px<span class="w"> </span>dashed;
<span class="w">  </span>overflow:<span class="w"> </span>auto;
<span class="w">  </span>max-width:<span class="w"> </span>100%;
<span class="w">  </span>height:<span class="w"> </span>calc(100vh<span class="w"> </span>-<span class="w"> </span>16px);
}

div<span class="w"> </span>{
<span class="w">  </span>width:<span class="w"> </span>100%;
<span class="w">  </span>padding-bottom:<span class="w"> </span>75%;
<span class="w">  </span>background:<span class="w"> </span>gold;<span class="w"> </span>/**<span class="w"> </span><span class="nt">&lt;--</span><span class="w"> </span><span class="err">For</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">demo</span><span class="w"> </span><span class="err">**/</span>
<span class="err">}</span>


<span class="err">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"demoWrapper"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;div&gt;&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p>It will result in a <code>&lt;div&gt;</code> with height equal to 75% of the width of its
container (a 4:3 aspect ratio).</p>
<p>This relies on the fact that for padding :</p>
<blockquote>
<p>The percentage is calculated with respect to the <strong>width</strong> of the generated
box's containing block [...] (source: w3.org, emphasis mine)</p>
</blockquote>
<p>Padding-bottom values for other aspect ratios and 100% width :</p>
<div class="code"><pre class="code literal-block">aspect ratio  | padding-bottom value
--------------|----------------------
    16:9      |       56.25%
    4:3       |       75%
    3:2       |       66.66%
    8:5       |       62.5%
</pre></div>

<hr>
<p><strong>Placing content in the div :</strong></p>
<p>In order to keep the aspect ratio of the div and prevent its content from
stretching it, you need to add an absolutely positioned child and stretch it
to the edges of the wrapper with:</p>
<div class="code"><pre class="code literal-block"><span class="nt">div</span><span class="p">.</span><span class="nc">stretchy-wrapper</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">position</span><span class="p">:</span><span class="w"> </span><span class="kc">relative</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">div</span><span class="p">.</span><span class="nc">stretchy-wrapper</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nt">div</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">position</span><span class="p">:</span><span class="w"> </span><span class="kc">absolute</span><span class="p">;</span>
<span class="w">  </span><span class="k">top</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="k">bottom</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="k">left</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="k">right</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>Here's a <strong>demo</strong> and another more in depth demo</p>
<p><br></p>
<h3>Suggest</h3>
<p>There are <strong>several ways to specify a fixed aspect ratio</strong> on an element like
a div, here are 2 of them:</p>
<h2>1. The <code>aspect-ratio</code> CSS property</h2>
<div class="code"><pre class="code literal-block">div<span class="w"> </span>{
<span class="w">  </span>aspect-ratio:<span class="w"> </span>1<span class="w"> </span>/<span class="w"> </span>1;
<span class="w">  </span>width:<span class="w"> </span>50%;
<span class="w">  </span>background:<span class="w"> </span>teal;
}


<span class="nt">&lt;div&gt;</span>aspect-ratio:<span class="w"> </span>1<span class="w"> </span>/<span class="w"> </span>1;<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p><strong>This is the most simple and flexible solution</strong>. It directly specifies a
fixed width to height (or height to width) aspect ratio for an element. This
means you can also specify an aspect ratio according to the elements <em>height</em>.<br>
It doesn't rely on the parent width (like the padding technique) or the
viewport size (like the following <code>vw</code> unit technique) it relies on the
element's own width or height More info on MDN. That is what make it so
powerfull compared to other workarounds.</p>
<p><strong>This is a modern property</strong> (2021). All modern browsers support it, see
caniuse for precise browser support.</p>
<p><strong>Here are a few examples with different aspect ratios :</strong></p>
<div class="code"><pre class="code literal-block">.ar-1-1<span class="w">  </span>{aspect-ratio:<span class="w"> </span>1<span class="w"> </span>/<span class="w"> </span>1;}
.ar-3-2<span class="w">  </span>{aspect-ratio:<span class="w"> </span>3<span class="w"> </span>/<span class="w"> </span>2;}
.ar-4-3<span class="w">  </span>{aspect-ratio:<span class="w"> </span>4<span class="w"> </span>/<span class="w"> </span>3;}
.ar-16-9<span class="w"> </span>{aspect-ratio:<span class="w"> </span>16<span class="w"> </span>/<span class="w"> </span>9;}
.ar-2-3<span class="w">  </span>{aspect-ratio:<span class="w"> </span>2<span class="w"> </span>/<span class="w"> </span>3;}
.ar-3-4<span class="w">  </span>{aspect-ratio:<span class="w"> </span>3<span class="w"> </span>/<span class="w"> </span>4;}
.ar-9-16<span class="w"> </span>{aspect-ratio:<span class="w"> </span>9<span class="w"> </span>/<span class="w"> </span>16;}


/**<span class="w"> </span>For<span class="w"> </span>the<span class="w"> </span>demo<span class="w"> </span>:<span class="w"> </span>**/
body<span class="w"> </span>{
<span class="w">  </span>display:flex;
<span class="w">  </span>flex-wrap:wrap;
<span class="w">  </span>align-items:flex-start;
}
div<span class="w"> </span>{
<span class="w">  </span>background:<span class="w"> </span>teal;
<span class="w">  </span>width:<span class="w"> </span>23%;
<span class="w">  </span>margin:1%;
<span class="w">  </span>padding:20px<span class="w"> </span>0;
<span class="w">  </span>box-sizing:<span class="w"> </span>border-box;
<span class="w">  </span>color:#fff;
<span class="w">  </span>text-align:center;
}


<span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"ar-1-1"</span><span class="nt">&gt;</span>aspect-ratio:<span class="w"> </span>1<span class="w"> </span>/<span class="w"> </span>1;<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"ar-3-2"</span><span class="nt">&gt;</span>aspect-ratio:<span class="w"> </span>3<span class="w"> </span>/<span class="w"> </span>2;<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"ar-4-3"</span><span class="nt">&gt;</span>aspect-ratio:<span class="w"> </span>4<span class="w"> </span>/<span class="w"> </span>3;<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"ar-16-9"</span><span class="nt">&gt;</span>aspect-ratio:<span class="w"> </span>16<span class="w"> </span>/<span class="w"> </span>9;<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"ar-2-3"</span><span class="nt">&gt;</span>aspect-ratio:<span class="w"> </span>2<span class="w"> </span>/<span class="w"> </span>3;<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"ar-3-4"</span><span class="nt">&gt;</span>aspect-ratio:<span class="w"> </span>3<span class="w"> </span>/<span class="w"> </span>4;<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"ar-9-16"</span><span class="nt">&gt;</span>aspect-ratio:<span class="w"> </span>9<span class="w"> </span>/<span class="w"> </span>16;<span class="nt">&lt;/div&gt;</span>
</pre></div>

<h2>2. Using <code>vw</code> units:</h2>
<p>You can use <code>vw</code> units for both the width and height of the element. This
allows the element's aspect ratio to be preserved, <strong>based on the viewport
width</strong>.</p>
<blockquote>
<p>vw : 1/100th of the width of the viewport. [ <em>MDN</em> ]</p>
</blockquote>
<p>Alternatively, you can also use <code>vh</code> for viewport height, or even
<code>vmin</code>/<code>vmax</code> to use the lesser/greater of the viewport dimensions (discussion
here).</p>
<p><strong>Example: 1:1 aspect ratio</strong></p>
<div class="code"><pre class="code literal-block">div<span class="w"> </span>{
<span class="w">  </span>width:<span class="w"> </span>20vw;
<span class="w">  </span>height:<span class="w"> </span>20vw;
<span class="w">  </span>background:<span class="w"> </span>gold;
}


<span class="nt">&lt;div&gt;&lt;/div&gt;</span>
</pre></div>

<p>For other aspect ratios, you can use the following table to calculate the
value for height according to the width of the element :</p>
<div class="code"><pre class="code literal-block">aspect ratio  |  multiply width by
-----------------------------------
     1:1      |         1
     1:3      |         3
     4:3      |        0.75
    16:9      |       0.5625
</pre></div>

<h3>Example: 4x4 grid of square divs</h3>
<div class="code"><pre class="code literal-block">body<span class="w"> </span>{
<span class="w">  </span>display:<span class="w"> </span>flex;
<span class="w">  </span>flex-wrap:<span class="w"> </span>wrap;
<span class="w">  </span>justify-content:<span class="w"> </span>space-between;
}
div<span class="w"> </span>{
<span class="w">  </span>width:<span class="w"> </span>23vw;
<span class="w">  </span>height:<span class="w"> </span>23vw;
<span class="w">  </span>margin:<span class="w"> </span>0.5vw<span class="w"> </span>auto;
<span class="w">  </span>background:<span class="w"> </span>gold;
}


<span class="nt">&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;</span>
</pre></div>

<p>Here is a Fiddle with this demo and here is a solution to make a responsive
grid of squares with verticaly and horizontaly centered content.</p>
<hr>
<p>Browser support for vh/vw units is IE9+ see canIuse for more info</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-278.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-276.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

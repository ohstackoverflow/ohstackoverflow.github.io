<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1009) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1009.html">
<link rel="prev" href="index-1010.html" type="text/html">
<link rel="next" href="index-1008.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-tell-if-uiviewcontroller-s-view-is-visible/" class="u-url">How to tell if UIViewController's view is visible</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-tell-if-uiviewcontroller-s-view-is-visible/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T22:22:44+08:00" itemprop="datePublished" title="2023-02-17 22:22">2023-02-17 22:22</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a tab bar application, with many views. Is there a way to know if a
particular <code>UIViewController</code> is currently visible from within the
<code>UIViewController</code>? (looking for a property)</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The view's window property is non-nil if a view is currently visible, so check
the main view in the view controller:</p>
<p><em>Invoking the view method causes the view to load (if it is not loaded) which
is unnecessary and may be undesirable. It would be better to check first to
see if it is already loaded. I've added the call to isViewLoaded to avoid this
problem.</em></p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">viewController</span>.<span class="nv">isViewLoaded</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nv">viewController</span>.<span class="nv">view</span>.<span class="nv">window</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="nv">viewController</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">visible</span>
}
</pre></div>

<p>Since iOS9 it has became easier:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="nv">viewController</span>.<span class="nv">viewIfLoaded</span>?.<span class="nv">window</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nv">nil</span><span class="w"> </span>{
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="nv">viewController</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">visible</span>
}
</pre></div>

<hr>
<p>Or if you have a UINavigationController managing the view controllers, you
could check its visibleViewController property instead.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Here's @progrmr's solution as a <code>UIViewController</code> category:</p>
<div class="code"><pre class="code literal-block"><span class="c1">// UIViewController+Additions.h</span>

<span class="k">@interface</span> <span class="bp">UIViewController</span> <span class="nl">(Additions)</span>

<span class="p">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isVisible</span><span class="p">;</span>

<span class="k">@end</span>


<span class="c1">// UIViewController+Additions.m</span>

<span class="cp">#import "UIViewController+Additions.h"</span>

<span class="k">@implementation</span> <span class="bp">UIViewController</span> <span class="nl">(Additions)</span>

<span class="p">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isVisible</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">[</span><span class="nb">self</span><span class="w"> </span><span class="n">isViewLoaded</span><span class="p">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">self</span><span class="p">.</span><span class="n">view</span><span class="p">.</span><span class="n">window</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">@end</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/mysql-string-replace/" class="u-url">MySQL string replace</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/mysql-string-replace/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T22:22:17+08:00" itemprop="datePublished" title="2023-02-17 22:22">2023-02-17 22:22</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a column containing urls (id, url):</p>
<div class="code"><pre class="code literal-block">http://www.example.com/articles/updates/43
http://www.example.com/articles/updates/866
http://www.example.com/articles/updates/323
http://www.example.com/articles/updates/seo-url
http://www.example.com/articles/updates/4?something=test
</pre></div>

<p>I'd like to change the word "updates" to "news". Is it possible to do this
with a script?</p>
<p><br><br></p>
<h2>Answer</h2>
<div class="code"><pre class="code literal-block">UPDATE your_table
SET your_field = REPLACE(your_field, 'articles/updates/', 'articles/news/')
WHERE your_field LIKE '%articles/updates/%'
</pre></div>

<p>Now rows that were like</p>
<p><code>http://www.example.com/articles/updates/43</code></p>
<p>will be</p>
<p><code>http://www.example.com/articles/news/43</code></p>
<p>http://www.electrictoolbox.com/mysql-find-replace-text/</p>
<p><br></p>
<h3>Suggest</h3>
<p>Yes, MySQL has a REPLACE() function:</p>
<div class="code"><pre class="code literal-block"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="n">SELECT</span><span class="w"> </span><span class="n">REPLACE</span><span class="p">(</span><span class="s">'www.mysql.com'</span><span class="p">,</span><span class="w"> </span><span class="s">'w'</span><span class="p">,</span><span class="w"> </span><span class="s">'Ww'</span><span class="p">);</span>
<span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">'WwWwWw.mysql.com'</span>
</pre></div>

<p>http://dev.mysql.com/doc/refman/5.0/en/string-functions.html#function_replace</p>
<p>Note that it's easier if you make that an alias when using <code>SELECT</code></p>
<div class="code"><pre class="code literal-block">SELECT REPLACE(string_column, 'search', 'replace') as url....
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/is-there-a-difference-between-and-is/" class="u-url">Is there a difference between "==" and "is"?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/is-there-a-difference-between-and-is/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T22:21:49+08:00" itemprop="datePublished" title="2023-02-17 22:21">2023-02-17 22:21</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p><strong>This question's answers are a community effort</strong>. Edit existing answers to
improve this post. It is not currently accepting new answers or interactions.</p>
<p>My Google-fu has failed me.</p>
<p>In Python, are the following two tests for equality equivalent?</p>
<div class="code"><pre class="code literal-block"><span class="nv">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span>
#<span class="w"> </span><span class="nv">Test</span><span class="w"> </span><span class="nv">one</span>.
<span class="k">if</span><span class="w"> </span><span class="nv">n</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">5</span>:
<span class="w">    </span><span class="nv">print</span><span class="w"> </span><span class="s1">'Yay!'</span>

#<span class="w"> </span><span class="nv">Test</span><span class="w"> </span><span class="nv">two</span>.
<span class="k">if</span><span class="w"> </span><span class="nv">n</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="mi">5</span>:
<span class="w">    </span><span class="nv">print</span><span class="w"> </span><span class="s1">'Yay!'</span>
</pre></div>

<p>Does this hold true for objects where you would be comparing instances (a
<code>list</code> say)?</p>
<p>Okay, so this kind of answers my question:</p>
<div class="code"><pre class="code literal-block"><span class="nv">L</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[]
<span class="nv">L</span>.<span class="nv">append</span><span class="ss">(</span><span class="mi">1</span><span class="ss">)</span>
<span class="k">if</span><span class="w"> </span><span class="nv">L</span><span class="w"> </span><span class="o">==</span><span class="w"> </span>[<span class="mi">1</span>]:
<span class="w">    </span><span class="nv">print</span><span class="w"> </span><span class="s1">'Yay!'</span>
#<span class="w"> </span><span class="nv">Holds</span><span class="w"> </span><span class="nv">true</span>,<span class="w"> </span><span class="nv">but</span>...

<span class="k">if</span><span class="w"> </span><span class="nv">L</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span>[<span class="mi">1</span>]:
<span class="w">    </span><span class="nv">print</span><span class="w"> </span><span class="s1">'Yay!'</span>
#<span class="w"> </span><span class="nv">Doesn</span><span class="err">'t.</span>
</pre></div>

<p>So <code>==</code> tests value where <code>is</code> tests to see if they are the same object?</p>
<p><br><br></p>
<h2>Answer</h2>
<p><code>is</code> will return <code>True</code> if two variables point to the same object (in memory),
<code>==</code> if the objects referred to by the variables are equal.</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="err">]</span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span>
<span class="no">True</span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">a</span>
<span class="no">True</span>

<span class="c1"># Make a new copy of list `a` via the slice operator, </span>
<span class="c1"># and assign it to variable `b`</span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="err">[</span><span class="o">:</span><span class="err">]</span><span class="w"> </span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">a</span>
<span class="no">False</span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">a</span>
<span class="no">True</span>
</pre></div>

<p>In your case, the second test only works because Python caches small integer
objects, which is an implementation detail. For larger integers, this does not
work:</p>
<div class="code"><pre class="code literal-block">&gt;&gt;&gt; 1000 is 10**3
False
&gt;&gt;&gt; 1000 == 10**3
True
</pre></div>

<p>The same holds true for string literals:</p>
<div class="code"><pre class="code literal-block">&gt;&gt;&gt; "a" is "a"
True
&gt;&gt;&gt; "aa" is "a" * 2
True
&gt;&gt;&gt; x = "a"
&gt;&gt;&gt; "aa" is x * 2
False
&gt;&gt;&gt; "aa" is intern(x*2)
True
</pre></div>

<p>Please see this question as well.</p>
<p><br></p>
<h3>Suggest</h3>
<p>There is a simple rule of thumb to tell you when to use <code>==</code> or <code>is</code>.</p>
<ul>
<li>
<code>==</code> is for <em>value equality</em>. Use it when you would like to know if two objects have the same value.</li>
<li>
<code>is</code> is for <em>reference equality</em>. Use it when you would like to know if two references refer to the same object.</li>
</ul>
<p>In general, when you are comparing something to a simple type, you are usually
checking for <em>value equality</em> , so you should use <code>==</code>. For example, the
intention of your example is probably to check whether x has a value equal to
2 (<code>==</code>), not whether <code>x</code> is literally referring to the same object as 2.</p>
<hr>
<p>Something else to note: because of the way the CPython reference
implementation works, you'll get unexpected and inconsistent results if you
mistakenly use <code>is</code> to compare for reference equality on integers:</p>
<div class="code"><pre class="code literal-block">&gt;&gt;&gt; a = 500
&gt;&gt;&gt; b = 500
&gt;&gt;&gt; a == b
True
&gt;&gt;&gt; a is b
False
</pre></div>

<p>That's pretty much what we expected: <code>a</code> and <code>b</code> have the same value, but are
distinct entities. But what about this?</p>
<div class="code"><pre class="code literal-block">&gt;&gt;&gt; c = 200
&gt;&gt;&gt; d = 200
&gt;&gt;&gt; c == d
True
&gt;&gt;&gt; c is d
True
</pre></div>

<p>This is inconsistent with the earlier result. What's going on here? It turns
out the reference implementation of Python caches integer objects in the range
-5..256 as singleton instances for performance reasons. Here's an example
demonstrating this:</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nt">i</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nt">range</span><span class="o">(</span><span class="nt">250</span><span class="o">,</span><span class="w"> </span><span class="nt">260</span><span class="o">):</span><span class="w"> </span><span class="nt">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">i</span><span class="o">;</span><span class="w"> </span><span class="nt">print</span><span class="w"> </span><span class="s2">"%i: %s"</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="o">(</span><span class="nt">i</span><span class="o">,</span><span class="w"> </span><span class="nt">a</span><span class="w"> </span><span class="nt">is</span><span class="w"> </span><span class="nt">int</span><span class="o">(</span><span class="nt">str</span><span class="o">(</span><span class="nt">i</span><span class="o">)));</span>
<span class="o">...</span><span class="w"> </span>
<span class="nt">250</span><span class="o">:</span><span class="w"> </span><span class="nt">True</span>
<span class="nt">251</span><span class="o">:</span><span class="w"> </span><span class="nt">True</span>
<span class="nt">252</span><span class="o">:</span><span class="w"> </span><span class="nt">True</span>
<span class="nt">253</span><span class="o">:</span><span class="w"> </span><span class="nt">True</span>
<span class="nt">254</span><span class="o">:</span><span class="w"> </span><span class="nt">True</span>
<span class="nt">255</span><span class="o">:</span><span class="w"> </span><span class="nt">True</span>
<span class="nt">256</span><span class="o">:</span><span class="w"> </span><span class="nt">True</span>
<span class="nt">257</span><span class="o">:</span><span class="w"> </span><span class="nt">False</span>
<span class="nt">258</span><span class="o">:</span><span class="w"> </span><span class="nt">False</span>
<span class="nt">259</span><span class="o">:</span><span class="w"> </span><span class="nt">False</span>
</pre></div>

<p>This is another obvious reason not to use <code>is</code>: the behavior is left up to
implementations when you're erroneously using it for value equality.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1010.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1008.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1512) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1512.html">
<link rel="prev" href="index-1513.html" type="text/html">
<link rel="next" href="index-1511.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-get-the-wallet-address-for-a-given-herotag/" class="u-url">How can I get the wallet address for a given herotag?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-get-the-wallet-address-for-a-given-herotag/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-28T05:30:43+08:00" itemprop="datePublished" title="2023-02-28 05:30">2023-02-28 05:30</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>If I want to get the herotag for a given wallet address, I can simply call the
following endpoint:</p>
<p>https://api.elrond.com/accounts/erd1hw78kxyj353x52hmmq6dzxgexynwt4m29q2uvpq6xdm90z3halvsl7cn6g</p>
<p>and I get:</p>
<div class="code"><pre class="code literal-block">{
   "address":"erd1hw78kxyj353x52hmmq6dzxgexynwt4m29q2uvpq6xdm90z3halvsl7cn6g",
   "nonce":4,
   "balance":"0",
   "rootHash":"QU6o17Qw4KUPnpU6e6QbEuvKUTA8SPy52QFseslWsG4=",
   "txCount":4,
   "username":"event.elrond",
   "shard":1
}
</pre></div>

<p>where I see the <code>username</code>.</p>
<p>But now I'd like to obtain the wallet address for a given herotag.</p>
<p>Is there any API endpoint for this purpose?</p>
<p><br><br></p>
<h2>Answer</h2>
<h4>Using API</h4>
<div class="code"><pre class="code literal-block">https://api.elrond.com/usernames/&lt;herotag&gt;
</pre></div>

<p>E.g.:</p>
<p>https://api.elrond.com/usernames/event</p>
<p>redirects to</p>
<p>https://api.elrond.com/accounts/erd1hw78kxyj353x52hmmq6dzxgexynwt4m29q2uvpq6xdm90z3halvsl7cn6g</p>
<p>and returns</p>
<div class="code"><pre class="code literal-block">{
  "address": "erd1hw78kxyj353x52hmmq6dzxgexynwt4m29q2uvpq6xdm90z3halvsl7cn6g",
  "nonce": 7,
  "balance": "254914476000000000",
  "rootHash": "QU6o17Qw4KUPnpU6e6QbEuvKUTA8SPy52QFseslWsG4=",
  "txCount": 9,
  "scrCount": 12,
  "username": "event.elrond",
  "shard": 1,
  "developerReward": "0"
}
</pre></div>

<h4>Using <code>erdpy</code>
</h4>
<div class="code"><pre class="code literal-block">erdpy dns resolve &lt;herotag&gt;.elrond --proxy=https://gateway.elrond.com
</pre></div>

<p>where <code>&lt;herotag&gt;</code> should be replaced by its value.</p>
<p>E.g.:</p>
<div class="code"><pre class="code literal-block">erdpy dns resolve event.elrond --proxy=https://gateway.elrond.com
</pre></div>

<p>outputs</p>
<div class="code"><pre class="code literal-block">erd1hw78kxyj353x52hmmq6dzxgexynwt4m29q2uvpq6xdm90z3halvsl7cn6g
</pre></div>

<p><strong>Details</strong> :</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>erdpy<span class="w"> </span>--version
erdpy<span class="w"> </span><span class="m">1</span>.0.12
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-retrieve-the-entire-old-ethereum-blockchain-data-for-data-processing/" class="u-url">How can I retrieve the entire old ethereum blockchain data for data processing</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-retrieve-the-entire-old-ethereum-blockchain-data-for-data-processing/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-28T05:30:19+08:00" itemprop="datePublished" title="2023-02-28 05:30">2023-02-28 05:30</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I want to get the "entire" ethereum blockchain data, not just from a few sets
of smart contracts. By data I mean, transaction details including the
generated logs.</p>
<p>I can get real-time data using Infura, but it's pretty much impossible to
fetch all the old data, it would simply cost too much because I would simply
have to do too many network requests.</p>
<p>I need the old data because I am trying to make an indexed database out of the
"append-only" ethereum transaction data so that I can easily query it.</p>
<p>To be more precise, I would like to retrieve all NFT(ERC721, ERC1155) transfer
transactions and their logs. So that I can do the following queries and much
more: all the NFT owned by a particular wallet, transfer histories of a
particular NFT token.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Two solutions I have discovered.</p>
<ol>
<li>Just like @Mikko has mentioned, you can run your own node. And it seemed not be as complex as I have expected. You can search for "geth" and then simply connect this node to your web3 library, just like connecting to Infura.</li>
</ol>
<p>But I have not tried this and found a much better solution.</p>
<ol>
<li>Google cloud Bigquery's public data set has all the old ethereum data. Bigquery is Google's data warehouse service, where you can use simple SQL to query your data. It adds new data every day. I have already tested some simple queries from its console and the result was good.</li>
</ol>
<p>I am planning to fetch all the old data I need from bigquery and store it in
my own database and afterwards get real time data from infura. Now that I dont
have to fetch all the old data from infura, the price becomes very affordable.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Two solutions I have discovered.</p>
<ol>
<li>Just like @Mikko has mentioned, you can run your own node. And it seemed not be as complex as I have expected. You can search for "geth" and then simply connect this node to your web3 library, just like connecting to Infura.</li>
</ol>
<p>But I have not tried this and found a much better solution.</p>
<ol>
<li>Google cloud Bigquery's public data set has all the old ethereum data. Bigquery is Google's data warehouse service, where you can use simple SQL to query your data. It adds new data every day. I have already tested some simple queries from its console and the result was good.</li>
</ol>
<p>I am planning to fetch all the old data I need from bigquery and store it in
my own database and afterwards get real time data from infura. Now that I dont
have to fetch all the old data from infura, the price becomes very affordable.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/hardhat-node-error-in-browser-on-localhost/" class="u-url">Hardhat node, error in browser on localhost</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/hardhat-node-error-in-browser-on-localhost/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-28T05:30:02+08:00" itemprop="datePublished" title="2023-02-28 05:30">2023-02-28 05:30</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm trying to debug &amp; test a smart contract I developed, however doing so on
testnets takes a lot of time and I wanted to test properly on local node.</p>
<p>I can create the node and deploy the contract, transfer from account to
another in metamask, every thing works fine, except when I go to
http://127.0.0.1:8545/ in browser, I get this error:</p>
<div class="code"><pre class="code literal-block"><span class="p">{</span><span class="s2">"jsonrpc"</span><span class="o">:</span><span class="s2">"2.0"</span><span class="p">,</span><span class="s2">"id"</span><span class="o">:</span><span class="s s-Atom">null</span><span class="p">,</span><span class="s2">"error"</span><span class="o">:</span><span class="p">{</span><span class="s2">"code"</span><span class="o">:-</span><span class="mi">32700</span><span class="p">,</span><span class="s2">"message"</span><span class="o">:</span><span class="s2">"Parse error: Unexpected end of JSON input"</span><span class="p">}}</span>
</pre></div>

<p>I've tried both brave &amp; chrome, I tried creating a different hardhat project,
same error.</p>
<p>What can I do? Thanks!</p>
<p><br><br></p>
<h2>Answer</h2>
<p>This is an expected output. It's a response to the empty request body:</p>
<div class="code"><pre class="code literal-block"><span class="s s-Atom">#</span> <span class="s s-Atom">request</span>
<span class="s s-Atom">curl</span> <span class="s s-Atom">'http://127.0.0.1:8545/'</span> <span class="s s-Atom">--data</span><span class="o">-</span><span class="s s-Atom">raw</span> <span class="s s-Atom">''</span>



<span class="s s-Atom">#</span> <span class="s s-Atom">response</span>
<span class="p">{</span><span class="s2">"jsonrpc"</span><span class="o">:</span><span class="s2">"2.0"</span><span class="p">,</span><span class="s2">"id"</span><span class="o">:</span><span class="s s-Atom">null</span><span class="p">,</span><span class="s2">"error"</span><span class="o">:</span><span class="p">{</span><span class="s2">"code"</span><span class="o">:-</span><span class="mi">32700</span><span class="p">,</span><span class="s2">"message"</span><span class="o">:</span><span class="s2">"Parse error: Unexpected end of JSON input"</span><span class="p">}}</span>
</pre></div>

<p>If you sent a valid JSON-RPC request body (which is generally not possible
from the browser address bar, unless you have installed some kind of browser
extension), you'd get a valid response:</p>
<div class="code"><pre class="code literal-block"># request
curl 'http://127.0.0.1:8545' --data-raw '{"jsonrpc":"2.0","method":"net_listening","params":[],"id":1}'



# response
{"jsonrpc":"2.0","id":1,"result":true}
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1513.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1511.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

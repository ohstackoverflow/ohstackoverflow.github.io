<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1786) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1786.html">
<link rel="prev" href="index-1787.html" type="text/html">
<link rel="next" href="index-1785.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-install-a-python-module-within-code/" class="u-url">How can I Install a Python module within code?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-install-a-python-module-within-code/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T09:19:39+08:00" itemprop="datePublished" title="2023-03-03 09:19">2023-03-03 09:19</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I need to install a package from PyPI straight within my script.</p>
<p>Is there maybe some module or <code>distutils</code> (<code>distribute</code>, <code>pip</code>, etc.) feature
which allows me to just execute something like <code>pypi.install('requests')</code> and
requests will be installed into my virtualenv?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The officially recommended way to install packages from a script is by calling
pip's command-line interface via a subprocess. Most other answers presented
here are not supported by pip. Furthermore since pip v10, all code has been
moved to <code>pip._internal</code> precisely in order to make it clear to users that
programmatic use of pip is not allowed.</p>
<p>Use <code>sys.executable</code> to ensure that you will call the same <code>pip</code> associated
with the current runtime.</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">subprocess</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="n">package</span><span class="p">):</span>
    <span class="n">subprocess</span><span class="o">.</span><span class="n">check_call</span><span class="p">([</span><span class="n">sys</span><span class="o">.</span><span class="n">executable</span><span class="p">,</span> <span class="s2">"-m"</span><span class="p">,</span> <span class="s2">"pip"</span><span class="p">,</span> <span class="s2">"install"</span><span class="p">,</span> <span class="n">package</span><span class="p">])</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>You can also use something like:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">pip</span>

<span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="n">package</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">pip</span><span class="p">,</span> <span class="s1">'main'</span><span class="p">):</span>
        <span class="n">pip</span><span class="o">.</span><span class="n">main</span><span class="p">([</span><span class="s1">'install'</span><span class="p">,</span> <span class="n">package</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">pip</span><span class="o">.</span><span class="n">_internal</span><span class="o">.</span><span class="n">main</span><span class="p">([</span><span class="s1">'install'</span><span class="p">,</span> <span class="n">package</span><span class="p">])</span>

<span class="c1"># Example</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">'__main__'</span><span class="p">:</span>
    <span class="n">install</span><span class="p">(</span><span class="s1">'argh'</span><span class="p">)</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/remove-all-unused-resources-from-an-android-project/" class="u-url">Remove all unused resources from an android project</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/remove-all-unused-resources-from-an-android-project/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T09:19:09+08:00" itemprop="datePublished" title="2023-03-03 09:19">2023-03-03 09:19</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I want to remove all unused layouts, strings, drawables, colors, etc from my
Android res directory. Are there any tools that will give me a list of files
and I can remove from my repository and elements within specifics files (e.g.
unused string entries) that are no longer used?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can easily search for unused resources from Android Studio. Just press
<code>Ctrl``Alt``Shift``i</code> and type " <strong>unused resources</strong> " (without quotes). That
will execute lint. Super easy way to run lint commands (and other stuff from
IDE).</p>
<p>OR</p>
<p>In <strong>Android Studio Menu</strong> &gt; <strong>Refactor</strong> &gt; <strong>Remove Unused Resources...</strong></p>
<p>Select the resources you want to remove. You can exclude resources you want to
keep by right-clicking on the resource item.</p>
<p>Use <strong>Do Refactor</strong> to remove all Resources at once.</p>
<p><strong>Update:</strong> use <code>⌘``Option``Shift``i</code> for mac</p>
<p><br></p>
<h3>Suggest</h3>
<p>Since ADT 16 you can use Android Lint. It is really amazing tool.</p>
<blockquote>
<p>Android Lint is a new tool for ADT 16 (and Tools 16) which scans Android
project sources for potential bugs.</p>
<p>Here are some examples of the types of errors that it looks for:</p>
<ul>
<li>Missing translations (and unused translations)</li>
<li>Layout performance problems (all the issues the old layoutopt tool used
to find, and more)</li>
<li>Unused resources</li>
<li>Inconsistent array sizes (when arrays are defined in multiple
configurations)</li>
<li>Accessibility and internationalization problems (hardcoded strings,
missing contentDescription, etc)</li>
<li>Icon problems (like missing densities, duplicate icons, wrong sizes,
etc)</li>
<li>Usability problems (like not specifying an input type on a text field)</li>
<li>Manifest errors and many more.
</li>
</ul>
</blockquote>
<p>However, it has some issues (don't know if they're already fixed) and if you
want to delete hundreds of supposedly unused resources I'd recommend to
manually compile project several times during resource removing to be sure
that Lint didn't remove something needed.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/react-js-conditionally-applying-class-attributes/" class="u-url">React Js conditionally applying class attributes</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/react-js-conditionally-applying-class-attributes/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T09:18:43+08:00" itemprop="datePublished" title="2023-03-03 09:18">2023-03-03 09:18</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I want to conditionally show and hide this button group depending on what is
passed in from the parent component which looks like this:</p>
<div class="code"><pre class="code literal-block"><span class="w">    </span><span class="nt">&lt;TopicNav</span><span class="w"> </span><span class="na">showBulkActions=</span><span class="s">{this.__hasMultipleSelected}</span><span class="w"> </span><span class="nt">/&gt;</span>




<span class="w">    </span>__hasMultipleSelected:<span class="w"> </span>function()<span class="w"> </span>{
<span class="w">      </span>return<span class="w"> </span>false;<span class="w"> </span>//return<span class="w"> </span>true<span class="w"> </span>or<span class="w"> </span>false<span class="w"> </span>depending<span class="w"> </span>on<span class="w"> </span>data
<span class="w">    </span>}



<span class="w">    </span>var<span class="w"> </span>TopicNav<span class="w"> </span>=<span class="w"> </span>React.createClass({
<span class="w">    </span>render:<span class="w"> </span>function()<span class="w"> </span>{
<span class="w">    </span>return<span class="w"> </span>(
<span class="w">        </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">className=</span><span class="s">"row"</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">className=</span><span class="s">"col-lg-6"</span><span class="nt">&gt;</span>
<span class="w">                </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">className=</span><span class="s">"btn-group pull-right {this.props.showBulkActions ? 'show' : 'hidden'}"</span><span class="nt">&gt;</span>
<span class="w">                    </span><span class="nt">&lt;button</span><span class="w"> </span><span class="na">type=</span><span class="s">"button"</span><span class="w"> </span><span class="na">className=</span><span class="s">"btn btn-default dropdown-toggle"</span><span class="w"> </span><span class="na">data-toggle=</span><span class="s">"dropdown"</span><span class="w"> </span><span class="na">aria-expanded=</span><span class="s">"false"</span><span class="nt">&gt;</span>
<span class="w">                      </span>Bulk<span class="w"> </span>Actions<span class="w"> </span><span class="nt">&lt;span</span><span class="w"> </span><span class="na">className=</span><span class="s">"caret"</span><span class="nt">&gt;&lt;/span&gt;</span>
<span class="w">                    </span><span class="nt">&lt;/button&gt;</span>
<span class="w">                    </span><span class="nt">&lt;ul</span><span class="w"> </span><span class="na">className=</span><span class="s">"dropdown-menu"</span><span class="w"> </span><span class="na">role=</span><span class="s">"menu"</span><span class="nt">&gt;</span>
<span class="w">                      </span><span class="nt">&lt;li&gt;&lt;a</span><span class="w"> </span><span class="na">href=</span><span class="s">"#"</span><span class="nt">&gt;</span>Merge<span class="w"> </span>into<span class="w"> </span>New<span class="w"> </span>Session<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
<span class="w">                      </span><span class="nt">&lt;li&gt;&lt;a</span><span class="w"> </span><span class="na">href=</span><span class="s">"#"</span><span class="nt">&gt;</span>Add<span class="w"> </span>to<span class="w"> </span>Existing<span class="w"> </span>Session<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
<span class="w">                      </span><span class="nt">&lt;li</span><span class="w"> </span><span class="na">className=</span><span class="s">"divider"</span><span class="nt">&gt;&lt;/li&gt;</span>
<span class="w">                      </span><span class="nt">&lt;li&gt;&lt;a</span><span class="w"> </span><span class="na">href=</span><span class="s">"#"</span><span class="nt">&gt;</span>Delete<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
<span class="w">                    </span><span class="nt">&lt;/ul&gt;</span>
<span class="w">                </span><span class="nt">&lt;/div&gt;</span>
<span class="w">            </span><span class="nt">&lt;/div&gt;</span>
<span class="w">        </span><span class="nt">&lt;/div&gt;</span>
<span class="w">        </span>);
<span class="w">      </span>}
<span class="w">    </span>});
</pre></div>

<p>Nothing is happening however, with the <code>{this.props.showBulkActions ? 'show' :
'hidden'}</code>. Am I doing anything wrong here?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The curly braces are inside the string, so it is being evaluated as string.
They need to be outside, so this should work:</p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;</span><span class="nv">div</span><span class="w"> </span><span class="nv">className</span><span class="o">=</span>{<span class="s2">"btn-group pull-right "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="ss">(</span><span class="nv">this</span>.<span class="nv">props</span>.<span class="nv">showBulkActions</span><span class="w"> </span>?<span class="w"> </span><span class="s1">'show'</span><span class="w"> </span>:<span class="w"> </span><span class="s1">'hidden'</span><span class="ss">)</span>}<span class="o">&gt;</span>
</pre></div>

<p>Note the space after "pull-right". You don't want to accidentally provide the
class "pull-rightshow" instead of "pull-right show". Also the parentheses
needs to be there.</p>
<p><br></p>
<h3>Suggest</h3>
<p>As others have commented, classnames utility is the currently recommended
approach to handle conditional CSS class names in ReactJs.</p>
<p>In your case, the solution will look like:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">btnGroupClasses</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">classNames</span><span class="p">(</span>
<span class="w">  </span><span class="s1">'btn-group'</span><span class="p">,</span>
<span class="w">  </span><span class="s1">'pull-right'</span><span class="p">,</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="s1">'show'</span><span class="p">:</span><span class="w"> </span><span class="n">this</span><span class="o">.</span><span class="n">props</span><span class="o">.</span><span class="n">showBulkActions</span><span class="p">,</span>
<span class="w">    </span><span class="s1">'hidden'</span><span class="p">:</span><span class="w"> </span><span class="o">!</span><span class="n">this</span><span class="o">.</span><span class="n">props</span><span class="o">.</span><span class="n">showBulkActions</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">);</span>
</pre></div>

<p>...</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;div</span><span class="w"> </span><span class="na">className=</span><span class="s">{btnGroupClasses}</span><span class="nt">&gt;</span>...<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p>As a side note, I would suggest you to try to avoid using both <code>show</code> and
<code>hidden</code> classes, so the code could be simpler. Most likely, you don't need to
set a class for something to be shown by default.</p>
<p><strong>2021 addendum:</strong> for performance improvement, you can look into clsx as an
alternative.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1787.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1785.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2729) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2729.html">
<link rel="prev" href="index-2730.html" type="text/html">
<link rel="next" href="index-2728.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-use-as-an-awk-field-separator/" class="u-url">How can I use ":" as an AWK field separator?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-use-as-an-awk-field-separator/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T13:34:11+08:00" itemprop="datePublished" title="2023-03-05 13:34">2023-03-05 13:34</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Given the following command,</p>
<div class="code"><pre class="code literal-block">echo "1: " | awk '/1/ -F ":" {print $1}'
</pre></div>

<p>why does AWK output:</p>
<div class="code"><pre class="code literal-block"><span class="mf">1</span><span class="p">:</span>
</pre></div>

<p>?</p>
<p><br><br></p>
<h2>Answer</h2>
<p><code>-F</code> is a command line argument, not AWK syntax. Try:</p>
<div class="code"><pre class="code literal-block">echo '1: ' | awk -F  ':' '/1/ {print $1}'
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>If you want to do it programatically, you can use the <code>FS</code> variable:</p>
<div class="code"><pre class="code literal-block"><span class="n">echo</span> <span class="s">"1: "</span> <span class="p">|</span> <span class="n">awk</span> <span class="s">'BEGIN { FS=":" } /1/ { print $1 }'</span>
</pre></div>

<p>Note that if you change it in the main loop rather than the <code>BEGIN</code> loop, it
takes affect for the <em>next</em> line read in, since the current line has already
been split.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-concatenate-two-arrays-in-c/" class="u-url">How do I concatenate two arrays in C#?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-concatenate-two-arrays-in-c/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T13:32:43+08:00" itemprop="datePublished" title="2023-03-05 13:32">2023-03-05 13:32</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <div class="code"><pre class="code literal-block">int[] x = new int [] { 1, 2, 3};
int[] y = new int [] { 4, 5 };

int[] z = // your answer here...

Debug.Assert(z.SequenceEqual(new int[] { 1, 2, 3, 4, 5 }));
</pre></div>

<hr>
<p>Right now I use</p>
<div class="code"><pre class="code literal-block">int[] z = x.Concat(y).ToArray();
</pre></div>

<p>Is there an easier or more efficient method?</p>
<hr>
<p>Be careful with the <code>Concat</code> method. The post <em>Array Concatenation in C#</em>
explains that:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="o">.</span><span class="n">Concat</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">ToArray</span><span class="p">();</span>
</pre></div>

<p>Will be inefficient for large arrays. That means the <code>Concat</code> method is only
for meduim-sized arrays (up to 10000 elements).</p>
<p><br><br></p>
<h2>Answer</h2>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="nb nb-Type">int</span><span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">Length</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">y</span><span class="o">.</span><span class="n">Length</span><span class="p">];</span>
<span class="n">x</span><span class="o">.</span><span class="n">CopyTo</span><span class="p">(</span><span class="n">z</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="n">y</span><span class="o">.</span><span class="n">CopyTo</span><span class="p">(</span><span class="n">z</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="o">.</span><span class="n">Length</span><span class="p">);</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Try this:</p>
<div class="code"><pre class="code literal-block">List&lt;int&gt; list = new List&lt;int&gt;();
list.AddRange(x);
list.AddRange(y);
int[] z = list.ToArray();
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-decide-font-color-in-white-or-black-depending-on-background-color/" class="u-url">How to decide font color in white or black depending on background color?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-decide-font-color-in-white-or-black-depending-on-background-color/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T13:31:04+08:00" itemprop="datePublished" title="2023-03-05 13:31">2023-03-05 13:31</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I want to show some images like this example<img alt="alt text" src="images/FuyR6.png"></p>
<p>The fill color is decided by a field in the data base with the color in hex
(ex:ClassX -&gt; Color: #66FFFF). Now, I want to show data above a fill with the
selected color (like in the image above) but i need to know if the color is
dark or light so i know if the words should be in white or black. Is there a
way? tks</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Building on my answer to a similar question.</p>
<p>You need to break the hex code into 3 pieces to get the individual red, green,
and blue intensities. Each 2 digits of the code represent a value in
hexadecimal (base-16) notation. I won't get into the details of the conversion
here, they're easy to look up.</p>
<p>Once you have the intensities for the individual colors, you can determine the
overall intensity of the color and choose the corresponding text.</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">red</span><span class="o">*</span><span class="mi">0</span>.<span class="mi">299</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">green</span><span class="o">*</span><span class="mi">0</span>.<span class="mi">587</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">blue</span><span class="o">*</span><span class="mi">0</span>.<span class="mi">114</span><span class="ss">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">186</span><span class="w"> </span><span class="nv">use</span><span class="w"> </span><span class="sc">#000000</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="nv">use</span><span class="w"> </span>#<span class="nv">ffffff</span>
</pre></div>

<p>The threshold of 186 is based on theory, but can be adjusted to taste. Based
on the comments below a threshold of 150 may work better for you.</p>
<hr>
<p><strong>Edit:</strong> The above is simple and works reasonably well, and seems to have
good acceptance here at StackOverflow. However, one of the comments below
shows it can lead to non-compliance with W3C guidelines in some circumstances.
Herewith I derive a modified form that always chooses the highest contrast
based on the guidelines. If you <em>don't</em> need to conform to W3C rules then I'd
stick with the simpler formula above. For an interesting look into the
problems with this see Contrast Ratio Math and Related Visual Issues.</p>
<p>The formula given for contrast in the W3C Recommendations (WCAG 2.0) is <code>(L1 +
0.05) / (L2 + 0.05)</code>, where <code>L1</code> is the luminance of the lightest color and
<code>L2</code> is the luminance of the darkest on a scale of 0.0-1.0. The luminance of
black is 0.0 and white is 1.0, so substituting those values lets you determine
the one with the highest contrast. If the contrast for black is greater than
the contrast for white, use black, otherwise use white. Given the luminance of
the color you're testing as <code>L</code> the test becomes:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">L</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">0</span>.<span class="mi">05</span><span class="ss">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="ss">(</span><span class="mi">0</span>.<span class="mi">0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">0</span>.<span class="mi">05</span><span class="ss">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="ss">(</span><span class="mi">1</span>.<span class="mi">0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">0</span>.<span class="mi">05</span><span class="ss">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="ss">(</span><span class="nv">L</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">0</span>.<span class="mi">05</span><span class="ss">)</span><span class="w"> </span><span class="nv">use</span><span class="w"> </span><span class="sc">#000000</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="nv">use</span><span class="w"> </span>#<span class="nv">ffffff</span>
</pre></div>

<p>This simplifies down algebraically to:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="nv">L</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nv">sqrt</span><span class="ss">(</span><span class="mi">1</span>.<span class="mi">05</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">0</span>.<span class="mi">05</span><span class="ss">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">0</span>.<span class="mi">05</span>
</pre></div>

<p>Or approximately:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="nv">L</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span>.<span class="mi">179</span><span class="w"> </span><span class="nv">use</span><span class="w"> </span><span class="sc">#000000</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="nv">use</span><span class="w"> </span>#<span class="nv">ffffff</span>
</pre></div>

<p>The only thing left is to compute <code>L</code>. That formula is also given in the
guidelines and it looks like the conversion from sRGB to linear RGB followed
by the ITU-R recommendation BT.709 for luminance.</p>
<div class="code"><pre class="code literal-block"><span class="k">for</span><span class="w"> </span><span class="nv">each</span><span class="w"> </span><span class="nv">c</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">r</span>,<span class="nv">g</span>,<span class="nv">b</span>:
<span class="w">    </span><span class="nv">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">c</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">255</span>.<span class="mi">0</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nv">c</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">0</span>.<span class="mi">04045</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="nv">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">c</span><span class="o">/</span><span class="mi">12</span>.<span class="mi">92</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="nv">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">((</span><span class="nv">c</span><span class="o">+</span><span class="mi">0</span>.<span class="mi">055</span><span class="ss">)</span><span class="o">/</span><span class="mi">1</span>.<span class="mi">055</span><span class="ss">)</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="mi">2</span>.<span class="mi">4</span>
<span class="nv">L</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>.<span class="mi">2126</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nv">r</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">0</span>.<span class="mi">7152</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nv">g</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">0</span>.<span class="mi">0722</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nv">b</span>
</pre></div>

<p>The threshold of 0.179 should not be changed since it is tied to the W3C
guidelines. If you find the results not to your liking, try the simpler
formula above.</p>
<p><br></p>
<h3>Suggest</h3>
<p>I take no credit for this code as it's not mine, but I leave it here for
others to find quickly in the future:</p>
<p>Based on Mark Ransoms answer, here's a code snippet for the simple version:</p>
<div class="code"><pre class="code literal-block"><span class="n">function</span><span class="w"> </span><span class="n">pickTextColorBasedOnBgColorSimple</span><span class="p">(</span><span class="n">bgColor</span><span class="p">,</span><span class="w"> </span><span class="n">lightColor</span><span class="p">,</span><span class="w"> </span><span class="n">darkColor</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">bgColor</span><span class="o">.</span><span class="n">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">'#'</span><span class="p">)</span><span class="w"> </span><span class="err">?</span><span class="w"> </span><span class="n">bgColor</span><span class="o">.</span><span class="n">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">bgColor</span><span class="p">;</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parseInt</span><span class="p">(</span><span class="n">color</span><span class="o">.</span><span class="n">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="mi">16</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">hexToR</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">g</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parseInt</span><span class="p">(</span><span class="n">color</span><span class="o">.</span><span class="n">substring</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">),</span><span class="w"> </span><span class="mi">16</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">hexToG</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parseInt</span><span class="p">(</span><span class="n">color</span><span class="o">.</span><span class="n">substring</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">),</span><span class="w"> </span><span class="mi">16</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">hexToB</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(((</span><span class="n">r</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">0.299</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">g</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">0.587</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">b</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">0.114</span><span class="p">))</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">186</span><span class="p">)</span><span class="w"> </span><span class="err">?</span>
<span class="w">    </span><span class="n">darkColor</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">lightColor</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>and here's the code snippet for the advanced version:</p>
<div class="code"><pre class="code literal-block"><span class="n">function</span><span class="w"> </span><span class="n">pickTextColorBasedOnBgColorAdvanced</span><span class="p">(</span><span class="n">bgColor</span><span class="p">,</span><span class="w"> </span><span class="n">lightColor</span><span class="p">,</span><span class="w"> </span><span class="n">darkColor</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">bgColor</span><span class="o">.</span><span class="n">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">'#'</span><span class="p">)</span><span class="w"> </span><span class="err">?</span><span class="w"> </span><span class="n">bgColor</span><span class="o">.</span><span class="n">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">bgColor</span><span class="p">;</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parseInt</span><span class="p">(</span><span class="n">color</span><span class="o">.</span><span class="n">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="mi">16</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">hexToR</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">g</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parseInt</span><span class="p">(</span><span class="n">color</span><span class="o">.</span><span class="n">substring</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">),</span><span class="w"> </span><span class="mi">16</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">hexToG</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parseInt</span><span class="p">(</span><span class="n">color</span><span class="o">.</span><span class="n">substring</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">),</span><span class="w"> </span><span class="mi">16</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">hexToB</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">uicolors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">r</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="n">g</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">255</span><span class="p">];</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">uicolors</span><span class="o">.</span><span class="n">map</span><span class="p">((</span><span class="n">col</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">col</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mf">0.03928</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">col</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">12.92</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Math</span><span class="o">.</span><span class="n">pow</span><span class="p">((</span><span class="n">col</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">0.055</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">1.055</span><span class="p">,</span><span class="w"> </span><span class="mf">2.4</span><span class="p">);</span>
<span class="w">  </span><span class="p">});</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">L</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mf">0.2126</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="mf">0.7152</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">c</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="mf">0.0722</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">c</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">L</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0.179</span><span class="p">)</span><span class="w"> </span><span class="err">?</span><span class="w"> </span><span class="n">darkColor</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">lightColor</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>To use them just call:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'#EEACAE'</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">color</span>
<span class="n">pickTextColorBasedOnBgColorSimple</span><span class="p">(</span><span class="n">color</span><span class="p">,</span><span class="w"> </span><span class="s1">'#FFFFFF'</span><span class="p">,</span><span class="w"> </span><span class="s1">'#000000'</span><span class="p">);</span>
</pre></div>

<p>Also, thanks <code>Alx</code> and <code>chetstone</code>.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2730.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2728.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

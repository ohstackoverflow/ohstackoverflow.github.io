<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 44) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-44.html">
<link rel="prev" href="index-45.html" type="text/html">
<link rel="next" href="index-43.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/get-the-current-url-with-javascript/" class="u-url">Get the current URL with JavaScript?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/get-the-current-url-with-javascript/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T19:28:49+08:00" itemprop="datePublished" title="2023-02-16 19:28">2023-02-16 19:28</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>All I want is to get the website URL. Not the URL as taken from a link. On the
page loading I need to be able to grab the full, current URL of the website
and set it as a variable to do with as I please.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Use:</p>
<div class="code"><pre class="code literal-block">window.location.href
</pre></div>

<p>As noted in the comments, the line below works, but it is bugged for Firefox.</p>
<div class="code"><pre class="code literal-block">document.URL
</pre></div>

<p>See <strong>URL of type DOMString, readonly</strong>.</p>
<p><br></p>
<h3>Suggest</h3>
<p><strong>URL Info Access</strong></p>
<p>JavaScript provides you with many methods to retrieve and change the current
URL, which is displayed in the browser's address bar. All these methods use
the <code>Location</code> object, which is a property of the <code>Window</code> object. You can
read the current <code>Location</code> object by reading <code>window.location</code>:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">currentLocation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">window</span><span class="o">.</span><span class="n">location</span><span class="p">;</span>
</pre></div>

<p><strong>Basic URL Structure</strong></p>
<div class="code"><pre class="code literal-block">&lt;protocol&gt;//&lt;hostname&gt;:&lt;port&gt;/&lt;pathname&gt;&lt;search&gt;&lt;hash&gt;
</pre></div>

<ul>
<li>
<p><strong>protocol:</strong> Specifies the protocol name be used to access the resource on the Internet. (HTTP (without SSL) or HTTPS (with SSL))</p>
</li>
<li>
<p><strong>hostname:</strong> Host name specifies the host that owns the resource. For example, <code>www.stackoverflow.com</code>. A server provides services using the name of the host.</p>
</li>
<li>
<p><strong>port:</strong> A port number used to recognize a specific process to which an Internet or other network message is to be forwarded when it arrives at a server.</p>
</li>
<li>
<p><strong>pathname:</strong> The path gives info about the specific resource within the host that the Web client wants to access. For example, <code>/index.html</code>.</p>
</li>
<li>
<p><strong>search:</strong> A query string follows the path component, and provides a string of information that the resource can utilize for some purpose (for example, as parameters for a search or as data to be processed).</p>
</li>
<li>
<p><strong>hash:</strong> The anchor portion of a URL, includes the hash sign (#).</p>
</li>
</ul>
<p>With these <code>Location</code> object properties you can access all of these URL
components and what they can set or return:</p>
<ul>
<li>
<strong>href</strong> - the entire URL</li>
<li>
<strong>protocol</strong> - the protocol of the URL</li>
<li>
<strong>host</strong> - the hostname and port of the URL</li>
<li>
<strong>hostname</strong> - the hostname of the URL</li>
<li>
<strong>port</strong> - the port number the server uses for the URL</li>
<li>
<strong>pathname</strong> - the path name of the URL</li>
<li>
<strong>search</strong> - the query portion of the URL</li>
<li>
<strong>hash</strong> - the anchor portion of the URL</li>
<li>
<strong>origin</strong> - the <code>window.location.protocol + '//' + window.location.host</code>
</li>
</ul>
<p>I hope you got your answer..</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-create-a-remote-git-branch/" class="u-url">How do I create a remote Git branch?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-create-a-remote-git-branch/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T19:28:19+08:00" itemprop="datePublished" title="2023-02-16 19:28">2023-02-16 19:28</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I created a local branch. How do I push it to the remote server?</p>
<p><strong>UPDATE: I have written a simpler answer for Git 2.0 here.</strong></p>
<p><br><br></p>
<h2>Answer</h2>
<h3>Simple Git 2.0+ solution:</h3>
<p>As of <strong>Git 2.0, the behavior has become simpler</strong> :</p>
<p>You can configure git with <strong><code>push.default = current</code></strong> to make life easier:</p>
<p>I added this so now I can just push a new branch upstream with</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>git<span class="w"> </span>push<span class="w"> </span>-u
</pre></div>

<p><code>-u</code> will track remote branch of the same name. Now with this configuration,
you will auto-guess the remote reference to git push. From git.config
documentation:</p>
<blockquote>
<p><strong>push.default</strong></p>
<p>Defines the action git push should take if no refspec is explicitly given.</p>
<p><strong><code>push.default = current</code></strong> - push the current branch to update a branch
with the same name on the receiving end. Works in both central and non-
central workflows.</p>
</blockquote>
<p>For me, this is a good simplification of my day-to-day Git workflow. The
configuration setting takes care of the 'usual' use case where you add a
branch locally and want to create it remotely. Also, I can just as easily
create local branches from remotes by just doing <code>git co remote_branch_name</code>
(as opposed to using <code>--set-upstream-to</code> flag).</p>
<p>I know this question and the accepted answers are rather old, but the behavior
has changed so that now configuration options exist to make your workflow
simpler.</p>
<p>To add to your global Git configuration, run this on the command line:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>push.default<span class="w"> </span>current
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>First, you must create your branch locally</p>
<div class="code"><pre class="code literal-block">git checkout -b your_branch
</pre></div>

<p>After that, you can work locally in your branch, when you are ready to share
the branch, push it. The next command push the branch to the remote repository
origin and tracks it</p>
<div class="code"><pre class="code literal-block">git push -u origin your_branch
</pre></div>

<p>Teammates can reach your branch, by doing:</p>
<div class="code"><pre class="code literal-block">git fetch
git checkout origin/your_branch
</pre></div>

<p>You can continue working in the branch and pushing whenever you want without
passing arguments to git push (argumentless git push will push the master to
remote master, your_branch local to remote your_branch, etc...)</p>
<div class="code"><pre class="code literal-block">git push
</pre></div>

<p>Teammates can push to your branch by doing commits and then push explicitly</p>
<div class="code"><pre class="code literal-block">... work ...
git commit
... work ...
git commit
git push origin HEAD:refs/heads/your_branch
</pre></div>

<p>Or tracking the branch to avoid the arguments to git push</p>
<div class="code"><pre class="code literal-block">git checkout --track -b your_branch origin/your_branch
... work ...
git commit
... work ...
git commit
git push
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-post-json-data-with-curl/" class="u-url">How do I POST JSON data with cURL?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-post-json-data-with-curl/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T19:27:49+08:00" itemprop="datePublished" title="2023-02-16 19:27">2023-02-16 19:27</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I use Ubuntu and installed cURL on it. I want to test my Spring REST
application with cURL. I wrote my POST code at the Java side. However, I want
to test it with cURL. I am trying to post a JSON data. Example data is like
this:</p>
<div class="code"><pre class="code literal-block">{"value":"30","type":"Tip 3","targetModule":"Target 3","configurationGroup":null,"name":"Configuration Deneme 3","description":null,"identity":"Configuration Deneme 3","version":0,"systemId":3,"active":true}
</pre></div>

<p>I use this command:</p>
<div class="code"><pre class="code literal-block">curl -i \
    -H "Accept: application/json" \
    -H "X-HTTP-Method-Override: PUT" \
    -X POST -d "value":"30","type":"Tip 3","targetModule":"Target 3","configurationGroup":null,"name":"Configuration Deneme 3","description":null,"identity":"Configuration Deneme 3","version":0,"systemId":3,"active":true \
    http://localhost:8080/xx/xxx/xxxx
</pre></div>

<p>It returns this error:</p>
<div class="code"><pre class="code literal-block"><span class="nt">HTTP</span><span class="o">/</span><span class="nt">1</span><span class="p">.</span><span class="nc">1</span><span class="w"> </span><span class="nt">415</span><span class="w"> </span><span class="nt">Unsupported</span><span class="w"> </span><span class="nt">Media</span><span class="w"> </span><span class="nt">Type</span>
<span class="nt">Server</span><span class="o">:</span><span class="w"> </span><span class="nt">Apache-Coyote</span><span class="o">/</span><span class="nt">1</span><span class="p">.</span><span class="nc">1</span>
<span class="nt">Content-Type</span><span class="o">:</span><span class="w"> </span><span class="nt">text</span><span class="o">/</span><span class="nt">html</span><span class="o">;</span><span class="nt">charset</span><span class="o">=</span><span class="nt">utf-8</span>
<span class="nt">Content-Length</span><span class="o">:</span><span class="w"> </span><span class="nt">1051</span>
<span class="nt">Date</span><span class="o">:</span><span class="w"> </span><span class="nt">Wed</span><span class="o">,</span><span class="w"> </span><span class="nt">24</span><span class="w"> </span><span class="nt">Aug</span><span class="w"> </span><span class="nt">2011</span><span class="w"> </span><span class="nt">08</span><span class="p">:</span><span class="nd">50</span><span class="p">:</span><span class="nd">17</span><span class="w"> </span><span class="nt">GMT</span>
</pre></div>

<p>The error description is this:</p>
<blockquote>
<p><em>The server refused this request because the request entity is in a format
not supported by the requested resource for the requested method ().</em></p>
</blockquote>
<p>Tomcat log: "POST /ui/webapp/conf/clear HTTP/1.1" 415 1051</p>
<p>What is the right format of the cURL command?</p>
<p>This is my Java side <code>PUT</code> code (I have tested GET and DELETE and they work):</p>
<div class="code"><pre class="code literal-block"><span class="nv">@RequestMapping</span><span class="p">(</span><span class="k">method</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RequestMethod</span><span class="p">.</span><span class="n">PUT</span><span class="p">)</span>
<span class="k">public</span><span class="w"> </span><span class="n">Configuration</span><span class="w"> </span><span class="n">updateConfiguration</span><span class="p">(</span><span class="n">HttpServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">,</span><span class="w"> </span><span class="nv">@RequestBody</span><span class="w"> </span><span class="n">Configuration</span><span class="w"> </span><span class="n">configuration</span><span class="p">)</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="o">//</span><span class="n">consider</span><span class="w"> </span><span class="nv">@Valid</span><span class="w"> </span><span class="n">tag</span>
<span class="w">    </span><span class="n">configuration</span><span class="p">.</span><span class="n">setName</span><span class="p">(</span><span class="ss">"PUT worked"</span><span class="p">);</span>
<span class="w">    </span><span class="o">//</span><span class="n">todo</span><span class="w"> </span><span class="k">If</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">occurs</span><span class="w"> </span><span class="n">response</span><span class="p">.</span><span class="n">sendError</span><span class="p">(</span><span class="n">HttpServletResponse</span><span class="p">.</span><span class="n">SC_NOT_FOUND</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">configuration</span><span class="p">;</span>
<span class="err">}</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>You need to set your content-type to application/json. But <code>-d</code> (or <code>--data</code>)
sends the Content-Type <code>application/x-www-form-urlencoded</code>, which is not
accepted on Spring's side.</p>
<p>Looking at the curl man page, I think you can use <code>-H</code> (or <code>--header</code>):</p>
<div class="code"><pre class="code literal-block">-H "Content-Type: application/json"
</pre></div>

<p>Full example:</p>
<div class="code"><pre class="code literal-block">curl --header "Content-Type: application/json" \
  --request POST \
  --data '{"username":"xyz","password":"xyz"}' \
  http://localhost:3000/api/login
</pre></div>

<p>(<code>-H</code> is short for <code>--header</code>, <code>-d</code> for <code>--data</code>)</p>
<p>Note that <code>-request POST</code> is <em>optional</em> if you use <code>-d</code>, as the <code>-d</code> flag
implies a POST request.</p>
<hr>
<p>On Windows, things are slightly different. See the comment thread.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Try to put your data in a file, say <code>body.json</code> and then use</p>
<div class="code"><pre class="code literal-block"><span class="n">curl</span><span class="w"> </span><span class="o">-</span><span class="n">H</span><span class="w"> </span><span class="ss">"Content-Type: application/json"</span><span class="w"> </span><span class="c1">--data @body.json http://localhost:8080/ui/webapp/conf</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-45.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-43.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

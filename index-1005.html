<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1005) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1005.html">
<link rel="prev" href="index-1006.html" type="text/html">
<link rel="next" href="index-1004.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-you-create-a-custom-authorizeattribute-in-asp-net-core/" class="u-url">How do you create a custom AuthorizeAttribute in ASP.NET Core?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-you-create-a-custom-authorizeattribute-in-asp-net-core/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T22:17:03+08:00" itemprop="datePublished" title="2023-02-17 22:17">2023-02-17 22:17</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm trying to make a custom authorization attribute in ASP.NET Core. In
previous versions it was possible to override <code>bool
AuthorizeCore(HttpContextBase httpContext)</code>. But this no longer exists in
<code>AuthorizeAttribute</code>.</p>
<p>What is the current approach to make a custom AuthorizeAttribute?</p>
<p>What I am trying to accomplish: I am receiving a session ID in the Header
Authorization. From that ID I'll know whether a particular action is valid.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The approach recommended by the ASP.Net Core team is to use the new policy
design which is fully documented here. The basic idea behind the new approach
is to use the new <code>[Authorize]</code> attribute to designate a "policy" (e.g.
<code>[Authorize( Policy = "YouNeedToBe18ToDoThis")]</code> where the policy is
registered in the application's <code>Startup.cs</code> to execute some block of code
(i.e. ensure the user has an age claim where the age is 18 or older).</p>
<p>The policy design is a great addition to the framework and the ASP.Net
Security Core team should be commended for its introduction. That said, it
isn't well-suited for all cases. The shortcoming of this approach is that it
fails to provide a convenient solution for the most common need of simply
asserting that a given controller or action requires a given claim type. In
the case where an application may have hundreds of discrete permissions
governing CRUD operations on individual REST resources ("CanCreateOrder",
"CanReadOrder", "CanUpdateOrder", "CanDeleteOrder", etc.), the new approach
either requires repetitive one-to-one mappings between a policy name and a
claim name (e.g. <code>options.AddPolicy("CanUpdateOrder", policy =&gt;
policy.RequireClaim(MyClaimTypes.Permission, "CanUpdateOrder));</code>), or writing
some code to perform these registrations at run time (e.g. read all claim
types from a database and perform the aforementioned call in a loop). The
problem with this approach for the majority of cases is that it's unnecessary
overhead.</p>
<p>While the ASP.Net Core Security team recommends never creating your own
solution, in some cases this may be the most prudent option with which to
start.</p>
<p>The following is an implementation which uses the <code>IAuthorizationFilter</code> to
provide a simple way to express a claim requirement for a given controller or
action:</p>
<div class="code"><pre class="code literal-block"><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">ClaimRequirementAttribute</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="n">TypeFilterAttribute</span>
<span class="err">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">ClaimRequirementAttribute</span><span class="p">(</span><span class="n">string</span><span class="w"> </span><span class="n">claimType</span><span class="p">,</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="n">claimValue</span><span class="p">)</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="n">base</span><span class="p">(</span><span class="n">typeof</span><span class="p">(</span><span class="n">ClaimRequirementFilter</span><span class="p">))</span>
<span class="w">    </span><span class="err">{</span>
<span class="w">        </span><span class="n">Arguments</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="k">object</span><span class="err">[]</span><span class="w"> </span><span class="err">{</span><span class="k">new</span><span class="w"> </span><span class="n">Claim</span><span class="p">(</span><span class="n">claimType</span><span class="p">,</span><span class="w"> </span><span class="n">claimValue</span><span class="p">)</span><span class="w"> </span><span class="err">}</span><span class="p">;</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>

<span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">ClaimRequirementFilter</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="n">IAuthorizationFilter</span>
<span class="err">{</span>
<span class="w">    </span><span class="n">readonly</span><span class="w"> </span><span class="n">Claim</span><span class="w"> </span><span class="n">_claim</span><span class="p">;</span>

<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">ClaimRequirementFilter</span><span class="p">(</span><span class="n">Claim</span><span class="w"> </span><span class="n">claim</span><span class="p">)</span>
<span class="w">    </span><span class="err">{</span>
<span class="w">        </span><span class="n">_claim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">claim</span><span class="p">;</span>
<span class="w">    </span><span class="err">}</span>

<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">void</span><span class="w"> </span><span class="n">OnAuthorization</span><span class="p">(</span><span class="n">AuthorizationFilterContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span>
<span class="w">    </span><span class="err">{</span>
<span class="w">        </span><span class="nf">var</span><span class="w"> </span><span class="n">hasClaim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="n">HttpContext</span><span class="p">.</span><span class="k">User</span><span class="p">.</span><span class="n">Claims</span><span class="p">.</span><span class="ow">Any</span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">c</span><span class="p">.</span><span class="n">Type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">_claim</span><span class="p">.</span><span class="n">Type</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">c</span><span class="p">.</span><span class="k">Value</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">_claim</span><span class="p">.</span><span class="k">Value</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="err">!</span><span class="n">hasClaim</span><span class="p">)</span>
<span class="w">        </span><span class="err">{</span>
<span class="w">            </span><span class="n">context</span><span class="p">.</span><span class="k">Result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ForbidResult</span><span class="p">();</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>


<span class="o">[</span><span class="n">Route("api/resource")</span><span class="o">]</span>
<span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">MyController</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="n">Controller</span>
<span class="err">{</span>
<span class="w">    </span><span class="o">[</span><span class="n">ClaimRequirement(MyClaimTypes.Permission, "CanReadResource")</span><span class="o">]</span>
<span class="w">    </span><span class="o">[</span><span class="n">HttpGet</span><span class="o">]</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">IActionResult</span><span class="w"> </span><span class="n">GetResource</span><span class="p">()</span>
<span class="w">    </span><span class="err">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Ok</span><span class="p">();</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>I'm the asp.net security person. <del>Firstly let me apologize that none of this
is documented yet outside of the music store sample or unit tests, and it's
all still being refined in terms of exposed APIs.</del> Detailed documentation is
here.</p>
<p>We don't want you writing custom authorize attributes. If you need to do that
we've done something wrong. Instead, you should be writing authorization
<em>requirements</em>.</p>
<p>Authorization acts upon Identities. Identities are created by authentication.</p>
<p>You say in comments you want to check a session ID in a header. Your session
ID would be the basis for identity. If you wanted to use the <code>Authorize</code>
attribute you'd write an authentication middleware to take that header and
turn it into an authenticated <code>ClaimsPrincipal</code>. You would then check that
inside an authorization requirement. Authorization requirements can be as
complicated as you like, for example here's one that takes a date of birth
claim on the current identity and will authorize if the user is over 18;</p>
<div class="code"><pre class="code literal-block"><span class="n">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">Over18Requirement</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">AuthorizationHandler</span><span class="o">&lt;</span><span class="n">Over18Requirement</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">IAuthorizationRequirement</span>
<span class="p">{</span>
<span class="w">  </span><span class="n">public</span><span class="w"> </span><span class="n">override</span><span class="w"> </span><span class="nb nb-Type">void</span><span class="w"> </span><span class="n">Handle</span><span class="p">(</span><span class="n">AuthorizationHandlerContext</span><span class="w"> </span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">Over18Requirement</span><span class="w"> </span><span class="n">requirement</span><span class="p">)</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">context</span><span class="o">.</span><span class="n">User</span><span class="o">.</span><span class="n">HasClaim</span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">c</span><span class="o">.</span><span class="n">Type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">ClaimTypes</span><span class="o">.</span><span class="n">DateOfBirth</span><span class="p">))</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="n">context</span><span class="o">.</span><span class="n">Fail</span><span class="p">();</span>
<span class="w">      </span><span class="k">return</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">dobVal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="o">.</span><span class="n">User</span><span class="o">.</span><span class="n">FindFirst</span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">c</span><span class="o">.</span><span class="n">Type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">ClaimTypes</span><span class="o">.</span><span class="n">DateOfBirth</span><span class="p">)</span><span class="o">.</span><span class="n">Value</span><span class="p">;</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">dateOfBirth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Convert</span><span class="o">.</span><span class="n">ToDateTime</span><span class="p">(</span><span class="n">dobVal</span><span class="p">);</span>
<span class="w">    </span><span class="nb nb-Type">int</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DateTime</span><span class="o">.</span><span class="n">Today</span><span class="o">.</span><span class="n">Year</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">dateOfBirth</span><span class="o">.</span><span class="n">Year</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">dateOfBirth</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">DateTime</span><span class="o">.</span><span class="n">Today</span><span class="o">.</span><span class="n">AddYears</span><span class="p">(</span><span class="o">-</span><span class="n">age</span><span class="p">))</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="n">age</span><span class="o">--</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">age</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">18</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="n">context</span><span class="o">.</span><span class="n">Succeed</span><span class="p">(</span><span class="n">requirement</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="n">context</span><span class="o">.</span><span class="n">Fail</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>Then in your <code>ConfigureServices()</code> function you'd wire it up</p>
<div class="code"><pre class="code literal-block">services.AddAuthorization(options =&gt;
{
    options.AddPolicy("Over18", 
        policy =&gt; policy.Requirements.Add(new Authorization.Over18Requirement()));
});
</pre></div>

<p>And finally, apply it to a controller or action method with</p>
<div class="code"><pre class="code literal-block">[Authorize(Policy = "Over18")]
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/parse-split-a-string-in-c-using-string-delimiter-standard-c/" class="u-url">Parse (split) a string in C++ using string delimiter (standard C++)</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/parse-split-a-string-in-c-using-string-delimiter-standard-c/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T22:16:30+08:00" itemprop="datePublished" title="2023-02-17 22:16">2023-02-17 22:16</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am parsing a string in C++ using the following:</p>
<div class="code"><pre class="code literal-block"><span class="n">using</span><span class="w"> </span><span class="n">namespace</span><span class="w"> </span><span class="nn">std</span><span class="p">;</span>

<span class="kr">string</span><span class="w"> </span><span class="n">parsed</span><span class="p">,</span><span class="n">input</span><span class="o">=</span><span class="s">"text to be parsed"</span><span class="p">;</span>
<span class="n">stringstream</span><span class="w"> </span><span class="nf">input_stringstream</span><span class="p">(</span><span class="n">input</span><span class="p">);</span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">getline</span><span class="p">(</span><span class="n">input_stringstream</span><span class="p">,</span><span class="n">parsed</span><span class="p">,</span><span class="sc">' '</span><span class="p">))</span>
<span class="p">{</span>
<span class="w">     </span><span class="c1">// do some processing.</span>
<span class="p">}</span>
</pre></div>

<p>Parsing with a single char delimiter is fine. But what if I want to use a
string as delimiter.</p>
<p>Example: I want to split:</p>
<div class="code"><pre class="code literal-block">scott&gt;=tiger
</pre></div>

<p>with <code>&gt;=</code> as delimiter so that I can get scott and tiger.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can use the <code>std::string::find()</code> function to find the position of your
string delimiter, then use <code>std::string::substr()</code> to get a token.</p>
<p>Example:</p>
<div class="code"><pre class="code literal-block"><span class="nt">std</span><span class="p">::</span><span class="nd">string</span><span class="w"> </span><span class="nt">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"scott&gt;=tiger"</span><span class="o">;</span>
<span class="nt">std</span><span class="p">::</span><span class="nd">string</span><span class="w"> </span><span class="nt">delimiter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"&gt;="</span><span class="o">;</span>
<span class="nt">std</span><span class="p">::</span><span class="nd">string</span><span class="w"> </span><span class="nt">token</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">s</span><span class="p">.</span><span class="nc">substr</span><span class="o">(</span><span class="nt">0</span><span class="o">,</span><span class="w"> </span><span class="nt">s</span><span class="p">.</span><span class="nc">find</span><span class="o">(</span><span class="nt">delimiter</span><span class="o">));</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="nt">token</span><span class="w"> </span><span class="nt">is</span><span class="w"> </span><span class="s2">"scott"</span>
</pre></div>

<ul>
<li>
<p>The <code>find(const string&amp; str, size_t pos = 0)</code> function returns the position of the first occurrence of <code>str</code> in the string, or <code>npos</code> if the string is not found.</p>
</li>
<li>
<p>The <code>substr(size_t pos = 0, size_t n = npos)</code> function returns a substring of the object, starting at position <code>pos</code> and of length <code>npos</code>.</p>
</li>
</ul>
<hr>
<p>If you have multiple delimiters, after you have extracted one token, you can
remove it (delimiter included) to proceed with subsequent extractions (if you
want to preserve the original string, just use <code>s = s.substr(pos +
delimiter.length());</code>):</p>
<div class="code"><pre class="code literal-block">s.erase(0, s.find(delimiter) + delimiter.length());
</pre></div>

<p>This way you can easily loop to get each token.</p>
<h3>Complete Example</h3>
<div class="code"><pre class="code literal-block"><span class="nt">std</span><span class="p">::</span><span class="nd">string</span><span class="w"> </span><span class="nt">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"scott&gt;=tiger&gt;=mushroom"</span><span class="o">;</span>
<span class="nt">std</span><span class="p">::</span><span class="nd">string</span><span class="w"> </span><span class="nt">delimiter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"&gt;="</span><span class="o">;</span>

<span class="nt">size_t</span><span class="w"> </span><span class="nt">pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">0</span><span class="o">;</span>
<span class="nt">std</span><span class="p">::</span><span class="nd">string</span><span class="w"> </span><span class="nt">token</span><span class="o">;</span>
<span class="nt">while</span><span class="w"> </span><span class="o">((</span><span class="nt">pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">s</span><span class="p">.</span><span class="nc">find</span><span class="o">(</span><span class="nt">delimiter</span><span class="o">))</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nt">std</span><span class="p">::</span><span class="nd">string</span><span class="p">::</span><span class="nd">npos</span><span class="o">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">token</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">s.substr(0,</span><span class="w"> </span><span class="err">pos)</span><span class="p">;</span>
<span class="w">    </span><span class="n">std</span><span class="p">:</span><span class="o">:</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">token</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="w">    </span><span class="err">s.erase(0,</span><span class="w"> </span><span class="err">pos</span><span class="w"> </span><span class="err">+</span><span class="w"> </span><span class="err">delimiter.length())</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">std</span><span class="p">::</span><span class="nd">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="nt">s</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="nt">std</span><span class="p">::</span><span class="nd">endl</span><span class="o">;</span>
</pre></div>

<p>Output:</p>
<div class="code"><pre class="code literal-block">scott
tiger
mushroom
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<h2><strong>For string delimiter</strong></h2>
<p>Split string based on a <em>string delimiter</em>. Such as splitting string
<code>"adsf-+qwret-+nvfkbdsj-+orthdfjgh-+dfjrleih"</code> based on string delimiter
<code>"-+"</code>, output will be <code>{"adsf", "qwret", "nvfkbdsj", "orthdfjgh",
"dfjrleih"}</code>  </p>
<div class="code"><pre class="code literal-block"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sstream&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;vector&gt;</span>

<span class="c1">// for string delimiter</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="kr">string</span><span class="o">&gt;</span><span class="w"> </span><span class="n">split</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="kr">string</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="kr">string</span><span class="w"> </span><span class="n">delimiter</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">pos_start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">pos_end</span><span class="p">,</span><span class="w"> </span><span class="n">delim_len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">delimiter</span><span class="p">.</span><span class="n">length</span><span class="p">();</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="kr">string</span><span class="w"> </span><span class="n">token</span><span class="p">;</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="kr">string</span><span class="o">&gt;</span><span class="w"> </span><span class="n">res</span><span class="p">;</span>

<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">((</span><span class="n">pos_end</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="n">delimiter</span><span class="p">,</span><span class="w"> </span><span class="n">pos_start</span><span class="p">))</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="kr">string</span><span class="o">::</span><span class="n">npos</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">token</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">substr</span><span class="w"> </span><span class="p">(</span><span class="n">pos_start</span><span class="p">,</span><span class="w"> </span><span class="n">pos_end</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">pos_start</span><span class="p">);</span>
<span class="w">        </span><span class="n">pos_start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pos_end</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">delim_len</span><span class="p">;</span>
<span class="w">        </span><span class="n">res</span><span class="p">.</span><span class="n">push_back</span><span class="w"> </span><span class="p">(</span><span class="n">token</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">res</span><span class="p">.</span><span class="n">push_back</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">substr</span><span class="w"> </span><span class="p">(</span><span class="n">pos_start</span><span class="p">));</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">res</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">int</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="kr">string</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"adsf-+qwret-+nvfkbdsj-+orthdfjgh-+dfjrleih"</span><span class="p">;</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="kr">string</span><span class="w"> </span><span class="n">delimiter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"-+"</span><span class="p">;</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="kr">string</span><span class="o">&gt;</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">split</span><span class="w"> </span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">delimiter</span><span class="p">);</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kr">auto</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p><strong>Output</strong></p>
<div class="code"><pre class="code literal-block">adsf
qwret
nvfkbdsj
orthdfjgh
dfjrleih
</pre></div>

<h2></h2>
<p><strong>For single character delimiter</strong></p>
<p>Split string based on a character delimiter. For example, splitting string
<code>"adsf+qwer+poui+fdgh"</code> with delimiter <code>"+"</code> will output <code>{"adsf", "qwer",
"poui", "fdgh"}</code>  </p>
<div class="code"><pre class="code literal-block"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sstream&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;vector&gt;</span>

<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="kr">string</span><span class="o">&gt;</span><span class="w"> </span><span class="n">split</span><span class="w"> </span><span class="p">(</span><span class="kr">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="kr">string</span><span class="w"> </span><span class="o">&amp;</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="kr">char</span><span class="w"> </span><span class="n">delim</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="kr">string</span><span class="o">&gt;</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">stringstream</span><span class="w"> </span><span class="nf">ss</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="kr">string</span><span class="w"> </span><span class="n">item</span><span class="p">;</span>

<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">getline</span><span class="w"> </span><span class="p">(</span><span class="n">ss</span><span class="p">,</span><span class="w"> </span><span class="n">item</span><span class="p">,</span><span class="w"> </span><span class="n">delim</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">result</span><span class="p">.</span><span class="n">push_back</span><span class="w"> </span><span class="p">(</span><span class="n">item</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">int</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="kr">string</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"adsf+qwer+poui+fdgh"</span><span class="p">;</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="kr">string</span><span class="o">&gt;</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">split</span><span class="w"> </span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="sc">'+'</span><span class="p">);</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kr">auto</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p><strong>Output</strong></p>
<div class="code"><pre class="code literal-block">adsf
qwer
poui
fdgh
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/getting-current-date-and-time-in-javascript/" class="u-url">Getting current date and time in JavaScript</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/getting-current-date-and-time-in-javascript/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T22:15:56+08:00" itemprop="datePublished" title="2023-02-17 22:15">2023-02-17 22:15</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a script that prints the current date and time in JavaScript, but the
<code>DATE</code> is always wrong. Here is the code:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">currentdate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Date</span><span class="p">();</span>
<span class="k">var</span><span class="w"> </span><span class="n">datetime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Last Sync: "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">currentdate</span><span class="o">.</span><span class="n">getDay</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">"/"</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">currentdate</span><span class="o">.</span><span class="n">getMonth</span><span class="p">()</span><span class="w"> </span>
<span class="o">+</span><span class="w"> </span><span class="s2">"/"</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">currentdate</span><span class="o">.</span><span class="n">getFullYear</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">" @ "</span><span class="w"> </span>
<span class="o">+</span><span class="w"> </span><span class="n">currentdate</span><span class="o">.</span><span class="n">getHours</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">":"</span><span class="w"> </span>
<span class="o">+</span><span class="w"> </span><span class="n">currentdate</span><span class="o">.</span><span class="n">getMinutes</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">":"</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">currentdate</span><span class="o">.</span><span class="n">getSeconds</span><span class="p">();</span>
</pre></div>

<p>It should print <code>18/04/2012 15:07:33</code> and prints <code>3/3/2012 15:07:33</code></p>
<p><br><br></p>
<h2>Answer</h2>
<p><code>.getMonth()</code> returns a zero-based number so to get the correct month you need
to add 1, so calling <code>.getMonth()</code> in may will return <code>4</code> and not <code>5</code>.</p>
<p>So in your code we can use <code>currentdate.getMonth()+1</code> to output the correct
value. In addition:</p>
<ul>
<li>
<code>.getDate()</code> returns the day of the month <strong>&lt; - this is the one you want</strong>
</li>
<li>
<code>.getDay()</code> is a separate method of the <code>Date</code> object which will return an integer representing the current day of the week (0-6) <code>0 == Sunday</code> etc</li>
</ul>
<p>so your code should look like this:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">currentdate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Date</span><span class="p">();</span><span class="w"> </span>
<span class="k">var</span><span class="w"> </span><span class="n">datetime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Last Sync: "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">currentdate</span><span class="o">.</span><span class="n">getDate</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">"/"</span>
<span class="w">                </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">currentdate</span><span class="o">.</span><span class="n">getMonth</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="w">  </span><span class="o">+</span><span class="w"> </span><span class="s2">"/"</span><span class="w"> </span>
<span class="w">                </span><span class="o">+</span><span class="w"> </span><span class="n">currentdate</span><span class="o">.</span><span class="n">getFullYear</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">" @ "</span><span class="w">  </span>
<span class="w">                </span><span class="o">+</span><span class="w"> </span><span class="n">currentdate</span><span class="o">.</span><span class="n">getHours</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">":"</span><span class="w">  </span>
<span class="w">                </span><span class="o">+</span><span class="w"> </span><span class="n">currentdate</span><span class="o">.</span><span class="n">getMinutes</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">":"</span><span class="w"> </span>
<span class="w">                </span><span class="o">+</span><span class="w"> </span><span class="n">currentdate</span><span class="o">.</span><span class="n">getSeconds</span><span class="p">();</span>
</pre></div>

<hr>
<blockquote>
<p>JavaScript Date instances inherit from Date.prototype. You can modify the
constructor's prototype object to affect properties and methods inherited by
JavaScript Date instances</p>
</blockquote>
<p>You can make use of the <code>Date</code> prototype object to create a new method which
will return today's date and time. These new methods or properties will be
inherited by all instances of the <code>Date</code> object thus making it especially
useful if you need to re-use this functionality.</p>
<div class="code"><pre class="code literal-block"><span class="c1">// For todays date;</span>
<span class="n">Date</span><span class="p">.</span><span class="n">prototype</span><span class="p">.</span><span class="n">today</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">((</span><span class="n">this</span><span class="p">.</span><span class="n">getDate</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>?<span class="s">"0"</span><span class="p">:</span><span class="s">""</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">this</span><span class="p">.</span><span class="n">getDate</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="s">"/"</span><span class="o">+</span><span class="p">(((</span><span class="n">this</span><span class="p">.</span><span class="n">getMonth</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>?<span class="s">"0"</span><span class="p">:</span><span class="s">""</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">getMonth</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="s">"/"</span><span class="o">+</span><span class="w"> </span><span class="n">this</span><span class="p">.</span><span class="n">getFullYear</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">// For the time now</span>
<span class="n">Date</span><span class="p">.</span><span class="n">prototype</span><span class="p">.</span><span class="n">timeNow</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">     </span><span class="k">return</span><span class="w"> </span><span class="p">((</span><span class="n">this</span><span class="p">.</span><span class="n">getHours</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>?<span class="s">"0"</span><span class="p">:</span><span class="s">""</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">this</span><span class="p">.</span><span class="n">getHours</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="s">":"</span><span class="o">+</span><span class="w"> </span><span class="p">((</span><span class="n">this</span><span class="p">.</span><span class="n">getMinutes</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>?<span class="s">"0"</span><span class="p">:</span><span class="s">""</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">this</span><span class="p">.</span><span class="n">getMinutes</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="s">":"</span><span class="o">+</span><span class="w"> </span><span class="p">((</span><span class="n">this</span><span class="p">.</span><span class="n">getSeconds</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>?<span class="s">"0"</span><span class="p">:</span><span class="s">""</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">this</span><span class="p">.</span><span class="n">getSeconds</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>

<p>You can then simply retrieve the date and time by doing the following:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">newDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Date</span><span class="p">();</span>
<span class="k">var</span><span class="w"> </span><span class="n">datetime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"LastSync: "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">newDate</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">" @ "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">newDate</span><span class="o">.</span><span class="n">timeNow</span><span class="p">();</span>
</pre></div>

<p>Or call the method inline so it would simply be -</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">datetime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"LastSync: "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Date</span><span class="p">()</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">" @ "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Date</span><span class="p">()</span><span class="o">.</span><span class="n">timeNow</span><span class="p">();</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>To get time and date you should use</p>
<div class="code"><pre class="code literal-block">    new Date().toLocaleString();

&gt;&gt; "09/08/2014, 2:35:56 AM"
</pre></div>

<p>To get only the date you should use</p>
<div class="code"><pre class="code literal-block">    new Date().toLocaleDateString();

&gt;&gt; "09/08/2014"
</pre></div>

<p>To get only the time you should use</p>
<div class="code"><pre class="code literal-block">    new Date().toLocaleTimeString();

&gt;&gt; "2:35:56 AM"
</pre></div>

<p>Or if you just want the time in the format <code>hh:mm</code> without AM/PM for US
English</p>
<div class="code"><pre class="code literal-block"><span class="w">    </span><span class="nt">new</span><span class="w"> </span><span class="nt">Date</span><span class="o">()</span><span class="p">.</span><span class="nc">toLocaleTimeString</span><span class="o">(</span><span class="s1">'en-US'</span><span class="o">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">hour12</span><span class="p">:</span><span class="w"> </span><span class="n">false</span><span class="p">,</span><span class="w"> </span>
<span class="w">                                             </span><span class="n">hour</span><span class="o">:</span><span class="w"> </span><span class="s2">"numeric"</span><span class="p">,</span><span class="w"> </span>
<span class="w">                                             </span><span class="n">minute</span><span class="o">:</span><span class="w"> </span><span class="s2">"numeric"</span><span class="p">}</span><span class="o">);</span>
<span class="o">&gt;&gt;</span><span class="w"> </span><span class="s2">"02:35"</span>
</pre></div>

<p>or for British English</p>
<div class="code"><pre class="code literal-block"><span class="w">    </span><span class="nt">new</span><span class="w"> </span><span class="nt">Date</span><span class="o">()</span><span class="p">.</span><span class="nc">toLocaleTimeString</span><span class="o">(</span><span class="s1">'en-GB'</span><span class="o">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">hour</span><span class="p">:</span><span class="w"> </span><span class="s2">"numeric"</span><span class="p">,</span><span class="w"> </span>
<span class="w">                                             </span><span class="n">minute</span><span class="o">:</span><span class="w"> </span><span class="s2">"numeric"</span><span class="p">}</span><span class="o">);</span>

<span class="o">&gt;&gt;</span><span class="w"> </span><span class="s2">"02:35"</span>
</pre></div>

<p>Read more here.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1006.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1004.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

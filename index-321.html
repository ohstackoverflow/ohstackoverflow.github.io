<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 321) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-321.html">
<link rel="prev" href="index-322.html" type="text/html">
<link rel="next" href="index-320.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/easy-interview-question-got-harder-given-numbers-1-100-find-the-missing-number-s-given-exactly-k-are-missing/" class="u-url">Easy interview question got harder: given numbers 1..100, find the missing number(s) given exactly k are missing</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/easy-interview-question-got-harder-given-numbers-1-100-find-the-missing-number-s-given-exactly-k-are-missing/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T03:53:53+08:00" itemprop="datePublished" title="2023-02-17 03:53">2023-02-17 03:53</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I had an interesting job interview experience a while back. The question
started really easy:</p>
<blockquote>
<p><strong>Q1</strong> : We have a bag containing numbers <code>1</code>, <code>2</code>, <code>3</code>, …, <code>100</code>. Each
number appears exactly once, so there are 100 numbers. Now one number is
randomly picked out of the bag. Find the missing number.</p>
</blockquote>
<p>I've heard this interview question before, of course, so I very quickly
answered along the lines of:</p>
<blockquote>
<p><strong>A1</strong> : Well, the sum of the numbers <code>1 + 2 + 3 + … + N</code> is <code>(N+1)(N/2)</code>
(see Wikipedia: sum of arithmetic series). For <code>N = 100</code>, the sum is <code>5050</code>.</p>
<p>Thus, if all numbers are present in the bag, the sum will be exactly <code>5050</code>.
Since one number is missing, the sum will be less than this, and the
difference is that number. So we can find that missing number in <code>O(N)</code> time
and <code>O(1)</code> space.</p>
</blockquote>
<p>At this point I thought I had done well, but all of a sudden the question took
an unexpected turn:</p>
<blockquote>
<p><strong>Q2</strong> : That is correct, but now how would you do this if <em>TWO</em> numbers are
missing?</p>
</blockquote>
<p>I had never seen/heard/considered this variation before, so I panicked and
couldn't answer the question. The interviewer insisted on knowing my thought
process, so I mentioned that perhaps we can get more information by comparing
against the expected product, or perhaps doing a second pass after having
gathered some information from the first pass, etc, but I really was just
shooting in the dark rather than actually having a clear path to the solution.</p>
<p>The interviewer did try to encourage me by saying that having a second
equation is indeed one way to solve the problem. At this point I was kind of
upset (for not knowing the answer before hand), and asked if this is a general
(read: "useful") programming technique, or if it's just a trick/gotcha answer.</p>
<p>The interviewer's answer surprised me: you can generalize the technique to
find 3 missing numbers. In fact, you can generalize it to find <em>k</em> missing
numbers.</p>
<blockquote>
<p><strong>Qk</strong> : If exactly <em>k</em> numbers are missing from the bag, how would you find
it efficiently?</p>
</blockquote>
<p>This was a few months ago, and I still couldn't figure out what this technique
is. Obviously there's a <code>Ω(N)</code> time lower bound since we must scan all the
numbers at least once, but the interviewer insisted that the <em>TIME</em> and
<em>SPACE</em> complexity of the solving technique (minus the <code>O(N)</code> time input scan)
is defined in <em>k</em> not <em>N</em>.</p>
<p>So the question here is simple:</p>
<ul>
<li>How would you solve <strong>Q2</strong>?</li>
<li>How would you solve <strong>Q3</strong>?</li>
<li>How would you solve <strong>Qk</strong>?</li>
</ul>
<hr>
<h4>Clarifications</h4>
<ul>
<li>Generally there are <em>N</em> numbers from 1.. <em>N</em> , not just 1..100.</li>
<li>I'm not looking for the obvious set-based solution, e.g. using a bit set, encoding the presence/absence each number by the value of a designated bit, therefore using <code>O(N)</code> bits in additional space. We can't afford any additional space proportional to <em>N</em>.</li>
<li>I'm also not looking for the obvious sort-first approach. This and the set-based approach are worth mentioning in an interview (they are easy to implement, and depending on <em>N</em> , can be very practical). I'm looking for the Holy Grail solution (which may or may not be practical to implement, but has the desired asymptotic characteristics nevertheless).</li>
</ul>
<p>So again, of course you must scan the input in <code>O(N)</code>, but you can only
capture small amount of information (defined in terms of <em>k</em> not <em>N</em> ), and
must then find the <em>k</em> missing numbers somehow.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Here's a summary of Dimitris Andreou's link.</p>
<p>Remember sum of i-th powers, where i=1,2,..,k. This reduces the problem to
solving the system of equations</p>
<p>a1 + a2 + ... + ak = b1</p>
<p>a12 + a22 + ... + ak2 = b2</p>
<p>...</p>
<p>a1k + a2k + ... + akk = bk</p>
<p>Using Newton's identities, knowing bi allows to compute</p>
<p>c1 = a1 + a2 + ... ak</p>
<p>c2 = a1a2 + a1a3 + ... + ak-1ak</p>
<p>...</p>
<p>ck = a1a2 ... ak</p>
<p>If you expand the polynomial (x-a1)...(x-ak) the coefficients will be exactly
c1, ..., ck - see Viète's formulas. Since every polynomial factors uniquely
(ring of polynomials is an Euclidean domain), this means ai are uniquely
determined, up to permutation.</p>
<p>This ends a proof that remembering powers is enough to recover the numbers.
For constant k, this is a good approach.</p>
<p>However, when k is varying, the direct approach of computing c1,...,ck is
prohibitely expensive, since e.g. ck is the product of all missing numbers,
magnitude n!/(n-k)!. To overcome this, perform computations in Zq field, where
q is a prime such that n &lt;= q &lt; 2n - it exists by Bertrand's postulate. The
proof doesn't need to be changed, since the formulas still hold, and
factorization of polynomials is still unique. You also need an algorithm for
factorization over finite fields, for example the one by Berlekamp or Cantor-
Zassenhaus.</p>
<p>High level pseudocode for constant k:</p>
<ul>
<li>Compute i-th powers of given numbers</li>
<li>Subtract to get sums of i-th powers of unknown numbers. Call the sums bi.</li>
<li>Use Newton's identities to compute coefficients from bi; call them ci. Basically, c1 = b1; c2 = (c1b1 - b2)/2; see Wikipedia for exact formulas</li>
<li>Factor the polynomial xk-c1xk-1 + ... + ck.</li>
<li>The roots of the polynomial are the needed numbers a1, ..., ak.</li>
</ul>
<p>For varying k, find a prime n &lt;= q &lt; 2n using e.g. Miller-Rabin, and perform
the steps with all numbers reduced modulo q.</p>
<p>EDIT: The previous version of this answer stated that instead of Zq, where q
is prime, it is possible to use a finite field of characteristic 2 (q=2^(log
n)). This is not the case, since Newton's formulas require division by numbers
up to k.</p>
<p><br></p>
<h3>Suggest</h3>
<p>You will find it by reading the couple of pages of <em>Muthukrishnan - Data
Stream Algorithms: Puzzle 1: Finding Missing Numbers</em>. <strong>It shows exactly the
generalization you are looking for</strong>. Probably this is what your interviewer
read and why he posed these questions.</p>
<hr>
<p><strong>Also see sdcvvc's directly related answer</strong> , which also includes pseudocode
(hurray! no need to read those tricky math formulations :)) (thanks, great
work!).</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-check-if-a-map-contains-a-key-in-go/" class="u-url">How to check if a map contains a key in Go?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-check-if-a-map-contains-a-key-in-go/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T03:53:26+08:00" itemprop="datePublished" title="2023-02-17 03:53">2023-02-17 03:53</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I know I can iterate over a map <code>m</code> with</p>
<div class="code"><pre class="code literal-block"><span class="k">for</span><span class="w"> </span><span class="nv">k</span><span class="p">,</span><span class="w"> </span><span class="nv">v</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nv">range</span><span class="w"> </span><span class="nv">m</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">...</span><span class="w"> </span><span class="p">}</span>
</pre></div>

<p>and look for a key, but is there a more efficient way of testing for a key's
existence in a map?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Here's how you check if a map contains a key.</p>
<div class="code"><pre class="code literal-block"><span class="nv">val</span><span class="p">,</span><span class="w"> </span><span class="nv">ok</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nv">myMap</span><span class="p">[</span><span class="s">"foo"</span><span class="p">]</span>
<span class="o">//</span><span class="w"> </span><span class="nv">If</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">key</span><span class="w"> </span><span class="nv">exists</span>
<span class="k">if</span><span class="w"> </span><span class="nv">ok</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="nv">Do</span><span class="w"> </span><span class="nv">something</span>
<span class="p">}</span>
</pre></div>

<p>This initializes two variables. <code>val</code> is the value of "foo" from the map if it
exists, or a "zero value" if it doesn't (in this case the empty string). <code>ok</code>
is a <code>bool</code> that will be set to <code>true</code> if the key existed.</p>
<p>If you want, you can shorten this to a one-liner.</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="nv">val</span><span class="p">,</span><span class="w"> </span><span class="nv">ok</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nv">myMap</span><span class="p">[</span><span class="s">"foo"</span><span class="p">];</span><span class="w"> </span><span class="nv">ok</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">//</span><span class="k">do</span><span class="w"> </span><span class="nv">something</span><span class="w"> </span><span class="nv">here</span>
<span class="p">}</span>
</pre></div>

<p>Go allows you to put an initializing statement before the condition (notice
the semicolon) in the if statement. The consequence of this is that the scope
of<code>val</code> and <code>ok</code> will be limited to the body of the if statement, which is
helpful if you only need to access them there.</p>
<p><br></p>
<h3>Suggest</h3>
<p>In addition to The Go Programming Language Specification, you should read
Effective Go. In the section on maps, they say, amongst other things:</p>
<blockquote>
<p>An attempt to fetch a map value with a key that is not present in the map
will return the zero value for the type of the entries in the map. For
instance, if the map contains integers, looking up a non-existent key will
return 0. A set can be implemented as a map with value type bool. Set the
map entry to true to put the value in the set, and then test it by simple
indexing.</p>
<div class="code"><pre class="code literal-block"><span class="n">attended</span><span class="w"> </span><span class="err">:</span><span class="o">=</span><span class="w"> </span><span class="k">map</span><span class="o">[</span><span class="n">string</span><span class="o">]</span><span class="n">bool</span><span class="err">{</span>
<span class="w">    </span><span class="ss">"Ann"</span><span class="err">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<span class="w">    </span><span class="ss">"Joe"</span><span class="err">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<span class="w">    </span><span class="p">...</span>
<span class="err">}</span>

<span class="k">if</span><span class="w"> </span><span class="n">attended</span><span class="o">[</span><span class="n">person</span><span class="o">]</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="k">false</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">map</span>
<span class="w">    </span><span class="n">fmt</span><span class="p">.</span><span class="n">Println</span><span class="p">(</span><span class="n">person</span><span class="p">,</span><span class="w"> </span><span class="ss">"was at the meeting"</span><span class="p">)</span>
<span class="err">}</span>
</pre></div>

<p>Sometimes you need to distinguish a missing entry from a zero value. Is
there an entry for "UTC" or is that 0 because it's not in the map at all?
You can discriminate with a form of multiple assignment.</p>
<div class="code"><pre class="code literal-block"><span class="nf">var</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="nc">int</span>
<span class="nf">var</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="n">bool</span>
<span class="n">seconds</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">timeZone</span><span class="o">[</span><span class="n">tz</span><span class="o">]</span>
</pre></div>

<p>For obvious reasons this is called the “comma ok” idiom. In this example, if
tz is present, seconds will be set appropriately and ok will be true; if
not, seconds will be set to zero and ok will be false. Here's a function
that puts it together with a nice error report:</p>
<div class="code"><pre class="code literal-block"><span class="n">func</span><span class="w"> </span><span class="n">offset</span><span class="p">(</span><span class="n">tz</span><span class="w"> </span><span class="n">string</span><span class="p">)</span><span class="w"> </span><span class="nc">int</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">seconds</span><span class="p">,</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="err">:</span><span class="o">=</span><span class="w"> </span><span class="n">timeZone</span><span class="o">[</span><span class="n">tz</span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="n">ok</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">seconds</span>
<span class="w">    </span><span class="err">}</span>
<span class="w">    </span><span class="nf">log</span><span class="p">.</span><span class="n">Println</span><span class="p">(</span><span class="ss">"unknown time zone:"</span><span class="p">,</span><span class="w"> </span><span class="n">tz</span><span class="p">)</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span>
<span class="err">}</span>
</pre></div>

<p>To test for presence in the map without worrying about the actual value, you
can use the blank identifier (_) in place of the usual variable for the
value.</p>
<div class="code"><pre class="code literal-block"><span class="n">_</span><span class="p">,</span><span class="w"> </span><span class="n">present</span><span class="w"> </span><span class="err">:</span><span class="o">=</span><span class="w"> </span><span class="n">timeZone</span><span class="o">[</span><span class="n">tz</span><span class="o">]</span>
</pre></div>

</blockquote>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/git-push-rejected-after-feature-branch-rebase/" class="u-url">Git push rejected after feature branch rebase</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/git-push-rejected-after-feature-branch-rebase/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T03:53:00+08:00" itemprop="datePublished" title="2023-02-17 03:53">2023-02-17 03:53</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>OK, I thought this was a simple git scenario, what am I missing?</p>
<p>I have a <code>master</code> branch and a <code>feature</code> branch. I do some work on <code>master</code>,
some on <code>feature</code>, and then some more on <code>master</code>. I end up with something
like this (lexicographic order implies the order of commits):</p>
<div class="code"><pre class="code literal-block">A--B--C------F--G  (master)
       \    
        D--E  (feature)
</pre></div>

<p>I have no problem to <code>git push origin master</code> to keep the remote <code>master</code>
updated, nor with <code>git push origin feature</code> (when on <code>feature</code>) to maintain a
remote backup for my <code>feature</code> work. Up until now, we're good.</p>
<p>But now I want to rebase <code>feature</code> on top of the <code>F--G</code> commits on master, so
I <code>git checkout feature</code> and <code>git rebase master</code>. Still good. Now we have:</p>
<div class="code"><pre class="code literal-block">A--B--C------F--G  (master)
                 \
                  D'--E'  (feature)
</pre></div>

<p><strong>Problem:</strong> the moment I want to backup the new rebased <code>feature</code> branched
with <code>git push origin feature</code>, <strong>the push is rejected</strong> since the tree has
changed due to the rebasing. This can only be solved with <code>git push --force
origin feature</code>.</p>
<p>I hate using <code>--force</code> without being sure I need it. So, do I need it? Does
the rebasing <em>necessarily</em> imply that the next <code>push</code> should be <code>--force</code>ful?</p>
<p>This feature branch is not shared with any other devs, so I have no problem
<em>de facto</em> with the force push, I'm not going to lose any data, the question
is more conceptual.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The problem is that <code>git push</code> assumes that remote branch can be fast-
forwarded to your local branch, that is that all the difference between local
and remote branches is in local having some new commits at the end like that:</p>
<div class="code"><pre class="code literal-block"><span class="n">Z</span><span class="o">--</span><span class="n">X</span><span class="o">--</span><span class="n">R</span><span class="w">         </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">origin</span><span class="o">/</span><span class="n">some</span><span class="o">-</span><span class="nf">branch </span><span class="p">(</span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">fast</span><span class="o">-</span><span class="n">forwarded</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">Y</span><span class="w"> </span><span class="n">commit</span><span class="p">)</span>
<span class="w">       </span>\<span class="w">        </span>
<span class="w">        </span><span class="bp">T</span><span class="o">--</span><span class="n">Y</span><span class="w">    </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">some</span><span class="o">-</span><span class="n">branch</span>
</pre></div>

<p>When you perform <code>git rebase</code> commits D and E are applied to new base and new
commits are created. That means after rebase you have something like that:</p>
<div class="code"><pre class="code literal-block"><span class="n">A</span><span class="o">--</span><span class="n">B</span><span class="o">--</span><span class="n">C</span><span class="o">------</span><span class="bp">F</span><span class="o">--</span><span class="n">G</span><span class="o">--</span><span class="n">D</span><span class="s">'--E'</span><span class="w">   </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">feature</span><span class="o">-</span><span class="n">branch</span>
<span class="w">       </span>\<span class="w">  </span>
<span class="w">        </span><span class="n">D</span><span class="o">--</span><span class="n">E</span><span class="w">                </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">origin</span><span class="o">/</span><span class="n">feature</span><span class="o">-</span><span class="n">branch</span>
</pre></div>

<p>In that situation remote branch can't be fast-forwarded to local. Though,
theoretically local branch can be merged into remote (obviously you don't need
it in that case), but as <code>git push</code> performs only fast-forward merges it
throws and error.</p>
<p>And what <code>--force</code> option does is just ignoring state of remote branch and
setting it to the commit you're pushing into it. So <code>git push --force origin
feature-branch</code> simply overrides <code>origin/feature-branch</code> with local <code>feature-
branch</code>.</p>
<p>In my opinion, rebasing feature branches on <code>master</code> and force-pushing them
back to remote repository is OK as long as you're the only one who works on
that branch.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Instead of using <code>-f</code> or <code>--force</code> developers should use</p>
<div class="code"><pre class="code literal-block">--force-with-lease
</pre></div>

<p>Why? Because it checks the remote branch for changes which is absolutely a
good idea. Let's imagine that James and Lisa are working on the same feature
branch and Lisa has pushed a commit. James now rebases his local branch and is
rejected when trying to push. Of course James thinks this is due to rebase and
uses <code>--force</code> and would rewrite all Lisa's changes. If James had used
<code>--force-with-lease</code> he would have received a warning that there are commits
done by someone else. I don't see why anyone would use <code>--force</code> instead of
<code>--force-with-lease</code> when pushing after a rebase.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-322.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-320.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 153) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-153.html">
<link rel="prev" href="index-154.html" type="text/html">
<link rel="next" href="index-152.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-display-a-javascript-object/" class="u-url">How can I display a JavaScript object?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-display-a-javascript-object/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T23:11:12+08:00" itemprop="datePublished" title="2023-02-16 23:11">2023-02-16 23:11</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How do I display the content of a JavaScript object in a string format like
when we <code>alert</code> a variable?</p>
<p>The same formatted way I want to display an object.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>If you want to print the object for debugging purposes, use the code:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">prop1</span><span class="p">:</span><span class="w"> </span><span class="s1">'prop1Value'</span><span class="p">,</span>
<span class="w">  </span><span class="n">prop2</span><span class="p">:</span><span class="w"> </span><span class="s1">'prop2Value'</span><span class="p">,</span>
<span class="w">  </span><span class="n">child</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">childProp1</span><span class="p">:</span><span class="w"> </span><span class="s1">'childProp1Value'</span><span class="p">,</span>
<span class="w">  </span><span class="p">},</span>
<span class="p">}</span>
<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</pre></div>

<p>will display:</p>
<p><img alt="screenshot console chrome" src="images/x0Tvz.png"></p>
<p><strong>Note:</strong> you must <em>only</em> log the object. For example, this won't work:</p>
<div class="code"><pre class="code literal-block">console.log('My object : ' + obj)
</pre></div>

<p><strong>Note '</strong> : You can also use a comma in the <code>log</code> method, then the first line
of the output will be the string and after that, the object will be rendered:</p>
<div class="code"><pre class="code literal-block"><span class="nt">console</span><span class="p">.</span><span class="nc">log</span><span class="o">(</span><span class="s1">'My object: '</span><span class="o">,</span><span class="w"> </span><span class="nt">obj</span><span class="o">);</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>If you want to print the object for debugging purposes, use the code:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">prop1</span><span class="p">:</span><span class="w"> </span><span class="s1">'prop1Value'</span><span class="p">,</span>
<span class="w">  </span><span class="n">prop2</span><span class="p">:</span><span class="w"> </span><span class="s1">'prop2Value'</span><span class="p">,</span>
<span class="w">  </span><span class="n">child</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">childProp1</span><span class="p">:</span><span class="w"> </span><span class="s1">'childProp1Value'</span><span class="p">,</span>
<span class="w">  </span><span class="p">},</span>
<span class="p">}</span>
<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</pre></div>

<p>will display:</p>
<p><img alt="screenshot console chrome" src="images/x0Tvz.png"></p>
<p><strong>Note:</strong> you must <em>only</em> log the object. For example, this won't work:</p>
<div class="code"><pre class="code literal-block">console.log('My object : ' + obj)
</pre></div>

<p><strong>Note '</strong> : You can also use a comma in the <code>log</code> method, then the first line
of the output will be the string and after that, the object will be rendered:</p>
<div class="code"><pre class="code literal-block"><span class="nt">console</span><span class="p">.</span><span class="nc">log</span><span class="o">(</span><span class="s1">'My object: '</span><span class="o">,</span><span class="w"> </span><span class="nt">obj</span><span class="o">);</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-tail-recursion/" class="u-url">What is tail recursion?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-tail-recursion/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T23:10:37+08:00" itemprop="datePublished" title="2023-02-16 23:10">2023-02-16 23:10</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Whilst starting to learn lisp, I've come across the term <em>tail-recursive</em>.
What does it mean exactly?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Consider a simple function that adds the first N natural numbers. (e.g.
<code>sum(5) = 0 + 1 + 2 + 3 + 4 + 5 = 15</code>).</p>
<p>Here is a simple JavaScript implementation that uses recursion:</p>
<div class="code"><pre class="code literal-block"><span class="nv">function</span><span class="w"> </span><span class="nv">recsum</span><span class="ss">(</span><span class="nv">x</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">x</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mi">0</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="c1">;</span>
<span class="w">    </span>}<span class="w"> </span><span class="k">else</span><span class="w"> </span>{
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">recsum</span><span class="ss">(</span><span class="nv">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span>}
}
</pre></div>

<p>If you called <code>recsum(5)</code>, this is what the JavaScript interpreter would
evaluate:</p>
<div class="code"><pre class="code literal-block">recsum(5)
5 + recsum(4)
5 + (4 + recsum(3))
5 + (4 + (3 + recsum(2)))
5 + (4 + (3 + (2 + recsum(1))))
5 + (4 + (3 + (2 + (1 + recsum(0)))))
5 + (4 + (3 + (2 + (1 + 0))))
5 + (4 + (3 + (2 + 1)))
5 + (4 + (3 + 3))
5 + (4 + 6)
5 + 10
15
</pre></div>

<p>Note how every recursive call has to complete before the JavaScript
interpreter begins to actually do the work of calculating the sum.</p>
<p>Here's a tail-recursive version of the same function:</p>
<div class="code"><pre class="code literal-block"><span class="nv">function</span><span class="w"> </span><span class="nv">tailrecsum</span><span class="ss">(</span><span class="nv">x</span>,<span class="w"> </span><span class="nv">running_total</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">x</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mi">0</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nv">running_total</span><span class="c1">;</span>
<span class="w">    </span>}<span class="w"> </span><span class="k">else</span><span class="w"> </span>{
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nv">tailrecsum</span><span class="ss">(</span><span class="nv">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span>,<span class="w"> </span><span class="nv">running_total</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">x</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span>}
}
</pre></div>

<p>Here's the sequence of events that would occur if you called <code>tailrecsum(5)</code>,
(which would effectively be <code>tailrecsum(5, 0)</code>, because of the default second
argument).</p>
<div class="code"><pre class="code literal-block">tailrecsum(5, 0)
tailrecsum(4, 5)
tailrecsum(3, 9)
tailrecsum(2, 12)
tailrecsum(1, 14)
tailrecsum(0, 15)
15
</pre></div>

<p>In the tail-recursive case, with each evaluation of the recursive call, the
<code>running_total</code> is updated.</p>
<p><em>Note: The original answer used examples from Python. These have been changed
to JavaScript, since Python interpreters don't support tail call optimization.
However, while tail call optimization is part of the ECMAScript 2015 spec,
most JavaScript interpreters don't support it.</em></p>
<p><br></p>
<h3>Suggest</h3>
<p>In <strong>traditional recursion</strong> , the typical model is that you perform your
recursive calls first, and then you take the return value of the recursive
call and calculate the result. In this manner, you don't get the result of
your calculation until you have returned from every recursive call.</p>
<p>In <strong>tail recursion</strong> , you perform your calculations first, and then you
execute the recursive call, passing the results of your current step to the
next recursive step. This results in the last statement being in the form of
<code>(return (recursive-function params))</code>. <strong>Basically, the return value of any
given recursive step is the same as the return value of the next recursive
call</strong>.</p>
<p>The consequence of this is that once you are ready to perform your next
recursive step, you don't need the current stack frame any more. This allows
for some optimization. In fact, with an appropriately written compiler, you
should never have a stack overflow <em>snicker</em> with a tail recursive call.
Simply reuse the current stack frame for the next recursive step. I'm pretty
sure Lisp does this.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/make-the-current-git-branch-a-master-branch/" class="u-url">Make the current Git branch a master branch</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/make-the-current-git-branch-a-master-branch/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T23:10:01+08:00" itemprop="datePublished" title="2023-02-16 23:10">2023-02-16 23:10</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a repository in Git. I made a branch, then did some changes both to the
master and to the branch.</p>
<p>Then, tens of commits later, I realized the branch is in much better state
than the master, so I want the branch to "become" the master and disregard the
changes on master.</p>
<p>I cannot merge it, because I don't want to keep the changes on master. What
should I do?</p>
<p><em>Extra</em> : In this case, the 'old' master has already been <code>push</code>-ed to another
repository such as GitHub. How does this change things?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The problem with the other two answers is that the new master doesn't have the
old master as an ancestor, so when you push it, everyone else will get messed
up. This is what you want to do:</p>
<div class="code"><pre class="code literal-block">git checkout better_branch
git merge --strategy=ours master    # keep the content of this branch, but record a merge
git checkout master
git merge better_branch             # fast-forward master up to the merge
</pre></div>

<p>If you want your history to be a little clearer, I'd recommend adding some
information to the merge commit message to make it clear what you've done.
Change the second line to:</p>
<div class="code"><pre class="code literal-block">git merge --strategy=ours --no-commit master
git commit          # add information to the template merge message
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Make sure everything is pushed up to your remote repository (GitHub):</p>
<div class="code"><pre class="code literal-block">git checkout main
</pre></div>

<p>Overwrite "main" with "better_branch":</p>
<div class="code"><pre class="code literal-block">git reset --hard better_branch
</pre></div>

<p>Force the push to your remote repository:</p>
<div class="code"><pre class="code literal-block">git push -f origin main
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-154.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-152.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

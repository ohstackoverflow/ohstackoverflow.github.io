<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2648) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2648.html">
<link rel="prev" href="index-2649.html" type="text/html">
<link rel="next" href="index-2647.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/maven-command-to-determine-which-settings-xml-file-maven-is-using/" class="u-url">Maven command to determine which settings.xml file Maven is using</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/maven-command-to-determine-which-settings-xml-file-maven-is-using/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T07:32:27+08:00" itemprop="datePublished" title="2023-03-05 07:32">2023-03-05 07:32</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How do I use maven command line to determine which settings.xml file Maven is
picking up?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Start maven with -X option (debug) and examine the beginning of the output.
There should be something like this:</p>
<div class="code"><pre class="code literal-block"><span class="p">...</span>
<span class="o">[</span><span class="n">INFO</span><span class="o">]</span><span class="w"> </span><span class="n">Error</span><span class="w"> </span><span class="n">stacktraces</span><span class="w"> </span><span class="k">are</span><span class="w"> </span><span class="n">turned</span><span class="w"> </span><span class="k">on</span><span class="p">.</span>
<span class="o">[</span><span class="n">DEBUG</span><span class="o">]</span><span class="w"> </span><span class="n">Reading</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="nl">c</span><span class="p">:</span><span class="err">\</span><span class="p">....</span><span class="err">\</span><span class="n">apache</span><span class="o">-</span><span class="n">maven</span><span class="o">-</span><span class="mf">3.0.3</span><span class="err">\</span><span class="n">conf</span><span class="err">\</span><span class="n">settings</span><span class="p">.</span><span class="nc">xml</span>
<span class="o">[</span><span class="n">DEBUG</span><span class="o">]</span><span class="w"> </span><span class="n">Reading</span><span class="w"> </span><span class="k">user</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="nl">c</span><span class="p">:</span><span class="err">\</span><span class="p">....</span><span class="err">\</span><span class="p">.</span><span class="n">m2</span><span class="err">\</span><span class="n">settings</span><span class="p">.</span><span class="nc">xml</span>
<span class="o">[</span><span class="n">DEBUG</span><span class="o">]</span><span class="w"> </span><span class="k">Using</span><span class="w"> </span><span class="k">local</span><span class="w"> </span><span class="n">repository</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="nl">C</span><span class="p">:</span><span class="err">\</span><span class="p">....</span><span class="err">\</span><span class="n">repository</span>
<span class="p">...</span>
</pre></div>

<p>(Original directory names are removed by me)</p>
<p><br></p>
<h3>Suggest</h3>
<p>Your comment to cletus' (correct) answer implies that there are multiple Maven
settings files involved.</p>
<p>Maven always uses either one or two settings files. The <strong>global settings</strong>
defined in (<code>${M2_HOME}/conf/settings.xml</code>) is always required. The <strong>user
settings</strong> file (defined in <code>${user.home}/.m2/settings.xml</code>) is optional. Any
settings defined in the user settings take precedence over the corresponding
global settings.</p>
<p>You can override the location of the <em>global and user settings</em> from the
command line, the following example will set the global settings to
<em>c:\global\settings.xml</em> and the user settings to <em>c:\user\settings.xml</em> :</p>
<div class="code"><pre class="code literal-block"><span class="n">mvn install --settings c:\user\settings.xml </span>
<span class="n">     --global-settings c:\global\settings.xml</span>
</pre></div>

<p>Currently there is no property or means to establish what user and global
settings files were used from with Maven. To access these values, you would
have to modify MavenCli and/or DefaultMavenSettingsBuilder to inject the file
locations into the resolved Settings object.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-copy-an-entire-directory-of-files-into-an-existing-directory-using-python/" class="u-url">How do I copy an entire directory of files into an existing directory using Python?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-copy-an-entire-directory-of-files-into-an-existing-directory-using-python/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T07:31:05+08:00" itemprop="datePublished" title="2023-03-05 07:31">2023-03-05 07:31</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Run the following code from a directory that contains a directory named <code>bar</code>
(containing one or more files) and a directory named <code>baz</code> (also containing
one or more files). Make sure there is not a directory named <code>foo</code>.</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">shutil</span>
<span class="n">shutil</span><span class="o">.</span><span class="n">copytree</span><span class="p">(</span><span class="s1">'bar'</span><span class="p">,</span> <span class="s1">'foo'</span><span class="p">)</span>
<span class="n">shutil</span><span class="o">.</span><span class="n">copytree</span><span class="p">(</span><span class="s1">'baz'</span><span class="p">,</span> <span class="s1">'foo'</span><span class="p">)</span>
</pre></div>

<p>It will fail with:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>python<span class="w"> </span>copytree_test.py<span class="w"> </span>
Traceback<span class="w"> </span><span class="o">(</span>most<span class="w"> </span>recent<span class="w"> </span>call<span class="w"> </span>last<span class="o">)</span>:
<span class="w">  </span>File<span class="w"> </span><span class="s2">"copytree_test.py"</span>,<span class="w"> </span>line<span class="w"> </span><span class="m">5</span>,<span class="w"> </span><span class="k">in</span><span class="w"> </span>&lt;module&gt;
<span class="w">    </span>shutil.copytree<span class="o">(</span><span class="s1">'baz'</span>,<span class="w"> </span><span class="s1">'foo'</span><span class="o">)</span>
<span class="w">  </span>File<span class="w"> </span><span class="s2">"/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/shutil.py"</span>,<span class="w"> </span>line<span class="w"> </span><span class="m">110</span>,<span class="w"> </span><span class="k">in</span><span class="w"> </span>copytree
<span class="w">  </span>File<span class="w"> </span><span class="s2">"/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/os.py"</span>,<span class="w"> </span>line<span class="w"> </span><span class="m">172</span>,<span class="w"> </span><span class="k">in</span><span class="w"> </span>makedirs
OSError:<span class="w"> </span><span class="o">[</span>Errno<span class="w"> </span><span class="m">17</span><span class="o">]</span><span class="w"> </span>File<span class="w"> </span>exists:<span class="w"> </span><span class="s1">'foo'</span>
</pre></div>

<p>I want this to work the same way as if I had typed:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>mkdir<span class="w"> </span>foo
$<span class="w"> </span>cp<span class="w"> </span>bar/*<span class="w"> </span>foo/
$<span class="w"> </span>cp<span class="w"> </span>baz/*<span class="w"> </span>foo/
</pre></div>

<p>Do I need to use <code>shutil.copy()</code> to copy each file in <code>baz</code> into <code>foo</code>? (After
I've already copied the contents of 'bar' into 'foo' with
<code>shutil.copytree()</code>?) Or is there an easier/better way?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>This limitation of the standard <code>shutil.copytree</code> seems arbitrary and
annoying. Workaround:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">shutil</span>
<span class="k">def</span> <span class="nf">copytree</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">symlinks</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ignore</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">src</span><span class="p">):</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dst</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">copytree</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">symlinks</span><span class="p">,</span> <span class="n">ignore</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">copy2</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
</pre></div>

<p>Note that it's not entirely consistent with the standard <code>copytree</code>:</p>
<ul>
<li>it doesn't honor <code>symlinks</code> and <code>ignore</code> parameters for the root directory of the <code>src</code> tree;</li>
<li>it doesn't raise <code>shutil.Error</code> for errors at the root level of <code>src</code>;</li>
<li>in case of errors during copying of a subtree, it will raise <code>shutil.Error</code> for that subtree instead of trying to copy other subtrees and raising single combined <code>shutil.Error</code>.</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<p>This limitation of the standard <code>shutil.copytree</code> seems arbitrary and
annoying. Workaround:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">shutil</span>
<span class="k">def</span> <span class="nf">copytree</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">symlinks</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ignore</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">src</span><span class="p">):</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dst</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">copytree</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">symlinks</span><span class="p">,</span> <span class="n">ignore</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">copy2</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
</pre></div>

<p>Note that it's not entirely consistent with the standard <code>copytree</code>:</p>
<ul>
<li>it doesn't honor <code>symlinks</code> and <code>ignore</code> parameters for the root directory of the <code>src</code> tree;</li>
<li>it doesn't raise <code>shutil.Error</code> for errors at the root level of <code>src</code>;</li>
<li>in case of errors during copying of a subtree, it will raise <code>shutil.Error</code> for that subtree instead of trying to copy other subtrees and raising single combined <code>shutil.Error</code>.</li>
</ul>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/uibutton-remove-all-target-actions/" class="u-url">UIButton remove all target-actions</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/uibutton-remove-all-target-actions/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T07:30:10+08:00" itemprop="datePublished" title="2023-03-05 07:30">2023-03-05 07:30</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have added multiple target-action-forControlEvents: to a UIButton. I'd like
to remove all of these in one go without deallocating anything. I will then
set new targets.</p>
<p>Is this possible and how do I go about it?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Call removeTarget:action:forControlEvents:, pass nil for the target, NULL for
action, and use a control mask that sets all bits (UIControlEventAllEvents).</p>
<p><strong>Objective-C</strong></p>
<div class="code"><pre class="code literal-block"><span class="p">[</span><span class="n">someControl</span><span class="w"> </span><span class="n">removeTarget</span><span class="o">:</span><span class="nb">nil</span><span class="w"> </span>
<span class="w">                   </span><span class="nl">action</span><span class="p">:</span><span class="nb">NULL</span><span class="w"> </span>
<span class="w">         </span><span class="nl">forControlEvents</span><span class="p">:</span><span class="n">UIControlEventAllEvents</span><span class="p">];</span>
</pre></div>

<p><strong>Swift 2</strong></p>
<div class="code"><pre class="code literal-block">button.removeTarget(nil, action: nil, forControlEvents: .AllEvents)
</pre></div>

<p><strong>Swift 3 or higher</strong></p>
<div class="code"><pre class="code literal-block"><span class="nv">button</span>.<span class="nv">removeTarget</span><span class="ss">(</span><span class="nv">nil</span>,<span class="w"> </span><span class="nv">action</span>:<span class="w"> </span><span class="nv">nil</span>,<span class="w"> </span><span class="k">for</span>:<span class="w"> </span>.<span class="nv">allEvents</span><span class="ss">)</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>@progrmr's answer in Swift 2:</p>
<div class="code"><pre class="code literal-block">button.removeTarget(nil, action: nil, forControlEvents: .AllEvents)
</pre></div>

<p>and Swift 3:</p>
<div class="code"><pre class="code literal-block"><span class="nv">button</span>.<span class="nv">removeTarget</span><span class="ss">(</span><span class="nv">nil</span>,<span class="w"> </span><span class="nv">action</span>:<span class="w"> </span><span class="nv">nil</span>,<span class="w"> </span><span class="k">for</span>:<span class="w"> </span>.<span class="nv">allEvents</span><span class="ss">)</span>
</pre></div>

<p>Note: Swift doesn't have <code>NULL</code>, so I tested replacing it with <code>nil</code> and it
seems to work fine.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2649.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2647.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

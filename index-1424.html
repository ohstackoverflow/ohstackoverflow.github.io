<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1424) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1424.html">
<link rel="prev" href="index-1425.html" type="text/html">
<link rel="next" href="index-1423.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/random-numbers-in-unity3d/" class="u-url">Random Numbers in Unity3D?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/random-numbers-in-unity3d/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-28T03:35:13+08:00" itemprop="datePublished" title="2023-02-28 03:35">2023-02-28 03:35</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What I found was how to create random numbers. Great. This solution, however,
was not working in other functions. To create a random number, I used</p>
<div class="code"><pre class="code literal-block"><span class="k">Random</span><span class="w"> </span><span class="nv">randomDirection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="k">Random</span><span class="ss">()</span><span class="c1">;</span>
<span class="nv">int</span><span class="w"> </span><span class="nv">directionChoice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">randomDirection</span>.<span class="k">Next</span><span class="ss">(</span><span class="mi">1</span>,<span class="w"> </span><span class="mi">4</span><span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p>inside of a function called enemyWalk(){};</p>
<p>However, this caused an error:</p>
<blockquote>
<p>Type 'UnityEngine.Random' does not contain a definition for 'Next' and no
extension method 'Next' of type 'UnityEngine.Random' could be found (are you
missing a using directive or an assembly reference?)</p>
</blockquote>
<p>This error does not appear when I take the random integer generator out of the
function. Any solutions to fix this problem?</p>
<p>I'm hoping to use this code to make my enemy wander around when not doing
anything by randomly choosing an integer that decides which direction he walks
(up, left, right, or down), then using a random double generator to determine
the distance it walks. However I need a random number generated whenever
<code>enemyWalk(){};</code> is called.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>In Unity C# the method is as follows</p>
<div class="code"><pre class="code literal-block"><span class="k">Random</span>.<span class="nv">Range</span><span class="ss">(</span><span class="nv">minVal</span>,<span class="w"> </span><span class="nv">maxVal</span><span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p>See Unity Documentation - Random</p>
<p>The method will accept either integer or float arguments. If using ints
<code>minVal</code> is <strong>inclusive</strong> and <code>maxVal</code> is <strong>exclusive</strong> of the returned random
value. In your case it would be:</p>
<div class="code"><pre class="code literal-block"><span class="k">Random</span>.<span class="nv">Range</span><span class="ss">(</span><span class="mi">1</span>,<span class="mi">4</span><span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p>Instead of <code>Next(1,4)</code>.</p>
<p>If using floats, for example</p>
<div class="code"><pre class="code literal-block"><span class="k">Random</span>.<span class="nv">Range</span><span class="ss">(</span><span class="mi">1</span>.<span class="mi">0</span><span class="nv">F</span>,<span class="w"> </span><span class="mi">3</span>.<span class="mi">5</span><span class="nv">F</span><span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p>The return value is also a float, <code>minVal</code> and <code>maxVal</code> are <strong>inclusive</strong> in
this case.</p>
<p><br></p>
<h3>Suggest</h3>
<p>The simple solution would be to just use .NET's <code>Random</code> class, which happens
to be in the <code>System</code> namespace:</p>
<div class="code"><pre class="code literal-block"><span class="nv">using</span><span class="w"> </span><span class="nv">System</span><span class="c1">;</span>

...

<span class="o">//</span><span class="nv">Or</span><span class="w"> </span><span class="nv">System</span>.<span class="k">Random</span><span class="w"> </span><span class="nv">without</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">using</span>
<span class="k">Random</span><span class="w"> </span><span class="nv">randomDirection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="k">Random</span><span class="ss">()</span><span class="c1">;</span>
<span class="nv">int</span><span class="w"> </span><span class="nv">directionChoice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">randomDirection</span>.<span class="k">Next</span><span class="ss">(</span><span class="mi">1</span>,<span class="w"> </span><span class="mi">5</span><span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p>If you want to use Unity's, call <code>Range</code> instead of <code>Next</code>:</p>
<div class="code"><pre class="code literal-block">int directionChoice = randomDirection.Range(1, 5);
</pre></div>

<p>Note that "max" is <em>exclusive</em> in both cases, so you should use 5 to return
values between 1 and 4 (including 4)</p>
<p>To get random <code>float</code>:</p>
<div class="code"><pre class="code literal-block"><span class="k">Random</span>.<span class="nv">NextDouble</span><span class="ss">()</span><span class="c1">; //careful, this is between 0 and 1, you have to scale it</span>
<span class="o">//</span><span class="nv">Also</span>,<span class="w"> </span><span class="nv">this</span><span class="w"> </span><span class="nv">one</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">exclusive</span><span class="w"> </span><span class="nv">on</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">upper</span><span class="w"> </span><span class="nv">bound</span><span class="w"> </span><span class="ss">(</span><span class="mi">1</span><span class="ss">)</span>

<span class="k">Random</span>.<span class="nv">Range</span><span class="ss">(</span><span class="mi">1</span><span class="nv">f</span>,<span class="w"> </span><span class="mi">4</span><span class="nv">f</span><span class="ss">)</span><span class="c1">; //max is inclusive now</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-check-if-one-game-object-can-see-another/" class="u-url">How can I check if one game object can see another?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-check-if-one-game-object-can-see-another/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-28T03:34:53+08:00" itemprop="datePublished" title="2023-02-28 03:34">2023-02-28 03:34</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have an object, that is facing a particular direction with (for instance) a
45 degree field of view, and a limit view range. I have done all the initial
checks (Quadtree node, and distance), but now I need to check if a particular
object is within that view cone, (In this case to decide only to follow that
object if we can see it).</p>
<p>Apart from casting a ray for each degree from <code>Direction - (FieldOfView / 2)</code>
to <code>Direction + (FieldOfView / 2)</code> (I am doing that at the moment and it is
horrible), what is the best way to do this visibility check?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Compute the angle between your view direction (understood as a vector) and the
vector that starts at you and ends at the object. If it falls under
FieldOfView/2, you can view the object.</p>
<p>That angle is:</p>
<div class="code"><pre class="code literal-block">arccos(scalarProduct(viewDirection, (object - you)) / (norm(viewDirection)*norm(object - you))).
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Compute the angle between your view direction (understood as a vector) and the
vector that starts at you and ends at the object. If it falls under
FieldOfView/2, you can view the object.</p>
<p>That angle is:</p>
<div class="code"><pre class="code literal-block">arccos(scalarProduct(viewDirection, (object - you)) / (norm(viewDirection)*norm(object - you))).
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-check-find-if-an-item-is-in-a-deque/" class="u-url">How to check/find if an item is in a DEQUE</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-check-find-if-an-item-is-in-a-deque/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-28T03:34:32+08:00" itemprop="datePublished" title="2023-02-28 03:34">2023-02-28 03:34</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>In the code above the else-if part gives me error. The meaning of else-if is:
<strong><em>else if the value of x isn't in the deque then...</em></strong></p>
<div class="code"><pre class="code literal-block"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;ctime&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stack&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;deque&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;algorithm&gt;</span>
<span class="n">deque</span><span class="o">&lt;</span><span class="kr">char</span><span class="o">&gt;</span><span class="w"> </span><span class="n">visited</span><span class="p">;</span>
<span class="kr">char</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>

<span class="w">   </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="o">==</span><span class="n">target</span><span class="p">[</span><span class="mi">4</span><span class="p">][</span><span class="mi">4</span><span class="p">])</span>
<span class="w">   </span><span class="p">{</span>
<span class="w">           </span><span class="n">visited</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">x</span><span class="p">);</span><span class="w">            </span>
<span class="w">           </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">visited</span><span class="p">);</span>
<span class="w">   </span><span class="p">}</span>
<span class="w">   </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nf">find</span><span class="p">(</span><span class="n">visited</span><span class="p">.</span><span class="nf">begin</span><span class="p">(),</span><span class="w"> </span><span class="n">visited</span><span class="p">.</span><span class="nf">end</span><span class="p">(),</span><span class="w"> </span><span class="n">x</span><span class="p">)))</span>
<span class="w">   </span><span class="p">{</span>
<span class="w">       </span><span class="n">visited</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
<span class="w">   </span><span class="p">}</span>
</pre></div>

<p><strong>ERROR</strong> :no operator "!" matches these operands</p>
<p><br><br></p>
<h2>Answer</h2>
<p>If <code>std::find</code> cannot find the specific value, it will return the "end" of the
iterator pair.</p>
<div class="code"><pre class="code literal-block"><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">std</span>::<span class="nv">find</span><span class="ss">(</span><span class="nv">visited</span>.<span class="nv">begin</span><span class="ss">()</span>,<span class="w"> </span><span class="nv">visited</span>.<span class="k">end</span><span class="ss">()</span>,<span class="w"> </span><span class="nv">x</span><span class="ss">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">visited</span>.<span class="k">end</span><span class="ss">())</span>
{
<span class="w">   </span><span class="o">//</span><span class="w"> </span><span class="nv">process</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">case</span><span class="w"> </span><span class="nv">where</span><span class="w"> </span><span class="s1">'x'</span><span class="w"> </span><span class="nv">_is_not_</span><span class="w"> </span><span class="nv">found</span><span class="w"> </span><span class="nv">between</span>
<span class="w">   </span><span class="o">//</span><span class="w"> </span><span class="nv">visited</span>.<span class="nv">begin</span><span class="ss">()</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="nv">visited</span>.<span class="k">end</span><span class="ss">()</span>
</pre></div>

<hr>
<p>Edit: If you want to know if <em>x</em> <strong>is</strong> in the deque, just reverse the
condition.</p>
<div class="code"><pre class="code literal-block"><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">std</span>::<span class="nv">find</span><span class="ss">(</span><span class="nv">visited</span>.<span class="nv">begin</span><span class="ss">()</span>,<span class="w"> </span><span class="nv">visited</span>.<span class="k">end</span><span class="ss">()</span>,<span class="w"> </span><span class="nv">x</span><span class="ss">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nv">visited</span>.<span class="k">end</span><span class="ss">())</span>
{
<span class="w">   </span><span class="o">//</span><span class="w"> </span><span class="nv">process</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">case</span><span class="w"> </span><span class="nv">where</span><span class="w"> </span><span class="s1">'x'</span><span class="w"> </span><span class="nv">_is_</span><span class="w"> </span><span class="nv">found</span><span class="w"> </span><span class="nv">between</span>
<span class="w">   </span><span class="o">//</span><span class="w"> </span><span class="nv">visited</span>.<span class="nv">begin</span><span class="ss">()</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="nv">visited</span>.<span class="k">end</span><span class="ss">()</span>
</pre></div>

<hr>
<p>Edit: If you are unfamiliar with the iterator concept in C++, please read
Understanding Iterators in the STL.</p>
<p><br></p>
<h3>Suggest</h3>
<p>For those who visited this page to simply know how to check/find elements in
dequeue. A quick solution is as below:</p>
<p>Use <strong>std::find()</strong> method:</p>
<div class="code"><pre class="code literal-block"><span class="nv">numbers</span>.<span class="nv">push_back</span><span class="ss">(</span><span class="mi">10</span><span class="ss">)</span><span class="c1">;</span>
<span class="nv">numbers</span>.<span class="nv">push_front</span><span class="ss">(</span><span class="mi">20</span><span class="ss">)</span><span class="c1">;</span>
<span class="nv">numbers</span>.<span class="nv">push_back</span><span class="ss">(</span><span class="mi">30</span><span class="ss">)</span><span class="c1">;</span>
<span class="nv">numbers</span>.<span class="nv">push_front</span><span class="ss">(</span><span class="mi">40</span><span class="ss">)</span><span class="c1">;</span>

<span class="nv">deque</span><span class="o">&lt;</span><span class="nv">int</span><span class="o">&gt;</span>::<span class="nv">iterator</span><span class="w"> </span><span class="nv">it</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">find</span><span class="ss">(</span><span class="nv">numbers</span>.<span class="nv">begin</span><span class="ss">()</span>,<span class="w"> </span><span class="nv">numbers</span>.<span class="k">end</span><span class="ss">()</span>,<span class="w"> </span><span class="mi">20</span><span class="ss">)</span><span class="c1">;</span>
<span class="k">if</span><span class="ss">(</span><span class="nv">it</span><span class="o">!=</span><span class="nv">numbers</span>.<span class="k">end</span><span class="ss">())</span>
{
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="k">Do</span><span class="w"> </span><span class="nv">your</span><span class="w"> </span><span class="nv">stuff</span>.<span class="w"> </span><span class="nv">Here</span><span class="w"> </span><span class="nv">I</span><span class="w"> </span><span class="nv">am</span><span class="w"> </span><span class="nv">simply</span><span class="w"> </span><span class="nv">deleting</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">element</span>
<span class="w">    </span><span class="nv">it</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">numbers</span>.<span class="nv">erase</span><span class="ss">(</span><span class="nv">it</span><span class="ss">)</span><span class="c1">; </span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="nv">Note</span>:<span class="w"> </span><span class="nv">Always</span><span class="w"> </span><span class="nv">save</span><span class="w"> </span><span class="nv">returned</span><span class="w"> </span><span class="nv">iterator</span><span class="w"> </span><span class="nv">from</span><span class="w"> </span><span class="nv">erase</span><span class="o">/</span><span class="nv">insert</span><span class="w"> </span><span class="nv">method</span>,<span class="w"> </span><span class="nv">otherwise</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="nv">iterator</span><span class="w"> </span><span class="nv">will</span><span class="w"> </span><span class="nv">point</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">deleted</span><span class="w"> </span><span class="nv">resource</span>,<span class="w"> </span><span class="nv">which</span><span class="w"> </span><span class="nv">leads</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">undefined</span><span class="w"> </span><span class="nv">behaviour</span>.
}
</pre></div>

<p>Hope this will help somebody. :)</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1425.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1423.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

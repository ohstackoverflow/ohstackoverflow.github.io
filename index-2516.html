<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2516) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2516.html">
<link rel="prev" href="index-2517.html" type="text/html">
<link rel="next" href="index-2515.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/global-constants-file-in-swift/" class="u-url">Global constants file in Swift</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/global-constants-file-in-swift/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T21:56:59+08:00" itemprop="datePublished" title="2023-03-04 21:56">2023-03-04 21:56</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>In my Objective-C projects I often use a global constants file to store things
like notification names and keys for <code>NSUserDefaults</code>. It looks something like
this:</p>
<div class="code"><pre class="code literal-block"><span class="k">@interface</span> <span class="nc">GlobalConstants</span> : <span class="bp">NSObject</span>

<span class="k">extern</span><span class="w"> </span><span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="n">someNotification</span><span class="p">;</span>

<span class="k">@end</span>

<span class="k">@implementation</span> <span class="nc">GlobalConstants</span>

<span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="n">someNotification</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">@"aaaaNotification"</span><span class="p">;</span>

<span class="k">@end</span>
</pre></div>

<p>How do I do exactly the same thing in Swift?</p>
<p><br><br></p>
<h2>Answer</h2>
<h2>Structs as namespace</h2>
<p>IMO the best way to deal with that type of constants is to create a Struct.</p>
<div class="code"><pre class="code literal-block">struct Constants {
    static let someNotification = "TEST"
}
</pre></div>

<p>Then, for example, call it like this in your code:</p>
<div class="code"><pre class="code literal-block">print(Constants.someNotification)
</pre></div>

<h2>Nesting</h2>
<p>If you want a better organization I advise you to use segmented sub structs</p>
<div class="code"><pre class="code literal-block">struct K {
    struct NotificationKey {
        static let Welcome = "kWelcomeNotif"
    }

    struct Path {
        static let Documents = NSSearchPathForDirectoriesInDomains(.DocumentDirectory, .UserDomainMask, true)[0] as String
        static let Tmp = NSTemporaryDirectory()
    }
}
</pre></div>

<p>Then you can just use for instance <code>K.Path.Tmp</code></p>
<h2>Real world example</h2>
<p>This is just a technical solution, the actual implementation in my code looks
more like:</p>
<div class="code"><pre class="code literal-block">struct GraphicColors {

    static let grayDark = UIColor(0.2)
    static let grayUltraDark = UIColor(0.1)

    static let brown  = UIColor(rgb: 126, 99, 89)
    // etc.
}
</pre></div>

<p>and</p>
<div class="code"><pre class="code literal-block"><span class="k">enum</span><span class="w"> </span><span class="n">Env</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">String</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">case</span><span class="w"> </span><span class="n">debug</span>
<span class="w">    </span><span class="n">case</span><span class="w"> </span><span class="n">testFlight</span>
<span class="w">    </span><span class="n">case</span><span class="w"> </span><span class="n">appStore</span>
<span class="p">}</span>

<span class="n">struct</span><span class="w"> </span><span class="n">App</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">struct</span><span class="w"> </span><span class="n">Folders</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">documents</span><span class="p">:</span><span class="w"> </span><span class="n">NSString</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NSSearchPathForDirectoriesInDomains</span><span class="p">(</span><span class="o">.</span><span class="n">documentDirectory</span><span class="p">,</span><span class="w"> </span><span class="o">.</span><span class="n">userDomainMask</span><span class="p">,</span><span class="w"> </span><span class="bp">true</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">NSString</span>
<span class="w">        </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">temporary</span><span class="p">:</span><span class="w"> </span><span class="n">NSString</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NSTemporaryDirectory</span><span class="p">()</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">NSString</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">version</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">String</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Bundle</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">object</span><span class="p">(</span><span class="n">forInfoDictionaryKey</span><span class="p">:</span><span class="w"> </span><span class="s2">"CFBundleShortVersionString"</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="o">!</span><span class="w"> </span><span class="nb nb-Type">String</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">build</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">String</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Bundle</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">object</span><span class="p">(</span><span class="n">forInfoDictionaryKey</span><span class="p">:</span><span class="w"> </span><span class="s2">"CFBundleVersion"</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="o">!</span><span class="w"> </span><span class="nb nb-Type">String</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">private</span><span class="w"> </span><span class="n">because</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="s1">'appConfiguration'</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">preferred</span><span class="o">.</span>
<span class="w">    </span><span class="n">private</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">isTestFlight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Bundle</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">appStoreReceiptURL</span><span class="err">?</span><span class="o">.</span><span class="n">lastPathComponent</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"sandboxReceipt"</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="n">debug</span><span class="w"> </span><span class="n">statements</span><span class="o">.</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="k">var</span><span class="w"> </span><span class="n">isDebug</span><span class="p">:</span><span class="w"> </span><span class="n">Bool</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">#if DEBUG</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="bp">true</span>
<span class="w">        </span><span class="c1">#else</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="bp">false</span>
<span class="w">        </span><span class="c1">#endif</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="k">var</span><span class="w"> </span><span class="n">env</span><span class="p">:</span><span class="w"> </span><span class="n">Env</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">isDebug</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="o">.</span><span class="n">debug</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">isTestFlight</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="o">.</span><span class="n">testFlight</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="o">.</span><span class="n">appStore</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p><strong>I am abit late to the party.</strong></p>
<p><em>No matter here's how i manage the constants file so that it makes more sense
to developers while writing code in swift.</em></p>
<p><strong>FOR URL:</strong></p>
<div class="code"><pre class="code literal-block"><span class="o">//</span><span class="n">URLConstants</span><span class="o">.</span><span class="n">swift</span>

<span class="w">  </span><span class="n">struct</span><span class="w"> </span><span class="n">APPURL</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="n">private</span><span class="w"> </span><span class="n">struct</span><span class="w"> </span><span class="n">Domains</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">Dev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"http://test-dev.cloudapp.net"</span>
<span class="w">        </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">UAT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"http://test-UAT.com"</span>
<span class="w">        </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">Local</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"192.145.1.1"</span>
<span class="w">        </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">QA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"testAddress.qa.com"</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">private</span><span class="w">  </span><span class="n">struct</span><span class="w"> </span><span class="n">Routes</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">Api</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"/api/mobile"</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">private</span><span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">Domain</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Domains</span><span class="o">.</span><span class="n">Dev</span>
<span class="w">    </span><span class="n">private</span><span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">Route</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Routes</span><span class="o">.</span><span class="n">Api</span>
<span class="w">    </span><span class="n">private</span><span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">BaseURL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Domain</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Route</span>

<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="k">var</span><span class="w"> </span><span class="n">FacebookLogin</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">String</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">BaseURL</span><span class="w">  </span><span class="o">+</span><span class="w"> </span><span class="s2">"/auth/facebook"</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p><strong>For CUSTOMFONTS:</strong></p>
<div class="code"><pre class="code literal-block"><span class="c1">//FontsConstants.swift</span>
<span class="nb">struct</span><span class="w"> </span><span class="n">FontNames</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">LatoName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">"Lato"</span>
<span class="w">    </span><span class="nb">struct</span><span class="w"> </span><span class="n">Lato</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">LatoBold</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">"Lato-Bold"</span>
<span class="w">        </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">LatoMedium</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">"Lato-Medium"</span>
<span class="w">        </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">LatoRegular</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">"Lato-Regular"</span>
<span class="w">        </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">LatoExtraBold</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">"Lato-ExtraBold"</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p><strong>FOR ALL THE KEYS USED IN APP</strong></p>
<div class="code"><pre class="code literal-block"><span class="c1">//KeyConstants.swift</span>
<span class="w">    </span><span class="nb">struct</span><span class="w"> </span><span class="n">Key</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">DeviceType</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">"iOS"</span>
<span class="w">        </span><span class="nb">struct</span><span class="w"> </span><span class="n">Beacon</span><span class="p">{</span>
<span class="w">            </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">ONEXUUID</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">"xxxx-xxxx-xxxx-xxxx"</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="nb">struct</span><span class="w"> </span><span class="n">UserDefaults</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">k_App_Running_FirstTime</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">"userRunningAppFirstTime"</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="nb">struct</span><span class="w"> </span><span class="n">Headers</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">Authorization</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">"Authorization"</span>
<span class="w">            </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">ContentType</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">"Content-Type"</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="nb">struct</span><span class="w"> </span><span class="n">Google</span><span class="p">{</span>
<span class="w">            </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">placesKey</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">"some key here"</span><span class="c1">//for photos</span>
<span class="w">            </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">serverKey</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">"some key here"</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="nb">struct</span><span class="w"> </span><span class="n">ErrorMessage</span><span class="p">{</span>
<span class="w">            </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">listNotFound</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">"ERROR_LIST_NOT_FOUND"</span>
<span class="w">            </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">validationError</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">"ERROR_VALIDATION"</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
</pre></div>

<p><strong>FOR COLOR CONSTANTS:</strong></p>
<div class="code"><pre class="code literal-block"><span class="c1">//ColorConstants.swift</span>
<span class="nb">struct</span><span class="w"> </span><span class="n">AppColor</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="n">private</span><span class="w"> </span><span class="nb">struct</span><span class="w"> </span><span class="n">Alphas</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">Opaque</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">CGFloat</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="w">        </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">SemiOpaque</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">CGFloat</span><span class="p">(</span><span class="mf">0.8</span><span class="p">)</span>
<span class="w">        </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">SemiTransparent</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">CGFloat</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
<span class="w">        </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">Transparent</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">CGFloat</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">appPrimaryColor</span><span class="w"> </span><span class="p">=</span><span class="w">  </span><span class="n">UIColor</span><span class="p">.</span><span class="n">white</span><span class="p">.</span><span class="n">withAlphaComponent</span><span class="p">(</span><span class="n">Alphas</span><span class="p">.</span><span class="n">SemiOpaque</span><span class="p">)</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">appSecondaryColor</span><span class="w"> </span><span class="p">=</span><span class="w">  </span><span class="n">UIColor</span><span class="p">.</span><span class="n">blue</span><span class="p">.</span><span class="n">withAlphaComponent</span><span class="p">(</span><span class="n">Alphas</span><span class="p">.</span><span class="n">Opaque</span><span class="p">)</span>

<span class="w">    </span><span class="nb">struct</span><span class="w"> </span><span class="n">TextColors</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">Error</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">AppColor</span><span class="p">.</span><span class="n">appSecondaryColor</span>
<span class="w">        </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">Success</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">UIColor</span><span class="p">(</span><span class="n">red</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1303</span><span class="p">,</span><span class="w"> </span><span class="n">green</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9915</span><span class="p">,</span><span class="w"> </span><span class="n">blue</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0233</span><span class="p">,</span><span class="w"> </span><span class="n">alpha</span><span class="p">:</span><span class="w"> </span><span class="n">Alphas</span><span class="p">.</span><span class="n">Opaque</span><span class="p">)</span><span class="w"> </span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nb">struct</span><span class="w"> </span><span class="n">TabBarColors</span><span class="p">{</span>
<span class="w">        </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">Selected</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">UIColor</span><span class="p">.</span><span class="n">white</span>
<span class="w">        </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">NotSelected</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">UIColor</span><span class="p">.</span><span class="nb">black</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nb">struct</span><span class="w"> </span><span class="n">OverlayColor</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">SemiTransparentBlack</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">UIColor</span><span class="p">.</span><span class="nb">black</span><span class="p">.</span><span class="n">withAlphaComponent</span><span class="p">(</span><span class="n">Alphas</span><span class="p">.</span><span class="n">Transparent</span><span class="p">)</span>
<span class="w">        </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">SemiOpaque</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">UIColor</span><span class="p">.</span><span class="nb">black</span><span class="p">.</span><span class="n">withAlphaComponent</span><span class="p">(</span><span class="n">Alphas</span><span class="p">.</span><span class="n">SemiOpaque</span><span class="p">)</span>
<span class="w">        </span><span class="k">static</span><span class="w"> </span><span class="n">let</span><span class="w"> </span><span class="n">demoOverlay</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">UIColor</span><span class="p">.</span><span class="nb">black</span><span class="p">.</span><span class="n">withAlphaComponent</span><span class="p">(</span><span class="mf">0.6</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>You can wrap these all files in a common group named <strong>Constants</strong> in your
Xcode Project.</p>
<p>And for more watch this video</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/when-should-i-use-gc-suppressfinalize/" class="u-url">When should I use GC.SuppressFinalize()?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/when-should-i-use-gc-suppressfinalize/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T21:55:14+08:00" itemprop="datePublished" title="2023-03-04 21:55">2023-03-04 21:55</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>In .NET, under which circumstances should I use <code>GC.SuppressFinalize()</code>?</p>
<p>What advantage(s) does using this method give me?</p>
<p><br><br></p>
<h2>Answer</h2>
<p><code>SuppressFinalize</code> should only be called by a class that has a finalizer. It's
informing the Garbage Collector (GC) that <code>this</code> object was cleaned up fully.</p>
<p>The recommended <code>IDisposable</code> pattern when you have a finalizer is:</p>
<div class="code"><pre class="code literal-block"><span class="nv">public</span><span class="w"> </span><span class="nv">class</span><span class="w"> </span><span class="nv">MyClass</span><span class="w"> </span>:<span class="w"> </span><span class="nv">IDisposable</span>
{
<span class="w">    </span><span class="nv">private</span><span class="w"> </span><span class="nv">bool</span><span class="w"> </span><span class="nv">disposed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">false</span><span class="c1">;</span>

<span class="w">    </span><span class="nv">protected</span><span class="w"> </span><span class="nv">virtual</span><span class="w"> </span><span class="nv">void</span><span class="w"> </span><span class="nv">Dispose</span><span class="ss">(</span><span class="nv">bool</span><span class="w"> </span><span class="nv">disposing</span><span class="ss">)</span>
<span class="w">    </span>{
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="o">!</span><span class="nv">disposed</span><span class="ss">)</span>
<span class="w">        </span>{
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">disposing</span><span class="ss">)</span>
<span class="w">            </span>{
<span class="w">                </span><span class="o">//</span><span class="w"> </span><span class="nv">called</span><span class="w"> </span><span class="nv">via</span><span class="w"> </span><span class="nv">myClass</span>.<span class="nv">Dispose</span><span class="ss">()</span>.<span class="w"> </span>
<span class="w">                </span><span class="o">//</span><span class="w"> </span><span class="nv">OK</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">use</span><span class="w"> </span><span class="nv">any</span><span class="w"> </span><span class="nv">private</span><span class="w"> </span><span class="nv">object</span><span class="w"> </span><span class="nv">references</span>
<span class="w">            </span>}
<span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="nv">Release</span><span class="w"> </span><span class="nv">unmanaged</span><span class="w"> </span><span class="nv">resources</span>.
<span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="nv">Set</span><span class="w"> </span><span class="nv">large</span><span class="w"> </span><span class="nv">fields</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">null</span>.<span class="w">                </span>
<span class="w">            </span><span class="nv">disposed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">true</span><span class="c1">;</span>
<span class="w">        </span>}
<span class="w">    </span>}

<span class="w">    </span><span class="nv">public</span><span class="w"> </span><span class="nv">void</span><span class="w"> </span><span class="nv">Dispose</span><span class="ss">()</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="nv">Implement</span><span class="w"> </span><span class="nv">IDisposable</span>
<span class="w">    </span>{
<span class="w">        </span><span class="nv">Dispose</span><span class="ss">(</span><span class="nv">true</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">        </span><span class="nv">GC</span>.<span class="nv">SuppressFinalize</span><span class="ss">(</span><span class="nv">this</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span>}

<span class="w">    </span><span class="o">~</span><span class="nv">MyClass</span><span class="ss">()</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">finalizer</span>
<span class="w">    </span>{
<span class="w">        </span><span class="nv">Dispose</span><span class="ss">(</span><span class="nv">false</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span>}
}
</pre></div>

<p>Normally, the CLR keeps tabs on objects with a finalizer when they are created
(making them more expensive to create). <code>SuppressFinalize</code> tells the GC that
the object was cleaned up properly and doesn't need to go onto the finalizer
queue. It looks like a C++ destructor, but doesn't act anything like one.</p>
<p>The <code>SuppressFinalize</code> optimization is not trivial, as your objects can live a
long time waiting on the finalizer queue. Don't be tempted to call
<code>SuppressFinalize</code> on other objects mind you. That's a serious defect waiting
to happen.</p>
<p>Design guidelines inform us that a finalizer isn't necessary if your object
implements <code>IDisposable</code>, but if you have a finalizer you should implement
<code>IDisposable</code> to allow deterministic cleanup of your class.</p>
<p>Most of the time you should be able to get away with <code>IDisposable</code> to clean up
resources. You should only need a finalizer when your object holds onto
unmanaged resources and you need to guarantee those resources are cleaned up.</p>
<p>Note: Sometimes coders will add a finalizer to debug builds of their own
<code>IDisposable</code> classes in order to test that code has disposed their
<code>IDisposable</code> object properly.</p>
<div class="code"><pre class="code literal-block"><span class="nv">public</span><span class="w"> </span><span class="nv">void</span><span class="w"> </span><span class="nv">Dispose</span><span class="ss">()</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="nv">Implement</span><span class="w"> </span><span class="nv">IDisposable</span>
{
<span class="w">    </span><span class="nv">Dispose</span><span class="ss">(</span><span class="nv">true</span><span class="ss">)</span><span class="c1">;</span>
#<span class="k">if</span><span class="w"> </span><span class="nv">DEBUG</span>
<span class="w">    </span><span class="nv">GC</span>.<span class="nv">SuppressFinalize</span><span class="ss">(</span><span class="nv">this</span><span class="ss">)</span><span class="c1">;</span>
#<span class="k">endif</span>
}

#<span class="k">if</span><span class="w"> </span><span class="nv">DEBUG</span>
<span class="o">~</span><span class="nv">MyClass</span><span class="ss">()</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">finalizer</span>
{
<span class="w">    </span><span class="nv">Dispose</span><span class="ss">(</span><span class="nv">false</span><span class="ss">)</span><span class="c1">;</span>
}
#<span class="k">endif</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p><code>SupressFinalize</code> tells the system that whatever work would have been done in
the finalizer has already been done, so the finalizer doesn't need to be
called. From the .NET docs:</p>
<blockquote>
<p>Objects that implement the IDisposable interface can call this method from
the IDisposable.Dispose method to prevent the garbage collector from calling
Object.Finalize on an object that does not require it.</p>
</blockquote>
<p>In general, most any <code>Dispose()</code> method should be able to call
<code>GC.SupressFinalize()</code>, because it should clean up everything that would be
cleaned up in the finalizer.</p>
<p><code>SupressFinalize</code> is just something that provides an optimization that allows
the system to not bother queuing the object to the finalizer thread. A
properly written <code>Dispose()</code>/finalizer should work properly with or without a
call to <code>GC.SupressFinalize()</code>.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/injecting-content-into-specific-sections-from-a-partial-view-asp-net-mvc-3-with-razor-view-engine/" class="u-url">Injecting content into specific sections from a partial view ASP.NET MVC 3 with Razor View Engine</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/injecting-content-into-specific-sections-from-a-partial-view-asp-net-mvc-3-with-razor-view-engine/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T21:53:42+08:00" itemprop="datePublished" title="2023-03-04 21:53">2023-03-04 21:53</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have this section defined in my <code>_Layout.cshtml</code></p>
<div class="code"><pre class="code literal-block"><span class="nv">@RenderSection</span><span class="p">(</span><span class="ss">"Scripts"</span><span class="p">,</span><span class="w"> </span><span class="k">false</span><span class="p">)</span>
</pre></div>

<p>I can easily use it from a view:</p>
<div class="code"><pre class="code literal-block"><span class="nv">@section</span><span class="w"> </span><span class="n">Scripts</span><span class="w"> </span><span class="err">{</span><span class="w"> </span>
<span class="w">    </span><span class="err">@</span><span class="o">*</span><span class="nf">Stuff</span><span class="w"> </span><span class="n">comes</span><span class="w"> </span><span class="n">here</span><span class="o">*</span><span class="err">@</span>
<span class="err">}</span>
</pre></div>

<p>What I'm struggling with is how to get some content injected inside this
section from a partial view.</p>
<p>Let's assume this is my view page:</p>
<div class="code"><pre class="code literal-block">@section<span class="w"> </span>Scripts<span class="w"> </span>{

<span class="w">    </span><span class="nt">&lt;script&gt;</span>
<span class="w">        </span>//code<span class="w"> </span>comes<span class="w"> </span>here
<span class="w">    </span><span class="nt">&lt;/script&gt;</span>
}

<span class="nt">&lt;div&gt;</span>
<span class="w">    </span>poo<span class="w"> </span>bar<span class="w"> </span>poo
<span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;div&gt;</span>
<span class="w">  </span>@Html.Partial("_myPartial")
<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p>I need to inject some content inside the <code>Scripts</code> section from <code>_myPartial</code>
partial view.</p>
<p>How can I do this?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Sections don't work in partial views and that's by design. You may use some
custom helpers to achieve similar behavior, but honestly it's the view's
responsibility to include the necessary scripts, not the partial's
responsibility. I would recommend using the @scripts section of the main view
to do that and not have the partials worry about scripts.</p>
<p><br></p>
<h3>Suggest</h3>
<p>This is quite a popular question, so I'll post my solution up.</p>
<p>I had the same problem and although it isn't ideal, I think it actually works
quite well and doesn't make the partial dependant on the view.</p>
<p>My scenario was that an action was accessible by itself but also could be
embedded into a a view - a google map.</p>
<p>In my <code>_layout</code> I have:</p>
<div class="code"><pre class="code literal-block"><span class="nv">@RenderSection</span><span class="p">(</span><span class="ss">"body_scripts"</span><span class="p">,</span><span class="w"> </span><span class="k">false</span><span class="p">)</span>
</pre></div>

<p>In my <code>index</code> view I have:</p>
<div class="code"><pre class="code literal-block"><span class="nv">@Html</span><span class="p">.</span><span class="k">Partial</span><span class="p">(</span><span class="ss">"Clients"</span><span class="p">)</span>
<span class="nv">@section</span><span class="w"> </span><span class="n">body_scripts</span>
<span class="err">{</span>
<span class="w">    </span><span class="nv">@Html</span><span class="p">.</span><span class="k">Partial</span><span class="p">(</span><span class="ss">"Clients_Scripts"</span><span class="p">)</span>
<span class="err">}</span>
</pre></div>

<p>In my <code>clients</code> view I have (all the map and assoc. html):</p>
<div class="code"><pre class="code literal-block"><span class="nv">@section</span><span class="w"> </span><span class="n">body_scripts</span>
<span class="err">{</span>
<span class="w">    </span><span class="nv">@Html</span><span class="p">.</span><span class="k">Partial</span><span class="p">(</span><span class="ss">"Clients_Scripts"</span><span class="p">)</span>
<span class="err">}</span>
</pre></div>

<p>My <code>Clients_Scripts</code> view contains the javascript to be rendered onto the
page.</p>
<p>This way my script is isolated and can be rendered into the page where
required, with the <code>body_scripts</code> tag only being rendered on the first
occurrence that the razor view engine finds it.</p>
<p>That lets me have everything separated - it's a solution that works quite well
for me, others may have issues with it, but it does patch the "by design"
hole.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2517.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2515.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

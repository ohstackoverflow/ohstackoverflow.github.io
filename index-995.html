<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 995) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-995.html">
<link rel="prev" href="index-996.html" type="text/html">
<link rel="next" href="index-994.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/are-the-put-delete-head-etc-methods-available-in-most-web-browsers/" class="u-url">Are the PUT, DELETE, HEAD, etc methods available in most web browsers?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/are-the-put-delete-head-etc-methods-available-in-most-web-browsers/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T21:58:22+08:00" itemprop="datePublished" title="2023-02-17 21:58">2023-02-17 21:58</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I've seen a couple questions around here like How to debug RESTful services,
which mentions:</p>
<blockquote>
<p>Unfortunately that same browser won't allow me to test HTTP PUT, DELETE, and
to a certain degree even HTTP POST.</p>
</blockquote>
<p>I've also heard that browsers support only GET and POST, from some other
sources like:</p>
<ul>
<li>http://www.packetizer.com/ws/rest.html</li>
<li>http://www.mail-archive.com/jmeter-user@jakarta.apache.org/msg13518.html</li>
<li>http://www.xml.com/cs/user/view/cs_msg/1098</li>
</ul>
<p>However, a few quick tests in Firefox show that sending <code>PUT</code> and <code>DELETE</code>
requests works as expected -- the <code>XMLHttpRequest</code> completes successfully, and
the request shows up in the server logs with the right method. Is there some
aspect to this I'm missing, such as cross-browser compatibility or non-obvious
limitations?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>No. The HTML 5 spec mentions:</p>
<blockquote>
<p>The method and formmethod content attributes are enumerated attributes with
the following keywords and states:</p>
<p>The keyword <strong>get</strong> , mapping to the state GET, indicating the HTTP GET
method. The GET method should only request and retrieve data and should have
no other effect.</p>
<p>The keyword <strong>post</strong> , mapping to the state POST, indicating the HTTP POST
method. The POST method requests that the server accept the submitted form's
data to be processed, which may result in an item being added to a database,
the creation of a new web page resource, the updating of the existing page,
or all of the mentioned outcomes.</p>
<p>The keyword <strong>dialog</strong> , mapping to the state dialog, indicating that
submitting the form is intended to close the dialog box in which the form
finds itself, if any, and otherwise not submit.</p>
<p>The invalid value default for these attributes is the GET state</p>
</blockquote>
<p>I.e. HTML forms only support <strong>GET</strong> and <strong>POST</strong> as HTTP request methods. A
workaround for this is to tunnel other methods through POST by using a hidden
form field which is read by the server and the request dispatched accordingly.</p>
<p>However, <strong>GET</strong> , <strong>POST</strong> , <strong>PUT</strong> and <strong>DELETE</strong> <em>are</em> supported by the
implementations of XMLHttpRequest (i.e. AJAX calls) in all the major web
browsers (IE, Firefox, Safari, Chrome, Opera).</p>
<p><br></p>
<h3>Suggest</h3>
<p>HTML forms support GET and POST. (HTML5 at one point added PUT/DELETE, but
those were dropped.)</p>
<p>XMLHttpRequest supports every method, including CHICKEN, though some method
names are matched against case-insensitively (methods are case-sensitive per
HTTP) and some method names are not supported at all for security reasons
(e.g. CONNECT).</p>
<p>Fetch API also supports any method except for CONNECT, TRACE, and TRACK, which
are forbidden for security reasons.</p>
<p>Browsers are slowly converging on the rules specified by XMLHttpRequest, but
as the other comment pointed out there are still some differences.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/echo-n-prints-n/" class="u-url">"echo -n" prints "-n"</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/echo-n-prints-n/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T21:57:48+08:00" itemprop="datePublished" title="2023-02-17 21:57">2023-02-17 21:57</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a problem with <code>echo</code> in my script:</p>
<div class="code"><pre class="code literal-block">echo -n "Some string..."
</pre></div>

<p>prints</p>
<div class="code"><pre class="code literal-block">-n Some string...
</pre></div>

<p>and moves to the next line. In the console it's working correcly without
newline:</p>
<div class="code"><pre class="code literal-block">Some string...
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>There are multiple versions of the <code>echo</code> command, with different behaviors.
Apparently the shell used for your script uses a version that doesn't
recognize <code>-n</code>.</p>
<p>The <code>printf</code> command has much more consistent behavior. <code>echo</code> is fine for
simple things like <code>echo hello</code>, but I suggest using <code>printf</code> for anything
more complicated.</p>
<p>What system are you on, and what shell does your script use?</p>
<p><br></p>
<h3>Suggest</h3>
<p><code>bash</code> has a "built-in" command called "echo":</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span><span class="nb">type</span><span class="w"> </span><span class="nb">echo</span>
<span class="nb">echo</span><span class="w"> </span>is<span class="w"> </span>a<span class="w"> </span>shell<span class="w"> </span><span class="nb">builtin</span>
</pre></div>

<p>Additionally, there is an "echo" command that is a proper executable (that is,
the shell forks and execs <code>/bin/echo</code>, as opposed to interpreting <code>echo</code> and
executing it):</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>ls<span class="w"> </span>-l<span class="w"> </span>/bin/echo
-rwxr-xr-x<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">22856</span><span class="w"> </span>Jul<span class="w"> </span><span class="m">21</span><span class="w">  </span><span class="m">2011</span><span class="w"> </span>/bin/echo
</pre></div>

<p>The behavior of either <code>echo</code>'s with respect to <code>\c</code> and <code>-n</code> varies. Your
best bet is to use <code>printf</code>, which is available on four different *NIX flavors
that I looked at:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span><span class="nb">printf</span><span class="w"> </span><span class="s2">"a line without trailing linefeed"</span>
$<span class="w"> </span><span class="nb">printf</span><span class="w"> </span><span class="s2">"a line with trailing linefeed\n"</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-related-name-used-for/" class="u-url">What is related_name used for?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-related-name-used-for/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T21:57:20+08:00" itemprop="datePublished" title="2023-02-17 21:57">2023-02-17 21:57</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What is the <code>related_name</code> argument useful for on <code>ManyToManyField</code> and
<code>ForeignKey</code> fields? For example, given the following code, what is the effect
of <code>related_name='maps'</code>?</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span> <span class="nb">Map</span>(<span class="n">db</span>.<span class="n">Model</span>):
    <span class="n">members</span> = <span class="n">models</span>.<span class="n">ManyToManyField</span>(<span class="n">User</span>, <span class="n">related_name</span>=<span class="s">'maps'</span>,
                                     <span class="n">verbose_name</span>=<span class="n">_</span>(<span class="s">'members'</span>))
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>The <code>related_name</code> attribute specifies the name of the reverse relation from
the <code>User</code> model back to your model.</p>
<p>If you don't specify a <code>related_name</code>, Django automatically creates one using
the name of your model with the suffix <code>_set</code>, for instance
<code>User.map_set.all()</code>.</p>
<p>If you <em>do</em> specify, e.g. <code>related_name=maps</code> on the <code>User</code> model,
<code>User.map_set</code> will still work, but the <code>User.maps.</code> syntax is obviously a bit
cleaner and less clunky; so for example, if you had a user object
<code>current_user</code>, you could use <code>current_user.maps.all()</code> to get all instances
of your <code>Map</code> model that have a relation to <code>current_user</code>.</p>
<p>The Django documentation has more details.</p>
<p><br></p>
<h3>Suggest</h3>
<p>To add to existing answer - related name is a must in case there 2 FKs in the
model that point to the same table. For example in case of Bill of material</p>
<div class="code"><pre class="code literal-block"><span class="nv">@with_author</span><span class="w"> </span>
<span class="k">class</span><span class="w"> </span><span class="n">BOM</span><span class="p">(</span><span class="n">models</span><span class="p">.</span><span class="n">Model</span><span class="p">)</span><span class="err">:</span><span class="w"> </span>
<span class="w">    </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">models</span><span class="p">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span><span class="k">null</span><span class="o">=</span><span class="k">True</span><span class="p">,</span><span class="w"> </span><span class="n">blank</span><span class="o">=</span><span class="k">True</span><span class="p">)</span>
<span class="w">    </span><span class="n">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">models</span><span class="p">.</span><span class="n">TextField</span><span class="p">(</span><span class="k">null</span><span class="o">=</span><span class="k">True</span><span class="p">,</span><span class="w"> </span><span class="n">blank</span><span class="o">=</span><span class="k">True</span><span class="p">)</span>
<span class="w">    </span><span class="n">tomaterial</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">models</span><span class="p">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Material</span><span class="p">,</span><span class="w"> </span><span class="n">related_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'tomaterial'</span><span class="p">)</span>
<span class="w">    </span><span class="n">frommaterial</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">models</span><span class="p">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Material</span><span class="p">,</span><span class="w"> </span><span class="n">related_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'frommaterial'</span><span class="p">)</span>
<span class="w">    </span><span class="n">creation_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">models</span><span class="p">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">auto_now_add</span><span class="o">=</span><span class="k">True</span><span class="p">,</span><span class="w"> </span><span class="n">blank</span><span class="o">=</span><span class="k">True</span><span class="p">)</span>
<span class="w">    </span><span class="n">quantity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">models</span><span class="p">.</span><span class="n">DecimalField</span><span class="p">(</span><span class="n">max_digits</span><span class="o">=</span><span class="mi">19</span><span class="p">,</span><span class="w"> </span><span class="n">decimal_places</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>

<p>So when you will have to access this data you only can use related name</p>
<div class="code"><pre class="code literal-block"> bom = material.tomaterial.all().order_by('-creation_time')
</pre></div>

<p>It is not working otherwise (at least I was not able to skip the usage of
related name in case of 2 FK's to the same table.)</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-996.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-994.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

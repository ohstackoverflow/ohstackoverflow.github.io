<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 696) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-696.html">
<link rel="prev" href="index-697.html" type="text/html">
<link rel="next" href="index-695.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-you-pass-a-function-as-a-parameter-in-c/" class="u-url">How do you pass a function as a parameter in C?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-you-pass-a-function-as-a-parameter-in-c/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T13:32:46+08:00" itemprop="datePublished" title="2023-02-17 13:32">2023-02-17 13:32</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I want to create a function that performs a function passed by parameter on a
set of data. How do you pass a function as a parameter in C?</p>
<p><br><br></p>
<h2>Answer</h2>
<p><strong>Declaration</strong></p>
<p>A prototype for a function which takes a function parameter looks like the
following:</p>
<div class="code"><pre class="code literal-block"><span class="nb nb-Type">void</span><span class="w"> </span><span class="k">func</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="nb nb-Type">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">f</span><span class="p">)(</span><span class="nb nb-Type">int</span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
</pre></div>

<p>This states that the parameter <code>f</code> will be a pointer to a function which has a
<code>void</code> return type and which takes a single <code>int</code> parameter. The following
function (<code>print</code>) is an example of a function which could be passed to <code>func</code>
as a parameter because it is the proper type:</p>
<div class="code"><pre class="code literal-block">void print ( int x ) {
  printf("%d\n", x);
}
</pre></div>

<p><strong>Function Call</strong></p>
<p>When calling a function with a function parameter, the value passed must be a
pointer to a function. Use the function's name (without parentheses) for this:</p>
<div class="code"><pre class="code literal-block">func(print);
</pre></div>

<p>would call <code>func</code>, passing the print function to it.</p>
<p><strong>Function Body</strong></p>
<p>As with any parameter, <code>func</code> can now use the parameter's name in the function
body to access the value of the parameter. Let's say that <code>func</code> will apply
the function it is passed to the numbers 0-4. Consider, first, what the loop
would look like to call print directly:</p>
<div class="code"><pre class="code literal-block"><span class="k">for</span><span class="w"> </span><span class="ss">(</span><span class="w"> </span><span class="nv">int</span><span class="w"> </span><span class="nv">ctr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="c1">; ctr &lt; 5 ; ctr++ ) {</span>
<span class="w">  </span><span class="nv">print</span><span class="ss">(</span><span class="nv">ctr</span><span class="ss">)</span><span class="c1">;</span>
}
</pre></div>

<p>Since <code>func</code>'s parameter declaration says that <code>f</code> is the name for a pointer
to the desired function, we recall first that if <code>f</code> is a pointer then <code>*f</code> is
the thing that <code>f</code> points to (i.e. the function <code>print</code> in this case). As a
result, just replace every occurrence of print in the loop above with <code>*f</code>:</p>
<div class="code"><pre class="code literal-block"><span class="nb nb-Type">void</span><span class="w"> </span><span class="k">func</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="nb nb-Type">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">f</span><span class="p">)(</span><span class="nb nb-Type">int</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="nb nb-Type">int</span><span class="w"> </span><span class="n">ctr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="n">ctr</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="n">ctr</span><span class="o">++</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">(</span><span class="o">*</span><span class="n">f</span><span class="p">)(</span><span class="n">ctr</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>Source</p>
<p><br></p>
<h3>Suggest</h3>
<p>This question already has the answer for defining function pointers, however
they can get very messy, especially if you are going to be passing them around
your application. To avoid this unpleasantness I would recommend that you
typedef the function pointer into something more readable. For example.</p>
<div class="code"><pre class="code literal-block">typedef void (*functiontype)();
</pre></div>

<p>Declares a function that returns void and takes no arguments. To create a
function pointer to this type you can now do:</p>
<div class="code"><pre class="code literal-block"><span class="nb nb-Type">void</span><span class="w"> </span><span class="n">dosomething</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>

<span class="n">functiontype</span><span class="w"> </span><span class="k">func</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">dosomething</span><span class="p">;</span>
<span class="k">func</span><span class="p">();</span>
</pre></div>

<p>For a function that returns an int and takes a char you would do</p>
<div class="code"><pre class="code literal-block">typedef int (*functiontype2)(char);
</pre></div>

<p>and to use it</p>
<div class="code"><pre class="code literal-block"><span class="nv">int</span><span class="w"> </span><span class="nv">dosomethingwithchar</span><span class="ss">(</span><span class="nv">char</span><span class="w"> </span><span class="nv">a</span><span class="ss">)</span><span class="w"> </span>{<span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="c1">; }</span>

<span class="nv">functiontype2</span><span class="w"> </span><span class="nv">func2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="nv">dosomethingwithchar</span>
<span class="nv">int</span><span class="w"> </span><span class="nb">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">func2</span><span class="ss">(</span><span class="s1">'a'</span><span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p>There are libraries that can help with turning function pointers into nice
readable types. The boost function library is great and is well worth the
effort!</p>
<div class="code"><pre class="code literal-block"><span class="nt">boost</span><span class="p">::</span><span class="nd">function</span><span class="o">&lt;</span><span class="nt">int</span><span class="w"> </span><span class="o">(</span><span class="nt">char</span><span class="w"> </span><span class="nt">a</span><span class="o">)&gt;</span><span class="w"> </span><span class="nt">functiontype2</span><span class="o">;</span>
</pre></div>

<p>is so much nicer than the above.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-convert-decimal-to-double-in-c/" class="u-url">How to convert Decimal to Double in C#?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-convert-decimal-to-double-in-c/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T13:32:20+08:00" itemprop="datePublished" title="2023-02-17 13:32">2023-02-17 13:32</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I want to assign the decimal variable "trans" to the double variable
"this.Opacity".</p>
<div class="code"><pre class="code literal-block">decimal trans = trackBar1.Value / 5000;
this.Opacity = trans;
</pre></div>

<p>When I build the app it gives the following error:</p>
<blockquote>
<p>Cannot implicitly convert type decimal to double</p>
</blockquote>
<p><br><br></p>
<h2>Answer</h2>
<p>An explicit cast to <code>double</code> like this isn't necessary:</p>
<div class="code"><pre class="code literal-block">double trans = (double) trackBar1.Value / 5000.0;
</pre></div>

<p>Identifying the constant as <code>5000.0</code> (or as <code>5000d</code>) is sufficient:</p>
<div class="code"><pre class="code literal-block">double trans = trackBar1.Value / 5000.0;
double trans = trackBar1.Value / 5000d;
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p><strong>A more generic answer for the generic question "Decimal vs Double?":</strong></p>
<p><strong>Decimal</strong> is for monetary calculations to preserve precision. <strong>Double</strong> is
for scientific calculations that do not get affected by small differences.
Since Double is a type that is native to the CPU (internal representation is
stored in <em>base 2</em> ), calculations made with Double perform better than
Decimal (which is represented in <em>base 10</em> internally).</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-display-line-numbers-in-less-gnu/" class="u-url">How to display line numbers in 'less' (GNU)</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-display-line-numbers-in-less-gnu/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T13:31:58+08:00" itemprop="datePublished" title="2023-02-17 13:31">2023-02-17 13:31</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What is the command to make less display line numbers in the left column?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>From the manual:</p>
<blockquote>
<p>-N or --LINE-NUMBERS Causes a line number to be displayed at the beginning
of each line in the display.</p>
</blockquote>
<p>You can also toggle line numbers without quitting less by typing <code>-N</code>.</p>
<p>It is possible to toggle any of less's command line options in this way.</p>
<p><br></p>
<h3>Suggest</h3>
<p>You can also press <code>=</code> while <code>less</code> is open to just display (at the bottom of
the screen) information about the current screen, including line numbers, with
format:</p>
<div class="code"><pre class="code literal-block"><span class="nv">myfile</span>.<span class="nv">txt</span><span class="w"> </span><span class="nv">lines</span><span class="w"> </span><span class="mi">20530</span><span class="o">-</span><span class="mi">20585</span><span class="o">/</span><span class="mi">1816468</span><span class="w"> </span><span class="nv">byte</span><span class="w"> </span><span class="mi">1098945</span><span class="o">/</span><span class="mi">116097872</span><span class="w"> </span><span class="mi">1</span><span class="o">%</span><span class="w">  </span><span class="ss">(</span><span class="nv">press</span><span class="w"> </span><span class="k">RETURN</span><span class="ss">)</span>
</pre></div>

<p>So here for example, the screen was currently showing lines <code>20530-20585</code>, and
the files has a total of <code>1816468</code> lines.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-697.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-695.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

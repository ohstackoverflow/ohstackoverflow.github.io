<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2429) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2429.html">
<link rel="prev" href="index-2430.html" type="text/html">
<link rel="next" href="index-2428.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/convert-svg-to-image-jpeg-png-etc-in-the-browser/" class="u-url">Convert SVG to image (JPEG, PNG, etc.) in the browser</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/convert-svg-to-image-jpeg-png-etc-in-the-browser/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T15:28:43+08:00" itemprop="datePublished" title="2023-03-04 15:28">2023-03-04 15:28</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I want to convert SVG into bitmap images (like JPEG, PNG, etc.) through
JavaScript.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Here is how you can do it through JavaScript:</p>
<ol>
<li>Use the canvg JavaScript library to render the SVG image using Canvas: https://github.com/gabelerner/canvg</li>
<li>Capture a data URI encoded as a JPG (or PNG) from the Canvas, according to these instructions: Capture HTML Canvas as gif/jpg/png/pdf?</li>
</ol>
<p><br></p>
<h3>Suggest</h3>
<p>jbeard4 solution worked beautifully.</p>
<p>I'm using Raphael SketchPad to create an SVG. Link to the files in step 1.</p>
<p>For a Save button (id of svg is "editor", id of canvas is "canvas"):</p>
<div class="code"><pre class="code literal-block"><span class="o">$</span><span class="p">(</span><span class="s2">"#editor_save"</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">(</span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>

<span class="o">//</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">canvg</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">takes</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">svg</span><span class="w"> </span><span class="n">xml</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">converts</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">canvas</span>
<span class="n">canvg</span><span class="p">(</span><span class="s1">'canvas'</span><span class="p">,</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="s2">"#editor"</span><span class="p">)</span><span class="o">.</span><span class="n">html</span><span class="p">());</span>

<span class="o">//</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">canvas</span><span class="w"> </span><span class="n">calls</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">output</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">png</span>
<span class="k">var</span><span class="w"> </span><span class="n">canvas</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">document</span><span class="o">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s2">"canvas"</span><span class="p">);</span>
<span class="k">var</span><span class="w"> </span><span class="n">img</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">canvas</span><span class="o">.</span><span class="n">toDataURL</span><span class="p">(</span><span class="s2">"image/png"</span><span class="p">);</span>
<span class="o">//</span><span class="w"> </span><span class="n">do</span><span class="w"> </span><span class="n">what</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">want</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">base64</span><span class="p">,</span><span class="w"> </span><span class="n">write</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">screen</span><span class="p">,</span><span class="w"> </span><span class="n">post</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">server</span><span class="p">,</span><span class="w"> </span><span class="n">etc</span><span class="o">...</span>
<span class="p">});</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/when-to-use-es6-class-based-react-components-vs-functional-es6-react-components/" class="u-url">When to use ES6 class based React components vs. functional ES6 React components?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/when-to-use-es6-class-based-react-components-vs-functional-es6-react-components/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T15:27:20+08:00" itemprop="datePublished" title="2023-03-04 15:27">2023-03-04 15:27</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>After spending some time learning React I understand the difference between
the two main paradigms of creating components.</p>
<p>My question is when should I use which one and why? What are the
benefits/tradeoffs of one over the other?</p>
<hr>
<p>ES6 classes:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">React</span><span class="o">,</span> <span class="p">{</span> <span class="n">Component</span> <span class="p">}</span> <span class="kn">from</span> <span class="s1">'react'</span><span class="p">;</span>

<span class="n">export</span> <span class="k">class</span> <span class="nc">MyComponent</span> <span class="n">extends</span> <span class="n">Component</span> <span class="p">{</span>
  <span class="n">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<hr>
<p>Functional:</p>
<div class="code"><pre class="code literal-block">const<span class="w"> </span>MyComponent<span class="w"> </span>=<span class="w"> </span>(props)<span class="w"> </span>=&gt;<span class="w"> </span>{
<span class="w">    </span>return<span class="w"> </span>(
<span class="w">      </span><span class="nt">&lt;div&gt;&lt;/div&gt;</span>
<span class="w">    </span>);
}
</pre></div>

<p>I’m thinking functional whenever there is no state to be manipulated by that
component, but is that it?</p>
<p>I’m guessing if I use any life cycle methods, it might be best to go with a
class based component.</p>
<p><br><br></p>
<h2>Answer</h2>
<p><strong>New Answer</strong> : Much of the below was true, until the introduction of React
Hooks.</p>
<ul>
<li>
<p><code>componentDidUpdate</code> can be replicated with <code>useEffect(fn)</code>, where <code>fn</code> is the function to run upon rerendering.</p>
</li>
<li>
<p><code>componentDidMount</code> methods can be replicated with <code>useEffect(fn, [])</code>, where <code>fn</code> is the function to run upon rerendering, and <code>[]</code> is an array of objects for which the component will rerender, if and only if at least one has changed value since the previous render. As there are none, <code>useEffect()</code> runs once, on first mount.</p>
</li>
<li>
<p><code>state</code> can be replicated with <code>useState()</code>, whose return value can be destructured to a reference of the state and a function that can set the state (i.e., <code>const [state, setState] = useState(initState)</code>). An example might explain this more clearly:</p>
<p>const Counter = () =&gt; {
  const [count, setCount] = useState(0)</p>
<p>const increment = () =&gt; { 
    setCount(count + 1);
  }</p>
<p>return (
    </p>
<div>
      <p>Count: {count}</p>
      <button onclick="{increment}">+</button>
    </div>
  )
}
<p>default export Counter</p>
</li>
</ul>
<p>As a small aside, I have heard a number of people discussing not using
functional components for the performance reasons, specifically that</p>
<blockquote>
<p>"Event handling functions are redefined per render in functional components"</p>
</blockquote>
<p>Whilst true, please consider if your components are really rendering at such a
speed or volume that this would be worth concern.</p>
<p>If they are, you can prevent redefining functions using <code>useCallback</code> and
<code>useMemo</code> hooks. However, bear in mind that this may make your code
(microscopically) worse in performance.</p>
<p>But honestly, I have never heard of redefining functions being a bottleneck in
React apps. Premature optimisations are the root of all evil - worry about
this when it's a problem.</p>
<hr>
<p><strong>Old Answer:</strong> You have the right idea. Go with functional if your component
doesn't do much more than take in some props and render. You can think of
these as pure functions because they will always render and behave the same,
given the same props. Also, they don't care about lifecycle methods or have
their own internal state.</p>
<p>Because they're lightweight, writing these simple components as functional
components is pretty standard.</p>
<p>If your components need more functionality, like keeping state, use classes
instead.</p>
<p>More info: https://facebook.github.io/react/docs/reusable-
components.html#es6-classes</p>
<p><br></p>
<h3>Suggest</h3>
<p><strong>UPDATE Jan 2023</strong></p>
<p>TLDR; Functions are the best way to create components. <code>React.Component</code> is a
legacy API.</p>
<p>"We recommend to define components as functions instead of classes."</p>
<p>"Class components are still supported by React, but we don’t recommend using
them in new code."</p>
<p>https://beta.reactjs.org/reference/react/Component</p>
<p><strong>UPDATE March 2019</strong></p>
<p>Building on what was stated in my original answer:</p>
<blockquote>
<p>Are there any fundamental differences between React functions and classes at
all? Of course, there are — in the mental model.</p>
</blockquote>
<p>https://overreacted.io/how-are-function-components-different-from-classes/</p>
<p><strong>UPDATE Feb 2019:</strong></p>
<p>With the introduction of React hooks, it seems as though the React teams wants
us to use functional components whenever possible (which better follows
JavaScript's functional nature).</p>
<p>Their motivation:</p>
<blockquote>
<ol>
<li>It’s hard to reuse stateful logic between components.</li>
<li>Complex components become hard to understand.</li>
<li>Classes confuse both people and machines.
</li>
</ol>
</blockquote>
<p>A functional component with hooks can do almost everything a class component
can do, without any of the draw backs mentions above.</p>
<p>I recommend using them as soon as you are able.</p>
<p><strong>Original Answer</strong></p>
<p>Functional components aren't any more lightweight than class based components,
"they perform exactly as classes." -
https://github.com/facebook/react/issues/5677#issuecomment-241190513</p>
<p>The above link is a little dated, but React 16.7.0's documentation says that
functional and class components:</p>
<blockquote>
<p>are equivalent from React’s point of view</p>
</blockquote>
<p>https://reactjs.org/docs/components-and-props.html#stateless-functions</p>
<p>There is essentially no difference between a functional component and a class
component that just implements the render method, other than the syntax.</p>
<p>In the future (quoting the above link):</p>
<blockquote>
<p>we [React] might add such optimizations</p>
</blockquote>
<p>If you're trying to boost performance by eliminating unnecessary renders, both
approaches provide support. <code>memo</code> for functional components and
<code>PureComponent</code> for classes.</p>
<p>https://reactjs.org/docs/react-api.html#reactmemo</p>
<p>https://reactjs.org/docs/react-api.html#reactpurecomponent</p>
<p>It's really up to you. If you want less boilerplate, go functional. If you
love functional programming and don't like classes, go functional. If you want
consistency between all components in your codebase, go with classes. If
you're tired of refactoring from functional to class based components when you
need something like <code>state</code>, go with classes.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-the-realm-in-basic-authentication/" class="u-url">What is the "realm" in basic authentication</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-the-realm-in-basic-authentication/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T15:26:08+08:00" itemprop="datePublished" title="2023-03-04 15:26">2023-03-04 15:26</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm setting up basic authentication on a php site and found this page on the
php manual showing the set up. What does "realm" mean here in the header?</p>
<div class="code"><pre class="code literal-block"><span class="nt">header</span><span class="o">(</span><span class="s1">'WWW-Authenticate: Basic realm="My Realm"'</span><span class="o">);</span>
</pre></div>

<p>Is it the page page being requested?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>From RFC 1945 (HTTP/1.0) and RFC 2617 (HTTP Authentication referenced by
HTTP/1.1)</p>
<blockquote>
<p>The realm attribute (case-insensitive) is required for all authentication
schemes which issue a challenge. The realm value (case-sensitive), in
combination with the canonical root URL of the server being accessed,
defines the protection space. These realms allow the protected resources on
a server to be partitioned into a set of protection spaces, each with its
own authentication scheme and/or authorization database. The realm value is
a string, generally assigned by the origin server, which may have additional
semantics specific to the authentication scheme.</p>
</blockquote>
<p>In short, pages in the same realm should share credentials. If your
credentials work for a page with the realm <em>"My Realm"</em> , it should be assumed
that the same username and password combination should work for another page
with the same realm.</p>
<p><br></p>
<h3>Suggest</h3>
<p>A realm can be seen as an area (not a particular page, it could be a group of
pages) for which the credentials are used; this is also the string that will
be shown when the browser pops up the login window, e.g.</p>
<blockquote>
<p>Please enter your username and password for <code>&lt;realm name&gt;</code>:</p>
</blockquote>
<p>When the realm changes, the browser may show another popup window if it
doesn't have credentials for that particular realm.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2430.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2428.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

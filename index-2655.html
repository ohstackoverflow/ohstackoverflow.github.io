<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2655) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2655.html">
<link rel="prev" href="index-2656.html" type="text/html">
<link rel="next" href="index-2654.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/cross-platform-way-of-getting-temp-directory-in-python/" class="u-url">Cross-platform way of getting temp directory in Python</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/cross-platform-way-of-getting-temp-directory-in-python/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T08:02:09+08:00" itemprop="datePublished" title="2023-03-05 08:02">2023-03-05 08:02</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is there a cross-platform way of getting the path to the <em><code>temp</code></em> directory in
Python 2.6?</p>
<p>For example, under Linux that would be <code>/tmp</code>, while under XP <code>C:\Documents
and settings\[user]\Application settings\Temp</code>.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>That would be the tempfile module.</p>
<p>It has functions to get the temporary directory, and also has some shortcuts
to create temporary files and directories in it, either named or unnamed.</p>
<p>Example:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">tempfile</span>

<span class="nb">print</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">gettempdir</span><span class="p">()</span> <span class="c1"># prints the current temporary directory</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">TemporaryFile</span><span class="p">()</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">'something on temporaryfile'</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="c1"># return to beginning of file</span>
<span class="nb">print</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span> <span class="c1"># reads data back from the file</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span> <span class="c1"># temporary file is automatically deleted here</span>
</pre></div>

<p>For completeness, here's how it searches for the temporary directory,
according to the documentation:</p>
<ol>
<li>The directory named by the <code>TMPDIR</code> environment variable.</li>
<li>The directory named by the <code>TEMP</code> environment variable.</li>
<li>The directory named by the <code>TMP</code> environment variable.</li>
<li>A platform-specific location: <ul>
<li>On <em>RiscOS</em> , the directory named by the <code>Wimp$ScrapDir</code> environment variable.</li>
<li>On <em>Windows</em> , the directories <code>C:\TEMP</code>, <code>C:\TMP</code>, <code>\TEMP</code>, and <code>\TMP</code>, in that order.</li>
<li>On all other platforms, the directories <code>/tmp</code>, <code>/var/tmp</code>, and <code>/usr/tmp</code>, in that order.</li>
</ul>
</li>
<li>As a last resort, the current working directory.</li>
</ol>
<p><br></p>
<h3>Suggest</h3>
<p>This should do what you want:</p>
<div class="code"><pre class="code literal-block">print(tempfile.gettempdir())
</pre></div>

<p>For me on my Windows box, I get:</p>
<div class="code"><pre class="code literal-block">c:\temp
</pre></div>

<p>and on my Linux box I get:</p>
<div class="code"><pre class="code literal-block">/tmp
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-should-i-use-servlets-and-ajax/" class="u-url">How should I use servlets and Ajax?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-should-i-use-servlets-and-ajax/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T08:00:47+08:00" itemprop="datePublished" title="2023-03-05 08:00">2023-03-05 08:00</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Whenever I print something inside the servlet and call it by the webbrowser,
it returns a new page containing that text. Is there a way to print the text
in the current page using Ajax?</p>
<p>I'm very new to web applications and servlets.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Indeed, the keyword is "Ajax": <em>Asynchronous JavaScript and XML</em>. However,
last years it's more than often <em>Asynchronous JavaScript and JSON</em>. Basically,
you let JavaScript execute an asynchronous HTTP request and update the HTML
DOM tree based on the response data.</p>
<p>Since it's pretty tedious work to make it to work across all browsers
(especially Internet Explorer versus others), there are plenty of JavaScript
libraries out which simplifies this in single functions and covers as many as
possible browser-specific bugs/quirks under the hoods, such as jQuery,
Prototype, Mootools. Since jQuery is most popular these days, I'll use it in
the below examples.</p>
<h2>Kickoff example returning <code>String</code> as plain text</h2>
<p>Create a <code>/some.jsp</code> like below (note: the code snippets in this answer
doesn't expect the JSP file being placed in a subfolder, if you do so, alter
servlet URL accordingly from <code>"someservlet"</code> to
<code>"${pageContext.request.contextPath}/someservlet"</code>; it's merely omitted from
the code snippets for brevity):</p>
<div class="code"><pre class="code literal-block"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">"en"</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>SO question 4112686<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">"http://code.jquery.com/jquery-latest.min.js"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="w">            </span><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="w"> </span><span class="s2">"#somebutton"</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// When HTML DOM "click" event is invoked on element with ID "somebutton", execute the following function...</span>
<span class="w">                </span><span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">"someservlet"</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">responseText</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">   </span><span class="c1">// Execute Ajax GET request on URL of "someservlet" and execute the following function with Ajax response text...</span>
<span class="w">                    </span><span class="nx">$</span><span class="p">(</span><span class="s2">"#somediv"</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">responseText</span><span class="p">);</span><span class="w">           </span><span class="c1">// Locate HTML DOM element with ID "somediv" and set its text content with the response text.</span>
<span class="w">                </span><span class="p">});</span>
<span class="w">            </span><span class="p">});</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">id</span><span class="o">=</span><span class="s">"somebutton"</span><span class="p">&gt;</span>press here<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">"somediv"</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>

<p>Create a servlet with a <code>doGet()</code> method which look like this:</p>
<div class="code"><pre class="code literal-block"><span class="nv">@Override</span>
<span class="n">protected</span><span class="w"> </span><span class="n">void</span><span class="w"> </span><span class="n">doGet</span><span class="p">(</span><span class="n">HttpServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">HttpServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">)</span><span class="w"> </span><span class="n">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="nc">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">"some text"</span><span class="p">;</span>

<span class="w">    </span><span class="n">response</span><span class="p">.</span><span class="n">setContentType</span><span class="p">(</span><span class="ss">"text/plain"</span><span class="p">);</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="k">Set</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">jQuery</span><span class="w"> </span><span class="n">knows</span><span class="w"> </span><span class="n">what</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">expect</span><span class="p">.</span>
<span class="w">    </span><span class="n">response</span><span class="p">.</span><span class="n">setCharacterEncoding</span><span class="p">(</span><span class="ss">"UTF-8"</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">You</span><span class="w"> </span><span class="n">want</span><span class="w"> </span><span class="n">world</span><span class="w"> </span><span class="n">domination</span><span class="p">,</span><span class="w"> </span><span class="n">huh</span><span class="vm">?</span>
<span class="w">    </span><span class="n">response</span><span class="p">.</span><span class="n">getWriter</span><span class="p">().</span><span class="k">write</span><span class="p">(</span><span class="nc">text</span><span class="p">);</span><span class="w">       </span><span class="o">//</span><span class="w"> </span><span class="k">Write</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="n">body</span><span class="p">.</span>
<span class="err">}</span>
</pre></div>

<p>Map this servlet on an URL pattern of <code>/someservlet</code> or <code>/someservlet/*</code> as
below (obviously, the URL pattern is free to your choice, but you'd need to
alter the <code>someservlet</code> URL in JS code examples over all place accordingly):</p>
<div class="code"><pre class="code literal-block"><span class="n">package</span><span class="w"> </span><span class="n">com</span><span class="o">.</span><span class="n">example</span><span class="p">;</span>

<span class="err">@</span><span class="n">WebServlet</span><span class="p">(</span><span class="s2">"/someservlet/*"</span><span class="p">)</span>
<span class="n">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">SomeServlet</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="n">HttpServlet</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="o">...</span>
<span class="p">}</span>
</pre></div>

<p>Or, when you're not on a Servlet 3.0 compatible container yet (Tomcat 7,
GlassFish 3, JBoss AS 6, etc. or newer), then map it in <code>web.xml</code> the old
fashioned way (see also our Servlets wiki page):</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;servlet&gt;</span>
<span class="w">    </span><span class="nt">&lt;servlet-name&gt;</span>someservlet<span class="nt">&lt;/servlet-name&gt;</span>
<span class="w">    </span><span class="nt">&lt;servlet-class&gt;</span>com.example.SomeServlet<span class="nt">&lt;/servlet-class&gt;</span>
<span class="nt">&lt;/servlet&gt;</span>
<span class="nt">&lt;servlet-mapping&gt;</span>
<span class="w">    </span><span class="nt">&lt;servlet-name&gt;</span>someservlet<span class="nt">&lt;/servlet-name&gt;</span>
<span class="w">    </span><span class="nt">&lt;url-pattern&gt;</span>/someservlet/*<span class="nt">&lt;/url-pattern&gt;</span>
<span class="nt">&lt;/servlet-mapping&gt;</span>
</pre></div>

<p>Now open the http://localhost:8080/context/test.jsp in the browser and press
the button. You'll see that the content of the div get updated with the
servlet response.</p>
<h2>Returning <code>List&lt;String&gt;</code> as JSON</h2>
<p>With JSON instead of plaintext as response format you can even get some steps
further. It allows for more dynamics. First, you'd like to have a tool to
convert between Java objects and JSON strings. There are plenty of them as
well (see the bottom of this page for an overview). My personal favourite is
Google Gson. Download and put its JAR file in <code>/WEB-INF/lib</code> folder of your
web application.</p>
<p>Here's an example which displays <code>List&lt;String&gt;</code> as <code>&lt;ul&gt;&lt;li&gt;</code>. The servlet:</p>
<div class="code"><pre class="code literal-block"><span class="nv">@Override</span>
<span class="n">protected</span><span class="w"> </span><span class="n">void</span><span class="w"> </span><span class="n">doGet</span><span class="p">(</span><span class="n">HttpServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">HttpServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">)</span><span class="w"> </span><span class="n">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="w">    </span><span class="n">list</span><span class="p">.</span><span class="k">add</span><span class="p">(</span><span class="ss">"item1"</span><span class="p">);</span>
<span class="w">    </span><span class="n">list</span><span class="p">.</span><span class="k">add</span><span class="p">(</span><span class="ss">"item2"</span><span class="p">);</span>
<span class="w">    </span><span class="n">list</span><span class="p">.</span><span class="k">add</span><span class="p">(</span><span class="ss">"item3"</span><span class="p">);</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">json</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Gson</span><span class="p">().</span><span class="n">toJson</span><span class="p">(</span><span class="n">list</span><span class="p">);</span>

<span class="w">    </span><span class="n">response</span><span class="p">.</span><span class="n">setContentType</span><span class="p">(</span><span class="ss">"application/json"</span><span class="p">);</span>
<span class="w">    </span><span class="n">response</span><span class="p">.</span><span class="n">setCharacterEncoding</span><span class="p">(</span><span class="ss">"UTF-8"</span><span class="p">);</span>
<span class="w">    </span><span class="n">response</span><span class="p">.</span><span class="n">getWriter</span><span class="p">().</span><span class="k">write</span><span class="p">(</span><span class="n">json</span><span class="p">);</span>
<span class="err">}</span>
</pre></div>

<p>The JavaScript code:</p>
<div class="code"><pre class="code literal-block"><span class="o">$</span><span class="p">(</span><span class="n">document</span><span class="p">)</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="w"> </span><span class="s2">"#somebutton"</span><span class="p">,</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">When</span><span class="w"> </span><span class="n">HTML</span><span class="w"> </span><span class="n">DOM</span><span class="w"> </span><span class="s2">"click"</span><span class="w"> </span><span class="n">event</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">invoked</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">ID</span><span class="w"> </span><span class="s2">"somebutton"</span><span class="p">,</span><span class="w"> </span><span class="n">execute</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">function</span><span class="o">...</span>
<span class="w">    </span><span class="o">$.</span><span class="n">get</span><span class="p">(</span><span class="s2">"someservlet"</span><span class="p">,</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="n">responseJson</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Execute</span><span class="w"> </span><span class="n">Ajax</span><span class="w"> </span><span class="n">GET</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">URL</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="s2">"someservlet"</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">execute</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">Ajax</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="n">JSON</span><span class="o">...</span>
<span class="w">        </span><span class="k">var</span><span class="w"> </span><span class="o">$</span><span class="n">ul</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="s2">"&lt;ul&gt;"</span><span class="p">)</span><span class="o">.</span><span class="n">appendTo</span><span class="p">(</span><span class="o">$</span><span class="p">(</span><span class="s2">"#somediv"</span><span class="p">));</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">Create</span><span class="w"> </span><span class="n">HTML</span><span class="w"> </span><span class="o">&lt;</span><span class="n">ul</span><span class="o">&gt;</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">append</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">HTML</span><span class="w"> </span><span class="n">DOM</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">ID</span><span class="w"> </span><span class="s2">"somediv"</span><span class="o">.</span>
<span class="w">        </span><span class="o">$.</span><span class="n">each</span><span class="p">(</span><span class="n">responseJson</span><span class="p">,</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="n">item</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">Iterate</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">JSON</span><span class="w"> </span><span class="n">array</span><span class="o">.</span>
<span class="w">            </span><span class="o">$</span><span class="p">(</span><span class="s2">"&lt;li&gt;"</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">item</span><span class="p">)</span><span class="o">.</span><span class="n">appendTo</span><span class="p">(</span><span class="o">$</span><span class="n">ul</span><span class="p">);</span><span class="w">      </span><span class="o">//</span><span class="w"> </span><span class="n">Create</span><span class="w"> </span><span class="n">HTML</span><span class="w"> </span><span class="o">&lt;</span><span class="n">li</span><span class="o">&gt;</span><span class="w"> </span><span class="n">element</span><span class="p">,</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">currently</span><span class="w"> </span><span class="n">iterated</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">append</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">&lt;</span><span class="n">ul</span><span class="o">&gt;.</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">});</span>
<span class="p">});</span>
</pre></div>

<p>Do note that jQuery automatically parses the response as JSON and gives you
directly a JSON object (<code>responseJson</code>) as function argument when you set the
response content type to <code>application/json</code>. If you forget to set it or rely
on a default of <code>text/plain</code> or <code>text/html</code>, then the <code>responseJson</code> argument
wouldn't give you a JSON object, but a plain vanilla string and you'd need to
manually fiddle around with <code>JSON.parse()</code> afterwards, which is thus totally
unnecessary if you set the content type right in first place.</p>
<h2>Returning <code>Map&lt;String, String&gt;</code> as JSON</h2>
<p>Here's another example which displays <code>Map&lt;String, String&gt;</code> as <code>&lt;option&gt;</code>:</p>
<div class="code"><pre class="code literal-block"><span class="nv">@Override</span>
<span class="n">protected</span><span class="w"> </span><span class="n">void</span><span class="w"> </span><span class="n">doGet</span><span class="p">(</span><span class="n">HttpServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">HttpServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">)</span><span class="w"> </span><span class="n">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="k">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">LinkedHashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="w">    </span><span class="n">options</span><span class="p">.</span><span class="n">put</span><span class="p">(</span><span class="ss">"value1"</span><span class="p">,</span><span class="w"> </span><span class="ss">"label1"</span><span class="p">);</span>
<span class="w">    </span><span class="n">options</span><span class="p">.</span><span class="n">put</span><span class="p">(</span><span class="ss">"value2"</span><span class="p">,</span><span class="w"> </span><span class="ss">"label2"</span><span class="p">);</span>
<span class="w">    </span><span class="n">options</span><span class="p">.</span><span class="n">put</span><span class="p">(</span><span class="ss">"value3"</span><span class="p">,</span><span class="w"> </span><span class="ss">"label3"</span><span class="p">);</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">json</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Gson</span><span class="p">().</span><span class="n">toJson</span><span class="p">(</span><span class="n">options</span><span class="p">);</span>

<span class="w">    </span><span class="n">response</span><span class="p">.</span><span class="n">setContentType</span><span class="p">(</span><span class="ss">"application/json"</span><span class="p">);</span>
<span class="w">    </span><span class="n">response</span><span class="p">.</span><span class="n">setCharacterEncoding</span><span class="p">(</span><span class="ss">"UTF-8"</span><span class="p">);</span>
<span class="w">    </span><span class="n">response</span><span class="p">.</span><span class="n">getWriter</span><span class="p">().</span><span class="k">write</span><span class="p">(</span><span class="n">json</span><span class="p">);</span>
<span class="err">}</span>
</pre></div>

<p>And the JSP:</p>
<div class="code"><pre class="code literal-block"><span class="o">$</span><span class="p">(</span><span class="n">document</span><span class="p">)</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="w"> </span><span class="s2">"#somebutton"</span><span class="p">,</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">               </span><span class="o">//</span><span class="w"> </span><span class="n">When</span><span class="w"> </span><span class="n">HTML</span><span class="w"> </span><span class="n">DOM</span><span class="w"> </span><span class="s2">"click"</span><span class="w"> </span><span class="n">event</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">invoked</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">ID</span><span class="w"> </span><span class="s2">"somebutton"</span><span class="p">,</span><span class="w"> </span><span class="n">execute</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">function</span><span class="o">...</span>
<span class="w">    </span><span class="o">$.</span><span class="n">get</span><span class="p">(</span><span class="s2">"someservlet"</span><span class="p">,</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="n">responseJson</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">                 </span><span class="o">//</span><span class="w"> </span><span class="n">Execute</span><span class="w"> </span><span class="n">Ajax</span><span class="w"> </span><span class="n">GET</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">URL</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="s2">"someservlet"</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">execute</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">Ajax</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="n">JSON</span><span class="o">...</span>
<span class="w">        </span><span class="k">var</span><span class="w"> </span><span class="o">$</span><span class="n">select</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="s2">"#someselect"</span><span class="p">);</span><span class="w">                           </span><span class="o">//</span><span class="w"> </span><span class="n">Locate</span><span class="w"> </span><span class="n">HTML</span><span class="w"> </span><span class="n">DOM</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">ID</span><span class="w"> </span><span class="s2">"someselect"</span><span class="o">.</span>
<span class="w">        </span><span class="o">$</span><span class="n">select</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">"option"</span><span class="p">)</span><span class="o">.</span><span class="n">remove</span><span class="p">();</span><span class="w">                          </span><span class="o">//</span><span class="w"> </span><span class="n">Find</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">child</span><span class="w"> </span><span class="n">elements</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">tag</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="s2">"option"</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">remove</span><span class="w"> </span><span class="n">them</span><span class="w"> </span><span class="p">(</span><span class="n">just</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">prevent</span><span class="w"> </span><span class="n">duplicate</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">when</span><span class="w"> </span><span class="n">button</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">pressed</span><span class="w"> </span><span class="n">again</span><span class="p">)</span><span class="o">.</span>
<span class="w">        </span><span class="o">$.</span><span class="n">each</span><span class="p">(</span><span class="n">responseJson</span><span class="p">,</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">               </span><span class="o">//</span><span class="w"> </span><span class="n">Iterate</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">JSON</span><span class="w"> </span><span class="n">object</span><span class="o">.</span>
<span class="w">            </span><span class="o">$</span><span class="p">(</span><span class="s2">"&lt;option&gt;"</span><span class="p">)</span><span class="o">.</span><span class="n">val</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="n">appendTo</span><span class="p">(</span><span class="o">$</span><span class="n">select</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">Create</span><span class="w"> </span><span class="n">HTML</span><span class="w"> </span><span class="o">&lt;</span><span class="n">option</span><span class="o">&gt;</span><span class="w"> </span><span class="n">element</span><span class="p">,</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">currently</span><span class="w"> </span><span class="n">iterated</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">currently</span><span class="w"> </span><span class="n">iterated</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">finally</span><span class="w"> </span><span class="n">append</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">&lt;</span><span class="n">select</span><span class="o">&gt;.</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">});</span>
<span class="p">});</span>
</pre></div>

<p>with</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">"someselect"</span><span class="nt">&gt;&lt;/select&gt;</span>
</pre></div>

<h2>Returning <code>List&lt;Entity&gt;</code> as JSON</h2>
<p>Here's an example which displays <code>List&lt;Product&gt;</code> in a <code>&lt;table&gt;</code> where the
<code>Product</code> class has the properties <code>Long id</code>, <code>String name</code> and <code>BigDecimal
price</code>. The servlet:</p>
<div class="code"><pre class="code literal-block"><span class="nv">@Override</span>
<span class="n">protected</span><span class="w"> </span><span class="n">void</span><span class="w"> </span><span class="n">doGet</span><span class="p">(</span><span class="n">HttpServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">HttpServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">)</span><span class="w"> </span><span class="n">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">someProductService</span><span class="p">.</span><span class="n">list</span><span class="p">();</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">json</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Gson</span><span class="p">().</span><span class="n">toJson</span><span class="p">(</span><span class="n">products</span><span class="p">);</span>

<span class="w">    </span><span class="n">response</span><span class="p">.</span><span class="n">setContentType</span><span class="p">(</span><span class="ss">"application/json"</span><span class="p">);</span>
<span class="w">    </span><span class="n">response</span><span class="p">.</span><span class="n">setCharacterEncoding</span><span class="p">(</span><span class="ss">"UTF-8"</span><span class="p">);</span>
<span class="w">    </span><span class="n">response</span><span class="p">.</span><span class="n">getWriter</span><span class="p">().</span><span class="k">write</span><span class="p">(</span><span class="n">json</span><span class="p">);</span>
<span class="err">}</span>
</pre></div>

<p>The JS code:</p>
<div class="code"><pre class="code literal-block"><span class="o">$</span><span class="p">(</span><span class="n">document</span><span class="p">)</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="w"> </span><span class="s2">"#somebutton"</span><span class="p">,</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="n">When</span><span class="w"> </span><span class="n">HTML</span><span class="w"> </span><span class="n">DOM</span><span class="w"> </span><span class="s2">"click"</span><span class="w"> </span><span class="n">event</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">invoked</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">ID</span><span class="w"> </span><span class="s2">"somebutton"</span><span class="p">,</span><span class="w"> </span><span class="n">execute</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">function</span><span class="o">...</span>
<span class="w">    </span><span class="o">$.</span><span class="n">get</span><span class="p">(</span><span class="s2">"someservlet"</span><span class="p">,</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="n">responseJson</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">          </span><span class="o">//</span><span class="w"> </span><span class="n">Execute</span><span class="w"> </span><span class="n">Ajax</span><span class="w"> </span><span class="n">GET</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">URL</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="s2">"someservlet"</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">execute</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">Ajax</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="n">JSON</span><span class="o">...</span>
<span class="w">        </span><span class="k">var</span><span class="w"> </span><span class="o">$</span><span class="n">table</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="s2">"&lt;table&gt;"</span><span class="p">)</span><span class="o">.</span><span class="n">appendTo</span><span class="p">(</span><span class="o">$</span><span class="p">(</span><span class="s2">"#somediv"</span><span class="p">));</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">Create</span><span class="w"> </span><span class="n">HTML</span><span class="w"> </span><span class="o">&lt;</span><span class="n">table</span><span class="o">&gt;</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">append</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">HTML</span><span class="w"> </span><span class="n">DOM</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">ID</span><span class="w"> </span><span class="s2">"somediv"</span><span class="o">.</span>
<span class="w">        </span><span class="o">$.</span><span class="n">each</span><span class="p">(</span><span class="n">responseJson</span><span class="p">,</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="n">product</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Iterate</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">JSON</span><span class="w"> </span><span class="n">array</span><span class="o">.</span>
<span class="w">            </span><span class="o">$</span><span class="p">(</span><span class="s2">"&lt;tr&gt;"</span><span class="p">)</span><span class="o">.</span><span class="n">appendTo</span><span class="p">(</span><span class="o">$</span><span class="n">table</span><span class="p">)</span><span class="w">                     </span><span class="o">//</span><span class="w"> </span><span class="n">Create</span><span class="w"> </span><span class="n">HTML</span><span class="w"> </span><span class="o">&lt;</span><span class="n">tr</span><span class="o">&gt;</span><span class="w"> </span><span class="n">element</span><span class="p">,</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">currently</span><span class="w"> </span><span class="n">iterated</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">append</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">&lt;</span><span class="n">table</span><span class="o">&gt;.</span>
<span class="w">                </span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="o">$</span><span class="p">(</span><span class="s2">"&lt;td&gt;"</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">product</span><span class="o">.</span><span class="n">id</span><span class="p">))</span><span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="n">Create</span><span class="w"> </span><span class="n">HTML</span><span class="w"> </span><span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;</span><span class="w"> </span><span class="n">element</span><span class="p">,</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">currently</span><span class="w"> </span><span class="n">iterated</span><span class="w"> </span><span class="n">product</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">append</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">&lt;</span><span class="n">tr</span><span class="o">&gt;.</span>
<span class="w">                </span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="o">$</span><span class="p">(</span><span class="s2">"&lt;td&gt;"</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">product</span><span class="o">.</span><span class="n">name</span><span class="p">))</span><span class="w">      </span><span class="o">//</span><span class="w"> </span><span class="n">Create</span><span class="w"> </span><span class="n">HTML</span><span class="w"> </span><span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;</span><span class="w"> </span><span class="n">element</span><span class="p">,</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">currently</span><span class="w"> </span><span class="n">iterated</span><span class="w"> </span><span class="n">product</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">append</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">&lt;</span><span class="n">tr</span><span class="o">&gt;.</span>
<span class="w">                </span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="o">$</span><span class="p">(</span><span class="s2">"&lt;td&gt;"</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">product</span><span class="o">.</span><span class="n">price</span><span class="p">));</span><span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Create</span><span class="w"> </span><span class="n">HTML</span><span class="w"> </span><span class="o">&lt;</span><span class="n">td</span><span class="o">&gt;</span><span class="w"> </span><span class="n">element</span><span class="p">,</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="n">content</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">price</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">currently</span><span class="w"> </span><span class="n">iterated</span><span class="w"> </span><span class="n">product</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">append</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">&lt;</span><span class="n">tr</span><span class="o">&gt;.</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">});</span>
<span class="p">});</span>
</pre></div>

<h2>Returning <code>List&lt;Entity&gt;</code> as XML</h2>
<p>Here's an example which does effectively the same as previous example, but
then with XML instead of JSON. When using JSP as XML output generator you'll
see that it's less tedious to code the table and all. JSTL is this way much
more helpful as you can actually use it to iterate over the results and
perform server side data formatting. The servlet:</p>
<div class="code"><pre class="code literal-block"><span class="nv">@Override</span>
<span class="n">protected</span><span class="w"> </span><span class="n">void</span><span class="w"> </span><span class="n">doGet</span><span class="p">(</span><span class="n">HttpServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">HttpServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">)</span><span class="w"> </span><span class="n">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">someProductService</span><span class="p">.</span><span class="n">list</span><span class="p">();</span>

<span class="w">    </span><span class="n">request</span><span class="p">.</span><span class="n">setAttribute</span><span class="p">(</span><span class="ss">"products"</span><span class="p">,</span><span class="w"> </span><span class="n">products</span><span class="p">);</span>
<span class="w">    </span><span class="n">request</span><span class="p">.</span><span class="n">getRequestDispatcher</span><span class="p">(</span><span class="ss">"/WEB-INF/xml/products.jsp"</span><span class="p">).</span><span class="n">forward</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">);</span>
<span class="err">}</span>
</pre></div>

<p>The JSP code (note: if you put the <code>&lt;table&gt;</code> in a <code>&lt;jsp:include&gt;</code>, it may be
reusable elsewhere in a non-Ajax response):</p>
<div class="code"><pre class="code literal-block"><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="cp">&lt;%</span><span class="vi">@page</span><span class="w"> </span><span class="n">contentType</span><span class="o">=</span><span class="s2">"application/xml"</span><span class="w"> </span><span class="n">pageEncoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="cp">%&gt;</span>
<span class="cp">&lt;%</span><span class="vi">@taglib</span><span class="w"> </span><span class="n">prefix</span><span class="o">=</span><span class="s2">"c"</span><span class="w"> </span><span class="n">uri</span><span class="o">=</span><span class="s2">"http://java.sun.com/jsp/jstl/core"</span><span class="w"> </span><span class="cp">%&gt;</span>
<span class="cp">&lt;%</span><span class="vi">@taglib</span><span class="w"> </span><span class="n">prefix</span><span class="o">=</span><span class="s2">"fmt"</span><span class="w"> </span><span class="n">uri</span><span class="o">=</span><span class="s2">"http://java.sun.com/jsp/jstl/fmt"</span><span class="w"> </span><span class="cp">%&gt;</span>
<span class="nt">&lt;data&gt;</span>
<span class="w">    </span><span class="nt">&lt;table&gt;</span>
<span class="w">        </span><span class="nt">&lt;c:forEach</span><span class="w"> </span><span class="na">items=</span><span class="s">"${products}"</span><span class="w"> </span><span class="na">var=</span><span class="s">"product"</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;tr&gt;</span>
<span class="w">                </span><span class="nt">&lt;td&gt;</span>${product.id}<span class="nt">&lt;/td&gt;</span>
<span class="w">                </span><span class="nt">&lt;td&gt;&lt;c:out</span><span class="w"> </span><span class="na">value=</span><span class="s">"${product.name}"</span><span class="w"> </span><span class="nt">/&gt;&lt;/td&gt;</span>
<span class="w">                </span><span class="nt">&lt;td&gt;&lt;fmt:formatNumber</span><span class="w"> </span><span class="na">value=</span><span class="s">"${product.price}"</span><span class="w"> </span><span class="na">type=</span><span class="s">"currency"</span><span class="w"> </span><span class="na">currencyCode=</span><span class="s">"USD"</span><span class="w"> </span><span class="nt">/&gt;&lt;/td&gt;</span>
<span class="w">            </span><span class="nt">&lt;/tr&gt;</span>
<span class="w">        </span><span class="nt">&lt;/c:forEach&gt;</span>
<span class="w">    </span><span class="nt">&lt;/table&gt;</span>
<span class="nt">&lt;/data&gt;</span>
</pre></div>

<p>The JavaScript code:</p>
<div class="code"><pre class="code literal-block">$(document).on("click", "#somebutton", function() {             // When HTML DOM "click" event is invoked on element with ID "somebutton", execute the following function...
    $.get("someservlet", function(responseXml) {                // Execute Ajax GET request on URL of "someservlet" and execute the following function with Ajax response XML...
        $("#somediv").html($(responseXml).find("data").html()); // Parse XML, find &lt;data&gt; element and append its HTML to HTML DOM element with ID "somediv".
    });
});
</pre></div>

<p>You'll by now probably realize why XML is so much more powerful than JSON for
the particular purpose of updating a HTML document using Ajax. JSON is funny,
but after all generally only useful for so-called "public web services". MVC
frameworks like JSF use XML under the covers for their ajax magic.</p>
<h2>Ajaxifying an existing form</h2>
<p>You can use jQuery <code>$.serialize()</code> to easily ajaxify existing POST forms
without fiddling around with collecting and passing the individual form input
parameters. Assuming an existing form which works perfectly fine without
JavaScript/jQuery (and thus degrades gracefully when the end user has
JavaScript disabled):</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;form</span><span class="w"> </span><span class="na">id=</span><span class="s">"someform"</span><span class="w"> </span><span class="na">action=</span><span class="s">"someservlet"</span><span class="w"> </span><span class="na">method=</span><span class="s">"post"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;input</span><span class="w"> </span><span class="na">type=</span><span class="s">"text"</span><span class="w"> </span><span class="na">name=</span><span class="s">"foo"</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;input</span><span class="w"> </span><span class="na">type=</span><span class="s">"text"</span><span class="w"> </span><span class="na">name=</span><span class="s">"bar"</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;input</span><span class="w"> </span><span class="na">type=</span><span class="s">"text"</span><span class="w"> </span><span class="na">name=</span><span class="s">"baz"</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;input</span><span class="w"> </span><span class="na">type=</span><span class="s">"submit"</span><span class="w"> </span><span class="na">name=</span><span class="s">"submit"</span><span class="w"> </span><span class="na">value=</span><span class="s">"Submit"</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</pre></div>

<p>You can progressively enhance it with Ajax as below:</p>
<div class="code"><pre class="code literal-block"><span class="o">$</span><span class="p">(</span><span class="n">document</span><span class="p">)</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">"submit"</span><span class="p">,</span><span class="w"> </span><span class="s2">"#someform"</span><span class="p">,</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="n">event</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="o">$</span><span class="n">form</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="n">this</span><span class="p">);</span>

<span class="w">    </span><span class="o">$.</span><span class="n">post</span><span class="p">(</span><span class="o">$</span><span class="n">form</span><span class="o">.</span><span class="n">attr</span><span class="p">(</span><span class="s2">"action"</span><span class="p">),</span><span class="w"> </span><span class="o">$</span><span class="n">form</span><span class="o">.</span><span class="n">serialize</span><span class="p">(),</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="n">response</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="o">...</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">event</span><span class="o">.</span><span class="n">preventDefault</span><span class="p">();</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">Important</span><span class="o">!</span><span class="w"> </span><span class="n">Prevents</span><span class="w"> </span><span class="n">submitting</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">form</span><span class="o">.</span>
<span class="p">});</span>
</pre></div>

<p>You can in the servlet distinguish between normal requests and Ajax requests
as below:</p>
<div class="code"><pre class="code literal-block"><span class="nv">@Override</span>
<span class="n">protected</span><span class="w"> </span><span class="n">void</span><span class="w"> </span><span class="n">doPost</span><span class="p">(</span><span class="n">HttpServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">HttpServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">)</span><span class="w"> </span><span class="n">throws</span><span class="w"> </span><span class="n">ServletException</span><span class="p">,</span><span class="w"> </span><span class="n">IOException</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">request</span><span class="p">.</span><span class="n">getParameter</span><span class="p">(</span><span class="ss">"foo"</span><span class="p">);</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">bar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">request</span><span class="p">.</span><span class="n">getParameter</span><span class="p">(</span><span class="ss">"bar"</span><span class="p">);</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">baz</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">request</span><span class="p">.</span><span class="n">getParameter</span><span class="p">(</span><span class="ss">"baz"</span><span class="p">);</span>

<span class="w">    </span><span class="k">boolean</span><span class="w"> </span><span class="n">ajax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">"XMLHttpRequest"</span><span class="p">.</span><span class="k">equals</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">getHeader</span><span class="p">(</span><span class="ss">"X-Requested-With"</span><span class="p">));</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="p">...</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ajax</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="n">Handle</span><span class="w"> </span><span class="n">Ajax</span><span class="w"> </span><span class="p">(</span><span class="n">JSON</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nc">XML</span><span class="p">)</span><span class="w"> </span><span class="n">response</span><span class="p">.</span>
<span class="w">    </span><span class="err">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="n">Handle</span><span class="w"> </span><span class="n">regular</span><span class="w"> </span><span class="p">(</span><span class="n">JSP</span><span class="p">)</span><span class="w"> </span><span class="n">response</span><span class="p">.</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>
</pre></div>

<p>The jQuery Form plugin does less or more the same as above jQuery example, but
it has additional transparent support for <code>multipart/form-data</code> forms as
required by file uploads.</p>
<h2>Manually sending request parameters to servlet</h2>
<p>If you don't have a form at all, but just wanted to interact with the servlet
"in the background" whereby you'd like to POST some data, then you can use
jQuery <code>$.param()</code> to easily convert a JSON object to an URL-encoded query
string.</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">params</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">foo</span><span class="p">:</span><span class="w"> </span><span class="s2">"fooValue"</span><span class="p">,</span>
<span class="w">    </span><span class="n">bar</span><span class="p">:</span><span class="w"> </span><span class="s2">"barValue"</span><span class="p">,</span>
<span class="w">    </span><span class="n">baz</span><span class="p">:</span><span class="w"> </span><span class="s2">"bazValue"</span>
<span class="p">};</span>

<span class="o">$.</span><span class="n">post</span><span class="p">(</span><span class="s2">"someservlet"</span><span class="p">,</span><span class="w"> </span><span class="o">$.</span><span class="n">param</span><span class="p">(</span><span class="n">params</span><span class="p">),</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="n">response</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="o">...</span>
<span class="p">});</span>
</pre></div>

<p>The same <code>doPost()</code> method as shown here above can be reused. Do note that
above syntax also works with <code>$.get()</code> in jQuery and <code>doGet()</code> in servlet.</p>
<h2>Manually sending JSON object to servlet</h2>
<p>If you however intend to send the JSON object as a whole instead of as
individual request parameters for some reason, then you'd need to serialize it
to a string using <code>JSON.stringify()</code> (not part of jQuery) and instruct jQuery
to set request content type to <code>application/json</code> instead of (default)
<code>application/x-www-form-urlencoded</code>. This can't be done via <code>$.post()</code>
convenience function, but needs to be done via <code>$.ajax()</code> as below.</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">foo</span><span class="p">:</span><span class="w"> </span><span class="s2">"fooValue"</span><span class="p">,</span>
<span class="w">    </span><span class="n">bar</span><span class="p">:</span><span class="w"> </span><span class="s2">"barValue"</span><span class="p">,</span>
<span class="w">    </span><span class="n">baz</span><span class="p">:</span><span class="w"> </span><span class="s2">"bazValue"</span>
<span class="p">};</span>

<span class="o">$.</span><span class="n">ajax</span><span class="p">({</span>
<span class="w">    </span><span class="n">type</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="p">,</span>
<span class="w">    </span><span class="n">url</span><span class="p">:</span><span class="w"> </span><span class="s2">"someservlet"</span><span class="p">,</span>
<span class="w">    </span><span class="n">contentType</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="p">,</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">NOT</span><span class="w"> </span><span class="n">dataType</span><span class="o">!</span>
<span class="w">    </span><span class="n">data</span><span class="p">:</span><span class="w"> </span><span class="n">JSON</span><span class="o">.</span><span class="n">stringify</span><span class="p">(</span><span class="n">data</span><span class="p">),</span>
<span class="w">    </span><span class="n">success</span><span class="p">:</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="n">response</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="o">...</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">});</span>
</pre></div>

<p>Do note that a lot of starters mix <code>contentType</code> with <code>dataType</code>. The
<code>contentType</code> represents the type of the <strong>request</strong> body. The <code>dataType</code>
represents the (expected) type of the <strong>response</strong> body, which is usually
unnecessary as jQuery already autodetects it based on response's <code>Content-
Type</code> header.</p>
<p>Then, in order to process the JSON object in the servlet which isn't being
sent as individual request parameters but as a whole JSON string the above
way, you only need to manually parse the request body using a JSON tool
instead of using <code>getParameter()</code> the usual way. Namely, servlets don't
support <code>application/json</code> formatted requests, but only <code>application/x-www-
form-urlencoded</code> or <code>multipart/form-data</code> formatted requests. Gson also
supports parsing a JSON string into a JSON object.</p>
<div class="code"><pre class="code literal-block">JsonObject data = new Gson().fromJson(request.getReader(), JsonObject.class);
String foo = data.get("foo").getAsString();
String bar = data.get("bar").getAsString();
String baz = data.get("baz").getAsString();
// ...
</pre></div>

<p>Do note that this all is more clumsy than just using <code>$.param()</code>. Normally,
you want to use <code>JSON.stringify()</code> only if the target service is e.g. a JAX-RS
(RESTful) service which is for some reason only capable of consuming JSON
strings and not regular request parameters.</p>
<h2>Sending a redirect from servlet</h2>
<p>Important to realize and understand is that any <code>sendRedirect()</code> and
<code>forward()</code> call by the servlet on an ajax request would only forward or
redirect <em>the Ajax request itself</em> and not the main document/window where the
Ajax request originated. JavaScript/jQuery would in such case only retrieve
the redirected/forwarded response as <code>responseText</code> variable in the callback
function. If it represents a whole HTML page and not an Ajax-specific XML or
JSON response, then all you could do is to replace the current document with
it.</p>
<div class="code"><pre class="code literal-block">document.open();
document.write(responseText);
document.close();
</pre></div>

<p>Note that this doesn't change the URL as end user sees in browser's address
bar. So there are issues with bookmarkability. Therefore, it's much better to
just return an "instruction" for JavaScript/jQuery to perform a redirect
instead of returning the whole content of the redirected page. E.g., by
returning a boolean, or a URL.</p>
<div class="code"><pre class="code literal-block"><span class="nt">String</span><span class="w"> </span><span class="nt">redirectURL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"http://example.com"</span><span class="o">;</span>

<span class="nt">Map</span><span class="o">&lt;</span><span class="nt">String</span><span class="o">,</span><span class="w"> </span><span class="nt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="nt">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">new</span><span class="w"> </span><span class="nt">HashMap</span><span class="o">&lt;&gt;();</span>
<span class="nt">data</span><span class="p">.</span><span class="nc">put</span><span class="o">(</span><span class="s2">"redirect"</span><span class="o">,</span><span class="w"> </span><span class="nt">redirectURL</span><span class="o">);</span>
<span class="nt">String</span><span class="w"> </span><span class="nt">json</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">new</span><span class="w"> </span><span class="nt">Gson</span><span class="o">()</span><span class="p">.</span><span class="nc">toJson</span><span class="o">(</span><span class="nt">data</span><span class="o">);</span>

<span class="nt">response</span><span class="p">.</span><span class="nc">setContentType</span><span class="o">(</span><span class="s2">"application/json"</span><span class="o">);</span>
<span class="nt">response</span><span class="p">.</span><span class="nc">setCharacterEncoding</span><span class="o">(</span><span class="s2">"UTF-8"</span><span class="o">);</span>
<span class="nt">response</span><span class="p">.</span><span class="nc">getWriter</span><span class="o">()</span><span class="p">.</span><span class="nc">write</span><span class="o">(</span><span class="nt">json</span><span class="o">);</span>



<span class="nt">function</span><span class="o">(</span><span class="nt">responseJson</span><span class="o">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">if</span><span class="w"> </span><span class="err">(responseJson.redirect)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="err">window.location</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">responseJson.redirect</span><span class="p">;</span>
<span class="w">        </span><span class="err">return</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="o">...</span>
<span class="err">}</span>
</pre></div>

<h4>See also:</h4>
<ul>
<li><em>Call Servlet and invoke Java code from JavaScript along with parameters</em></li>
<li><em>Access Java / Servlet / JSP / JSTL / EL variables in JavaScript</em></li>
<li><em>How can I switch easily between an Ajax-based website and a basic HTML website?</em></li>
<li><em>How can I upload files to a server using JSP/Servlet and Ajax?</em></li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<p>The right way to update the page currently displayed in the user's browser
(without reloading it) is to have some code executing in the browser update
the page's DOM.</p>
<p>That code is typically JavaScript that is embedded in or linked from the HTML
page, hence the Ajax suggestion. (In fact, if we assume that the updated text
comes from the server via an HTTP request, this is classic Ajax.)</p>
<p>It is also possible to implement this kind of thing using some browser plugin
or add-on, though it may be tricky for a plugin to reach into the browser's
data structures to update the DOM. (Native code plugins normally write to some
graphics frame that is embedded in the page.)</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-escape-text-for-regular-expression-in-java/" class="u-url">How to escape text for regular expression in Java?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-escape-text-for-regular-expression-in-java/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T07:59:25+08:00" itemprop="datePublished" title="2023-03-05 07:59">2023-03-05 07:59</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Does Java have a built-in way to escape arbitrary text so that it can be
included in a regular expression? For example, if my users enter <code>"$5"</code>, I'd
like to match that exactly rather than a <code>"5"</code> after the end of input.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Since Java 1.5, yes:</p>
<div class="code"><pre class="code literal-block">Pattern.quote("$5");
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Difference between <code>Pattern.quote</code> and <code>Matcher.quoteReplacement</code> was not
clear to me before I saw following example</p>
<div class="code"><pre class="code literal-block">s.replaceFirst(Pattern.quote("text to replace"), 
               Matcher.quoteReplacement("replacement text"));
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2656.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2654.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 483) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-483.html">
<link rel="prev" href="index-484.html" type="text/html">
<link rel="next" href="index-482.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-parse-a-yaml-file-in-python/" class="u-url">How can I parse a YAML file in Python</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-parse-a-yaml-file-in-python/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T08:00:39+08:00" itemprop="datePublished" title="2023-02-17 08:00">2023-02-17 08:00</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How can I parse a YAML file in Python?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The easiest and purest method without relying on C headers is PyYaml
(documentation), which can be installed via <strong><code>pip install pyyaml</code></strong> :</p>
<div class="code"><table class="codetable">
<tr>
<td class="linenos linenodiv"><a href="posts/how-can-i-parse-a-yaml-file-in-python/#-1"><code data-line-number="1"></code></a></td>
<td class="code"><code><span class="ch">#!/usr/bin/env python</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="posts/how-can-i-parse-a-yaml-file-in-python/#-2"><code data-line-number="2"></code></a></td>
<td class="code"><code>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="posts/how-can-i-parse-a-yaml-file-in-python/#-3"><code data-line-number="3"></code></a></td>
<td class="code"><code><span class="kn">import</span> <span class="nn">yaml</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="posts/how-can-i-parse-a-yaml-file-in-python/#-4"><code data-line-number="4"></code></a></td>
<td class="code"><code>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="posts/how-can-i-parse-a-yaml-file-in-python/#-5"><code data-line-number="5"></code></a></td>
<td class="code"><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">"example.yaml"</span><span class="p">,</span> <span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">stream</span><span class="p">:</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="posts/how-can-i-parse-a-yaml-file-in-python/#-6"><code data-line-number="6"></code></a></td>
<td class="code"><code>    <span class="k">try</span><span class="p">:</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="posts/how-can-i-parse-a-yaml-file-in-python/#-7"><code data-line-number="7"></code></a></td>
<td class="code"><code>        <span class="nb">print</span><span class="p">(</span><span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">stream</span><span class="p">))</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="posts/how-can-i-parse-a-yaml-file-in-python/#-8"><code data-line-number="8"></code></a></td>
<td class="code"><code>    <span class="k">except</span> <span class="n">yaml</span><span class="o">.</span><span class="n">YAMLError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="posts/how-can-i-parse-a-yaml-file-in-python/#-9"><code data-line-number="9"></code></a></td>
<td class="code"><code>        <span class="nb">print</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
</code></td>
</tr>
</table></div>
<p>And that's it. A plain <code>yaml.load()</code> function also exists, but
<code>yaml.safe_load()</code> should always be preferred to avoid introducing the
possibility for arbitrary code execution. So unless you explicitly need the
arbitrary object serialization/deserialization use <code>safe_load</code>.</p>
<p>Note the PyYaml project supports versions up through the YAML 1.1
specification. If YAML 1.2 specification support is needed, see ruamel.yaml as
noted in this answer.</p>
<p>Also, you could also use a drop in replacement for pyyaml, that keeps your
yaml file ordered <em>the same way you had it</em> , called oyaml. View synk of oyaml
here</p>
<p><br></p>
<h3>Suggest</h3>
<h3>Read &amp; Write YAML files with Python 2+3 (and unicode)</h3>
<div class="code"><pre class="code literal-block"><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="kn">import</span> <span class="nn">yaml</span>
<span class="kn">import</span> <span class="nn">io</span>

<span class="c1"># Define data</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'a list'</span><span class="p">:</span> <span class="p">[</span>
        <span class="mi">1</span><span class="p">,</span> 
        <span class="mi">42</span><span class="p">,</span> 
        <span class="mf">3.141</span><span class="p">,</span> 
        <span class="mi">1337</span><span class="p">,</span> 
        <span class="s1">'help'</span><span class="p">,</span> 
        <span class="sa">u</span><span class="s1">'€'</span>
    <span class="p">],</span>
    <span class="s1">'a string'</span><span class="p">:</span> <span class="s1">'bla'</span><span class="p">,</span>
    <span class="s1">'another dict'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">'foo'</span><span class="p">:</span> <span class="s1">'bar'</span><span class="p">,</span>
        <span class="s1">'key'</span><span class="p">:</span> <span class="s1">'value'</span><span class="p">,</span>
        <span class="s1">'the answer'</span><span class="p">:</span> <span class="mi">42</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1"># Write YAML file</span>
<span class="k">with</span> <span class="n">io</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">'data.yaml'</span><span class="p">,</span> <span class="s1">'w'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">'utf8'</span><span class="p">)</span> <span class="k">as</span> <span class="n">outfile</span><span class="p">:</span>
    <span class="n">yaml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">outfile</span><span class="p">,</span> <span class="n">default_flow_style</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">allow_unicode</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Read YAML file</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">"data.yaml"</span><span class="p">,</span> <span class="s1">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">stream</span><span class="p">:</span>
    <span class="n">data_loaded</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">stream</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">data</span> <span class="o">==</span> <span class="n">data_loaded</span><span class="p">)</span>
</pre></div>

<h3>Created YAML file</h3>
<div class="code"><pre class="code literal-block">a list:
- 1
- 42
- 3.141
- 1337
- help
- €
a string: bla
another dict:
  foo: bar
  key: value
  the answer: 42
</pre></div>

<h3>Common file endings</h3>
<p><code>.yml</code> and <code>.yaml</code></p>
<h3>Alternatives</h3>
<ul>
<li>CSV: Super simple format (read &amp; write)</li>
<li>JSON: Nice for writing human-readable data; VERY commonly used (read &amp; write)</li>
<li>YAML: YAML is a superset of JSON, but easier to read (read &amp; write, comparison of JSON and YAML)</li>
<li>pickle: A Python serialization format (read &amp; write) ⚠️ Using pickle with files from 3rd parties poses an uncontrollable arbitrary code execution risk.</li>
<li>MessagePack (Python package): More compact representation (read &amp; write)</li>
<li>HDF5 (Python package): Nice for matrices (read &amp; write)</li>
<li>XML: exists too <em>sigh</em> (read &amp; write)</li>
</ul>
<p>For your application, the following might be important:</p>
<ul>
<li>Support by other programming languages</li>
<li>Reading / writing performance</li>
<li>Compactness (file size)</li>
</ul>
<p>See also: Comparison of data serialization formats</p>
<p>In case you are rather looking for a way to make configuration files, you
might want to read my short article Configuration files in Python</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-base-64-encoding-used-for/" class="u-url">What is base 64 encoding used for?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-base-64-encoding-used-for/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T08:00:10+08:00" itemprop="datePublished" title="2023-02-17 08:00">2023-02-17 08:00</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I've heard people talking about "base 64 encoding" here and there. What is it
used for?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>When you have some binary data that you want to ship across a network, you
generally don't do it by just streaming the bits and bytes over the wire in a
raw format. Why? because some media are made for streaming text. You never
know -- some protocols may interpret your binary data as control characters
(like a modem), or your binary data could be screwed up because the underlying
protocol might think that you've entered a special character combination (like
how FTP translates line endings).</p>
<p>So to get around this, people encode the binary data into characters. Base64
is one of these types of encodings.</p>
<p><strong>Why 64?</strong><br>
Because you can generally rely on the same 64 characters being present in many
character sets, and you can be reasonably confident that your data's going to
end up on the other side of the wire uncorrupted.</p>
<p><br></p>
<h3>Suggest</h3>
<p>It's basically a way of encoding arbitrary binary data in ASCII text. It takes
4 characters per 3 bytes of data, plus potentially a bit of padding at the
end.</p>
<p>Essentially each 6 bits of the input is encoded in a 64-character alphabet.
The "standard" alphabet uses A-Z, a-z, 0-9 and + and /, with = as a padding
character. There are URL-safe variants.</p>
<p>Wikipedia is a reasonably good source of more information.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-get-full-path-of-a-file/" class="u-url">How to get full path of a file?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-get-full-path-of-a-file/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T07:59:41+08:00" itemprop="datePublished" title="2023-02-17 07:59">2023-02-17 07:59</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is there an easy way I can print the full path of <code>file.txt</code> ?</p>
<div class="code"><pre class="code literal-block">file.txt = /nfs/an/disks/jj/home/dir/file.txt
</pre></div>

<p>The <code>&lt;command&gt;</code></p>
<div class="code"><pre class="code literal-block">dir&gt; &lt;command&gt; file.txt
</pre></div>

<p>should print</p>
<div class="code"><pre class="code literal-block">/nfs/an/disks/jj/home/dir/file.txt
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>Use <strong>readlink</strong> :</p>
<div class="code"><pre class="code literal-block">readlink -f file.txt
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>I suppose you are using Linux.</p>
<p>I found a utility called <code>realpath</code> in coreutils 8.15.</p>
<div class="code"><pre class="code literal-block">realpath -s file.txt
/data/ail_data/transformed_binaries/coreutils/test_folder_realpath/file.txt
</pre></div>

<p>Since the question is about how to get the full/absolute path of a file and
not about how to get the target of symlinks, use <code>-s</code> or <code>--no-symlinks</code> which
means don't expand symlinks.</p>
<p>As per @styrofoam-fly and @arch-standton comments, <code>realpath</code> alone doesn't
check for file existence, to solve this add the <code>e</code> argument: <code>realpath -e
file</code></p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-484.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-482.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 454) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-454.html">
<link rel="prev" href="index-455.html" type="text/html">
<link rel="next" href="index-453.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-one-change-the-timestamp-of-an-old-commit-in-git/" class="u-url">How can one change the timestamp of an old commit in Git?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-one-change-the-timestamp-of-an-old-commit-in-git/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T07:14:08+08:00" itemprop="datePublished" title="2023-02-17 07:14">2023-02-17 07:14</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>The answers to How to modify existing, unpushed commits? describe a way to
amend previous commit messages that haven't yet been pushed upstream. The new
messages inherit the timestamps of the original commits. This seems logical,
but is there a way to also re-set the times?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Use <code>git filter-branch</code> with an env filter that sets <code>GIT_AUTHOR_DATE</code> and
<code>GIT_COMMITTER_DATE</code> for the specific hash of the commit you're looking to
fix.</p>
<p>This will invalidate that and all future hashes.</p>
<p><strong>Example:</strong></p>
<p>If you wanted to change the dates of commit
<code>119f9ecf58069b265ab22f1f97d2b648faf932e0</code>, you could do so with something
like this:</p>
<div class="code"><pre class="code literal-block"><span class="n">git</span><span class="w"> </span><span class="n">filter</span><span class="o">-</span><span class="n">branch</span><span class="w"> </span><span class="o">--</span><span class="n">env</span><span class="o">-</span><span class="n">filter</span><span class="w"> </span>\
<span class="w">    </span><span class="s1">'if [ $GIT_COMMIT = 119f9ecf58069b265ab22f1f97d2b648faf932e0 ]</span>
<span class="w">     </span><span class="n">then</span>
<span class="w">         </span><span class="k">export</span><span class="w"> </span><span class="n">GIT_AUTHOR_DATE</span><span class="o">=</span><span class="s2">"Fri Jan 2 21:38:53 2009 -0800"</span>
<span class="w">         </span><span class="k">export</span><span class="w"> </span><span class="n">GIT_COMMITTER_DATE</span><span class="o">=</span><span class="s2">"Sat May 19 01:01:01 2007 -0700"</span>
<span class="w">     </span><span class="n">fi</span><span class="s1">'</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Use <code>git filter-branch</code> with an env filter that sets <code>GIT_AUTHOR_DATE</code> and
<code>GIT_COMMITTER_DATE</code> for the specific hash of the commit you're looking to
fix.</p>
<p>This will invalidate that and all future hashes.</p>
<p><strong>Example:</strong></p>
<p>If you wanted to change the dates of commit
<code>119f9ecf58069b265ab22f1f97d2b648faf932e0</code>, you could do so with something
like this:</p>
<div class="code"><pre class="code literal-block"><span class="n">git</span><span class="w"> </span><span class="n">filter</span><span class="o">-</span><span class="n">branch</span><span class="w"> </span><span class="o">--</span><span class="n">env</span><span class="o">-</span><span class="n">filter</span><span class="w"> </span>\
<span class="w">    </span><span class="s1">'if [ $GIT_COMMIT = 119f9ecf58069b265ab22f1f97d2b648faf932e0 ]</span>
<span class="w">     </span><span class="n">then</span>
<span class="w">         </span><span class="k">export</span><span class="w"> </span><span class="n">GIT_AUTHOR_DATE</span><span class="o">=</span><span class="s2">"Fri Jan 2 21:38:53 2009 -0800"</span>
<span class="w">         </span><span class="k">export</span><span class="w"> </span><span class="n">GIT_COMMITTER_DATE</span><span class="o">=</span><span class="s2">"Sat May 19 01:01:01 2007 -0700"</span>
<span class="w">     </span><span class="n">fi</span><span class="s1">'</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-does-t-double-ampersand-mean-in-c-11/" class="u-url">What does T&amp;&amp; (double ampersand) mean in C++11?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-does-t-double-ampersand-mean-in-c-11/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T07:13:35+08:00" itemprop="datePublished" title="2023-02-17 07:13">2023-02-17 07:13</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I've been looking into some of the new features of C++11 and one I've noticed
is the double ampersand in declaring variables, like <code>T&amp;&amp; var</code>.</p>
<p>For a start, what is this beast called? I wish Google would allow us to search
for punctuation like this.</p>
<p>What exactly does it <em>mean?</em></p>
<p>At first glance, it appears to be a double reference (like the C-style double
pointers <code>T** var</code>), but I'm having a hard time thinking of a use case for
that.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>It declares an rvalue reference (standards proposal doc).</p>
<p>Here's an introduction to rvalue references.</p>
<p>Here's a fantastic in-depth look at rvalue references by one of Microsoft's
standard library developers.</p>
<blockquote>
<p><em><strong>CAUTION:</strong> the linked article on MSDN ("Rvalue References: C++0x Features
in VC10, Part 2") is a very clear introduction to Rvalue references, but
makes statements about Rvalue references that were once true in the draft
C++11 standard, but are not true for the final one! Specifically, it says at
various points that rvalue references can bind to lvalues, which was once
true, but was changed.(e.g. int x; int &amp;&amp;rrx = x; no longer compiles in GCC)
– drewbarbs Jul 13 '14 at 16:12</em></p>
</blockquote>
<p>The biggest difference between a C++03 reference (now called an lvalue
reference in C++11) is that it can bind to an rvalue like a temporary without
having to be const. Thus, this syntax is now legal:</p>
<div class="code"><pre class="code literal-block">T&amp;&amp; r = T();
</pre></div>

<p>rvalue references primarily provide for the following:</p>
<p><strong>Move semantics</strong>. A move constructor and move assignment operator can now be
defined that takes an rvalue reference instead of the usual const-lvalue
reference. A move functions like a copy, except it is not obliged to keep the
source unchanged; in fact, it usually modifies the source such that it no
longer owns the moved resources. This is great for eliminating extraneous
copies, especially in standard library implementations.</p>
<p>For example, a copy constructor might look like this:</p>
<div class="code"><pre class="code literal-block"><span class="n">foo</span><span class="p">(</span><span class="n">foo</span><span class="w"> </span><span class="k">const</span><span class="o">&amp;</span><span class="w"> </span><span class="n">other</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">this</span><span class="o">-&gt;</span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">other</span><span class="o">.</span><span class="n">length</span><span class="p">;</span>
<span class="w">    </span><span class="n">this</span><span class="o">-&gt;</span><span class="n">ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="nb nb-Type">int</span><span class="p">[</span><span class="n">other</span><span class="o">.</span><span class="n">length</span><span class="p">];</span>
<span class="w">    </span><span class="n">copy</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span><span class="w"> </span><span class="n">other</span><span class="o">.</span><span class="n">ptr</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">other</span><span class="o">.</span><span class="n">length</span><span class="p">,</span><span class="w"> </span><span class="n">this</span><span class="o">-&gt;</span><span class="n">ptr</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

<p>If this constructor were passed a temporary, the copy would be unnecessary
because we know the temporary will just be destroyed; why not make use of the
resources the temporary already allocated? In C++03, there's no way to prevent
the copy as we cannot determine whether we were passed a temporary. In C++11,
we can overload a move constructor:</p>
<div class="code"><pre class="code literal-block"><span class="n">foo</span><span class="p">(</span><span class="n">foo</span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">other</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">   </span><span class="n">this</span><span class="o">-&gt;</span><span class="nf">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">other</span><span class="p">.</span><span class="nf">length</span><span class="p">;</span>
<span class="w">   </span><span class="n">this</span><span class="o">-&gt;</span><span class="n">ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">other</span><span class="p">.</span><span class="n">ptr</span><span class="p">;</span>
<span class="w">   </span><span class="n">other</span><span class="p">.</span><span class="nf">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">   </span><span class="n">other</span><span class="p">.</span><span class="n">ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nullptr</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>Notice the big difference here: the move constructor actually modifies its
argument. This would effectively "move" the temporary into the object being
constructed, thereby eliminating the unnecessary copy.</p>
<p>The move constructor would be used for temporaries and for non-const lvalue
references that are explicitly converted to rvalue references using the
<code>std::move</code> function (it just performs the conversion). The following code
both invoke the move constructor for <code>f1</code> and <code>f2</code>:</p>
<div class="code"><pre class="code literal-block"><span class="nt">foo</span><span class="w"> </span><span class="nt">f1</span><span class="o">((</span><span class="nt">foo</span><span class="o">()));</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="nt">Move</span><span class="w"> </span><span class="nt">a</span><span class="w"> </span><span class="nt">temporary</span><span class="w"> </span><span class="nt">into</span><span class="w"> </span><span class="nt">f1</span><span class="o">;</span><span class="w"> </span><span class="nt">temporary</span><span class="w"> </span><span class="nt">becomes</span><span class="w"> </span><span class="s2">"empty"</span>
<span class="nt">foo</span><span class="w"> </span><span class="nt">f2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">std</span><span class="p">::</span><span class="nd">move</span><span class="o">(</span><span class="nt">f1</span><span class="o">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="nt">Move</span><span class="w"> </span><span class="nt">f1</span><span class="w"> </span><span class="nt">into</span><span class="w"> </span><span class="nt">f2</span><span class="o">;</span><span class="w"> </span><span class="nt">f1</span><span class="w"> </span><span class="nt">is</span><span class="w"> </span><span class="nt">now</span><span class="w"> </span><span class="s2">"empty"</span>
</pre></div>

<p><strong>Perfect forwarding</strong>. rvalue references allow us to properly forward
arguments for templated functions. Take for example this factory function:</p>
<div class="code"><pre class="code literal-block"><span class="nt">template</span><span class="w"> </span><span class="o">&lt;</span><span class="nt">typename</span><span class="w"> </span><span class="nt">T</span><span class="o">,</span><span class="w"> </span><span class="nt">typename</span><span class="w"> </span><span class="nt">A1</span><span class="o">&gt;</span>
<span class="nt">std</span><span class="p">::</span><span class="nd">unique_ptr</span><span class="o">&lt;</span><span class="nt">T</span><span class="o">&gt;</span><span class="w"> </span><span class="nt">factory</span><span class="o">(</span><span class="nt">A1</span><span class="o">&amp;</span><span class="w"> </span><span class="nt">a1</span><span class="o">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="err">return</span><span class="w"> </span><span class="n">std</span><span class="p">:</span><span class="o">:</span><span class="n">unique_ptr</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">new</span><span class="w"> </span><span class="n">T</span><span class="p">(</span><span class="n">a1</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>

<p>If we called <code>factory&lt;foo&gt;(5)</code>, the argument will be deduced to be <code>int&amp;</code>,
which will not bind to a literal 5, even if <code>foo</code>'s constructor takes an
<code>int</code>. Well, we could instead use <code>A1 const&amp;</code>, but what if <code>foo</code> takes the
constructor argument by non-const reference? To make a truly generic factory
function, we would have to overload factory on <code>A1&amp;</code> and on <code>A1 const&amp;</code>. That
might be fine if factory takes 1 parameter type, but each additional parameter
type would multiply the necessary overload set by 2. That's very quickly
unmaintainable.</p>
<p>rvalue references fix this problem by allowing the standard library to define
a <code>std::forward</code> function that can properly forward lvalue/rvalue references.
For more information about how <code>std::forward</code> works, see this excellent
answer.</p>
<p>This enables us to define the factory function like this:</p>
<div class="code"><pre class="code literal-block"><span class="nt">template</span><span class="w"> </span><span class="o">&lt;</span><span class="nt">typename</span><span class="w"> </span><span class="nt">T</span><span class="o">,</span><span class="w"> </span><span class="nt">typename</span><span class="w"> </span><span class="nt">A1</span><span class="o">&gt;</span>
<span class="nt">std</span><span class="p">::</span><span class="nd">unique_ptr</span><span class="o">&lt;</span><span class="nt">T</span><span class="o">&gt;</span><span class="w"> </span><span class="nt">factory</span><span class="o">(</span><span class="nt">A1</span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nt">a1</span><span class="o">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="err">return</span><span class="w"> </span><span class="n">std</span><span class="p">:</span><span class="o">:</span><span class="n">unique_ptr</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">new</span><span class="w"> </span><span class="n">T</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">forward</span><span class="o">&lt;</span><span class="n">A1</span><span class="o">&gt;</span><span class="p">(</span><span class="n">a1</span><span class="p">)));</span>
<span class="p">}</span>
</pre></div>

<p>Now the argument's rvalue/lvalue-ness is preserved when passed to <code>T</code>'s
constructor. That means that if factory is called with an rvalue, <code>T</code>'s
constructor is called with an rvalue. If factory is called with an lvalue,
<code>T</code>'s constructor is called with an lvalue. The improved factory function
works because of one special rule:</p>
<blockquote>
<p>When the function parameter type is of the form <code>T&amp;&amp;</code> where <code>T</code> is a
template parameter, and the function argument is an lvalue of type <code>A</code>, the
type <code>A&amp;</code> is used for template argument deduction.</p>
</blockquote>
<p>Thus, we can use factory like so:</p>
<div class="code"><pre class="code literal-block"><span class="n">auto</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">factory</span><span class="o">&lt;</span><span class="n">foo</span><span class="o">&gt;</span><span class="p">(</span><span class="n">foo</span><span class="p">());</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">calls</span><span class="w"> </span><span class="n">foo</span><span class="p">(</span><span class="n">foo</span><span class="o">&amp;&amp;</span><span class="p">)</span>
<span class="n">auto</span><span class="w"> </span><span class="n">p2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">factory</span><span class="o">&lt;</span><span class="n">foo</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="n">p1</span><span class="p">);</span><span class="w">   </span><span class="o">//</span><span class="w"> </span><span class="n">calls</span><span class="w"> </span><span class="n">foo</span><span class="p">(</span><span class="n">foo</span><span class="w"> </span><span class="k">const</span><span class="o">&amp;</span><span class="p">)</span>
</pre></div>

<p><strong>Important rvalue reference properties</strong> :</p>
<ul>
<li>For overload resolution, <strong>lvalues prefer binding to lvalue references and rvalues prefer binding to rvalue references</strong>. Hence why temporaries prefer invoking a move constructor / move assignment operator over a copy constructor / assignment operator.</li>
<li>
<strong>rvalue references will implicitly bind to rvalues and to temporaries that are the result of an implicit conversion</strong>. i.e. <code>float f = 0f; int&amp;&amp; i = f;</code> is well formed because float is implicitly convertible to int; the reference would be to a temporary that is the result of the conversion.</li>
<li>
<strong>Named rvalue references are lvalues. Unnamed rvalue references are rvalues.</strong> This is important to understand why the <code>std::move</code> call is necessary in: <code>foo&amp;&amp; r = foo(); foo f = std::move(r);</code>
</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<p>It denotes an rvalue reference. Rvalue references will only bind to temporary
objects, unless explicitly generated otherwise. They are used to make objects
much more efficient under certain circumstances, and to provide a facility
known as perfect forwarding, which greatly simplifies template code.</p>
<p>In C++03, you can't distinguish between a copy of a non-mutable lvalue and an
rvalue.</p>
<div class="code"><pre class="code literal-block"><span class="n">std</span><span class="p">::</span><span class="n">string</span><span class="w"> </span><span class="n">s</span><span class="p">;</span>
<span class="n">std</span><span class="p">::</span><span class="n">string</span><span class="w"> </span><span class="n">another</span><span class="p">(</span><span class="n">s</span><span class="p">);</span><span class="w">           </span><span class="o">//</span><span class="w"> </span><span class="n">calls</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">string</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">string</span><span class="o">&amp;</span><span class="p">);</span>
<span class="n">std</span><span class="p">::</span><span class="n">string</span><span class="w"> </span><span class="n">more</span><span class="p">(</span><span class="n">std</span><span class="p">::</span><span class="n">string</span><span class="p">(</span><span class="n">s</span><span class="p">));</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">calls</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">string</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">string</span><span class="o">&amp;</span><span class="p">);</span>
</pre></div>

<p>In C++0x, this is not the case.</p>
<div class="code"><pre class="code literal-block"><span class="n">std</span><span class="p">::</span><span class="n">string</span><span class="w"> </span><span class="n">s</span><span class="p">;</span>
<span class="n">std</span><span class="p">::</span><span class="n">string</span><span class="w"> </span><span class="n">another</span><span class="p">(</span><span class="n">s</span><span class="p">);</span><span class="w">           </span><span class="o">//</span><span class="w"> </span><span class="n">calls</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">string</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">string</span><span class="o">&amp;</span><span class="p">);</span>
<span class="n">std</span><span class="p">::</span><span class="n">string</span><span class="w"> </span><span class="n">more</span><span class="p">(</span><span class="n">std</span><span class="p">::</span><span class="n">string</span><span class="p">(</span><span class="n">s</span><span class="p">));</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">calls</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">string</span><span class="p">(</span><span class="n">std</span><span class="p">::</span><span class="n">string</span><span class="o">&amp;&amp;</span><span class="p">);</span>
</pre></div>

<p>Consider the implementation behind these constructors. In the first case, the
string has to perform a copy to retain value semantics, which involves a new
heap allocation. However, in the second case, we know in advance that the
object which was passed in to our constructor is immediately due for
destruction, and it doesn't have to remain untouched. We can effectively just
swap the internal pointers and not perform any copying at all in this
scenario, which is substantially more efficient. Move semantics benefit any
class which has expensive or prohibited copying of internally referenced
resources. Consider the case of <code>std::unique_ptr</code>- now that our class can
distinguish between temporaries and non-temporaries, we can make the move
semantics work correctly so that the <code>unique_ptr</code> cannot be copied but can be
moved, which means that <code>std::unique_ptr</code> can be legally stored in Standard
containers, sorted, etc, whereas C++03's <code>std::auto_ptr</code> cannot.</p>
<p>Now we consider the other use of rvalue references- perfect forwarding.
Consider the question of binding a reference to a reference.</p>
<div class="code"><pre class="code literal-block"><span class="nt">std</span><span class="p">::</span><span class="nd">string</span><span class="w"> </span><span class="nt">s</span><span class="o">;</span>
<span class="nt">std</span><span class="p">::</span><span class="nd">string</span><span class="o">&amp;</span><span class="w"> </span><span class="nt">ref</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">s</span><span class="o">;</span>
<span class="o">(</span><span class="nt">std</span><span class="p">::</span><span class="nd">string</span><span class="o">&amp;)&amp;</span><span class="w"> </span><span class="nt">anotherref</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">ref</span><span class="o">;</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="nt">usually</span><span class="w"> </span><span class="nt">expressed</span><span class="w"> </span><span class="nt">via</span><span class="w"> </span><span class="nt">template</span>
</pre></div>

<p>Can't recall what C++03 says about this, but in C++0x, the resultant type when
dealing with rvalue references is critical. An rvalue reference to a type T,
where T is a reference type, becomes a reference of type T.</p>
<div class="code"><pre class="code literal-block"><span class="p">(</span><span class="n">std</span><span class="p">::</span><span class="n">string</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ref</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">ref</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">string</span><span class="o">&amp;</span>
<span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">string</span><span class="o">&amp;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ref</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">ref</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">string</span><span class="o">&amp;</span>
<span class="p">(</span><span class="n">std</span><span class="p">::</span><span class="n">string</span><span class="o">&amp;&amp;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ref</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">ref</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">string</span><span class="o">&amp;&amp;</span>
<span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">string</span><span class="o">&amp;&amp;</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ref</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">ref</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">string</span><span class="o">&amp;&amp;</span>
</pre></div>

<p>Consider the simplest template function- min and max. In C++03 you have to
overload for all four combinations of const and non-const manually. In C++0x
it's just one overload. Combined with variadic templates, this enables perfect
forwarding.</p>
<div class="code"><pre class="code literal-block"><span class="n">template</span><span class="o">&lt;</span><span class="n">typename</span><span class="w"> </span><span class="n">A</span><span class="p">,</span><span class="w"> </span><span class="n">typename</span><span class="w"> </span><span class="n">B</span><span class="o">&gt;</span><span class="w"> </span><span class="n">auto</span><span class="w"> </span><span class="nb">min</span><span class="p">(</span><span class="n">A</span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">aref</span><span class="p">,</span><span class="w"> </span><span class="n">B</span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">bref</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="k">pass</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">argument</span><span class="p">,</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="n">becomes</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">extension</span><span class="p">,</span><span class="w"> </span><span class="n">aref</span><span class="w"> </span><span class="n">becomes</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">string</span><span class="o">&amp;</span><span class="p">,</span><span class="w"> </span><span class="n">completely</span><span class="w"> </span><span class="n">maintaining</span><span class="w"> </span><span class="n">it</span><span class="s1">'s type information.</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">std</span><span class="p">::</span><span class="n">forward</span><span class="o">&lt;</span><span class="n">A</span><span class="o">&gt;</span><span class="p">(</span><span class="n">aref</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">forward</span><span class="o">&lt;</span><span class="n">B</span><span class="o">&gt;</span><span class="p">(</span><span class="n">bref</span><span class="p">))</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">forward</span><span class="o">&lt;</span><span class="n">A</span><span class="o">&gt;</span><span class="p">(</span><span class="n">aref</span><span class="p">);</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">forward</span><span class="o">&lt;</span><span class="n">B</span><span class="o">&gt;</span><span class="p">(</span><span class="n">bref</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

<p>I left off the return type deduction, because I can't recall how it's done
offhand, but that min can accept any combination of lvalues, rvalues, const
lvalues.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/in-css-flexbox-why-are-there-no-justify-items-and-justify-self-properties/" class="u-url">In CSS Flexbox, why are there no "justify-items" and "justify-self" properties?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/in-css-flexbox-why-are-there-no-justify-items-and-justify-self-properties/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T07:13:09+08:00" itemprop="datePublished" title="2023-02-17 07:13">2023-02-17 07:13</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Consider the main axis and cross axis of a flex container:</p>
<p><img alt="An illustration of the various directions and sizing terms as applied to a
row flex container" src="images/9Oxw7.png"> Source: W3C</p>
<p>To align flex items along the main axis there is one property:</p>
<ul>
<li><code>justify-content</code></li>
</ul>
<p>To align flex items along the cross axis there are three properties:</p>
<ul>
<li><code>align-content</code></li>
<li><code>align-items</code></li>
<li><code>align-self</code></li>
</ul>
<p>In the image above, the main axis is horizontal and the cross axis is
vertical. These are the default directions of a flex container.</p>
<p>However, these directions can be easily interchanged with the <code>flex-direction</code>
property.</p>
<div class="code"><pre class="code literal-block"><span class="o">/*</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="n">axis</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">horizontal</span><span class="p">,</span><span class="w"> </span><span class="nb">cross</span><span class="w"> </span><span class="n">axis</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">vertical</span><span class="w"> </span><span class="o">*/</span>
<span class="n">flex</span><span class="o">-</span><span class="n">direction</span><span class="p">:</span><span class="w"> </span><span class="n">row</span><span class="p">;</span>
<span class="n">flex</span><span class="o">-</span><span class="n">direction</span><span class="p">:</span><span class="w"> </span><span class="n">row</span><span class="o">-</span><span class="n">reverse</span><span class="p">;</span>

<span class="o">/*</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="n">axis</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">vertical</span><span class="p">,</span><span class="w"> </span><span class="nb">cross</span><span class="w"> </span><span class="n">axis</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">horizontal</span><span class="w"> </span><span class="o">*/</span><span class="w">    </span>
<span class="n">flex</span><span class="o">-</span><span class="n">direction</span><span class="p">:</span><span class="w"> </span><span class="n">column</span><span class="p">;</span>
<span class="n">flex</span><span class="o">-</span><span class="n">direction</span><span class="p">:</span><span class="w"> </span><span class="n">column</span><span class="o">-</span><span class="n">reverse</span><span class="p">;</span>
</pre></div>

<p>(The cross axis is always perpendicular to the main axis.)</p>
<p>My point in describing how the axes' work is that there doesn't seem to be
anything special about either direction. Main axis, cross axis, they're both
equal in terms of importance and <code>flex-direction</code> makes it easy to switch back
and forth.</p>
<p><em>So why does the cross axis get two additional alignment properties?</em></p>
<p><em>Why are<code>align-content</code> and <code>align-items</code> consolidated into one property for
the main axis?</em></p>
<p><em>Why does the main axis not get a<code>justify-self</code> property?</em></p>
<hr>
<p>Scenarios where these properties would be useful:</p>
<ul>
<li>
<p>placing a flex item in the corner of the flex container<br><code>#box3 { align-self: flex-end; justify-self: flex-end; }</code></p>
</li>
<li>
<p>making a group of flex items align-right (<code>justify-content: flex-end</code>) but have the first item align left (<code>justify-self: flex-start</code>)</p>
</li>
</ul>
<p><em>Consider a header section with a group of nav items and a logo. With<code>justify-
self</code> the logo could be aligned left while the nav items stay far right, and
the whole thing adjusts smoothly ("flexes") to different screen sizes.</em></p>
<ul>
<li>in a row of three flex items, affix the middle item to the center of the container (<code>justify-content: center</code>) and align the adjacent items to the container edges (<code>justify-self: flex-start</code> and <code>justify-self: flex-end</code>).</li>
</ul>
<p><em>Note that values<code>space-around</code> and <code>space-between</code> on <code>justify-content</code>
property will not keep the middle item centered about the container if the
adjacent items have different widths.</em></p>
<p>Show code snippet</p>
<div class="code"><pre class="code literal-block">#container<span class="w"> </span>{
<span class="w">  </span>display:<span class="w"> </span>flex;
<span class="w">  </span>justify-content:<span class="w"> </span>space-between;
<span class="w">  </span>background-color:<span class="w"> </span>lightyellow;
}
.box<span class="w"> </span>{
<span class="w">  </span>height:<span class="w"> </span>50px;
<span class="w">  </span>width:<span class="w"> </span>75px;
<span class="w">  </span>background-color:<span class="w"> </span>springgreen;
}
.box1<span class="w"> </span>{
<span class="w">  </span>width:<span class="w"> </span>100px;
}
.box3<span class="w"> </span>{
<span class="w">  </span>width:<span class="w"> </span>200px;
}
#center<span class="w"> </span>{
<span class="w">  </span>text-align:<span class="w"> </span>center;
<span class="w">  </span>margin-bottom:<span class="w"> </span>5px;
}
#center<span class="w"> </span>&gt;<span class="w"> </span>span<span class="w"> </span>{
<span class="w">  </span>background-color:<span class="w"> </span>aqua;
<span class="w">  </span>padding:<span class="w"> </span>2px;
}


<span class="nt">&lt;div</span><span class="w"> </span><span class="na">id=</span><span class="s">"center"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;span&gt;</span>TRUE<span class="w"> </span>CENTER<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;div</span><span class="w"> </span><span class="na">id=</span><span class="s">"container"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"box box1"</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="w">  </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"box box2"</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="w">  </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"box box3"</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;p&gt;</span>note<span class="w"> </span>that<span class="w"> </span>the<span class="w"> </span>middlebox<span class="w"> </span>will<span class="w"> </span>only<span class="w"> </span>be<span class="w"> </span>truly<span class="w"> </span>centered<span class="w"> </span>if<span class="w"> </span>adjacent<span class="w"> </span>boxes<span class="w"> </span>are<span class="w"> </span>equal<span class="w"> </span>width<span class="nt">&lt;/p&gt;</span>
</pre></div>

<p>jsFiddle version</p>
<hr>
<p>As of this writing, there is no mention of <code>justify-self</code> or <code>justify-items</code>
in the flexbox spec.</p>
<p>However, in the CSS Box Alignment Module, which is the W3C's unfinished
proposal to establish a common set of alignment properties for use across all
box models, there is this:</p>
<p><img alt="enter image description here" src="images/uu2tP.png"> Source: W3C</p>
<p>You'll notice that <code>justify-self</code> and <code>justify-items</code> are being considered...
<em>but not for flexbox</em>.</p>
<hr>
<p>I'll end by reiterating the main question:</p>
<blockquote>
<p>Why are there no "justify-items" and "justify-self" properties?</p>
</blockquote>
<p><br><br></p>
<h2>Answer</h2>
<h3>Methods for Aligning Flex Items along the Main Axis</h3>
<p>As stated in the question:</p>
<blockquote>
<p>To align flex items along the main axis there is one property: <code>justify-
content</code></p>
<p>To align flex items along the cross axis there are three properties: <code>align-
content</code>, <code>align-items</code> and <code>align-self</code>.</p>
</blockquote>
<p>The question then asks:</p>
<blockquote>
<p>Why are there no <code>justify-items</code> and <code>justify-self</code> properties?</p>
</blockquote>
<p>One answer may be: <em>Because they're not necessary.</em></p>
<p>The flexbox specification provides <em>two</em> methods for aligning flex items along
the main axis:</p>
<ol>
<li>The <code>justify-content</code> keyword property, and</li>
<li>
<code>auto</code> margins</li>
</ol>
<hr>
<p>__</p>
<h3><em>justify-content</em></h3>
<p>The <code>justify-content</code> property aligns flex items along the main axis of the
flex container.</p>
<p>It is applied to the flex container but only affects flex items.</p>
<p>There are five alignment options:</p>
<ul>
<li>
<strong><code>flex-start</code></strong> ~ Flex items are packed toward the start of the line.</li>
</ul>
<p><img alt="enter image description here" src="images/YOzeU.png"></p>
<ul>
<li>
<strong><code>flex-end</code></strong> ~ Flex items are packed toward the end of the line.</li>
</ul>
<p><img alt="enter image description here" src="images/13Z1u.png"></p>
<ul>
<li>
<strong><code>center</code></strong> ~ Flex items are packed toward the center of the line.</li>
</ul>
<p><img alt="enter image description here" src="images/oKi7M.png"></p>
<ul>
<li>
<strong><code>space-between</code></strong> ~ Flex items are evenly spaced, with the first item aligned to one edge of the container and the last item aligned to the opposite edge. The edges used by the first and last items depends on <code>flex-direction</code> and writing mode (<code>ltr</code> or <code>rtl</code>).</li>
</ul>
<p><img alt="enter image description here" src="images/0mQqd.png"></p>
<ul>
<li>
<strong><code>space-around</code></strong> ~ Same as <code>space-between</code> except with half-size spaces on both ends.</li>
</ul>
<p><img alt="enter image description here" src="images/u4BH6.png"></p>
<hr>
<h3>Auto Margins</h3>
<p>With <code>auto</code> margins, flex items can be centered, spaced away or packed into
sub-groups.</p>
<p>Unlike <code>justify-content</code>, which is applied to the flex container, <code>auto</code>
margins go on flex items.</p>
<p>They work by consuming all free space in the specified direction.</p>
<hr>
<h4>Align group of flex items to the right, but first item to the left</h4>
<p>Scenario from the question:</p>
<blockquote>
<ul>
<li>making a group of flex items align-right (<code>justify-content: flex-end</code>)
but have the first item align left (<code>justify-self: flex-start</code>)</li>
</ul>
<p><em>Consider a header section with a group of nav items and a logo.
With<code>justify-self</code> the logo could be aligned left while the nav items stay
far right, and the whole thing adjusts smoothly ("flexes") to different
screen sizes.</em></p>
</blockquote>
<p><img alt="enter image description here" src="images/D3Vnv.png"></p>
<p><img alt="enter image description here" src="images/Um8DM.png"></p>
<hr>
<p><strong><em>Other useful scenarios:</em></strong></p>
<p><img alt="enter image description here" src="images/qLzgU.png"></p>
<p><img alt="enter image description here" src="images/HtaOc.png"></p>
<p><img alt="enter image description here" src="images/M2WkZ.png"></p>
<hr>
<h4>Place a flex item in the corner</h4>
<p>Scenario from the question:</p>
<blockquote>
<ul>
<li>placing a flex item in a corner <code>.box { align-self: flex-end; justify-
self: flex-end; }</code>
</li>
</ul>
</blockquote>
<p><img alt="enter image description here" src="images/BtbfK.png"></p>
<hr>
<h4>Center a flex item vertically and horizontally</h4>
<p><img alt="enter image description here" src="images/lV9a0.png"></p>
<p><code>margin: auto</code> is an alternative to <code>justify-content: center</code> and <code>align-
items: center</code>.</p>
<p>Instead of this code on the flex container:</p>
<div class="code"><pre class="code literal-block"><span class="na">.container</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nl">justify-content:</span><span class="w"> </span><span class="nf">center</span><span class="c1">;</span>
<span class="w">    </span><span class="nl">align-items:</span><span class="w"> </span><span class="nf">center</span><span class="c1">;</span>
<span class="err">}</span>
</pre></div>

<p>You can use this on the flex item:</p>
<div class="code"><pre class="code literal-block"><span class="na">.box56</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nl">margin:</span><span class="w"> </span><span class="nf">auto</span><span class="c1">;</span>
<span class="err">}</span>
</pre></div>

<p>This alternative is useful when <strong>centering a flex item that overflows the
container</strong>.</p>
<hr>
<h4>Center a flex item, and center a second flex item between the first and</h4>
<p>the edge</p>
<p>A flex container aligns flex items by distributing free space.</p>
<p>Hence, in order to create <em>equal balance</em> , so that a middle item can be
centered in the container with a single item alongside, a counterbalance must
be introduced.</p>
<p>In the examples below, invisible third flex items (boxes 61 &amp; 68) are
introduced to balance out the "real" items (box 63 &amp; 66).</p>
<p><img alt="enter image description here" src="images/3IeTy.png"></p>
<p><img alt="enter image description here" src="images/BmtRt.png"></p>
<p>Of course, this method is nothing great in terms of semantics.</p>
<p>Alternatively, you can use a pseudo-element instead of an actual DOM element.
Or you can use absolute positioning. All three methods are covered here:
<strong>Center and bottom-align flex items</strong></p>
<p><em>NOTE: The examples above will only work – in terms of true centering – when
the outermost items are equal height/width. When flex items are different
lengths, see next example.</em></p>
<hr>
<h4>Center a flex item when adjacent items vary in size</h4>
<p>Scenario from the question:</p>
<blockquote>
<ul>
<li>in a row of three flex items, affix the middle item to the center of the
container (<code>justify-content: center</code>) and align the adjacent items to the
container edges (<code>justify-self: flex-start</code> and <code>justify-self: flex-end</code>).</li>
</ul>
<p><em>Note that values<code>space-around</code> and <code>space-between</code> on <code>justify-content</code>
property will not keep the middle item centered in relation to the container
if the adjacent items have different widths (see demo).</em></p>
</blockquote>
<p>As noted, unless all flex items are of equal width or height (depending on
<code>flex-direction</code>), the middle item cannot be truly centered. This problem
makes a strong case for a <code>justify-self</code> property (designed to handle the
task, of course).</p>
<p>Show code snippet</p>
<div class="code"><pre class="code literal-block">#container<span class="w"> </span>{
<span class="w">  </span>display:<span class="w"> </span>flex;
<span class="w">  </span>justify-content:<span class="w"> </span>space-between;
<span class="w">  </span>background-color:<span class="w"> </span>lightyellow;
}
.box<span class="w"> </span>{
<span class="w">  </span>height:<span class="w"> </span>50px;
<span class="w">  </span>width:<span class="w"> </span>75px;
<span class="w">  </span>background-color:<span class="w"> </span>springgreen;
}
.box1<span class="w"> </span>{
<span class="w">  </span>width:<span class="w"> </span>100px;
}
.box3<span class="w"> </span>{
<span class="w">  </span>width:<span class="w"> </span>200px;
}
#center<span class="w"> </span>{
<span class="w">  </span>text-align:<span class="w"> </span>center;
<span class="w">  </span>margin-bottom:<span class="w"> </span>5px;
}
#center<span class="w"> </span>&gt;<span class="w"> </span>span<span class="w"> </span>{
<span class="w">  </span>background-color:<span class="w"> </span>aqua;
<span class="w">  </span>padding:<span class="w"> </span>2px;
}


<span class="nt">&lt;div</span><span class="w"> </span><span class="na">id=</span><span class="s">"center"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;span&gt;</span>TRUE<span class="w"> </span>CENTER<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;div</span><span class="w"> </span><span class="na">id=</span><span class="s">"container"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"box box1"</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="w">  </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"box box2"</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="w">  </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"box box3"</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;p&gt;</span>The<span class="w"> </span>middle<span class="w"> </span>box<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>truly<span class="w"> </span>centered<span class="w"> </span>only<span class="w"> </span>if<span class="w"> </span>adjacent<span class="w"> </span>boxes<span class="w"> </span>are<span class="w"> </span>equal<span class="w"> </span>width.<span class="nt">&lt;/p&gt;</span>
</pre></div>

<p><em>Here are two methods for solving this problem:</em></p>
<p><strong><em>Solution #1: Absolute Positioning</em></strong></p>
<p>The flexbox spec allows for absolute positioning of flex items. This allows
for the middle item to be perfectly centered regardless of the size of its
siblings.</p>
<p>Just keep in mind that, like all absolutely positioned elements, the items are
removed from the document flow. This means they don't take up space in the
container and can overlap their siblings.</p>
<p>In the examples below, the middle item is centered with absolute positioning
and the outer items remain in-flow. But the same layout can be achieved in
reverse fashion: Center the middle item with <code>justify-content: center</code> and
absolutely position the outer items.</p>
<p><img alt="enter image description here" src="images/U1eLb.png"></p>
<p><strong><em>Solution #2: Nested Flex Containers (no absolute positioning)</em></strong></p>
<div class="code"><pre class="code literal-block">.container<span class="w"> </span>{
<span class="w">  </span>display:<span class="w"> </span>flex;
}
.box<span class="w"> </span>{
<span class="w">  </span>flex:<span class="w"> </span>1;
<span class="w">  </span>display:<span class="w"> </span>flex;
<span class="w">  </span>justify-content:<span class="w"> </span>center;
}
.box71<span class="w"> </span>&gt;<span class="w"> </span>span<span class="w"> </span>{<span class="w"> </span>margin-right:<span class="w"> </span>auto;<span class="w"> </span>}
.box73<span class="w"> </span>&gt;<span class="w"> </span>span<span class="w"> </span>{<span class="w"> </span>margin-left:<span class="w"> </span>auto;<span class="w">  </span>}

/*<span class="w"> </span>non-essential<span class="w"> </span>*/
.box<span class="w"> </span>{
<span class="w">  </span>align-items:<span class="w"> </span>center;
<span class="w">  </span>border:<span class="w"> </span>1px<span class="w"> </span>solid<span class="w"> </span>#ccc;
<span class="w">  </span>background-color:<span class="w"> </span>lightgreen;
<span class="w">  </span>height:<span class="w"> </span>40px;
}


<span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"container"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"box box71"</span><span class="nt">&gt;&lt;span&gt;</span>71<span class="w"> </span>short<span class="nt">&lt;/span&gt;&lt;/div&gt;</span>
<span class="w">  </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"box box72"</span><span class="nt">&gt;&lt;span&gt;</span>72<span class="w"> </span>centered<span class="nt">&lt;/span&gt;&lt;/div&gt;</span>
<span class="w">  </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"box box73"</span><span class="nt">&gt;&lt;span&gt;</span>73<span class="w"> </span>loooooooooooooooong<span class="nt">&lt;/span&gt;&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p>Here's how it works:</p>
<ul>
<li>The top-level div (<code>.container</code>) is a flex container.</li>
<li>Each child div (<code>.box</code>) is now a flex item.</li>
<li>Each <code>.box</code> item is given <code>flex: 1</code> in order to distribute container space equally.</li>
<li>Now the items are consuming all space in the row and are equal width.</li>
<li>Make each item a (nested) flex container and add <code>justify-content: center</code>.</li>
<li>Now each <code>span</code> element is a centered flex item.</li>
<li>Use flex <code>auto</code> margins to shift the outer <code>span</code>s left and right.</li>
</ul>
<p>You could also forgo <code>justify-content</code> and use <code>auto</code> margins exclusively.</p>
<p>But <code>justify-content</code> can work here because <code>auto</code> margins always have
priority. From the spec:</p>
<blockquote>
<p><strong>8.1. Aligning with<code>auto</code> margins</strong></p>
<p>Prior to alignment via <code>justify-content</code> and <code>align-self</code>, any positive free
space is distributed to auto margins in that dimension.</p>
</blockquote>
<hr>
<p>__</p>
<h4><em>justify-content: space-same (concept)</em></h4>
<p>Going back to <code>justify-content</code> for a minute, here's an idea for one more
option.</p>
<ul>
<li>
<strong><code>space-same</code></strong> ~ A hybrid of <code>space-between</code> and <code>space-around</code>. Flex items are evenly spaced (like <code>space-between</code>), except instead of half-size spaces on both ends (like <code>space-around</code>), there are full-size spaces on both ends.</li>
</ul>
<p>This layout can be achieved with <code>::before</code> and <code>::after</code> pseudo-elements on
the flex container.</p>
<p><img alt="enter image description here" src="images/Jjw9w.png"></p>
<p><em>(credit: @oriol for the code, and @crl for the label)</em></p>
<p><strong>UPDATE:</strong> Browsers have begun implementing <strong><code>space-evenly</code></strong> , which
accomplishes the above. See this post for details: Equal space between flex
items</p>
<hr>
<p><strong>PLAYGROUND</strong> (includes code for all examples above)</p>
<p><br></p>
<h3>Suggest</h3>
<p>I know this is not an answer, but I'd like to contribute to this matter for
what it's worth. It would be great if they could release <code>justify-self</code> for
flexbox to make it truly flexible.</p>
<p>It's my belief that when there are multiple items on the axis, the most
logical way for <code>justify-self</code> to behave is to align itself to its nearest
neighbours (or edge) as demonstrated below.</p>
<p>I truly hope, W3C takes notice of this and will at least consider it. =)</p>
<p><img alt="enter image description here" src="images/wpSsJ.jpg"></p>
<p>This way you can have an item that is truly centered regardless of the size of
the left and right box. When one of the boxes reaches the point of the center
box it will simply push it until there is no more space to distribute.</p>
<p><img alt="enter image description here" src="images/NgobL.gif"></p>
<p>The ease of making awesome layouts are endless, take a look at this "complex"
example.</p>
<p><img alt="enter image description here" src="images/U2ELF.png"></p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-455.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-453.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

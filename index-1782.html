<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1782) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1782.html">
<link rel="prev" href="index-1783.html" type="text/html">
<link rel="next" href="index-1781.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/where-is-machine-config/" class="u-url">Where Is Machine.Config?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/where-is-machine-config/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T09:14:26+08:00" itemprop="datePublished" title="2023-03-03 09:14">2023-03-03 09:14</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I want to apply a change so That I can use Server GC settings for my C# 3.5
app - I can do that by editing the <code>machine.config</code> file.</p>
<p>The only problem is I do not know where that is.</p>
<p>How can I find the path of this file in a repeatable way across a number of
different machines</p>
<p><br><br></p>
<h2>Answer</h2>
<p><strong>32-bit</strong></p>
<div class="code"><pre class="code literal-block"><span class="nf">%windir</span><span class="o">%</span><span class="err">\</span><span class="n">Microsoft</span><span class="p">.</span><span class="n">NET</span><span class="err">\</span><span class="n">Framework</span><span class="err">\</span><span class="p">[</span><span class="n">version</span><span class="p">]</span><span class="err">\</span><span class="n">config</span><span class="err">\</span><span class="n">machine</span><span class="p">.</span><span class="n">config</span>
</pre></div>

<p><strong>64-bit</strong></p>
<div class="code"><pre class="code literal-block"><span class="nf">%windir</span><span class="o">%</span><span class="err">\</span><span class="n">Microsoft</span><span class="p">.</span><span class="n">NET</span><span class="err">\</span><span class="n">Framework64</span><span class="err">\</span><span class="p">[</span><span class="n">version</span><span class="p">]</span><span class="err">\</span><span class="n">config</span><span class="err">\</span><span class="n">machine</span><span class="p">.</span><span class="n">config</span>
</pre></div>

<p><code>[version]</code> should be equal to <code>v1.0.3705</code>, <code>v1.1.4322</code>, <code>v2.0.50727</code> or
<code>v4.0.30319</code>.</p>
<p><code>v3.0</code> and <code>v3.5</code> just contain additional assemblies to <code>v2.0.50727</code> so there
should be no <code>config\machine.config</code>. <code>v4.5.x</code> and <code>v4.6.x</code> are stored inside
<code>v4.0.30319</code>.</p>
<p><br></p>
<h3>Suggest</h3>
<p><strong>You can run this in powershell:</strong></p>
<div class="code"><pre class="code literal-block">[System.Runtime.InteropServices.RuntimeEnvironment]::SystemConfigurationFile
</pre></div>

<p><strong>Which outputs this for .net 4:</strong></p>
<div class="code"><pre class="code literal-block">C:\Windows\Microsoft.NET\Framework\v4.0.30319\config\machine.config
</pre></div>

<p>Note however that this might change depending on whether .net is running as 32
or 64 bit which will result in <code>\Framework\</code> or <code>\Framework64\</code> respectively.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/differences-between-c-string-and-compare/" class="u-url">Differences between C++ string == and compare()?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/differences-between-c-string-and-compare/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T09:14:01+08:00" itemprop="datePublished" title="2023-03-03 09:14">2023-03-03 09:14</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I just read some recommendations on using</p>
<div class="code"><pre class="code literal-block"><span class="nt">std</span><span class="p">::</span><span class="nd">string</span><span class="w"> </span><span class="nt">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">get_string</span><span class="o">();</span>
<span class="nt">std</span><span class="p">::</span><span class="nd">string</span><span class="w"> </span><span class="nt">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">another_string</span><span class="o">();</span>

<span class="nt">if</span><span class="o">(</span><span class="w"> </span><span class="o">!</span><span class="nt">s</span><span class="p">.</span><span class="nc">compare</span><span class="o">(</span><span class="nt">t</span><span class="o">)</span><span class="w"> </span><span class="o">)</span><span class="w"> </span>
<span class="p">{</span>
</pre></div>

<p>instead of</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="ss">(</span><span class="w"> </span><span class="nv">s</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">t</span><span class="w"> </span><span class="ss">)</span>
{
</pre></div>

<p>I'm almost always using the last one because I'm used to it and it feels
natural, more readable. I didn't even know that there was a separate
comparison function. To be more precise, I thought == would call compare().</p>
<p><strong>What are the differences? In which contexts should one way be favored to the
other?</strong></p>
<p>I'm considering only the cases where I need to know if a string is the same
value as another string.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>This is what the standard has to say about <code>operator==</code></p>
<blockquote>
<p><strong>21.4.8.2 operator==</strong></p>
<div class="code"><pre class="code literal-block"><span class="n">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="n">charT</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">traits</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">Allocator</span><span class="o">&gt;</span>
<span class="nb nb-Type">bool</span><span class="w"> </span><span class="n">operator</span><span class="o">==</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">basic_string</span><span class="o">&lt;</span><span class="n">charT</span><span class="p">,</span><span class="n">traits</span><span class="p">,</span><span class="n">Allocator</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">lhs</span><span class="p">,</span>
<span class="w">                </span><span class="k">const</span><span class="w"> </span><span class="n">basic_string</span><span class="o">&lt;</span><span class="n">charT</span><span class="p">,</span><span class="n">traits</span><span class="p">,</span><span class="n">Allocator</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span>
</pre></div>

<p>noexcept;</p>
<p>Returns: lhs.compare(rhs) == 0.</p>
</blockquote>
<p>Seems like there isn't much of a difference!</p>
<p><br></p>
<h3>Suggest</h3>
<p>std::string::compare() returns an <code>int</code>:</p>
<ul>
<li>equal to zero if <code>s</code> and <code>t</code> are equal,</li>
<li>less than zero if <code>s</code> is less than <code>t</code>,</li>
<li>greater than zero if <code>s</code> is greater than <code>t</code>.</li>
</ul>
<p>If you want your first code snippet to be equivalent to the second one, it
should actually read:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="o">!</span><span class="nv">s</span>.<span class="nv">compare</span><span class="ss">(</span><span class="nv">t</span><span class="ss">))</span><span class="w"> </span>{
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="s1">'s'</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="s1">'t'</span><span class="w"> </span><span class="nv">are</span><span class="w"> </span><span class="nv">equal</span>.
}
</pre></div>

<p>The equality operator only tests for equality (hence its name) and returns a
<code>bool</code>.</p>
<p>To elaborate on the use cases, <code>compare()</code> can be useful if you're interested
in how the two strings relate to one another (less or greater) when they
happen to be different. PlasmaHH rightfully mentions trees, and it could also
be, say, a string insertion algorithm that aims to keep the container sorted,
a dichotomic search algorithm for the aforementioned container, and so on.</p>
<p><strong>EDIT:</strong> As Steve Jessop points out in the comments, <code>compare()</code> is most
useful for quick sort and binary search algorithms. Natural sorts and
dichotomic searches can be implemented with only std::less.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/using-ssh-keys-inside-docker-container/" class="u-url">Using SSH keys inside docker container</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/using-ssh-keys-inside-docker-container/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T09:13:33+08:00" itemprop="datePublished" title="2023-03-03 09:13">2023-03-03 09:13</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have an app that executes various fun stuff with Git (like running git clone
&amp; git push) and I'm trying to docker-ize it.</p>
<p>I'm running into an issue though where I need to be able to add an SSH key to
the container for the container 'user' to use.</p>
<p>I tried copying it into <code>/root/.ssh/</code>, changing <code>$HOME</code>, creating a git ssh
wrapper, and still no luck.</p>
<p>Here is the Dockerfile for reference:</p>
<div class="code"><pre class="code literal-block"><span class="p">#</span><span class="nn">DOCKER-VERSION</span><span class="w"> </span><span class="nt">0</span><span class="p">.</span><span class="nc">3</span><span class="p">.</span><span class="nc">4</span>

<span class="nt">from</span><span class="w">  </span><span class="nt">ubuntu</span><span class="p">:</span><span class="nd">12</span><span class="p">.</span><span class="nc">04</span>

<span class="nt">RUN</span><span class="w">  </span><span class="nt">apt-get</span><span class="w"> </span><span class="nt">update</span><span class="w">                                                             </span>
<span class="nt">RUN</span><span class="w">  </span><span class="nt">apt-get</span><span class="w"> </span><span class="nt">install</span><span class="w"> </span><span class="nt">python-software-properties</span><span class="w"> </span><span class="nt">python</span><span class="w"> </span><span class="nt">g</span><span class="o">++</span><span class="w"> </span><span class="nt">make</span><span class="w"> </span><span class="nt">git-core</span><span class="w"> </span><span class="nt">openssh-server</span><span class="w"> </span><span class="nt">-y</span>
<span class="nt">RUN</span><span class="w">  </span><span class="nt">add-apt-repository</span><span class="w"> </span><span class="nt">ppa</span><span class="p">:</span><span class="nd">chris-lea</span><span class="o">/</span><span class="nt">node</span><span class="p">.</span><span class="nc">js</span><span class="w">                                   </span>
<span class="nt">RUN</span><span class="w">  </span><span class="nt">echo</span><span class="w"> </span><span class="s2">"deb http://archive.ubuntu.com/ubuntu precise universe"</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="o">/</span><span class="nt">etc</span><span class="o">/</span><span class="nt">apt</span><span class="o">/</span><span class="nt">sources</span><span class="p">.</span><span class="nc">list</span>
<span class="nt">RUN</span><span class="w">  </span><span class="nt">apt-get</span><span class="w"> </span><span class="nt">update</span><span class="w">                                                             </span>
<span class="nt">RUN</span><span class="w">  </span><span class="nt">apt-get</span><span class="w"> </span><span class="nt">install</span><span class="w"> </span><span class="nt">nodejs</span><span class="w"> </span><span class="nt">-y</span>

<span class="nt">ADD</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="o">/</span><span class="nt">src</span><span class="w">                                                                       </span>
<span class="nt">ADD</span><span class="w"> </span><span class="o">../../</span><span class="nt">home</span><span class="o">/</span><span class="nt">ubuntu</span><span class="o">/</span><span class="p">.</span><span class="nc">ssh</span><span class="o">/</span><span class="nt">id_rsa</span><span class="w"> </span><span class="o">/</span><span class="nt">root</span><span class="o">/</span><span class="p">.</span><span class="nc">ssh</span><span class="o">/</span><span class="nt">id_rsa</span><span class="w">                             </span>
<span class="nt">RUN</span><span class="w">   </span><span class="nt">cd</span><span class="w"> </span><span class="o">/</span><span class="nt">src</span><span class="o">;</span><span class="w"> </span><span class="nt">npm</span><span class="w"> </span><span class="nt">install</span>

<span class="nt">EXPOSE</span><span class="w">  </span><span class="nt">808</span><span class="p">:</span><span class="nd">808</span>

<span class="nt">CMD</span><span class="w">   </span><span class="cp">[</span><span class="w"> </span><span class="s2">"node"</span><span class="p">,</span><span class="w"> </span><span class="s2">"/src/app.js"</span><span class="cp">]</span>
</pre></div>

<p><code>app.js</code> runs the git commands like <code>git pull</code></p>
<p><br><br></p>
<h2>Answer</h2>
<p>Turns out when using Ubuntu, the ssh_config isn't correct. You need to add</p>
<div class="code"><pre class="code literal-block">RUN  echo "    IdentityFile ~/.ssh/id_rsa" &gt;&gt; /etc/ssh/ssh_config
</pre></div>

<p>to your Dockerfile in order to get it to recognize your ssh key.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Turns out when using Ubuntu, the ssh_config isn't correct. You need to add</p>
<div class="code"><pre class="code literal-block">RUN  echo "    IdentityFile ~/.ssh/id_rsa" &gt;&gt; /etc/ssh/ssh_config
</pre></div>

<p>to your Dockerfile in order to get it to recognize your ssh key.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1783.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1781.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

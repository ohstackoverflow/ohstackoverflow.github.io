<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 298) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-298.html">
<link rel="prev" href="index-299.html" type="text/html">
<link rel="next" href="index-297.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-create-a-constant-in-python/" class="u-url">How do I create a constant in Python?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-create-a-constant-in-python/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T03:19:30+08:00" itemprop="datePublished" title="2023-02-17 03:19">2023-02-17 03:19</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How do I declare a constant in Python?</p>
<p>In Java, we do:</p>
<div class="code"><pre class="code literal-block">public static final String CONST_NAME = "Name";
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>You cannot declare a variable or value as constant in Python.</p>
<hr>
<p>To <em>indicate</em> to programmers that a variable is a constant, one usually writes
it in upper case:</p>
<div class="code"><pre class="code literal-block">CONST_NAME = "Name"
</pre></div>

<hr>
<p>To raise exceptions when constants are changed, see Constants in Python by
Alex Martelli. Note that this is not commonly used in practice.</p>
<hr>
<p>As of Python 3.8, there's a <code>typing.Final</code> variable annotation that will tell
static type checkers (like mypy) that your variable shouldn't be reassigned.
This is the closest equivalent to Java's <code>final</code>. However, it <strong>does not
actually prevent reassignment</strong> :</p>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Final</span>

<span class="n">a</span><span class="p">:</span> <span class="n">Final</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

<span class="c1"># Executes fine, but mypy will report an error if you run mypy on this:</span>
<span class="n">a</span> <span class="o">=</span> <span class="mi">2</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>There's no <code>const</code> keyword as in other languages, however it is possible to
create a Property that <strong>has a "getter function"</strong> to read the data, but <strong>no
"setter function"</strong> to re-write the data. <strong>This essentially protects the
identifier from being changed.</strong></p>
<p>Here is an alternative implementation using class property:</p>
<p><em>Note that the code is far from easy for a reader wondering about constants.
See explanation below.</em></p>
<div class="code"><pre class="code literal-block"><span class="n">def</span><span class="w"> </span><span class="n">constant</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">fset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">):</span>
<span class="w">        </span><span class="n">raise</span><span class="w"> </span><span class="n">TypeError</span>
<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">fget</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">f</span><span class="p">()</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">property</span><span class="p">(</span><span class="n">fget</span><span class="p">,</span><span class="w"> </span><span class="n">fset</span><span class="p">)</span>

<span class="k">class</span><span class="w"> </span><span class="n">_Const</span><span class="p">(</span><span class="n">object</span><span class="p">):</span>
<span class="w">    </span><span class="err">@</span><span class="n">constant</span>
<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">FOO</span><span class="p">():</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mh">0xBAADFACE</span>
<span class="w">    </span><span class="err">@</span><span class="n">constant</span>
<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">BAR</span><span class="p">():</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mh">0xDEADBEEF</span>

<span class="n">CONST</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_Const</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">hex</span><span class="p">(</span><span class="n">CONST</span><span class="o">.</span><span class="n">FOO</span><span class="p">))</span><span class="w">  </span><span class="c1"># -&gt; '0xbaadfaceL'</span>

<span class="n">CONST</span><span class="o">.</span><span class="n">FOO</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="c1">##Traceback (most recent call last):</span>
<span class="c1">##  File "example1.py", line 22, in &lt;module&gt;</span>
<span class="c1">##    CONST.FOO = 0</span>
<span class="c1">##  File "example1.py", line 5, in fset</span>
<span class="c1">##    raise TypeError</span>
<span class="c1">##TypeError</span>
</pre></div>

<p><strong>Code Explanation:</strong></p>
<ol>
<li>Define a function <code>constant</code> that takes an expression, and uses it to construct a "getter" - a function that solely returns the value of the expression.</li>
<li>The setter function raises a TypeError so it's read-only</li>
<li>Use the <code>constant</code> function we just created as a decoration to quickly define read-only properties.</li>
</ol>
<hr>
<p>And in some other more old-fashioned way:</p>
<p><em>(The code is quite tricky, more explanations below)</em></p>
<div class="code"><pre class="code literal-block"><span class="k">class</span> <span class="n">_Const</span>(<span class="n">object</span>):
    <span class="n">def</span> <span class="n">FOO</span>():
        <span class="n">def</span> <span class="n">fset</span>(<span class="nb">self</span>, <span class="nb">value</span>):
            <span class="n">raise</span> <span class="n">TypeError</span>
        <span class="n">def</span> <span class="n">fget</span>(<span class="nb">self</span>):
            <span class="k">return</span> <span class="mh">0xBAADFACE</span>
        <span class="k">return</span> <span class="n">property</span>(**<span class="n">locals</span>())
    <span class="n">FOO</span> = <span class="n">FOO</span>()  <span class="c1"># Define property.</span>

<span class="n">CONST</span> = <span class="n">_Const</span>()

<span class="nb">print</span>(<span class="n">hex</span>(<span class="n">CONST</span>.<span class="n">FOO</span>))  <span class="c1"># -&gt; '0xbaadfaceL'</span>

<span class="n">CONST</span>.<span class="n">FOO</span> = <span class="mi">0</span>
<span class="c1">##Traceback (most recent call last):</span>
<span class="c1">##  File "example2.py", line 16, in &lt;module&gt;</span>
<span class="c1">##    CONST.FOO = 0</span>
<span class="c1">##  File "example2.py", line 6, in fset</span>
<span class="c1">##    raise TypeError</span>
<span class="c1">##TypeError</span>
</pre></div>

<ol>
<li>To define the identifier FOO, firs define two functions (fset, fget - the names are at my choice).</li>
<li>Then use the built-in <code>property</code> function to construct an object that can be "set" or "get".</li>
<li>Note hat the <code>property</code> function's first two parameters are named <code>fset</code> and <code>fget</code>.</li>
<li>Use the fact that we chose these very names for our own getter &amp; setter and create a keyword-dictionary using the ** (double asterisk) applied to all the local definitions of that scope to pass parameters to the <code>property</code> function</li>
</ol>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/github-relative-link-in-markdown-file/" class="u-url">GitHub relative link in Markdown file</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/github-relative-link-in-markdown-file/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T03:19:03+08:00" itemprop="datePublished" title="2023-02-17 03:19">2023-02-17 03:19</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is there a way to create a URL anchor, <code>&lt;a&gt;</code>, link from within a Markdown
file, to another file within the same repository and branch (aka a link
relative to the current branch)?</p>
<p>For example, in the master branch I have a README.md file, which I would like
do something like:</p>
<div class="code"><pre class="code literal-block"><span class="err">#</span><span class="w"> </span><span class="n">My</span><span class="w"> </span><span class="n">Project</span>
<span class="k">is</span><span class="w"> </span><span class="n">really</span><span class="w"> </span><span class="n">really</span><span class="w"> </span><span class="n">cool</span><span class="p">.</span><span class="w"> </span><span class="n">My</span><span class="w"> </span><span class="n">Project</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">subdir</span><span class="w"> </span><span class="n">named</span><span class="w"> </span><span class="n">myLib</span><span class="p">,</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">below</span><span class="p">.</span>

<span class="err">##</span><span class="w"> </span><span class="n">myLib</span><span class="w"> </span><span class="n">documentation</span>
<span class="n">see</span><span class="w"> </span><span class="n">documentation</span><span class="w"> </span><span class="o">[</span><span class="n">here</span><span class="o">]</span><span class="p">(</span><span class="n">myLib</span><span class="o">/</span><span class="n">README</span><span class="p">.</span><span class="n">md</span><span class="p">)</span>
</pre></div>

<p>This would allow me to link from one .md to another within the same branch and
not have to worry about which branch I'm in (avoid having to do an absolute
URL that includes the github.com branch name).</p>
<p>Here is a working example of what I mean:</p>
<ol>
<li>GOTO http://github.com/rynop/testRel, link does not work.</li>
<li>GOTO http://github.com/rynop/testRel/blob/master/README.md, link works.</li>
</ol>
<p>This is expected because at this point the starting URL is in the branch. Now
how do I get it to pick up the current branch in the README.md at the root of
the repository?</p>
<p><strong>Update</strong> : I opened an issue against GitHub for this feature request.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Update <strong>30th, January 2013</strong> , 16 months later:</p>
<h3>GitHub Blog Post <strong>Relative links in markup files</strong> :</h3>
<blockquote>
<p>Starting today, <strong>GitHub supports relative links in markup files</strong>.<br>
 Now you can link directly between different documentation files, whether
you view the documentation on GitHub itself, or locally, using a different
markup renderer.</p>
<p>You want examples of link definitions and how they work? Here's some
Markdown for you.<br>
 Instead of an absolute link:</p>
<div class="code"><pre class="code literal-block"><span class="p">[</span><span class="n">a</span><span class="w"> </span><span class="n">link</span><span class="p">](</span><span class="n">https</span><span class="o">:</span><span class="c1">//github.com/user/repo/blob/branch/other_file.md)</span>
</pre></div>

<p>…you can use a relative link:</p>
<div class="code"><pre class="code literal-block">[a relative link](other_file.md)
[a relative link](path%20with%20spaces/other_file.md)
</pre></div>

<p>and we'll make sure it gets linked to <code>user/repo/blob/branch/other_file.md</code>.</p>
<p>If you were using a workaround like <code>[a workaround
link](repo/blob/master/other_file.md)</code>, you'll have to update your
documentation to use the new syntax.</p>
<p>This also means <strong>your documentation can now easily stand on its own,
without always pointing to GitHub</strong>.</p>
</blockquote>
<p>Marcono1234 adds in the comments</p>
<blockquote>
<p>Also useful: When the link starts with a <code>/</code>, it is relative to the root of
the repository (regardless of whether the markdown file is nested in
subdirectories)</p>
</blockquote>
<hr>
<p>Update December 20th, 2011:</p>
<p>The GitHub markup issue 84 is currently closed by technoweenie, with the
comment:</p>
<blockquote>
<p>We tried adding a <code>&lt;base&gt;</code> tag for this, but it causes problems with other
relative links on the site.</p>
</blockquote>
<hr>
<p>October 12th, 2011:</p>
<p>If you look at the <strong>raw source of the<code>README.md</code></strong> of Markdown itself(!),
relative paths don't seem to be supported.<br>
You will find references like:</p>
<div class="code"><pre class="code literal-block"><span class="o">[</span><span class="n">r2h</span><span class="o">]</span><span class="err">:</span><span class="w"> </span><span class="nl">http</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">github</span><span class="o">/</span><span class="n">markup</span><span class="o">/</span><span class="n">tree</span><span class="o">/</span><span class="n">master</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">github</span><span class="o">/</span><span class="n">commands</span><span class="o">/</span><span class="n">rest2html</span>
<span class="o">[</span><span class="n">r2hc</span><span class="o">]</span><span class="err">:</span><span class="w"> </span><span class="nl">http</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">github</span><span class="o">/</span><span class="n">markup</span><span class="o">/</span><span class="n">tree</span><span class="o">/</span><span class="n">master</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">github</span><span class="o">/</span><span class="n">markups</span><span class="p">.</span><span class="n">rb#L13</span>
</pre></div>

<hr>
<p>As noted in InvisibleWolf's answer, if the target link is a directory and it
has space, then you need to use <code>%20</code> for each space.</p>
<p><br></p>
<h3>Suggest</h3>
<p>For example, you have a repo like the following:</p>
<div class="code"><pre class="code literal-block">project/
    text.md
    subpro/
       subtext.md
       subsubpro/
           subsubtext.md
       subsubpro2/
           subsubtext2.md
</pre></div>

<p>The relative link to <code>subtext.md</code> in <code>text.md</code> might look like this:</p>
<div class="code"><pre class="code literal-block"><span class="p">[</span><span class="n">this</span><span class="w"> </span><span class="n">subtext</span><span class="p">](</span><span class="n">subpro</span><span class="o">/</span><span class="n">subtext</span><span class="p">.</span><span class="n">md</span><span class="p">)</span>
</pre></div>

<p>The relative link to <code>subsubtext.md</code> in <code>text.md</code> might look like this:</p>
<div class="code"><pre class="code literal-block"><span class="p">[</span><span class="n">this</span><span class="w"> </span><span class="n">subsubtext</span><span class="p">](</span><span class="n">subpro</span><span class="o">/</span><span class="n">subsubpro</span><span class="o">/</span><span class="n">subsubtext</span><span class="p">.</span><span class="n">md</span><span class="p">)</span>
</pre></div>

<p>The relative link to <code>subtext.md</code> in <code>subsubtext.md</code> might look like this:</p>
<div class="code"><pre class="code literal-block"><span class="p">[</span><span class="n">this</span><span class="w"> </span><span class="n">subtext</span><span class="p">](..</span><span class="o">/</span><span class="n">subtext</span><span class="p">.</span><span class="n">md</span><span class="p">)</span>
</pre></div>

<p>The relative link to <code>subsubtext2.md</code> in <code>subsubtext.md</code> might look like this:</p>
<div class="code"><pre class="code literal-block"><span class="p">[</span><span class="n">this</span><span class="w"> </span><span class="n">subsubtext2</span><span class="p">](..</span><span class="o">/</span><span class="n">subsubpro2</span><span class="o">/</span><span class="n">subsubtext2</span><span class="p">.</span><span class="n">md</span><span class="p">)</span>
</pre></div>

<p>The relative link to <code>text.md</code> in <code>subsubtext.md</code> might look like this:</p>
<div class="code"><pre class="code literal-block"><span class="p">[</span><span class="n">this</span><span class="w"> </span><span class="n">text</span><span class="p">](..</span><span class="o">/</span><span class="p">..</span><span class="o">/</span><span class="n">text</span><span class="p">.</span><span class="n">md</span><span class="p">)</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-merge-two-commits-into-one-if-i-already-started-rebase/" class="u-url">How can I merge two commits into one if I already started rebase?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-merge-two-commits-into-one-if-i-already-started-rebase/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T03:18:38+08:00" itemprop="datePublished" title="2023-02-17 03:18">2023-02-17 03:18</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am trying to merge 2 commits into 1, so I followed “squashing commits with
rebase” from git ready.</p>
<p>I ran</p>
<div class="code"><pre class="code literal-block">git rebase --interactive HEAD~2
</pre></div>

<p>In the resulting editor, I change <code>pick</code> to <code>squash</code> and then save-quit, but
the rebase fails with the error</p>
<blockquote>
<p>Cannot 'squash' without a previous commit</p>
</blockquote>
<p>Now that my work tree has reached this state, I’m having trouble recovering.</p>
<p>The command <code>git rebase --interactive HEAD~2</code> fails with:</p>
<blockquote>
<p>Interactive rebase already started</p>
</blockquote>
<p>and <code>git rebase --continue</code> fails with</p>
<blockquote>
<p>Cannot 'squash' without a previous commit</p>
</blockquote>
<p><br><br></p>
<h2>Answer</h2>
<h4>Summary</h4>
<p>The error message</p>
<blockquote>
<p>Cannot 'squash' without a previous commit</p>
</blockquote>
<p>means you likely attempted to “squash downward.” <strong>Git always squashes a newer
commit into an older commit</strong> or “upward” as viewed on the interactive rebase
todo list, that is into a commit on a previous line. Changing the command on
your todo list’s very first line to <code>squash</code> will always produce this error as
there is nothing for the first commit to squash into.</p>
<h4>The Fix</h4>
<p>First get back to where you started with</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>git<span class="w"> </span>rebase<span class="w"> </span>--abort
</pre></div>

<p>Say your history is</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>git<span class="w"> </span>log<span class="w"> </span>--pretty<span class="o">=</span>oneline
a931ac7c808e2471b22b5bd20f0cad046b1c5d0d<span class="w"> </span>c
b76d157d507e819d7511132bdb5a80dd421d854f<span class="w"> </span>b
df239176e1a2ffac927d8b496ea00d5488481db5<span class="w"> </span>a
</pre></div>

<p>That is, a was the first commit, then b, and finally c. After committing c we
decide to squash b and c together:</p>
<p><em>(Note: Running<code>git log</code> pipes its output into a pager, <code>less</code> by default on
most platforms. To quit the pager and return to your command prompt, press the
<code>q</code> key.)</em></p>
<p>Running <code>git rebase --interactive HEAD~2</code> gives you an editor with</p>
<div class="code"><pre class="code literal-block"><span class="nv">pick</span><span class="w"> </span><span class="nv">b76d157</span><span class="w"> </span><span class="nv">b</span>
<span class="nv">pick</span><span class="w"> </span><span class="nv">a931ac7</span><span class="w"> </span><span class="nv">c</span>

#<span class="w"> </span><span class="nv">Rebase</span><span class="w"> </span><span class="nv">df23917</span>..<span class="nv">a931ac7</span><span class="w"> </span><span class="nv">onto</span><span class="w"> </span><span class="nv">df23917</span>
#
#<span class="w"> </span><span class="nv">Commands</span>:
#<span class="w">  </span><span class="nv">p</span>,<span class="w"> </span><span class="nv">pick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">use</span><span class="w"> </span><span class="nv">commit</span>
#<span class="w">  </span><span class="nv">r</span>,<span class="w"> </span><span class="nv">reword</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">use</span><span class="w"> </span><span class="nv">commit</span>,<span class="w"> </span><span class="nv">but</span><span class="w"> </span><span class="nv">edit</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">commit</span><span class="w"> </span><span class="nv">message</span>
#<span class="w">  </span><span class="nv">e</span>,<span class="w"> </span><span class="nv">edit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">use</span><span class="w"> </span><span class="nv">commit</span>,<span class="w"> </span><span class="nv">but</span><span class="w"> </span><span class="nv">stop</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">amending</span>
#<span class="w">  </span><span class="nv">s</span>,<span class="w"> </span><span class="nv">squash</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">use</span><span class="w"> </span><span class="nv">commit</span>,<span class="w"> </span><span class="nv">but</span><span class="w"> </span><span class="nv">meld</span><span class="w"> </span><span class="nv">into</span><span class="w"> </span><span class="nv">previous</span><span class="w"> </span><span class="nv">commit</span>
#<span class="w">  </span><span class="nv">f</span>,<span class="w"> </span><span class="nv">fixup</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">like</span><span class="w"> </span><span class="s2">"squash"</span>,<span class="w"> </span><span class="nv">but</span><span class="w"> </span><span class="nv">discard</span><span class="w"> </span><span class="nv">this</span><span class="w"> </span><span class="nv">commit</span><span class="err">'s log message</span>
<span class="err">#</span>
<span class="err"># If you remove a line here THAT COMMIT WILL BE LOST.</span>
<span class="err"># However, if you remove everything, the rebase will be aborted.</span>
<span class="err">#</span>
</pre></div>

<p>(Notice that this todo list is in the reverse order as compared with the
output of <code>git log</code>.)</p>
<p>Changing b’s <code>pick</code> to <code>squash</code> will result in the error you saw, but if
instead you squash c into b (newer commit into the older or “squashing
upward”) by changing the todo list to</p>
<div class="code"><pre class="code literal-block">pick   b76d157 b
squash a931ac7 c
</pre></div>

<p>and save-quitting your editor, you'll get another editor whose contents are</p>
<div class="code"><pre class="code literal-block"># This is a combination of 2 commits.
# The first commit's message is:

b

# This is the 2nd commit message:

c
</pre></div>

<p>When you save and quit, the contents of the edited file become commit message
of the new combined commit:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>git<span class="w"> </span>log<span class="w"> </span>--pretty<span class="o">=</span>oneline
18fd73d3ce748f2a58d1b566c03dd9dafe0b6b4f<span class="w"> </span>b<span class="w"> </span>and<span class="w"> </span>c
df239176e1a2ffac927d8b496ea00d5488481db5<span class="w"> </span>a
</pre></div>

<h4>Note About Rewriting History</h4>
<p>Interactive rebase rewrites history. Attempting to push to a remote that
contains the old history will fail because it is not a fast-forward.</p>
<p>If the branch you rebased is a topic or feature branch <em>in which you are
working by yourself</em> , no big deal. Pushing to another repository will require
the <code>--force</code> option, or alternatively you may be able, depending on the
remote repository’s permissions, to first delete the old branch and then push
the rebased version. Examples of those commands that will potentially destroy
work is outside the scope of this answer.</p>
<p>Rewriting already-published history on a branch in which you are working with
other people without <em>very</em> good reason such as leaking a password or other
sensitive details forces work onto your collaborators and is antisocial and
will annoy other developers. The “Recovering From an Upstream Rebase” section
in the <code>git rebase</code> documentation explains, with added emphasis.</p>
<blockquote>
<p>Rebasing (or any other form of rewriting) a branch that others have based
work on is a bad idea: anyone downstream of it is forced to manually fix
their history. This section explains how to do the fix from the downstream’s
point of view. <strong>The real fix, however, would be to avoid rebasing the
upstream in the first place.</strong> …</p>
</blockquote>
<p><br></p>
<h3>Suggest</h3>
<p>If there are multiple commits, you can use <code>git rebase -i</code> to squash two
commits into one.</p>
<p>If there are only two commits you want to merge, and they are the "most recent
two", the following commands can be used to combine the two commits into one:</p>
<div class="code"><pre class="code literal-block">git reset --soft "HEAD^"
git commit --amend
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-299.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-297.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 89) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-89.html">
<link rel="prev" href="index-90.html" type="text/html">
<link rel="next" href="index-88.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/ru-he-shi-yong-pip-sheng-ji-suo-you-python-bao/" class="u-url">如何使用 pip 升级所有 Python 包</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/ru-he-shi-yong-pip-sheng-ji-suo-you-python-bao/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T21:00:03+08:00" itemprop="datePublished" title="2023-02-16 21:00">2023-02-16 21:00</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p><strong>想要改进这篇文章？</strong> 提供此问题的详细答案，包括引用和解释为什么你的答案是正确的。不够详细的答案可能会被编辑或删除。</p>
<p>是否可以一次升级所有 Python 包 <strong><code>pip</code></strong> ？</p>
<p><strong>注意</strong> ：在官方问题跟踪器上有一个功能请求。</p>
<p><br><br></p>
<h2>解答</h2>
<p>目前还没有内置标志。从 pip 版本 22.3 开始，<code>--outdated</code>和<code>--format=freeze</code>变得互斥了。使用 Python 解析
JSON 输出：</p>
<div class="code"><pre class="code literal-block"><span class="n">pip</span> <span class="o">--</span><span class="n">disable</span><span class="o">-</span><span class="n">pip</span><span class="o">-</span><span class="n">version</span><span class="o">-</span><span class="n">check</span> <span class="nb">list</span> <span class="o">--</span><span class="n">outdated</span> <span class="o">--</span><span class="nb">format</span><span class="o">=</span><span class="n">json</span> <span class="o">|</span> <span class="n">python</span> <span class="o">-</span><span class="n">c</span> <span class="s2">"import json, sys; print('</span><span class="se">\n</span><span class="s2">'.join([x['name'] for x in json.load(sys.stdin)]))"</span>
</pre></div>

<p>如果您正在使用，<code>pip&lt;22.3</code>您可以使用：</p>
<div class="code"><pre class="code literal-block">pip list --outdated --format=freeze | grep -v '^\-e' | cut -d = -f 1  | xargs -n1 pip install -U
</pre></div>

<p>对于旧版本<code>pip</code>：</p>
<div class="code"><pre class="code literal-block">pip freeze --local | grep -v '^\-e' | cut -d = -f 1  | xargs -n1 pip install -U
</pre></div>

<hr>
<ul>
<li>
<p>正如@jawache 所建议的，这<code>grep</code>是跳过可编辑的（“-e”）包定义。（是的，您可以将<code>grep</code>+替换<code>cut</code>为<code>sed</code>or<code>awk</code>或<code>perl</code>or...）。</p>
</li>
<li>
<p><code>-n1</code>如果更新一个包失败，用于防止停止一切的标志（<code>xargs</code>感谢@andsens）。</p>
</li>
</ul>
<hr>
<p><strong>注意：</strong> 这有无限的潜在变化。我试图让这个答案简短明了，但请务必在评论中提出变化建议！</p>
<p><br></p>
<h3>更多建议</h3>
<p>您可以使用以下 Python 代码。与 不同<code>pip freeze</code>，这不会打印警告和 FIXME 错误。 <strong>对于 pip &lt; 10.0.1</strong></p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">pip</span>
<span class="kn">from</span> <span class="nn">subprocess</span> <span class="kn">import</span> <span class="n">call</span>

<span class="n">packages</span> <span class="o">=</span> <span class="p">[</span><span class="n">dist</span><span class="o">.</span><span class="n">project_name</span> <span class="k">for</span> <span class="n">dist</span> <span class="ow">in</span> <span class="n">pip</span><span class="o">.</span><span class="n">get_installed_distributions</span><span class="p">()]</span>
<span class="n">call</span><span class="p">(</span><span class="s2">"pip install --upgrade "</span> <span class="o">+</span> <span class="s1">' '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">packages</span><span class="p">),</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

<p><strong>对于 pip &gt;= 10.0.1</strong></p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">pkg_resources</span>
<span class="kn">from</span> <span class="nn">subprocess</span> <span class="kn">import</span> <span class="n">call</span>

<span class="n">packages</span> <span class="o">=</span> <span class="p">[</span><span class="n">dist</span><span class="o">.</span><span class="n">project_name</span> <span class="k">for</span> <span class="n">dist</span> <span class="ow">in</span> <span class="n">pkg_resources</span><span class="o">.</span><span class="n">working_set</span><span class="p">]</span>
<span class="n">call</span><span class="p">(</span><span class="s2">"pip install --upgrade "</span> <span class="o">+</span> <span class="s1">' '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">packages</span><span class="p">),</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

<p><br><br><a href="posts/how-to-upgrade-all-python-packages-with-pip/">查看原文</a></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/zai-java-zhong-ru-he-que-ding-shu-zu-shi-fou-bao-han-te-ding-zhi/" class="u-url">在 Java 中如何确定数组是否包含特定值？</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/zai-java-zhong-ru-he-que-ding-shu-zu-shi-fou-bao-han-te-ding-zhi/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T20:59:25+08:00" itemprop="datePublished" title="2023-02-16 20:59">2023-02-16 20:59</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>我有一个<code>String[]</code>像这样的值：</p>
<div class="code"><pre class="code literal-block">public static final String[] VALUES = new String[] {"AB","BC","CD","AE"};
</pre></div>

<p>鉴于此，是否有测试是否包含<code>String s</code>的好方法？<code>VALUES``s</code></p>
<p><br><br></p>
<h2>解答</h2>
<div class="code"><pre class="code literal-block">Arrays.asList(yourArray).contains(yourValue)
</pre></div>

<p>警告：这不适用于基元数组（请参阅注释）。</p>
<hr>
<h3>自从Java-8您现在可以使用流。</h3>
<div class="code"><pre class="code literal-block">String[] values = {"AB","BC","CD","AE"};
boolean contains = Arrays.stream(values).anyMatch("s"::equals);
</pre></div>

<p><code>int</code>要检查 ,或<code>double</code>的数组是否<code>long</code>包含值<code>IntStream</code>，请分别使用
,<code>DoubleStream</code>或<code>LongStream</code>。</p>
<h3>例子</h3>
<div class="code"><pre class="code literal-block"><span class="n">int</span><span class="p">[]</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">};</span>
<span class="kt">boolean</span><span class="w"> </span><span class="n">contains</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">IntStream</span><span class="p">.</span><span class="kr">of</span><span class="p">(</span><span class="n">a</span><span class="p">).</span><span class="n">anyMatch</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
</pre></div>

<p><br></p>
<h3>更多建议</h3>
<h3>Java SE 9 的简明更新</h3>
<p>参考数组不好。对于这种情况，我们正在寻找一组。自 Java SE 9 以来，我们有了<code>Set.of</code>.</p>
<div class="code"><pre class="code literal-block">private static final Set&lt;String&gt; VALUES = Set.of(
    "AB","BC","CD","AE"
);
</pre></div>

<p>“给定 String s，有没有好的方法来测试 VALUES 是否包含 s？”</p>
<div class="code"><pre class="code literal-block">VALUES.contains(s)
</pre></div>

<p>O（1）。</p>
<p><strong>正确的类型</strong> 、不可 <strong>变的</strong> 、 <strong>O(1)</strong> 和 <strong>简洁的</strong> 。美丽的。*</p>
<h3>原答案详情</h3>
<p>只是为了清除代码开始。我们有（更正）：</p>
<div class="code"><pre class="code literal-block">public static final String[] VALUES = new String[] {"AB","BC","CD","AE"};
</pre></div>

<p>这是一个可变的静态变量，FindBugs 会告诉你它非常顽皮。不要修改静态变量，也不允许其他代码这样做。至少，该字段应该是私有的：</p>
<div class="code"><pre class="code literal-block">private static final String[] VALUES = new String[] {"AB","BC","CD","AE"};
</pre></div>

<p>（请注意，您实际上可以放下位<code>new String[];</code>。）</p>
<p>参考数组仍然不好，我们想要一个集合：</p>
<div class="code"><pre class="code literal-block">private static final Set&lt;String&gt; VALUES = new HashSet&lt;String&gt;(Arrays.asList(
     new String[] {"AB","BC","CD","AE"}
));
</pre></div>

<p>（偏执狂的人，比如我自己，如果把它包裹起来可能会感到更安心<code>Collections.unmodifiableSet</code>——它甚至可以公开。）</p>
<p>（*更重要的是，集合 API 仍然缺少不可变的集合类型，而且语法仍然过于冗长，不符合我的口味。）</p>
<p><br><br><a href="posts/how-do-i-determine-whether-an-array-contains-a-particular-value-in-java/">查看原文</a></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/o-log-n-dao-di-shi-shi-yao-yi-si/" class="u-url">O(log n) 到底是什么意思？</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/o-log-n-dao-di-shi-shi-yao-yi-si/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T20:58:46+08:00" itemprop="datePublished" title="2023-02-16 20:58">2023-02-16 20:58</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>我正在学习 Big O Notation 运行时间和摊销时间。 <em>我理解O(n)</em>
线性时间的概念，这意味着输入的大小按比例影响算法的增长......同样适用于例如二次时间 <em>O(n 2 )_等......甚至算法，例如置换生成器，具有
_O(n!)</em> 次，按阶乘增长。</p>
<p>例如，以下函数是 <em>O(n)，</em> 因为算法的增长与其输入 <em>n</em> 成比例：</p>
<div class="code"><pre class="code literal-block"><span class="nv">f</span><span class="ss">(</span><span class="nv">int</span><span class="w"> </span><span class="nv">n</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">  </span><span class="nv">int</span><span class="w"> </span><span class="nv">i</span><span class="c1">;</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="ss">(</span><span class="nv">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="c1">; i &lt; n; ++i)</span>
<span class="w">    </span><span class="nv">printf</span><span class="ss">(</span><span class="s2">"%d"</span>,<span class="w"> </span><span class="nv">i</span><span class="ss">)</span><span class="c1">;</span>
}
</pre></div>

<p>同样，如果有嵌套循环，则时间为 O(n 2 )。</p>
<p><em>但是O(log n)</em> 到底是什么？ <em>例如，完全二叉树的高度是O(log n)</em> 是什么意思？</p>
<p>我确实知道（可能不是很详细）什么是对数，从某种意义上说：log 10 100 = 2，但我不明白如何识别具有对数时间的函数。</p>
<p><br><br></p>
<h2>解答</h2>
<blockquote>
<p>我无法理解如何识别具有日志时间的函数。</p>
</blockquote>
<p>对数运行时函数最常见的属性是：</p>
<ul>
<li>选择执行某些操作的下一个元素是几种可能性之一，并且</li>
<li>只需要选择一个。</li>
</ul>
<p>或者</p>
<ul>
<li>执行操作的元素是 n 的数字</li>
</ul>
<p>这就是为什么，例如，在电话簿中查找人是 O(log n) 的原因。您不需要检查电话簿中的 <em>每个人来找到合适的人；</em>
相反，您可以通过根据他们的名字按字母顺序查找的位置来简单地分而治之，并且在每个部分中，您只需要浏览每个部分的一个子集，就可以最终找到某人的电话号码。</p>
<p>当然，更大的电话簿仍然会花费您更长的时间，但它的增长速度不会像按比例增加的额外大小那样快。</p>
<hr>
<p>我们可以扩展电话簿示例来比较其他类型的操作及其 <em>运行</em> 时间。我们假设我们的电话簿中有具有唯一名称的 <em>企业</em> （“黄页”）和可能没有唯一名称的
<em>人员（“白页”）。</em> 一个电话号码最多分配给一个人或一家公司。我们还将假设翻到特定页面需要恒定时间。</p>
<p>以下是我们可能对电话簿执行的一些操作的运行时间，从最快到最慢：</p>
<ul>
<li>
<p><strong>O(1)（在最坏的情况下）：</strong> 给定公司名称所在的页面和公司名称，找到电话号码。</p>
</li>
<li>
<p><strong>O(1)（在一般情况下）：</strong> 给定一个人的名字所在的页面和他们的名字，找到电话号码。</p>
</li>
<li>
<p><strong>O(log n)：</strong> 给定一个人的名字，通过在你还没有搜索过的书的一半左右随机选择一个点来找到电话号码，然后检查这个人的名字是否在那个点上。然后在书中写着这个人名字的部分重复大约一半的过程。（这是对人名的二进制搜索。）</p>
</li>
<li>
<p><strong>O(n)：</strong> 找出所有电话号码包含数字“5”的人。</p>
</li>
<li>
<p><strong>O(n)：</strong> 给定一个电话号码，找到拥有该号码的人或公司。</p>
</li>
<li>
<p><strong>O(n log n)：</strong> 打印机办公室发生混乱，我们的电话簿的所有页面都以随机顺序插入。通过查看每一页上的名字，然后将该页放在新的空白电话簿中的适当位置来修复顺序，使其正确无误。</p>
</li>
</ul>
<p>对于以下示例，我们现在在打印机办公室。电话簿正在等待邮寄给每个居民或企业，每个电话簿上都有一张标签，标明应该邮寄到哪里。每个人或企业都有一本电话簿。</p>
<ul>
<li>
<p><strong>O(n log n)：</strong> 我们想要个性化电话簿，所以我们要在他们指定的副本中找到每个人或公司的名字，然后在电话簿中圈出他们的名字，并写一封简短的感谢信以感谢他们的惠顾.</p>
</li>
<li>
<p><strong>O(n 2 )：</strong>办公室发生错误，每个电话簿中的每个条目的电话号码末尾都有一个额外的“0”。取一些白色并删除每个零。</p>
</li>
<li>
<p><strong>O(n · n!)：</strong> 我们已准备好将电话簿装载到装运码头。不幸的是，本应装载书籍的机器人出了问题：它正在以随机顺序将书籍放到卡车上！更糟糕的是，它把所有的书都装上卡车，然后检查它们的顺序是否正确，如果不正确，它就会卸下它们并重新开始。（这是可怕的 <strong>bogo 排序</strong> 。）</p>
</li>
<li>
<p><strong>O(n n )：</strong>你修理机器人，让它正确地装载东西。第二天，您的一位同事对您开了个恶作剧，并将装卸码头机器人连接到自动打印系统。每次机器人去加载一本原始的电话簿时，工厂打印机都会重复运行所有电话簿！幸运的是，机器人的错误检测系统足够复杂，当机器人遇到要加载的重复书籍时不会尝试打印更多副本，但它仍然必须加载每本已打印的原始书籍和副本书籍。</p>
</li>
</ul>
<p><br></p>
<h3>更多建议</h3>
<p><code>O(log N)</code>基本上意味着时间线性上升，而<code>n</code>指数上升。因此，如果<code>1</code>计算元素需要 second <code>10</code>，则计算元素将花费<code>2</code>seconds
<code>100</code>，<code>3</code>seconds 计算<code>1000</code>元素，依此类推。</p>
<p>这是<code>O(log
n)</code>我们分而治之的算法类型，例如二进制搜索。另一个例子是快速排序，每次我们将数组分成两部分，每次都需要<code>O(N)</code>时间来找到一个枢轴元素。因此它<code>N
O(log N)</code></p>
<p><br><br><a href="posts/what-does-o-log-n-mean-exactly/">查看原文</a></p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-90.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-88.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

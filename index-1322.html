<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1322) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1322.html">
<link rel="prev" href="index-1323.html" type="text/html">
<link rel="next" href="index-1321.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-the-significance-of-1-1-1753-in-sql-server/" class="u-url">What is the significance of 1/1/1753 in SQL Server?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-the-significance-of-1-1-1753-in-sql-server/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T06:37:53+08:00" itemprop="datePublished" title="2023-02-18 06:37">2023-02-18 06:37</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Why 1753? What do they have against 1752? My great great great great great
great great grandfather would be very offended.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The decision to use 1st January 1753 (<code>1753-01-01</code>) as the minimum date value
for a datetime in SQL Server goes back to its Sybase origins.</p>
<p>The significance of the date itself though can be attributed to this man.</p>
<p><img alt="Philip Stanhope, 4th Earl of Chesterfield" src="images/EGnwX.png"></p>
<p>Philip Stanhope, 4th Earl of Chesterfield. Who steered the Calendar (New
Style) Act 1750 through the British Parliament. This legislated for the
adoption of the Gregorian calendar for Britain and its then colonies.</p>
<p>There were some missing days (internet archive link) in the British calendar
in 1752 when the adjustment was finally made from the Julian calendar.
September 3, 1752 to September 13, 1752 were lost.</p>
<p>Kalen Delaney explained the choice this way</p>
<blockquote>
<p>So, with 12 days lost, how can you compute dates? For example, how can you
compute the number of days between October 12, 1492, and July 4, 1776? Do
you include those missing 12 days? To avoid having to solve this problem,
the original Sybase SQL Server developers decided not to allow dates before
1753. You can store earlier dates by using character fields, but you can't
use any datetime functions with the earlier dates that you store in
character fields.</p>
</blockquote>
<p>The choice of 1753 does seem somewhat anglocentric however as many catholic
countries in Europe had been using the calendar for 170 years before the
British implementation (originally delayed due to opposition by the church).
Conversely many countries did not reform their calendars until much later,
1918 in Russia. Indeed the October Revolution of 1917 started on 7 November
under the Gregorian calendar.</p>
<p>Both <code>datetime</code> and the new <code>datetime2</code> datatype mentioned in Joe's answer do
not attempt to account for these local differences and simply use the
Gregorian Calendar.</p>
<p>So with the greater range of <code>datetime2</code></p>
<div class="code"><pre class="code literal-block">SELECT CONVERT(VARCHAR, DATEADD(DAY,-5,CAST('1752-09-13' AS DATETIME2)),100)
</pre></div>

<p>Returns</p>
<div class="code"><pre class="code literal-block">Sep  8 1752 12:00AM
</pre></div>

<p>One final point with the <code>datetime2</code> data type is that it uses the proleptic
Gregorian calendar projected backwards to well before it was actually invented
so is of limited use in dealing with historic dates.</p>
<p>This contrasts with other Software implementations such as the Java Gregorian
Calendar class which defaults to following the Julian Calendar for dates until
October 4, 1582 then jumping to October 15, 1582 in the new Gregorian
calendar. It correctly handles the Julian model of leap year before that date
and the Gregorian model after that date. The cutover date may be changed by
the caller by calling <code>setGregorianChange()</code>.</p>
<p>A fairly entertaining article discussing some more peculiarities with the
adoption of the calendar can be found here.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Your great great great great great great great grandfather should upgrade to
SQL Server 2008 and use the DateTime2 data type, which supports dates in the
range: 0001-01-01 through 9999-12-31.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-get-the-status-code-from-an-http-error-in-axios/" class="u-url">How can I get the status code from an HTTP error in Axios?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-get-the-status-code-from-an-http-error-in-axios/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T06:37:22+08:00" itemprop="datePublished" title="2023-02-18 06:37">2023-02-18 06:37</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>This may seem stupid, but I'm trying to get the error data when a request
fails in Axios.</p>
<div class="code"><pre class="code literal-block"><span class="nt">axios</span>
<span class="w">  </span><span class="p">.</span><span class="nc">get</span><span class="o">(</span><span class="s1">'foo.example'</span><span class="o">)</span>
<span class="w">  </span><span class="p">.</span><span class="nc">then</span><span class="o">((</span><span class="nt">response</span><span class="o">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{}</span><span class="o">)</span>
<span class="w">  </span><span class="p">.</span><span class="nc">catch</span><span class="o">((</span><span class="nt">error</span><span class="o">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">console.log(error)</span><span class="p">;</span><span class="w"> </span><span class="err">//Logs</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="n">string</span><span class="p">:</span><span class="w"> </span><span class="n">Error</span><span class="o">:</span><span class="w"> </span><span class="n">Request</span><span class="w"> </span><span class="n">failed</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="mi">404</span>
<span class="w">  </span><span class="p">}</span><span class="o">);</span>
</pre></div>

<p>Instead of the string, is it possible to get an object with perhaps the status
code and content? For example:</p>
<div class="code"><pre class="code literal-block">Object = {status: 404, reason: 'Not found', body: '404 Not found'}
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>What you see is the string returned by the <code>toString</code> method of the <code>error</code>
object. (<code>error</code> is not a string.)</p>
<p>If a response has been received from the server, the <code>error</code> object will
contain the <code>response</code> property:</p>
<div class="code"><pre class="code literal-block"><span class="nv">axios</span>.<span class="nv">get</span><span class="ss">(</span><span class="s1">'/foo'</span><span class="ss">)</span>
<span class="w">  </span>.<span class="nv">catch</span><span class="ss">(</span><span class="nv">function</span><span class="w"> </span><span class="ss">(</span><span class="nv">error</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">error</span>.<span class="nv">response</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">      </span><span class="nv">console</span>.<span class="nv">log</span><span class="ss">(</span><span class="nv">error</span>.<span class="nv">response</span>.<span class="nv">data</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">      </span><span class="nv">console</span>.<span class="nv">log</span><span class="ss">(</span><span class="nv">error</span>.<span class="nv">response</span>.<span class="nv">status</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">      </span><span class="nv">console</span>.<span class="nv">log</span><span class="ss">(</span><span class="nv">error</span>.<span class="nv">response</span>.<span class="nv">headers</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span>}
<span class="w">  </span>}<span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>With TypeScript, it is easy to find what you want with the right type.</p>
<p>This makes everything easier because you can get all the properties of the
type with autocomplete, so you can know the proper structure of your response
and error.</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="p">{</span> <span class="n">AxiosResponse</span><span class="p">,</span> <span class="n">AxiosError</span> <span class="p">}</span> <span class="kn">from</span> <span class="s1">'axios'</span>

<span class="n">axios</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'foo.example'</span><span class="p">)</span>
  <span class="o">.</span><span class="n">then</span><span class="p">((</span><span class="n">response</span><span class="p">:</span> <span class="n">AxiosResponse</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="o">//</span> <span class="n">Handle</span> <span class="n">response</span>
  <span class="p">})</span>
  <span class="o">.</span><span class="n">catch</span><span class="p">((</span><span class="n">reason</span><span class="p">:</span> <span class="n">AxiosError</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">reason</span><span class="o">.</span><span class="n">response</span><span class="err">!</span><span class="o">.</span><span class="n">status</span> <span class="o">===</span> <span class="mi">400</span><span class="p">)</span> <span class="p">{</span>
      <span class="o">//</span> <span class="n">Handle</span> <span class="mi">400</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="o">//</span> <span class="n">Handle</span> <span class="k">else</span>
    <span class="p">}</span>
    <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">reason</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>
  <span class="p">})</span>
</pre></div>

<p>Also, you can pass a parameter to both types to tell what are you expecting
inside <code>response.data</code> like so:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="p">{</span> <span class="n">AxiosResponse</span><span class="p">,</span> <span class="n">AxiosError</span> <span class="p">}</span> <span class="kn">from</span> <span class="s1">'axios'</span>
<span class="n">axios</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'foo.example'</span><span class="p">)</span>
  <span class="o">.</span><span class="n">then</span><span class="p">((</span><span class="n">response</span><span class="p">:</span> <span class="n">AxiosResponse</span><span class="o">&lt;</span><span class="p">{</span><span class="n">user</span><span class="p">:{</span><span class="n">name</span><span class="p">:</span><span class="n">string</span><span class="p">}}</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="o">//</span> <span class="n">Handle</span> <span class="n">response</span>
  <span class="p">})</span>
  <span class="o">.</span><span class="n">catch</span><span class="p">((</span><span class="n">reason</span><span class="p">:</span> <span class="n">AxiosError</span><span class="o">&lt;</span><span class="p">{</span><span class="n">additionalInfo</span><span class="p">:</span><span class="n">string</span><span class="p">}</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">reason</span><span class="o">.</span><span class="n">response</span><span class="err">!</span><span class="o">.</span><span class="n">status</span> <span class="o">===</span> <span class="mi">400</span><span class="p">)</span> <span class="p">{</span>
      <span class="o">//</span> <span class="n">Handle</span> <span class="mi">400</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="o">//</span> <span class="n">Handle</span> <span class="k">else</span>
    <span class="p">}</span>
    <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">reason</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>
  <span class="p">})</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/angularjs-ngclass-conditional/" class="u-url">AngularJS ngClass conditional</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/angularjs-ngclass-conditional/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T06:36:56+08:00" itemprop="datePublished" title="2023-02-18 06:36">2023-02-18 06:36</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is there any way to make an expression for something like <code>ng-class</code> to be a
conditional?</p>
<p>For example, I have tried the following:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;span</span><span class="w"> </span><span class="na">ng-class=</span><span class="s">"{test: 'obj.value1 == \'someothervalue\''}"</span><span class="nt">&gt;</span>test<span class="nt">&lt;/span&gt;</span>
</pre></div>

<p>The issue with this code is that no matter what <code>obj.value1</code> is, the class
test is always applied to the element. Doing this:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;span</span><span class="w"> </span><span class="na">ng-class=</span><span class="s">"{test: obj.value2}"</span><span class="nt">&gt;</span>test<span class="nt">&lt;/span&gt;</span>
</pre></div>

<p>As long as <code>obj.value2</code> does not equal a truthy value, the class in not
applied. Now I can work around the issue in the first example by doing this:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;span</span><span class="w"> </span><span class="na">ng-class=</span><span class="s">"{test: checkValue1()}"</span><span class="nt">&gt;</span>test<span class="nt">&lt;/span&gt;</span>
</pre></div>

<p>Where the <code>checkValue1</code> function looks like this:</p>
<div class="code"><pre class="code literal-block">$<span class="nv">scope</span>.<span class="nv">checkValue1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">function</span><span class="ss">()</span><span class="w"> </span>{
<span class="w">  </span><span class="k">return</span><span class="w"> </span>$<span class="nv">scope</span>.<span class="nv">obj</span>.<span class="nv">value</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">'somevalue'</span><span class="c1">;</span>
}
</pre></div>

<p>I am just wondering if this is how <code>ng-class</code> is supposed to work. I am also
building a custom directive where I would like to do something similar to
this. However, I can't find a way to watch an expression (and maybe that is
impossible and the reason why it works like this).</p>
<p>Here is a plnkr to show what I mean.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Your first attempt was almost right, It should work without the quotes.</p>
<div class="code"><pre class="code literal-block">{test: obj.value1 == 'someothervalue'}
</pre></div>

<p>Here is a plnkr.</p>
<p>The ngClass directive will work with any expression that evaluates truthy or
falsey, a bit similar to Javascript expressions but with some differences, you
can read about here. If your conditional is too complex, then you can use a
function that returns truthy or falsey, as you did in your third attempt.</p>
<p>Just to complement: You can also use logical operators to form logical
expressions like</p>
<div class="code"><pre class="code literal-block">ng-class="{'test': obj.value1 == 'someothervalue' || obj.value2 == 'somethingelse'}"
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Using ng-class inside ng-repeat</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;table&gt;</span>
<span class="w">    </span><span class="nt">&lt;tbody&gt;</span>
<span class="w">            </span><span class="nt">&lt;tr</span><span class="w"> </span><span class="na">ng-repeat=</span><span class="s">"task in todos"</span>
<span class="w">                </span><span class="na">ng-class=</span><span class="s">"{'warning': task.status == 'Hold' , 'success': task.status == 'Completed',</span>
<span class="s">              'active': task.status == 'Started', 'danger': task.status == 'Pending' } "</span><span class="nt">&gt;</span>
<span class="w">                </span><span class="nt">&lt;td&gt;</span><span class="cp">{{</span><span class="err">$</span><span class="nv">index</span> <span class="o">+</span> <span class="m">1</span><span class="cp">}}</span><span class="nt">&lt;/td&gt;</span>
<span class="w">                </span><span class="nt">&lt;td&gt;</span><span class="cp">{{</span><span class="nv">task.name</span><span class="cp">}}</span><span class="nt">&lt;/td&gt;</span>
<span class="w">                </span><span class="nt">&lt;td&gt;</span><span class="cp">{{</span><span class="nv">task.date</span><span class="o">|</span><span class="nf">date</span><span class="s1">:'yyyy-MM-dd'</span><span class="cp">}}</span><span class="nt">&lt;/td&gt;</span>
<span class="w">                </span><span class="nt">&lt;td&gt;</span><span class="cp">{{</span><span class="nv">task.status</span><span class="cp">}}</span><span class="nt">&lt;/td&gt;</span>
<span class="w">            </span><span class="nt">&lt;/tr&gt;</span>
<span class="w">    </span><span class="nt">&lt;/tbody&gt;</span>
<span class="nt">&lt;/table&gt;</span>
</pre></div>

<p>For each status in task.status a different class is used for the row.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1323.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1321.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

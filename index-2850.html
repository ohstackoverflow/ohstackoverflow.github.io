<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2850) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2850.html">
<link rel="prev" href="index-2851.html" type="text/html">
<link rel="next" href="index-2849.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/size-of-character-a-in-c-c/" class="u-url">Size of character ('a') in C/C++</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/size-of-character-a-in-c-c/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T22:38:47+08:00" itemprop="datePublished" title="2023-03-05 22:38">2023-03-05 22:38</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What is the size of character in C and C++ ? As far as I know the size of char
is 1 byte in both C and C++.</p>
<p><strong>In C:</strong></p>
<div class="code"><pre class="code literal-block"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">"Size of char : %d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">));</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p><strong>In C++:</strong></p>
<div class="code"><pre class="code literal-block"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="kr">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"Size of char : "</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="kr">sizeof</span><span class="p">(</span><span class="kr">char</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>No surprises, both of them gives the output : <code>Size of char : 1</code></p>
<p>Now we know that characters are represented as <code>'a'</code>,<code>'b'</code>,<code>'c'</code>,<code>'|'</code>,... So
I just modified the above codes to these:</p>
<p><strong>In C:</strong></p>
<div class="code"><pre class="code literal-block"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">'a'</span><span class="p">;</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">"Size of char : %d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">a</span><span class="p">));</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">"Size of char : %d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="sc">'a'</span><span class="p">));</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p><strong>Output:</strong></p>
<div class="code"><pre class="code literal-block">Size of char : 1
Size of char : 4
</pre></div>

<p><strong>In C++:</strong></p>
<div class="code"><pre class="code literal-block"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="kr">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="kr">char</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">'a'</span><span class="p">;</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"Size of char : "</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="kr">sizeof</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"Size of char : "</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="kr">sizeof</span><span class="p">(</span><span class="sc">'a'</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p><strong>Output:</strong></p>
<div class="code"><pre class="code literal-block">Size of char : 1
Size of char : 1
</pre></div>

<p><strong>Why the<code>sizeof('a')</code> returns different values in C and C++?</strong></p>
<p><br><br></p>
<h2>Answer</h2>
<p>In C, the type of a character <em>constant</em> like <code>'a'</code> is actually an <code>int</code>, with
size of 4 (or some other implementation-dependent value). In C++, the type is
<code>char</code>, with size of 1. This is one of many small differences between the two
languages.</p>
<p><br></p>
<h3>Suggest</h3>
<p>As Paul stated, it's because <code>'a'</code> is an <code>int</code> in C but a <code>char</code> in C++.</p>
<p>I cover that specific difference between C and C++ in something I wrote a few
years ago, at: http://david.tribble.com/text/cdiffs.htm</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-are-type-hints-in-python-3-5/" class="u-url">What are type hints in Python 3.5?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-are-type-hints-in-python-3-5/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T22:37:22+08:00" itemprop="datePublished" title="2023-03-05 22:37">2023-03-05 22:37</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>One of the most talked-about features in Python 3.5 is <strong>type hints</strong>.</p>
<p>An example of <strong>type hints</strong> is mentioned in this article and this one while
also mentioning to use type hints responsibly. Can someone explain more about
them and when they should be used and when not?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>I would suggest reading PEP 483 and PEP 484 and watching this presentation by
Guido on type hinting.</p>
<p><strong>In a nutshell</strong> : <em>Type hinting is literally what the words mean. You hint
the type of the object(s) you're using</em>.</p>
<p>Due to the <em>dynamic</em> nature of Python, <em>inferring or checking the type</em> of an
object being used is especially hard. This fact makes it hard for developers
to understand what exactly is going on in code they haven't written and, most
importantly, for type checking tools found in many IDEs (PyCharm and PyDev
come to mind) that are limited due to the fact that they don't have any
indicator of what type the objects are. As a result they resort to trying to
infer the type with (as mentioned in the presentation) around 50% success
rate.</p>
<hr>
<p>To take two important slides from the type hinting presentation:</p>
<h4><em><strong>Why type hints?</strong></em></h4>
<ol>
<li>
<strong>Helps type checkers:</strong> By hinting at what type you want the object to be the type checker can easily detect if, for instance, you're passing an object with a type that isn't expected.</li>
<li>
<strong>Helps with documentation:</strong> A third person viewing your code will know what is expected where, ergo, how to use it without getting them <code>TypeErrors</code>.</li>
<li>
<strong>Helps IDEs develop more accurate and robust tools:</strong> Development Environments will be better suited at suggesting appropriate methods when know what type your object is. You have probably experienced this with some IDE at some point, hitting the <code>.</code> and having methods/attributes pop up which aren't defined for an object.</li>
</ol>
<h4><em><strong>Why use static type checkers?</strong></em></h4>
<ul>
<li>
<strong>Find bugs sooner</strong> : This is self-evident, I believe.</li>
<li>
<strong>The larger your project the more you need it</strong> : Again, makes sense. Static languages offer a robustness and control that dynamic languages lack. The bigger and more complex your application becomes the more control and predictability (from a behavioral aspect) you require.</li>
<li>
<strong>Large teams are already running static analysis</strong> : I'm guessing this verifies the first two points.</li>
</ul>
<p><strong>As a closing note for this small introduction</strong> : This is an <strong>optional</strong>
feature and, from what I understand, it has been introduced in order to reap
some of the benefits of static typing.</p>
<p>You generally <strong>do not</strong> need to worry about it and <strong>definitely</strong> don't need
to use it (especially in cases where you use Python as an auxiliary scripting
language). It should be helpful when developing large projects as <em>it offers
much needed robustness, control and additional debugging capabilities</em>.</p>
<hr>
<h3>
<strong>Type hinting with mypy</strong> :</h3>
<p>In order to make this answer more complete, I think a little demonstration
would be suitable. I'll be using <code>mypy</code>, the library which inspired Type Hints
as they are presented in the PEP. This is mainly written for anybody bumping
into this question and wondering where to begin.</p>
<p>Before I do that let me reiterate the following: PEP 484 doesn't enforce
anything; it is simply setting a direction for function annotations and
proposing guidelines for <strong>how</strong> type checking can/should be performed. You
can annotate your functions and hint as many things as you want; your scripts
will still run regardless of the presence of annotations because Python itself
doesn't use them.</p>
<p>Anyways, as noted in the PEP, hinting types should generally take three forms:</p>
<ul>
<li>Function annotations (PEP 3107).</li>
<li>Stub files for built-in/user modules.</li>
<li>Special <code># type: type</code> comments that complement the first two forms. (See: <strong>What are variable annotations?</strong> for a Python 3.6 update for <code># type: type</code> comments)</li>
</ul>
<p>Additionally, you'll want to use type hints in conjunction with the new
<code>typing</code> module introduced in <code>Py3.5</code>. In it, many (additional) ABCs (abstract
base classes) are defined along with helper functions and decorators for use
in static checking. Most ABCs in <code>collections.abc</code> are included, but in a
<em>generic</em> form in order to allow subscription (by defining a <code>__getitem__()</code>
method).</p>
<p>For anyone interested in a more in-depth explanation of these, the <code>mypy
documentation</code> is written very nicely and has a lot of code samples
demonstrating/describing the functionality of their checker; it is definitely
worth a read.</p>
<h4>Function annotations and special comments:</h4>
<p>First, it's interesting to observe some of the behavior we can get when using
special comments. Special <code># type: type</code> comments can be added during variable
assignments to indicate the type of an object if one cannot be directly
inferred. Simple assignments are generally easily inferred but others, like
lists (with regard to their contents), cannot.</p>
<p><strong>Note:</strong> If we want to use any derivative of <em>containers</em> and need to specify
the contents for that container we <strong>must</strong> use the <em><strong>generic</strong></em> types from
the <code>typing</code> module. <strong>These support indexing.</strong></p>
<div class="code"><pre class="code literal-block"><span class="c1"># Generic List, supports indexing.</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>

<span class="c1"># In this case, the type is easily inferred as type: int.</span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>

<span class="c1"># Even though the type can be inferred as of type list</span>
<span class="c1"># there is no way to know the contents of this list.</span>
<span class="c1"># By using type: List[str] we indicate we want to use a list of strings.</span>
<span class="n">a</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># type: List[str]</span>

<span class="c1"># Appending an int to our list</span>
<span class="c1"># is statically not correct.</span>
<span class="n">a</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

<span class="c1"># Appending a string is fine.</span>
<span class="n">a</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">"i"</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>  <span class="c1"># [0, 'i']</span>
</pre></div>

<p>If we add these commands to a file and execute them with our interpreter,
everything works just fine and <code>print(a)</code> just prints the contents of list
<code>a</code>. The <code># type</code> comments have been discarded, <em>treated as plain comments
which have no additional semantic meaning</em>.</p>
<p>By running this with <code>mypy</code>, on the other hand, we get the following response:</p>
<div class="code"><pre class="code literal-block"><span class="p">(</span><span class="n">Python3</span><span class="p">)</span><span class="n">jimmi</span><span class="nv">@jim</span><span class="err">:</span><span class="w"> </span><span class="n">mypy</span><span class="w"> </span><span class="n">typeHintsCode</span><span class="p">.</span><span class="n">py</span>
<span class="n">typesInline</span><span class="p">.</span><span class="nl">py</span><span class="p">:</span><span class="mi">14</span><span class="err">:</span><span class="w"> </span><span class="nl">error</span><span class="p">:</span><span class="w"> </span><span class="n">Argument</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="ss">"append"</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="ss">"list"</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">incompatible</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="ss">"int"</span><span class="p">;</span><span class="w"> </span><span class="n">expected</span><span class="w"> </span><span class="ss">"str"</span>
</pre></div>

<p>Indicating that a list of <code>str</code> objects cannot contain an <code>int</code>, which,
statically speaking, is sound. This can be fixed by either abiding to the type
of <code>a</code> and only appending <code>str</code> objects or by changing the type of the
contents of <code>a</code> to indicate that any value is acceptable (Intuitively
performed with <code>List[Any]</code> after <code>Any</code> has been imported from <code>typing</code>).</p>
<p>Function annotations are added in the form <code>param_name : type</code> after each
parameter in your function signature and a return type is specified using the
<code>-&gt; type</code> notation before the ending function colon; all annotations are
stored in the <code>__annotations__</code> attribute for that function in a handy
dictionary form. Using a trivial example (which doesn't require extra types
from the <code>typing</code> module):</p>
<div class="code"><pre class="code literal-block"><span class="n">def</span><span class="w"> </span><span class="n">annotated</span><span class="p">(</span><span class="n">x</span><span class="o">:</span><span class="w"> </span><span class="n">int</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">:</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">bool</span><span class="o">:</span>
<span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">y</span>
</pre></div>

<p>The <code>annotated.__annotations__</code> attribute now has the following values:</p>
<div class="code"><pre class="code literal-block">{<span class="s1">'y'</span>:<span class="w"> </span><span class="o">&lt;</span><span class="nv">class</span><span class="w"> </span><span class="s1">'str'</span><span class="o">&gt;</span>,<span class="w"> </span><span class="s1">'return'</span>:<span class="w"> </span><span class="o">&lt;</span><span class="nv">class</span><span class="w"> </span><span class="s1">'bool'</span><span class="o">&gt;</span>,<span class="w"> </span><span class="s1">'x'</span>:<span class="w"> </span><span class="o">&lt;</span><span class="nv">class</span><span class="w"> </span><span class="s1">'int'</span><span class="o">&gt;</span>}
</pre></div>

<p>If we're a complete newbie, or we are familiar with Python 2.7 concepts and
are consequently unaware of the <code>TypeError</code> lurking in the comparison of
<code>annotated</code>, we can perform another static check, catch the error and save us
some trouble:</p>
<div class="code"><pre class="code literal-block"><span class="p">(</span><span class="n">Python3</span><span class="p">)</span><span class="n">jimmi</span><span class="nv">@jim</span><span class="err">:</span><span class="w"> </span><span class="n">mypy</span><span class="w"> </span><span class="n">typeHintsCode</span><span class="p">.</span><span class="n">py</span>
<span class="n">typeFunction</span><span class="p">.</span><span class="nl">py</span><span class="p">:</span><span class="w"> </span><span class="nl">note</span><span class="p">:</span><span class="w"> </span><span class="ow">In</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="ss">"annotated"</span><span class="err">:</span>
<span class="n">typeFunction</span><span class="p">.</span><span class="nl">py</span><span class="p">:</span><span class="mi">2</span><span class="err">:</span><span class="w"> </span><span class="nl">error</span><span class="p">:</span><span class="w"> </span><span class="n">Unsupported</span><span class="w"> </span><span class="n">operand</span><span class="w"> </span><span class="n">types</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="ss">"str"</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ss">"int"</span><span class="p">)</span>
</pre></div>

<p>Among other things, calling the function with invalid arguments will also get
caught:</p>
<div class="code"><pre class="code literal-block"><span class="nt">annotated</span><span class="o">(</span><span class="nt">20</span><span class="o">,</span><span class="w"> </span><span class="nt">20</span><span class="o">)</span>

<span class="err">#</span><span class="w"> </span><span class="nt">mypy</span><span class="w"> </span><span class="nt">complains</span><span class="o">:</span>
<span class="nt">typeHintsCode</span><span class="p">.</span><span class="nc">py</span><span class="p">:</span><span class="nd">4</span><span class="o">:</span><span class="w"> </span><span class="nt">error</span><span class="o">:</span><span class="w"> </span><span class="nt">Argument</span><span class="w"> </span><span class="nt">2</span><span class="w"> </span><span class="nt">to</span><span class="w"> </span><span class="s2">"annotated"</span><span class="w"> </span><span class="nt">has</span><span class="w"> </span><span class="nt">incompatible</span><span class="w"> </span><span class="nt">type</span><span class="w"> </span><span class="s2">"int"</span><span class="o">;</span><span class="w"> </span><span class="nt">expected</span><span class="w"> </span><span class="s2">"str"</span>
</pre></div>

<p>These can be extended to basically any use case and the errors caught extend
further than basic calls and operations. The types you can check for are
really flexible and I have merely given a small sneak peak of its potential. A
look in the <code>typing</code> module, the PEPs or the <code>mypy</code> documentation will give
you a more comprehensive idea of the capabilities offered.</p>
<h4>Stub files:</h4>
<p>Stub files can be used in two different non mutually exclusive cases:</p>
<ul>
<li>You need to type check a module for which you do not want to directly alter the function signatures</li>
<li>You want to write modules and have type-checking but additionally want to separate annotations from content.</li>
</ul>
<p>What stub files (with an extension of <code>.pyi</code>) are is an annotated interface of
the module you are making/want to use. They contain the signatures of the
functions you want to type-check with the body of the functions discarded. To
get a feel of this, given a set of three random functions in a module named
<code>randfunc.py</code>:</p>
<div class="code"><pre class="code literal-block"><span class="nv">def</span><span class="w"> </span><span class="nv">message</span><span class="ss">(</span><span class="nv">s</span><span class="ss">)</span>:
<span class="w">    </span><span class="nv">print</span><span class="ss">(</span><span class="nv">s</span><span class="ss">)</span>

<span class="nv">def</span><span class="w"> </span><span class="nv">alterContents</span><span class="ss">(</span><span class="nv">myIterable</span><span class="ss">)</span>:
<span class="w">    </span><span class="k">return</span><span class="w"> </span>[<span class="nv">i</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">myIterable</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span>]

<span class="nv">def</span><span class="w"> </span><span class="nv">combine</span><span class="ss">(</span><span class="nv">messageFunc</span>,<span class="w"> </span><span class="nv">itFunc</span><span class="ss">)</span>:
<span class="w">    </span><span class="nv">messageFunc</span><span class="ss">(</span><span class="s2">"Printing the Iterable"</span><span class="ss">)</span>
<span class="w">    </span><span class="nv">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">alterContents</span><span class="ss">(</span><span class="nv">range</span><span class="ss">(</span><span class="mi">1</span>,<span class="w"> </span><span class="mi">20</span><span class="ss">))</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">set</span><span class="ss">(</span><span class="nv">a</span><span class="ss">)</span>
</pre></div>

<p>We can create a stub file <code>randfunc.pyi</code>, in which we can place some
restrictions if we wish to do so. The downside is that somebody viewing the
source without the stub won't really get that annotation assistance when
trying to understand what is supposed to be passed where.</p>
<p>Anyway, the structure of a stub file is pretty simplistic: Add all function
definitions with empty bodies (<code>pass</code> filled) and supply the annotations based
on your requirements. Here, let's assume we only want to work with <code>int</code> types
for our Containers.</p>
<div class="code"><pre class="code literal-block"><span class="c1"># Stub for randfucn.py</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Iterable</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Set</span><span class="p">,</span> <span class="n">Callable</span>

<span class="k">def</span> <span class="nf">message</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span> <span class="k">pass</span>

<span class="k">def</span> <span class="nf">alterContents</span><span class="p">(</span><span class="n">myIterable</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span><span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span> <span class="k">pass</span>

<span class="k">def</span> <span class="nf">combine</span><span class="p">(</span>
    <span class="n">messageFunc</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">itFunc</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Iterable</span><span class="p">[</span><span class="nb">int</span><span class="p">]],</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span>
<span class="p">)</span><span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span> <span class="k">pass</span>
</pre></div>

<p>The <code>combine</code> function gives an indication of why you might want to use
annotations in a different file, they some times clutter up the code and
reduce readability (big no-no for Python). You could of course use type
aliases but that sometime confuses more than it helps (so use them wisely).</p>
<hr>
<p>This should get you familiarized with the basic concepts of type hints in
Python. Even though the type checker used has been <code>mypy</code> you should gradually
start to see more of them pop-up, some internally in IDEs ( <strong>PyCharm</strong> ,) and
others as standard Python modules.</p>
<p>I'll try and add additional checkers/related packages in the following list
when and if I find them (or if suggested).</p>
<p><em><strong>Checkers I know of</strong></em> :</p>
<ul>
<li>
<strong>Mypy</strong> : as described here.</li>
<li>
<strong>PyType</strong> : By Google, uses different notation from what I gather, probably worth a look.</li>
</ul>
<p><em><strong>Related Packages/Projects</strong></em> :</p>
<ul>
<li>
<strong>typeshed:</strong> Official Python repository housing an assortment of stub files for the standard library.</li>
</ul>
<p>The <code>typeshed</code> project is actually one of the best places you can look to see
how type hinting might be used in a project of your own. Let's take as an
example the <code>__init__</code> dunders of the <code>Counter</code> class in the corresponding
<code>.pyi</code> file:</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span><span class="w"> </span><span class="n">Counter</span><span class="p">(</span><span class="n">Dict</span><span class="o">[</span><span class="n">_T, int</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">Generic</span><span class="o">[</span><span class="n">_T</span><span class="o">]</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="nv">@overload</span>
<span class="w">        </span><span class="n">def</span><span class="w"> </span><span class="n">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">None</span><span class="err">:</span><span class="w"> </span><span class="p">...</span>
<span class="w">        </span><span class="nv">@overload</span>
<span class="w">        </span><span class="n">def</span><span class="w"> </span><span class="n">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="nl">Mapping</span><span class="p">:</span><span class="w"> </span><span class="n">Mapping</span><span class="o">[</span><span class="n">_T, int</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">None</span><span class="err">:</span><span class="w"> </span><span class="p">...</span>
<span class="w">        </span><span class="nv">@overload</span>
<span class="w">        </span><span class="n">def</span><span class="w"> </span><span class="n">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="nl">iterable</span><span class="p">:</span><span class="w"> </span><span class="n">Iterable</span><span class="o">[</span><span class="n">_T</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">None</span><span class="err">:</span><span class="w"> </span><span class="p">...</span>
</pre></div>

<p>Where <code>_T = TypeVar('_T')</code> is used to define generic classes. For the
<code>Counter</code> class we can see that it can either take no arguments in its
initializer, get a single <code>Mapping</code> from any type to an <code>int</code> <em>or</em> take an
<code>Iterable</code> of any type.</p>
<hr>
<p><strong>Notice</strong> : One thing I forgot to mention was that the <code>typing</code> module has
been introduced on a <em>provisional basis</em>. From <strong>PEP 411</strong> :</p>
<blockquote>
<p>A provisional package may have its API modified prior to "graduating" into a
"stable" state. On one hand, this state provides the package with the
benefits of being formally part of the Python distribution. On the other
hand, the core development team explicitly states that no promises are made
with regards to the the stability of the package's API, which may change for
the next release. While it is considered an unlikely outcome, such packages
may even be removed from the standard library without a deprecation period
if the concerns regarding their API or maintenance prove well-founded.</p>
</blockquote>
<p>So take things here with a pinch of salt; I'm doubtful it will be removed or
altered in significant ways, but one can never know.</p>
<hr>
<p>** Another topic altogether, but valid in the scope of type-hints: <code>PEP 526</code>:
Syntax for Variable Annotations is an effort to replace <code># type</code> comments by
introducing new syntax which allows users to annotate the type of variables in
simple <code>varname: type</code> statements.</p>
<p>See <em>What are variable annotations?</em> , as previously mentioned, for a small
introduction to these.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Adding to Jim's elaborate answer:</p>
<p>Check the <code>typing</code> module -- this module supports type hints as specified by
PEP 484.</p>
<p>For example, the function below takes and returns values of type <code>str</code> and is
annotated as follows:</p>
<div class="code"><pre class="code literal-block"><span class="n">def</span><span class="w"> </span><span class="n">greeting</span><span class="p">(</span><span class="n">name</span><span class="o">:</span><span class="w"> </span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">str</span><span class="o">:</span>
<span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="s">'Hello '</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">name</span>
</pre></div>

<p>The <code>typing</code> module also supports:</p>
<ol>
<li>Type aliasing.</li>
<li>Type hinting for callback functions.</li>
<li>Generics - Abstract base classes have been extended to support subscription to denote expected types for container elements.</li>
<li>User-defined generic types - A user-defined class can be defined as a generic class.</li>
<li>Any type - Every type is a subtype of Any.</li>
</ol>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-print-environment-variables-to-the-console-in-powershell/" class="u-url">How to print environment variables to the console in PowerShell?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-print-environment-variables-to-the-console-in-powershell/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T22:35:47+08:00" itemprop="datePublished" title="2023-03-05 22:35">2023-03-05 22:35</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm starting to use PowerShell and am trying to figure out how to <code>echo</code> a
system environment variable to the console to read it.</p>
<p>Neither of the below are working. The first just prints <code>%PATH%</code>, and the
second prints nothing.</p>
<div class="code"><pre class="code literal-block">echo %PATH%
echo $PATH
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>Prefix the variable name with <code>env</code>:</p>
<div class="code"><pre class="code literal-block">$env:path
</pre></div>

<p>For example, if you want to print the value of environment value
"MINISHIFT_USERNAME", then command will be:</p>
<div class="code"><pre class="code literal-block">$env:MINISHIFT_USERNAME
</pre></div>

<p>You can also enumerate all variables via the <code>env</code> drive:</p>
<div class="code"><pre class="code literal-block">Get-ChildItem env:
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>In addition to Mathias answer.</p>
<p>Although not mentioned in OP, if you also need to see the <em>Powershell</em>
specific/related internal variables, you need to use <code>Get-Variable</code>:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>Get-Variable

Name<span class="w">                           </span>Value
----<span class="w">                           </span>-----
$<span class="w">                              </span>name
?<span class="w">                              </span>True
^<span class="w">                              </span>gci
args<span class="w">                           </span><span class="o">{}</span>
ChocolateyTabSettings<span class="w">          </span>@<span class="o">{</span><span class="nv">AllCommands</span><span class="o">=</span>False<span class="o">}</span>
ConfirmPreference<span class="w">              </span>High
DebugPreference<span class="w">                </span>SilentlyContinue
EnabledExperimentalFeatures<span class="w">    </span><span class="o">{}</span>
Error<span class="w">                          </span><span class="o">{</span>System.Management.Automation.ParseException:<span class="w"> </span>At<span class="w"> </span>line:1<span class="w"> </span>char:1...
ErrorActionPreference<span class="w">          </span>Continue
ErrorView<span class="w">                      </span>NormalView
ExecutionContext<span class="w">               </span>System.Management.Automation.EngineIntrinsics
<span class="nb">false</span><span class="w">                          </span>False
FormatEnumerationLimit<span class="w">         </span><span class="m">4</span>
...
</pre></div>

<p>These also include stuff you may have set in your profile startup script.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2851.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2849.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 800) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-800.html">
<link rel="prev" href="index-801.html" type="text/html">
<link rel="next" href="index-799.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/move-an-array-element-from-one-array-position-to-another/" class="u-url">Move an array element from one array position to another</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/move-an-array-element-from-one-array-position-to-another/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T16:18:47+08:00" itemprop="datePublished" title="2023-02-17 16:18">2023-02-17 16:18</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm having a hard time figuring out how to move an element of an array. For
example, given the following:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">array</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s1">'a'</span><span class="p">,</span><span class="w"> </span><span class="s1">'b'</span><span class="p">,</span><span class="w"> </span><span class="s1">'c'</span><span class="p">,</span><span class="w"> </span><span class="s1">'d'</span><span class="p">,</span><span class="w"> </span><span class="s1">'e'</span><span class="p">];</span>
</pre></div>

<p>How can I write a function to move the element <code>'d'</code> to the left of <code>'b'</code> ?</p>
<p>Or <code>'a'</code> to the right of <code>'c'</code>?</p>
<p>After moving the elements, the indexes of the rest of the elements should be
updated. The resulting array would be:</p>
<div class="code"><pre class="code literal-block">array = ['a', 'd', 'b', 'c', 'e']
</pre></div>

<p>This seems like it should be pretty simple, but I can't wrap my head around
it.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>If you'd like a version on npm, array-move is the closest to this answer,
although it's not the same implementation. See its usage section for more
details. The previous version of this answer (that modified
Array.prototype.move) can be found on npm at array.prototype.move.</p>
<hr>
<p>I had fairly good success with this function:</p>
<div class="code"><pre class="code literal-block"><span class="n">function</span><span class="w"> </span><span class="n">array_move</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span><span class="w"> </span><span class="n">old_index</span><span class="p">,</span><span class="w"> </span><span class="n">new_index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">new_index</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">arr</span><span class="o">.</span><span class="n">length</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">var</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_index</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">arr</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">k</span><span class="o">--</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">arr</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">undefined</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">arr</span><span class="o">.</span><span class="n">splice</span><span class="p">(</span><span class="n">new_index</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">arr</span><span class="o">.</span><span class="n">splice</span><span class="p">(</span><span class="n">old_index</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">arr</span><span class="p">;</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">testing</span>
<span class="p">};</span>

<span class="o">//</span><span class="w"> </span><span class="n">returns</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">]</span>
<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">array_move</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">));</span>
</pre></div>

<p>Note that the last <code>return</code> is simply for testing purposes: <code>splice</code> performs
operations on the array in-place, so a return is not necessary. By extension,
this <code>move</code> is an in-place operation. If you want to avoid that and return a
copy, use <code>slice</code>.</p>
<p>Stepping through the code:</p>
<ol>
<li>If <code>new_index</code> is greater than the length of the array, we want (I presume) to pad the array properly with new <code>undefined</code>s. This little snippet handles this by pushing <code>undefined</code> on the array until we have the proper length.</li>
<li>Then, in <code>arr.splice(old_index, 1)[0]</code>, we splice out the old element. <code>splice</code> returns the element that was spliced out, but it's in an array. In our above example, this was <code>[1]</code>. So we take the first index of that array to get the raw <code>1</code> there.</li>
<li>Then we use <code>splice</code> to insert this element in the new_index's place. Since we padded the array above if <code>new_index &gt; arr.length</code>, it will probably appear in the right place, unless they've done something strange like pass in a negative number. </li>
</ol>
<p>A fancier version to account for negative indices:</p>
<div class="code"><pre class="code literal-block"><span class="n">function</span><span class="w"> </span><span class="n">array_move</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span><span class="w"> </span><span class="n">old_index</span><span class="p">,</span><span class="w"> </span><span class="n">new_index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">old_index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">old_index</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">arr</span><span class="o">.</span><span class="n">length</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">new_index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">new_index</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">arr</span><span class="o">.</span><span class="n">length</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">new_index</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">arr</span><span class="o">.</span><span class="n">length</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">var</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_index</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">arr</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">k</span><span class="o">--</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">arr</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">undefined</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">arr</span><span class="o">.</span><span class="n">splice</span><span class="p">(</span><span class="n">new_index</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">arr</span><span class="o">.</span><span class="n">splice</span><span class="p">(</span><span class="n">old_index</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">arr</span><span class="p">;</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">testing</span><span class="w"> </span><span class="n">purposes</span>
<span class="p">};</span>

<span class="o">//</span><span class="w"> </span><span class="n">returns</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">]</span>
<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">array_move</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">2</span><span class="p">));</span>
</pre></div>

<p>Which should account for things like <code>array_move([1, 2, 3], -1, -2)</code> properly
(move the last element to the second to last place). Result for that should be
<code>[1, 3, 2]</code>.</p>
<p>Either way, in your original question, you would do <code>array_move(arr, 0, 2)</code>
for <code>a</code> after <code>c</code>. For <code>d</code> before <code>b</code>, you would do <code>array_move(arr, 3, 1)</code>.</p>
<p><br></p>
<h3>Suggest</h3>
<p>I like this way. It's concise and it works.</p>
<div class="code"><pre class="code literal-block"><span class="k">function</span><span class="w"> </span><span class="n">arraymove</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span><span class="w"> </span><span class="n">fromIndex</span><span class="p">,</span><span class="w"> </span><span class="n">toIndex</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="nf">var</span><span class="w"> </span><span class="k">element</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">arr</span><span class="o">[</span><span class="n">fromIndex</span><span class="o">]</span><span class="p">;</span>
<span class="w">    </span><span class="n">arr</span><span class="p">.</span><span class="n">splice</span><span class="p">(</span><span class="n">fromIndex</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w">    </span><span class="n">arr</span><span class="p">.</span><span class="n">splice</span><span class="p">(</span><span class="n">toIndex</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="k">element</span><span class="p">);</span>
<span class="err">}</span>
</pre></div>

<p>Note: always remember to check your array bounds.</p>
<p>Run Snippet in jsFiddle</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-you-create-a-dropdownlist-from-an-enum-in-asp-net-mvc/" class="u-url">How do you create a dropdownlist from an enum in ASP.NET MVC?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-you-create-a-dropdownlist-from-an-enum-in-asp-net-mvc/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T16:18:18+08:00" itemprop="datePublished" title="2023-02-17 16:18">2023-02-17 16:18</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm trying to use the <code>Html.DropDownList</code> extension method but can't figure
out how to use it with an enumeration.</p>
<p>Let's say I have an enumeration like this:</p>
<div class="code"><pre class="code literal-block"><span class="n">public</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="n">ItemTypes</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">Movie</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">    </span><span class="n">Game</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">    </span><span class="n">Book</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span>
<span class="p">}</span>
</pre></div>

<p>How do I go about creating a dropdown with these values using the
<code>Html.DropDownList</code> extension method?</p>
<p>Or is my best bet to simply create a for loop and create the Html elements
manually?</p>
<p><br><br></p>
<h2>Answer</h2>
<h3>For MVC v5.1 use Html.EnumDropDownListFor</h3>
<div class="code"><pre class="code literal-block"><span class="nv">@Html</span><span class="p">.</span><span class="n">EnumDropDownListFor</span><span class="p">(</span>
<span class="w">    </span><span class="n">x</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">x</span><span class="p">.</span><span class="n">YourEnumField</span><span class="p">,</span>
<span class="w">    </span><span class="ss">"Select My Type"</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="nv">@class</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">"form-control"</span><span class="w"> </span><span class="err">}</span><span class="p">)</span>
</pre></div>

<hr>
<h3>For MVC v5 use EnumHelper</h3>
<div class="code"><pre class="code literal-block"><span class="nv">@Html</span><span class="p">.</span><span class="n">DropDownList</span><span class="p">(</span><span class="ss">"MyType"</span><span class="p">,</span><span class="w"> </span>
<span class="w">   </span><span class="n">EnumHelper</span><span class="p">.</span><span class="n">GetSelectList</span><span class="p">(</span><span class="n">typeof</span><span class="p">(</span><span class="n">MyType</span><span class="p">))</span><span class="w"> </span><span class="p">,</span><span class="w"> </span>
<span class="w">   </span><span class="ss">"Select My Type"</span><span class="p">,</span><span class="w"> </span>
<span class="w">   </span><span class="k">new</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="nv">@class</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">"form-control"</span><span class="w"> </span><span class="err">}</span><span class="p">)</span>
</pre></div>

<hr>
<h3>For MVC 5 and lower</h3>
<p>I rolled Rune's answer into an extension method:</p>
<div class="code"><pre class="code literal-block"><span class="n">namespace</span><span class="w"> </span><span class="n">MyApp</span><span class="o">.</span><span class="n">Common</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">MyExtensions</span><span class="p">{</span>
<span class="w">        </span><span class="n">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">SelectList</span><span class="w"> </span><span class="n">ToSelectList</span><span class="o">&lt;</span><span class="n">TEnum</span><span class="o">&gt;</span><span class="p">(</span><span class="n">this</span><span class="w"> </span><span class="n">TEnum</span><span class="w"> </span><span class="n">enumObj</span><span class="p">)</span>
<span class="w">            </span><span class="n">where</span><span class="w"> </span><span class="n">TEnum</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">struct</span><span class="p">,</span><span class="w"> </span><span class="n">IComparable</span><span class="p">,</span><span class="w"> </span><span class="n">IFormattable</span><span class="p">,</span><span class="w"> </span><span class="n">IConvertible</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="k">var</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">TEnum</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">Enum</span><span class="o">.</span><span class="n">GetValues</span><span class="p">(</span><span class="nb">typeof</span><span class="p">(</span><span class="n">TEnum</span><span class="p">))</span>
<span class="w">                </span><span class="n">select</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">e</span><span class="p">,</span><span class="w"> </span><span class="n">Name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">e</span><span class="o">.</span><span class="n">ToString</span><span class="p">()</span><span class="w"> </span><span class="p">};</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">SelectList</span><span class="p">(</span><span class="n">values</span><span class="p">,</span><span class="w"> </span><span class="s2">"Id"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Name"</span><span class="p">,</span><span class="w"> </span><span class="n">enumObj</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>This allows you to write:</p>
<div class="code"><pre class="code literal-block">ViewData["taskStatus"] = task.Status.ToSelectList();
</pre></div>

<p>by <code>using MyApp.Common</code></p>
<p><br></p>
<h3>Suggest</h3>
<p>I know I'm late to the party on this, but thought you might find this variant
useful, as this one also allows you to use descriptive strings rather than
enumeration constants in the drop down. To do this, decorate each enumeration
entry with a [System.ComponentModel.Description] attribute.</p>
<p>For example:</p>
<div class="code"><pre class="code literal-block"><span class="n">public</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="n">TestEnum</span>
<span class="p">{</span>
<span class="w">  </span><span class="p">[</span><span class="n">Description</span><span class="p">(</span><span class="s2">"Full test"</span><span class="p">)]</span>
<span class="w">  </span><span class="n">FullTest</span><span class="p">,</span>

<span class="w">  </span><span class="p">[</span><span class="n">Description</span><span class="p">(</span><span class="s2">"Incomplete or partial test"</span><span class="p">)]</span>
<span class="w">  </span><span class="n">PartialTest</span><span class="p">,</span>

<span class="w">  </span><span class="p">[</span><span class="n">Description</span><span class="p">(</span><span class="s2">"No test performed"</span><span class="p">)]</span>
<span class="w">  </span><span class="n">None</span>
<span class="p">}</span>
</pre></div>

<p>Here is my code:</p>
<div class="code"><pre class="code literal-block"><span class="n">using</span><span class="w"> </span><span class="n">System</span><span class="p">;</span>
<span class="n">using</span><span class="w"> </span><span class="n">System</span><span class="o">.</span><span class="n">Collections</span><span class="o">.</span><span class="n">Generic</span><span class="p">;</span>
<span class="n">using</span><span class="w"> </span><span class="n">System</span><span class="o">.</span><span class="n">Linq</span><span class="p">;</span>
<span class="n">using</span><span class="w"> </span><span class="n">System</span><span class="o">.</span><span class="n">Web</span><span class="o">.</span><span class="n">Mvc</span><span class="p">;</span>
<span class="n">using</span><span class="w"> </span><span class="n">System</span><span class="o">.</span><span class="n">Web</span><span class="o">.</span><span class="n">Mvc</span><span class="o">.</span><span class="n">Html</span><span class="p">;</span>
<span class="n">using</span><span class="w"> </span><span class="n">System</span><span class="o">.</span><span class="n">Reflection</span><span class="p">;</span>
<span class="n">using</span><span class="w"> </span><span class="n">System</span><span class="o">.</span><span class="n">ComponentModel</span><span class="p">;</span>
<span class="n">using</span><span class="w"> </span><span class="n">System</span><span class="o">.</span><span class="n">Linq</span><span class="o">.</span><span class="n">Expressions</span><span class="p">;</span>

<span class="w"> </span><span class="o">...</span>

<span class="w"> </span><span class="n">private</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">Type</span><span class="w"> </span><span class="n">GetNonNullableModelType</span><span class="p">(</span><span class="n">ModelMetadata</span><span class="w"> </span><span class="n">modelMetadata</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">Type</span><span class="w"> </span><span class="n">realModelType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">modelMetadata</span><span class="o">.</span><span class="n">ModelType</span><span class="p">;</span>

<span class="w">        </span><span class="n">Type</span><span class="w"> </span><span class="n">underlyingType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Nullable</span><span class="o">.</span><span class="n">GetUnderlyingType</span><span class="p">(</span><span class="n">realModelType</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">underlyingType</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">)</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="n">realModelType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">underlyingType</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">realModelType</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">private</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">readonly</span><span class="w"> </span><span class="n">SelectListItem</span><span class="p">[]</span><span class="w"> </span><span class="n">SingleEmptyItem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="p">[]</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">SelectListItem</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">""</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">};</span>

<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="n">GetEnumDescription</span><span class="o">&lt;</span><span class="n">TEnum</span><span class="o">&gt;</span><span class="p">(</span><span class="n">TEnum</span><span class="w"> </span><span class="n">value</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">FieldInfo</span><span class="w"> </span><span class="n">fi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value</span><span class="o">.</span><span class="n">GetType</span><span class="p">()</span><span class="o">.</span><span class="n">GetField</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">ToString</span><span class="p">());</span>

<span class="w">        </span><span class="n">DescriptionAttribute</span><span class="p">[]</span><span class="w"> </span><span class="n">attributes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">DescriptionAttribute</span><span class="p">[])</span><span class="n">fi</span><span class="o">.</span><span class="n">GetCustomAttributes</span><span class="p">(</span><span class="nb">typeof</span><span class="p">(</span><span class="n">DescriptionAttribute</span><span class="p">),</span><span class="w"> </span><span class="bp">false</span><span class="p">);</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="n">attributes</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">attributes</span><span class="o">.</span><span class="n">Length</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">))</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">attributes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">Description</span><span class="p">;</span>
<span class="w">        </span><span class="k">else</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="o">.</span><span class="n">ToString</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">MvcHtmlString</span><span class="w"> </span><span class="n">EnumDropDownListFor</span><span class="o">&lt;</span><span class="n">TModel</span><span class="p">,</span><span class="w"> </span><span class="n">TEnum</span><span class="o">&gt;</span><span class="p">(</span><span class="n">this</span><span class="w"> </span><span class="n">HtmlHelper</span><span class="o">&lt;</span><span class="n">TModel</span><span class="o">&gt;</span><span class="w"> </span><span class="n">htmlHelper</span><span class="p">,</span><span class="w"> </span><span class="n">Expression</span><span class="o">&lt;</span><span class="n">Func</span><span class="o">&lt;</span><span class="n">TModel</span><span class="p">,</span><span class="w"> </span><span class="n">TEnum</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">expression</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">EnumDropDownListFor</span><span class="p">(</span><span class="n">htmlHelper</span><span class="p">,</span><span class="w"> </span><span class="n">expression</span><span class="p">,</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">MvcHtmlString</span><span class="w"> </span><span class="n">EnumDropDownListFor</span><span class="o">&lt;</span><span class="n">TModel</span><span class="p">,</span><span class="w"> </span><span class="n">TEnum</span><span class="o">&gt;</span><span class="p">(</span><span class="n">this</span><span class="w"> </span><span class="n">HtmlHelper</span><span class="o">&lt;</span><span class="n">TModel</span><span class="o">&gt;</span><span class="w"> </span><span class="n">htmlHelper</span><span class="p">,</span><span class="w"> </span><span class="n">Expression</span><span class="o">&lt;</span><span class="n">Func</span><span class="o">&lt;</span><span class="n">TModel</span><span class="p">,</span><span class="w"> </span><span class="n">TEnum</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">expression</span><span class="p">,</span><span class="w"> </span><span class="n">object</span><span class="w"> </span><span class="n">htmlAttributes</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">ModelMetadata</span><span class="w"> </span><span class="n">metadata</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ModelMetadata</span><span class="o">.</span><span class="n">FromLambdaExpression</span><span class="p">(</span><span class="n">expression</span><span class="p">,</span><span class="w"> </span><span class="n">htmlHelper</span><span class="o">.</span><span class="n">ViewData</span><span class="p">);</span>
<span class="w">        </span><span class="n">Type</span><span class="w"> </span><span class="n">enumType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GetNonNullableModelType</span><span class="p">(</span><span class="n">metadata</span><span class="p">);</span>
<span class="w">        </span><span class="n">IEnumerable</span><span class="o">&lt;</span><span class="n">TEnum</span><span class="o">&gt;</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Enum</span><span class="o">.</span><span class="n">GetValues</span><span class="p">(</span><span class="n">enumType</span><span class="p">)</span><span class="o">.</span><span class="n">Cast</span><span class="o">&lt;</span><span class="n">TEnum</span><span class="o">&gt;</span><span class="p">();</span>

<span class="w">        </span><span class="n">IEnumerable</span><span class="o">&lt;</span><span class="n">SelectListItem</span><span class="o">&gt;</span><span class="w"> </span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">values</span>
<span class="w">            </span><span class="n">select</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">SelectListItem</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="n">Text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GetEnumDescription</span><span class="p">(</span><span class="n">value</span><span class="p">),</span>
<span class="w">                </span><span class="n">Value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value</span><span class="o">.</span><span class="n">ToString</span><span class="p">(),</span>
<span class="w">                </span><span class="n">Selected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value</span><span class="o">.</span><span class="n">Equals</span><span class="p">(</span><span class="n">metadata</span><span class="o">.</span><span class="n">Model</span><span class="p">)</span>
<span class="w">            </span><span class="p">};</span>

<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="n">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">nullable</span><span class="p">,</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="s1">'empty'</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">collection</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">metadata</span><span class="o">.</span><span class="n">IsNullableValueType</span><span class="p">)</span>
<span class="w">            </span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SingleEmptyItem</span><span class="o">.</span><span class="n">Concat</span><span class="p">(</span><span class="n">items</span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">htmlHelper</span><span class="o">.</span><span class="n">DropDownListFor</span><span class="p">(</span><span class="n">expression</span><span class="p">,</span><span class="w"> </span><span class="n">items</span><span class="p">,</span><span class="w"> </span><span class="n">htmlAttributes</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
</pre></div>

<p>You can then do this in your view:</p>
<div class="code"><pre class="code literal-block"><span class="nv">@Html</span><span class="p">.</span><span class="n">EnumDropDownListFor</span><span class="p">(</span><span class="n">model</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">model</span><span class="p">.</span><span class="n">MyEnumProperty</span><span class="p">)</span>
</pre></div>

<p>**EDIT 2014-JAN-23: Microsoft have just released MVC 5.1, which now has an
EnumDropDownListFor feature. Sadly it does not appear to respect the
[Description] attribute so the code above still stands.See Enum section in
Microsoft's release notes for MVC 5.1.</p>
<p><strong>Update: It does support the Display attribute<code>[Display(Name = "Sample")]</code>
though, so one can use that.</strong></p>
<p>[Update - just noticed this, and the code looks like an extended version of
the code here: https://blogs.msdn.microsoft.com/stuartleeks/2010/05/21/asp-
net-mvc-creating-a-dropdownlist-helper-for-enums/, with a couple of additions.
If so, attribution would seem fair ;-)]</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-an-idiomatic-way-of-representing-enums-in-go/" class="u-url">What is an idiomatic way of representing enums in Go?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-an-idiomatic-way-of-representing-enums-in-go/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T16:17:51+08:00" itemprop="datePublished" title="2023-02-17 16:17">2023-02-17 16:17</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm trying to represent a simplified chromosome, which consists of N bases,
each of which can only be one of <code>{A, C, T, G}</code>.</p>
<p>I'd like to formalize the constraints with an enum, but I'm wondering what the
most idiomatic way of emulating an enum is in Go.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Quoting from the language specs:Iota</p>
<blockquote>
<p>Within a constant declaration, the predeclared identifier iota represents
successive untyped integer constants. It is reset to 0 whenever the reserved
word const appears in the source and increments after each ConstSpec. It can
be used to construct a set of related constants:</p>
</blockquote>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="p">(</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">iota</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">reset</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">0</span>
<span class="w">        </span><span class="n">c0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iota</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">c0</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span>
<span class="w">        </span><span class="n">c1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iota</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">c1</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span>
<span class="w">        </span><span class="n">c2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iota</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">c2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">2</span>
<span class="p">)</span>

<span class="k">const</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">iota</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">(</span><span class="n">iota</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">reset</span><span class="p">)</span>
<span class="w">        </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">iota</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">2</span>
<span class="w">        </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">iota</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">4</span>
<span class="p">)</span>

<span class="k">const</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="n">u</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="n">iota</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">42</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">u</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w">     </span><span class="p">(</span><span class="n">untyped</span><span class="w"> </span><span class="n">integer</span><span class="w"> </span><span class="n">constant</span><span class="p">)</span>
<span class="w">        </span><span class="n">v</span><span class="w"> </span><span class="n">float64</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iota</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">42</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mf">42.0</span><span class="w">  </span><span class="p">(</span><span class="n">float64</span><span class="w"> </span><span class="n">constant</span><span class="p">)</span>
<span class="w">        </span><span class="n">w</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="n">iota</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">42</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">w</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">84</span><span class="w">    </span><span class="p">(</span><span class="n">untyped</span><span class="w"> </span><span class="n">integer</span><span class="w"> </span><span class="n">constant</span><span class="p">)</span>
<span class="p">)</span>

<span class="k">const</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iota</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">(</span><span class="n">iota</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">reset</span><span class="p">)</span>
<span class="k">const</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iota</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">(</span><span class="n">iota</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">reset</span><span class="p">)</span>
</pre></div>

<blockquote>
<p>Within an ExpressionList, the value of each iota is the same because it is
only incremented after each ConstSpec:</p>
</blockquote>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="n">bit0</span><span class="p">,</span><span class="w"> </span><span class="n">mask0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">iota</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">iota</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">bit0</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">mask0</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span>
<span class="w">        </span><span class="n">bit1</span><span class="p">,</span><span class="w"> </span><span class="n">mask1</span><span class="w">                           </span><span class="o">//</span><span class="w"> </span><span class="n">bit1</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">mask1</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span>
<span class="w">        </span><span class="n">_</span><span class="p">,</span><span class="w"> </span><span class="n">_</span><span class="w">                                  </span><span class="o">//</span><span class="w"> </span><span class="n">skips</span><span class="w"> </span><span class="n">iota</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">2</span>
<span class="w">        </span><span class="n">bit3</span><span class="p">,</span><span class="w"> </span><span class="n">mask3</span><span class="w">                           </span><span class="o">//</span><span class="w"> </span><span class="n">bit3</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="n">mask3</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">7</span>
<span class="p">)</span>
</pre></div>

<blockquote>
<p>This last example exploits the implicit repetition of the last non-empty
expression list.</p>
</blockquote>
<hr>
<p>So your code might be like</p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="n">A</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iota</span>
<span class="w">        </span><span class="n">C</span>
<span class="w">        </span><span class="n">T</span>
<span class="w">        </span><span class="n">G</span>
<span class="p">)</span>
</pre></div>

<p>or</p>
<div class="code"><pre class="code literal-block"><span class="n">type</span><span class="w"> </span><span class="n">Base</span><span class="w"> </span><span class="nb nb-Type">int</span>

<span class="k">const</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="n">A</span><span class="w"> </span><span class="n">Base</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iota</span>
<span class="w">        </span><span class="n">C</span>
<span class="w">        </span><span class="n">T</span>
<span class="w">        </span><span class="n">G</span>
<span class="p">)</span>
</pre></div>

<p>if you want bases to be a separate type from int.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Referring to the answer of jnml, you could prevent new instances of Base type
by not exporting the Base type at all (i.e. write it lowercase). If needed,
you may make an exportable interface that has a method that returns a base
type. This interface could be used in functions from the outside that deal
with Bases, i.e.</p>
<div class="code"><pre class="code literal-block"><span class="n">package</span><span class="w"> </span><span class="n">a</span>

<span class="n">type</span><span class="w"> </span><span class="n">base</span><span class="w"> </span><span class="nb nb-Type">int</span>

<span class="k">const</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">A</span><span class="w"> </span><span class="n">base</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iota</span>
<span class="w">    </span><span class="n">C</span>
<span class="w">    </span><span class="n">T</span>
<span class="w">    </span><span class="n">G</span>
<span class="p">)</span>


<span class="n">type</span><span class="w"> </span><span class="n">Baser</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Base</span><span class="p">()</span><span class="w"> </span><span class="n">base</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">every</span><span class="w"> </span><span class="n">base</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">fulfill</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">Baser</span><span class="w"> </span><span class="n">interface</span>
<span class="k">func</span><span class="p">(</span><span class="n">b</span><span class="w"> </span><span class="n">base</span><span class="p">)</span><span class="w"> </span><span class="n">Base</span><span class="p">()</span><span class="w"> </span><span class="n">base</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">b</span>
<span class="p">}</span>


<span class="k">func</span><span class="p">(</span><span class="n">b</span><span class="w"> </span><span class="n">base</span><span class="p">)</span><span class="w"> </span><span class="n">OtherMethod</span><span class="p">()</span><span class="w">  </span><span class="p">{</span>
<span class="p">}</span>
</pre></div>

<hr>
<div class="code"><pre class="code literal-block"><span class="n">package</span> <span class="n">main</span>

<span class="kn">import</span> <span class="s2">"a"</span>

<span class="o">//</span> <span class="n">func</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">outside</span> <span class="n">that</span> <span class="n">handles</span> <span class="n">a</span><span class="o">.</span><span class="n">base</span> <span class="n">via</span> <span class="n">a</span><span class="o">.</span><span class="n">Baser</span>
<span class="o">//</span> <span class="n">since</span> <span class="n">a</span><span class="o">.</span><span class="n">base</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">exported</span><span class="p">,</span> <span class="n">only</span> <span class="n">exported</span> <span class="n">bases</span> <span class="n">that</span> <span class="n">are</span> <span class="n">created</span> <span class="n">within</span> <span class="n">package</span> <span class="n">a</span> <span class="n">may</span> <span class="n">be</span> <span class="n">used</span><span class="p">,</span> <span class="n">like</span> <span class="n">a</span><span class="o">.</span><span class="n">A</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">C</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">T</span><span class="o">.</span> <span class="ow">and</span> <span class="n">a</span><span class="o">.</span><span class="n">G</span>
<span class="n">func</span> <span class="n">HandleBasers</span><span class="p">(</span><span class="n">b</span> <span class="n">a</span><span class="o">.</span><span class="n">Baser</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">base</span> <span class="o">:=</span> <span class="n">b</span><span class="o">.</span><span class="n">Base</span><span class="p">()</span>
    <span class="n">base</span><span class="o">.</span><span class="n">OtherMethod</span><span class="p">()</span>
<span class="p">}</span>


<span class="o">//</span> <span class="n">func</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">outside</span> <span class="n">that</span> <span class="n">returns</span> <span class="n">a</span><span class="o">.</span><span class="n">A</span> <span class="ow">or</span> <span class="n">a</span><span class="o">.</span><span class="n">C</span><span class="p">,</span> <span class="n">depending</span> <span class="n">of</span> <span class="n">condition</span>
<span class="n">func</span> <span class="n">AorC</span><span class="p">(</span><span class="n">condition</span> <span class="nb">bool</span><span class="p">)</span> <span class="n">a</span><span class="o">.</span><span class="n">Baser</span> <span class="p">{</span>
    <span class="k">if</span> <span class="n">condition</span> <span class="p">{</span>
       <span class="k">return</span> <span class="n">a</span><span class="o">.</span><span class="n">A</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">a</span><span class="o">.</span><span class="n">C</span>
<span class="p">}</span>
</pre></div>

<p>Inside the main package <code>a.Baser</code> is effectively like an enum now. Only inside
the a package you may define new instances.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-801.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-799.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2765) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2765.html">
<link rel="prev" href="index-2766.html" type="text/html">
<link rel="next" href="index-2764.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-clone-an-sql-server-database-on-the-same-server-in-sql-server-2008-express/" class="u-url">How can I clone an SQL Server database on the same server in SQL Server 2008 Express?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-clone-an-sql-server-database-on-the-same-server-in-sql-server-2008-express/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T16:19:47+08:00" itemprop="datePublished" title="2023-03-05 16:19">2023-03-05 16:19</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have an MS SQL Server 2008 Express system which contains a database that I
would like to 'copy and rename' (for testing purposes) but I am unaware of a
simple way to achieve this.</p>
<p>I notice that in the R2 version of SQL Server there is a copy database wizard,
but sadly I can't upgrade.</p>
<p>The database in question is around a gig. I attempted to restore a backup of
the database I want to copy into a new database, but with no luck.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>It turns out that I had attempted to restore from a backup incorrectly.</p>
<p>Initially I created a new database and then attempted to restore the backup
here. What I should have done, and what worked in the end, was to bring up the
restore dialog and type the name of the new database in the destination field.</p>
<p>So, in short, restoring from a backup did the trick.</p>
<p>Thanks for all the feedback and suggestions guys</p>
<p><br></p>
<h3>Suggest</h3>
<p>Right-click the database to clone, click <code>Tasks</code>, click <code>Copy Database...</code>.
Follow the wizard and you're done.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/eloquent-collection-counting-and-detect-empty/" class="u-url">Eloquent Collection: Counting and Detect Empty</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/eloquent-collection-counting-and-detect-empty/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T16:16:13+08:00" itemprop="datePublished" title="2023-03-05 16:16">2023-03-05 16:16</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>This may be a trivial question but I am wondering if Laravel recommends a
certain way to check whether an Eloquent collection returned from <code>$result =
Model::where(...)-&gt;get()</code> is empty, as well as counting the number of
elements.</p>
<p>We are currently using <code>!$result</code> to detect empty result, is that sufficient?
As for <code>count($result)</code>, does it actually cover all cases, including empty
result?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>When using <code>-&gt;get()</code> you cannot simply use any of the below:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">empty</span><span class="ss">(</span>$<span class="nb">result</span><span class="ss">))</span><span class="w"> </span>{<span class="w"> </span>}
<span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="o">!</span>$<span class="nb">result</span><span class="ss">)</span><span class="w"> </span>{<span class="w"> </span>}
<span class="k">if</span><span class="w"> </span><span class="ss">(</span>$<span class="nb">result</span><span class="ss">)</span><span class="w"> </span>{<span class="w"> </span>}
</pre></div>

<p>Because if you <code>dd($result);</code> you'll notice an instance of
<code>Illuminate\Support\Collection</code> is always returned, even when there are no
results. Essentially what you're checking is <code>$a = new stdClass; if ($a) { ...
}</code> which will always return true.</p>
<p>To determine if there are any results you can do any of the following:</p>
<div class="code"><pre class="code literal-block"><span class="nf">if</span><span class="w"> </span><span class="p">(</span><span class="err">$</span><span class="n">result</span><span class="o">-&gt;</span><span class="kr">first</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w"> </span>
<span class="nf">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="err">$</span><span class="n">result</span><span class="o">-&gt;</span><span class="n">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<span class="nf">if</span><span class="w"> </span><span class="p">(</span><span class="err">$</span><span class="n">result</span><span class="o">-&gt;</span><span class="nf">count</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<span class="nf">if</span><span class="w"> </span><span class="p">(</span><span class="nf">count</span><span class="p">(</span><span class="err">$</span><span class="n">result</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
</pre></div>

<p>You could also use <code>-&gt;first()</code> instead of <code>-&gt;get()</code> on the query builder which
will return an instance of the first found model, or <code>null</code> otherwise. This is
useful if you need or are expecting only one result from the database.</p>
<div class="code"><pre class="code literal-block"><span class="o">$</span><span class="nt">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">Model</span><span class="p">::</span><span class="nd">where</span><span class="o">(...)</span><span class="nt">-</span><span class="o">&gt;</span><span class="nt">first</span><span class="o">();</span>
<span class="nt">if</span><span class="w"> </span><span class="o">($</span><span class="nt">result</span><span class="o">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">}</span>
</pre></div>

<p><strong>Notes / References</strong></p>
<ul>
<li>
<strong><code>-&gt;first()</code></strong> http://laravel.com/api/4.2/Illuminate/Database/Eloquent/Collection.html#method_first</li>
<li>
<strong><code>isEmpty()</code></strong> http://laravel.com/api/4.2/Illuminate/Database/Eloquent/Collection.html#method_isEmpty</li>
<li>
<strong><code>-&gt;count()</code></strong> http://laravel.com/api/4.2/Illuminate/Database/Eloquent/Collection.html#method_count</li>
<li>
<strong><code>count($result)</code></strong> works because the Collection implements Countable and an internal <code>count()</code> method: http://laravel.com/api/4.2/Illuminate/Database/Eloquent/Collection.html#method_count</li>
</ul>
<h2>Bonus Information</h2>
<p>The Collection and the Query Builder differences can be a bit confusing to
newcomers of Laravel because the method names are often the same between the
two. For that reason it can be confusing to know what one you’re working on.
The Query Builder essentially builds a query until you call a method where it
will execute the query and hit the database (e.g. when you call certain
methods like <code>-&gt;all()</code> <code>-&gt;first()</code> <code>-&gt;lists()</code> and others). Those methods
<em>also</em> exist on the <code>Collection</code> object, which can get returned from the Query
Builder if there are multiple results. If you're not sure what class you're
actually working with, try doing <code>var_dump(User::all())</code> and experimenting to
see what classes it's actually returning (with help of <code>get_class(...)</code>). I
highly recommend you check out the source code for the Collection class, it's
pretty simple. Then check out the Query Builder and see the similarities in
function names and find out when it actually hits the database.</p>
<ul>
<li>Laravel 5.2 Collection Class</li>
<li>Laravel 5.2 Query Builder</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<p>I think you are looking for:</p>
<div class="code"><pre class="code literal-block"><span class="err">$</span><span class="n">result</span><span class="o">-&gt;</span><span class="n">isEmpty</span><span class="p">()</span>
</pre></div>

<p>This is different from <code>empty($result)</code>, which will not be true because the
result will be an empty collection. Your suggestion of <code>count($result)</code> is
also a good solution. I cannot find any reference in the docs</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/docker-executable-file-not-found-in-path/" class="u-url">docker: executable file not found in $PATH</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/docker-executable-file-not-found-in-path/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T16:14:46+08:00" itemprop="datePublished" title="2023-03-05 16:14">2023-03-05 16:14</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a docker image which installs <code>grunt</code>, but when I try to run it, I get
an error:</p>
<div class="code"><pre class="code literal-block"><span class="nv">Error</span><span class="w"> </span><span class="nv">response</span><span class="w"> </span><span class="nv">from</span><span class="w"> </span><span class="nv">daemon</span>:<span class="w"> </span><span class="nv">Cannot</span><span class="w"> </span><span class="nv">start</span><span class="w"> </span><span class="nv">container</span><span class="w"> </span><span class="nv">foo_1</span>:<span class="w"> </span>\
<span class="w">    </span><span class="k">exec</span>:<span class="w"> </span><span class="s2">"grunt serve"</span>:<span class="w"> </span><span class="nv">executable</span><span class="w"> </span><span class="nv">file</span><span class="w"> </span><span class="nv">not</span><span class="w"> </span><span class="nv">found</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span>$<span class="nv">PATH</span>
</pre></div>

<p>If I run bash in interactive mode, <code>grunt</code> is available.</p>
<p>What am I doing wrong?</p>
<p>Here is my Dockerfile:</p>
<div class="code"><pre class="code literal-block"><span class="c1"># https://registry.hub.docker.com/u/dockerfile/nodejs/ (builds on ubuntu:14.04)</span>
<span class="n">FROM</span><span class="w"> </span><span class="n">dockerfile</span><span class="o">/</span><span class="n">nodejs</span>

<span class="n">MAINTAINER</span><span class="w"> </span><span class="n">My</span><span class="w"> </span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="n">me</span><span class="err">@</span><span class="n">email</span><span class="o">.</span><span class="n">com</span>

<span class="n">ENV</span><span class="w"> </span><span class="n">HOME</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">web</span>
<span class="n">WORKDIR</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">web</span><span class="o">/</span><span class="n">site</span>

<span class="n">RUN</span><span class="w"> </span><span class="n">useradd</span><span class="w"> </span><span class="n">web</span><span class="w"> </span><span class="o">-</span><span class="n">d</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">web</span><span class="w"> </span><span class="o">-</span><span class="n">s</span><span class="w"> </span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">bash</span><span class="w"> </span><span class="o">-</span><span class="n">m</span>

<span class="n">RUN</span><span class="w"> </span><span class="n">npm</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="o">-</span><span class="n">g</span><span class="w"> </span><span class="n">grunt</span><span class="o">-</span><span class="n">cli</span>
<span class="n">RUN</span><span class="w"> </span><span class="n">npm</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="o">-</span><span class="n">g</span><span class="w"> </span><span class="n">bower</span>

<span class="n">RUN</span><span class="w"> </span><span class="n">chown</span><span class="w"> </span><span class="o">-</span><span class="n">R</span><span class="w"> </span><span class="n">web</span><span class="p">:</span><span class="n">web</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">web</span>
<span class="n">USER</span><span class="w"> </span><span class="n">web</span>

<span class="n">RUN</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="n">clone</span><span class="w"> </span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">repo</span><span class="o">/</span><span class="n">site</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">web</span><span class="o">/</span><span class="n">site</span>

<span class="n">RUN</span><span class="w"> </span><span class="n">npm</span><span class="w"> </span><span class="n">install</span>
<span class="n">RUN</span><span class="w"> </span><span class="n">bower</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="o">--</span><span class="n">config</span><span class="o">.</span><span class="n">interactive</span><span class="o">=</span><span class="bp">false</span><span class="w"> </span><span class="o">--</span><span class="n">allow</span><span class="o">-</span><span class="n">root</span>

<span class="n">ENV</span><span class="w"> </span><span class="n">NODE_ENV</span><span class="w"> </span><span class="n">development</span>

<span class="c1"># Port 9000 for server</span>
<span class="c1"># Port 35729 for livereload</span>
<span class="n">EXPOSE</span><span class="w"> </span><span class="mi">9000</span><span class="w"> </span><span class="mi">35729</span>
<span class="n">CMD</span><span class="w"> </span><span class="p">[</span><span class="s2">"grunt"</span><span class="p">]</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>When you use the exec format for a command (e.g., <code>CMD ["grunt"]</code>, a JSON
array with double quotes), it will be executed <em>without</em> a shell. This means
that most environment variables will not be present.</p>
<p>If you specify your command as a regular string (e.g. <code>CMD grunt</code>) then the
string after <code>CMD</code> will be executed with <code>/bin/sh -c</code>.</p>
<p>More info on this is available in the CMD section of the Dockerfile reference.</p>
<p><br></p>
<h3>Suggest</h3>
<p>When you use the exec format for a command (e.g., <code>CMD ["grunt"]</code>, a JSON
array with double quotes), it will be executed <em>without</em> a shell. This means
that most environment variables will not be present.</p>
<p>If you specify your command as a regular string (e.g. <code>CMD grunt</code>) then the
string after <code>CMD</code> will be executed with <code>/bin/sh -c</code>.</p>
<p>More info on this is available in the CMD section of the Dockerfile reference.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2766.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2764.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

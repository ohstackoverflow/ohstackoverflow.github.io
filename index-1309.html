<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1309) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1309.html">
<link rel="prev" href="index-1310.html" type="text/html">
<link rel="next" href="index-1308.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-install-xcode-command-line-tools/" class="u-url">How to install Xcode Command Line Tools</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-install-xcode-command-line-tools/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T06:18:19+08:00" itemprop="datePublished" title="2023-02-18 06:18">2023-02-18 06:18</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How do I get the command-line build tools installed with the current Xcode/Mac
OS X v10.8 (Mountain Lion) or later?</p>
<p>Unlike Xcode there is no installer, it's just a bundle.</p>
<p>It looks like all the command line tools are in the bundle, under
<code>Contents/Developer</code>, but none of the appropriate environment variables are
set to use them.</p>
<p>Is there a script I can run that will set-up my environment to support
building from the command line?</p>
<p><br><br></p>
<h2>Answer</h2>
<h4>Xcode 5.1 and OSX 10.9. (also works with Xcode 5.1.1 + OSX 10.10)</h4>
<p><code>xcode-select --install</code> worked with version 2333, failed with version 2003.
So, try <code>xcode-select --install</code> and if that does not work download as
described below.</p>
<p>In early February 2014 <code>xcode-select --install</code> has been reporting that "Can't
install the software because it is not currently available from the Software
Update server". In late February 2014 the command started only displaying
help. The <strong>solution</strong> is to download directly, see "Separate Download" below.</p>
<h4>Xcode 5.0.1 and OSX 10.9</h4>
<p>With Xcode 5.0.1 and Mavericks 10.9 the command line tool is no longer
available through Xcode. Instead they must be downloaded from the Apple
Developer Tools site: https://developer.apple.com/downloads/index.action. This
requires signing in with a developer account.</p>
<p><strong>Or via terminal</strong> (from the release docs): The Command Line Developer Tools
package can be installed on demand using " <strong>xcode-select --install</strong> ” and
the installed tools will be automatically updated using Software Update. OS X
10.9 is required for this feature. For earlier versions, continue to use the
in-app download in Xcode.</p>
<p>Running the command in terminal produces the following GUI:<img alt="enter image
description here" src="images/ZSTtJ.png"></p>
<h4>Inside Xcode (5.0)</h4>
<p>Xcode includes a new "Downloads" preference pane to install optional
components such as command line tools, and previous iOS Simulators. To open
this pane click the "Xcode" button in the top left of the screen near the
Apple logo, then click "Preferences", then click "Downloads".</p>
<p><strong>Xcode 5.0</strong> screenshot: <img alt="enter image description here" src="images/Timn2.png"></p>
<p><strong>Xcode 4.x</strong> screenshot: <img alt="screenshot of downloads pane" src="images/SMQvZ.jpg"></p>
<h4>Separate Download</h4>
<p>If you do not have Xcode, they are available as a separate download from
Apple:</p>
<p>Go to developer.apple.com/downloads/index.action, and sign in with your Apple
ID (the download's free). In the pane on the left, search for "command line
tools" and choose the package appropriate to your version of OS X. Requires
Mac OS X 10.7.3 or later.</p>
<p><br></p>
<h3>Suggest</h3>
<p>If you take a look into "Console" while trying to pull the Command Line Tools,
you will find out that there is actually an "unofficial" link to the Mountain
Lion Command Line Tools!</p>
<p>So just try:</p>
<p>http://adcdownload.apple.com/ios/ios_simulator__resigned/cltools_mountainliondp2_march12.dmg</p>
<p>Here is my Console log:</p>
<div class="code"><pre class="code literal-block"><span class="mi">01</span><span class="o">/</span><span class="mi">04</span><span class="o">/</span><span class="mi">2012</span><span class="w"> </span><span class="mi">15</span><span class="p">:</span><span class="mi">41</span><span class="p">:</span><span class="mf">54.258</span><span class="w"> </span><span class="n">Xcode</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="n">MT</span><span class="p">]</span><span class="w"> </span><span class="n">DVTDownloadable</span><span class="p">:</span><span class="w"> </span><span class="n">Download</span><span class="w"> </span><span class="n">failed</span><span class="o">.</span><span class="w"> </span><span class="n">Downloadable</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">dependencies</span><span class="w"> </span><span class="o">=</span><span class="w">     </span><span class="p">(</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">    </span><span class="n">fileSize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">141452226</span><span class="p">;</span>
<span class="w">    </span><span class="n">identifier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Xcode.CLTools.10.8"</span><span class="p">;</span>
<span class="w">    </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Command Line Tools"</span><span class="p">;</span>
<span class="w">    </span><span class="n">source</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"http://adcdownload.apple.com/ios/ios_simulator__resigned/cltools_mountainliondp2_march12.dmg"</span><span class="p">;</span>
<span class="w">    </span><span class="n">userInfo</span><span class="w"> </span><span class="o">=</span><span class="w">     </span><span class="p">{</span>
<span class="w">        </span><span class="n">ActivationPredicate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"$MAC_OS_X_VERSION &gt;= '10.8.0' &amp;&amp; $MAC_OS_X_VERSION &lt; '10.9.0'"</span><span class="p">;</span>
<span class="w">        </span><span class="n">InstallPrefix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"/"</span><span class="p">;</span>
<span class="w">        </span><span class="n">InstalledIfAllSHA1SumsMatch</span><span class="w"> </span><span class="o">=</span><span class="w">         </span><span class="p">{</span>
<span class="w">            </span><span class="s2">"/usr/bin/clang"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">600</span><span class="n">c35175775a6002452a88f17e00c570cd2e2d0</span><span class="p">;</span>
<span class="w">        </span><span class="p">};</span>
<span class="w">        </span><span class="n">Summary</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Before installing, note that from within Terminal you can use the XCRUN tool to launch compilers and other tools embedded within the Xcode application. Use the XCODE-SELECT tool to define which version of Xcode is active.  Type </span><span class="se">\"</span><span class="s2">man xcrun</span><span class="se">\"</span><span class="s2"> from within Terminal to find out more.</span><span class="se">\n\n</span><span class="s2">Downloading this package will install copies of the core command line tools and system headers into system folders, including the LLVM compiler, linker, and build tools."</span><span class="p">;</span>
<span class="w">        </span><span class="s2">"Xcode.SDKs"</span><span class="w"> </span><span class="o">=</span><span class="w">         </span><span class="p">(</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="n">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"1.1.1"</span><span class="p">;</span>
<span class="p">}</span><span class="o">.</span><span class="w"> </span><span class="n">Error</span><span class="p">:</span><span class="w"> </span><span class="n">Error</span><span class="w"> </span><span class="n">Domain</span><span class="o">=</span><span class="n">NSCocoaErrorDomain</span><span class="w"> </span><span class="n">Code</span><span class="o">=</span><span class="mi">3840</span><span class="w"> </span><span class="s2">"The data couldn’t be read because it has been corrupted."</span><span class="w"> </span><span class="p">(</span><span class="n">Encountered</span><span class="w"> </span><span class="n">unknown</span><span class="w"> </span><span class="n">ampersand</span><span class="o">-</span><span class="n">escape</span><span class="w"> </span><span class="n">sequence</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="mi">18</span><span class="p">)</span><span class="w"> </span><span class="n">UserInfo</span><span class="o">=</span><span class="mh">0x401bc8e60</span><span class="w"> </span><span class="p">{</span><span class="n">NSDebugDescription</span><span class="o">=</span><span class="n">Encountered</span><span class="w"> </span><span class="n">unknown</span><span class="w"> </span><span class="n">ampersand</span><span class="o">-</span><span class="n">escape</span><span class="w"> </span><span class="n">sequence</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w"> </span><span class="n">kCFPropertyListOldStyleParsingError</span><span class="o">=</span><span class="n">The</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">couldn</span><span class="err">’</span><span class="n">t</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">read</span><span class="w"> </span><span class="n">because</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">corrupted</span><span class="o">.</span><span class="p">}</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-add-multiple-font-files-for-the-same-font/" class="u-url">How to add multiple font files for the same font?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-add-multiple-font-files-for-the-same-font/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T06:17:43+08:00" itemprop="datePublished" title="2023-02-18 06:17">2023-02-18 06:17</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm looking at the MDC page for the @font-face CSS rule, but I don't get one
thing. I have separate files for <strong>bold</strong> , <em>italic</em> and <strong><em>bold + italic</em></strong>.
How can I embed all three files in one <code>@font-face</code> rule? For example, if I
have:</p>
<div class="code"><pre class="code literal-block"><span class="nv">@font</span><span class="o">-</span><span class="n">face</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">font</span><span class="o">-</span><span class="nl">family</span><span class="p">:</span><span class="w"> </span><span class="ss">"DejaVu Sans"</span><span class="p">;</span>
<span class="w">    </span><span class="nl">src</span><span class="p">:</span><span class="w"> </span><span class="n">url</span><span class="p">(</span><span class="ss">"./fonts/DejaVuSans.ttf"</span><span class="p">)</span><span class="w"> </span><span class="nf">format</span><span class="p">(</span><span class="ss">"ttf"</span><span class="p">);</span>
<span class="err">}</span>
<span class="n">strong</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">font</span><span class="o">-</span><span class="nl">family</span><span class="p">:</span><span class="w"> </span><span class="ss">"DejaVu Sans"</span><span class="p">;</span>
<span class="w">    </span><span class="n">font</span><span class="o">-</span><span class="nl">weight</span><span class="p">:</span><span class="w"> </span><span class="n">bold</span><span class="p">;</span>
<span class="err">}</span>
</pre></div>

<p>The browser will not know which font to be used for bold (because that file is
DejaVuSansBold.ttf), so it will default to something I probably don't want.
How can I tell the browser all the different variants I have for a certain
font?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The solution seems to be to add multiple <code>@font-face</code> rules, for example:</p>
<div class="code"><pre class="code literal-block"><span class="nv">@font</span><span class="o">-</span><span class="n">face</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">font</span><span class="o">-</span><span class="nl">family</span><span class="p">:</span><span class="w"> </span><span class="ss">"DejaVu Sans"</span><span class="p">;</span>
<span class="w">    </span><span class="nl">src</span><span class="p">:</span><span class="w"> </span><span class="n">url</span><span class="p">(</span><span class="ss">"fonts/DejaVuSans.ttf"</span><span class="p">);</span>
<span class="err">}</span>
<span class="nv">@font</span><span class="o">-</span><span class="n">face</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">font</span><span class="o">-</span><span class="nl">family</span><span class="p">:</span><span class="w"> </span><span class="ss">"DejaVu Sans"</span><span class="p">;</span>
<span class="w">    </span><span class="nl">src</span><span class="p">:</span><span class="w"> </span><span class="n">url</span><span class="p">(</span><span class="ss">"fonts/DejaVuSans-Bold.ttf"</span><span class="p">);</span>
<span class="w">    </span><span class="n">font</span><span class="o">-</span><span class="nl">weight</span><span class="p">:</span><span class="w"> </span><span class="n">bold</span><span class="p">;</span>
<span class="err">}</span>
<span class="nv">@font</span><span class="o">-</span><span class="n">face</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">font</span><span class="o">-</span><span class="nl">family</span><span class="p">:</span><span class="w"> </span><span class="ss">"DejaVu Sans"</span><span class="p">;</span>
<span class="w">    </span><span class="nl">src</span><span class="p">:</span><span class="w"> </span><span class="n">url</span><span class="p">(</span><span class="ss">"fonts/DejaVuSans-Oblique.ttf"</span><span class="p">);</span>
<span class="w">    </span><span class="n">font</span><span class="o">-</span><span class="nl">style</span><span class="p">:</span><span class="w"> </span><span class="n">italic</span><span class="p">,</span><span class="w"> </span><span class="n">oblique</span><span class="p">;</span>
<span class="err">}</span>
<span class="nv">@font</span><span class="o">-</span><span class="n">face</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">font</span><span class="o">-</span><span class="nl">family</span><span class="p">:</span><span class="w"> </span><span class="ss">"DejaVu Sans"</span><span class="p">;</span>
<span class="w">    </span><span class="nl">src</span><span class="p">:</span><span class="w"> </span><span class="n">url</span><span class="p">(</span><span class="ss">"fonts/DejaVuSans-BoldOblique.ttf"</span><span class="p">);</span>
<span class="w">    </span><span class="n">font</span><span class="o">-</span><span class="nl">weight</span><span class="p">:</span><span class="w"> </span><span class="n">bold</span><span class="p">;</span>
<span class="w">    </span><span class="n">font</span><span class="o">-</span><span class="nl">style</span><span class="p">:</span><span class="w"> </span><span class="n">italic</span><span class="p">,</span><span class="w"> </span><span class="n">oblique</span><span class="p">;</span>
<span class="err">}</span>
</pre></div>

<p>By the way, it would seem Google Chrome doesn't know about the <code>format("ttf")</code>
argument, so you might want to skip that.</p>
<p>(This answer was correct for the CSS 2 specification. CSS3 only allows for one
font-style rather than a comma-separated list.)</p>
<p><br></p>
<h3>Suggest</h3>
<p>As of CSS3, the spec has changed, allowing for only a single <code>font-style</code>. A
comma-separated list (per CSS2) will be treated as if it were <code>normal</code> and
override any earlier (default) entry. This will make fonts defined in this way
appear italic permanently.</p>
<div class="code"><pre class="code literal-block"><span class="nv">@font</span><span class="o">-</span><span class="n">face</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">font</span><span class="o">-</span><span class="nl">family</span><span class="p">:</span><span class="w"> </span><span class="ss">"DejaVu Sans"</span><span class="p">;</span>
<span class="w">    </span><span class="nl">src</span><span class="p">:</span><span class="w"> </span><span class="n">url</span><span class="p">(</span><span class="ss">"fonts/DejaVuSans.ttf"</span><span class="p">);</span>
<span class="err">}</span>
<span class="nv">@font</span><span class="o">-</span><span class="n">face</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">font</span><span class="o">-</span><span class="nl">family</span><span class="p">:</span><span class="w"> </span><span class="ss">"DejaVu Sans"</span><span class="p">;</span>
<span class="w">    </span><span class="nl">src</span><span class="p">:</span><span class="w"> </span><span class="n">url</span><span class="p">(</span><span class="ss">"fonts/DejaVuSans-Bold.ttf"</span><span class="p">);</span>
<span class="w">    </span><span class="n">font</span><span class="o">-</span><span class="nl">weight</span><span class="p">:</span><span class="w"> </span><span class="n">bold</span><span class="p">;</span>
<span class="err">}</span>
<span class="nv">@font</span><span class="o">-</span><span class="n">face</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">font</span><span class="o">-</span><span class="nl">family</span><span class="p">:</span><span class="w"> </span><span class="ss">"DejaVu Sans"</span><span class="p">;</span>
<span class="w">    </span><span class="nl">src</span><span class="p">:</span><span class="w"> </span><span class="n">url</span><span class="p">(</span><span class="ss">"fonts/DejaVuSans-Oblique.ttf"</span><span class="p">);</span>
<span class="w">    </span><span class="n">font</span><span class="o">-</span><span class="nl">style</span><span class="p">:</span><span class="w"> </span><span class="n">italic</span><span class="p">;</span>
<span class="err">}</span>
<span class="nv">@font</span><span class="o">-</span><span class="n">face</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">font</span><span class="o">-</span><span class="nl">family</span><span class="p">:</span><span class="w"> </span><span class="ss">"DejaVu Sans"</span><span class="p">;</span>
<span class="w">    </span><span class="nl">src</span><span class="p">:</span><span class="w"> </span><span class="n">url</span><span class="p">(</span><span class="ss">"fonts/DejaVuSans-BoldOblique.ttf"</span><span class="p">);</span>
<span class="w">    </span><span class="n">font</span><span class="o">-</span><span class="nl">weight</span><span class="p">:</span><span class="w"> </span><span class="n">bold</span><span class="p">;</span>
<span class="w">    </span><span class="n">font</span><span class="o">-</span><span class="nl">style</span><span class="p">:</span><span class="w"> </span><span class="n">italic</span><span class="p">;</span>
<span class="err">}</span>
<span class="nv">@font</span><span class="o">-</span><span class="n">face</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">font</span><span class="o">-</span><span class="nl">family</span><span class="p">:</span><span class="w"> </span><span class="ss">"DejaVu Sans"</span><span class="p">;</span>
<span class="w">    </span><span class="nl">src</span><span class="p">:</span><span class="w"> </span><span class="n">url</span><span class="p">(</span><span class="ss">"fonts/DejaVuSans-Oblique.ttf"</span><span class="p">);</span>
<span class="w">    </span><span class="n">font</span><span class="o">-</span><span class="nl">style</span><span class="p">:</span><span class="w"> </span><span class="n">oblique</span><span class="p">;</span>
<span class="err">}</span>
<span class="nv">@font</span><span class="o">-</span><span class="n">face</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">font</span><span class="o">-</span><span class="nl">family</span><span class="p">:</span><span class="w"> </span><span class="ss">"DejaVu Sans"</span><span class="p">;</span>
<span class="w">    </span><span class="nl">src</span><span class="p">:</span><span class="w"> </span><span class="n">url</span><span class="p">(</span><span class="ss">"fonts/DejaVuSans-BoldOblique.ttf"</span><span class="p">);</span>
<span class="w">    </span><span class="n">font</span><span class="o">-</span><span class="nl">weight</span><span class="p">:</span><span class="w"> </span><span class="n">bold</span><span class="p">;</span>
<span class="w">    </span><span class="n">font</span><span class="o">-</span><span class="nl">style</span><span class="p">:</span><span class="w"> </span><span class="n">oblique</span><span class="p">;</span>
<span class="err">}</span>
</pre></div>

<p>In most cases, italic will probably be sufficient and oblique rules won't be
necessary if you take care to define whichever you will use and stick to it.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-post-data-as-form-data-instead-of-a-request-payload/" class="u-url">How can I post data as form data instead of a request payload?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-post-data-as-form-data-instead-of-a-request-payload/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T06:17:16+08:00" itemprop="datePublished" title="2023-02-18 06:17">2023-02-18 06:17</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>In the code below, the AngularJS <code>$http</code> method calls the URL, and submits the
xsrf object as a "Request Payload" (as described in the Chrome debugger
network tab). The jQuery <code>$.ajax</code> method does the same call, but submits xsrf
as "Form Data".</p>
<p>How can I make AngularJS submit xsrf as form data instead of a request
payload?</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'http://somewhere.com/'</span><span class="p">;</span>
<span class="k">var</span><span class="w"> </span><span class="n">xsrf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">fkey</span><span class="p">:</span><span class="w"> </span><span class="s1">'xsrf key'</span><span class="p">};</span>

<span class="o">$</span><span class="n">http</span><span class="p">({</span>
<span class="w">    </span><span class="n">method</span><span class="p">:</span><span class="w"> </span><span class="s1">'POST'</span><span class="p">,</span>
<span class="w">    </span><span class="n">url</span><span class="p">:</span><span class="w"> </span><span class="n">url</span><span class="p">,</span>
<span class="w">    </span><span class="n">data</span><span class="p">:</span><span class="w"> </span><span class="n">xsrf</span>
<span class="p">})</span><span class="o">.</span><span class="n">success</span><span class="p">(</span><span class="n">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{});</span>

<span class="o">$.</span><span class="n">ajax</span><span class="p">({</span>
<span class="w">    </span><span class="n">type</span><span class="p">:</span><span class="w"> </span><span class="s1">'POST'</span><span class="p">,</span>
<span class="w">    </span><span class="n">url</span><span class="p">:</span><span class="w"> </span><span class="n">url</span><span class="p">,</span>
<span class="w">    </span><span class="n">data</span><span class="p">:</span><span class="w"> </span><span class="n">xsrf</span><span class="p">,</span>
<span class="w">    </span><span class="n">dataType</span><span class="p">:</span><span class="w"> </span><span class="s1">'json'</span><span class="p">,</span>
<span class="w">    </span><span class="n">success</span><span class="p">:</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>
<span class="p">});</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>The following line needs to be added to the $http object that is passed:</p>
<div class="code"><pre class="code literal-block"><span class="nt">headers</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="err">'Content-Type':</span><span class="w"> </span><span class="err">'application/x-www-form-urlencoded</span><span class="p">;</span><span class="w"> </span><span class="err">charset=UTF-8'</span><span class="p">}</span>
</pre></div>

<p>And the data passed should be converted to a URL-encoded string:</p>
<div class="code"><pre class="code literal-block">&gt; $.param({fkey: "key"})
'fkey=key'
</pre></div>

<p>So you have something like:</p>
<div class="code"><pre class="code literal-block"><span class="o">$</span><span class="nt">http</span><span class="o">(</span><span class="p">{</span>
<span class="w">    </span><span class="n">method</span><span class="p">:</span><span class="w"> </span><span class="s1">'POST'</span><span class="p">,</span>
<span class="w">    </span><span class="n">url</span><span class="o">:</span><span class="w"> </span><span class="n">url</span><span class="p">,</span>
<span class="w">    </span><span class="n">data</span><span class="o">:</span><span class="w"> </span><span class="err">$</span><span class="o">.</span><span class="nf">param</span><span class="p">(</span><span class="err">{</span><span class="n">fkey</span><span class="err">:</span><span class="w"> </span><span class="s2">"key"</span><span class="err">}</span><span class="p">),</span>
<span class="w">    </span><span class="n">headers</span><span class="o">:</span><span class="w"> </span><span class="err">{</span><span class="s1">'Content-Type'</span><span class="o">:</span><span class="w"> </span><span class="s1">'application/x-www-form-urlencoded; charset=UTF-8'</span><span class="p">}</span>
<span class="err">}</span><span class="o">)</span>
</pre></div>

<p>From: https://groups.google.com/forum/#!msg/angular/5nAedJ1LyO0/4Vj_72EZcDsJ</p>
<h3>UPDATE</h3>
<p>To use new services added with AngularJS V1.4, see</p>
<ul>
<li>URL-encoding variables using only AngularJS services</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<p>If you do not want to use jQuery in the solution you could try this. Solution
nabbed from here https://stackoverflow.com/a/1714899/1784301</p>
<div class="code"><pre class="code literal-block"><span class="err">$</span><span class="n">http</span><span class="p">(</span><span class="err">{</span>
<span class="w">    </span><span class="k">method</span><span class="err">:</span><span class="w"> </span><span class="s1">'POST'</span><span class="p">,</span>
<span class="w">    </span><span class="nl">url</span><span class="p">:</span><span class="w"> </span><span class="n">url</span><span class="p">,</span>
<span class="w">    </span><span class="nl">headers</span><span class="p">:</span><span class="w"> </span><span class="err">{</span><span class="s1">'Content-Type'</span><span class="err">:</span><span class="w"> </span><span class="s1">'application/x-www-form-urlencoded'</span><span class="err">}</span><span class="p">,</span>
<span class="w">    </span><span class="nl">transformRequest</span><span class="p">:</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="nf">var</span><span class="w"> </span><span class="nf">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">[]</span><span class="p">;</span>
<span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="nf">var</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">obj</span><span class="p">)</span>
<span class="w">        </span><span class="nf">str</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">encodeURIComponent</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="ss">"="</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">encodeURIComponent</span><span class="p">(</span><span class="n">obj</span><span class="o">[</span><span class="n">p</span><span class="o">]</span><span class="p">));</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nf">str</span><span class="p">.</span><span class="k">join</span><span class="p">(</span><span class="ss">"&amp;"</span><span class="p">);</span>
<span class="w">    </span><span class="err">}</span><span class="p">,</span>
<span class="w">    </span><span class="k">data</span><span class="err">:</span><span class="w"> </span><span class="n">xsrf</span>
<span class="err">}</span><span class="p">).</span><span class="n">success</span><span class="p">(</span><span class="k">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="err">{}</span><span class="p">);</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1310.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1308.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

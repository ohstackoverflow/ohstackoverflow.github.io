<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 201) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-201.html">
<link rel="prev" href="index-202.html" type="text/html">
<link rel="next" href="index-200.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-does-the-java-for-each-loop-work/" class="u-url">How does the Java 'for each' loop work?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-does-the-java-for-each-loop-work/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T00:41:03+08:00" itemprop="datePublished" title="2023-02-17 00:41">2023-02-17 00:41</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Consider:</p>
<div class="code"><pre class="code literal-block"><span class="nv">List</span><span class="o">&lt;</span><span class="nv">String</span><span class="o">&gt;</span><span class="w"> </span><span class="nv">someList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">ArrayList</span><span class="o">&lt;</span><span class="nv">String</span><span class="o">&gt;</span><span class="ss">()</span><span class="c1">;</span>
<span class="o">//</span><span class="w"> </span><span class="nv">add</span><span class="w"> </span><span class="s2">"monkey"</span>,<span class="w"> </span><span class="s2">"donkey"</span>,<span class="w"> </span><span class="s2">"skeleton key"</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">someList</span>



<span class="k">for</span><span class="w"> </span><span class="ss">(</span><span class="nv">String</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span>:<span class="w"> </span><span class="nv">someList</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="nv">System</span>.<span class="nv">out</span>.<span class="nv">println</span><span class="ss">(</span><span class="nv">item</span><span class="ss">)</span><span class="c1">;</span>
}
</pre></div>

<p>What would the equivalent <code>for</code> loop look like without using the <em>for each</em>
syntax?</p>
<p><br><br></p>
<h2>Answer</h2>
<div class="code"><pre class="code literal-block"><span class="k">for</span><span class="w"> </span><span class="ss">(</span><span class="nv">Iterator</span><span class="o">&lt;</span><span class="nv">String</span><span class="o">&gt;</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">someIterable</span>.<span class="nv">iterator</span><span class="ss">()</span><span class="c1">; i.hasNext();) {</span>
<span class="w">    </span><span class="nv">String</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">i</span>.<span class="k">next</span><span class="ss">()</span><span class="c1">;</span>
<span class="w">    </span><span class="nv">System</span>.<span class="nv">out</span>.<span class="nv">println</span><span class="ss">(</span><span class="nv">item</span><span class="ss">)</span><span class="c1">;</span>
}
</pre></div>

<p>Note that if you need to use <code>i.remove();</code> in your loop, or access the actual
iterator in some way, you cannot use the <code>for ( : )</code> idiom, since the actual
iterator is merely inferred.</p>
<p>As was noted by Denis Bueno, this code works for any object that implements
the <code>Iterable</code> interface.</p>
<p>Also, if the right-hand side of the <code>for (:)</code> idiom is an <code>array</code> rather than
an <code>Iterable</code> object, the internal code uses an int index counter and checks
against <code>array.length</code> instead. See the Java Language Specification.</p>
<p><br></p>
<h3>Suggest</h3>
<p>The construct <em>for each</em> is also valid for arrays. e.g.</p>
<div class="code"><pre class="code literal-block"><span class="k">String</span><span class="err">[]</span><span class="w"> </span><span class="n">fruits</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="k">String</span><span class="err">[]</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="s2">"Orange"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Apple"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Pear"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Strawberry"</span><span class="w"> </span><span class="err">}</span><span class="p">;</span>

<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">String</span><span class="w"> </span><span class="n">fruit</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">fruits</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">fruit</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n n-Quoted">`fruits`</span><span class="w"> </span><span class="k">array</span><span class="p">.</span>
<span class="err">}</span>
</pre></div>

<p>which is essentially equivalent of</p>
<div class="code"><pre class="code literal-block"><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">fruits</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="k">String</span><span class="w"> </span><span class="n">fruit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fruits</span><span class="err">[</span><span class="n">i</span><span class="err">]</span><span class="p">;</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">fruit</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n n-Quoted">`fruits`</span><span class="w"> </span><span class="k">array</span><span class="p">.</span>
<span class="err">}</span>
</pre></div>

<p>So, overall summary:<br>
[nsayer] The following is the longer form of what is happening:</p>
<blockquote>
<div class="code"><pre class="code literal-block"><span class="k">for</span><span class="ss">(</span><span class="nv">Iterator</span><span class="o">&lt;</span><span class="nv">String</span><span class="o">&gt;</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">someList</span>.<span class="nv">iterator</span><span class="ss">()</span><span class="c1">; i.hasNext(); ) {</span>
<span class="w">  </span><span class="nv">String</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">i</span>.<span class="k">next</span><span class="ss">()</span><span class="c1">;</span>
<span class="w">  </span><span class="nv">System</span>.<span class="nv">out</span>.<span class="nv">println</span><span class="ss">(</span><span class="nv">item</span><span class="ss">)</span><span class="c1">;</span>
}
</pre></div>

<p>Note that if you need to use i.remove(); in your loop, or access the actual
iterator in some way, you cannot use the for( : ) idiom, since the actual
Iterator is merely inferred.</p>
</blockquote>
<p>[Denis Bueno]</p>
<blockquote>
<p>It's implied by nsayer's answer, but it's worth noting that the OP's for(..)
syntax will work when "someList" is anything that implements
java.lang.Iterable -- it doesn't have to be a list, or some collection from
java.util. Even your own types, therefore, can be used with this syntax.</p>
</blockquote>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-does-the-flags-enum-attribute-mean-in-c/" class="u-url">What does the [Flags] Enum Attribute mean in C#?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-does-the-flags-enum-attribute-mean-in-c/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T00:40:35+08:00" itemprop="datePublished" title="2023-02-17 00:40">2023-02-17 00:40</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>From time to time I see an enum like the following:</p>
<div class="code"><pre class="code literal-block"><span class="k">[Flags]</span>
<span class="na">public enum Options </span>
<span class="na">{</span>
<span class="w">    </span><span class="na">None</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s">0,</span>
<span class="w">    </span><span class="na">Option1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">1,</span>
<span class="w">    </span><span class="na">Option2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">2,</span>
<span class="w">    </span><span class="na">Option3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">4,</span>
<span class="w">    </span><span class="na">Option4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">8</span>
<span class="na">}</span>
</pre></div>

<p>I don't understand what exactly the <code>[Flags]</code> attribute does.</p>
<p>Anyone have a good explanation or example they could post?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The <code>[Flags]</code> attribute should be used whenever the enumerable represents a
collection of possible values, rather than a single value. Such collections
are often used with bitwise operators, for example:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">allowedColors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyColor</span><span class="o">.</span><span class="n">Red</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">MyColor</span><span class="o">.</span><span class="n">Green</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">MyColor</span><span class="o">.</span><span class="n">Blue</span><span class="p">;</span>
</pre></div>

<p>Note that the <code>[Flags]</code> attribute <strong>doesn't</strong> enable this by itself - all it
does is allow a nice representation by the <code>.ToString()</code> method:</p>
<div class="code"><pre class="code literal-block"><span class="n">enum</span><span class="w"> </span><span class="n">Suits</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="n">Spades</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">Clubs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">Diamonds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">Hearts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="err">}</span>
<span class="o">[</span><span class="n">Flags</span><span class="o">]</span><span class="w"> </span><span class="n">enum</span><span class="w"> </span><span class="n">SuitsFlags</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="n">Spades</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">Clubs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">Diamonds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">Hearts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="err">}</span>

<span class="p">...</span>

<span class="nf">var</span><span class="w"> </span><span class="n">str1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Suits</span><span class="p">.</span><span class="n">Spades</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Suits</span><span class="p">.</span><span class="n">Diamonds</span><span class="p">).</span><span class="n">ToString</span><span class="p">();</span>
<span class="w">           </span><span class="o">//</span><span class="w"> </span><span class="ss">"5"</span>
<span class="nf">var</span><span class="w"> </span><span class="n">str2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">SuitsFlags</span><span class="p">.</span><span class="n">Spades</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">SuitsFlags</span><span class="p">.</span><span class="n">Diamonds</span><span class="p">).</span><span class="n">ToString</span><span class="p">();</span>
<span class="w">           </span><span class="o">//</span><span class="w"> </span><span class="ss">"Spades, Diamonds"</span>
</pre></div>

<p>It is also important to note that <code>[Flags]</code> <strong>does not</strong> automatically make
the enum values powers of two. If you omit the numeric values, the enum will
not work as one might expect in bitwise operations, because by default the
values start with 0 and increment.</p>
<p>Incorrect declaration:</p>
<div class="code"><pre class="code literal-block"><span class="k">[Flags]</span>
<span class="na">public enum MyColors</span>
<span class="na">{</span>
<span class="w">    </span><span class="na">Yellow,  // 0</span>
<span class="w">    </span><span class="na">Green,   // 1</span>
<span class="w">    </span><span class="na">Red,     // 2</span>
<span class="w">    </span><span class="na">Blue     // 3</span>
<span class="na">}</span>
</pre></div>

<p>The values, if declared this way, will be Yellow = 0, Green = 1, Red = 2, Blue
= 3. This will render it useless as flags.</p>
<p>Here's an example of a correct declaration:</p>
<div class="code"><pre class="code literal-block"><span class="k">[Flags]</span>
<span class="na">public enum MyColors</span>
<span class="na">{</span>
<span class="w">    </span><span class="na">Yellow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">1,</span>
<span class="w">    </span><span class="na">Green</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">2,</span>
<span class="w">    </span><span class="na">Red</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">4,</span>
<span class="w">    </span><span class="na">Blue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">8</span>
<span class="na">}</span>
</pre></div>

<p>To retrieve the distinct values in your property, one can do this:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">myProperties</span>.<span class="nv">AllowedColors</span>.<span class="nv">HasFlag</span><span class="ss">(</span><span class="nv">MyColor</span>.<span class="nv">Yellow</span><span class="ss">))</span>
{
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="nv">Yellow</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">allowed</span>...
}
</pre></div>

<p>or prior to .NET 4:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="ss">((</span><span class="nv">myProperties</span>.<span class="nv">AllowedColors</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="nv">MyColor</span>.<span class="nv">Yellow</span><span class="ss">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">MyColor</span>.<span class="nv">Yellow</span><span class="ss">)</span>
{
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="nv">Yellow</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">allowed</span>...
}

<span class="k">if</span><span class="ss">((</span><span class="nv">myProperties</span>.<span class="nv">AllowedColors</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="nv">MyColor</span>.<span class="nv">Green</span><span class="ss">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">MyColor</span>.<span class="nv">Green</span><span class="ss">)</span>
{
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="nv">Green</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">allowed</span>...
}
</pre></div>

<p><strong>Under the covers</strong></p>
<p>This works because you used powers of two in your enumeration. Under the
covers, your enumeration values look like this in binary ones and zeros:</p>
<div class="code"><pre class="code literal-block"> Yellow: 00000001
 Green:  00000010
 Red:    00000100
 Blue:   00001000
</pre></div>

<p>Similarly, after you've set your property <em>AllowedColors</em> to Red, Green and
Blue using the binary bitwise OR <code>|</code> operator, <em>AllowedColors</em> looks like
this:</p>
<div class="code"><pre class="code literal-block">myProperties.AllowedColors: 00001110
</pre></div>

<p>So when you retrieve the value you are actually performing bitwise AND <code>&amp;</code> on
the values:</p>
<div class="code"><pre class="code literal-block">myProperties.AllowedColors: 00001110
             MyColor.Green: 00000010
             -----------------------
                            00000010 // Hey, this is the same as MyColor.Green!
</pre></div>

<p><strong>The None = 0 value</strong></p>
<p>And regarding the use of <code>0</code> in your enumeration, quoting from MSDN:</p>
<div class="code"><pre class="code literal-block"><span class="k">[Flags]</span>
<span class="na">public enum MyColors</span>
<span class="na">{</span>
<span class="w">    </span><span class="na">None</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">0,</span>
<span class="w">    </span><span class="na">....</span>
<span class="na">}</span>
</pre></div>

<blockquote>
<p>Use None as the name of the flag enumerated constant whose value is zero.
<strong>You cannot use the None enumerated constant in a bitwise AND operation to
test for a flag because the result is always zero.</strong> However, you can
perform a logical, not a bitwise, comparison between the numeric value and
the None enumerated constant to determine whether any bits in the numeric
value are set.</p>
</blockquote>
<p>You can find more info about the flags attribute and its usage at msdn and
designing flags at msdn</p>
<p><br></p>
<h3>Suggest</h3>
<p>You can also do this</p>
<div class="code"><pre class="code literal-block"><span class="k">[Flags]</span>
<span class="na">public enum MyEnum</span>
<span class="na">{</span>
<span class="w">    </span><span class="na">None</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s">0,</span>
<span class="w">    </span><span class="na">First</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s">1 &lt;&lt; 0,</span>
<span class="w">    </span><span class="na">Second</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">1 &lt;&lt; 1,</span>
<span class="w">    </span><span class="na">Third</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s">1 &lt;&lt; 2,</span>
<span class="w">    </span><span class="na">Fourth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">1 &lt;&lt; 3</span>
<span class="na">}</span>
</pre></div>

<p>I find the bit-shifting easier than typing 4,8,16,32 and so on. It has no
impact on your code because it's all done at compile time</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/map-function-for-objects-instead-of-arrays/" class="u-url">map function for objects (instead of arrays)</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/map-function-for-objects-instead-of-arrays/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T00:39:54+08:00" itemprop="datePublished" title="2023-02-17 00:39">2023-02-17 00:39</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have an object:</p>
<div class="code"><pre class="code literal-block">myObject = { 'a': 1, 'b': 2, 'c': 3 }
</pre></div>

<p>I am looking for a native method, similar to <code>Array.prototype.map</code> that would
be used as follows:</p>
<div class="code"><pre class="code literal-block"><span class="nv">newObject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">myObject</span>.<span class="nv">map</span><span class="ss">(</span><span class="nv">function</span><span class="w"> </span><span class="ss">(</span><span class="nv">value</span>,<span class="w"> </span><span class="nv">label</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nv">value</span><span class="c1">;</span>
}<span class="ss">)</span><span class="c1">;</span>

<span class="o">//</span><span class="w"> </span><span class="nv">newObject</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">now</span><span class="w"> </span>{<span class="w"> </span><span class="s1">'a'</span>:<span class="w"> </span><span class="mi">1</span>,<span class="w"> </span><span class="s1">'b'</span>:<span class="w"> </span><span class="mi">4</span>,<span class="w"> </span><span class="s1">'c'</span>:<span class="w"> </span><span class="mi">9</span><span class="w"> </span>}
</pre></div>

<p>Does JavaScript have such a <code>map</code> function for objects? (I want this for
Node.JS, so I don't care about cross-browser issues.)</p>
<p><br><br></p>
<h2>Answer</h2>
<p>There is no native <code>map</code> to the <code>Object</code> object, but how about this:</p>
<div class="code"><pre class="code literal-block"><span class="nf">var</span><span class="w"> </span><span class="n">myObject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="s1">'a'</span><span class="err">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">'b'</span><span class="err">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">'c'</span><span class="err">:</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="err">}</span><span class="p">;</span>

<span class="k">Object</span><span class="p">.</span><span class="n">keys</span><span class="p">(</span><span class="n">myObject</span><span class="p">).</span><span class="n">forEach</span><span class="p">(</span><span class="k">function</span><span class="p">(</span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="k">index</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">  </span><span class="n">myObject</span><span class="o">[</span><span class="n">key</span><span class="o">]</span><span class="w"> </span><span class="o">*=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="err">}</span><span class="p">);</span>

<span class="n">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="n">myObject</span><span class="p">);</span>
<span class="o">//</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="s1">'a'</span><span class="err">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">'b'</span><span class="err">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="s1">'c'</span><span class="err">:</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="err">}</span>
</pre></div>

<p>But you could easily iterate over an object using <code>for ... in</code>:</p>
<div class="code"><pre class="code literal-block"><span class="nf">var</span><span class="w"> </span><span class="n">myObject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="s1">'a'</span><span class="err">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">'b'</span><span class="err">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">'c'</span><span class="err">:</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="err">}</span><span class="p">;</span>

<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="nf">var</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">myObject</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">myObject</span><span class="p">.</span><span class="n">hasOwnProperty</span><span class="p">(</span><span class="k">key</span><span class="p">))</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">myObject</span><span class="o">[</span><span class="n">key</span><span class="o">]</span><span class="w"> </span><span class="o">*=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="w">  </span><span class="err">}</span>
<span class="err">}</span>

<span class="n">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="n">myObject</span><span class="p">);</span>
<span class="o">//</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="s1">'a'</span><span class="err">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">'b'</span><span class="err">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="s1">'c'</span><span class="err">:</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="err">}</span>
</pre></div>

<h2>Update</h2>
<p>A lot of people are mentioning that the previous methods do not return a new
object, but rather operate on the object itself. For that matter I wanted to
add another solution that returns a new object and leaves the original object
as it is:</p>
<div class="code"><pre class="code literal-block"><span class="nf">var</span><span class="w"> </span><span class="n">myObject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="s1">'a'</span><span class="err">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">'b'</span><span class="err">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">'c'</span><span class="err">:</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="err">}</span><span class="p">;</span>

<span class="o">//</span><span class="w"> </span><span class="k">returns</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="k">object</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="k">each</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="n">mapped</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">mapFn</span><span class="p">(</span><span class="k">value</span><span class="p">)</span>
<span class="k">function</span><span class="w"> </span><span class="n">objectMap</span><span class="p">(</span><span class="k">object</span><span class="p">,</span><span class="w"> </span><span class="n">mapFn</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="k">Object</span><span class="p">.</span><span class="n">keys</span><span class="p">(</span><span class="k">object</span><span class="p">).</span><span class="n">reduce</span><span class="p">(</span><span class="k">function</span><span class="p">(</span><span class="k">result</span><span class="p">,</span><span class="w"> </span><span class="k">key</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="k">result</span><span class="o">[</span><span class="n">key</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mapFn</span><span class="p">(</span><span class="k">object</span><span class="o">[</span><span class="n">key</span><span class="o">]</span><span class="p">)</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">result</span>
<span class="w">  </span><span class="err">}</span><span class="p">,</span><span class="w"> </span><span class="err">{}</span><span class="p">)</span>
<span class="err">}</span>

<span class="nf">var</span><span class="w"> </span><span class="n">newObject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">objectMap</span><span class="p">(</span><span class="n">myObject</span><span class="p">,</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="k">value</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="k">value</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span>
<span class="err">}</span><span class="p">)</span>

<span class="n">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="n">newObject</span><span class="p">);</span>
<span class="o">//</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="s1">'a'</span><span class="err">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">'b'</span><span class="err">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="s1">'c'</span><span class="err">:</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="err">}</span>

<span class="n">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="n">myObject</span><span class="p">);</span>
<span class="o">//</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="s1">'a'</span><span class="err">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">'b'</span><span class="err">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">'c'</span><span class="err">:</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="err">}</span>
</pre></div>

<p><code>Array.prototype.reduce</code> reduces an array to a single value by somewhat
merging the previous value with the current. The chain is initialized by an
empty object <code>{}</code>. On every iteration a new key of <code>myObject</code> is added with
twice the key as the value.</p>
<h2>Update</h2>
<p>With new ES6 features, there is a more elegant way to express <code>objectMap</code>.</p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="n">objectMap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">obj</span><span class="p">,</span><span class="w"> </span><span class="n">fn</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span>
<span class="w">  </span><span class="nb nb-Type">Object</span><span class="o">.</span><span class="n">fromEntries</span><span class="p">(</span>
<span class="w">    </span><span class="nb nb-Type">Object</span><span class="o">.</span><span class="n">entries</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">(</span>
<span class="w">      </span><span class="p">([</span><span class="n">k</span><span class="p">,</span><span class="w"> </span><span class="n">v</span><span class="p">],</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">[</span><span class="n">k</span><span class="p">,</span><span class="w"> </span><span class="n">fn</span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="n">k</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">)]</span>
<span class="w">    </span><span class="p">)</span>
<span class="w">  </span><span class="p">)</span>

<span class="k">const</span><span class="w"> </span><span class="n">myObject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">a</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">}</span>

<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">objectMap</span><span class="p">(</span><span class="n">myObject</span><span class="p">,</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">v</span><span class="p">))</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>How about a one-liner in JS <strong>ES10 / ES2019</strong> ?</p>
<p>Making use of <code>Object.entries()</code> and <code>Object.fromEntries()</code>:</p>
<div class="code"><pre class="code literal-block">let newObj = Object.fromEntries(Object.entries(obj).map(([k, v]) =&gt; [k, v * v]));
</pre></div>

<p>The same thing written as a function:</p>
<div class="code"><pre class="code literal-block"><span class="nt">function</span><span class="w"> </span><span class="nt">objMap</span><span class="o">(</span><span class="nt">obj</span><span class="o">,</span><span class="w"> </span><span class="nt">func</span><span class="o">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="err">return</span><span class="w"> </span><span class="err">Object.fromEntries(Object.entries(obj).map((</span><span class="cp">[</span><span class="nx">k</span><span class="p">,</span><span class="w"> </span><span class="nx">v</span><span class="cp">]</span><span class="err">)</span><span class="w"> </span><span class="err">=&gt;</span><span class="w"> </span><span class="cp">[</span><span class="nx">k</span><span class="p">,</span><span class="w"> </span><span class="nx">func</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span><span class="cp">]</span><span class="err">))</span><span class="p">;</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="nt">To</span><span class="w"> </span><span class="nt">square</span><span class="w"> </span><span class="nt">each</span><span class="w"> </span><span class="nt">value</span><span class="w"> </span><span class="nt">you</span><span class="w"> </span><span class="nt">can</span><span class="w"> </span><span class="nt">call</span><span class="w"> </span><span class="nt">it</span><span class="w"> </span><span class="nt">like</span><span class="w"> </span><span class="nt">this</span><span class="o">:</span>
<span class="nt">let</span><span class="w"> </span><span class="nt">mappedObj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">objMap</span><span class="o">(</span><span class="nt">obj</span><span class="o">,</span><span class="w"> </span><span class="o">(</span><span class="nt">x</span><span class="o">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nt">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nt">x</span><span class="o">);</span>
</pre></div>

<p>This function uses <em>recursion</em> to square nested objects as well:</p>
<div class="code"><pre class="code literal-block"><span class="nt">function</span><span class="w"> </span><span class="nt">objMap</span><span class="o">(</span><span class="nt">obj</span><span class="o">,</span><span class="w"> </span><span class="nt">func</span><span class="o">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="err">return</span><span class="w"> </span><span class="err">Object.fromEntries(</span>
<span class="w">    </span><span class="err">Object.entries(obj).map((</span><span class="cp">[</span><span class="nx">k</span><span class="p">,</span><span class="w"> </span><span class="nx">v</span><span class="cp">]</span><span class="err">)</span><span class="w"> </span><span class="err">=&gt;</span><span class="w"> </span>
<span class="w">      </span><span class="cp">[</span><span class="nx">k</span><span class="p">,</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nb">Object</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nx">objMap</span><span class="p">(</span><span class="nx">v</span><span class="p">,</span><span class="w"> </span><span class="nx">func</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nx">func</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span><span class="cp">]</span>
<span class="w">    </span><span class="err">)</span>
<span class="w">  </span><span class="err">)</span><span class="p">;</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="nt">To</span><span class="w"> </span><span class="nt">square</span><span class="w"> </span><span class="nt">each</span><span class="w"> </span><span class="nt">value</span><span class="w"> </span><span class="nt">you</span><span class="w"> </span><span class="nt">can</span><span class="w"> </span><span class="nt">call</span><span class="w"> </span><span class="nt">it</span><span class="w"> </span><span class="nt">like</span><span class="w"> </span><span class="nt">this</span><span class="o">:</span>
<span class="nt">let</span><span class="w"> </span><span class="nt">mappedObj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">objMap</span><span class="o">(</span><span class="nt">obj</span><span class="o">,</span><span class="w"> </span><span class="o">(</span><span class="nt">x</span><span class="o">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nt">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nt">x</span><span class="o">);</span>
</pre></div>

<p>With <strong>ES7 / ES2016</strong> you can't use <code>Objects.fromEntries</code>, but you can achieve
the same using <code>Object.assign</code> in combination with spread operators and
computed key names syntax:</p>
<div class="code"><pre class="code literal-block"><span class="n">let</span><span class="w"> </span><span class="n">newObj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">Object</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="err">{}</span><span class="p">,</span><span class="w"> </span><span class="p">...</span><span class="k">Object</span><span class="p">.</span><span class="n">entries</span><span class="p">(</span><span class="n">obj</span><span class="p">).</span><span class="k">map</span><span class="p">((</span><span class="o">[</span><span class="n">k, v</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">(</span><span class="err">{</span><span class="o">[</span><span class="n">k</span><span class="o">]</span><span class="err">:</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">v</span><span class="err">}</span><span class="p">)));</span>
</pre></div>

<p><strong>ES6 / ES2015</strong> Doesn't allow <code>Object.entries</code>, but you could use
<code>Object.keys</code> instead:</p>
<div class="code"><pre class="code literal-block"><span class="n">let</span><span class="w"> </span><span class="n">newObj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">Object</span><span class="p">.</span><span class="n">assign</span><span class="p">(</span><span class="err">{}</span><span class="p">,</span><span class="w"> </span><span class="p">...</span><span class="k">Object</span><span class="p">.</span><span class="n">keys</span><span class="p">(</span><span class="n">obj</span><span class="p">).</span><span class="k">map</span><span class="p">(</span><span class="n">k</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">(</span><span class="err">{</span><span class="o">[</span><span class="n">k</span><span class="o">]</span><span class="err">:</span><span class="w"> </span><span class="n">obj</span><span class="o">[</span><span class="n">k</span><span class="o">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">obj</span><span class="o">[</span><span class="n">k</span><span class="o">]</span><span class="err">}</span><span class="p">)));</span>
</pre></div>

<p>ES6 also introduced <code>for...of</code> loops, which allow a more <em>imperative</em> style:</p>
<div class="code"><pre class="code literal-block"><span class="n">let</span><span class="w"> </span><span class="n">newObj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{}</span>

<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">let</span><span class="w"> </span><span class="o">[</span><span class="n">k, v</span><span class="o">]</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="k">Object</span><span class="p">.</span><span class="n">entries</span><span class="p">(</span><span class="n">obj</span><span class="p">))</span><span class="w"> </span><span class="err">{</span>
<span class="w">  </span><span class="n">newObj</span><span class="o">[</span><span class="n">k</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">v</span><span class="p">;</span>
<span class="err">}</span>
</pre></div>

<hr>
<h4>array.reduce()</h4>
<p>Instead of <code>Object.fromEntries</code> and <code>Object.assign</code> you can also use reduce
for this:</p>
<div class="code"><pre class="code literal-block"><span class="n">let</span><span class="w"> </span><span class="n">newObj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">Object</span><span class="p">.</span><span class="n">entries</span><span class="p">(</span><span class="n">obj</span><span class="p">).</span><span class="n">reduce</span><span class="p">((</span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">k, v</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">(</span><span class="err">{</span><span class="w"> </span><span class="p">...</span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">k</span><span class="o">]</span><span class="err">:</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="err">}</span><span class="p">),</span><span class="w"> </span><span class="err">{}</span><span class="p">);</span>
</pre></div>

<hr>
<h4>Inherited properties and the prototype chain:</h4>
<p>In some rare situation you may need to map a <em>class-like</em> object which holds
properties of an inherited object on its prototype-chain. In such cases
<code>Object.keys()</code> and <code>Object.entries()</code> won't work, because these functions do
not include the prototype chain.</p>
<p>If you need to map <em>inherited</em> properties, you can use <code>for (key in myObj)
{...}</code>.</p>
<p>Here is an example of such situation:</p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="n">obj1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s1">'a'</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">'b'</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">'c'</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">}</span>
<span class="k">const</span><span class="w"> </span><span class="n">obj2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb nb-Type">Object</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">obj1</span><span class="p">);</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">One</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">ways</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">inherit</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">object</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">JS</span><span class="o">.</span>

<span class="o">//</span><span class="w"> </span><span class="n">Here</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">properties</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">obj1</span><span class="w"> </span><span class="n">sit</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="s1">'prototype'</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">obj2</span>
<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">obj2</span><span class="p">)</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">Prints</span><span class="p">:</span><span class="w"> </span><span class="n">obj2</span><span class="o">.</span><span class="n">__proto__</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s1">'a'</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">'b'</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">'c'</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">}</span>

<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="nb nb-Type">Object</span><span class="o">.</span><span class="n">keys</span><span class="p">(</span><span class="n">obj2</span><span class="p">));</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">Prints</span><span class="p">:</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">empty</span><span class="w"> </span><span class="nb nb-Type">Array</span><span class="o">.</span>
<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="nb nb-Type">Object</span><span class="o">.</span><span class="n">entries</span><span class="p">(</span><span class="n">obj2</span><span class="p">));</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">Prints</span><span class="p">:</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">empty</span><span class="w"> </span><span class="nb nb-Type">Array</span><span class="o">.</span>

<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">let</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">obj2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">key</span><span class="p">);</span><span class="w">              </span><span class="o">//</span><span class="w"> </span><span class="n">Prints</span><span class="p">:</span><span class="w"> </span><span class="s1">'a'</span><span class="p">,</span><span class="w"> </span><span class="s1">'b'</span><span class="p">,</span><span class="w"> </span><span class="s1">'c'</span>
<span class="p">}</span>
</pre></div>

<p>However, please do me a favor and avoid <em>inheritance</em>. :-)</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-202.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-200.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1514) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1514.html">
<link rel="prev" href="index-1515.html" type="text/html">
<link rel="next" href="index-1513.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/split-money-on-minting-between-more-than-one-wallet-solana-metaplex-candymachine/" class="u-url">Split money on minting between more than one wallet solana metaplex &amp; candymachine</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/split-money-on-minting-between-more-than-one-wallet-solana-metaplex-candymachine/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-28T05:35:19+08:00" itemprop="datePublished" title="2023-02-28 05:35">2023-02-28 05:35</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am new to blockchain and i am trying to play with blockchain so I used
metaplex and candy-machine to upload and mint dummy nft's which is working
fine. The opensource repositories that I am playing with are below:</p>
<blockquote>
<p>https://github.com/metaplex-foundation/metaplex https://github.com/exiled-
apes/candy-machine-mint</p>
</blockquote>
<p>Then for learning purposes, I wanted to divide minting and secondary sales
into more than one wallet so I changed JSON and added three test wallets into
the creator's array.</p>
<div class="code"><pre class="code literal-block">{
  "name": "#0",
  "symbol": "%$%",
  "description": "description goes here",
  "seller_fee_basis_points": 500,
  "image": "image.png",
  "external_url": "",
  "edition": 0,
  "attributes": [
    {
      "trait_type": "Background",
      "value": "Street"
    }
  ],
  "properties": {
    "files": [
      {
        "uri": "image.png",
        "type": "image/png"
      }
    ],
    "category": "image",
    "creators": [
      {
        "address": "&lt;public address 1&gt;",
        "share": 34
      },
      {
        "address": "&lt;public address 1&gt;",
        "share": 33
      },
      {
        "address": "&lt;public address 1&gt;",
        "share": 33
      }
    ]
  }
}
</pre></div>

<p>But the problem is splitting is happening on secondary sales and not on
minting. On minting the wallet set as treasury resource is getting all amount.
I want to split the transaction amount on minting too.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Interestingly, I found this quote in the metaplex documentation:</p>
<blockquote>
<p>The SPL Metadata program supports storing up to five co-creators that share
potential future profits from sales for the items as defined by
seller_fee_basis_points . Each creator needs to be added as part of the
minting process and is required to approve metadata that was used in his
name using the sign_metadata endpoint. Unverified artwork cannot be sold
with Metaplex.</p>
<p>During the first sale, creators share in 100% of the proceeds, while in
follow up sales, they share in proceeds as a percentage determined by
seller_fee_basis_points. Whether or not a metadata is considered in second
sale or not is determined by the primary_sale_happened boolean on the
Metadata account.</p>
</blockquote>
<p>My interpretation of this is that the expected behavior should be for the
initial sale to get divided between creators using the ratios defined by each
creator's share. Sounds like you're experiencing something different.</p>
<p>Keep in mind that this documentation is for the parent project. Candy-machine-
mint seems to be a fork and they may have altered some of that behavior.</p>
<p><br></p>
<h3>Suggest</h3>
<p>The source code of the code of the contract you are intersted in can be found
here: https://github.com/metaplex-foundation/metaplex-program-
library/blob/master/nft-candy-machine/program/src/lib.rs</p>
<p>At line 247 the transfer of sol is called to a single treasury address of the
candy machine. To change it to multiple addresses this contract would have to
be updated and redeployed.</p>
<p>Another alternative I have seen deployed in the solana community atm is a
second contract which will split the funds evenly. Unfortunately, the creator
of this contract has been charging for it and has not open-sourced it yet.
They can be found on the metaplex discord if you are interested.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-an-epoch-in-solana/" class="u-url">What is an epoch in solana?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-an-epoch-in-solana/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-28T05:34:59+08:00" itemprop="datePublished" title="2023-02-28 05:34">2023-02-28 05:34</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am new to the solana and exploring the web3js part for solana. I came across
the term "epoch". I know what the epoch is which we normally use for
timestamp. But in solana, the definition of epoch is quite different. I read
the official documentation but could not properly understood the meaning of
epoch. Can anyone please explain what exactly the epoch is in solana?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>An epoch is a length of a certain amount of blocks (in Solana: “slots”) in
which the validator schedule of Solana’s consensus algorithm is defined. To
stakers this means that beginning and stopping to stake, as well as reward
distribution, always happen when epochs switch over. An epoch is 432,000
slots, each of which should at a minimum take 400ms. Since block times are
variable this means epochs effectively last somewhere between 2–3 days.</p>
<p>Source</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/hyperledger-custom-chaincode-deployment-error/" class="u-url">Hyperledger Custom Chaincode deployment error</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/hyperledger-custom-chaincode-deployment-error/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-28T05:34:41+08:00" itemprop="datePublished" title="2023-02-28 05:34">2023-02-28 05:34</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm using Hyperledger to work on a POC. I've set the chaincode setup as
mentioned here . I'm following the Option 1 mentioned in the link(using
vagrant to run a CA server and one VP). In my current setup, I'm running with
security disabled. My VP is running fine, and I'm able to start and register
the chaincode just fine (as per mentioned here. But, when I'm trying to deploy
my chaincode via CLI with the following command :</p>
<div class="code"><pre class="code literal-block">peer chaincode deploy -n mycc -c '{"Function":"init", "Args": `["hi there"]}'`
</pre></div>

<p>I am getting the following error</p>
<div class="code"><pre class="code literal-block"><span class="n">Error</span><span class="o">:</span><span class="w"> </span><span class="n">Error</span><span class="w"> </span><span class="n">building</span><span class="w"> </span><span class="n">chaincode</span><span class="o">:</span><span class="w"> </span><span class="n">rpc</span><span class="w"> </span><span class="n">error</span><span class="o">:</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">desc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Error getting chaincode package bytes: Cannot generate hashcode from empty chaincode path"</span>
</pre></div>

<p>I tried specifically mentioning the path where I've stored my custom
chaincode, I get the following error :</p>
<div class="code"><pre class="code literal-block"><span class="n">Error</span><span class="o">:</span><span class="w"> </span><span class="n">Error</span><span class="w"> </span><span class="n">building</span><span class="w"> </span><span class="n">chaincode</span><span class="o">:</span><span class="w"> </span><span class="n">rpc</span><span class="w"> </span><span class="n">error</span><span class="o">:</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">desc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Path to chaincode does not exist: /opt/gopath/src/ProductBC/ProductBC/finished/"</span>
</pre></div>

<p>Has anyone faced a similar issue or any points on what can be done to overcome
this ?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>It looks like that you use full path to your chaincode
“/opt/gopath/src/ProductBC/ProductBC/finished/” but <code>peer</code> will try to find
chaincode in you gopath by default.</p>
<p>Just try to run CLI command with “ProductBC/ProductBC/finished/“ instead.</p>
<div class="code"><pre class="code literal-block">peer chaincode deploy -p ProductBC/ProductBC/finished -c '{"Function":"init", "Args": `["hi there"]}'`
</pre></div>

<p>in this case peer will try to find this chaincode in
$GOPATH/src/ProductBC/ProductBC/finished</p>
<p>P.S. Updated after discussion in chat.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1515.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1513.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 196) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-196.html">
<link rel="prev" href="index-197.html" type="text/html">
<link rel="next" href="index-195.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-properly-force-a-git-push/" class="u-url">How do I properly force a Git push?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-properly-force-a-git-push/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T00:32:13+08:00" itemprop="datePublished" title="2023-02-17 00:32">2023-02-17 00:32</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I've set up a remote non-bare "main" repo and cloned it to my computer. I made
some local changes, updated my local repository, and pushed the changes back
to my remote repo. Things were fine up to that point.</p>
<p>Now, I had to change something in the remote repo. Then I changed something in
my local repo. I realized that the change to the remote repo was not needed.
So I tried to <code>git push</code> from my local repo to my remote repo, but I got an
error like:</p>
<blockquote>
<p>To prevent you from losing history, non-fast-forward updates were rejected
Merge the remote changes before pushing again. See the 'Note about fast-
forwards' section of <code>git push --help</code> for details.</p>
</blockquote>
<p>I thought that probably a</p>
<div class="code"><pre class="code literal-block">git push --force
</pre></div>

<p>would force my local copy to push changes to the remote one and make it the
same. <strong>It does force the update</strong> , but when I go back to the remote repo and
make a commit, I notice that the files contain outdated changes (ones that the
main remote repo previously had).</p>
<p>As I mentioned in the comments to one of the answers:</p>
<blockquote>
<p>[I] tried forcing, but when going back to master server to save the changes,
i get outdated staging. Thus, when i commit the repositories are not the
same. And when i try to use git push again, i get the same error.</p>
</blockquote>
<p>How can I fix this issue?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Just do:</p>
<div class="code"><pre class="code literal-block">git push origin &lt;your_branch_name&gt; --force
</pre></div>

<p>or if you have a specific repo:</p>
<div class="code"><pre class="code literal-block">git push https://git.... --force
</pre></div>

<p>This will delete your previous commit(s) and push your current one.</p>
<p>It may not be proper, but if anyone stumbles upon this page, thought they
might want a simple solution...</p>
<h4>Short flag</h4>
<p>Also note that <code>-f</code> is short for <code>--force</code>, so</p>
<div class="code"><pre class="code literal-block">git push origin &lt;your_branch_name&gt; -f
</pre></div>

<p>will also work.</p>
<p><br></p>
<h3>Suggest</h3>
<p>And if <code>push --force</code> doesn't work you can do <strong><code>push --delete</code></strong>. Look at 2nd
line on this instance:</p>
<div class="code"><pre class="code literal-block"><span class="n">git</span><span class="w"> </span><span class="n">reset</span><span class="w"> </span><span class="o">--</span><span class="n">hard</span><span class="w"> </span><span class="n">HEAD</span><span class="o">~</span><span class="mh">3</span><span class="w">  </span><span class="p">#</span><span class="w"> </span><span class="n">reset</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">branch</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mh">3</span><span class="w"> </span><span class="n">commits</span><span class="w"> </span><span class="n">ago</span>
<span class="n">git</span><span class="w"> </span><span class="n">push</span><span class="w"> </span><span class="n">origin</span><span class="w"> </span><span class="n">master</span><span class="w"> </span><span class="o">--</span><span class="n">delete</span><span class="w">  </span><span class="p">#</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">very</span><span class="w"> </span><span class="n">very</span><span class="w"> </span><span class="n">bad</span><span class="w"> </span><span class="n">bad</span><span class="w"> </span><span class="n">thing</span>
<span class="n">git</span><span class="w"> </span><span class="n">push</span><span class="w"> </span><span class="n">origin</span><span class="w"> </span><span class="n">master</span><span class="w">  </span><span class="p">#</span><span class="w"> </span><span class="n">regular</span><span class="w"> </span><span class="n">push</span>
</pre></div>

<p>But beware...</p>
<h2>Never ever go back on a public git history!</h2>
<p>In other words:</p>
<ul>
<li>Don't ever <code>force</code> push on a public repository.</li>
<li>Don't do this or anything that can break someone's <code>pull</code>.</li>
<li>Don't ever <code>reset</code> or <code>rewrite</code> history in a <em>repo</em> someone might have already pulled.</li>
</ul>
<p>Of course there are exceptionally rare exceptions even to this rule, but in
most cases it's not needed to do it and it will generate problems to everyone
else.</p>
<h2>Do a revert instead.</h2>
<p>And <strong>always be careful with what you push to a public repo</strong>. Reverting:</p>
<div class="code"><pre class="code literal-block"><span class="n">git</span><span class="w"> </span><span class="n">revert</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="n">HEAD</span><span class="o">~</span><span class="mf">3.</span><span class="p">.</span><span class="n">HEAD</span><span class="w">  </span><span class="p">#</span><span class="w"> </span><span class="n">prepare</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">commit</span><span class="w"> </span><span class="n">reverting</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="mh">3</span><span class="w"> </span><span class="n">commits</span>
<span class="n">git</span><span class="w"> </span><span class="n">commit</span><span class="w"> </span><span class="o">-</span><span class="n">m</span><span class="w"> </span><span class="s">"sorry - revert last 3 commits because I was not careful"</span>
<span class="n">git</span><span class="w"> </span><span class="n">push</span><span class="w"> </span><span class="n">origin</span><span class="w"> </span><span class="n">master</span><span class="w">  </span><span class="p">#</span><span class="w"> </span><span class="n">regular</span><span class="w"> </span><span class="n">push</span>
</pre></div>

<p>In effect, <strong>both</strong> origin HEADs (from the <strong>revert</strong> and from the <strong>evil
reset</strong> ) will contain the same files.</p>
<hr>
<h4>edit to add updated info and more arguments around <code>push --force</code>
</h4>
<h3>Consider pushing force with lease instead of push, but still prefer revert</h3>
<p>Another problem <code>push --force</code> may bring is when someone push anything before
you do, but after you've already fetched. If you push force your <em>rebased</em>
version now you will <strong>replace work from others</strong>.</p>
<p><code>git push --force-with-lease</code> introduced in the git 1.8.5 (thanks to @VonC
comment on the question) tries to address this specific issue. Basically, it
will bring an error and not push if the remote was modified since your latest
fetch.</p>
<p>This is good if you're really sure a <code>push --force</code> is needed, but still want
to prevent more problems. I'd go as far to say it should be the default <code>push
--force</code> behaviour. But it's still far from being an excuse to force a <code>push</code>.
People who <em>fetched</em> before your <em>rebase</em> will still have lots of troubles,
which could be easily avoided if you had <em>reverted</em> instead.</p>
<p>And since we're talking about <code>git --push</code> instances...</p>
<h3>Why would anyone want to force push?</h3>
<p>@linquize brought a good push force example on the comments: <strong>sensitive
data</strong>. You've wrongly leaked data that shouldn't be pushed. If you're fast
enough, you can <em>"fix"</em><code>*</code> it by forcing a push on top.</p>
<p><code>*</code> The data will still be on the remote unless you also do a garbage collect,
or clean it somehow. There is also the obvious potential for it to be spread
by others who'd <em>fetched</em> it already, but you get the idea.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-reconcile-detached-head-with-master-origin/" class="u-url">How can I reconcile detached HEAD with master/origin?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-reconcile-detached-head-with-master-origin/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T00:31:44+08:00" itemprop="datePublished" title="2023-02-17 00:31">2023-02-17 00:31</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm new at the branching complexities of Git. I always work on a single branch
and commit changes and then periodically push to my remote origin.</p>
<p>Somewhere recently, I did a reset of some files to get them out of commit
staging, and later did a <code>rebase -i</code> to get rid of a couple recent local
commits. Now I'm in a state I don't quite understand.</p>
<p>In my working area, <code>git log</code> shows exactly what I'd expect-- I'm on the right
train with the commits I didn't want gone, and new ones there, etc.</p>
<p>But I just pushed to the remote repository, and what's there is different-- a
couple of the commits I'd killed in the rebase got pushed, and the new ones
committed locally aren't there.</p>
<p>I think "master/origin" is detached from HEAD, but I'm not 100% clear on what
that means, how to visualize it with the command line tools, and how to fix
it.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>First, let’s clarify <strong>what HEAD is</strong> and what it means when it is detached.</p>
<p>HEAD is the symbolic name for the currently checked out commit. When HEAD is
not detached (the “normal”1 situation: you have a branch checked out), HEAD
actually points to a branch’s “ref” and the branch points to the commit. HEAD
is thus “attached” to a branch. When you make a new commit, the branch that
HEAD points to is updated to point to the new commit. HEAD follows
automatically since it just points to the branch.</p>
<ul>
<li>
<p><code>git symbolic-ref HEAD</code> yields <code>refs/heads/master</code><br>
The branch named “master” is checked out.</p>
</li>
<li>
<p><code>git rev-parse refs/heads/master</code> yield <code>17a02998078923f2d62811326d130de991d1a95a</code><br>
That commit is the current tip or “head” of the master branch.</p>
</li>
<li>
<p><code>git rev-parse HEAD</code> also yields <code>17a02998078923f2d62811326d130de991d1a95a</code><br>
This is what it means to be a “symbolic ref”. It points to an object through
some other reference.<br>
(Symbolic refs were originally implemented as symbolic links, but later
changed to plain files with extra interpretation so that they could be used on
platforms that do not have symlinks.)</p>
</li>
</ul>
<p>We have <code>HEAD</code> → <code>refs/heads/master</code> →
<code>17a02998078923f2d62811326d130de991d1a95a</code></p>
<p>When HEAD is detached, it points directly to a commit—instead of indirectly
pointing to one through a branch. You can think of a detached HEAD as being on
an unnamed branch.</p>
<ul>
<li>
<code>git symbolic-ref HEAD</code> fails with <code>fatal: ref HEAD is not a symbolic ref</code>
</li>
<li>
<code>git rev-parse HEAD</code> yields <code>17a02998078923f2d62811326d130de991d1a95a</code><br>
Since it is not a symbolic ref, it must point directly to the commit itself.</li>
</ul>
<p>We have <code>HEAD</code> → <code>17a02998078923f2d62811326d130de991d1a95a</code></p>
<p>The important thing to remember with a detached HEAD is that if the commit it
points to is otherwise unreferenced (no other ref can reach it), then it will
become “dangling” when you checkout some other commit. Eventually, such
dangling commits will be pruned through the garbage collection process (by
default, they are kept for at least 2 weeks and may be kept longer by being
referenced by HEAD’s reflog).</p>
<p>1 It is perfectly fine to do “normal” work with a detached HEAD, you just have
to keep track of what you are doing to avoid having to fish dropped history
out of the reflog.</p>
<hr>
<p>The intermediate steps of an interactive rebase are done with a detached HEAD
(partially to avoid polluting the active branch’s reflog). If you finish the
full rebase operation, it will update your original branch with the cumulative
result of the rebase operation and reattach HEAD to the original branch. My
guess is that you never fully completed the rebase process; this will leave
you with a detached HEAD pointing to the commit that was most recently
processed by the rebase operation.</p>
<p>To recover from your situation, you should create a branch that points to the
commit currently pointed to by your detached HEAD:</p>
<div class="code"><pre class="code literal-block">git branch temp
git checkout temp
</pre></div>

<p>(these two commands can be abbreviated as <code>git checkout -b temp</code>)</p>
<p>This will reattach your HEAD to the new <code>temp</code> branch.</p>
<p>Next, you should compare the current commit (and its history) with the normal
branch on which you expected to be working:</p>
<div class="code"><pre class="code literal-block">git log --graph --decorate --pretty=oneline --abbrev-commit master origin/master temp
git diff master temp
git diff origin/master temp
</pre></div>

<p>(You will probably want to experiment with the log options: add <code>-p</code>, leave
off <code>--pretty=…</code> to see the whole log message, etc.)</p>
<p>If your new <code>temp</code> branch looks good, you may want to update (e.g.) <code>master</code>
to point to it:</p>
<div class="code"><pre class="code literal-block">git branch -f master temp
git checkout master
</pre></div>

<p>(these two commands can be abbreviated as <code>git checkout -B master temp</code>)</p>
<p>You can then delete the temporary branch:</p>
<div class="code"><pre class="code literal-block">git branch -d temp
</pre></div>

<p>Finally, you will probably want to push the reestablished history:</p>
<div class="code"><pre class="code literal-block">git push origin master
</pre></div>

<p>You may need to add <code>--force</code> to the end of this command to push if the remote
branch can not be “fast-forwarded” to the new commit (i.e. you dropped, or
rewrote some existing commit, or otherwise rewrote some bit of history).</p>
<p>If you were in the middle of a rebase operation you should probably clean it
up. You can check whether a rebase was in process by looking for the directory
<code>.git/rebase-merge/</code>. You can manually clean up the in-progress rebase by just
deleting that directory (e.g. if you no longer remember the purpose and
context of the active rebase operation). Usually you would use <code>git rebase
--abort</code>, but that does some extra resetting that you probably want to avoid
(it moves HEAD back to the original branch and resets it back to the original
commit, which will undo some of the work we did above).</p>
<p><br></p>
<h3>Suggest</h3>
<p>Just do this:</p>
<div class="code"><pre class="code literal-block">git checkout master
</pre></div>

<p>Or, if you have changes that you want to keep, do this:</p>
<div class="code"><pre class="code literal-block">git checkout -b temp
git checkout -B master temp
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/javascript-post-request-like-a-form-submit/" class="u-url">JavaScript post request like a form submit</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/javascript-post-request-like-a-form-submit/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T00:31:11+08:00" itemprop="datePublished" title="2023-02-17 00:31">2023-02-17 00:31</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm trying to direct a browser to a different page. If I wanted a GET request,
I might say</p>
<div class="code"><pre class="code literal-block"><span class="nt">document</span><span class="p">.</span><span class="nc">location</span><span class="p">.</span><span class="nc">href</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'http://example.com/q=a'</span><span class="o">;</span>
</pre></div>

<p>But the resource I'm trying to access won't respond properly unless I use a
POST request. If this were not dynamically generated, I might use the HTML</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;form</span><span class="w"> </span><span class="na">action=</span><span class="s">"http://example.com/"</span><span class="w"> </span><span class="na">method=</span><span class="s">"POST"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;input</span><span class="w"> </span><span class="na">type=</span><span class="s">"hidden"</span><span class="w"> </span><span class="na">name=</span><span class="s">"q"</span><span class="w"> </span><span class="na">value=</span><span class="s">"a"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</pre></div>

<p>Then I would just submit the form from the DOM.</p>
<p>But really I would like JavaScript code that allows me to say</p>
<div class="code"><pre class="code literal-block"><span class="nt">post_to_url</span><span class="o">(</span><span class="s1">'http://example.com/'</span><span class="o">,</span><span class="w"> </span><span class="p">{</span><span class="err">'q':'a'</span><span class="p">}</span><span class="o">);</span>
</pre></div>

<p>What's the best cross browser implementation?</p>
<p>I need a solution that changes the location of the browser, just like
submitting a form. If this is possible with XMLHttpRequest, it is not obvious.
And this should not be asynchronous, nor use XML, so Ajax is not the answer.</p>
<p><br><br></p>
<h2>Answer</h2>
<h3>Dynamically create <code>&lt;input&gt;</code>s in a form and submit it</h3>
<div class="code"><pre class="code literal-block"><span class="cm">/**</span>
<span class="cm"> * sends a request to the specified url from a form. this will change the window location.</span>
<span class="cm"> * @param {string} path the path to send the post request to</span>
<span class="cm"> * @param {object} params the parameters to add to the url</span>
<span class="cm"> * @param {string} [method=post] the method to use on the form</span>
<span class="cm"> */</span>

<span class="k">function</span><span class="w"> </span><span class="n">post</span><span class="p">(</span><span class="k">path</span><span class="p">,</span><span class="w"> </span><span class="n">params</span><span class="p">,</span><span class="w"> </span><span class="k">method</span><span class="o">=</span><span class="s1">'post'</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>

<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">rest</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="n">assumes</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="k">are</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">library</span><span class="p">.</span>
<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">It</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">made</span><span class="w"> </span><span class="k">less</span><span class="w"> </span><span class="n">verbose</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="k">use</span><span class="w"> </span><span class="n">one</span><span class="p">.</span>
<span class="w">  </span><span class="n">const</span><span class="w"> </span><span class="n">form</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">document</span><span class="p">.</span><span class="n">createElement</span><span class="p">(</span><span class="s1">'form'</span><span class="p">);</span>
<span class="w">  </span><span class="n">form</span><span class="p">.</span><span class="k">method</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">method</span><span class="p">;</span>
<span class="w">  </span><span class="n">form</span><span class="p">.</span><span class="k">action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">path</span><span class="p">;</span>

<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">const</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">params</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">params</span><span class="p">.</span><span class="n">hasOwnProperty</span><span class="p">(</span><span class="k">key</span><span class="p">))</span><span class="w"> </span><span class="err">{</span>
<span class="w">      </span><span class="n">const</span><span class="w"> </span><span class="n">hiddenField</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">document</span><span class="p">.</span><span class="n">createElement</span><span class="p">(</span><span class="s1">'input'</span><span class="p">);</span>
<span class="w">      </span><span class="n">hiddenField</span><span class="p">.</span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'hidden'</span><span class="p">;</span>
<span class="w">      </span><span class="n">hiddenField</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">key</span><span class="p">;</span>
<span class="w">      </span><span class="n">hiddenField</span><span class="p">.</span><span class="k">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">params</span><span class="o">[</span><span class="n">key</span><span class="o">]</span><span class="p">;</span>

<span class="w">      </span><span class="n">form</span><span class="p">.</span><span class="n">appendChild</span><span class="p">(</span><span class="n">hiddenField</span><span class="p">);</span>
<span class="w">    </span><span class="err">}</span>
<span class="w">  </span><span class="err">}</span>

<span class="w">  </span><span class="n">document</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">appendChild</span><span class="p">(</span><span class="n">form</span><span class="p">);</span>
<span class="w">  </span><span class="n">form</span><span class="p">.</span><span class="n">submit</span><span class="p">();</span>
<span class="err">}</span>
</pre></div>

<p>Example:</p>
<div class="code"><pre class="code literal-block"><span class="nt">post</span><span class="o">(</span><span class="s1">'/contact/'</span><span class="o">,</span><span class="w"> </span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s1">'Johnny Bravo'</span><span class="p">}</span><span class="o">);</span>
</pre></div>

<p><strong>EDIT</strong> : Since this has gotten upvoted so much, I'm guessing people will be
copy-pasting this a lot. So I added the <code>hasOwnProperty</code> check to fix any
inadvertent bugs.</p>
<p><br></p>
<h3>Suggest</h3>
<p>This would be a version of the selected answer using jQuery.</p>
<div class="code"><pre class="code literal-block">//<span class="w"> </span>Post<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>provided<span class="w"> </span>URL<span class="w"> </span>with<span class="w"> </span>the<span class="w"> </span>specified<span class="w"> </span>parameters.
function<span class="w"> </span>post(path,<span class="w"> </span>parameters)<span class="w"> </span>{
<span class="w">    </span>var<span class="w"> </span>form<span class="w"> </span>=<span class="w"> </span>$('<span class="nt">&lt;form&gt;&lt;/form&gt;</span>');

<span class="w">    </span>form.attr("method",<span class="w"> </span>"post");
<span class="w">    </span>form.attr("action",<span class="w"> </span>path);

<span class="w">    </span>$.each(parameters,<span class="w"> </span>function(key,<span class="w"> </span>value)<span class="w"> </span>{
<span class="w">        </span>var<span class="w"> </span>field<span class="w"> </span>=<span class="w"> </span>$('<span class="nt">&lt;input&gt;&lt;/input&gt;</span>');

<span class="w">        </span>field.attr("type",<span class="w"> </span>"hidden");
<span class="w">        </span>field.attr("name",<span class="w"> </span>key);
<span class="w">        </span>field.attr("value",<span class="w"> </span>value);

<span class="w">        </span>form.append(field);
<span class="w">    </span>});

<span class="w">    </span>//<span class="w"> </span>The<span class="w"> </span>form<span class="w"> </span>needs<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>a<span class="w"> </span>part<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>document<span class="w"> </span>in
<span class="w">    </span>//<span class="w"> </span>order<span class="w"> </span>for<span class="w"> </span>us<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>able<span class="w"> </span>to<span class="w"> </span>submit<span class="w"> </span>it.
<span class="w">    </span>$(document.body).append(form);
<span class="w">    </span>form.submit();
}
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-197.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-195.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

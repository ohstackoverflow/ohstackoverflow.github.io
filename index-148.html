<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 148) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-148.html">
<link rel="prev" href="index-149.html" type="text/html">
<link rel="next" href="index-147.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-break-out-of-nested-loops-in-java/" class="u-url">How do I break out of nested loops in Java?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-break-out-of-nested-loops-in-java/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T23:02:31+08:00" itemprop="datePublished" title="2023-02-16 23:02">2023-02-16 23:02</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I've got a nested loop construct like this:</p>
<div class="code"><pre class="code literal-block"><span class="k">for</span><span class="w"> </span><span class="ss">(</span><span class="nv">Type</span><span class="w"> </span><span class="nv">type</span><span class="w"> </span>:<span class="w"> </span><span class="nv">types</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="ss">(</span><span class="nv">Type</span><span class="w"> </span><span class="nv">t</span><span class="w"> </span>:<span class="w"> </span><span class="nv">types2</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">         </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">some</span><span class="w"> </span><span class="nv">condition</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">             </span><span class="o">//</span><span class="w"> </span><span class="k">Do</span><span class="w"> </span><span class="nv">something</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="k">break</span>...
<span class="w">             </span><span class="k">break</span><span class="c1">; // Breaks out of the inner loop</span>
<span class="w">         </span>}
<span class="w">    </span>}
}
</pre></div>

<p>Now how can I break out of both loops? I've looked at similar questions, but
none concerns Java specifically. I couldn't apply these solutions because most
used gotos.</p>
<p>I don't want to put the inner loop in a different method.</p>
<p>I don't want to return the loops. When breaking I'm finished with the
execution of the loop block.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Like other answerers, I'd definitely <em>prefer</em> to put the loops in a different
method, at which point you can just return to stop iterating completely. This
answer just shows how the requirements in the question can be met.</p>
<p>You can use <code>break</code> with a label for the outer loop. For example:</p>
<div class="code"><pre class="code literal-block"><span class="nt">public</span><span class="w"> </span><span class="nt">class</span><span class="w"> </span><span class="nt">Test</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">public</span><span class="w"> </span><span class="err">static</span><span class="w"> </span><span class="err">void</span><span class="w"> </span><span class="err">main(String</span><span class="cp">[]</span><span class="w"> </span><span class="err">args)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">outerloop</span><span class="p">:</span>
<span class="w">        </span><span class="n">for</span><span class="w"> </span><span class="p">(</span><span class="n">int</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="err">i</span><span class="w"> </span><span class="err">&lt;</span><span class="w"> </span><span class="err">5</span><span class="p">;</span><span class="w"> </span><span class="err">i++)</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="err">for</span><span class="w"> </span><span class="err">(int</span><span class="w"> </span><span class="err">j=0</span><span class="p">;</span><span class="w"> </span><span class="err">j</span><span class="w"> </span><span class="err">&lt;</span><span class="w"> </span><span class="err">5</span><span class="p">;</span><span class="w"> </span><span class="err">j++)</span><span class="w"> </span><span class="err">{</span>
<span class="w">                </span><span class="err">if</span><span class="w"> </span><span class="err">(i</span><span class="w"> </span><span class="err">*</span><span class="w"> </span><span class="err">j</span><span class="w"> </span><span class="err">&gt;</span><span class="w"> </span><span class="err">6)</span><span class="w"> </span><span class="err">{</span>
<span class="w">                    </span><span class="err">System.out.println("Breaking")</span><span class="p">;</span>
<span class="w">                    </span><span class="err">break</span><span class="w"> </span><span class="err">outerloop</span><span class="p">;</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">                </span><span class="nt">System</span><span class="p">.</span><span class="nc">out</span><span class="p">.</span><span class="nc">println</span><span class="o">(</span><span class="nt">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">" "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nt">j</span><span class="o">);</span>
<span class="w">            </span><span class="err">}</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">        </span><span class="nt">System</span><span class="p">.</span><span class="nc">out</span><span class="p">.</span><span class="nc">println</span><span class="o">(</span><span class="s2">"Done"</span><span class="o">);</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>
</pre></div>

<p>This prints:</p>
<div class="code"><pre class="code literal-block"><span class="mf">0</span><span class="w"> </span><span class="mf">0</span>
<span class="mf">0</span><span class="w"> </span><span class="mf">1</span>
<span class="mf">0</span><span class="w"> </span><span class="mf">2</span>
<span class="mf">0</span><span class="w"> </span><span class="mf">3</span>
<span class="mf">0</span><span class="w"> </span><span class="mf">4</span>
<span class="mf">1</span><span class="w"> </span><span class="mf">0</span>
<span class="mf">1</span><span class="w"> </span><span class="mf">1</span>
<span class="mf">1</span><span class="w"> </span><span class="mf">2</span>
<span class="mf">1</span><span class="w"> </span><span class="mf">3</span>
<span class="mf">1</span><span class="w"> </span><span class="mf">4</span>
<span class="mf">2</span><span class="w"> </span><span class="mf">0</span>
<span class="mf">2</span><span class="w"> </span><span class="mf">1</span>
<span class="mf">2</span><span class="w"> </span><span class="mf">2</span>
<span class="mf">2</span><span class="w"> </span><span class="mf">3</span>
<span class="n">Breaking</span>
<span class="n">Done</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Technically the correct answer is to label the outer loop. In practice if you
want to exit at any point inside an inner loop then you would be better off
externalizing the code into a method (a static method if needs be) and then
call it.</p>
<p>That would pay off for readability.</p>
<p>The code would become something like that:</p>
<div class="code"><pre class="code literal-block"><span class="nv">private</span><span class="w"> </span><span class="nv">static</span><span class="w"> </span><span class="nv">String</span><span class="w"> </span><span class="nv">search</span><span class="ss">(</span>...<span class="ss">)</span><span class="w"> </span>
{
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="ss">(</span><span class="nv">Type</span><span class="w"> </span><span class="nv">type</span><span class="w"> </span>:<span class="w"> </span><span class="nv">types</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="ss">(</span><span class="nv">Type</span><span class="w"> </span><span class="nv">t</span><span class="w"> </span>:<span class="w"> </span><span class="nv">types2</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">some</span><span class="w"> </span><span class="nv">condition</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">                </span><span class="o">//</span><span class="w"> </span><span class="k">Do</span><span class="w"> </span><span class="nv">something</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="k">break</span>...
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="nv">search</span><span class="c1">;</span>
<span class="w">            </span>}
<span class="w">        </span>}
<span class="w">    </span>}
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">null</span><span class="c1">; </span>
}
</pre></div>

<p>Matching the example for the accepted answer:</p>
<div class="code"><pre class="code literal-block"><span class="w"> </span><span class="nv">public</span><span class="w"> </span><span class="nv">class</span><span class="w"> </span><span class="nv">Test</span><span class="w"> </span>{
<span class="w">    </span><span class="nv">public</span><span class="w"> </span><span class="nv">static</span><span class="w"> </span><span class="nv">void</span><span class="w"> </span><span class="nv">main</span><span class="ss">(</span><span class="nv">String</span>[]<span class="w"> </span><span class="nv">args</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">        </span><span class="k">loop</span><span class="ss">()</span><span class="c1">;</span>
<span class="w">        </span><span class="nv">System</span>.<span class="nv">out</span>.<span class="nv">println</span><span class="ss">(</span><span class="s2">"Done"</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span>}

<span class="w">    </span><span class="nv">public</span><span class="w"> </span><span class="nv">static</span><span class="w"> </span><span class="nv">void</span><span class="w"> </span><span class="k">loop</span><span class="ss">()</span><span class="w"> </span>{
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="ss">(</span><span class="nv">int</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="c1">; i &lt; 5; i++) {</span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="ss">(</span><span class="nv">int</span><span class="w"> </span><span class="nv">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="c1">; j &lt; 5; j++) {</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nv">j</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">6</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">                    </span><span class="nv">System</span>.<span class="nv">out</span>.<span class="nv">println</span><span class="ss">(</span><span class="s2">"Breaking"</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">                    </span><span class="k">return</span><span class="c1">;</span>
<span class="w">                </span>}
<span class="w">                </span><span class="nv">System</span>.<span class="nv">out</span>.<span class="nv">println</span><span class="ss">(</span><span class="nv">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">" "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">j</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">            </span>}
<span class="w">        </span>}
<span class="w">    </span>}
}
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/why-is-it-string-join-list-instead-of-list-join-string/" class="u-url">Why is it string.join(list) instead of list.join(string)?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/why-is-it-string-join-list-instead-of-list-join-string/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T23:02:01+08:00" itemprop="datePublished" title="2023-02-16 23:02">2023-02-16 23:02</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>This has always confused me. It seems like this would be nicer:</p>
<div class="code"><pre class="code literal-block">["Hello", "world"].join("-")
</pre></div>

<p>Than this:</p>
<div class="code"><pre class="code literal-block">"-".join(["Hello", "world"])
</pre></div>

<p>Is there a specific reason it is like this?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>It's because any iterable can be joined (e.g, list, tuple, dict, set), but its
contents and the "joiner" <em>must be</em> strings.</p>
<p>For example:</p>
<div class="code"><pre class="code literal-block">'_'.join(['welcome', 'to', 'stack', 'overflow'])
'_'.join(('welcome', 'to', 'stack', 'overflow'))



'welcome_to_stack_overflow'
</pre></div>

<p>Using something other than strings will raise the following error:</p>
<blockquote>
<p>TypeError: sequence item 0: expected str instance, int found</p>
</blockquote>
<p><br></p>
<h3>Suggest</h3>
<p>This was discussed in the String methods... finally thread in the Python-Dev
achive, and was accepted by Guido. This thread began in Jun 1999, and
<code>str.join</code> was included in Python 1.6 which was released in Sep 2000 (and
supported Unicode). Python 2.0 (supported <code>str</code> methods including <code>join</code>) was
released in Oct 2000.</p>
<ul>
<li>There were four options proposed in this thread: <ul>
<li><code>str.join(seq)</code></li>
<li><code>seq.join(str)</code></li>
<li><code>seq.reduce(str)</code></li>
<li>
<code>join</code> as a built-in function</li>
</ul>
</li>
<li>Guido wanted to support not only <code>list</code>s and <code>tuple</code>s, but all sequences/iterables.</li>
<li>
<code>seq.reduce(str)</code> is difficult for newcomers.</li>
<li>
<code>seq.join(str)</code> introduces unexpected dependency from sequences to str/unicode.</li>
<li>
<code>join()</code> as a free-standing built-in function would support only specific data types. So using a built-in namespace is not good. If <code>join()</code> were to support many data types, creating an optimized implementation would be difficult: if implemented using the <code>__add__</code> method then it would be O(n²).</li>
<li>The separator string (<code>sep</code>) should not be omitted. Explicit is better than implicit.</li>
</ul>
<p>Here are some additional thoughts (my own, and my friend's):</p>
<ul>
<li>Unicode support was coming, but it was not final. At that time UTF-8 was the most likely about to replace UCS-2/-4. To calculate total buffer length for UTF-8 strings, the method needs to know the character encoding.</li>
<li>At that time, Python had already decided on a common sequence interface rule where a user could create a sequence-like (iterable) class. But Python didn't support extending built-in types until 2.2. At that time it was difficult to provide basic <code>iterable</code> class (which is mentioned in another comment).</li>
</ul>
<p>Guido's decision is recorded in a historical mail, deciding on
<code>str.join(seq)</code>:</p>
<blockquote>
<p>Funny, but it does seem right! Barry, go for it...<br>
 Guido van Rossum</p>
</blockquote>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/java-inner-class-and-static-nested-class/" class="u-url">Java inner class and static nested class</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/java-inner-class-and-static-nested-class/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T23:01:30+08:00" itemprop="datePublished" title="2023-02-16 23:01">2023-02-16 23:01</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What is the main difference between an inner class and a static nested class
in Java? Does design / implementation play a role in choosing one of these?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>From the Java Tutorial:</p>
<blockquote>
<p>Nested classes are divided into two categories: static and non-static.
Nested classes that are declared static are simply called static nested
classes. Non-static nested classes are called inner classes.</p>
</blockquote>
<p>Static nested classes are accessed using the enclosing class name:</p>
<div class="code"><pre class="code literal-block">OuterClass.StaticNestedClass
</pre></div>

<p>For example, to create an object for the static nested class, use this syntax:</p>
<div class="code"><pre class="code literal-block">OuterClass.StaticNestedClass nestedObject = new OuterClass.StaticNestedClass();
</pre></div>

<p>Objects that are instances of an inner class exist within an instance of the
outer class. Consider the following classes:</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span> <span class="n">OuterClass</span> {
    ...
    <span class="k">class</span> <span class="n">InnerClass</span> {
        ...
    }
}
</pre></div>

<p>An instance of InnerClass can exist only within an instance of OuterClass and
has direct access to the methods and fields of its enclosing instance.</p>
<p>To instantiate an inner class, you must first instantiate the outer class.
Then, create the inner object within the outer object with this syntax:</p>
<div class="code"><pre class="code literal-block">OuterClass outerObject = new OuterClass()
OuterClass.InnerClass innerObject = outerObject.new InnerClass();
</pre></div>

<p>see: Java Tutorial - Nested Classes</p>
<p>For completeness note that there is also such a thing as an inner class
<em>without</em> an enclosing instance:</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span> <span class="n">A</span> {
  <span class="n">int</span> <span class="nb">t</span>() { <span class="k">return</span> <span class="mi">1</span>; }
  <span class="n">static</span> <span class="n">A</span> <span class="n">a</span> =  <span class="nb">new</span> <span class="n">A</span>() { <span class="n">int</span> <span class="nb">t</span>() { <span class="k">return</span> <span class="mi">2</span>; } };
}
</pre></div>

<p>Here, <code>new A() { ... }</code> is an <em>inner class defined in a static context</em> and
does not have an enclosing instance.</p>
<p><br></p>
<h3>Suggest</h3>
<p>The Java tutorial says:</p>
<blockquote>
<p>Terminology: Nested classes are divided into two categories: static and non-
static. Nested classes that are declared static are simply called static
nested classes. Non-static nested classes are called inner classes.</p>
</blockquote>
<p>In common parlance, the terms "nested" and "inner" are used interchangeably by
most programmers, but I'll use the correct term "nested class" which covers
both inner and static.</p>
<p>Classes can be nested <em>ad infinitum</em> , e.g. class A can contain class B which
contains class C which contains class D, etc. However, more than one level of
class nesting is rare, as it is generally bad design.</p>
<p>There are three reasons you might create a nested class:</p>
<ul>
<li>organization: sometimes it seems most sensible to sort a class into the namespace of another class, especially when it won't be used in any other context</li>
<li>access: nested classes have special access to the variables/fields of their containing classes (precisely which variables/fields depends on the kind of nested class, whether inner or static).</li>
<li>convenience: having to create a new file for every new type is bothersome, again, especially when the type will only be used in one context</li>
</ul>
<p>There are <strong>four kinds of nested class in Java</strong>. In brief, they are:</p>
<ul>
<li>
<strong>static class</strong> : declared as a static member of another class</li>
<li>
<strong>inner class</strong> : declared as an instance member of another class</li>
<li>
<strong>local inner class</strong> : declared inside an instance method of another class</li>
<li>
<strong>anonymous inner class</strong> : like a local inner class, but written as an expression which returns a one-off object</li>
</ul>
<p>Let me elaborate in more details.</p>
<h3>Static Classes</h3>
<p>Static classes are the easiest kind to understand because they have nothing to
do with instances of the containing class.</p>
<p>A static class is a class declared as a static member of another class. Just
like other static members, such a class is really just a hanger on that uses
the containing class as its namespace, <em>e.g.</em> the class <em>Goat</em> declared as a
static member of class <em>Rhino</em> in the package <em>pizza</em> is known by the name
<em>pizza.Rhino.Goat</em>.</p>
<div class="code"><pre class="code literal-block">package pizza;

public class Rhino {

    ...

    public static class Goat {
        ...
    }
}
</pre></div>

<p>Frankly, static classes are a pretty worthless feature because classes are
already divided into namespaces by packages. The only real conceivable reason
to create a static class is that such a class has access to its containing
class's private static members, but I find this to be a pretty lame
justification for the static class feature to exist.</p>
<h3>Inner Classes</h3>
<p>An inner class is a class declared as a non-static member of another class:</p>
<div class="code"><pre class="code literal-block">package pizza;

public class Rhino {

    public class Goat {
        ...
    }

    private void jerry() {
        Goat g = new Goat();
    }
}
</pre></div>

<p>Like with a static class, the inner class is known as qualified by its
containing class name, <em>pizza.Rhino.Goat</em> , but inside the containing class,
it can be known by its simple name. However, every instance of an inner class
is tied to a particular instance of its containing class: above, the <em>Goat</em>
created in <em>jerry</em> , is implicitly tied to the <em>Rhino</em> instance <em>this</em> in
<em>jerry</em>. Otherwise, we make the associated <em>Rhino</em> instance explicit when we
instantiate <em>Goat</em> :</p>
<div class="code"><pre class="code literal-block">Rhino rhino = new Rhino();
Rhino.Goat goat = rhino.new Goat();
</pre></div>

<p>(Notice you refer to the inner type as just <em>Goat</em> in the weird <em>new</em> syntax:
Java infers the containing type from the <em>rhino</em> part. And, yes <em>new
rhino.Goat()</em> would have made more sense to me too.)</p>
<p>So what does this gain us? Well, the inner class instance has access to the
instance members of the containing class instance. These enclosing instance
members are referred to inside the inner class <em>via</em> just their simple names,
not <em>via</em> <em>this</em> ( <em>this</em> in the inner class refers to the inner class
instance, not the associated containing class instance):</p>
<div class="code"><pre class="code literal-block">public class Rhino {

    private String barry;

    public class Goat {
        public void colin() {
            System.out.println(barry);
        }
    }
}
</pre></div>

<p>In the inner class, you can refer to <em>this</em> of the containing class as
<em>Rhino.this</em> , and you can use <em>this</em> to refer to its members, <em>e.g.
Rhino.this.barry</em>.</p>
<h3>Local Inner Classes</h3>
<p>A local inner class is a class declared in the body of a method. Such a class
is only known within its containing method, so it can only be instantiated and
have its members accessed within its containing method. The gain is that a
local inner class instance is tied to and can access the final local variables
of its containing method. When the instance uses a final local of its
containing method, the variable retains the value it held at the time of the
instance's creation, even if the variable has gone out of scope (this is
effectively Java's crude, limited version of closures).</p>
<p>Because a local inner class is neither the member of a class or package, it is
not declared with an access level. (Be clear, however, that its own members
have access levels like in a normal class.)</p>
<p>If a local inner class is declared in an instance method, an instantiation of
the inner class is tied to the instance held by the containing method's <em>this</em>
at the time of the instance's creation, and so the containing class's instance
members are accessible like in an instance inner class. A local inner class is
instantiated simply <em>via</em> its name, <em>e.g.</em> local inner class <em>Cat</em> is
instantiated as <em>new Cat()</em> , not new this.Cat() as you might expect.</p>
<h3>Anonymous Inner Classes</h3>
<p>An anonymous inner class is a syntactically convenient way of writing a local
inner class. Most commonly, a local inner class is instantiated at most just
once each time its containing method is run. It would be nice, then, if we
could combine the local inner class definition and its single instantiation
into one convenient syntax form, and it would also be nice if we didn't have
to think up a name for the class (the fewer unhelpful names your code
contains, the better). An anonymous inner class allows both these things:</p>
<div class="code"><pre class="code literal-block"><span class="n">new</span><span class="w"> </span><span class="o">*</span><span class="n">ParentClassName</span><span class="o">*</span><span class="p">(</span><span class="o">*</span><span class="n">constructorArgs</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="o">*</span><span class="n">members</span><span class="o">*</span><span class="p">}</span>
</pre></div>

<p>This is an expression returning a new instance of an unnamed class which
extends <em>ParentClassName</em>. You cannot supply your own constructor; rather, one
is implicitly supplied which simply calls the super constructor, so the
arguments supplied must fit the super constructor. (If the parent contains
multiple constructors, the “simplest” one is called, “simplest” as determined
by a rather complex set of rules not worth bothering to learn in detail--just
pay attention to what NetBeans or Eclipse tell you.)</p>
<p>Alternatively, you can specify an interface to implement:</p>
<div class="code"><pre class="code literal-block">new *InterfaceName*() {*members*}
</pre></div>

<p>Such a declaration creates a new instance of an unnamed class which extends
Object and implements <em>InterfaceName</em>. Again, you cannot supply your own
constructor; in this case, Java implicitly supplies a no-arg, do-nothing
constructor (so there will never be constructor arguments in this case).</p>
<p>Even though you can't give an anonymous inner class a constructor, you can
still do any setup you want using an initializer block (a {} block placed
outside any method).</p>
<p>Be clear that an anonymous inner class is simply a less flexible way of
creating a local inner class with one instance. If you want a local inner
class which implements multiple interfaces or which implements interfaces
while extending some class other than <em>Object</em> or which specifies its own
constructor, you're stuck creating a regular named local inner class.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-149.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-147.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

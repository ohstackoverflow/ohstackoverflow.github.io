<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 661) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-661.html">
<link rel="prev" href="index-662.html" type="text/html">
<link rel="next" href="index-660.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-you-select-a-particular-option-in-a-select-element-in-jquery/" class="u-url">How do you select a particular option in a SELECT element in jQuery?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-you-select-a-particular-option-in-a-select-element-in-jquery/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T12:37:39+08:00" itemprop="datePublished" title="2023-02-17 12:37">2023-02-17 12:37</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>If you know the Index, Value or Text. also if you don't have an ID for a
direct reference.</p>
<p>This, this and this are all helpful answers.</p>
<p>Example markup</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"selDiv"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">class=</span><span class="s">"opts"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;option</span><span class="w"> </span><span class="err">selected</span><span class="w"> </span><span class="na">value=</span><span class="s">"DEFAULT"</span><span class="nt">&gt;</span>Default<span class="nt">&lt;/option&gt;</span>
<span class="w">    </span><span class="nt">&lt;option</span><span class="w"> </span><span class="na">value=</span><span class="s">"SEL1"</span><span class="nt">&gt;</span>Selection<span class="w"> </span>1<span class="nt">&lt;/option&gt;</span>
<span class="w">    </span><span class="nt">&lt;option</span><span class="w"> </span><span class="na">value=</span><span class="s">"SEL2"</span><span class="nt">&gt;</span>Selection<span class="w"> </span>2<span class="nt">&lt;/option&gt;</span>
<span class="w">  </span><span class="nt">&lt;/select&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>A selector to get the middle option-element by value is</p>
<div class="code"><pre class="code literal-block">$('.selDiv option[value="SEL1"]')
</pre></div>

<p>For an index:</p>
<div class="code"><pre class="code literal-block">$('.selDiv option:eq(1)')
</pre></div>

<p>For a known text:</p>
<div class="code"><pre class="code literal-block">$('.selDiv option:contains("Selection 1")')
</pre></div>

<p><strong>EDIT</strong> : As commented above the OP might have been after changing the
selected item of the dropdown. In version 1.6 and higher the prop() method is
recommended:</p>
<div class="code"><pre class="code literal-block">$('.selDiv option:eq(1)').prop('selected', true)
</pre></div>

<p>In older versions:</p>
<div class="code"><pre class="code literal-block">$('.selDiv option:eq(1)').attr('selected', 'selected')
</pre></div>

<p><strong>EDIT2</strong> : after Ryan's comment. A match on "Selection 10" might be unwanted.
I found no selector to match the full text, but a filter works:</p>
<div class="code"><pre class="code literal-block"><span class="w"> </span>$<span class="ss">(</span><span class="s1">'.selDiv option'</span><span class="ss">)</span>
<span class="w">    </span>.<span class="nv">filter</span><span class="ss">(</span><span class="nv">function</span><span class="ss">(</span><span class="nv">i</span>,<span class="w"> </span><span class="nv">e</span><span class="ss">)</span><span class="w"> </span>{<span class="w"> </span><span class="k">return</span><span class="w"> </span>$<span class="ss">(</span><span class="nv">e</span><span class="ss">)</span>.<span class="nv">text</span><span class="ss">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"Selection 1"</span>}<span class="ss">)</span>
</pre></div>

<p><strong>EDIT3</strong> : Use caution with <code>$(e).text()</code> as it can contain a newline making
the comparison fail. This happens when the options are implicitly closed (no
<code>&lt;/option&gt;</code> tag):</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;select</span><span class="w"> </span><span class="err">...</span><span class="nt">&gt;</span>
<span class="nt">&lt;option</span><span class="w"> </span><span class="na">value=</span><span class="s">"1"</span><span class="nt">&gt;</span>Selection<span class="w"> </span>1
<span class="nt">&lt;option</span><span class="w"> </span><span class="na">value=</span><span class="s">"2"</span><span class="nt">&gt;</span>Selection<span class="w"> </span>2
<span class="w">   </span>:
<span class="nt">&lt;/select&gt;</span>
</pre></div>

<p>If you simply use <code>e.text</code> any extra whitespace like the trailing newline will
be removed, making the comparison more robust.</p>
<p><br></p>
<h3>Suggest</h3>
<p>None of the methods above provided the solution I needed so I figured I would
provide what worked for me.</p>
<div class="code"><pre class="code literal-block">$('#element option[value="no"]').attr("selected", "selected");
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/strip-html-from-text-javascript/" class="u-url">Strip HTML from Text JavaScript</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/strip-html-from-text-javascript/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T12:37:08+08:00" itemprop="datePublished" title="2023-02-17 12:37">2023-02-17 12:37</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is there an easy way to take a string of html in JavaScript and strip out the
html?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>If you're running in a browser, then the easiest way is just to let the
browser do it for you...</p>
<div class="code"><pre class="code literal-block"><span class="k">function</span><span class="w"> </span><span class="nf">stripHtml</span><span class="p">(</span>html<span class="p">)</span>
<span class="p">{</span>
<span class="w">   </span><span class="n">let</span><span class="w"> </span><span class="n">tmp</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">document</span><span class="p">.</span><span class="n">createElement</span><span class="p">(</span><span class="s">"DIV"</span><span class="p">);</span>
<span class="w">   </span><span class="n">tmp</span><span class="p">.</span><span class="n">innerHTML</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">html</span><span class="p">;</span>
<span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="n">tmp</span><span class="p">.</span><span class="n">textContent</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">tmp</span><span class="p">.</span><span class="n">innerText</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s">""</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>Note: as folks have noted in the comments, this is best avoided if you don't
control the source of the HTML (for example, don't run this on anything that
could've come from user input). For those scenarios, you can <em>still</em> let the
browser do the work for you - see Saba's answer on using the now widely-
available DOMParser.</p>
<p><br></p>
<h3>Suggest</h3>
<div class="code"><pre class="code literal-block">myString.replace(/&lt;[^&gt;]*&gt;?/gm, '');
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-truncate-a-foreign-key-constrained-table/" class="u-url">How to truncate a foreign key constrained table?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-truncate-a-foreign-key-constrained-table/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T12:36:40+08:00" itemprop="datePublished" title="2023-02-17 12:36">2023-02-17 12:36</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Why doesn't a <strong>TRUNCATE</strong> on <code>mygroup</code> work? Even though I have <code>ON DELETE
CASCADE SET</code> I get:</p>
<blockquote>
<p>ERROR 1701 (42000): Cannot truncate a table referenced in a foreign key
constraint (<code>mytest</code>.<code>instance</code>, CONSTRAINT <code>instance_ibfk_1</code> FOREIGN KEY
(<code>GroupID</code>) REFERENCES <code>mytest</code>.<code>mygroup</code> (<code>ID</code>))</p>
</blockquote>
<div class="code"><pre class="code literal-block">drop database mytest;
create database mytest;
use mytest;

CREATE TABLE mygroup (
   ID    INT NOT NULL AUTO_INCREMENT PRIMARY KEY
) ENGINE=InnoDB;

CREATE TABLE instance (
   ID           INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
   GroupID      INT NOT NULL,
   DateTime     DATETIME DEFAULT NULL,

   FOREIGN KEY  (GroupID) REFERENCES mygroup(ID) ON DELETE CASCADE,
   UNIQUE(GroupID)
) ENGINE=InnoDB;
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>You cannot <code>TRUNCATE</code> a table that has FK constraints applied on it
(<code>TRUNCATE</code> is not the same as <code>DELETE</code>).</p>
<p>To work around this, use either of these solutions. Both present risks of
damaging the data integrity.</p>
<p><strong>Option 1:</strong></p>
<ol>
<li>Remove constraints</li>
<li>Perform <code>TRUNCATE</code>
</li>
<li>Delete manually the rows that now have references to <strong>nowhere</strong>
</li>
<li>Create constraints</li>
</ol>
<p><strong>Option 2:</strong> <em>suggested by <strong>user447951</strong> in their answer</em></p>
<div class="code"><pre class="code literal-block">SET FOREIGN_KEY_CHECKS = 0; 
TRUNCATE table $table_name; 
SET FOREIGN_KEY_CHECKS = 1;
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>You cannot <code>TRUNCATE</code> a table that has FK constraints applied on it
(<code>TRUNCATE</code> is not the same as <code>DELETE</code>).</p>
<p>To work around this, use either of these solutions. Both present risks of
damaging the data integrity.</p>
<p><strong>Option 1:</strong></p>
<ol>
<li>Remove constraints</li>
<li>Perform <code>TRUNCATE</code>
</li>
<li>Delete manually the rows that now have references to <strong>nowhere</strong>
</li>
<li>Create constraints</li>
</ol>
<p><strong>Option 2:</strong> <em>suggested by <strong>user447951</strong> in their answer</em></p>
<div class="code"><pre class="code literal-block">SET FOREIGN_KEY_CHECKS = 0; 
TRUNCATE table $table_name; 
SET FOREIGN_KEY_CHECKS = 1;
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-662.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-660.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 764) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-764.html">
<link rel="prev" href="index-765.html" type="text/html">
<link rel="next" href="index-763.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-edit-a-file-after-i-shell-to-a-docker-container/" class="u-url">How do I edit a file after I shell to a Docker container?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-edit-a-file-after-i-shell-to-a-docker-container/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T15:22:37+08:00" itemprop="datePublished" title="2023-02-17 15:22">2023-02-17 15:22</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I successfully shelled to a Docker container using:</p>
<div class="code"><pre class="code literal-block"><span class="nv">docker</span><span class="w"> </span><span class="k">exec</span><span class="w"> </span><span class="o">-</span><span class="nv">i</span><span class="w"> </span><span class="o">-</span><span class="nv">t</span><span class="w"> </span><span class="mi">69</span><span class="nv">f1711a205e</span><span class="w"> </span><span class="nv">bash</span>
</pre></div>

<p>Now I need to edit file and I don't have any editors inside:</p>
<div class="code"><pre class="code literal-block"><span class="n">root</span><span class="mf">@69f</span><span class="mi">1711</span><span class="n">a205e</span><span class="o">:/</span><span class="err">#</span><span class="w"> </span><span class="n">nano</span>
<span class="nl">bash</span><span class="p">:</span><span class="w"> </span><span class="n">nano</span><span class="o">:</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">found</span>
<span class="n">root</span><span class="mf">@69f</span><span class="mi">1711</span><span class="n">a205e</span><span class="o">:/</span><span class="err">#</span><span class="w"> </span><span class="n">pico</span>
<span class="nl">bash</span><span class="p">:</span><span class="w"> </span><span class="n">pico</span><span class="o">:</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">found</span>
<span class="n">root</span><span class="mf">@69f</span><span class="mi">1711</span><span class="n">a205e</span><span class="o">:/</span><span class="err">#</span><span class="w"> </span><span class="n">vi</span>
<span class="nl">bash</span><span class="p">:</span><span class="w"> </span><span class="n">vi</span><span class="o">:</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">found</span>
<span class="n">root</span><span class="mf">@69f</span><span class="mi">1711</span><span class="n">a205e</span><span class="o">:/</span><span class="err">#</span><span class="w"> </span><span class="n">vim</span>
<span class="nl">bash</span><span class="p">:</span><span class="w"> </span><span class="n">vim</span><span class="o">:</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">found</span>
<span class="n">root</span><span class="mf">@69f</span><span class="mi">1711</span><span class="n">a205e</span><span class="o">:/</span><span class="err">#</span><span class="w"> </span><span class="n">emacs</span>
<span class="nl">bash</span><span class="p">:</span><span class="w"> </span><span class="n">emacs</span><span class="o">:</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">found</span>
<span class="n">root</span><span class="mf">@69f</span><span class="mi">1711</span><span class="n">a205e</span><span class="o">:/</span><span class="err">#</span>
</pre></div>

<p>How do I edit files?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>As in the comments, there's no default editor set - strange - the <code>$EDITOR</code>
environment variable is empty. You can log in into a container with:</p>
<div class="code"><pre class="code literal-block"><span class="nv">docker</span><span class="w"> </span><span class="k">exec</span><span class="w"> </span><span class="o">-</span><span class="nv">it</span><span class="w"> </span><span class="o">&lt;</span><span class="nv">container</span><span class="o">&gt;</span><span class="w"> </span><span class="nv">bash</span>
</pre></div>

<p>And run:</p>
<div class="code"><pre class="code literal-block">apt-get update
apt-get install vim
</pre></div>

<p>Or use the following Dockerfile:</p>
<div class="code"><pre class="code literal-block">FROM  confluent/postgres-bw:0.1

RUN ["apt-get", "update"]
RUN ["apt-get", "install", "-y", "vim"]
</pre></div>

<p>Docker images are delivered trimmed to the bare minimum - so no editor is
installed with the shipped container. That's why there's a need to install it
manually.</p>
<p><strong>EDIT</strong></p>
<p>I also encourage you to read my post about the topic.</p>
<p><br></p>
<h3>Suggest</h3>
<p>If you don't want to add an editor just to make a few small changes (e.g.,
change the Tomcat configuration), you can just use:</p>
<div class="code"><pre class="code literal-block">docker cp &lt;container&gt;:/path/to/file.ext .
</pre></div>

<p>which copies it to your local machine (to your current directory). Then edit
the file locally using your favorite editor, and then do a</p>
<div class="code"><pre class="code literal-block">docker cp file.ext &lt;container&gt;:/path/to/file.ext
</pre></div>

<p>to replace the old file.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/remove-accents-diacritics-in-a-string-in-javascript/" class="u-url">Remove accents/diacritics in a string in JavaScript</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/remove-accents-diacritics-in-a-string-in-javascript/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T15:22:05+08:00" itemprop="datePublished" title="2023-02-17 15:22">2023-02-17 15:22</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How do I remove accentuated characters from a string? Especially in IE6, I had
something like this:</p>
<div class="code"><pre class="code literal-block"><span class="n">accentsTidy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="n">s</span><span class="p">){</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">r</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">toLowerCase</span><span class="p">();</span>
<span class="w">    </span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">new</span><span class="w"> </span><span class="n">RegExp</span><span class="p">(</span><span class="o">/</span>\<span class="n">s</span><span class="o">/</span><span class="n">g</span><span class="p">),</span><span class="s2">""</span><span class="p">);</span>
<span class="w">    </span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">new</span><span class="w"> </span><span class="n">RegExp</span><span class="p">(</span><span class="o">/</span><span class="p">[</span><span class="err">àáâãäå</span><span class="p">]</span><span class="o">/</span><span class="n">g</span><span class="p">),</span><span class="s2">"a"</span><span class="p">);</span>
<span class="w">    </span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">new</span><span class="w"> </span><span class="n">RegExp</span><span class="p">(</span><span class="o">/</span><span class="err">æ</span><span class="o">/</span><span class="n">g</span><span class="p">),</span><span class="s2">"ae"</span><span class="p">);</span>
<span class="w">    </span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">new</span><span class="w"> </span><span class="n">RegExp</span><span class="p">(</span><span class="o">/</span><span class="err">ç</span><span class="o">/</span><span class="n">g</span><span class="p">),</span><span class="s2">"c"</span><span class="p">);</span>
<span class="w">    </span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">new</span><span class="w"> </span><span class="n">RegExp</span><span class="p">(</span><span class="o">/</span><span class="p">[</span><span class="err">èéêë</span><span class="p">]</span><span class="o">/</span><span class="n">g</span><span class="p">),</span><span class="s2">"e"</span><span class="p">);</span>
<span class="w">    </span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">new</span><span class="w"> </span><span class="n">RegExp</span><span class="p">(</span><span class="o">/</span><span class="p">[</span><span class="err">ìíîï</span><span class="p">]</span><span class="o">/</span><span class="n">g</span><span class="p">),</span><span class="s2">"i"</span><span class="p">);</span>
<span class="w">    </span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">new</span><span class="w"> </span><span class="n">RegExp</span><span class="p">(</span><span class="o">/</span><span class="err">ñ</span><span class="o">/</span><span class="n">g</span><span class="p">),</span><span class="s2">"n"</span><span class="p">);</span><span class="w">                </span>
<span class="w">    </span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">new</span><span class="w"> </span><span class="n">RegExp</span><span class="p">(</span><span class="o">/</span><span class="p">[</span><span class="err">òóôõö</span><span class="p">]</span><span class="o">/</span><span class="n">g</span><span class="p">),</span><span class="s2">"o"</span><span class="p">);</span>
<span class="w">    </span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">new</span><span class="w"> </span><span class="n">RegExp</span><span class="p">(</span><span class="o">/</span><span class="err">œ</span><span class="o">/</span><span class="n">g</span><span class="p">),</span><span class="s2">"oe"</span><span class="p">);</span>
<span class="w">    </span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">new</span><span class="w"> </span><span class="n">RegExp</span><span class="p">(</span><span class="o">/</span><span class="p">[</span><span class="err">ùúûü</span><span class="p">]</span><span class="o">/</span><span class="n">g</span><span class="p">),</span><span class="s2">"u"</span><span class="p">);</span>
<span class="w">    </span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">new</span><span class="w"> </span><span class="n">RegExp</span><span class="p">(</span><span class="o">/</span><span class="p">[</span><span class="err">ýÿ</span><span class="p">]</span><span class="o">/</span><span class="n">g</span><span class="p">),</span><span class="s2">"y"</span><span class="p">);</span>
<span class="w">    </span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">new</span><span class="w"> </span><span class="n">RegExp</span><span class="p">(</span><span class="o">/</span>\<span class="n">W</span><span class="o">/</span><span class="n">g</span><span class="p">),</span><span class="s2">""</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">r</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>

<p>but IE6 bugs me, seems it doesn't like my regular expression.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>With ES2015/ES6 String.prototype.normalize(),</p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="nb">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Crème Brulée"</span>
<span class="nb">str</span><span class="o">.</span><span class="n">normalize</span><span class="p">(</span><span class="s2">"NFD"</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="o">/</span><span class="p">[</span>\<span class="n">u0300</span><span class="o">-</span>\<span class="n">u036f</span><span class="p">]</span><span class="o">/</span><span class="n">g</span><span class="p">,</span><span class="w"> </span><span class="s2">""</span><span class="p">)</span>
<span class="o">&gt;</span><span class="w"> </span><span class="s2">"Creme Brulee"</span>
</pre></div>

<p>Note: use <code>NFKD</code> if you want things like <code>\uFB01</code>(<code>ﬁ</code>) normalized (to <code>fi</code>).</p>
<p>Two things are happening here:</p>
<ol>
<li>
<code>normalize()</code>ing to <code>NFD</code> Unicode normal form decomposes combined graphemes into the combination of simple ones. The <code>è</code> of <code>Crème</code> ends up expressed as <code>e</code> + <code>̀</code>.</li>
<li>Using a regex character class to match the U+0300 → U+036F range, it is now trivial to globally get rid of the diacritics, which the Unicode standard conveniently groups as the Combining Diacritical Marks Unicode block.</li>
</ol>
<p>As of 2021, one can also use Unicode property escapes:</p>
<div class="code"><pre class="code literal-block">str.normalize("NFD").replace(/\p{Diacritic}/gu, "")
</pre></div>

<p>See comment for performance testing.</p>
<p><strong>Alternatively, if you just want sorting</strong></p>
<p>Intl.Collator has sufficient support ~95% right now, a polyfill is also
available here but I haven't tested it.</p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Intl</span><span class="o">.</span><span class="n">Collator</span><span class="p">();</span>
<span class="p">[</span><span class="s2">"creme brulee"</span><span class="p">,</span><span class="w"> </span><span class="s2">"crème brulée"</span><span class="p">,</span><span class="w"> </span><span class="s2">"crame brulai"</span><span class="p">,</span><span class="w"> </span><span class="s2">"crome brouillé"</span><span class="p">,</span>
<span class="s2">"creme brulay"</span><span class="p">,</span><span class="w"> </span><span class="s2">"creme brulfé"</span><span class="p">,</span><span class="w"> </span><span class="s2">"creme bruléa"</span><span class="p">]</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">compare</span><span class="p">)</span>
<span class="p">[</span><span class="s2">"crame brulai"</span><span class="p">,</span><span class="w"> </span><span class="s2">"creme brulay"</span><span class="p">,</span><span class="w"> </span><span class="s2">"creme bruléa"</span><span class="p">,</span><span class="w"> </span><span class="s2">"creme brulee"</span><span class="p">,</span>
<span class="s2">"crème brulée"</span><span class="p">,</span><span class="w"> </span><span class="s2">"creme brulfé"</span><span class="p">,</span><span class="w"> </span><span class="s2">"crome brouillé"</span><span class="p">]</span>


<span class="p">[</span><span class="s2">"creme brulee"</span><span class="p">,</span><span class="w"> </span><span class="s2">"crème brulée"</span><span class="p">,</span><span class="w"> </span><span class="s2">"crame brulai"</span><span class="p">,</span><span class="w"> </span><span class="s2">"crome brouillé"</span><span class="p">]</span><span class="o">.</span><span class="n">sort</span><span class="p">((</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">a</span><span class="o">&gt;</span><span class="n">b</span><span class="p">)</span>
<span class="p">[</span><span class="s2">"crame brulai"</span><span class="p">,</span><span class="w"> </span><span class="s2">"creme brulee"</span><span class="p">,</span><span class="w"> </span><span class="s2">"crome brouillé"</span><span class="p">,</span><span class="w"> </span><span class="s2">"crème brulée"</span><span class="p">]</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>I slightly modified khel version for one reason: Every regexp parse/replace
will cost O(n) operations, where n is number of characters in target text.
But, regexp is not exactly what we need. So:</p>
<div class="code"><pre class="code literal-block"><span class="cm">/*</span>
<span class="cm">   Licensed under the Apache License, Version 2.0 (the "License");</span>
<span class="cm">   you may not use this file except in compliance with the License.</span>
<span class="cm">   You may obtain a copy of the License at</span>

<span class="cm">       http://www.apache.org/licenses/LICENSE-2.0</span>

<span class="cm">   Unless required by applicable law or agreed to in writing, software</span>
<span class="cm">   distributed under the License is distributed on an "AS IS" BASIS,</span>
<span class="cm">   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<span class="cm">   See the License for the specific language governing permissions and</span>
<span class="cm">   limitations under the License.</span>
<span class="cm">*/</span>
<span class="w">    </span><span class="nf">var</span><span class="w"> </span><span class="n">defaultDiacriticsRemovalMap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span>
<span class="n">        {'base':'A', 'letters':'\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F'},</span>
<span class="n">        {'base':'AA','letters':'\uA732'},</span>
<span class="n">        {'base':'AE','letters':'\u00C6\u01FC\u01E2'},</span>
<span class="n">        {'base':'AO','letters':'\uA734'},</span>
<span class="n">        {'base':'AU','letters':'\uA736'},</span>
<span class="n">        {'base':'AV','letters':'\uA738\uA73A'},</span>
<span class="n">        {'base':'AY','letters':'\uA73C'},</span>
<span class="n">        {'base':'B', 'letters':'\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181'},</span>
<span class="n">        {'base':'C', 'letters':'\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E'},</span>
<span class="n">        {'base':'D', 'letters':'\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779\u00D0'},</span>
<span class="n">        {'base':'DZ','letters':'\u01F1\u01C4'},</span>
<span class="n">        {'base':'Dz','letters':'\u01F2\u01C5'},</span>
<span class="n">        {'base':'E', 'letters':'\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E'},</span>
<span class="n">        {'base':'F', 'letters':'\u0046\u24BB\uFF26\u1E1E\u0191\uA77B'},</span>
<span class="n">        {'base':'G', 'letters':'\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E'},</span>
<span class="n">        {'base':'H', 'letters':'\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D'},</span>
<span class="n">        {'base':'I', 'letters':'\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197'},</span>
<span class="n">        {'base':'J', 'letters':'\u004A\u24BF\uFF2A\u0134\u0248'},</span>
<span class="n">        {'base':'K', 'letters':'\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2'},</span>
<span class="n">        {'base':'L', 'letters':'\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780'},</span>
<span class="n">        {'base':'LJ','letters':'\u01C7'},</span>
<span class="n">        {'base':'Lj','letters':'\u01C8'},</span>
<span class="n">        {'base':'M', 'letters':'\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C'},</span>
<span class="n">        {'base':'N', 'letters':'\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4'},</span>
<span class="n">        {'base':'NJ','letters':'\u01CA'},</span>
<span class="n">        {'base':'Nj','letters':'\u01CB'},</span>
<span class="n">        {'base':'O', 'letters':'\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C'},</span>
<span class="n">        {'base':'OI','letters':'\u01A2'},</span>
<span class="n">        {'base':'OO','letters':'\uA74E'},</span>
<span class="n">        {'base':'OU','letters':'\u0222'},</span>
<span class="n">        {'base':'OE','letters':'\u008C\u0152'},</span>
<span class="n">        {'base':'oe','letters':'\u009C\u0153'},</span>
<span class="n">        {'base':'P', 'letters':'\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754'},</span>
<span class="n">        {'base':'Q', 'letters':'\u0051\u24C6\uFF31\uA756\uA758\u024A'},</span>
<span class="n">        {'base':'R', 'letters':'\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782'},</span>
<span class="n">        {'base':'S', 'letters':'\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784'},</span>
<span class="n">        {'base':'T', 'letters':'\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786'},</span>
<span class="n">        {'base':'TZ','letters':'\uA728'},</span>
<span class="n">        {'base':'U', 'letters':'\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244'},</span>
<span class="n">        {'base':'V', 'letters':'\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245'},</span>
<span class="n">        {'base':'VY','letters':'\uA760'},</span>
<span class="n">        {'base':'W', 'letters':'\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72'},</span>
<span class="n">        {'base':'X', 'letters':'\u0058\u24CD\uFF38\u1E8A\u1E8C'},</span>
<span class="n">        {'base':'Y', 'letters':'\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE'},</span>
<span class="n">        {'base':'Z', 'letters':'\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762'},</span>
<span class="n">        {'base':'a', 'letters':'\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250'},</span>
<span class="n">        {'base':'aa','letters':'\uA733'},</span>
<span class="n">        {'base':'ae','letters':'\u00E6\u01FD\u01E3'},</span>
<span class="n">        {'base':'ao','letters':'\uA735'},</span>
<span class="n">        {'base':'au','letters':'\uA737'},</span>
<span class="n">        {'base':'av','letters':'\uA739\uA73B'},</span>
<span class="n">        {'base':'ay','letters':'\uA73D'},</span>
<span class="n">        {'base':'b', 'letters':'\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253'},</span>
<span class="n">        {'base':'c', 'letters':'\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184'},</span>
<span class="n">        {'base':'d', 'letters':'\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A'},</span>
<span class="n">        {'base':'dz','letters':'\u01F3\u01C6'},</span>
<span class="n">        {'base':'e', 'letters':'\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD'},</span>
<span class="n">        {'base':'f', 'letters':'\u0066\u24D5\uFF46\u1E1F\u0192\uA77C'},</span>
<span class="n">        {'base':'g', 'letters':'\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F'},</span>
<span class="n">        {'base':'h', 'letters':'\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265'},</span>
<span class="n">        {'base':'hv','letters':'\u0195'},</span>
<span class="n">        {'base':'i', 'letters':'\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131'},</span>
<span class="n">        {'base':'j', 'letters':'\u006A\u24D9\uFF4A\u0135\u01F0\u0249'},</span>
<span class="n">        {'base':'k', 'letters':'\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3'},</span>
<span class="n">        {'base':'l', 'letters':'\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747'},</span>
<span class="n">        {'base':'lj','letters':'\u01C9'},</span>
<span class="n">        {'base':'m', 'letters':'\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F'},</span>
<span class="n">        {'base':'n', 'letters':'\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5'},</span>
<span class="n">        {'base':'nj','letters':'\u01CC'},</span>
<span class="n">        {'base':'o', 'letters':'\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275'},</span>
<span class="n">        {'base':'oi','letters':'\u01A3'},</span>
<span class="n">        {'base':'ou','letters':'\u0223'},</span>
<span class="n">        {'base':'oo','letters':'\uA74F'},</span>
<span class="n">        {'base':'p','letters':'\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755'},</span>
<span class="n">        {'base':'q','letters':'\u0071\u24E0\uFF51\u024B\uA757\uA759'},</span>
<span class="n">        {'base':'r','letters':'\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783'},</span>
<span class="n">        {'base':'s','letters':'\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B'},</span>
<span class="n">        {'base':'t','letters':'\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787'},</span>
<span class="n">        {'base':'tz','letters':'\uA729'},</span>
<span class="n">        {'base':'u','letters': '\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289'},</span>
<span class="n">        {'base':'v','letters':'\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C'},</span>
<span class="n">        {'base':'vy','letters':'\uA761'},</span>
<span class="n">        {'base':'w','letters':'\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73'},</span>
<span class="n">        {'base':'x','letters':'\u0078\u24E7\uFF58\u1E8B\u1E8D'},</span>
<span class="n">        {'base':'y','letters':'\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF'},</span>
<span class="n">        {'base':'z','letters':'\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763'}</span>
<span class="n">    </span><span class="o">]</span><span class="p">;</span>

<span class="w">    </span><span class="nf">var</span><span class="w"> </span><span class="n">diacriticsMap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{}</span><span class="p">;</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="nf">var</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">defaultDiacriticsRemovalMap</span><span class="w"> </span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="err">{</span>
<span class="w">        </span><span class="nf">var</span><span class="w"> </span><span class="n">letters</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">defaultDiacriticsRemovalMap</span><span class="w"> </span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">.</span><span class="n">letters</span><span class="p">;</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="nf">var</span><span class="w"> </span><span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">letters</span><span class="p">.</span><span class="n">length</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="err">{</span>
<span class="w">            </span><span class="n">diacriticsMap</span><span class="o">[</span><span class="n">letters[j</span><span class="o">]</span><span class="err">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">defaultDiacriticsRemovalMap</span><span class="w"> </span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">.</span><span class="n">base</span><span class="p">;</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">    </span><span class="err">}</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="ss">"what?"</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="nl">http</span><span class="p">:</span><span class="o">//</span><span class="n">jsperf</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">diacritics</span><span class="o">/</span><span class="mi">12</span>
<span class="w">    </span><span class="k">function</span><span class="w"> </span><span class="n">removeDiacritics</span><span class="w"> </span><span class="p">(</span><span class="nf">str</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nf">str</span><span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="o">/[</span><span class="n">^\u0000-\u007E</span><span class="o">]/</span><span class="n">g</span><span class="p">,</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="err">{</span><span class="w"> </span>
<span class="w">           </span><span class="k">return</span><span class="w"> </span><span class="n">diacriticsMap</span><span class="o">[</span><span class="n">a</span><span class="o">]</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">a</span><span class="p">;</span><span class="w"> </span>
<span class="w">        </span><span class="err">}</span><span class="p">);</span>
<span class="w">    </span><span class="err">}</span><span class="w">    </span>
<span class="w">    </span><span class="nf">var</span><span class="w"> </span><span class="n">paragraph</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">"L'avantage d'utiliser le lorem ipsum est bien     évidemment de pouvoir créer des maquettes ou de remplir un site internet de contenus qui présentent un rendu s'approchant un maximum du rendu final. \n Par défaut lorem ipsum ne contient pas d'accent ni de caractères spéciaux contrairement à la langue française qui en contient beaucoup. C'est sur ce critère que nous proposons une solution avec cet outil qui générant du faux-texte lorem ipsum mais avec en plus, des caractères spéciaux tel que les accents ou certains symboles utiles pour la langue française. \n L'utilisation du lorem standard est facile d’utilisation mais lorsque le futur client utilisera votre logiciel il se peut que certains caractères spéciaux ou qu'un accent ne soient pas codés correctement. \n Cette page a pour but donc de pouvoir perdre le moins de temps possible et donc de tester directement si tous les encodages de base de donnée ou des sites sont les bons de plus il permet de récuperer un code css avec le texte formaté !"</span><span class="p">;</span>
<span class="w">    </span><span class="n">alert</span><span class="p">(</span><span class="n">removeDiacritics</span><span class="p">(</span><span class="n">paragraph</span><span class="p">));</span>
</pre></div>

<p>To test my theory I wrote a test in http://jsperf.com/diacritics/12. Results:</p>
<p>Testing in Chrome 28.0.1500.95 32-bit on Windows 8 64-bit:<br>
Using Regexp<br>
4,558 ops/sec ±4.16%. 37% slower<br>
String Builder style<br>
7,308 ops/sec ±4.88%. fastest</p>
<h3>Update</h3>
<p>Testing in Chrome 33.0.1750 on Windows 8 64-bit:  </p>
<p>Using Regexp<br>
5,260 ±1.25% ops/sec 76% slower<br>
Using @skerit version<br>
22,138 ±2.12% ops/sec fastest  </p>
<h4>Update - 19/03/2014</h4>
<p>Adding missing "OE" diacritics.</p>
<h4>Update - 27/03/2014</h4>
<p>Using a faster way to transverse a string using js - "What?" Version</p>
<p><img alt="jsPerf comparision" src="images/PlU88.png"></p>
<h4>Update - 14/05/2014</h4>
<p>Community wiki</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/are-https-headers-encrypted/" class="u-url">Are HTTPS headers encrypted?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/are-https-headers-encrypted/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T15:21:41+08:00" itemprop="datePublished" title="2023-02-17 15:21">2023-02-17 15:21</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>When sending data over HTTPS, I know the content is encrypted, however I hear
mixed answers about whether the headers are encrypted, or how much of the
header is encrypted.</p>
<p>How much of HTTPS headers <em>are</em> encrypted?</p>
<p>Including GET/POST request URLs, Cookies, etc.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>All the HTTP headers are encrypted†. That's why SSL on vhosts doesn't work too
well - you need a dedicated IP address because the Host header is encrypted.</p>
<p>†The Server Name Identification (SNI) standard means that the hostname may not
be encrypted if you're using TLS. Also, whether you're using SNI or not, the
TCP and IP headers are never encrypted. (If they were, your packets would not
be routable.)</p>
<p><br></p>
<h3>Suggest</h3>
<p>The headers are entirely encrypted. The only information going over the
network 'in the clear' is related to the SSL setup and D/H key exchange. This
exchange is carefully designed not to yield any useful information to
eavesdroppers, and once it has taken place, all data is encrypted.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-765.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-763.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

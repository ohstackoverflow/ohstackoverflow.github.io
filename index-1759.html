<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1759) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1759.html">
<link rel="prev" href="index-1760.html" type="text/html">
<link rel="next" href="index-1758.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/javascript-displaying-a-float-to-2-decimal-places/" class="u-url">JavaScript displaying a float to 2 decimal places</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/javascript-displaying-a-float-to-2-decimal-places/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T08:41:35+08:00" itemprop="datePublished" title="2023-03-03 08:41">2023-03-03 08:41</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I wanted to display a number to 2 decimal places.</p>
<p>I thought I could use <code>toPrecision(2)</code> in JavaScript .</p>
<p>However, if the number is <code>0.05</code>, I get <code>0.0500</code>. I'd rather it stay the same.</p>
<p>See it on JSbin.</p>
<p>What is the best way to do this?</p>
<p>I can think of coding a few solutions, but I'd imagine (I hope) something like
this is built in?</p>
<p><br><br></p>
<h2>Answer</h2>
<div class="code"><pre class="code literal-block">float_num.toFixed(2);
</pre></div>

<p><strong>Note:</strong><code>toFixed()</code> will round or pad with zeros if necessary to meet the
specified length.</p>
<p><br></p>
<h3>Suggest</h3>
<p>You could do it with the <code>toFixed</code> function, but it's buggy in IE. If you want
a reliable solution, look at my answer here.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-get-a-reference-to-the-appdelegate-in-swift/" class="u-url">How do I get a reference to the AppDelegate in Swift?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-get-a-reference-to-the-appdelegate-in-swift/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T08:41:10+08:00" itemprop="datePublished" title="2023-03-03 08:41">2023-03-03 08:41</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How do I get a reference to AppDelegate in Swift?</p>
<p>Ultimately, I want to use the reference to access the managed object context.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The other solution is correct in that it will get you a reference to the
application's delegate, but this will not allow you to access any methods or
variables added by your subclass of UIApplication, like your managed object
context. To resolve this, simply downcast to "AppDelegate" or what ever your
UIApplication subclass happens to be called. In <strong>Swift 3, 4 &amp; 5</strong>, this is
done as follows:</p>
<div class="code"><pre class="code literal-block">let appDelegate = UIApplication.shared.delegate as! AppDelegate
let aVariable = appDelegate.someVariable
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p><strong>Swift 4.2</strong></p>
<p>In Swift, easy to access in your VC's</p>
<div class="code"><pre class="code literal-block"><span class="n">extension</span><span class="w"> </span><span class="n">UIViewController</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">appDelegate</span><span class="p">:</span><span class="w"> </span><span class="n">AppDelegate</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">UIApplication</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">delegate</span><span class="w"> </span><span class="k">as</span><span class="o">!</span><span class="w"> </span><span class="n">AppDelegate</span>
<span class="w">   </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-repeatedly-execute-a-function-every-x-seconds/" class="u-url">How to repeatedly execute a function every x seconds?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-repeatedly-execute-a-function-every-x-seconds/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T08:40:43+08:00" itemprop="datePublished" title="2023-03-03 08:40">2023-03-03 08:40</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I want to repeatedly execute a function in Python every 60 seconds forever
(just like an NSTimer in Objective C or setTimeout in JS). This code will run
as a daemon and is effectively like calling the python script every minute
using a cron, but without requiring that to be set up by the user.</p>
<p>In this question about a cron implemented in Python, the solution appears to
effectively just sleep() for x seconds. I don't need such advanced
functionality so perhaps something like this would work</p>
<div class="code"><pre class="code literal-block"><span class="k">while</span><span class="w"> </span><span class="nv">True</span>:
<span class="w">    </span>#<span class="w"> </span><span class="nv">Code</span><span class="w"> </span><span class="nv">executed</span><span class="w"> </span><span class="nv">here</span>
<span class="w">    </span><span class="nv">time</span>.<span class="nv">sleep</span><span class="ss">(</span><span class="mi">60</span><span class="ss">)</span>
</pre></div>

<p>Are there any foreseeable problems with this code?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>If your program doesn't have a event loop already, use the sched module, which
implements a general purpose event scheduler.</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">sched</span><span class="o">,</span> <span class="nn">time</span>

<span class="k">def</span> <span class="nf">do_something</span><span class="p">(</span><span class="n">scheduler</span><span class="p">):</span> 
    <span class="c1"># schedule the next call first</span>
    <span class="n">scheduler</span><span class="o">.</span><span class="n">enter</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">do_something</span><span class="p">,</span> <span class="p">(</span><span class="n">scheduler</span><span class="p">,))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Doing stuff..."</span><span class="p">)</span>
    <span class="c1"># then do your stuff</span>

<span class="n">my_scheduler</span> <span class="o">=</span> <span class="n">sched</span><span class="o">.</span><span class="n">scheduler</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">)</span>
<span class="n">my_scheduler</span><span class="o">.</span><span class="n">enter</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">do_something</span><span class="p">,</span> <span class="p">(</span><span class="n">my_scheduler</span><span class="p">,))</span>
<span class="n">my_scheduler</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>

<p>If you're already using an event loop library like <code>asyncio</code>, <code>trio</code>,
<code>tkinter</code>, <code>PyQt5</code>, <code>gobject</code>, <code>kivy</code>, and many others - just schedule the
task using your existing event loop library's methods, instead.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Lock your time loop to the system clock like this:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">time</span>
<span class="n">starttime</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"tick"</span><span class="p">)</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">60.0</span> <span class="o">-</span> <span class="p">((</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">starttime</span><span class="p">)</span> <span class="o">%</span> <span class="mf">60.0</span><span class="p">))</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1760.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1758.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

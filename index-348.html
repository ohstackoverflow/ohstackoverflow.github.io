<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 348) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-348.html">
<link rel="prev" href="index-349.html" type="text/html">
<link rel="next" href="index-347.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-the-difference-between-public-private-and-protected-inheritance-in-c/" class="u-url">What is the difference between public, private, and protected inheritance in C++?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-the-difference-between-public-private-and-protected-inheritance-in-c/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T04:34:29+08:00" itemprop="datePublished" title="2023-02-17 04:34">2023-02-17 04:34</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What is the difference between <code>public</code>, <code>private</code>, and <code>protected</code>
inheritance in C++?</p>
<p>All of the questions I've found on SO deal with specific cases.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>To answer that question, I'd like to describe member's accessors first in my
own words. If you already know this, skip to the heading "next:".</p>
<p>There are three accessors that I'm aware of: <code>public</code>, <code>protected</code> and
<code>private</code>.</p>
<p>Let:</p>
<div class="code"><pre class="code literal-block"><span class="nt">class</span><span class="w"> </span><span class="nt">Base</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">public</span><span class="p">:</span>
<span class="w">        </span><span class="n">int</span><span class="w"> </span><span class="n">publicMember</span><span class="p">;</span>
<span class="w">    </span><span class="n">protected</span><span class="p">:</span>
<span class="w">        </span><span class="n">int</span><span class="w"> </span><span class="n">protectedMember</span><span class="p">;</span>
<span class="w">    </span><span class="n">private</span><span class="p">:</span>
<span class="w">        </span><span class="n">int</span><span class="w"> </span><span class="n">privateMember</span><span class="p">;</span>
<span class="p">}</span><span class="o">;</span>
</pre></div>

<ul>
<li>Everything that is aware of <code>Base</code> is also aware that <code>Base</code> contains <code>publicMember</code>.</li>
<li>Only the children (and their children) are aware that <code>Base</code> contains <code>protectedMember</code>.</li>
<li>No one but <code>Base</code> is aware of <code>privateMember</code>.</li>
</ul>
<p>By "is aware of", I mean "acknowledge the existence of, and thus be able to
access".</p>
<h3>next:</h3>
<p>The same happens with public, private and protected inheritance. Let's
consider a class <code>Base</code> and a class <code>Child</code> that inherits from <code>Base</code>.</p>
<ul>
<li>If the inheritance is <code>public</code>, everything that is aware of <code>Base</code> and <code>Child</code> is also aware that <code>Child</code> inherits from <code>Base</code>.</li>
<li>If the inheritance is <code>protected</code>, only <code>Child</code>, and its children, are aware that they inherit from <code>Base</code>.</li>
<li>If the inheritance is <code>private</code>, no one other than <code>Child</code> is aware of the inheritance.</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<p>To answer that question, I'd like to describe member's accessors first in my
own words. If you already know this, skip to the heading "next:".</p>
<p>There are three accessors that I'm aware of: <code>public</code>, <code>protected</code> and
<code>private</code>.</p>
<p>Let:</p>
<div class="code"><pre class="code literal-block"><span class="nt">class</span><span class="w"> </span><span class="nt">Base</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">public</span><span class="p">:</span>
<span class="w">        </span><span class="n">int</span><span class="w"> </span><span class="n">publicMember</span><span class="p">;</span>
<span class="w">    </span><span class="n">protected</span><span class="p">:</span>
<span class="w">        </span><span class="n">int</span><span class="w"> </span><span class="n">protectedMember</span><span class="p">;</span>
<span class="w">    </span><span class="n">private</span><span class="p">:</span>
<span class="w">        </span><span class="n">int</span><span class="w"> </span><span class="n">privateMember</span><span class="p">;</span>
<span class="p">}</span><span class="o">;</span>
</pre></div>

<ul>
<li>Everything that is aware of <code>Base</code> is also aware that <code>Base</code> contains <code>publicMember</code>.</li>
<li>Only the children (and their children) are aware that <code>Base</code> contains <code>protectedMember</code>.</li>
<li>No one but <code>Base</code> is aware of <code>privateMember</code>.</li>
</ul>
<p>By "is aware of", I mean "acknowledge the existence of, and thus be able to
access".</p>
<h3>next:</h3>
<p>The same happens with public, private and protected inheritance. Let's
consider a class <code>Base</code> and a class <code>Child</code> that inherits from <code>Base</code>.</p>
<ul>
<li>If the inheritance is <code>public</code>, everything that is aware of <code>Base</code> and <code>Child</code> is also aware that <code>Child</code> inherits from <code>Base</code>.</li>
<li>If the inheritance is <code>protected</code>, only <code>Child</code>, and its children, are aware that they inherit from <code>Base</code>.</li>
<li>If the inheritance is <code>private</code>, no one other than <code>Child</code> is aware of the inheritance.</li>
</ul>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-the-difference-between-a-docker-image-and-a-container/" class="u-url">What is the difference between a Docker image and a container?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-the-difference-between-a-docker-image-and-a-container/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T04:33:43+08:00" itemprop="datePublished" title="2023-02-17 04:33">2023-02-17 04:33</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>When using Docker, we start with a base image. We boot it up, create changes
and those changes are saved in layers forming another image.</p>
<p>So eventually I have an image for my PostgreSQL instance and an image for my
web application, changes to which keep on being persisted.</p>
<p>What is a container?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>An instance of an image is called a container. You have an image, which is a
set of layers as you describe. If you start this image, you have a running
container of this image. You can have many running containers of the same
image.</p>
<p>You can see all your images with <code>docker images</code> whereas you can see your
running containers with <code>docker ps</code> (and you can see all containers with
<code>docker ps -a</code>).</p>
<p>So a running instance of an image is a container.</p>
<p><br></p>
<h3>Suggest</h3>
<p>From my article on Automating Docker Deployments (archived):</p>
<h3>Docker Images vs. Containers</h3>
<p>In Dockerland, there are <strong>images</strong> and there are <strong>containers</strong>. The two are
closely related, but distinct. For me, grasping this dichotomy has clarified
Docker immensely.</p>
<h4>What's an Image?</h4>
<p>An image is an inert, immutable, file that's essentially a snapshot of a
container. Images are created with the build command, and they'll produce a
container when started with run. Images are stored in a Docker registry such
as registry.hub.docker.com. Because they can become quite large, images are
designed to be composed of layers of other images, allowing a minimal amount
of data to be sent when transferring images over the network.</p>
<p>Local images can be listed by running <code>docker images</code>:</p>
<div class="code"><pre class="code literal-block">REPOSITORY                TAG                 IMAGE ID            CREATED             VIRTUAL SIZE
ubuntu                    13.10               5e019ab7bf6d        2 months ago        180 MB
ubuntu                    14.04               99ec81b80c55        2 months ago        266 MB
ubuntu                    latest              99ec81b80c55        2 months ago        266 MB
ubuntu                    trusty              99ec81b80c55        2 months ago        266 MB
&lt;none&gt;                    &lt;none&gt;              4ab0d9120985        3 months ago        486.5 MB
</pre></div>

<p><strong>Some things to note:</strong></p>
<ol>
<li>IMAGE ID is the first 12 characters of the true identifier for an image. You can create many tags of a given image, but their IDs will all be the same (as above).</li>
<li>VIRTUAL SIZE is <em>virtual</em> because it's adding up the sizes of all the distinct underlying layers. This means that the sum of all the values in that column is probably much larger than the disk space used by all of those images.</li>
<li>The value in the REPOSITORY column comes from the <code>-t</code> flag of the <code>docker build</code> command, or from <code>docker tag</code>-ing an existing image. You're free to tag images using a nomenclature that makes sense to you, but know that docker will use the tag as the registry location in a <code>docker push</code> or <code>docker pull</code>.</li>
<li>The full form of a tag is <code>[REGISTRYHOST/][USERNAME/]NAME[:TAG]</code>. For <code>ubuntu</code> above, REGISTRYHOST is inferred to be <code>registry.hub.docker.com</code>. So if you plan on storing your image called <code>my-application</code> in a registry at <code>docker.example.com</code>, you should tag that image <code>docker.example.com/my-application</code>.</li>
<li>The TAG column is just the [:TAG] part of the <em>full</em> tag. This is unfortunate terminology.</li>
<li>The <code>latest</code> tag is not magical, it's simply the default tag when you don't specify a tag.</li>
<li>You can have untagged images only identifiable by their IMAGE IDs. These will get the <code>&lt;none&gt;</code> TAG and REPOSITORY. It's easy to forget about them.</li>
</ol>
<p>More information on images is available from the Docker documentation and
glossary.</p>
<h4>What's a container?</h4>
<p>To use a programming metaphor, if an image is a class, then a container is an
instance of a class—a runtime object. Containers are hopefully why you're
using Docker; they're lightweight and portable encapsulations of an
environment in which to run applications.</p>
<p>View local running containers with <code>docker ps</code>:</p>
<div class="code"><pre class="code literal-block"><span class="n">CONTAINER</span><span class="w"> </span><span class="n">ID</span><span class="w">        </span><span class="n">IMAGE</span><span class="w">                               </span><span class="n">COMMAND</span><span class="w">                </span><span class="n">CREATED</span><span class="w">             </span><span class="n">STATUS</span><span class="w">              </span><span class="n">PORTS</span><span class="w">                    </span><span class="n">NAMES</span>
<span class="n">f2ff1af05450</span><span class="w">        </span><span class="n">samalba</span><span class="o">/</span><span class="n">docker</span><span class="o">-</span><span class="nl">registry:</span><span class="n">latest</span><span class="w">      </span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">sh</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="p">'</span><span class="n">exec</span><span class="w"> </span><span class="n">doc</span><span class="w">   </span><span class="mh">4</span><span class="w"> </span><span class="n">months</span><span class="w"> </span><span class="n">ago</span><span class="w">        </span><span class="n">Up</span><span class="w"> </span><span class="mh">12</span><span class="w"> </span><span class="n">weeks</span><span class="w">         </span><span class="mf">0.0.0.0</span><span class="o">:</span><span class="mh">5000</span><span class="o">-&gt;</span><span class="mh">5000</span><span class="o">/</span><span class="n">tcp</span><span class="w">   </span><span class="n">docker</span><span class="o">-</span><span class="n">registry</span>
</pre></div>

<p>Here I'm running a dockerized version of the docker registry, so that I have a
private place to store my images. Again, some things to note:</p>
<ol>
<li>Like IMAGE ID, CONTAINER ID is the true identifier for the container. It has the same form, but it identifies a different kind of object.</li>
<li>
<code>docker ps</code> only outputs <em>running</em> containers. You can view all containers ( <em>running</em> or <em>stopped</em> ) with <code>docker ps -a</code>.</li>
<li>NAMES can be used to identify a started container via the <code>--name</code> flag.</li>
</ol>
<h4>How to avoid image and container buildup</h4>
<p>One of my early frustrations with Docker was the <strong>seemingly constant buildup
of untagged images and stopped containers</strong>. On a handful of occasions this
buildup resulted in maxed out hard drives slowing down my laptop or halting my
automated build pipeline. Talk about "containers everywhere"!</p>
<p>We can remove all untagged images by combining <code>docker rmi</code> with the recent
<code>dangling=true</code> query:</p>
<div class="code"><pre class="code literal-block">docker images -q --filter "dangling=true" | xargs docker rmi
</pre></div>

<p>Docker won't be able to remove images that are behind existing containers, so
you may have to remove stopped containers with <code>docker rm</code> first:</p>
<div class="code"><pre class="code literal-block">docker rm `docker ps --no-trunc -aq`
</pre></div>

<p>These are known pain points with Docker and may be addressed in future
releases. However, with a clear understanding of images and containers, these
situations can be avoided with a couple of practices:</p>
<ol>
<li>Always remove a useless, stopped container with <code>docker rm [CONTAINER_ID]</code>.</li>
<li>Always remove the image behind a useless, stopped container with <code>docker rmi [IMAGE_ID]</code>.</li>
</ol>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-prune-local-tracking-branches-that-do-not-exist-on-remote-anymore/" class="u-url">How to prune local tracking branches that do not exist on remote anymore?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-prune-local-tracking-branches-that-do-not-exist-on-remote-anymore/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T04:32:49+08:00" itemprop="datePublished" title="2023-02-17 04:32">2023-02-17 04:32</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>With <code>git remote prune origin</code> I can remove the local branches that are not on
the remote any more.</p>
<p>But I also want to remove local branches that were created from those remote
branches (a check if they are unmerged would be nice).</p>
<p>How can I do this?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>After pruning, you can get the list of remote branches with <code>git branch -r</code>.
The list of branches with their remote tracking branch can be retrieved with
<code>git branch -vv</code>. So using these two lists you can find the remote tracking
branches that are not in the list of remotes.</p>
<p>This line should do the trick (requires <code>bash</code> or <code>zsh</code>, won't work with
standard Bourne shell):</p>
<div class="code"><pre class="code literal-block">git fetch -p ; git branch -r | awk '{print $1}' | egrep -v -f /dev/fd/0 &lt;(git branch -vv | grep origin) | awk '{print $1}' | xargs git branch -d
</pre></div>

<p>This string gets the list of remote branches and passes it into <code>egrep</code>
through the standard input. And filters the branches that have a remote
tracking branch (using <code>git branch -vv</code> and filtering for those that have
<code>origin</code>) then getting the first column of that output which will be the
branch name. Finally passing all the branch names into the delete branch
command.</p>
<p>Since it is using the <code>-d</code> option, it will not delete branches that have not
been merged into the branch that you are on when you run this command.</p>
<p><br></p>
<h3>Suggest</h3>
<p>If you want to delete all local branches that are already merged into master,
you can use the following command:</p>
<div class="code"><pre class="code literal-block">git branch --merged master | grep -v '^[ *]*master$' | xargs git branch -d
</pre></div>

<p>If you are using <code>main</code> as your master branch, you should modify the command
accordingly:</p>
<div class="code"><pre class="code literal-block">git branch --merged main | grep -v '^[ *]*main$' | xargs git branch -d
</pre></div>

<p>More info.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-349.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-347.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

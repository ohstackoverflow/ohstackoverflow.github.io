<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2608) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2608.html">
<link rel="prev" href="index-2609.html" type="text/html">
<link rel="next" href="index-2607.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-an-uber-jar/" class="u-url">What is an uber jar?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-an-uber-jar/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T04:33:59+08:00" itemprop="datePublished" title="2023-03-05 04:33">2023-03-05 04:33</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am reading Maven documentation and came across the name <code>uber-jar</code>.</p>
<p>What does an <code>uber-jar</code> mean and what are its features/advantages?</p>
<p><br><br></p>
<h2>Answer</h2>
<p><code>Über</code> is the German word for <code>above</code> or <code>over</code> (it's actually cognate with
the English <code>over</code>).</p>
<p>Hence, in this context, an uber-jar is an "over-jar", one level up from a
simple JAR (a), defined as one that contains both your package <em>and</em> all its
dependencies in one single JAR file. The name can be thought to come from the
same stable as ultrageek, superman, hyperspace, and metadata, which all have
similar meanings of "beyond the normal".</p>
<p>The advantage is that you can distribute your uber-jar and not care at all
whether or not dependencies are installed at the destination, as your uber-jar
actually <em>has</em> no dependencies.</p>
<p>All the dependencies of your own stuff within the uber-jar are <em>also</em> within
that uber-jar. As are all dependencies of those dependencies. And so on.</p>
<hr>
<p>(a) I probably <em>shouldn't</em> have to explain what a JAR is to a Java developer
but I'll include it for completeness. It's a Java archive, basically a single
file that typically contains a number of Java class files along with
associated metadata and resources.</p>
<p><br></p>
<h3>Suggest</h3>
<p><strong>ubar jar</strong> is also known as <strong>fat jar</strong> i.e. <strong>jar with dependencies.</strong><br>
There are three common methods for constructing an uber jar:</p>
<ol>
<li>
<strong>Unshaded:</strong> Unpack all JAR files, then repack them into a single JAR. Works with Java's default class loader. Tools maven-assembly-plugin</li>
<li>
<strong>Shaded:</strong> Same as unshaded, but rename (i.e., "shade") all <strong>packages</strong> of all dependencies. Works with Java's default class loader. Avoids some (not all) dependency version clashes. Tools maven-shade-plugin </li>
<li>
<strong>JAR of JARs:</strong> The final JAR file contains the other JAR files embedded within. Avoids dependency version clashes. All resource files are preserved. Tools: Eclipse JAR File Exporter</li>
</ol>
<p>for more</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/select-n-random-rows-from-sql-server-table/" class="u-url">Select n random rows from SQL Server table</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/select-n-random-rows-from-sql-server-table/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T04:32:41+08:00" itemprop="datePublished" title="2023-03-05 04:32">2023-03-05 04:32</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I've got a SQL Server table with about 50,000 rows in it. I want to select
about 5,000 of those rows at random. I've thought of a complicated way,
creating a temp table with a "random number" column, copying my table into
that, looping through the temp table and updating each row with <code>RAND()</code>, and
then selecting from that table where the random number column &lt; 0.1. I'm
looking for a simpler way to do it, in a single statement if possible.</p>
<p>This article suggest using the <code>NEWID()</code> function. That looks promising, but I
can't see how I could reliably select a certain percentage of rows.</p>
<p>Anybody ever do this before? Any ideas?</p>
<p><br><br></p>
<h2>Answer</h2>
<div class="code"><pre class="code literal-block"><span class="k">select</span><span class="w"> </span><span class="k">top</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="k">percent</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="o">[</span><span class="n">yourtable</span><span class="o">]</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="nf">newid</span><span class="p">()</span>
</pre></div>

<p>In response to the "pure trash" comment concerning large tables: you could do
it like this to improve performance.</p>
<div class="code"><pre class="code literal-block"><span class="k">select</span><span class="w">  </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="o">[</span><span class="n">yourtable</span><span class="o">]</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="o">[</span><span class="n">yourPk</span><span class="o">]</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span>
<span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="k">top</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="k">percent</span><span class="w"> </span><span class="o">[</span><span class="n">yourPk</span><span class="o">]</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="o">[</span><span class="n">yourtable</span><span class="o">]</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="nf">newid</span><span class="p">())</span>
</pre></div>

<p>The cost of this will be the key scan of values plus the join cost, which on a
large table with a small percentage selection should be reasonable.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Depending on your needs, <code>TABLESAMPLE</code> will get you nearly as random and
better performance. this is available on MS SQL server 2005 and later.</p>
<p><code>TABLESAMPLE</code> will return data from random pages instead of random rows and
therefore deos not even retrieve data that it will not return.</p>
<p>On a very large table I tested</p>
<div class="code"><pre class="code literal-block"><span class="k">select</span><span class="w"> </span><span class="k">top</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">percent</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="o">[</span><span class="n">tablename</span><span class="o">]</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="nf">newid</span><span class="p">()</span>
</pre></div>

<p>took more than 20 minutes.</p>
<div class="code"><pre class="code literal-block"><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="o">[</span><span class="n">tablename</span><span class="o">]</span><span class="w"> </span><span class="k">tablesample</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="k">percent</span><span class="p">)</span>
</pre></div>

<p>took 2 minutes.</p>
<p>Performance will also improve on smaller samples in <code>TABLESAMPLE</code> whereas it
will not with <code>newid()</code>.</p>
<p>Please keep in mind that this is not as random as the <code>newid()</code> method but
will give you a decent sampling.</p>
<p>See the MSDN page.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-does-5b-and-5d-in-post-requests-stand-for/" class="u-url">What does %5B and %5D in POST requests stand for?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-does-5b-and-5d-in-post-requests-stand-for/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T04:31:24+08:00" itemprop="datePublished" title="2023-03-05 04:31">2023-03-05 04:31</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm trying to write a Java class to log in to a certain website. The data sent
in the POST request to log in is</p>
<p><code>user%5Blogin%5D=username&amp;user%5Bpassword%5D=123456</code></p>
<p>I'm curious what the <code>%5B</code> and <code>%5D</code> means in the key <strong>user login</strong>.</p>
<p>How do I decode these data?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>As per this answer over here: <code>str='foo%20%5B12%5D'</code> encodes <code>foo [12]</code>:</p>
<div class="code"><pre class="code literal-block"><span class="c">%20 is space</span>
<span class="c">%22 is quotes</span>
<span class="c">%5B is '['</span>
<span class="n">and</span><span class="w"> </span><span class="s">%5D</span><span class="w"> </span><span class="s">is</span><span class="w"> </span><span class="s">']'</span>
</pre></div>

<p>This is called percent encoding and is used in encoding special characters in
the url parameter values.</p>
<p><strong>EDIT</strong> By the way as I was reading https://developer.mozilla.org/en-
US/docs/JavaScript/Reference/Global_Objects/encodeURI#Description, it just
occurred to me why so many people make the same search. See the note on the
bottom of the page:</p>
<blockquote>
<p>Also note that if one wishes to follow the more recent RFC3986 for URL's,
making square brackets reserved (for IPv6) and thus not encoded when forming
something which could be part of a URL (such as a host), the following may
help.</p>
</blockquote>
<div class="code"><pre class="code literal-block"><span class="nv">function</span><span class="w"> </span><span class="nv">fixedEncodeURI</span><span class="w"> </span><span class="ss">(</span><span class="nv">str</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">encodeURI</span><span class="ss">(</span><span class="nv">str</span><span class="ss">)</span>.<span class="nv">replace</span><span class="ss">(</span><span class="o">/%</span><span class="mi">5</span><span class="nv">B</span><span class="o">/</span><span class="nv">g</span>,<span class="w"> </span><span class="s1">'['</span><span class="ss">)</span>.<span class="nv">replace</span><span class="ss">(</span><span class="o">/%</span><span class="mi">5</span><span class="nv">D</span><span class="o">/</span><span class="nv">g</span>,<span class="w"> </span><span class="s1">']'</span><span class="ss">)</span><span class="c1">;</span>
}
</pre></div>

<p>Hopefully this will help people sort out their problems when they stumble upon
this question.</p>
<p><br></p>
<h3>Suggest</h3>
<p>They represent <code>[</code> and <code>]</code>. The encoding is called "URL encoding".</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2609.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2607.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 881) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-881.html">
<link rel="prev" href="index-882.html" type="text/html">
<link rel="next" href="index-880.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-install-psycopg2-with-pip-on-python/" class="u-url">How to install psycopg2 with "pip" on Python?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-install-psycopg2-with-pip-on-python/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T18:30:24+08:00" itemprop="datePublished" title="2023-02-17 18:30">2023-02-17 18:30</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm using <em><code>virtualenv</code></em> and I need to install "psycopg2".</p>
<p>I have done the following:</p>
<div class="code"><pre class="code literal-block">pip install http://pypi.python.org/packages/source/p/psycopg2/psycopg2-2.4.tar.gz#md5=24f4368e2cfdc1a2b03282ddda814160
</pre></div>

<p>And I have the following messages:</p>
<div class="code"><pre class="code literal-block"><span class="n">Downloading</span><span class="o">/</span><span class="n">unpacking</span><span class="w"> </span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">pypi</span><span class="o">.</span><span class="n">python</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">packages</span><span class="o">/</span><span class="n">source</span><span class="o">/</span><span class="n">p</span><span class="o">/</span><span class="n">psycopg2</span><span class="o">/</span><span class="n">psycopg2</span>
<span class="o">-</span><span class="mf">2.4</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span><span class="c1">#md5=24f4368e2cfdc1a2b03282ddda814160</span>
<span class="w">  </span><span class="n">Downloading</span><span class="w"> </span><span class="n">psycopg2</span><span class="o">-</span><span class="mf">2.4</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span><span class="w"> </span><span class="p">(</span><span class="mi">607</span><span class="n">Kb</span><span class="p">):</span><span class="w"> </span><span class="mi">607</span><span class="n">Kb</span><span class="w"> </span><span class="n">downloaded</span>
<span class="w">  </span><span class="n">Running</span><span class="w"> </span><span class="n">setup</span><span class="o">.</span><span class="n">py</span><span class="w"> </span><span class="n">egg_info</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">pypi</span><span class="o">.</span><span class="n">python</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">packages</span><span class="o">/</span><span class="n">sou</span>
<span class="n">rce</span><span class="o">/</span><span class="n">p</span><span class="o">/</span><span class="n">psycopg2</span><span class="o">/</span><span class="n">psycopg2</span><span class="o">-</span><span class="mf">2.4</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span><span class="c1">#md5=24f4368e2cfdc1a2b03282ddda814160</span>
<span class="w">    </span><span class="n">Error</span><span class="p">:</span><span class="w"> </span><span class="n">pg_config</span><span class="w"> </span><span class="n">executable</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">found</span><span class="o">.</span>

<span class="w">    </span><span class="n">Please</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">containing</span><span class="w"> </span><span class="n">pg_config</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">PATH</span>
<span class="w">    </span><span class="ow">or</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">full</span><span class="w"> </span><span class="n">executable</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">option</span><span class="p">:</span>

<span class="w">        </span><span class="n">python</span><span class="w"> </span><span class="n">setup</span><span class="o">.</span><span class="n">py</span><span class="w"> </span><span class="n">build_ext</span><span class="w"> </span><span class="o">--</span><span class="n">pg</span><span class="o">-</span><span class="n">config</span><span class="w"> </span><span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">pg_config</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="o">...</span>

<span class="w">    </span><span class="ow">or</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pg_config</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="s1">'setup.cfg'</span><span class="o">.</span>
<span class="w">    </span><span class="n">Complete</span><span class="w"> </span><span class="n">output</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">python</span><span class="w"> </span><span class="n">setup</span><span class="o">.</span><span class="n">py</span><span class="w"> </span><span class="n">egg_info</span><span class="p">:</span>
<span class="w">    </span><span class="n">running</span><span class="w"> </span><span class="n">egg_info</span>

<span class="n">creating</span><span class="w"> </span><span class="n">pip</span><span class="o">-</span><span class="n">egg</span><span class="o">-</span><span class="n">info</span>\<span class="n">psycopg2</span><span class="o">.</span><span class="n">egg</span><span class="o">-</span><span class="n">info</span>

<span class="n">writing</span><span class="w"> </span><span class="n">pip</span><span class="o">-</span><span class="n">egg</span><span class="o">-</span><span class="n">info</span>\<span class="n">psycopg2</span><span class="o">.</span><span class="n">egg</span><span class="o">-</span><span class="n">info</span>\<span class="n">PKG</span><span class="o">-</span><span class="n">INFO</span>

<span class="n">writing</span><span class="w"> </span><span class="n">top</span><span class="o">-</span><span class="n">level</span><span class="w"> </span><span class="n">names</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">pip</span><span class="o">-</span><span class="n">egg</span><span class="o">-</span><span class="n">info</span>\<span class="n">psycopg2</span><span class="o">.</span><span class="n">egg</span><span class="o">-</span><span class="n">info</span>\<span class="n">top_level</span><span class="o">.</span><span class="n">txt</span>

<span class="n">writing</span><span class="w"> </span><span class="n">dependency_links</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">pip</span><span class="o">-</span><span class="n">egg</span><span class="o">-</span><span class="n">info</span>\<span class="n">psycopg2</span><span class="o">.</span><span class="n">egg</span><span class="o">-</span><span class="n">info</span>\<span class="n">dependency_links</span><span class="o">.</span><span class="n">txt</span>

<span class="n">writing</span><span class="w"> </span><span class="n">manifest</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="s1">'pip-egg-info\psycopg2.egg-info\SOURCES.txt'</span>

<span class="n">warning</span><span class="p">:</span><span class="w"> </span><span class="n">manifest_maker</span><span class="p">:</span><span class="w"> </span><span class="n">standard</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="s1">'-c'</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">found</span>

<span class="n">Error</span><span class="p">:</span><span class="w"> </span><span class="n">pg_config</span><span class="w"> </span><span class="n">executable</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">found</span><span class="o">.</span>



<span class="n">Please</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">containing</span><span class="w"> </span><span class="n">pg_config</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">PATH</span>

<span class="ow">or</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">full</span><span class="w"> </span><span class="n">executable</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">option</span><span class="p">:</span>



<span class="w">    </span><span class="n">python</span><span class="w"> </span><span class="n">setup</span><span class="o">.</span><span class="n">py</span><span class="w"> </span><span class="n">build_ext</span><span class="w"> </span><span class="o">--</span><span class="n">pg</span><span class="o">-</span><span class="n">config</span><span class="w"> </span><span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">pg_config</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="o">...</span>



<span class="ow">or</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pg_config</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="s1">'setup.cfg'</span><span class="o">.</span>

<span class="o">----------------------------------------</span>
<span class="n">Command</span><span class="w"> </span><span class="n">python</span><span class="w"> </span><span class="n">setup</span><span class="o">.</span><span class="n">py</span><span class="w"> </span><span class="n">egg_info</span><span class="w"> </span><span class="n">failed</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="mi">1</span>
<span class="n">Storing</span><span class="w"> </span><span class="n">complete</span><span class="w"> </span><span class="nb">log</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">C</span><span class="p">:</span>\<span class="n">Documents</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">Settings</span>\<span class="n">anlopes</span>\<span class="n">Application</span><span class="w"> </span><span class="n">Data</span>\<span class="n">pip</span>\<span class="n">p</span>
<span class="n">ip</span><span class="o">.</span><span class="n">log</span>
</pre></div>

<p>My question, I only need to do this to get the psycopg2 working?</p>
<div class="code"><pre class="code literal-block">python setup.py build_ext --pg-config /path/to/pg_config build ...
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p><em><strong>Note</strong> : Since a while back, there are binary wheels for Windows in PyPI,
so this should no longer be an issue for Windows users. Below are solutions
for Linux, Mac users, since lots of them find this post through web searches.</em></p>
<hr>
<h2>Option 1</h2>
<p>Install the <code>psycopg2-binary</code> PyPI package instead, it has Python wheels for
Linux and Mac OS.</p>
<div class="code"><pre class="code literal-block">pip install psycopg2-binary
</pre></div>

<hr>
<h2>Option 2</h2>
<p>Install the prerequsisites for building the <code>psycopg2</code> package from source:</p>
<h3>Debian/Ubuntu</h3>
<h4>Python 3</h4>
<div class="code"><pre class="code literal-block">sudo apt install libpq-dev python3-dev
</pre></div>

<p>You might need to install <code>python3.8-dev</code> or similar for e.g. Python 3.8.</p>
<h4>Python 2</h4>
<div class="code"><pre class="code literal-block">sudo apt install libpq-dev python-dev
</pre></div>

<p>If that's not enough, try</p>
<div class="code"><pre class="code literal-block">sudo apt install build-essential
</pre></div>

<p>or</p>
<div class="code"><pre class="code literal-block">sudo apt install postgresql-server-dev-all
</pre></div>

<p>as well before installing psycopg2 again.</p>
<h3>CentOS 6</h3>
<p>See Banjer's answer</p>
<h3>macOS</h3>
<p>See nichochar's answer</p>
<p><br></p>
<h3>Suggest</h3>
<p>On CentOS, you need the postgres dev packages:</p>
<div class="code"><pre class="code literal-block">sudo yum install python-devel postgresql-devel
</pre></div>

<p>That was the solution on CentOS 6 at least.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/bodyparser-is-deprecated-express-4/" class="u-url">bodyParser is deprecated express 4</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/bodyparser-is-deprecated-express-4/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T18:29:58+08:00" itemprop="datePublished" title="2023-02-17 18:29">2023-02-17 18:29</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am using express 4.0 and I'm aware that body parser has been taken out of
the express core, I am using the recommended replacement, however I am getting</p>
<p><code>body-parser deprecated bodyParser: use individual json/urlencoded middlewares
server.js:15:12 body-parser deprecated urlencoded: explicitly specify
"extended: true" for extended parsing node_modules/body-parser/index.js:74:29</code></p>
<p>Where do I find this supposed middlewares? or should I not be getting this
error?</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">express</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="n">require</span><span class="p">(</span><span class="s1">'express'</span><span class="p">);</span>
<span class="k">var</span><span class="w"> </span><span class="n">server</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">express</span><span class="p">();</span>
<span class="k">var</span><span class="w"> </span><span class="n">bodyParser</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">require</span><span class="p">(</span><span class="s1">'body-parser'</span><span class="p">);</span>
<span class="k">var</span><span class="w"> </span><span class="n">mongoose</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">require</span><span class="p">(</span><span class="s1">'mongoose'</span><span class="p">);</span>
<span class="k">var</span><span class="w"> </span><span class="n">passport</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">require</span><span class="p">(</span><span class="s1">'./config/passport'</span><span class="p">);</span>
<span class="k">var</span><span class="w"> </span><span class="n">routes</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">require</span><span class="p">(</span><span class="s1">'./routes'</span><span class="p">);</span>

<span class="n">mongoose</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">'mongodb://localhost/myapp'</span><span class="p">,</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="w"> </span><span class="n">throw</span><span class="w"> </span><span class="n">err</span><span class="p">;</span>
<span class="p">});</span>

<span class="n">server</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">'view engine'</span><span class="p">,</span><span class="w"> </span><span class="s1">'jade'</span><span class="p">);</span>
<span class="n">server</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">'views'</span><span class="p">,</span><span class="w"> </span><span class="n">__dirname</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">'/views'</span><span class="p">);</span>

<span class="n">server</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="n">bodyParser</span><span class="p">());</span><span class="w"> </span>
<span class="n">server</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="n">passport</span><span class="o">.</span><span class="n">initialize</span><span class="p">());</span>

<span class="o">//</span><span class="w"> </span><span class="n">Application</span><span class="w"> </span><span class="n">Level</span><span class="w"> </span><span class="n">Routes</span>
<span class="n">routes</span><span class="p">(</span><span class="n">server</span><span class="p">,</span><span class="w"> </span><span class="n">passport</span><span class="p">);</span>

<span class="n">server</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="n">express</span><span class="o">.</span><span class="k">static</span><span class="p">(</span><span class="n">__dirname</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">'/public'</span><span class="p">));</span>

<span class="n">server</span><span class="o">.</span><span class="n">listen</span><span class="p">(</span><span class="mi">3000</span><span class="p">);</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>It means that using the <code>bodyParser()</code> <strong>constructor</strong> has been deprecated, as
of 2014-06-19.</p>
<div class="code"><pre class="code literal-block">app.use(bodyParser()); //Now deprecated
</pre></div>

<p>You now need to call the methods separately</p>
<div class="code"><pre class="code literal-block">app.use(bodyParser.urlencoded());

app.use(bodyParser.json());
</pre></div>

<p>And so on.</p>
<p>If you're still getting a warning with <code>urlencoded</code> you need to use</p>
<div class="code"><pre class="code literal-block"><span class="nt">app</span><span class="p">.</span><span class="nc">use</span><span class="o">(</span><span class="nt">bodyParser</span><span class="p">.</span><span class="nc">urlencoded</span><span class="o">(</span><span class="p">{</span>
<span class="w">  </span><span class="n">extended</span><span class="p">:</span><span class="w"> </span><span class="n">true</span>
<span class="p">}</span><span class="o">));</span>
</pre></div>

<p>The <code>extended</code> config object key now needs to be explicitly passed, since it
now has no default value.</p>
<p>If you are using Express &gt;= 4.16.0, body parser has been re-added under the
methods <code>express.json()</code> and <code>express.urlencoded()</code>.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Want <strong>zero warnings</strong>? Use it like this:</p>
<div class="code"><pre class="code literal-block"><span class="o">//</span><span class="w"> </span><span class="n">Express</span><span class="w"> </span><span class="n">v4</span><span class="o">.</span><span class="mf">16.0</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">higher</span>
<span class="o">//</span><span class="w"> </span><span class="o">--------------------------</span>
<span class="k">const</span><span class="w"> </span><span class="n">express</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">require</span><span class="p">(</span><span class="s1">'express'</span><span class="p">);</span>

<span class="n">app</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="n">express</span><span class="o">.</span><span class="n">json</span><span class="p">());</span>
<span class="n">app</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="n">express</span><span class="o">.</span><span class="n">urlencoded</span><span class="p">({</span>
<span class="w">  </span><span class="n">extended</span><span class="p">:</span><span class="w"> </span><span class="bp">true</span>
<span class="p">}));</span>

<span class="o">//</span><span class="w"> </span><span class="n">For</span><span class="w"> </span><span class="n">Express</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">less</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="mf">4.16</span><span class="o">.</span><span class="mi">0</span>
<span class="o">//</span><span class="w"> </span><span class="o">------------------------------------</span>
<span class="k">const</span><span class="w"> </span><span class="n">bodyParser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">require</span><span class="p">(</span><span class="s1">'body-parser'</span><span class="p">);</span>

<span class="n">app</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="n">bodyParser</span><span class="o">.</span><span class="n">json</span><span class="p">());</span>
<span class="n">app</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="n">bodyParser</span><span class="o">.</span><span class="n">urlencoded</span><span class="p">({</span>
<span class="w">  </span><span class="n">extended</span><span class="p">:</span><span class="w"> </span><span class="bp">true</span>
<span class="p">}));</span>
</pre></div>

<p><strong>Explanation</strong> : The default value of the <code>extended</code> option has been
deprecated, meaning you need to explicitly pass true or false value.</p>
<p><strong>Note for Express 4.16.0 and higher</strong> : body parser has been re-added to
provide request body parsing support out-of-the-box.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-check-if-a-string-represents-an-int-without-using-try-except/" class="u-url">How can I check if a string represents an int, without using try/except?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-check-if-a-string-represents-an-int-without-using-try-except/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T18:29:13+08:00" itemprop="datePublished" title="2023-02-17 18:29">2023-02-17 18:29</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is there any way to tell whether a <strong>string</strong> represents an integer (e.g.,
<code>'3'</code>, <code>'-17'</code> but not <code>'3.14'</code> or <code>'asfasfas'</code>) Without using a try/except
mechanism?</p>
<div class="code"><pre class="code literal-block">is_int('3.14') == False
is_int('-7')   == True
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>If you're really just annoyed at using <code>try/except</code>s all over the place,
please just write a helper function:</p>
<div class="code"><pre class="code literal-block"><span class="nv">def</span><span class="w"> </span><span class="nv">represents_int</span><span class="ss">(</span><span class="nv">s</span><span class="ss">)</span>:
<span class="w">    </span><span class="nv">try</span>:<span class="w"> </span>
<span class="w">        </span><span class="nv">int</span><span class="ss">(</span><span class="nv">s</span><span class="ss">)</span>
<span class="w">    </span><span class="nv">except</span><span class="w"> </span><span class="nv">ValueError</span>:
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nv">False</span>
<span class="w">    </span><span class="k">else</span>:
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nv">True</span>



<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="nv">print</span><span class="ss">(</span><span class="nv">represents_int</span><span class="ss">(</span><span class="s2">"+123"</span><span class="ss">))</span>
<span class="nv">True</span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="nv">print</span><span class="ss">(</span><span class="nv">represents_int</span><span class="ss">(</span><span class="s2">"10.0"</span><span class="ss">))</span>
<span class="nv">False</span>
</pre></div>

<p>It's going to be WAY more code to exactly cover all the strings that Python
considers integers. I say just be pythonic on this one.</p>
<p><br></p>
<h3>Suggest</h3>
<p>If you're really just annoyed at using <code>try/except</code>s all over the place,
please just write a helper function:</p>
<div class="code"><pre class="code literal-block"><span class="nv">def</span><span class="w"> </span><span class="nv">represents_int</span><span class="ss">(</span><span class="nv">s</span><span class="ss">)</span>:
<span class="w">    </span><span class="nv">try</span>:<span class="w"> </span>
<span class="w">        </span><span class="nv">int</span><span class="ss">(</span><span class="nv">s</span><span class="ss">)</span>
<span class="w">    </span><span class="nv">except</span><span class="w"> </span><span class="nv">ValueError</span>:
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nv">False</span>
<span class="w">    </span><span class="k">else</span>:
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nv">True</span>



<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="nv">print</span><span class="ss">(</span><span class="nv">represents_int</span><span class="ss">(</span><span class="s2">"+123"</span><span class="ss">))</span>
<span class="nv">True</span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="nv">print</span><span class="ss">(</span><span class="nv">represents_int</span><span class="ss">(</span><span class="s2">"10.0"</span><span class="ss">))</span>
<span class="nv">False</span>
</pre></div>

<p>It's going to be WAY more code to exactly cover all the strings that Python
considers integers. I say just be pythonic on this one.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-882.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-880.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2395) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2395.html">
<link rel="prev" href="index-2396.html" type="text/html">
<link rel="next" href="index-2394.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-use-shell-variables-in-an-awk-script/" class="u-url">How do I use shell variables in an awk script?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-use-shell-variables-in-an-awk-script/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T12:56:39+08:00" itemprop="datePublished" title="2023-03-04 12:56">2023-03-04 12:56</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I found some ways to pass external shell variables to an <code>awk</code> script, but I'm
confused about <code>'</code> and <code>"</code>.</p>
<p>First, I tried with a shell script:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span><span class="nv">v</span><span class="o">=</span>123test
$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$v</span>
123test
$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">"</span><span class="nv">$v</span><span class="s2">"</span>
123test
</pre></div>

<p>Then tried awk:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>awk<span class="w"> </span><span class="s1">'BEGIN{print "'</span><span class="nv">$v</span><span class="s1">'"}'</span>
$<span class="w"> </span>123test
$<span class="w"> </span>awk<span class="w"> </span><span class="s1">'BEGIN{print '</span><span class="s2">"</span><span class="nv">$v</span><span class="s2">"</span><span class="s1">'}'</span>
$<span class="w"> </span><span class="m">123</span>
</pre></div>

<p>Why is the difference?</p>
<p>Lastly I tried this:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>awk<span class="w"> </span><span class="s1">'BEGIN{print " '</span><span class="nv">$v</span><span class="s1">' "}'</span>
$<span class="w">  </span>123test
$<span class="w"> </span>awk<span class="w"> </span><span class="s1">'BEGIN{print '</span><span class="w"> </span><span class="s2">"</span><span class="nv">$v</span><span class="s2">"</span><span class="w"> </span><span class="s1">'}'</span>
awk:<span class="w"> </span>cmd.<span class="w"> </span>line:1:<span class="w"> </span>BEGIN<span class="o">{</span>print
awk:<span class="w"> </span>cmd.<span class="w"> </span>line:1:<span class="w">             </span>^<span class="w"> </span>unexpected<span class="w"> </span>newline<span class="w"> </span>or<span class="w"> </span>end<span class="w"> </span>of<span class="w"> </span>string
</pre></div>

<p>I'm confused about this.</p>
<p><br><br></p>
<h2>Answer</h2>
<blockquote>
<h2>Getting shell variables into <code>awk</code> may be done in several ways. Some are</h2>
<p>better than others. This should cover most of them. If you have a comment,
please leave below. v1.5</p>
</blockquote>
<hr>
<h3>Using <code>-v</code> (The best way, most portable)</h3>
<p>Use the <code>-v</code> option: (P.S. use a space after <code>-v</code> or it will be less portable.
E.g., <code>awk -v var=</code> not <code>awk -vvar=</code>)</p>
<div class="code"><pre class="code literal-block"><span class="n">variable</span><span class="o">=</span><span class="s2">"line one</span><span class="se">\n</span><span class="s2">line two"</span>
<span class="n">awk</span><span class="w"> </span><span class="o">-</span><span class="n">v</span><span class="w"> </span><span class="k">var</span><span class="o">=</span><span class="s2">"$variable"</span><span class="w"> </span><span class="s1">'BEGIN {print var}'</span>
<span class="n">line</span><span class="w"> </span><span class="n">one</span>
<span class="n">line</span><span class="w"> </span><span class="n">two</span>
</pre></div>

<p>This should be compatible with most <code>awk</code>, and the variable is available in
the <code>BEGIN</code> block as well:</p>
<p>If you have multiple variables:</p>
<div class="code"><pre class="code literal-block"><span class="n">awk</span><span class="w"> </span><span class="o">-</span><span class="n">v</span><span class="w"> </span><span class="n">a</span><span class="o">=</span><span class="s2">"$var1"</span><span class="w"> </span><span class="o">-</span><span class="n">v</span><span class="w"> </span><span class="n">b</span><span class="o">=</span><span class="s2">"$var2"</span><span class="w"> </span><span class="s1">'BEGIN {print a,b}'</span>
</pre></div>

<p><strong>Warning</strong>. As Ed Morton writes, escape sequences will be interpreted so <code>\t</code>
becomes a real <code>tab</code> and not <code>\t</code> if that is what you search for. Can be
solved by using <code>ENVIRON[]</code> or access it via <code>ARGV[]</code></p>
<p><strong>PS</strong> If you have vertical bar or other regexp meta characters as separator
like <code>|?(</code> etc, they must be double escaped. Example 3 vertical bars <code>|||</code>
becomes <code>-F'\\|\\|\\|'</code>. You can also use <code>-F"[|][|][|]"</code>.</p>
<blockquote>
<p>Example on getting data from a program/function inn to <code>awk</code> (here date is
used)</p>
</blockquote>
<div class="code"><pre class="code literal-block"><span class="n">awk</span> <span class="o">-</span><span class="n">v</span> <span class="n">time</span><span class="o">=</span><span class="s">"$(date +"</span><span class="err">%</span><span class="n">F</span> <span class="err">%</span><span class="n">H</span><span class="p">:</span><span class="err">%</span><span class="n">M</span><span class="s">" -d '-1 minute')"</span> <span class="s">'BEGIN {print time}'</span>
</pre></div>

<blockquote>
<p>Example of testing the contents of a shell variable as a regexp:</p>
</blockquote>
<div class="code"><pre class="code literal-block"><span class="n">awk</span><span class="w"> </span><span class="o">-</span><span class="n">v</span><span class="w"> </span><span class="k">var</span><span class="o">=</span><span class="s2">"$variable"</span><span class="w"> </span><span class="s1">'$0 ~ var{print "found it"}'</span>
</pre></div>

<hr>
<h3>Variable after code block</h3>
<p>Here we get the variable after the <code>awk</code> code. This will work fine as long as
you do not need the variable in the <code>BEGIN</code> block:</p>
<div class="code"><pre class="code literal-block"><span class="n">variable</span><span class="o">=</span><span class="s2">"line one</span><span class="se">\n</span><span class="s2">line two"</span>
<span class="n">echo</span><span class="w"> </span><span class="s2">"input data"</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">awk</span><span class="w"> </span><span class="s1">'{print var}'</span><span class="w"> </span><span class="k">var</span><span class="o">=</span><span class="s2">"${variable}"</span>
<span class="ow">or</span>
<span class="n">awk</span><span class="w"> </span><span class="s1">'{print var}'</span><span class="w"> </span><span class="k">var</span><span class="o">=</span><span class="s2">"${variable}"</span><span class="w"> </span><span class="n">file</span>
</pre></div>

<ul>
<li>Adding multiple variables:</li>
</ul>
<p><code>awk '{print a,b,$0}' a="$var1" b="$var2" file</code></p>
<ul>
<li>In this way we can also set different Field Separator <code>FS</code> for each file.</li>
</ul>
<p><code>awk 'some code' FS=',' file1.txt FS=';' file2.ext</code></p>
<ul>
<li>Variable after the code block will not work for the <code>BEGIN</code> block:</li>
</ul>
<p><code>echo "input data" | awk 'BEGIN {print var}' var="${variable}"</code></p>
<hr>
<h3>Here-string</h3>
<p>Variable can also be added to <code>awk</code> using a here-string from shells that
support them (including Bash):</p>
<div class="code"><pre class="code literal-block"><span class="n">awk</span><span class="w"> </span><span class="s1">'{print $0}'</span><span class="w"> </span><span class="o">&lt;&lt;&lt;</span><span class="w"> </span><span class="s2">"$variable"</span>
<span class="n">test</span>
</pre></div>

<p>This is the same as:</p>
<div class="code"><pre class="code literal-block"><span class="n">printf</span><span class="w"> </span><span class="s1">'</span><span class="si">%s</span><span class="s1">'</span><span class="w"> </span><span class="s2">"$variable"</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">awk</span><span class="w"> </span><span class="s1">'{print $0}'</span>
</pre></div>

<p>P.S. this treats the variable as a file input.</p>
<hr>
<h3>
<code>ENVIRON</code> input</h3>
<p>As TrueY writes, you can use the <code>ENVIRON</code> to print <strong>Environment Variables</strong>.
Setting a variable before running AWK, you can print it out like this:</p>
<div class="code"><pre class="code literal-block"><span class="n">X</span><span class="o">=</span><span class="n">MyVar</span>
<span class="n">awk</span> <span class="s">'BEGIN{print ENVIRON["X"],ENVIRON["SHELL"]}'</span>
<span class="n">MyVar</span> <span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">bash</span>
</pre></div>

<hr>
<h3>
<code>ARGV</code> input</h3>
<p>As Steven Penny writes, you can use <code>ARGV</code> to get the data into awk:</p>
<div class="code"><pre class="code literal-block"><span class="n">v</span><span class="o">=</span><span class="s">"my data"</span>
<span class="n">awk</span> <span class="s">'BEGIN {print ARGV[1]}'</span> <span class="s">"$v"</span>
<span class="n">my</span> <span class="n">data</span>
</pre></div>

<p>To get the data into the code itself, not just the BEGIN:</p>
<div class="code"><pre class="code literal-block"><span class="n">v</span><span class="o">=</span><span class="s2">"my data"</span>
<span class="n">echo</span><span class="w"> </span><span class="s2">"test"</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">awk</span><span class="w"> </span><span class="s1">'BEGIN{var=ARGV[1];ARGV[1]=""} {print var, $0}'</span><span class="w"> </span><span class="s2">"$v"</span>
<span class="n">my</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">test</span>
</pre></div>

<hr>
<h3>Variable within the code: USE WITH CAUTION</h3>
<p>You can use a variable within the <code>awk</code> code, but it's messy and hard to read,
and as <code>Charles Duffy</code> points out, this version may also be a victim of code
injection. If someone adds bad stuff to the variable, it will be executed as
part of the <code>awk</code> code.</p>
<p>This works by extracting the variable within the code, so it becomes a part of
it.</p>
<p>If you want to make an <code>awk</code> that changes dynamically with use of variables,
you can do it this way, but DO NOT use it for normal variables.</p>
<div class="code"><pre class="code literal-block"><span class="n">variable</span><span class="o">=</span><span class="s2">"line one</span><span class="se">\n</span><span class="s2">line two"</span>
<span class="n">awk</span><span class="w"> </span><span class="s1">'BEGIN {print "'</span><span class="s2">"$variable"</span><span class="s1">'"}'</span>
<span class="n">line</span><span class="w"> </span><span class="n">one</span>
<span class="n">line</span><span class="w"> </span><span class="n">two</span>
</pre></div>

<p>Here is an example of code injection:</p>
<div class="code"><pre class="code literal-block"><span class="n">variable</span><span class="o">=</span><span class="s1">'line one</span><span class="se">\n</span><span class="s1">line two" ; for (i=1;i&lt;=1000;++i) print i"'</span>
<span class="n">awk</span><span class="w"> </span><span class="s1">'BEGIN {print "'</span><span class="s2">"$variable"</span><span class="s1">'"}'</span>
<span class="n">line</span><span class="w"> </span><span class="n">one</span>
<span class="n">line</span><span class="w"> </span><span class="n">two</span>
<span class="mi">1</span>
<span class="mi">2</span>
<span class="mi">3</span>
<span class="o">.</span>
<span class="o">.</span>
<span class="mi">1000</span>
</pre></div>

<p>You can add lots of commands to <code>awk</code> this way. Even make it crash with non
valid commands.</p>
<p>One valid use of this approach, though, is when you want to pass a symbol to
awk to be applied to some input, e.g. a simple calculator:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>calc<span class="o">()</span><span class="w"> </span><span class="o">{</span><span class="w"> </span>awk<span class="w"> </span>-v<span class="w"> </span><span class="nv">x</span><span class="o">=</span><span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span><span class="w"> </span>-v<span class="w"> </span><span class="nv">z</span><span class="o">=</span><span class="s2">"</span><span class="nv">$3</span><span class="s2">"</span><span class="w"> </span><span class="s1">'BEGIN{ print x '</span><span class="s2">"</span><span class="nv">$2</span><span class="s2">"</span><span class="s1">' z }'</span><span class="p">;</span><span class="w"> </span><span class="o">}</span>

$<span class="w"> </span>calc<span class="w"> </span><span class="m">2</span>.7<span class="w"> </span><span class="s1">'+'</span><span class="w"> </span><span class="m">3</span>.4
<span class="m">6</span>.1

$<span class="w"> </span>calc<span class="w"> </span><span class="m">2</span>.7<span class="w"> </span><span class="s1">'*'</span><span class="w"> </span><span class="m">3</span>.4
<span class="m">9</span>.18
</pre></div>

<p>There is no way to do that using an awk variable populated with the value of a
shell variable, you NEED the shell variable to expand to become part of the
text of the awk script before awk interprets it. (see comment below by Ed M.)</p>
<hr>
<h3>Extra info:</h3>
<h4>Use of double quote</h4>
<p>It's always good to double quote variable <code>"$variable"</code><br>
If not, multiple lines will be added as a long single line.</p>
<p>Example:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="o">=</span><span class="s2">"Line one</span>
<span class="n">This</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">two</span><span class="s2">"</span>

<span class="n">echo</span><span class="w"> </span><span class="o">$</span><span class="k">var</span>
<span class="n">Line</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">two</span>

<span class="n">echo</span><span class="w"> </span><span class="s2">"$var"</span>
<span class="n">Line</span><span class="w"> </span><span class="n">one</span>
<span class="n">This</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">two</span>
</pre></div>

<p>Other errors you can get without double quote:</p>
<div class="code"><pre class="code literal-block"><span class="n">variable</span><span class="o">=</span><span class="s2">"line one</span><span class="se">\n</span><span class="s2">line two"</span>
<span class="n">awk</span><span class="w"> </span><span class="o">-</span><span class="n">v</span><span class="w"> </span><span class="k">var</span><span class="o">=$</span><span class="n">variable</span><span class="w"> </span><span class="s1">'BEGIN {print var}'</span>
<span class="n">awk</span><span class="p">:</span><span class="w"> </span><span class="n">cmd</span><span class="o">.</span><span class="w"> </span><span class="n">line</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="w"> </span><span class="n">one</span>\<span class="n">nline</span>
<span class="n">awk</span><span class="p">:</span><span class="w"> </span><span class="n">cmd</span><span class="o">.</span><span class="w"> </span><span class="n">line</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="w">    </span><span class="o">^</span><span class="w"> </span><span class="n">backslash</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="n">character</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">line</span>
<span class="n">awk</span><span class="p">:</span><span class="w"> </span><span class="n">cmd</span><span class="o">.</span><span class="w"> </span><span class="n">line</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="w"> </span><span class="n">one</span>\<span class="n">nline</span>
<span class="n">awk</span><span class="p">:</span><span class="w"> </span><span class="n">cmd</span><span class="o">.</span><span class="w"> </span><span class="n">line</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="w">    </span><span class="o">^</span><span class="w"> </span><span class="n">syntax</span><span class="w"> </span><span class="n">error</span>
</pre></div>

<p>And with single quote, it does not expand the value of the variable:</p>
<div class="code"><pre class="code literal-block"><span class="n">awk</span><span class="w"> </span><span class="o">-</span><span class="n">v</span><span class="w"> </span><span class="k">var</span><span class="o">=</span><span class="s1">'$variable'</span><span class="w"> </span><span class="s1">'BEGIN {print var}'</span>
<span class="o">$</span><span class="n">variable</span>
</pre></div>

<h4>More info about AWK and variables</h4>
<p>Read this faq.</p>
<p><br></p>
<h3>Suggest</h3>
<p>It seems that the good-old <code>ENVIRON</code> awk built-in hash is not mentioned at
all. An example of its usage:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span><span class="nv">X</span><span class="o">=</span>Solaris<span class="w"> </span>awk<span class="w"> </span><span class="s1">'BEGIN{print ENVIRON["X"], ENVIRON["TERM"]}'</span>
Solaris<span class="w"> </span>rxvt
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/sql-inner-join-with-3-tables/" class="u-url">SQL Inner-join with 3 tables?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/sql-inner-join-with-3-tables/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T12:55:19+08:00" itemprop="datePublished" title="2023-03-04 12:55">2023-03-04 12:55</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm trying to join 3 tables in a view; here is the situation:</p>
<p>I have a table that contains information of students who are applying to live
on this College Campus. I have another table that lists the Hall Preferences
(3 of them) for each Student. But each of these preferences are merely an ID
Number, and the ID Number has a corresponding Hall Name in a third table (did
not design this database...).</p>
<p>Pretty much, I have <code>INNER JOIN</code> on the table with their preferences, and
their information, the result is something like...</p>
<div class="code"><pre class="code literal-block"> John Doe | 923423 | Incoming Student | 005
</pre></div>

<p>Where <code>005</code> would be the <code>HallID</code>. So Now I want to match that <code>HallID</code> to a
third table, where this table contains a <code>HallID</code> and <code>HallName</code>.</p>
<p>So pretty much, I want my result to be like...</p>
<div class="code"><pre class="code literal-block"> John Doe | 923423 | Incoming Student | Foley Hall &lt;---(INSTEAD OF 005)
</pre></div>

<p>Here is what I currently have:</p>
<div class="code"><pre class="code literal-block">SELECT
  s.StudentID, s.FName, 
  s.LName, s.Gender, s.BirthDate, s.Email, 
  r.HallPref1, r.HallPref2, r.HallPref3
FROM
  dbo.StudentSignUp AS s 
  INNER JOIN RoomSignUp.dbo.Incoming_Applications_Current AS r 
    ON s.StudentID = r.StudentID 
  INNER JOIN HallData.dbo.Halls AS h 
    ON r.HallPref1 = h.HallID
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>You can do the following (I guessed on table fields,etc)</p>
<div class="code"><pre class="code literal-block">SELECT s.studentname
    , s.studentid
    , s.studentdesc
    , h.hallname
FROM students s
INNER JOIN hallprefs hp
    on s.studentid = hp.studentid
INNER JOIN halls h
    on hp.hallid = h.hallid
</pre></div>

<p>Based on your request for multiple halls you could do it this way. You just
join on your Hall table multiple times for each room pref id:</p>
<div class="code"><pre class="code literal-block">SELECT     s.StudentID
    , s.FName
    , s.LName
    , s.Gender
    , s.BirthDate
    , s.Email
    , r.HallPref1
    , h1.hallName as Pref1HallName
    , r.HallPref2 
    , h2.hallName as Pref2HallName
    , r.HallPref3
    , h3.hallName as Pref3HallName
FROM  dbo.StudentSignUp AS s 
INNER JOIN RoomSignUp.dbo.Incoming_Applications_Current AS r 
    ON s.StudentID = r.StudentID 
INNER JOIN HallData.dbo.Halls AS h1 
    ON r.HallPref1 = h1.HallID
INNER JOIN HallData.dbo.Halls AS h2
    ON r.HallPref2 = h2.HallID
INNER JOIN HallData.dbo.Halls AS h3
    ON r.HallPref3 = h3.HallID
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>If you have 3 tables with the same <code>ID</code> to be joined, I think it would be like
this:</p>
<div class="code"><pre class="code literal-block">SELECT * FROM table1 a
JOIN table2 b ON a.ID = b.ID
JOIN table3 c ON a.ID = c.ID
</pre></div>

<p>Just replace <code>*</code> with what you want to get from the tables.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-list-all-the-deleted-files-in-a-git-repository/" class="u-url">How can I list all the deleted files in a Git repository?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-list-all-the-deleted-files-in-a-git-repository/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T12:53:56+08:00" itemprop="datePublished" title="2023-03-04 12:53">2023-03-04 12:53</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I know Git stores information of when files get deleted and I am able to check
individual commits to see which files have been removed, but is there a
command that would generate a list of every deleted file across a repository's
lifespan?</p>
<p><br><br></p>
<h2>Answer</h2>
<div class="code"><pre class="code literal-block">git log --diff-filter=D --summary
</pre></div>

<p>See Find and restore a deleted file in a Git repository</p>
<p>If you don't want all the information about which commit they were removed in,
you can just add a <code>grep delete</code> in there.</p>
<div class="code"><pre class="code literal-block">git log --diff-filter=D --summary | grep delete
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>This does what you want, I think:</p>
<div class="code"><pre class="code literal-block">git log --all --pretty=format: --name-only --diff-filter=D | sort -u
</pre></div>

<p>... which I've just taken more-or-less directly from this other answer.</p>
<p>This prints only file paths without other info:</p>
<div class="code"><pre class="code literal-block">BETA.md
CONTRIBUTING.md
files/en-us/api/file_api/index.html
files/en-us/games/index/index.md
files/en-us/games/visual-js_game_engine/index.html
files/en-us/games/visual_js_ge/index.html
files/en-us/games/visual_typescript_game_engine/index.html
...
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2396.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2394.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2665) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2665.html">
<link rel="prev" href="index-2666.html" type="text/html">
<link rel="next" href="index-2664.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-subtract-one-list-from-another/" class="u-url">How do I subtract one list from another?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-subtract-one-list-from-another/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T08:46:39+08:00" itemprop="datePublished" title="2023-03-05 08:46">2023-03-05 08:46</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I want to take the difference between lists <code>x</code> and <code>y</code>:</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="mi">0</span>,<span class="w"> </span><span class="mi">1</span>,<span class="w"> </span><span class="mi">2</span>,<span class="w"> </span><span class="mi">3</span>,<span class="w"> </span><span class="mi">4</span>,<span class="w"> </span><span class="mi">5</span>,<span class="w"> </span><span class="mi">6</span>,<span class="w"> </span><span class="mi">7</span>,<span class="w"> </span><span class="mi">8</span>,<span class="w"> </span><span class="mi">9</span>]
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="nv">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="mi">1</span>,<span class="w"> </span><span class="mi">3</span>,<span class="w"> </span><span class="mi">5</span>,<span class="w"> </span><span class="mi">7</span>,<span class="w"> </span><span class="mi">9</span>]<span class="w">  </span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nv">y</span>
#<span class="w"> </span><span class="nv">should</span><span class="w"> </span><span class="k">return</span><span class="w"> </span>[<span class="mi">0</span>,<span class="w"> </span><span class="mi">2</span>,<span class="w"> </span><span class="mi">4</span>,<span class="w"> </span><span class="mi">6</span>,<span class="w"> </span><span class="mi">8</span>]
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>Use a list comprehension to compute the difference while maintaining the
original order from <code>x</code>:</p>
<div class="code"><pre class="code literal-block">[<span class="nv">item</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="nv">not</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">y</span>]
</pre></div>

<hr>
<p>If you don't need list properties (e.g. ordering), use a set difference, as
the other answers suggest:</p>
<div class="code"><pre class="code literal-block">list(set(x) - set(y))
</pre></div>

<hr>
<p>To allow <code>x - y</code> infix syntax, override <code>__sub__</code> on a class inheriting from
<code>list</code>:</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span> <span class="n">MyList</span>(<span class="n">list</span>):
    <span class="n">def</span> <span class="n">__init__</span>(<span class="nb">self</span>, *<span class="nb">args</span>):
        <span class="n">super</span>(<span class="n">MyList</span>, <span class="nb">self</span>).<span class="n">__init__</span>(<span class="nb">args</span>)

    <span class="n">def</span> <span class="n">__sub__</span>(<span class="nb">self</span>, <span class="n">other</span>):
        <span class="k">return</span> <span class="nb">self</span>.<span class="n">__class__</span>(*[<span class="nb">item</span> <span class="k">for</span> <span class="nb">item</span> <span class="nb">in</span> <span class="nb">self</span> <span class="k">if</span> <span class="nb">item</span> <span class="nb">not</span> <span class="nb">in</span> <span class="n">other</span>])
</pre></div>

<p>Usage:</p>
<div class="code"><pre class="code literal-block">x = MyList(1, 2, 3, 4)
y = MyList(2, 5, 2)
z = x - y
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Use set difference</p>
<div class="code"><pre class="code literal-block">&gt;&gt;&gt; z = list(set(x) - set(y))
&gt;&gt;&gt; z
[0, 8, 2, 4, 6]
</pre></div>

<p>Or you might just have x and y be sets so you don't have to do any
conversions.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/resetting-a-multi-stage-form-with-jquery/" class="u-url">Resetting a multi-stage form with jQuery</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/resetting-a-multi-stage-form-with-jquery/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T08:45:18+08:00" itemprop="datePublished" title="2023-03-05 08:45">2023-03-05 08:45</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a form with a standard reset button coded thusly:</p>
<div class="code"><pre class="code literal-block">&lt;input type="reset" class="button standard" value="Clear" /&gt;
</pre></div>

<p>Trouble is, said form is of the multi-stage sort, so if a user fills out a
stage &amp; then returns later, the 'remembered' values for the various fields
won't reset when the Clear button is clicked.</p>
<p>I'm thinking that attaching a jQuery function to loop over all the fields and
clear them 'manually' would do the trick. I'm already using jQuery within the
form, but am only just getting up to speed &amp; so am not sure how to go about
this, other than individually referencing each field by ID, which doesn't seem
very efficient.</p>
<p>TIA for any help.</p>
<p><br><br></p>
<h2>Answer</h2>
<h3>updated on March 2012.</h3>
<p>So, two years after I originally answered this question I come back to see
that it has pretty much turned into a big mess. I feel it's about time I come
back to it and make my answer truly correct since it is the most upvoted +
accepted.</p>
<p>For the record, Titi's answer is wrong as it is not what the original poster
asked for - it is correct that it is possible to reset a form using the native
reset() method, but this question is trying to clear a form off of remembered
values that would remain in the form if you reset it this way. This is why a
"manual" reset is needed. I assume most people ended up in this question from
a Google search and are truly looking for the reset() method, but it does not
work for the specific case the OP is talking about.</p>
<p>My <strong>original</strong> answer was this:</p>
<div class="code"><pre class="code literal-block"><span class="c1">// not correct, use answer below</span>
<span class="nf">$</span><span class="p">(</span><span class="err">'</span><span class="p">:</span><span class="no">input</span><span class="err">'</span><span class="p">,</span><span class="err">'</span><span class="c1">#myform')</span>
<span class="na">.not</span><span class="p">(</span><span class="err">'</span><span class="p">:</span><span class="no">button</span><span class="p">,</span><span class="w"> </span><span class="p">:</span><span class="no">submit</span><span class="p">,</span><span class="w"> </span><span class="p">:</span><span class="no">reset</span><span class="p">,</span><span class="w"> </span><span class="p">:</span><span class="no">hidden</span><span class="err">'</span><span class="p">)</span>
<span class="na">.val</span><span class="p">(</span><span class="err">''</span><span class="p">)</span>
<span class="na">.removeAttr</span><span class="p">(</span><span class="err">'</span><span class="no">checked</span><span class="err">'</span><span class="p">)</span>
<span class="na">.removeAttr</span><span class="p">(</span><span class="err">'</span><span class="no">selected</span><span class="err">'</span><span class="p">)</span><span class="c1">;</span>
</pre></div>

<p>Which might work for a lot of cases, including for the OP, but as pointed out
in the comments and in other answers, will clear radio/checkbox elements from
any value attributes.</p>
<p>A more <strong>correct</strong> answer (but not perfect) is:</p>
<div class="code"><pre class="code literal-block"><span class="nt">function</span><span class="w"> </span><span class="nt">resetForm</span><span class="o">($</span><span class="nt">form</span><span class="o">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">$form.find('</span><span class="n">input</span><span class="p">:</span><span class="kc">text</span><span class="p">,</span><span class="w"> </span><span class="n">input</span><span class="o">:</span><span class="n">password</span><span class="p">,</span><span class="w"> </span><span class="n">input</span><span class="o">:</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">select</span><span class="p">,</span><span class="w"> </span><span class="n">textarea</span><span class="s1">').val('');</span>
<span class="s1">    $form.find('</span><span class="n">input</span><span class="o">:</span><span class="n">radio</span><span class="p">,</span><span class="w"> </span><span class="n">input</span><span class="o">:</span><span class="n">checkbox</span><span class="s1">')</span>
<span class="s1">         .removeAttr('</span><span class="n">checked</span><span class="s1">').removeAttr('</span><span class="n">selected</span><span class="s1">');</span>
<span class="s1">}</span>

<span class="s1">// to call, use:</span>
<span class="s1">resetForm($('</span><span class="mh">#myform</span><span class="s1">')); // by id, recommended</span>
<span class="s1">resetForm($('</span><span class="n">form</span><span class="cp">[</span><span class="nx">name</span><span class="o">=</span><span class="nx">myName</span><span class="cp">]</span><span class="err">'</span><span class="p">));</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">by</span><span class="w"> </span><span class="err">name</span>
</pre></div>

<p>Using the <code>:text</code>, <code>:radio</code>, etc. selectors by themselves is considered bad
practice by jQuery as they end up evaluating to <code>*:text</code> which makes it take
much longer than it should. I do prefer the whitelist approach and wish I had
used it in my original answer. Anyhow, by specifying the <code>input</code> part of the
selector, plus the cache of the form element, this should make it the best
performing answer here.</p>
<p>This answer might still have some flaws if people's default for select
elements is not an option that has a blank value, but it is certainly as
generic as it is going to get and this would need to be handled on a case-by-
case basis.</p>
<p><br></p>
<h3>Suggest</h3>
<p><strong>Simply do this</strong></p>
<div class="code"><pre class="code literal-block">$('#myform')[0].reset();
</pre></div>

<p><strong>More information</strong></p>
<p>Setting <code>myinput.val('')</code> might not emulate "reset" 100% if you have an input
like this:</p>
<div class="code"><pre class="code literal-block">&lt;input name="percent" value="50"/&gt;
</pre></div>

<p>Eg calling <code>myinput.val('')</code> on an input with a default value of 50 would set
it to an empty string, whereas calling <code>myform.reset()</code> would reset it to its
initial value of 50.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-use-string-substring-in-swift-4-substring-to-is-deprecated-please-use-string-slicing-subscript-with-a-partial-range-from-operator/" class="u-url">How can I use String substring in Swift 4? 'substring(to:)' is deprecated: Please use String slicing subscript with a 'partial range from' operator</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-use-string-substring-in-swift-4-substring-to-is-deprecated-please-use-string-slicing-subscript-with-a-partial-range-from-operator/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T08:44:16+08:00" itemprop="datePublished" title="2023-03-05 08:44">2023-03-05 08:44</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have the following simple code written in Swift 3:</p>
<div class="code"><pre class="code literal-block">let str = "Hello, playground"
let index = str.index(of: ",")!
let newStr = str.substring(to: index)
</pre></div>

<p>From Xcode 9 beta 5, I get the following warning:</p>
<blockquote>
<p>'<code>substring(to:)</code>' is deprecated: Please use <code>String</code> slicing subscript with
a 'partial range from' operator.</p>
</blockquote>
<p>How can this <strong>slicing subscript with partial range from</strong> be used in Swift 4?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You should <strong>leave one side empty</strong> , hence the name "partial range".</p>
<div class="code"><pre class="code literal-block">let newStr = str[..&lt;index]
</pre></div>

<p>The same stands for <strong>partial range from</strong> operators, just leave the other
side empty:</p>
<div class="code"><pre class="code literal-block">let newStr = str[index...]
</pre></div>

<p>Keep in mind that these range operators return a <code>Substring</code>. If you want to
convert it to a string, use <code>String</code>'s initialization function:</p>
<div class="code"><pre class="code literal-block">let newStr = String(str[..&lt;index])
</pre></div>

<p>You can read more about the new substrings here.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Convert Substring (Swift 3) to String Slicing (Swift 4)</p>
<p>Examples In Swift 3, 4:</p>
<div class="code"><pre class="code literal-block">let newStr = str.substring(to: index) // Swift 3
let newStr = String(str[..&lt;index]) // Swift 4
</pre></div>

<hr>
<div class="code"><pre class="code literal-block">let newStr = str.substring(from: index) // Swift 3
let newStr = String(str[index...]) // Swift 4
</pre></div>

<hr>
<div class="code"><pre class="code literal-block"><span class="n">let</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">firstIndex</span><span class="p">..</span><span class="o">&lt;</span><span class="n">secondIndex</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="k">If</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">range</span>
<span class="n">let</span><span class="w"> </span><span class="n">newStr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">str</span><span class="p">.</span><span class="nf">substring</span><span class="p">(</span><span class="k">with</span><span class="err">:</span><span class="w"> </span><span class="k">range</span><span class="p">)</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">Swift</span><span class="w"> </span><span class="mi">3</span>
<span class="n">let</span><span class="w"> </span><span class="n">newStr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">String</span><span class="p">(</span><span class="nf">str</span><span class="o">[</span><span class="n">range</span><span class="o">]</span><span class="p">)</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">Swift</span><span class="w"> </span><span class="mi">4</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2666.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2664.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

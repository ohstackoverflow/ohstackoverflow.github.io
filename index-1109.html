<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1109) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1109.html">
<link rel="prev" href="index-1110.html" type="text/html">
<link rel="next" href="index-1108.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-list-the-symbols-in-a-so-file/" class="u-url">How do I list the symbols in a .so file</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-list-the-symbols-in-a-so-file/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T01:27:32+08:00" itemprop="datePublished" title="2023-02-18 01:27">2023-02-18 01:27</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How do I list the symbols being exported from a .so file? If possible, I'd
also like to know their source (e.g. if they are pulled in from a static
library).</p>
<p>I'm using gcc 4.0.2, if that makes a difference.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The standard tool for listing symbols is <code>nm</code>, you can use it simply like
this:</p>
<div class="code"><pre class="code literal-block">nm -gD yourLib.so
</pre></div>

<p>If you want to see symbols of a C++ library, add the "-C" option which
demangle the symbols (it's far more readable demangled).</p>
<div class="code"><pre class="code literal-block">nm -gDC yourLib.so
</pre></div>

<p>If your .so file is in elf format, you have two options:</p>
<p>Either <code>objdump</code> (<code>-C</code> is also useful for demangling C++):</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>objdump<span class="w"> </span>-TC<span class="w"> </span>libz.so

libz.so:<span class="w">     </span>file<span class="w"> </span>format<span class="w"> </span>elf64-x86-64

DYNAMIC<span class="w"> </span>SYMBOL<span class="w"> </span>TABLE:
<span class="m">0000000000002010</span><span class="w"> </span>l<span class="w">    </span>d<span class="w">  </span>.init<span class="w">  </span><span class="m">0000000000000000</span><span class="w">              </span>.init
<span class="m">0000000000000000</span><span class="w">      </span>DF<span class="w"> </span>*UND*<span class="w">  </span><span class="m">0000000000000000</span><span class="w">  </span>GLIBC_2.2.5<span class="w"> </span>free
<span class="m">0000000000000000</span><span class="w">      </span>DF<span class="w"> </span>*UND*<span class="w">  </span><span class="m">0000000000000000</span><span class="w">  </span>GLIBC_2.2.5<span class="w"> </span>__errno_location
<span class="m">0000000000000000</span><span class="w">  </span>w<span class="w">   </span>D<span class="w">  </span>*UND*<span class="w">  </span><span class="m">0000000000000000</span><span class="w">              </span>_ITM_deregisterTMCloneTable
</pre></div>

<p>Or use <code>readelf</code>:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>readelf<span class="w"> </span>-Ws<span class="w"> </span>libz.so
Symbol<span class="w"> </span>table<span class="w"> </span><span class="s1">'.dynsym'</span><span class="w"> </span>contains<span class="w"> </span><span class="m">112</span><span class="w"> </span>entries:
<span class="w">   </span>Num:<span class="w">    </span>Value<span class="w">          </span>Size<span class="w"> </span>Type<span class="w">    </span>Bind<span class="w">   </span>Vis<span class="w">      </span>Ndx<span class="w"> </span>Name
<span class="w">     </span><span class="m">0</span>:<span class="w"> </span><span class="m">0000000000000000</span><span class="w">     </span><span class="m">0</span><span class="w"> </span>NOTYPE<span class="w">  </span>LOCAL<span class="w">  </span>DEFAULT<span class="w">  </span>UND
<span class="w">     </span><span class="m">1</span>:<span class="w"> </span><span class="m">0000000000002010</span><span class="w">     </span><span class="m">0</span><span class="w"> </span>SECTION<span class="w"> </span>LOCAL<span class="w">  </span>DEFAULT<span class="w">   </span><span class="m">10</span>
<span class="w">     </span><span class="m">2</span>:<span class="w"> </span><span class="m">0000000000000000</span><span class="w">     </span><span class="m">0</span><span class="w"> </span>FUNC<span class="w">    </span>GLOBAL<span class="w"> </span>DEFAULT<span class="w">  </span>UND<span class="w"> </span>free@GLIBC_2.2.5<span class="w"> </span><span class="o">(</span><span class="m">14</span><span class="o">)</span>
<span class="w">     </span><span class="m">3</span>:<span class="w"> </span><span class="m">0000000000000000</span><span class="w">     </span><span class="m">0</span><span class="w"> </span>FUNC<span class="w">    </span>GLOBAL<span class="w"> </span>DEFAULT<span class="w">  </span>UND<span class="w"> </span>__errno_location@GLIBC_2.2.5<span class="w"> </span><span class="o">(</span><span class="m">14</span><span class="o">)</span>
<span class="w">     </span><span class="m">4</span>:<span class="w"> </span><span class="m">0000000000000000</span><span class="w">     </span><span class="m">0</span><span class="w"> </span>NOTYPE<span class="w">  </span>WEAK<span class="w">   </span>DEFAULT<span class="w">  </span>UND<span class="w"> </span>_ITM_deregisterTMCloneTable
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>If your <code>.so</code> file is in elf format, you can use readelf program to extract
symbol information from the binary. This command will give you the symbol
table:</p>
<div class="code"><pre class="code literal-block">readelf -Ws /usr/lib/libexample.so
</pre></div>

<p>You only should extract those that are defined in this <code>.so</code> file, not in the
libraries referenced by it. Seventh column should contain a number in this
case. You can extract it by using a simple regex:</p>
<div class="code"><pre class="code literal-block">readelf -Ws /usr/lib/libstdc++.so.6 | grep '^\([[:space:]]\+[^[:space:]]\+\)\{6\}[[:space:]]\+[[:digit:]]\+'
</pre></div>

<p>or, as proposed by Caspin,:</p>
<div class="code"><pre class="code literal-block">readelf -Ws /usr/lib/libstdc++.so.6 | awk '{print $8}';
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/htmlentities-vs-htmlspecialchars/" class="u-url">htmlentities() vs. htmlspecialchars()</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/htmlentities-vs-htmlspecialchars/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T01:27:07+08:00" itemprop="datePublished" title="2023-02-18 01:27">2023-02-18 01:27</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What are the differences between <code>htmlspecialchars()</code> and <code>htmlentities()</code>.
When should I use one or the other?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>From the PHP documentation for htmlentities:</p>
<blockquote>
<p>This function is identical to <code>htmlspecialchars()</code> in all ways, except with
<code>htmlentities()</code>, all characters which have HTML character entity
equivalents are translated into these entities.</p>
</blockquote>
<p>From the PHP documentation for htmlspecialchars:</p>
<blockquote>
<p>Certain characters have special significance in HTML, and should be
represented by HTML entities if they are to preserve their meanings. This
function returns a string with some of these conversions made; the
translations made are those most useful for everyday web programming. If you
require all HTML character entities to be translated, use <code>htmlentities()</code>
instead.</p>
</blockquote>
<p>The difference is what gets encoded. The choices are everything (entities) or
"special" characters, like ampersand, double and single quotes, less than, and
greater than (specialchars).</p>
<p>I prefer to use <code>htmlspecialchars</code> whenever possible.</p>
<p>For example:</p>
<div class="code"><pre class="code literal-block"><span class="w">    </span><span class="nt">echo</span><span class="w"> </span><span class="nt">htmlentities</span><span class="o">(</span><span class="s1">'&lt;Il était une fois un être&gt;.'</span><span class="o">);</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="nt">Output</span><span class="o">:</span><span class="w"> </span><span class="o">&amp;</span><span class="nt">lt</span><span class="o">;</span><span class="nt">Il</span><span class="w"> </span><span class="o">&amp;</span><span class="nt">eacute</span><span class="o">;</span><span class="nt">tait</span><span class="w"> </span><span class="nt">une</span><span class="w"> </span><span class="nt">fois</span><span class="w"> </span><span class="nt">un</span><span class="w"> </span><span class="o">&amp;</span><span class="nt">ecirc</span><span class="o">;</span><span class="nt">tre</span><span class="o">&amp;</span><span class="nt">gt</span><span class="o">;.</span>
<span class="w">    </span><span class="o">//</span><span class="w">                </span><span class="o">^^^^^^^^</span><span class="w">                 </span><span class="o">^^^^^^^</span>

<span class="w">    </span><span class="nt">echo</span><span class="w"> </span><span class="nt">htmlspecialchars</span><span class="o">(</span><span class="s1">'&lt;Il était une fois un être&gt;.'</span><span class="o">);</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="nt">Output</span><span class="o">:</span><span class="w"> </span><span class="o">&amp;</span><span class="nt">lt</span><span class="o">;</span><span class="nt">Il</span><span class="w"> </span><span class="nt">était</span><span class="w"> </span><span class="nt">une</span><span class="w"> </span><span class="nt">fois</span><span class="w"> </span><span class="nt">un</span><span class="w"> </span><span class="nt">être</span><span class="o">&amp;</span><span class="nt">gt</span><span class="o">;.</span>
<span class="w">    </span><span class="o">//</span><span class="w">                </span><span class="o">^</span><span class="w">                 </span><span class="o">^</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>From the PHP documentation for htmlentities:</p>
<blockquote>
<p>This function is identical to <code>htmlspecialchars()</code> in all ways, except with
<code>htmlentities()</code>, all characters which have HTML character entity
equivalents are translated into these entities.</p>
</blockquote>
<p>From the PHP documentation for htmlspecialchars:</p>
<blockquote>
<p>Certain characters have special significance in HTML, and should be
represented by HTML entities if they are to preserve their meanings. This
function returns a string with some of these conversions made; the
translations made are those most useful for everyday web programming. If you
require all HTML character entities to be translated, use <code>htmlentities()</code>
instead.</p>
</blockquote>
<p>The difference is what gets encoded. The choices are everything (entities) or
"special" characters, like ampersand, double and single quotes, less than, and
greater than (specialchars).</p>
<p>I prefer to use <code>htmlspecialchars</code> whenever possible.</p>
<p>For example:</p>
<div class="code"><pre class="code literal-block"><span class="w">    </span><span class="nt">echo</span><span class="w"> </span><span class="nt">htmlentities</span><span class="o">(</span><span class="s1">'&lt;Il était une fois un être&gt;.'</span><span class="o">);</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="nt">Output</span><span class="o">:</span><span class="w"> </span><span class="o">&amp;</span><span class="nt">lt</span><span class="o">;</span><span class="nt">Il</span><span class="w"> </span><span class="o">&amp;</span><span class="nt">eacute</span><span class="o">;</span><span class="nt">tait</span><span class="w"> </span><span class="nt">une</span><span class="w"> </span><span class="nt">fois</span><span class="w"> </span><span class="nt">un</span><span class="w"> </span><span class="o">&amp;</span><span class="nt">ecirc</span><span class="o">;</span><span class="nt">tre</span><span class="o">&amp;</span><span class="nt">gt</span><span class="o">;.</span>
<span class="w">    </span><span class="o">//</span><span class="w">                </span><span class="o">^^^^^^^^</span><span class="w">                 </span><span class="o">^^^^^^^</span>

<span class="w">    </span><span class="nt">echo</span><span class="w"> </span><span class="nt">htmlspecialchars</span><span class="o">(</span><span class="s1">'&lt;Il était une fois un être&gt;.'</span><span class="o">);</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="nt">Output</span><span class="o">:</span><span class="w"> </span><span class="o">&amp;</span><span class="nt">lt</span><span class="o">;</span><span class="nt">Il</span><span class="w"> </span><span class="nt">était</span><span class="w"> </span><span class="nt">une</span><span class="w"> </span><span class="nt">fois</span><span class="w"> </span><span class="nt">un</span><span class="w"> </span><span class="nt">être</span><span class="o">&amp;</span><span class="nt">gt</span><span class="o">;.</span>
<span class="w">    </span><span class="o">//</span><span class="w">                </span><span class="o">^</span><span class="w">                 </span><span class="o">^</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-do-the-makefile-symbols-and-mean/" class="u-url">What do the makefile symbols $@ and $&lt; mean?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-do-the-makefile-symbols-and-mean/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T01:26:41+08:00" itemprop="datePublished" title="2023-02-18 01:26">2023-02-18 01:26</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <div class="code"><pre class="code literal-block"><span class="nf">CC</span><span class="err">=</span><span class="no">g</span><span class="err">++</span>
<span class="nf">CFLAGS</span><span class="err">=</span><span class="p">-</span><span class="no">c</span><span class="w"> </span><span class="p">-</span><span class="no">Wall</span>
<span class="nf">LDFLAGS</span><span class="err">=</span>
<span class="nf">SOURCES</span><span class="err">=</span><span class="no">main.cpp</span><span class="w"> </span><span class="no">hello.cpp</span><span class="w"> </span><span class="no">factorial.cpp</span>
<span class="nf">OBJECTS</span><span class="err">=</span><span class="no">$</span><span class="p">(</span><span class="no">SOURCES</span><span class="p">:.</span><span class="no">cpp</span><span class="err">=</span><span class="no">.o</span><span class="p">)</span>
<span class="nf">EXECUTABLE</span><span class="err">=</span><span class="no">hello</span>

<span class="nl">all:</span><span class="w"> </span><span class="nf">$</span><span class="p">(</span><span class="no">SOURCES</span><span class="p">)</span><span class="w"> </span><span class="no">$</span><span class="p">(</span><span class="no">EXECUTABLE</span><span class="p">)</span>

<span class="nf">$</span><span class="p">(</span><span class="no">EXECUTABLE</span><span class="p">):</span><span class="w"> </span><span class="no">$</span><span class="p">(</span><span class="no">OBJECTS</span><span class="p">)</span>
<span class="w">    </span><span class="nf">$</span><span class="p">(</span><span class="no">CC</span><span class="p">)</span><span class="w"> </span><span class="no">$</span><span class="p">(</span><span class="no">LDFLAGS</span><span class="p">)</span><span class="w"> </span><span class="no">$</span><span class="p">(</span><span class="no">OBJECTS</span><span class="p">)</span><span class="w"> </span><span class="p">-</span><span class="no">o</span><span class="w"> </span><span class="no">$@</span>

<span class="nl">.cpp.o:</span>
<span class="w">    </span><span class="nf">$</span><span class="p">(</span><span class="no">CC</span><span class="p">)</span><span class="w"> </span><span class="no">$</span><span class="p">(</span><span class="no">CFLAGS</span><span class="p">)</span><span class="w"> </span><span class="no">$</span><span class="err">&lt;</span><span class="w"> </span><span class="p">-</span><span class="no">o</span><span class="w"> </span><span class="no">$@</span>
</pre></div>

<p>What do the <code>$@</code> and <code>$&lt;</code> do exactly?</p>
<p><br><br></p>
<h2>Answer</h2>
<p><code>$@</code> is the name of the target being generated, and <code>$&lt;</code> the first
prerequisite (usually a source file). You can find a list of all these special
variables in the GNU Make manual.</p>
<p>For example, consider the following declaration:</p>
<div class="code"><pre class="code literal-block"><span class="n">all</span><span class="o">:</span><span class="w"> </span><span class="n">library</span><span class="o">.</span><span class="na">cpp</span><span class="w"> </span><span class="n">main</span><span class="o">.</span><span class="na">cpp</span>
</pre></div>

<p>In this case:</p>
<ul>
<li>
<code>$@</code> evaluates to <code>all</code>
</li>
<li>
<code>$&lt;</code> evaluates to <code>library.cpp</code>
</li>
<li>
<code>$^</code> evaluates to <code>library.cpp main.cpp</code>
</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<p>From Managing Projects with GNU Make, 3rd Edition, p. 16 (it's under <em>GNU Free
Documentation License</em> ):</p>
<blockquote>
<p><em>Automatic variables</em> are set by <code>make</code> after a rule is matched. They
provide access to elements from the target and prerequisite lists so you
don’t have to explicitly specify any filenames. They are very useful for
avoiding code duplication, but are critical when defining more general
pattern rules.</p>
<p>There are seven “core” automatic variables:</p>
<ul>
<li>
<p><code>$@</code>: The filename representing the target.</p>
</li>
<li>
<p><code>$%</code>: The filename element of an archive member specification.</p>
</li>
<li>
<p><code>$&lt;</code>: The filename of the first prerequisite.</p>
</li>
<li>
<p><code>$?</code>: The names of all prerequisites that are newer than the target,
separated by spaces.</p>
</li>
<li>
<p><code>$^</code>: The filenames of all the prerequisites, separated by spaces. This
list has duplicate filenames removed since for most uses, such as compiling,
copying, etc., duplicates are not wanted.</p>
</li>
<li>
<p><code>$+</code>: Similar to <code>$^</code>, this is the names of all the prerequisites
separated by spaces, except that <code>$+</code> includes duplicates. This variable was
created for specific situations such as arguments to linkers where duplicate
values have meaning.</p>
</li>
<li>
<p><code>$*</code>: The stem of the target filename. A stem is typically a filename
without its suffix. Its use outside of pattern rules is discouraged.</p>
</li>
</ul>
<p>In addition, each of the above variables has two variants for compatibility
with other makes. One variant returns only the directory portion of the
value. This is indicated by appending a “D” to the symbol, <code>$(@D)</code>, <code>$(&lt;D)</code>,
etc. The other variant returns only the file portion of the value. This is
indicated by appending an “F” to the symbol, <code>$(@F)</code>, <code>$(&lt;F)</code>, etc. Note
that these variant names are more than one character long and so must be
enclosed in parentheses. GNU make provides a more readable alternative with
the dir and notdir functions.</p>
</blockquote>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1110.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1108.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

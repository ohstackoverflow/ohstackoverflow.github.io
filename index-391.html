<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 391) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-391.html">
<link rel="prev" href="index-392.html" type="text/html">
<link rel="next" href="index-390.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-the-difference-between-old-style-and-new-style-classes-in-python/" class="u-url">What is the difference between old style and new style classes in Python?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-the-difference-between-old-style-and-new-style-classes-in-python/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T05:40:16+08:00" itemprop="datePublished" title="2023-02-17 05:40">2023-02-17 05:40</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What is the difference between old style and new style classes in Python? When
should I use one or the other?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>From <em>New-style and classic classes</em> :</p>
<blockquote>
<p><strong>Up to Python 2.1, old-style classes were the only flavour available to the
user.</strong></p>
<p>The concept of (old-style) class is unrelated to the concept of type: if <code>x</code>
is an instance of an old-style class, then <code>x.__class__</code> designates the
class of <code>x</code>, but <code>type(x)</code> is always <code>&lt;type 'instance'&gt;</code>.</p>
<p>This reflects the fact that all old-style instances, independently of their
class, are implemented with a single built-in type, called instance.</p>
<p><strong>New-style classes were introduced in Python 2.2 to unify the concepts of
class and type</strong>. A new-style class is simply a user-defined type, no more,
no less.</p>
<p>If x is an instance of a new-style class, then <code>type(x)</code> is typically the
same as <code>x.__class__</code> (although this is not guaranteed – a new-style class
instance is permitted to override the value returned for <code>x.__class__</code>).</p>
<p><strong>The major motivation for introducing new-style classes is to provide a
unified object model with a full meta-model</strong>.</p>
<p>It also has a number of immediate benefits, like the ability to subclass
most built-in types, or the introduction of "descriptors", which enable
computed properties.</p>
<p><strong>For compatibility reasons, classes are still old-style by default</strong>.</p>
<p>New-style classes are created by specifying another new-style class (i.e. a
type) as a parent class, or the "top-level type" object if no other parent
is needed.</p>
<p>The behaviour of new-style classes differs from that of old-style classes in
a number of important details in addition to what type returns.</p>
<p>Some of these changes are fundamental to the new object model, like the way
special methods are invoked. Others are "fixes" that could not be
implemented before for compatibility concerns, like the method resolution
order in case of multiple inheritance.</p>
<p><strong>Python 3 only has new-style classes</strong>.</p>
<p>No matter if you subclass from <code>object</code> or not, classes are new-style in
Python 3.</p>
</blockquote>
<p><br></p>
<h3>Suggest</h3>
<p><strong>Declaration-wise:</strong></p>
<p>New-style classes inherit from <em>object</em> , or from another new-style class.</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span> <span class="n">NewStyleClass</span>(<span class="n">object</span>):
    <span class="nb">pass</span>

<span class="k">class</span> <span class="n">AnotherNewStyleClass</span>(<span class="n">NewStyleClass</span>):
    <span class="nb">pass</span>
</pre></div>

<p>Old-style classes don't.</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span> <span class="n">OldStyleClass</span>():
    <span class="nb">pass</span>
</pre></div>

<p><strong>Python 3 Note:</strong></p>
<p>Python 3 doesn't support old style classes, so either form noted above results
in a new-style class.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-an-idempotent-operation/" class="u-url">What is an idempotent operation?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-an-idempotent-operation/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T05:39:51+08:00" itemprop="datePublished" title="2023-02-17 05:39">2023-02-17 05:39</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What is an idempotent operation?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>In computing, an idempotent operation is one that has no additional effect if
it is called more than once with the same input parameters. For example,
removing an item from a set can be considered an idempotent operation on the
set.</p>
<p>In mathematics, an idempotent operation is one where <em>f(f(x)) = f(x)</em>. For
example, the <code>abs()</code> function is idempotent because <code>abs(abs(x)) = abs(x)</code> for
all <code>x</code>.</p>
<p>These slightly different definitions can be reconciled by considering that <em>x</em>
in the mathematical definition represents the state of an object, and <em>f</em> is
an operation that may mutate that object. For example, consider the Python
<code>set</code> and its <code>discard</code> method. The <code>discard</code> method removes an element from a
set, and does nothing if the element does not exist. So:</p>
<div class="code"><pre class="code literal-block">my_set.discard(x)
</pre></div>

<p>has exactly the same effect as doing the same operation twice:</p>
<div class="code"><pre class="code literal-block">my_set.discard(x)
my_set.discard(x)
</pre></div>

<p>Idempotent operations are often used in the design of network protocols, where
a request to perform an operation is guaranteed to happen at least once, but
might also happen more than once. If the operation is idempotent, then there
is no harm in performing the operation two or more times.</p>
<p>See the Wikipedia article on idempotence for more information.</p>
<hr>
<p>The above answer previously had some incorrect and misleading examples.
Comments below written before April 2014 refer to an older revision.</p>
<p><br></p>
<h3>Suggest</h3>
<p>An idempotent operation can be repeated an arbitrary number of times and the
result will be the same as if it had been done only once. In arithmetic,
adding zero to a number is idempotent.</p>
<p>Idempotence is talked about a lot in the context of "RESTful" web services.
REST seeks to maximally leverage HTTP to give programs access to web content,
and is usually set in contrast to SOAP-based web services, which just tunnel
remote procedure call style services inside HTTP requests and responses.</p>
<p>REST organizes a web application into "resources" (like a Twitter user, or a
Flickr image) and then uses the HTTP verbs of POST, PUT, GET, and DELETE to
create, update, read, and delete those resources.</p>
<p>Idempotence plays an important role in REST. If you GET a representation of a
REST resource (eg, GET a jpeg image from Flickr), and the operation fails, you
can just repeat the GET again and again until the operation succeeds. To the
web service, it doesn't matter how many times the image is gotten. Likewise,
if you use a RESTful web service to update your Twitter account information,
you can PUT the new information as many times as it takes in order to get
confirmation from the web service. PUT-ing it a thousand times is the same as
PUT-ing it once. Similarly DELETE-ing a REST resource a thousand times is the
same as deleting it once. Idempotence thus makes it a lot easier to construct
a web service that's resilient to communication errors.</p>
<p>Further reading: RESTful Web Services, by Richardson and Ruby (idempotence is
discussed on page 103-104), and Roy Fielding's PhD dissertation on REST.
Fielding was one of the authors of HTTP 1.1, RFC-2616, which talks about
idempotence in section 9.1.2.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/double-colon-operator-in-java-8/" class="u-url">:: (double colon) operator in Java 8</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/double-colon-operator-in-java-8/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T05:39:23+08:00" itemprop="datePublished" title="2023-02-17 05:39">2023-02-17 05:39</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I was exploring the <strong>Java 8</strong> source and found this particular part of code
very surprising:</p>
<div class="code"><pre class="code literal-block"><span class="c1">// Defined in IntPipeline.java</span>
<span class="p">@</span><span class="n">Override</span>
<span class="n">public</span><span class="w"> </span><span class="n">final</span><span class="w"> </span><span class="n">OptionalInt</span><span class="w"> </span><span class="n">reduce</span><span class="p">(</span><span class="n">IntBinaryOperator</span><span class="w"> </span><span class="n">op</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">evaluate</span><span class="p">(</span><span class="n">ReduceOps</span><span class="p">.</span><span class="n">makeInt</span><span class="p">(</span><span class="n">op</span><span class="p">));</span>
<span class="p">}</span>

<span class="p">@</span><span class="n">Override</span>
<span class="n">public</span><span class="w"> </span><span class="n">final</span><span class="w"> </span><span class="n">OptionalInt</span><span class="w"> </span><span class="nb">max</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">reduce</span><span class="p">(</span><span class="n">Math</span><span class="p">::</span><span class="nb">max</span><span class="p">);</span><span class="w"> </span><span class="c1">// This is the gotcha line</span>
<span class="p">}</span>

<span class="c1">// Defined in Math.java</span>
<span class="n">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="nb">max</span><span class="p">(</span><span class="nb">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">&gt;</span><span class="p">=</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span>?<span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>Is <code>Math::max</code> something like a method pointer? How does a normal <code>static</code>
method get converted to <code>IntBinaryOperator</code>?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Usually, one would call the <code>reduce</code> method using <code>Math.max(int, int)</code> as
follows:</p>
<div class="code"><pre class="code literal-block"><span class="nv">reduce</span><span class="ss">(</span><span class="nv">new</span><span class="w"> </span><span class="nv">IntBinaryOperator</span><span class="ss">()</span><span class="w"> </span>{
<span class="w">    </span><span class="nv">int</span><span class="w"> </span><span class="nv">applyAsInt</span><span class="ss">(</span><span class="nv">int</span><span class="w"> </span><span class="nv">left</span>,<span class="w"> </span><span class="nv">int</span><span class="w"> </span><span class="nv">right</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nv">Math</span>.<span class="nv">max</span><span class="ss">(</span><span class="nv">left</span>,<span class="w"> </span><span class="nv">right</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span>}
}<span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p>That requires a lot of syntax for just calling <code>Math.max</code>. That's where lambda
expressions come into play. Since Java 8 it is allowed to do the same thing in
a much shorter way:</p>
<div class="code"><pre class="code literal-block"><span class="n">reduce</span><span class="p">((</span><span class="n">int</span><span class="w"> </span><span class="kr">left</span><span class="p">,</span><span class="w"> </span><span class="n">int</span><span class="w"> </span><span class="kr">right</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Math</span><span class="p">.</span><span class="nf">max</span><span class="p">(</span><span class="kr">left</span><span class="p">,</span><span class="w"> </span><span class="kr">right</span><span class="p">));</span>
</pre></div>

<p>How does this work? The java compiler "detects", that you want to implement a
method that accepts two <code>int</code>s and returns one <code>int</code>. This is equivalent to
the formal parameters of the one and only method of interface
<code>IntBinaryOperator</code> (the parameter of method <code>reduce</code> you want to call). So
the compiler does the rest for you - it just assumes you want to implement
<code>IntBinaryOperator</code>.</p>
<p>But as <code>Math.max(int, int)</code> itself fulfills the formal requirements of
<code>IntBinaryOperator</code>, it can be used directly. Because Java 7 does not have any
syntax that allows a method itself to be passed as an argument (you can only
pass method results, but never method references), the <code>::</code> syntax was
introduced in Java 8 to reference methods:</p>
<div class="code"><pre class="code literal-block"><span class="nt">reduce</span><span class="o">(</span><span class="nt">Math</span><span class="p">::</span><span class="nd">max</span><span class="o">);</span>
</pre></div>

<p>Note that this will be interpreted by the compiler, not by the JVM at runtime!
Although it produces different bytecodes for all three code snippets, they are
semantically equal, so the last two can be considered to be short (and
probably more efficient) versions of the <code>IntBinaryOperator</code> implementation
above!</p>
<p>(See also Translation of Lambda Expressions)</p>
<p><br></p>
<h3>Suggest</h3>
<p><code>::</code> is called a <em>method reference</em>. It is basically a reference to a single
method. I.e., it refers to an existing method by name.</p>
<p><strong>Short Explanation</strong> :</p>
<p>Below is an example of a reference to a static method:</p>
<div class="code"><pre class="code literal-block"><span class="nt">class</span><span class="w"> </span><span class="nt">Hey</span><span class="w"> </span><span class="p">{</span>
<span class="w">     </span><span class="err">public</span><span class="w"> </span><span class="err">static</span><span class="w"> </span><span class="err">double</span><span class="w"> </span><span class="err">square(double</span><span class="w"> </span><span class="err">num){</span>
<span class="w">        </span><span class="err">return</span><span class="w"> </span><span class="err">Math.pow(num,</span><span class="w"> </span><span class="err">2)</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="err">}</span>

<span class="nt">Function</span><span class="o">&lt;</span><span class="nt">Double</span><span class="o">,</span><span class="w"> </span><span class="nt">Double</span><span class="o">&gt;</span><span class="w"> </span><span class="nt">square</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">Hey</span><span class="p">::</span><span class="nd">square</span><span class="o">;</span>
<span class="nt">double</span><span class="w"> </span><span class="nt">ans</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">square</span><span class="p">.</span><span class="nc">apply</span><span class="o">(</span><span class="nt">23d</span><span class="o">);</span>
</pre></div>

<p><code>square</code> can be passed around just like object references and triggered when
needed. In fact, it can be just as easily used as a reference to "normal"
methods of objects as <code>static</code> ones. For example:</p>
<div class="code"><pre class="code literal-block"><span class="nt">class</span><span class="w"> </span><span class="nt">Hey</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">public</span><span class="w"> </span><span class="err">double</span><span class="w"> </span><span class="err">square(double</span><span class="w"> </span><span class="err">num)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="err">return</span><span class="w"> </span><span class="err">Math.pow(num,</span><span class="w"> </span><span class="err">2)</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="err">}</span>

<span class="nt">Hey</span><span class="w"> </span><span class="nt">hey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">new</span><span class="w"> </span><span class="nt">Hey</span><span class="o">();</span>
<span class="nt">Function</span><span class="o">&lt;</span><span class="nt">Double</span><span class="o">,</span><span class="w"> </span><span class="nt">Double</span><span class="o">&gt;</span><span class="w"> </span><span class="nt">square</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">hey</span><span class="p">::</span><span class="nd">square</span><span class="o">;</span>
<span class="nt">double</span><span class="w"> </span><span class="nt">ans</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">square</span><span class="p">.</span><span class="nc">apply</span><span class="o">(</span><span class="nt">23d</span><span class="o">);</span>
</pre></div>

<p><code>Function</code> above is a <strong>functional interface</strong>. To fully understand <code>::</code>, it
is important to understand functional interfaces as well. Plainly, a
functional interface is an interface with just one abstract method.</p>
<p>Examples of functional interfaces include <code>Runnable</code>, <code>Callable</code>, and
<code>ActionListener</code>.</p>
<p><code>Function</code> above is a functional interface with just one method: <code>apply</code>. It
takes one argument and produces a result.</p>
<hr>
<p>The reason why <code>::</code>s are awesome is that:</p>
<blockquote>
<p>Method references are expressions which have the same treatment as lambda
expressions (...), but instead of providing a method body, they refer an
existing method by name.</p>
</blockquote>
<p>E.g., instead of writing the lambda body</p>
<div class="code"><pre class="code literal-block"><span class="kr">Function</span><span class="o">&lt;</span><span class="n">Double</span><span class="p">,</span><span class="w"> </span><span class="n">Double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">square</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Double</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
</pre></div>

<p>You can simply do</p>
<div class="code"><pre class="code literal-block"><span class="nt">Function</span><span class="o">&lt;</span><span class="nt">Double</span><span class="o">,</span><span class="w"> </span><span class="nt">Double</span><span class="o">&gt;</span><span class="w"> </span><span class="nt">square</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">Hey</span><span class="p">::</span><span class="nd">square</span><span class="o">;</span>
</pre></div>

<p>At runtime, these two <code>square</code> methods behave exactly the same as each other.
The bytecode may or may not be the same (though, for the above case, the same
bytecode is generated; compile the above and check with <code>javap -c</code>).</p>
<p>The only major criterion to satisfy is: the method you provide should have a
similar signature to the method of the functional interface you use as object
reference.</p>
<p>The below is illegal:</p>
<div class="code"><pre class="code literal-block"><span class="nt">Supplier</span><span class="o">&lt;</span><span class="nt">Boolean</span><span class="o">&gt;</span><span class="w"> </span><span class="nt">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">Hey</span><span class="p">::</span><span class="nd">square</span><span class="o">;</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="nt">illegal</span>
</pre></div>

<p><code>square</code> expects an argument and returns a <code>double</code>. The <code>get</code> method in
Supplier returns a value, but it does not take an argument. Thus, this results
in an error.</p>
<p>A method reference refers to the method of a functional interface. (As
mentioned, functional interfaces can have only one method each.)</p>
<p>Some more examples: the <code>accept</code> method in Consumer takes an input, but it
doesn't return anything.</p>
<div class="code"><pre class="code literal-block"><span class="nt">Consumer</span><span class="o">&lt;</span><span class="nt">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="nt">b1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">System</span><span class="p">::</span><span class="nd">exit</span><span class="o">;</span><span class="w">   </span><span class="o">//</span><span class="w"> </span><span class="nt">void</span><span class="w"> </span><span class="nt">exit</span><span class="o">(</span><span class="nt">int</span><span class="w"> </span><span class="nt">status</span><span class="o">)</span>
<span class="nt">Consumer</span><span class="o">&lt;</span><span class="nt">String</span><span class="cp">[]</span><span class="o">&gt;</span><span class="w"> </span><span class="nt">b2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">Arrays</span><span class="p">::</span><span class="nd">sort</span><span class="o">;</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="nt">void</span><span class="w"> </span><span class="nt">sort</span><span class="o">(</span><span class="nt">Object</span><span class="cp">[]</span><span class="w"> </span><span class="nt">a</span><span class="o">)</span>
<span class="nt">Consumer</span><span class="o">&lt;</span><span class="nt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="nt">b3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">MyProgram</span><span class="p">::</span><span class="nd">main</span><span class="o">;</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="nt">void</span><span class="w"> </span><span class="nt">main</span><span class="o">(</span><span class="nt">String</span><span class="o">...</span><span class="w"> </span><span class="nt">args</span><span class="o">)</span>

<span class="nt">class</span><span class="w"> </span><span class="nt">Hey</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">public</span><span class="w"> </span><span class="err">double</span><span class="w"> </span><span class="err">getRandom()</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="err">return</span><span class="w"> </span><span class="err">Math.random()</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="err">}</span>

<span class="nt">Callable</span><span class="o">&lt;</span><span class="nt">Double</span><span class="o">&gt;</span><span class="w"> </span><span class="nt">call</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">hey</span><span class="p">::</span><span class="nd">getRandom</span><span class="o">;</span>
<span class="nt">Supplier</span><span class="o">&lt;</span><span class="nt">Double</span><span class="o">&gt;</span><span class="w"> </span><span class="nt">call2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">hey</span><span class="p">::</span><span class="nd">getRandom</span><span class="o">;</span>
<span class="nt">DoubleSupplier</span><span class="w"> </span><span class="nt">sup</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">hey</span><span class="p">::</span><span class="nd">getRandom</span><span class="o">;</span>
<span class="o">//</span><span class="w"> </span><span class="nt">Supplier</span><span class="w"> </span><span class="nt">is</span><span class="w"> </span><span class="nt">functional</span><span class="w"> </span><span class="nt">interface</span><span class="w"> </span><span class="nt">that</span><span class="w"> </span><span class="nt">takes</span><span class="w"> </span><span class="nt">no</span><span class="w"> </span><span class="nt">argument</span><span class="w"> </span><span class="nt">and</span><span class="w"> </span><span class="nt">gives</span><span class="w"> </span><span class="nt">a</span><span class="w"> </span><span class="nt">result</span>
</pre></div>

<p>Above, <code>getRandom</code> doesn't take any argument and returns a <code>double</code>. So any
functional interface that satisfies the criteria of: take no argument and
return <code>double</code> can be used.</p>
<p>Another example:</p>
<div class="code"><pre class="code literal-block"><span class="nt">Set</span><span class="o">&lt;</span><span class="nt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="nt">set</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">new</span><span class="w"> </span><span class="nt">HashSet</span><span class="o">&lt;&gt;();</span>
<span class="nt">set</span><span class="p">.</span><span class="nc">addAll</span><span class="o">(</span><span class="nt">Arrays</span><span class="p">.</span><span class="nc">asList</span><span class="o">(</span><span class="s2">"leo"</span><span class="o">,</span><span class="s2">"bale"</span><span class="o">,</span><span class="s2">"hanks"</span><span class="o">));</span>
<span class="nt">Predicate</span><span class="o">&lt;</span><span class="nt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="nt">pred</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">set</span><span class="p">::</span><span class="nd">contains</span><span class="o">;</span>
<span class="nt">boolean</span><span class="w"> </span><span class="nt">exists</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">pred</span><span class="p">.</span><span class="nc">test</span><span class="o">(</span><span class="s2">"leo"</span><span class="o">);</span>
</pre></div>

<p><strong>In case of parameterized types</strong> :</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span><span class="w"> </span><span class="n">Param</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">T</span><span class="w"> </span><span class="n">elem</span><span class="p">;</span>
<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">get</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">elem</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="nb nb-Type">void</span><span class="w"> </span><span class="n">set</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">elem</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">this</span><span class="o">.</span><span class="n">elem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">elem</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;</span><span class="w"> </span><span class="n">E</span><span class="w"> </span><span class="n">returnSame</span><span class="p">(</span><span class="n">E</span><span class="w"> </span><span class="n">elem</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">elem</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="n">Supplier</span><span class="o">&lt;</span><span class="n">Param</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Param</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="p">::</span><span class="n">new</span><span class="p">;</span>
<span class="n">Param</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">param</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">obj</span><span class="o">.</span><span class="n">get</span><span class="p">();</span>
<span class="n">Consumer</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">param</span><span class="p">::</span><span class="n">set</span><span class="p">;</span>
<span class="n">Supplier</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">param</span><span class="p">::</span><span class="n">get</span><span class="p">;</span>

<span class="n">Function</span><span class="o">&lt;</span><span class="nb nb-Type">String</span><span class="p">,</span><span class="w"> </span><span class="nb nb-Type">String</span><span class="o">&gt;</span><span class="w"> </span><span class="k">func</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Param</span><span class="p">::</span><span class="o">&lt;</span><span class="nb nb-Type">String</span><span class="o">&gt;</span><span class="n">returnSame</span><span class="p">;</span>
</pre></div>

<p>Method references can have different styles, but fundamentally they all mean
the same thing and can simply be visualized as lambdas:</p>
<ol>
<li>A static method (<code>ClassName::methName</code>)</li>
<li>An instance method of a particular object (<code>instanceRef::methName</code>)</li>
<li>A super method of a particular object (<code>super::methName</code>)</li>
<li>An instance method of an arbitrary object of a particular type (<code>ClassName::methName</code>)</li>
<li>A class constructor reference (<code>ClassName::new</code>)</li>
<li>An array constructor reference (<code>TypeName[]::new</code>)</li>
</ol>
<p>For further reference, see <em>State of the Lambda</em>.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-392.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-390.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

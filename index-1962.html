<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1962) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1962.html">
<link rel="prev" href="index-1963.html" type="text/html">
<link rel="next" href="index-1961.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/a-regular-expression-to-exclude-a-word-string/" class="u-url">A regular expression to exclude a word/string</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/a-regular-expression-to-exclude-a-word-string/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T13:32:16+08:00" itemprop="datePublished" title="2023-03-03 13:32">2023-03-03 13:32</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a regular expression as follows:</p>
<div class="code"><pre class="code literal-block"><span class="o">^/</span><span class="p">[</span><span class="nv">a</span><span class="o">-</span><span class="nv">z0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">+</span><span class="p">$</span>
</pre></div>

<p>This matches strings such as <code>/hello</code> or <code>/hello123</code>.</p>
<p>However, I would like it to exclude a couple of string values such as
<code>/ignoreme</code> and <code>/ignoreme2</code>.</p>
<p>I've tried a few variants but can't seem to get any to work!</p>
<p>My latest feeble attempt was</p>
<div class="code"><pre class="code literal-block"><span class="o">^/</span><span class="p">(((</span>?<span class="o">!</span><span class="nv">ignoreme</span><span class="p">)</span><span class="o">|</span><span class="p">(</span>?<span class="o">!</span><span class="nv">ignoreme2</span><span class="p">))[</span><span class="nv">a</span><span class="o">-</span><span class="nv">z0</span><span class="o">-</span><span class="mi">9</span><span class="p">])</span><span class="o">+</span><span class="p">$</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>Here's yet another way (using a negative look-ahead):</p>
<div class="code"><pre class="code literal-block"><span class="o">^/</span><span class="p">(</span>?<span class="o">!</span><span class="nv">ignoreme</span><span class="o">|</span><span class="nv">ignoreme2</span><span class="o">|</span><span class="nv">ignoremeN</span><span class="p">)([</span><span class="nv">a</span><span class="o">-</span><span class="nv">z0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">+</span><span class="p">)$</span>
</pre></div>

<p>Note: There's only one capturing expression: <code>([a-z0-9]+)</code>.</p>
<p><br></p>
<h3>Suggest</h3>
<p>This should do it:</p>
<div class="code"><pre class="code literal-block">^/\b([a-z0-9]+)\b(?&lt;!ignoreme|ignoreme2|ignoreme3)
</pre></div>

<p>You can add as much ignored words as you like, here is a simple PHP
implementation:</p>
<div class="code"><pre class="code literal-block"><span class="n">$ignoredWords</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="p">('</span><span class="n">ignoreme</span><span class="p">',</span><span class="w"> </span><span class="p">'</span><span class="n">ignoreme2</span><span class="p">',</span><span class="w"> </span><span class="p">'</span><span class="n">ignoreme</span><span class="p">...');</span>

<span class="n">preg_match</span><span class="p">('</span><span class="o">~^/</span><span class="n">\b([a-z0-9]+)\b(?&lt;!'</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="n">implode</span><span class="p">(</span><span class="sc">'|'</span><span class="p">,</span><span class="w"> </span><span class="n">array_map</span><span class="p">('</span><span class="n">preg_quote</span><span class="p">',</span><span class="w"> </span><span class="n">$ignoredWords</span><span class="p">))</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">')</span><span class="o">~</span><span class="n">i</span><span class="p">',</span><span class="w"> </span><span class="n">$string</span><span class="p">);</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/can-a-foreign-key-be-null-and-or-duplicate/" class="u-url">Can a foreign key be NULL and/or duplicate?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/can-a-foreign-key-be-null-and-or-duplicate/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T13:31:52+08:00" itemprop="datePublished" title="2023-03-03 13:31">2023-03-03 13:31</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Please clarify two things for me:</p>
<ol>
<li>Can a Foreign key be NULL?</li>
<li>Can a Foreign key be duplicate?</li>
</ol>
<p>As fair as I know, <code>NULL</code> shouldn't be used in foreign keys, but in some
application of mine I'm able to input <code>NULL</code> in both Oracle and SQL Server,
and I don't know why.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Short answer: Yes, it can be NULL or duplicate.</p>
<p>I want to explain why a foreign key might need to be null or might need to be
unique or not unique. First remember a Foreign key simply requires that the
value in that field must exist first in a different table (the parent table).
That is all an FK is by definition. Null by definition is not a value. Null
means that we do not yet know what the value is.</p>
<p>Let me give you a real life example. Suppose you have a database that stores
sales proposals. Suppose further that each proposal only has one sales person
assigned and one client. So your proposal table would have two foreign keys,
one with the client ID and one with the sales rep ID. However, at the time the
record is created, a sales rep is not always assigned (because no one is free
to work on it yet), so the client ID is filled in but the sales rep ID might
be null. In other words, usually you need the ability to have a null FK when
you may not know its value at the time the data is entered, but you do know
other values in the table that need to be entered. To allow nulls in an FK
generally all you have to do is allow nulls on the field that has the FK. The
null value is separate from the idea of it being an FK.</p>
<p>Whether it is unique or not unique relates to whether the table has a one-one
or a one-many relationship to the parent table. Now if you have a one-one
relationship, it is possible that you could have the data all in one table,
but if the table is getting too wide or if the data is on a different topic
(the employee - insurance example @tbone gave for instance), then you want
separate tables with a FK. You would then want to make this FK either also the
PK (which guarantees uniqueness) or put a unique constraint on it.</p>
<p>Most FKs are for a one to many relationship and that is what you get from a FK
without adding a further constraint on the field. So you have an order table
and the order details table for instance. If the customer orders ten items at
one time, he has one order and ten order detail records that contain the same
orderID as the FK.</p>
<p><br></p>
<h3>Suggest</h3>
<p>1 - Yes, since at least SQL Server 2000.</p>
<p>2 - Yes, as long as it's not a <code>UNIQUE</code> constraint or linked to a unique
index.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-move-certain-commits-to-be-based-on-another-branch-in-git/" class="u-url">How to move certain commits to be based on another branch in git?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-move-certain-commits-to-be-based-on-another-branch-in-git/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T13:31:30+08:00" itemprop="datePublished" title="2023-03-03 13:31">2023-03-03 13:31</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>The situation:</p>
<ul>
<li>master is at X</li>
<li>quickfix1 is at X + 2 commits</li>
</ul>
<p>Such that:</p>
<div class="code"><pre class="code literal-block">o-o-X (master HEAD)
     \
      q1a--q1b (quickfix1 HEAD)
</pre></div>

<p>Then I started working on quickfix2, but by accident took quickfix1 as the
source branch to copy, not the master. Now quickfix2 is at X + 2 commits + 2
relevant commits.</p>
<div class="code"><pre class="code literal-block">o-o-X (master HEAD)
     \
      q1a--q1b (quickfix1 HEAD)
              \
               q2a--q2b (quickfix2 HEAD)
</pre></div>

<p>Now I want to have a branch with quickfix2, but without the 2 commits that
belong to quickfix1.</p>
<div class="code"><pre class="code literal-block">      q2a'--q2b' (quickfix2 HEAD)
     /
o-o-X (master HEAD)
     \ 
      q1a--q1b (quickfix1 HEAD)
</pre></div>

<p>I tried to create a patch from a certain revision in quickfix2, but the patch
doesn't preserve the commit history. Is there a way to save my commit history,
but have a branch without changes in quickfix1?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>This is a classic case of <strong><code>rebase --onto</code></strong> :</p>
<div class="code"><pre class="code literal-block"><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">let</span><span class="err">'</span><span class="n">s</span><span class="w"> </span><span class="k">go</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">current</span><span class="w"> </span><span class="n">master</span><span class="w"> </span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">quickfix2</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="k">begin</span><span class="p">)</span>
<span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="n">checkout</span><span class="w"> </span><span class="n">master</span>

<span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">replay</span><span class="w"> </span><span class="k">every</span><span class="w"> </span><span class="k">commit</span><span class="w"> </span><span class="o">*</span><span class="k">after</span><span class="o">*</span><span class="w"> </span><span class="n">quickfix1</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">quickfix2</span><span class="w"> </span><span class="n">HEAD</span><span class="p">.</span>
<span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="n">rebase</span><span class="w"> </span><span class="c1">--onto master quickfix1 quickfix2</span>
</pre></div>

<p>So you should go from</p>
<div class="code"><pre class="code literal-block">o-o-X (master HEAD)
     \ 
      q1a--q1b (quickfix1 HEAD)
              \
               q2a--q2b (quickfix2 HEAD)
</pre></div>

<p>to:</p>
<div class="code"><pre class="code literal-block">      q2a'--q2b' (new quickfix2 HEAD)
     /
o-o-X (master HEAD)
     \ 
      q1a--q1b (quickfix1 HEAD)
</pre></div>

<p>This is best done on a clean working tree.<br>
See <code>git config --global rebase.autostash true</code>, especially after Git 2.10.</p>
<p><br></p>
<h3>Suggest</h3>
<p>You can use <code>git cherry-pick</code> to just pick the commit that you want to copy
over.</p>
<p>Probably the best way is to create the branch out of master, then in that
branch use <code>git cherry-pick</code> on the 2 commits from quickfix2 that you want.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1963.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1961.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/">
<link rel="next" href="index-1357.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]--><link rel="prefetch" href="posts/how-to-convert-an-entire-mysql-database-characterset-and-collation-to-utf-8/" type="text/html">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-convert-an-entire-mysql-database-characterset-and-collation-to-utf-8/" class="u-url">How to convert an entire MySQL database characterset and collation to UTF-8?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-convert-an-entire-mysql-database-characterset-and-collation-to-utf-8/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T07:29:33+08:00" itemprop="datePublished" title="2023-02-18 07:29">2023-02-18 07:29</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How can I convert entire MySQL database character-set to UTF-8 and collation
to UTF-8?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Use the <code>ALTER DATABASE</code> and <code>ALTER TABLE</code> commands.</p>
<div class="code"><pre class="code literal-block">ALTER DATABASE databasename CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
ALTER TABLE tablename CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
</pre></div>

<p>Or if you're still on MySQL 5.5.2 or older which didn't support 4-byte UTF-8,
use <code>utf8</code> instead of <code>utf8mb4</code>:</p>
<div class="code"><pre class="code literal-block">ALTER DATABASE databasename CHARACTER SET utf8 COLLATE utf8_unicode_ci;
ALTER TABLE tablename CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<ol>
<li>
<p><strong>Make a backup!</strong></p>
</li>
<li>
<p>Then you need to set the default char sets on the database. This does not convert existing tables, it only sets the default for newly created tables.</p>
<div class="code"><pre class="code literal-block">ALTER DATABASE dbname CHARACTER SET utf8 COLLATE utf8_general_ci;
</pre></div>

</li>
<li>
<p>Then, you will need to convert the char set on all existing tables and their columns. This assumes that your current data is actually in the current char set. If your columns are set to one char set but your data is really stored in another then you will need to check the MySQL manual on how to handle this.</p>
<div class="code"><pre class="code literal-block">ALTER TABLE tbl_name CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
</pre></div>

</li>
</ol>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-center-an-image-in-the-readme-md-file-on-github/" class="u-url">How do I center an image in the README.md file on GitHub?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-center-an-image-in-the-readme-md-file-on-github/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T07:28:58+08:00" itemprop="datePublished" title="2023-02-18 07:28">2023-02-18 07:28</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I've been looking at the Markdown syntax used in GitHub for a while, but
except resizing an image to the width of the <code>README.md</code> page, I can't figure
out how to center an image in it.</p>
<p>Is this possible? If so, how can I do it?</p>
<p><br><br></p>
<h2>Answer</h2>
<blockquote>
<p>I've been looking at the Markdown syntax used in GitHub [...], I can't
figure out how to center an image</p>
</blockquote>
<p><strong>TL;DR</strong></p>
<p>No, you can't by <strong>only</strong> relying on Markdown syntax. Markdown doesn't care
about positioning.</p>
<p><em>Note:</em> Some Markdown processors support inclusion of HTML (as rightfully
pointed out by @waldyr.ar), and in the GitHub case you may fallback to
something like <code>&lt;div style="text-align:center"&gt;&lt;img src="..." /&gt;&lt;/div&gt;</code>.</p>
<p>Beware that there's no guarantee the image will be centered if your repository
is forked in a different hosting environment (CodePlex, Bitbucket, etc.) or if
the document isn't read through a browser (Sublime Text Markdown preview,
MarkdownPad, Visual Studio Web Essentials Markdown preview, ...).</p>
<p><em>Note 2:</em> Keep in mind that even within the GitHub website, the way Markdown
is rendered is not uniform. The wiki, for instance, won't allow such CSS
positional trickery.</p>
<p><strong>Unabridged version</strong></p>
<p>The <strong>Markdown syntax</strong> doesn't provide one with the ability to control the
position of an image.</p>
<p>In fact, it would be borderline against the Markdown philosophy to allow such
formatting, as stated in the <strong>"Philosophy"</strong> section.</p>
<blockquote>
<p>"A Markdown-formatted document should be publishable as-is, as plain text,
without looking like it’s been marked up with tags or formatting
instructions. "</p>
</blockquote>
<p>Markdown files are rendered by github.com website through the use of the Ruby
<strong>Redcarpet</strong> library.</p>
<p>Redcarpet exposes some <strong>extensions</strong> (such as strikethrough, for instance)
which are not part of standard Markdown syntax and provide additional
"features". However, no supported extension allow you to center an image.</p>
<p><br></p>
<h3>Suggest</h3>
<blockquote>
<p>I've been looking at the Markdown syntax used in GitHub [...], I can't
figure out how to center an image</p>
</blockquote>
<p><strong>TL;DR</strong></p>
<p>No, you can't by <strong>only</strong> relying on Markdown syntax. Markdown doesn't care
about positioning.</p>
<p><em>Note:</em> Some Markdown processors support inclusion of HTML (as rightfully
pointed out by @waldyr.ar), and in the GitHub case you may fallback to
something like <code>&lt;div style="text-align:center"&gt;&lt;img src="..." /&gt;&lt;/div&gt;</code>.</p>
<p>Beware that there's no guarantee the image will be centered if your repository
is forked in a different hosting environment (CodePlex, Bitbucket, etc.) or if
the document isn't read through a browser (Sublime Text Markdown preview,
MarkdownPad, Visual Studio Web Essentials Markdown preview, ...).</p>
<p><em>Note 2:</em> Keep in mind that even within the GitHub website, the way Markdown
is rendered is not uniform. The wiki, for instance, won't allow such CSS
positional trickery.</p>
<p><strong>Unabridged version</strong></p>
<p>The <strong>Markdown syntax</strong> doesn't provide one with the ability to control the
position of an image.</p>
<p>In fact, it would be borderline against the Markdown philosophy to allow such
formatting, as stated in the <strong>"Philosophy"</strong> section.</p>
<blockquote>
<p>"A Markdown-formatted document should be publishable as-is, as plain text,
without looking like it’s been marked up with tags or formatting
instructions. "</p>
</blockquote>
<p>Markdown files are rendered by github.com website through the use of the Ruby
<strong>Redcarpet</strong> library.</p>
<p>Redcarpet exposes some <strong>extensions</strong> (such as strikethrough, for instance)
which are not part of standard Markdown syntax and provide additional
"features". However, no supported extension allow you to center an image.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-a-closure/" class="u-url">What is a 'Closure'?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-a-closure/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T07:28:04+08:00" itemprop="datePublished" title="2023-02-18 07:28">2023-02-18 07:28</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I asked a question about Currying and closures were mentioned. What is a
closure? How does it relate to currying?</p>
<p><br><br></p>
<h2>Answer</h2>
<h3>Variable scope</h3>
<p>When you declare a local variable, that variable has a scope. Generally, local
variables exist only within the block or function in which you declare them.</p>
<div class="code"><pre class="code literal-block"><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">  </span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">a</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">works</span>
<span class="p">}</span><span class="w">    </span>
<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">a</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">fails</span>
</pre></div>

<p>If I try to access a local variable, most languages will look for it in the
current scope, then up through the parent scopes until they reach the root
scope.</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">a</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">works</span>
<span class="p">}</span><span class="w">    </span>
<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">a</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">works</span>
</pre></div>

<p>When a block or function is done with, its local variables are no longer
needed and are usually blown out of memory.</p>
<p>This is how we normally expect things to work.</p>
<h3>A closure is a persistent local variable scope</h3>
<p>A closure is a persistent scope which holds on to local variables even after
the code execution has moved out of that block. Languages which support
closure (such as JavaScript, Swift, and Ruby) will allow you to keep a
reference to a scope (including its parent scopes), even after the block in
which those variables were declared has finished executing, provided you keep
a reference to that block or function somewhere.</p>
<p>The scope object and all its local variables are tied to the function and will
persist as long as that function persists.</p>
<p>This gives us function portability. We can expect any variables that were in
scope when the function was first defined to still be in scope when we later
call the function, even if we call the function in a completely different
context.</p>
<h3>For example</h3>
<p>Here's a really simple example in JavaScript that illustrates the point:</p>
<div class="code"><pre class="code literal-block"><span class="n">outer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">inner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">a</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">inner</span><span class="p">;</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">returns</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">function</span>
<span class="p">}</span>

<span class="k">var</span><span class="w"> </span><span class="n">fnc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">outer</span><span class="p">();</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">execute</span><span class="w"> </span><span class="n">outer</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">get</span><span class="w"> </span><span class="n">inner</span><span class="w"> </span>
<span class="n">fnc</span><span class="p">();</span>
</pre></div>

<p>Here I have defined a function within a function. The inner function gains
access to all the outer function's local variables, including <code>a</code>. The
variable <code>a</code> is in scope for the inner function.</p>
<p>Normally when a function exits, all its local variables are blown away.
However, if we return the inner function and assign it to a variable <code>fnc</code> so
that it persists after <code>outer</code> has exited, <strong>all of the variables that were in
scope when<code>inner</code> was defined also persist</strong>. The variable <code>a</code> has been closed
over -- it is within a closure.</p>
<p>Note that the variable <code>a</code> is totally private to <code>fnc</code>. This is a way of
creating private variables in a functional programming language such as
JavaScript.</p>
<p>As you might be able to guess, when I call <code>fnc()</code> it prints the value of <code>a</code>,
which is "1".</p>
<p>In a language without closure, the variable <code>a</code> would have been garbage
collected and thrown away when the function <code>outer</code> exited. Calling fnc would
have thrown an error because <code>a</code> no longer exists.</p>
<p>In JavaScript, the variable <code>a</code> persists because the variable scope is created
when the function is first declared and persists for as long as the function
continues to exist.</p>
<p><code>a</code> belongs to the scope of <code>outer</code>. The scope of <code>inner</code> has a parent pointer
to the scope of <code>outer</code>. <code>fnc</code> is a variable which points to <code>inner</code>. <code>a</code>
persists as long as <code>fnc</code> persists. <code>a</code> is within the closure.</p>
<h3>Further reading (watching)</h3>
<p>I made a YouTube video looking at this code with some practical examples of
usage.</p>
<p><br></p>
<h3>Suggest</h3>
<p>I'll give an example (in JavaScript):</p>
<div class="code"><pre class="code literal-block"><span class="n">function</span><span class="w"> </span><span class="n">makeCounter</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">count</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">count</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">var</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">makeCounter</span><span class="p">();</span>
<span class="n">x</span><span class="p">();</span><span class="w"> </span><span class="n">returns</span><span class="w"> </span><span class="mi">1</span>
<span class="n">x</span><span class="p">();</span><span class="w"> </span><span class="n">returns</span><span class="w"> </span><span class="mi">2</span>
<span class="o">...</span><span class="n">etc</span><span class="o">...</span>
</pre></div>

<p>What this function, <code>makeCounter</code>, does is it returns a function, which we've
called <code>x</code>, that will count up by one each time it's called. Since we're not
providing any parameters to <code>x</code>, it must somehow remember the count. It knows
where to find it based on what's called lexical scoping - it must look to the
spot where it's defined to find the value. This "hidden" value is what is
called a closure.</p>
<p>Here is my currying example again:</p>
<div class="code"><pre class="code literal-block"><span class="n">function</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">var</span><span class="w"> </span><span class="n">add3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">add</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>

<span class="n">add3</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span><span class="w"> </span><span class="n">returns</span><span class="w"> </span><span class="mi">7</span>
</pre></div>

<p>What you can see is that when you call <code>add</code> with the parameter <code>a</code> (which is
3), that value is contained in the closure of the returned function that we're
defining to be <code>add3</code>. That way, when we call <code>add3</code>, it knows where to find
the <code>a</code> value to perform the addition.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="next">
                <a href="index-1357.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

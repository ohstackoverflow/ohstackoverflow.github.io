<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2330) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2330.html">
<link rel="prev" href="index-2331.html" type="text/html">
<link rel="next" href="index-2329.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/could-not-find-default-endpoint-element/" class="u-url">Could not find default endpoint element</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/could-not-find-default-endpoint-element/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T08:09:54+08:00" itemprop="datePublished" title="2023-03-04 08:09">2023-03-04 08:09</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I've added a proxy to a webservice to a VS2008/.NET 3.5 solution. When
constructing the client .NET throws this error:</p>
<blockquote>
<p>Could not find default endpoint element that references contract
'IMySOAPWebService' in the ServiceModel client configuration section. This
might be because no configuaration file was found for your application or
because no endpoint element matching this contract could be found in the
client element.</p>
</blockquote>
<p>Searching for this error tells me to use the full namespace in the contract.
Here's my app.config with full namespace:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;client&gt;</span>
<span class="w">  </span><span class="nt">&lt;endpoint</span><span class="w"> </span><span class="na">address=</span><span class="s">"http://192.168.100.87:7001/soap/IMySOAPWebService"</span>
<span class="w">            </span><span class="na">binding=</span><span class="s">"basicHttpBinding"</span><span class="w"> </span><span class="na">bindingConfiguration=</span><span class="s">"IMySOAPWebServicebinding"</span>
<span class="w">            </span><span class="na">contract=</span><span class="s">"Fusion.DataExchange.Workflows.IMySOAPWebService"</span><span class="w"> </span><span class="na">name=</span><span class="s">"IMySOAPWebServicePort"</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="nt">&lt;/client&gt;</span>
</pre></div>

<p>I'm running XP local (I mention this because a number of Google hits mention
win2k3) The app.config is copied to app.exe.config, so that is also not the
problem.</p>
<p>Any clues?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Having tested several options, I finally solved this by using</p>
<blockquote>
<p>contract="IMySOAPWebService"</p>
</blockquote>
<p>i.e. without the full namespace in the config. For some reason the full name
didn't resolve properly</p>
<p><br></p>
<h3>Suggest</h3>
<p>I solved this (I think as others may have suggested) by creating the binding
and endpoint address instances myself - because I did not want to add new
settings to the config files (this is a replacement for some existing library
code which is used widely, and previously used an older Web Service Reference
etc.), and so I wanted to be able to drop this in without having add new
config settings everywhere.</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">remoteAddress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">System</span><span class="o">.</span><span class="n">ServiceModel</span><span class="o">.</span><span class="n">EndpointAddress</span><span class="p">(</span><span class="n">_webServiceUrl</span><span class="p">);</span>

<span class="n">using</span><span class="w"> </span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">productService</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">ProductClient</span><span class="p">(</span><span class="n">new</span><span class="w"> </span><span class="n">System</span><span class="o">.</span><span class="n">ServiceModel</span><span class="o">.</span><span class="n">BasicHttpBinding</span><span class="p">(),</span><span class="w"> </span><span class="n">remoteAddress</span><span class="p">))</span>
<span class="p">{</span>
<span class="w">    </span><span class="o">//</span><span class="n">set</span><span class="w"> </span><span class="n">timeout</span>
<span class="w">    </span><span class="n">productService</span><span class="o">.</span><span class="n">Endpoint</span><span class="o">.</span><span class="n">Binding</span><span class="o">.</span><span class="n">SendTimeout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">TimeSpan</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">_webServiceTimeout</span><span class="p">);</span>

<span class="w">    </span><span class="o">//</span><span class="n">call</span><span class="w"> </span><span class="n">web</span><span class="w"> </span><span class="n">service</span><span class="w"> </span><span class="n">method</span>
<span class="w">    </span><span class="n">productResponse</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">productService</span><span class="o">.</span><span class="n">GetProducts</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>

<p><strong>Edit</strong></p>
<p>If you are using https then you need to use <code>BasicHttpsBinding</code> rather than
<code>BasicHttpBinding</code>.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/linearlayout-not-expanding-inside-a-scrollview/" class="u-url">LinearLayout not expanding inside a ScrollView</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/linearlayout-not-expanding-inside-a-scrollview/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T08:08:09+08:00" itemprop="datePublished" title="2023-03-04 08:08">2023-03-04 08:08</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a <code>LinearLayout</code> inside a <code>ScrollView</code> that has
<code>android:layout_height="fill_parent"</code>, but it doesn't expand to the full
height of the <code>ScrollView</code>. My layout looks something like:</p>
<div class="code"><pre class="code literal-block">level    layout    layout_width    layout_height
1    LinearLayout    fill_parent    fill_parent
2    LinearLayout    fill_parent    wrap_content
3    (some irrelevant stuff)
2    ScrollView      fill_parent    fill_parent &lt;-- this expands full height
3    LinearLayout    fill_parent    fill_parent &lt;-- this does not (has orientation=vertical)
(following stuff probably are irrelevant, but just to be sure:)
4    TextView        fill_parent    fill_parent
4    LinearLayout    fill_parent    wrap_content
</pre></div>

<p>I can see that the <code>LinearLayout</code> doesn't expand the full height of the
<code>ScrollView</code> because in Eclipse in <code>Android Layout Editor</code>, if I select the
<code>ScrollView</code> (in the Outline panel) it is highlighted with a red border that
fills the screen to the bottom but when I select the <code>LinearLayout</code> its
highlight doesn't expand to the bottom of the screen. How can I get it to do
so?</p>
<p>The effect I'm trying to achieve is to have some text and a button below it
(inside the <code>LinearLayout</code> in level 4 there's just a button). The text can be
big enough to need a scrollbar, in which case I want the user to have to
scroll down in order to see the button. In case the text is not big enough for
a scroll bar, I want the <code>LinearLayout</code> containing the button to stick to the
bottom of the screen.</p>
<p>At first I thought I shouldn't post the full XML because it's usually a turn-
down to see a huge chunk of code in a question. However, it seems it might be
necessary, so here's the full layout.</p>
<div class="code"><pre class="code literal-block"><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;LinearLayout</span>
<span class="w">    </span><span class="na">android:layout_width=</span><span class="s">"fill_parent"</span>
<span class="w">    </span><span class="na">android:layout_height=</span><span class="s">"fill_parent"</span>
<span class="w">    </span><span class="na">android:orientation=</span><span class="s">"vertical"</span>
<span class="w">    </span><span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;LinearLayout</span>
<span class="w">        </span><span class="na">android:layout_width=</span><span class="s">"fill_parent"</span>
<span class="w">        </span><span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
<span class="w">        </span><span class="na">android:orientation=</span><span class="s">"horizontal"</span>
<span class="w">        </span><span class="na">android:id=</span><span class="s">"@+id/video_layout"</span>
<span class="w">        </span><span class="na">android:focusable=</span><span class="s">"true"</span>
<span class="w">        </span><span class="na">style=</span><span class="s">"@style/VideoLayout"</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;FrameLayout</span>
<span class="w">            </span><span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
<span class="w">            </span><span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
<span class="w">            </span><span class="na">android:foreground=</span><span class="s">"@android:drawable/ic_media_play"</span>
<span class="w">            </span><span class="na">android:foregroundGravity=</span><span class="s">"center"</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;ImageView</span>
<span class="w">                </span><span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
<span class="w">                </span><span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
<span class="w">                </span><span class="na">android:id=</span><span class="s">"@+id/video_thumb"</span>
<span class="w">                </span><span class="na">android:padding=</span><span class="s">"5dip"</span>
<span class="w">                </span><span class="na">android:background=</span><span class="s">"#454545"</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;/FrameLayout&gt;</span>
<span class="w">        </span><span class="nt">&lt;TextView</span>
<span class="w">            </span><span class="na">android:layout_width=</span><span class="s">"fill_parent"</span>
<span class="w">            </span><span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
<span class="w">            </span><span class="na">android:focusable=</span><span class="s">"true"</span>
<span class="w">            </span><span class="na">style=</span><span class="s">"@style/VideoTitle"</span>
<span class="w">            </span><span class="na">android:id=</span><span class="s">"@+id/video_title"</span>
<span class="w">            </span><span class="na">android:layout_gravity=</span><span class="s">"center"</span>
<span class="w">            </span><span class="na">android:layout_weight=</span><span class="s">"1"</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/LinearLayout&gt;</span>
<span class="w">    </span><span class="nt">&lt;ScrollView</span>
<span class="w">        </span><span class="na">android:layout_width=</span><span class="s">"fill_parent"</span>
<span class="w">        </span><span class="na">android:layout_height=</span><span class="s">"fill_parent"</span>
<span class="w">        </span><span class="na">android:layout_weight=</span><span class="s">"1"</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="cm">&lt;!-- this ScrollView expands the full height of the screen.</span>
<span class="cm">             However, the next LinearLayout does not expand the full height of the ScrollView --&gt;</span>
<span class="w">        </span><span class="nt">&lt;LinearLayout</span>
<span class="w">            </span><span class="na">android:layout_width=</span><span class="s">"fill_parent"</span>
<span class="w">            </span><span class="na">android:layout_height=</span><span class="s">"fill_parent"</span>
<span class="w">            </span><span class="na">android:layout_weight=</span><span class="s">"1"</span>
<span class="w">            </span><span class="na">android:layout_gravity=</span><span class="s">"fill"</span>
<span class="w">            </span><span class="na">android:orientation=</span><span class="s">"vertical"</span>
<span class="w">            </span><span class="na">android:id=</span><span class="s">"@+id/info_layout"</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;TextView</span>
<span class="w">                </span><span class="na">android:layout_width=</span><span class="s">"fill_parent"</span>
<span class="w">                </span><span class="na">android:layout_height=</span><span class="s">"fill_parent"</span>
<span class="w">                </span><span class="na">android:id=</span><span class="s">"@+id/info_body"</span>
<span class="w">                </span><span class="na">style=</span><span class="s">"@style/InfoText"</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;LinearLayout</span>
<span class="w">                </span><span class="na">android:layout_width=</span><span class="s">"fill_parent"</span>
<span class="w">                </span><span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
<span class="w">                </span><span class="na">android:orientation=</span><span class="s">"horizontal"</span>
<span class="w">                </span><span class="na">style=</span><span class="s">"@android:style/ButtonBar"</span><span class="nt">&gt;</span>
<span class="w">                    </span><span class="nt">&lt;Button</span>
<span class="w">                        </span><span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
<span class="w">                        </span><span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
<span class="w">                        </span><span class="na">android:layout_gravity=</span><span class="s">"center"</span>
<span class="w">                        </span><span class="na">android:layout_weight=</span><span class="s">"1"</span>
<span class="w">                        </span><span class="na">android:text=</span><span class="s">"@string/button_readmore"</span>
<span class="w">                        </span><span class="na">android:id=</span><span class="s">"@+id/btn_read_more"</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;/LinearLayout&gt;</span>
<span class="w">        </span><span class="nt">&lt;/LinearLayout&gt;</span>
<span class="w">    </span><span class="nt">&lt;/ScrollView&gt;</span>
<span class="nt">&lt;/LinearLayout&gt;</span>
</pre></div>

<p>At the moment I have resorted to <code>android:layout_gravity="bottom"</code> on the
problematic <code>LinearLayout</code>, which makes the button stick to the bottom of the
screen no matter what. But that also makes the text stick to the bottom of the
screen, which is not exactly what I was after.</p>
<p><strong>Update:</strong> scratch that, <code>android:layout_gravity="bottom"</code> makes the
<code>ScrollView</code> unable to, well, scroll. Other ideas?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Found the solution myself in the end. The problem was not with the
<code>LinearLayout</code>, but with the <code>ScrollView</code> (seems weird, considering the fact
that the <code>ScrollView</code> <strong>was</strong> expanding, while the <code>LinearLayout</code> wasn't).</p>
<p><strong>The solution was to use<code>android:fillViewport="true"</code> on the <code>ScrollView</code>.</strong></p>
<p><br></p>
<h3>Suggest</h3>
<p>I know this post is very old, For those who don't want to use
<code>android:fillViewport="true"</code> because it sometimes doesn't bring up the
edittext above keyboard. Use Relative layout instead of LinearLayout it solves
the purpose.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-crop-an-image-in-opencv-using-python/" class="u-url">How to crop an image in OpenCV using Python</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-crop-an-image-in-opencv-using-python/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T08:06:45+08:00" itemprop="datePublished" title="2023-03-04 08:06">2023-03-04 08:06</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How can I crop images, like I've done before in PIL, using OpenCV.</p>
<p>Working example on PIL</p>
<div class="code"><pre class="code literal-block">im = Image.open('0.png').convert('L')
im = im.crop((1, 1, 98, 33))
im.save('_0.png')
</pre></div>

<p>But how I can do it on OpenCV?</p>
<p>This is what I tried:</p>
<div class="code"><pre class="code literal-block">im = cv.imread('0.png', cv.CV_LOAD_IMAGE_GRAYSCALE)
(thresh, im_bw) = cv.threshold(im, 128, 255, cv.THRESH_OTSU)
im = cv.getRectSubPix(im_bw, (98, 33), (1, 1))
cv.imshow('Img', im)
cv.waitKey(0)
</pre></div>

<p>But it doesn't work.</p>
<p>I think I incorrectly used <code>getRectSubPix</code>. If this is the case, please
explain how I can correctly use this function.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>It's very simple. Use numpy slicing.</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">cv2</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s2">"lenna.png"</span><span class="p">)</span>
<span class="n">crop_img</span> <span class="o">=</span> <span class="n">img</span><span class="p">[</span><span class="n">y</span><span class="p">:</span><span class="n">y</span><span class="o">+</span><span class="n">h</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span><span class="o">+</span><span class="n">w</span><span class="p">]</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">"cropped"</span><span class="p">,</span> <span class="n">crop_img</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>i had this question and found another answer here: copy region of interest</p>
<p>If we consider (0,0) as top left corner of image called <code>im</code> with left-to-
right as x direction and top-to-bottom as y direction. and we have (x1,y1) as
the top-left vertex and (x2,y2) as the bottom-right vertex of a rectangle
region within that image, then:</p>
<div class="code"><pre class="code literal-block">roi = im[y1:y2, x1:x2]
</pre></div>

<p>here is a comprehensive resource on numpy array indexing and slicing which can
tell you more about things like cropping a part of an image. images would be
stored as a numpy array in opencv2.</p>
<p>:)</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2331.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2329.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

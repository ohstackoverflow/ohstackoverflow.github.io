<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 352) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-352.html">
<link rel="prev" href="index-353.html" type="text/html">
<link rel="next" href="index-351.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-pad-an-integer-with-zeros-on-the-left/" class="u-url">How can I pad an integer with zeros on the left?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-pad-an-integer-with-zeros-on-the-left/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T04:40:38+08:00" itemprop="datePublished" title="2023-02-17 04:40">2023-02-17 04:40</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How do you left pad an <code>int</code> with zeros when converting to a <code>String</code> in java?</p>
<p>I'm basically looking to pad out integers up to <code>9999</code> with leading zeros
(e.g. 1 = <code>0001</code>).</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Use <code>java.lang.String.format(String,Object...)</code> like this:</p>
<div class="code"><pre class="code literal-block">String.format("%05d", yournumber);
</pre></div>

<p>for zero-padding with a length of 5. For hexadecimal output replace the <code>d</code>
with an <code>x</code> as in <code>"%05x"</code>.</p>
<p>The full formatting options are documented as part of <code>java.util.Formatter</code>.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Let's say you want to print <code>11</code> as <code>011</code></p>
<p><strong>You could use a formatter</strong> : <code>"%03d"</code>.</p>
<p><img alt="enter image description here" src="images/u4vid.png"></p>
<p>You can use this formatter like this:</p>
<div class="code"><pre class="code literal-block">int a = 11;
String with3digits = String.format("%03d", a);
System.out.println(with3digits);
</pre></div>

<p>Alternatively, some java methods directly support these formatters:</p>
<div class="code"><pre class="code literal-block">System.out.printf("%03d", a);
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/fastest-way-to-check-if-a-value-exists-in-a-list/" class="u-url">Fastest way to check if a value exists in a list</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/fastest-way-to-check-if-a-value-exists-in-a-list/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T04:40:12+08:00" itemprop="datePublished" title="2023-02-17 04:40">2023-02-17 04:40</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What is the fastest way to check if a value exists in a very large list?</p>
<p><br><br></p>
<h2>Answer</h2>
<div class="code"><pre class="code literal-block"><span class="mf">7</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">a</span>
</pre></div>

<p>Clearest and fastest way to do it.</p>
<p>You can also consider using a <code>set</code>, but constructing that set from your list
may take more time than faster membership testing will save. The only way to
be certain is to benchmark well. (this also depends on what operations you
require)</p>
<p><br></p>
<h3>Suggest</h3>
<p>As stated by others, <code>in</code> can be very slow for large lists. Here are some
comparisons of the performances for <code>in</code>, <code>set</code> and <code>bisect</code>. Note the time
(in second) is in log scale.</p>
<p><img alt="enter image description here" src="images/HSRgg.png"></p>
<p>Code for testing:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">bisect</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">time</span>


<span class="k">def</span> <span class="nf">method_in</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
    <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">b</span><span class="p">:</span>
            <span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>


<span class="k">def</span> <span class="nf">method_set_in</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
    <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="n">s</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
            <span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>


<span class="k">def</span> <span class="nf">method_bisect</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
    <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="n">b</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
        <span class="n">index</span> <span class="o">=</span> <span class="n">bisect</span><span class="o">.</span><span class="n">bisect_left</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="n">b</span><span class="p">[</span><span class="n">index</span><span class="p">]:</span>
                <span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>


<span class="k">def</span> <span class="nf">profile</span><span class="p">():</span>
    <span class="n">time_method_in</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">time_method_set_in</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">time_method_bisect</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># adjust range down if runtime is too long or up if there are too many zero entries in any of the time_method lists</span>
    <span class="n">Nls</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">,</span> <span class="mi">30000</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)]</span>
    <span class="k">for</span> <span class="n">N</span> <span class="ow">in</span> <span class="n">Nls</span><span class="p">:</span>
        <span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">N</span><span class="p">)]</span>
        <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
        <span class="n">b</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">N</span><span class="p">)]</span>
        <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
        <span class="n">c</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">N</span><span class="p">)]</span>

        <span class="n">time_method_in</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">method_in</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span>
        <span class="n">time_method_set_in</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">method_set_in</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span>
        <span class="n">time_method_bisect</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">method_bisect</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">Nls</span><span class="p">,</span> <span class="n">time_method_in</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">'o'</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">'r'</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">'-'</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">'in'</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">Nls</span><span class="p">,</span> <span class="n">time_method_set_in</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">'o'</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">'b'</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">'-'</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">'set'</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">Nls</span><span class="p">,</span> <span class="n">time_method_bisect</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">'o'</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">'g'</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">'-'</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">'bisect'</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">'list size'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">'log(time)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">'upper left'</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">yscale</span><span class="p">(</span><span class="s1">'log'</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>


<span class="n">profile</span><span class="p">()</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/git-undo-all-uncommitted-or-unsaved-changes/" class="u-url">git undo all uncommitted or unsaved changes</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/git-undo-all-uncommitted-or-unsaved-changes/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T04:39:46+08:00" itemprop="datePublished" title="2023-02-17 04:39">2023-02-17 04:39</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm trying to undo all changes since my last commit. I tried <code>git reset
--hard</code> and <code>git reset --hard HEAD</code> after viewing this post. I responds with
head is now at 18c3773... but when I look at my local source all the files are
still there. What am I missing?</p>
<p><br><br></p>
<h2>Answer</h2>
<ul>
<li>
<p>This will unstage all files you might have staged with <code>git add</code>:</p>
<div class="code"><pre class="code literal-block">git reset
</pre></div>

</li>
<li>
<p>This will revert all local uncommitted changes (should be executed in repo root):</p>
<div class="code"><pre class="code literal-block">git checkout .
</pre></div>

</li>
</ul>
<p>You can also revert uncommitted changes only to particular file or directory:</p>
<div class="code"><pre class="code literal-block">    git checkout [some_dir|file.txt]
</pre></div>

<p>Yet another way to revert all uncommitted changes (longer to type, but works
from any subdirectory):</p>
<div class="code"><pre class="code literal-block">    git reset --hard HEAD
</pre></div>

<ul>
<li>This will remove all local untracked files, so <em>only</em> git tracked files remain:<div class="code"><pre class="code literal-block">git clean -fdx
</pre></div>

</li>
</ul>
<blockquote>
<p><strong>WARNING:</strong> <code>-x</code> will also remove all ignored files, including ones
specified by <code>.gitignore</code>! You may want to use <code>-n</code> for preview of files to
be deleted.</p>
</blockquote>
<hr>
<p>To sum it up: executing commands below is basically equivalent to fresh <code>git
clone</code> from original source (but it does not re-download anything, so is much
faster):</p>
<div class="code"><pre class="code literal-block">git reset
git checkout .
git clean -fdx
</pre></div>

<p>Typical usage for this would be in build scripts, when you must make sure that
your tree is absolutely clean - does not have any modifications or locally
created object files or build artefacts, and you want to make it work very
fast and to not re-clone whole repository every single time.</p>
<p><br></p>
<h3>Suggest</h3>
<p>If you wish to " <strong>undo</strong> " all uncommitted changes simply run:</p>
<div class="code"><pre class="code literal-block">git stash
git stash drop
</pre></div>

<p>If you have any untracked files (check by running <code>git status</code>), these may be
removed by running:</p>
<div class="code"><pre class="code literal-block">git clean -fdx
</pre></div>

<p><code>git stash</code> creates a new stash which will become <strong>stash@{0}</strong>. If you wish
to check first you can run <code>git stash list</code> to see a list of your stashes. It
will look something like:</p>
<div class="code"><pre class="code literal-block">stash@{0}: WIP on rails-4: 66c8407 remove forem residuals
stash@{1}: WIP on master: 2b8f269 Map qualifications
stash@{2}: WIP on master: 27a7e54 Use non-dynamic finders
stash@{3}: WIP on blogit: c9bd270 some changes
</pre></div>

<p>Each stash is named after the previous commit messsage.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-353.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-351.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

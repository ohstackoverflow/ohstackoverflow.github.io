<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1131) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1131.html">
<link rel="prev" href="index-1132.html" type="text/html">
<link rel="next" href="index-1130.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/can-enums-be-subclassed-to-add-new-elements/" class="u-url">Can enums be subclassed to add new elements?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/can-enums-be-subclassed-to-add-new-elements/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T01:59:16+08:00" itemprop="datePublished" title="2023-02-18 01:59">2023-02-18 01:59</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I want to take an existing enum and add more elements to it as follows:</p>
<div class="code"><pre class="code literal-block"><span class="k">enum</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="p">{</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">}</span>

<span class="k">enum</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="p">{</span><span class="n">d</span><span class="p">}</span>

<span class="o">/*</span><span class="n">B</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="p">{</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">}</span><span class="o">*/</span>
</pre></div>

<p>Is this possible in Java?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>No, you can't do this in Java. Aside from anything else, <code>d</code> would then
presumably be an instance of <code>A</code> (given the normal idea of "extends"), but
users who only knew about <code>A</code> wouldn't know about it - which defeats the point
of an enum being a well-known set of values.</p>
<p>If you could tell us more about how you want to <em>use</em> this, we could
potentially suggest alternative solutions.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Enums represent a complete enumeration of possible values. So the (unhelpful)
answer is no.</p>
<p>As an example of a real problem take weekdays, weekend days and, the union,
days of week. We could define all days within days-of-week but then we would
not be able to represent properties special to either weekdays and weekend-
days.</p>
<p>What we could do, is have three enum types with a mapping between
weekdays/weekend-days and days-of-week.</p>
<div class="code"><pre class="code literal-block"><span class="n">public</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="n">Weekday</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">MON</span><span class="p">,</span><span class="w"> </span><span class="n">TUE</span><span class="p">,</span><span class="w"> </span><span class="n">WED</span><span class="p">,</span><span class="w"> </span><span class="n">THU</span><span class="p">,</span><span class="w"> </span><span class="n">FRI</span><span class="p">;</span>
<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="n">DayOfWeek</span><span class="w"> </span><span class="n">toDayOfWeek</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">...</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
<span class="n">public</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="n">WeekendDay</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">SAT</span><span class="p">,</span><span class="w"> </span><span class="n">SUN</span><span class="p">;</span>
<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="n">DayOfWeek</span><span class="w"> </span><span class="n">toDayOfWeek</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">...</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
<span class="n">public</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="n">DayOfWeek</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">MON</span><span class="p">,</span><span class="w"> </span><span class="n">TUE</span><span class="p">,</span><span class="w"> </span><span class="n">WED</span><span class="p">,</span><span class="w"> </span><span class="n">THU</span><span class="p">,</span><span class="w"> </span><span class="n">FRI</span><span class="p">,</span><span class="w"> </span><span class="n">SAT</span><span class="p">,</span><span class="w"> </span><span class="n">SUN</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>Alternatively, we could have an open-ended interface for day-of-week:</p>
<div class="code"><pre class="code literal-block"><span class="n">interface</span><span class="w"> </span><span class="n">Day</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">...</span>
<span class="p">}</span>
<span class="n">public</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="n">Weekday</span><span class="w"> </span><span class="n">implements</span><span class="w"> </span><span class="n">Day</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">MON</span><span class="p">,</span><span class="w"> </span><span class="n">TUE</span><span class="p">,</span><span class="w"> </span><span class="n">WED</span><span class="p">,</span><span class="w"> </span><span class="n">THU</span><span class="p">,</span><span class="w"> </span><span class="n">FRI</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">public</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="n">WeekendDay</span><span class="w"> </span><span class="n">implements</span><span class="w"> </span><span class="n">Day</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">SAT</span><span class="p">,</span><span class="w"> </span><span class="n">SUN</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>Or we could combine the two approaches:</p>
<div class="code"><pre class="code literal-block"><span class="n">interface</span><span class="w"> </span><span class="n">Day</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">...</span>
<span class="p">}</span>
<span class="n">public</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="n">Weekday</span><span class="w"> </span><span class="n">implements</span><span class="w"> </span><span class="n">Day</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">MON</span><span class="p">,</span><span class="w"> </span><span class="n">TUE</span><span class="p">,</span><span class="w"> </span><span class="n">WED</span><span class="p">,</span><span class="w"> </span><span class="n">THU</span><span class="p">,</span><span class="w"> </span><span class="n">FRI</span><span class="p">;</span>
<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="n">DayOfWeek</span><span class="w"> </span><span class="n">toDayOfWeek</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">...</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
<span class="n">public</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="n">WeekendDay</span><span class="w"> </span><span class="n">implements</span><span class="w"> </span><span class="n">Day</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">SAT</span><span class="p">,</span><span class="w"> </span><span class="n">SUN</span><span class="p">;</span>
<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="n">DayOfWeek</span><span class="w"> </span><span class="n">toDayOfWeek</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">...</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
<span class="n">public</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="n">DayOfWeek</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">MON</span><span class="p">,</span><span class="w"> </span><span class="n">TUE</span><span class="p">,</span><span class="w"> </span><span class="n">WED</span><span class="p">,</span><span class="w"> </span><span class="n">THU</span><span class="p">,</span><span class="w"> </span><span class="n">FRI</span><span class="p">,</span><span class="w"> </span><span class="n">SAT</span><span class="p">,</span><span class="w"> </span><span class="n">SUN</span><span class="p">;</span>
<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="n">Day</span><span class="w"> </span><span class="n">toDay</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">...</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-run-a-shell-script-on-a-unix-console-or-mac-terminal/" class="u-url">How to run a shell script on a Unix console or Mac terminal?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-run-a-shell-script-on-a-unix-console-or-mac-terminal/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T01:58:53+08:00" itemprop="datePublished" title="2023-02-18 01:58">2023-02-18 01:58</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I know it, forget it and relearn it again. Time to write it down.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>To run a non-executable <code>sh</code> script, use:</p>
<div class="code"><pre class="code literal-block">sh myscript
</pre></div>

<p>To run a non-executable <code>bash</code> script, use:</p>
<div class="code"><pre class="code literal-block">bash myscript
</pre></div>

<p>To start an executable (which is any file with executable permission); you
just specify it by its path:</p>
<div class="code"><pre class="code literal-block">/foo/bar
/bin/bar
./bar
</pre></div>

<p>To make a script executable, give it the necessary permission:</p>
<div class="code"><pre class="code literal-block">chmod +x bar
./bar
</pre></div>

<p>When a file is executable, the <strong>kernel</strong> is responsible for figuring out how
to execte it. For non-binaries, this is done by looking at the first line of
the file. It should contain a <code>hashbang</code>:</p>
<div class="code"><table class="codetable"><tr>
<td class="linenos linenodiv"><a href="posts/how-to-run-a-shell-script-on-a-unix-console-or-mac-terminal/#-1"><code data-line-number="1"></code></a></td>
<td class="code"><code><span class="ch">#! /usr/bin/env bash</span>
</code></td>
</tr></table></div>
<p>The hashbang tells the kernel what program to run (in this case the command
<code>/usr/bin/env</code> is ran with the argument <code>bash</code>). Then, the script is passed to
the program (as second argument) along with all the arguments you gave the
script as subsequent arguments.</p>
<p>That means <strong>every script that is executable should have a hashbang</strong>. If it
doesn't, you're not telling the kernel what it <em>is</em> , and therefore the kernel
doesn't know what program to use to interprete it. It could be <code>bash</code>, <code>perl</code>,
<code>python</code>, <code>sh</code>, or something else. (In reality, the kernel will often use the
user's default shell to interprete the file, which is very dangerous because
it might not be the right interpreter at all or it might be able to parse some
of it but with subtle behavioural differences such as is the case between <code>sh</code>
and <code>bash</code>).</p>
<h2>A note on <code>/usr/bin/env</code>
</h2>
<p>Most commonly, you'll see hash bangs like so:</p>
<div class="code"><table class="codetable"><tr>
<td class="linenos linenodiv"><a href="posts/how-to-run-a-shell-script-on-a-unix-console-or-mac-terminal/#-1"><code data-line-number="1"></code></a></td>
<td class="code"><code><span class="ch">#!/bin/bash</span>
</code></td>
</tr></table></div>
<p>The result is that the kernel will run the program <code>/bin/bash</code> to interpret
the script. Unfortunately, <code>bash</code> is not always shipped by default, and it is
not always available in <code>/bin</code>. While on Linux machines it usually is, there
are a range of other POSIX machines where <code>bash</code> ships in various locations,
such as <code>/usr/xpg/bin/bash</code> or <code>/usr/local/bin/bash</code>.</p>
<p>To write a portable bash script, we can therefore not rely on hard-coding the
location of the <code>bash</code> program. POSIX already has a mechanism for dealing with
that: <code>PATH</code>. The idea is that you install your programs in one of the
directories that are in <code>PATH</code> and the system should be able to find your
program when you want to run it by name.</p>
<p>Sadly, you <strong><em>cannot</em></strong> just do this:</p>
<div class="code"><table class="codetable"><tr>
<td class="linenos linenodiv"><a href="posts/how-to-run-a-shell-script-on-a-unix-console-or-mac-terminal/#-1"><code data-line-number="1"></code></a></td>
<td class="code"><code>
</code></td>
</tr></table></div>
<p>The kernel won't (some might) do a <code>PATH</code> search for you. There is a program
that can do a <code>PATH</code> search for you, though, it's called <code>env</code>. Luckily,
nearly all systems have an <code>env</code> program installed in <code>/usr/bin</code>. So we start
<code>env</code> using a hardcoded path, which then does a <code>PATH</code> search for <code>bash</code> and
runs it so that it can interpret your script:</p>
<div class="code"><table class="codetable"><tr>
<td class="linenos linenodiv"><a href="posts/how-to-run-a-shell-script-on-a-unix-console-or-mac-terminal/#-1"><code data-line-number="1"></code></a></td>
<td class="code"><code><span class="ch">#!/usr/bin/env bash</span>
</code></td>
</tr></table></div>
<p>This approach has one downside: According to POSIX, the hashbang can have
<strong>one argument</strong>. In this case, we use <code>bash</code> as the argument to the <code>env</code>
program. That means we have no space left to pass arguments to <code>bash</code>. So
there's no way to convert something like <code>#!/bin/bash -exu</code> to this scheme.
You'll have to put <code>set -exu</code> after the hashbang instead.</p>
<p>This approach also has another advantage: Some systems may ship with a
<code>/bin/bash</code>, but the user may not like it, may find it's buggy or outdated,
and may have installed his own <code>bash</code> somewhere else. This is often the case
on OS X (Macs) where Apple ships an outdated <code>/bin/bash</code> and users install an
up-to-date <code>/usr/local/bin/bash</code> using something like Homebrew. When you use
the <code>env</code> approach which does a <code>PATH</code> search, you take the user's preference
into account and use his preferred bash over the one his system shipped with.</p>
<p><br></p>
<h3>Suggest</h3>
<p>To start the shell-script 'file.sh':</p>
<div class="code"><pre class="code literal-block">sh file.sh

bash file.sh
</pre></div>

<p>Another option is set executable permission using chmod command:</p>
<div class="code"><pre class="code literal-block">chmod +x file.sh
</pre></div>

<p>Now run .sh file as follows:</p>
<div class="code"><pre class="code literal-block">./file.sh
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-scale-an-image-in-imageview-to-keep-the-aspect-ratio/" class="u-url">How to scale an Image in ImageView to keep the aspect ratio</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-scale-an-image-in-imageview-to-keep-the-aspect-ratio/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T01:58:27+08:00" itemprop="datePublished" title="2023-02-18 01:58">2023-02-18 01:58</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>In Android, I defined an <code>ImageView</code>'s <code>layout_width</code> to be <code>fill_parent</code>
(which takes up the full width of the phone).</p>
<p>If the image I put to <code>ImageView</code> is bigger than the <code>layout_width</code>, Android
will scale it, right? But what about the height? When Android scales the
image, will it keep the aspect ratio?</p>
<p>What I find out is that there is some white space at the top and bottom of the
<code>ImageView</code> when Android scales an image which is bigger than the <code>ImageView</code>.
Is that true? If yes, how can I eliminate that white space?</p>
<p><br><br></p>
<h2>Answer</h2>
<ol>
<li>
<p>Yes, by default Android will scale your image down to fit the ImageView, maintaining the aspect ratio. However, make sure you're setting the image to the ImageView using <code>android:src="..."</code> rather than <code>android:background="..."</code>. <code>src=</code> makes it scale the image maintaining aspect ratio, but <code>background=</code> makes it scale <em>and</em> distort the image to make it fit exactly to the size of the ImageView. (You can use a background and a source at the same time though, which can be useful for things like displaying a frame around the main image, using just one ImageView.)</p>
</li>
<li>
<p>You should also see <code>android:adjustViewBounds</code> to make the ImageView resize itself to fit the rescaled image. For example, if you have a rectangular image in what would normally be a square ImageView, adjustViewBounds=true will make it resize the ImageView to be rectangular as well. This then affects how other Views are laid out around the ImageView.</p>
</li>
</ol>
<p>Then as Samuh wrote, you can change the way it default scales images using the
<code>android:scaleType</code> parameter. By the way, the easiest way to discover how
this works would simply have been to experiment a bit yourself! Just remember
to look at the layouts in the emulator itself (or an actual phone) as the
preview in Eclipse is usually wrong.</p>
<p><br></p>
<h3>Suggest</h3>
<p>See <code>android:adjustViewBounds</code>.</p>
<blockquote>
<p>Set this to true if you want the ImageView to adjust its bounds to preserve
the aspect ratio of its drawable.</p>
</blockquote>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1132.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1130.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

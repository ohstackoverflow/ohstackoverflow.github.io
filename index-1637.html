<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1637) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1637.html">
<link rel="prev" href="index-1638.html" type="text/html">
<link rel="next" href="index-1636.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/can-you-run-gui-applications-in-a-linux-docker-container/" class="u-url">Can you run GUI applications in a Linux Docker container?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/can-you-run-gui-applications-in-a-linux-docker-container/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T05:46:28+08:00" itemprop="datePublished" title="2023-03-03 05:46">2023-03-03 05:46</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How can you run GUI applications in a Linux Docker container?</p>
<p>Are there any images that set up <code>vncserver</code> or something so that you can -
for example - add an extra speedbump sandbox around say Firefox?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can simply install a vncserver along with Firefox :)</p>
<p>I pushed an image, vnc/firefox, here: <code>docker pull creack/firefox-vnc</code></p>
<p>The image has been made with this Dockerfile:</p>
<div class="code"><pre class="code literal-block">#<span class="w"> </span><span class="nv">Firefox</span><span class="w"> </span><span class="nv">over</span><span class="w"> </span><span class="nv">VNC</span>
#
#<span class="w"> </span><span class="nv">VERSION</span><span class="w">               </span><span class="mi">0</span>.<span class="mi">1</span>
#<span class="w"> </span><span class="nv">DOCKER</span><span class="o">-</span><span class="nv">VERSION</span><span class="w">        </span><span class="mi">0</span>.<span class="mi">2</span>

<span class="nv">FROM</span><span class="w">    </span><span class="nv">ubuntu</span>:<span class="mi">12</span>.<span class="mi">04</span>
#<span class="w"> </span><span class="nv">Make</span><span class="w"> </span><span class="nv">sure</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">package</span><span class="w"> </span><span class="nv">repository</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">up</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">date</span>
<span class="nv">RUN</span><span class="w">     </span><span class="nv">echo</span><span class="w"> </span><span class="s2">"deb http://archive.ubuntu.com/ubuntu precise main universe"</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="o">/</span><span class="nv">etc</span><span class="o">/</span><span class="nv">apt</span><span class="o">/</span><span class="nv">sources</span>.<span class="nv">list</span>
<span class="nv">RUN</span><span class="w">     </span><span class="nv">apt</span><span class="o">-</span><span class="nv">get</span><span class="w"> </span><span class="nv">update</span>

#<span class="w"> </span><span class="nv">Install</span><span class="w"> </span><span class="nv">vnc</span>,<span class="w"> </span><span class="nv">xvfb</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">order</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">create</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="s1">'fake'</span><span class="w"> </span><span class="nv">display</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="nv">firefox</span>
<span class="nv">RUN</span><span class="w">     </span><span class="nv">apt</span><span class="o">-</span><span class="nv">get</span><span class="w"> </span><span class="nv">install</span><span class="w"> </span><span class="o">-</span><span class="nv">y</span><span class="w"> </span><span class="nv">x11vnc</span><span class="w"> </span><span class="nv">xvfb</span><span class="w"> </span><span class="nv">firefox</span>
<span class="nv">RUN</span><span class="w">     </span><span class="nv">mkdir</span><span class="w"> </span><span class="o">~/</span>.<span class="nv">vnc</span>
#<span class="w"> </span><span class="nv">Setup</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">password</span>
<span class="nv">RUN</span><span class="w">     </span><span class="nv">x11vnc</span><span class="w"> </span><span class="o">-</span><span class="nv">storepasswd</span><span class="w"> </span><span class="mi">1234</span><span class="w"> </span><span class="o">~/</span>.<span class="nv">vnc</span><span class="o">/</span><span class="nv">passwd</span>
#<span class="w"> </span><span class="nv">Autostart</span><span class="w"> </span><span class="nv">firefox</span><span class="w"> </span><span class="ss">(</span><span class="nv">might</span><span class="w"> </span><span class="nv">not</span><span class="w"> </span><span class="nv">be</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">best</span><span class="w"> </span><span class="nv">way</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="nv">it</span>,<span class="w"> </span><span class="nv">but</span><span class="w"> </span><span class="nv">it</span><span class="w"> </span><span class="nv">does</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">trick</span><span class="ss">)</span>
<span class="nv">RUN</span><span class="w">     </span><span class="nv">bash</span><span class="w"> </span><span class="o">-</span><span class="nv">c</span><span class="w"> </span><span class="s1">'echo "firefox" &gt;&gt; /.bashrc'</span>
</pre></div>

<p>This will create a Docker container running VNC with the password <code>1234</code>:</p>
<p>For Docker version 18 or newer:</p>
<div class="code"><pre class="code literal-block">docker run -p 5900:5900 -e HOME=/ creack/firefox-vnc x11vnc -forever -usepw -create
</pre></div>

<p>For Docker version 1.3 or newer:</p>
<div class="code"><pre class="code literal-block">docker run -p 5900 -e HOME=/ creack/firefox-vnc x11vnc -forever -usepw -create
</pre></div>

<p>For Docker before version 1.3:</p>
<div class="code"><pre class="code literal-block">docker run -p 5900 creack/firefox-vnc x11vnc -forever -usepw -create
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Xauthority becomes an issue with newer systems. I can either discard any
protection with xhost + before running my docker containers, or I can pass in
a well prepared Xauthority file. Typical Xauthority files are hostname
specific. With docker, each container can have a different host name (set with
docker run -h), but even setting the hostname of the container identical to
the host system did not help in my case. xeyes (I like this example) simply
would ignore the magic cookie and pass no credentials to the server. Hence we
get an error message 'No protocol specified Cannot open display'</p>
<p>The Xauthority file can be written in a way so that the hostname does not
matter. We need to set the Authentication Family to 'FamilyWild'. I am not
sure, if xauth has a proper command line for this, so here is an example that
combines xauth and sed to do that. We need to change the first 16 bits of the
nlist output. The value of FamilyWild is 65535 or 0xffff.</p>
<div class="code"><pre class="code literal-block">docker build -t xeyes - &lt;&lt; __EOF__
FROM debian
RUN apt-get update
RUN apt-get install -qqy x11-apps
ENV DISPLAY :0
CMD xeyes
__EOF__
XSOCK=/tmp/.X11-unix
XAUTH=/tmp/.docker.xauth
xauth nlist :0 | sed -e 's/^..../ffff/' | xauth -f $XAUTH nmerge -
docker run -ti -v $XSOCK:$XSOCK -v $XAUTH:$XAUTH -e XAUTHORITY=$XAUTH xeyes
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-get-the-list-of-all-installed-color-schemes-in-vim/" class="u-url">How to get the list of all installed color schemes in Vim?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-get-the-list-of-all-installed-color-schemes-in-vim/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T05:46:03+08:00" itemprop="datePublished" title="2023-03-03 05:46">2023-03-03 05:46</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is there a way to get a list of all installed color schemes in Vim? That would
make very easy to select one without looking at the <code>.vim</code> directory.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Type</p>
<p><code>:colorscheme</code> then <code>Space</code> followed by <code>TAB</code>.</p>
<p>or as Peter said,</p>
<p><code>:colorscheme</code> then <code>Space</code> followed by <code>CTRL``d</code></p>
<p>The short version of the command is <code>:colo</code> so you can use it in the two
previous commands, instead of using the "long form".</p>
<p><br></p>
<h3>Suggest</h3>
<p>Just for convenient reference as I see that there are a lot of people
searching for this topic and are too laz... sorry, busy, to check for
themselves (including me). Here is a list of the default set of colour schemes
for Vim 7.4:</p>
<div class="code"><pre class="code literal-block">blue.vim
darkblue.vim,
delek.vim
desert.vim
elflord.vim
evening.vim
industry.vim                                                                                                                                                 
koehler.vim                                                                                                                                                  
morning.vim                                                                                                                                                  
murphy.vim                                                                                                                                                   
pablo.vim                                                                                                                                                    
peachpuff.vim                                                                                                                                                
ron.vim                                                                                                                                                      
shine.vim                                                                                                                                                    
slate.vim                                                                                                                                                    
torte.vim                                                                                                                                                    
zellner.vim
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-link-to-a-specific-line-number-on-github/" class="u-url">How to link to a specific line number on GitHub</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-link-to-a-specific-line-number-on-github/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T05:45:39+08:00" itemprop="datePublished" title="2023-03-03 05:45">2023-03-03 05:45</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I know I can link to a specific line number on a file on a GitHub repository
(I'm sure I've seen this before)...</p>
<p>How can I do this?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Don't just link to the line numbers! Be sure to use the canonical URL too.
Otherwise when that file is updated, you'll have a URL that points to the
wrong lines!</p>
<p><strong>How to make a permanent link to the right lines:</strong></p>
<p>Click on the line number you want (like line 18), and the URL in your browser
will get a <code>#L18</code> tacked onto the end. You literally click on the <code>18</code> at the
left side, not the line of code. Looks like this:</p>
<p><img alt="line 18 selected" src="images/Dc0le.png"></p>
<p>And now your browser's URL looks like this:</p>
<div class="code"><pre class="code literal-block">https://github.com/git/git/blob/master/README.md?plain=1#L18
</pre></div>

<p>If you want multiple lines selected, simply hold down the <code>Shift</code> key and
click a second line number, like line 20. Looks like this:</p>
<p><img alt="Enter image description here" src="images/IhXSN.png"></p>
<p>And now your browser's URL looks like this:</p>
<div class="code"><pre class="code literal-block">https://github.com/git/git/blob/master/README.md?plain=1#L18-L20
</pre></div>

<p><strong>Here's the important part:</strong></p>
<p>Now get the canonical URL for that particular commit by pressing the <code>Y</code> key.
The URL in your browser will change to become something like this:</p>
<div class="code"><pre class="code literal-block">https://github.com/git/git/blob/5bdb7a78adf2a2656a1915e6fa656aecb45c1fc3/README#L18-L20
</pre></div>

<p>That link contains the actual SHA-1 hash for that particular commit, rather
than the current version of the file on <code>master</code>. That means that this link
will work forever and not point to lines 18-20 of whatever future version of
that file might contain.</p>
<p>Now bask in the glow of your new permanent link. ;-)</p>
<p>As pointed out by <em>watashiSHUN</em> , GitHub has now made it easier to get the
permanent link by providing a <code>...</code> menu on the left after you select one or
more lines. Please see watashiSHUN's answer too.</p>
<p><img alt="GitHub permalink menu" src="images/vt0iG.png"></p>
<p>Case in point — in the example above, I referred to the "README" file in the
URL. Those non-canonical URLs actually worked when this answer was written.
But now those URLs no longer work since <code>README</code> was moved to <code>README.md</code>. But
the canonical URL with the SHA-1 hash still works, just as expected.</p>
<p>Some files are "renderable", like Markdown files. GitHub requires <code>?plain=1</code>
to show the content of them instead of rendering.</p>
<p><br></p>
<h3>Suggest</h3>
<p><em>broc.seib</em> has a sophisticated answer, but I just want to point out that
instead of pressing <code>Y</code> to get the permanent link, GitHub now has a very
simple UI that helps you to achieve it.</p>
<ol>
<li>Select a line by clicking on the line number or select multiple lines by downholding <code>Shift</code> (the same as how you select multiple folders in File Explorer):</li>
</ol>
<p><img alt="Enter image description here" src="images/uS05m.jpg"></p>
<ol>
<li>On the right hand corner of the first line you selected, expand <code>...</code> and click <em>copy permalink</em>
</li>
</ol>
<p><img alt="Enter image description here" src="images/EmOLS.jpg"></p>
<ol>
<li>That's it. A link with the selected lines and a commit hash is copied to your clipboard:</li>
</ol>
<p><code>https://github.com/python/cpython/blob/c82b7f332aff606af6c9c163da75f1e86514125e/Doc/Makefile#L1-L4</code></p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1638.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1636.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

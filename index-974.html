<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 974) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-974.html">
<link rel="prev" href="index-975.html" type="text/html">
<link rel="next" href="index-973.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-unique-is-uuid/" class="u-url">How unique is UUID?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-unique-is-uuid/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T21:12:54+08:00" itemprop="datePublished" title="2023-02-17 21:12">2023-02-17 21:12</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How safe is it to use UUID to uniquely identify something (I'm using it for
files uploaded to the server)? As I understand it, it is based off random
numbers. However, it seems to me that given enough time, it would eventually
repeat it self, just by pure chance. Is there a better system or a pattern of
some type to alleviate this issue?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Very safe:</p>
<blockquote>
<p>the annual risk of a given person being hit by a meteorite is estimated to
be one chance in 17 billion, which means the probability is about
0.00000000006 (6 × 10−11), equivalent to the odds of creating a few tens of
trillions of UUIDs in a year and having one duplicate. In other words, only
after generating 1 billion UUIDs every second for the next 100 years, the
probability of creating just one duplicate would be about 50%.</p>
</blockquote>
<p>Caveat:</p>
<blockquote>
<p>However, these probabilities only hold when the UUIDs are generated using
sufficient entropy. Otherwise, the probability of duplicates could be
significantly higher, since the statistical dispersion might be lower. Where
unique identifiers are required for distributed applications, so that UUIDs
do not clash even when data from many devices is merged, the randomness of
the seeds and generators used on every device must be reliable for the life
of the application. Where this is not feasible, RFC4122 recommends using a
namespace variant instead.</p>
</blockquote>
<p>Source: The <em>Random UUID probability of duplicates</em> section of the Wikipedia
article on Universally unique identifiers (link leads to a revision from
December 2016 before editing reworked the section).</p>
<p>Also see the current section on the same subject on the same Universally
unique identifier article, <em>Collisions</em>.</p>
<p><br></p>
<h3>Suggest</h3>
<p>If by "given enough time" you mean 100 years and you're creating them at a
rate of a billion a second, then yes, you have a 50% chance of having a
collision after 100 years.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-exclude-one-word-with-grep/" class="u-url">How can I exclude one word with grep?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-exclude-one-word-with-grep/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T21:12:21+08:00" itemprop="datePublished" title="2023-02-17 21:12">2023-02-17 21:12</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I need something like:</p>
<div class="code"><pre class="code literal-block">grep ^"unwanted_word"XXXXXXXX
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>You can do it using <code>-v</code> (for <code>--invert-match</code>) option of grep as:</p>
<div class="code"><pre class="code literal-block">grep -v "unwanted_word" file | grep XXXXXXXX
</pre></div>

<p><code>grep -v "unwanted_word" file</code> will filter the lines that have the
<code>unwanted_word</code> and <code>grep XXXXXXXX</code> will list only lines with pattern
<code>XXXXXXXX</code>.</p>
<p><strong>EDIT:</strong></p>
<p>From your comment it looks like you want to list all lines without the
<code>unwanted_word</code>. In that case all you need is:</p>
<div class="code"><pre class="code literal-block">grep -v 'unwanted_word' file
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>I understood the question as "How do I match a word but exclude another", for
which one solution is two greps in series: First grep finding the wanted
"word1", second grep excluding "word2":</p>
<div class="code"><pre class="code literal-block">grep "word1" | grep -v "word2"
</pre></div>

<p>In my case: I need to differentiate between "plot" and "#plot" which grep's
"word" option won't do ("#" not being a alphanumerical).</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-return-null-from-a-generic-method-in-c/" class="u-url">How can I return NULL from a generic method in C#?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-return-null-from-a-generic-method-in-c/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T21:11:47+08:00" itemprop="datePublished" title="2023-02-17 21:11">2023-02-17 21:11</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a generic method with this (dummy) code (yes I'm aware IList has
predicates, but my code is not using IList but some other collection, anyway
this is irrelevant for the question...)</p>
<div class="code"><pre class="code literal-block"><span class="w">    </span><span class="nv">static</span><span class="w"> </span><span class="nv">T</span><span class="w"> </span><span class="nv">FindThing</span><span class="o">&lt;</span><span class="nv">T</span><span class="o">&gt;</span><span class="ss">(</span><span class="nv">IList</span><span class="w"> </span><span class="nv">collection</span>,<span class="w"> </span><span class="nv">int</span><span class="w"> </span><span class="nv">id</span><span class="ss">)</span><span class="w"> </span><span class="nv">where</span><span class="w"> </span><span class="nv">T</span><span class="w"> </span>:<span class="w"> </span><span class="nv">IThing</span>,<span class="w"> </span><span class="nv">new</span><span class="ss">()</span>
<span class="w">    </span>{
<span class="w">        </span><span class="nv">foreach</span><span class="w"> </span><span class="ss">(</span><span class="nv">T</span><span class="w"> </span><span class="nv">thing</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">collection</span><span class="ss">)</span>
<span class="w">        </span>{
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">thing</span>.<span class="nv">Id</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">id</span><span class="ss">)</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="nv">thing</span><span class="c1">;</span>
<span class="w">        </span>}
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nv">null</span><span class="c1">;  // ERROR: Cannot convert null to type parameter 'T' because it could be a value type. Consider using 'default(T)' instead.</span>
<span class="w">    </span>}
</pre></div>

<p>This gives me a build error</p>
<blockquote>
<p>"Cannot convert null to type parameter 'T' because it could be a value type.
Consider using 'default(T)' instead."</p>
</blockquote>
<p>Can I avoid this error?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Three options:</p>
<ul>
<li>Return <code>default</code> (or <code>default(T)</code> for older versions of C#) which means you'll return <code>null</code> if <code>T</code> is a reference type (or a nullable value type), <code>0</code> for <code>int</code>, <code>'\0'</code> for <code>char</code>, etc. (Default values table (C# Reference))</li>
<li>If you're happy to restrict <code>T</code> to be a reference type with the <code>where T : class</code> constraint and then return <code>null</code> as normal</li>
<li>If you're happy to restrict <code>T</code> to be a non-nullable value type with the <code>where T : struct</code> constraint, then again you can return <code>null</code> as normal from a method with a return value of <code>T?</code> - note that this is <em>not</em> returning a null reference, but the null value of the nullable value type.</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<div class="code"><pre class="code literal-block"><span class="k">return</span><span class="w"> </span><span class="nv">default</span><span class="ss">(</span><span class="nv">T</span><span class="ss">)</span><span class="c1">;</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-975.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-973.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

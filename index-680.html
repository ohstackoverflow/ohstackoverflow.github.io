<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 680) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-680.html">
<link rel="prev" href="index-681.html" type="text/html">
<link rel="next" href="index-679.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-print-a-date-in-a-regular-format/" class="u-url">How to print a date in a regular format?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-print-a-date-in-a-regular-format/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T13:09:06+08:00" itemprop="datePublished" title="2023-02-17 13:09">2023-02-17 13:09</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>This is my code:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">datetime</span>
<span class="n">today</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">today</span><span class="p">)</span>
</pre></div>

<p>This prints: <code>2008-11-22</code> which is exactly what I want.</p>
<p>But, I have a list I'm appending this to and then suddenly everything goes
"wonky". Here is the code:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">datetime</span>
<span class="n">mylist</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">today</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
<span class="n">mylist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">today</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mylist</span><span class="p">)</span>
</pre></div>

<p>This prints the following:</p>
<div class="code"><pre class="code literal-block">[datetime.date(2008, 11, 22)]
</pre></div>

<p>How can I get just a simple date like <code>2008-11-22</code>?</p>
<p><br><br></p>
<h2>Answer</h2>
<h3>The WHY: dates are objects</h3>
<p>In Python, dates are objects. Therefore, when you manipulate them, you
manipulate objects, not strings or timestamps.</p>
<p>Any object in Python has TWO string representations:</p>
<ul>
<li>
<p>The regular representation that is used by <code>print</code> can be get using the <code>str()</code> function. It is most of the time the most common human readable format and is used to ease display. So <code>str(datetime.datetime(2008, 11, 22, 19, 53, 42))</code> gives you <code>'2008-11-22 19:53:42'</code>.</p>
</li>
<li>
<p>The alternative representation that is used to represent the object nature (as a data). It can be get using the <code>repr()</code> function and is handy to know what kind of data your manipulating while you are developing or debugging. <code>repr(datetime.datetime(2008, 11, 22, 19, 53, 42))</code> gives you <code>'datetime.datetime(2008, 11, 22, 19, 53, 42)'</code>.</p>
</li>
</ul>
<p>What happened is that when you have printed the date using <code>print</code>, it used
<code>str()</code> so you could see a nice date string. But when you have printed
<code>mylist</code>, you have printed a list of objects and Python tried to represent the
set of data, using <code>repr()</code>.</p>
<h3>The How: what do you want to do with that?</h3>
<p>Well, when you manipulate dates, keep using the date objects all long the way.
They got thousand of useful methods and most of the Python API expect dates to
be objects.</p>
<p>When you want to display them, just use <code>str()</code>. In Python, the good practice
is to explicitly cast everything. So just when it's time to print, get a
string representation of your date using <code>str(date)</code>.</p>
<p>One last thing. When you tried to print the dates, you printed <code>mylist</code>. If
you want to print a date, you must print the date objects, not their container
(the list).</p>
<p>E.G, you want to print all the date in a list :</p>
<div class="code"><pre class="code literal-block"><span class="k">for</span><span class="w"> </span><span class="nv">date</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">mylist</span><span class="w"> </span>:
<span class="w">    </span><span class="nv">print</span><span class="w"> </span><span class="nv">str</span><span class="ss">(</span><span class="nv">date</span><span class="ss">)</span>
</pre></div>

<p>Note that <em><strong>in that specific case</strong></em> , you can even omit <code>str()</code> because
print will use it for you. But it should not become a habit :-)</p>
<h3>Practical case, using your code</h3>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">datetime</span>
<span class="n">mylist</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">today</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
<span class="n">mylist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">today</span><span class="p">)</span>
<span class="nb">print</span> <span class="n">mylist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># print the date object, not the container ;-)</span>
<span class="mi">2008</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">22</span>

<span class="c1"># It's better to always use str() because :</span>

<span class="nb">print</span> <span class="s2">"This is a new day : "</span><span class="p">,</span> <span class="n">mylist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># will work</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">new</span> <span class="n">day</span> <span class="p">:</span> <span class="mi">2008</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">22</span>

<span class="nb">print</span> <span class="s2">"This is a new day : "</span> <span class="o">+</span> <span class="n">mylist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># will crash</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">cannot</span> <span class="n">concatenate</span> <span class="s1">'str'</span> <span class="ow">and</span> <span class="s1">'datetime.date'</span> <span class="n">objects</span>

<span class="nb">print</span> <span class="s2">"This is a new day : "</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">mylist</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">new</span> <span class="n">day</span> <span class="p">:</span> <span class="mi">2008</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">22</span>
</pre></div>

<h3>Advanced date formatting</h3>
<p>Dates have a default representation, but you may want to print them in a
specific format. In that case, you can get a custom string representation
using the <code>strftime()</code> method.</p>
<p><code>strftime()</code> expects a string pattern explaining how you want to format your
date.</p>
<p>E.G :</p>
<div class="code"><pre class="code literal-block">print today.strftime('We are the %d, %b %Y')
&gt;&gt;&gt; 'We are the 22, Nov 2008'
</pre></div>

<p>All the letter after a <code>"%"</code> represent a format for something:</p>
<ul>
<li>
<code>%d</code> is the day number (2 digits, prefixed with leading zero's if necessary)</li>
<li>
<code>%m</code> is the month number (2 digits, prefixed with leading zero's if necessary)</li>
<li>
<code>%b</code> is the month abbreviation (3 letters)</li>
<li>
<code>%B</code> is the month name in full (letters)</li>
<li>
<code>%y</code> is the year number abbreviated (last 2 digits)</li>
<li>
<code>%Y</code> is the year number full (4 digits)</li>
</ul>
<p>etc.</p>
<p>Have a look at the official documentation, or McCutchen's quick reference you
can't know them all.</p>
<p>Since PEP3101, every object can have its own format used automatically by the
method format of any string. In the case of the datetime, the format is the
same used in strftime. So you can do the same as above like this:</p>
<div class="code"><pre class="code literal-block">print "We are the {:%d, %b %Y}".format(today)
&gt;&gt;&gt; 'We are the 22, Nov 2008'
</pre></div>

<p>The advantage of this form is that you can also convert other objects at the
same time.<br>
With the introduction of Formatted string literals (since Python 3.6,
2016-12-23) this can be written as</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">datetime</span>
<span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="si">:</span><span class="s2">%Y-%m-%d</span><span class="si">}</span><span class="s2">"</span>
<span class="o">&gt;&gt;&gt;</span> <span class="s1">'2017-06-15'</span>
</pre></div>

<h3>Localization</h3>
<p>Dates can automatically adapt to the local language and culture if you use
them the right way, but it's a bit complicated. Maybe for another question on
SO(Stack Overflow) ;-)</p>
<p><br></p>
<h3>Suggest</h3>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">datetime</span>
<span class="nb">print</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">"%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M"</span><span class="p">)</span>
</pre></div>

<p><strong>Edit:</strong></p>
<p>After Cees' suggestion, I have started using time as well:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">time</span>
<span class="nb">print</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">"%Y-%m-</span><span class="si">%d</span><span class="s2"> %H:%M"</span><span class="p">)</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-combine-multiple-querysets-in-django/" class="u-url">How to combine multiple querysets in Django?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-combine-multiple-querysets-in-django/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T13:08:38+08:00" itemprop="datePublished" title="2023-02-17 13:08">2023-02-17 13:08</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm trying to build the search for a Django site I am building, and in that
search, I am searching in three different models. And to get pagination on the
search result list, I would like to use a generic object_list view to display
the results. But to do that, I have to merge three querysets into one.</p>
<p>How can I do that? I've tried this:</p>
<div class="code"><pre class="code literal-block"><span class="nv">result_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[]
<span class="nv">page_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Page</span>.<span class="nv">objects</span>.<span class="nv">filter</span><span class="ss">(</span>
<span class="w">    </span><span class="nv">Q</span><span class="ss">(</span><span class="nv">title__icontains</span><span class="o">=</span><span class="nv">cleaned_search_term</span><span class="ss">)</span><span class="w"> </span><span class="o">|</span>
<span class="w">    </span><span class="nv">Q</span><span class="ss">(</span><span class="nv">body__icontains</span><span class="o">=</span><span class="nv">cleaned_search_term</span><span class="ss">))</span>
<span class="nv">article_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Article</span>.<span class="nv">objects</span>.<span class="nv">filter</span><span class="ss">(</span>
<span class="w">    </span><span class="nv">Q</span><span class="ss">(</span><span class="nv">title__icontains</span><span class="o">=</span><span class="nv">cleaned_search_term</span><span class="ss">)</span><span class="w"> </span><span class="o">|</span>
<span class="w">    </span><span class="nv">Q</span><span class="ss">(</span><span class="nv">body__icontains</span><span class="o">=</span><span class="nv">cleaned_search_term</span><span class="ss">)</span><span class="w"> </span><span class="o">|</span>
<span class="w">    </span><span class="nv">Q</span><span class="ss">(</span><span class="nv">tags__icontains</span><span class="o">=</span><span class="nv">cleaned_search_term</span><span class="ss">))</span>
<span class="nv">post_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Post</span>.<span class="nv">objects</span>.<span class="nv">filter</span><span class="ss">(</span>
<span class="w">    </span><span class="nv">Q</span><span class="ss">(</span><span class="nv">title__icontains</span><span class="o">=</span><span class="nv">cleaned_search_term</span><span class="ss">)</span><span class="w"> </span><span class="o">|</span>
<span class="w">    </span><span class="nv">Q</span><span class="ss">(</span><span class="nv">body__icontains</span><span class="o">=</span><span class="nv">cleaned_search_term</span><span class="ss">)</span><span class="w"> </span><span class="o">|</span>
<span class="w">    </span><span class="nv">Q</span><span class="ss">(</span><span class="nv">tags__icontains</span><span class="o">=</span><span class="nv">cleaned_search_term</span><span class="ss">))</span>

<span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">page_list</span>:
<span class="w">    </span><span class="nv">result_list</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">x</span><span class="ss">)</span>
<span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">article_list</span>:
<span class="w">    </span><span class="nv">result_list</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">x</span><span class="ss">)</span>
<span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">post_list</span>:
<span class="w">    </span><span class="nv">result_list</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">x</span><span class="ss">)</span>

<span class="k">return</span><span class="w"> </span><span class="nv">object_list</span><span class="ss">(</span>
<span class="w">    </span><span class="nv">request</span>,
<span class="w">    </span><span class="nv">queryset</span><span class="o">=</span><span class="nv">result_list</span>,
<span class="w">    </span><span class="nv">template_object_name</span><span class="o">=</span><span class="s1">'result'</span>,
<span class="w">    </span><span class="nv">paginate_by</span><span class="o">=</span><span class="mi">10</span>,
<span class="w">    </span><span class="nv">extra_context</span><span class="o">=</span>{
<span class="w">        </span><span class="s1">'search_term'</span>:<span class="w"> </span><span class="nv">search_term</span>},
<span class="w">    </span><span class="nv">template_name</span><span class="o">=</span><span class="s2">"search/result_list.html"</span><span class="ss">)</span>
</pre></div>

<p>But this doesn't work. I get an error when I try to use that list in the
generic view. The list is missing the clone attribute.</p>
<p>How can I merge the three lists, <code>page_list</code>, <code>article_list</code> and <code>post_list</code>?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Concatenating the querysets into a list is the simplest approach. If the
database will be hit for all querysets anyway (e.g. because the result needs
to be sorted), this won't add further cost.</p>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">chain</span>
<span class="n">result_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">chain</span><span class="p">(</span><span class="n">page_list</span><span class="p">,</span> <span class="n">article_list</span><span class="p">,</span> <span class="n">post_list</span><span class="p">))</span>
</pre></div>

<p>Using <code>itertools.chain</code> is faster than looping each list and appending
elements one by one, since <code>itertools</code> is implemented in C. It also consumes
less memory than converting each queryset into a list before concatenating.</p>
<p>Now it's possible to sort the resulting list e.g. by date (as requested in
hasen j's comment to another answer). The <code>sorted()</code> function conveniently
accepts a generator and returns a list:</p>
<div class="code"><pre class="code literal-block">result_list = sorted(
    chain(page_list, article_list, post_list),
    key=lambda instance: instance.date_created)
</pre></div>

<p>If you're using Python 2.4 or later, you can use <code>attrgetter</code> instead of a
lambda. I remember reading about it being faster, but I didn't see a
noticeable speed difference for a million item list.</p>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">operator</span> <span class="kn">import</span> <span class="n">attrgetter</span>
<span class="n">result_list</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span>
    <span class="n">chain</span><span class="p">(</span><span class="n">page_list</span><span class="p">,</span> <span class="n">article_list</span><span class="p">,</span> <span class="n">post_list</span><span class="p">),</span>
    <span class="n">key</span><span class="o">=</span><span class="n">attrgetter</span><span class="p">(</span><span class="s1">'date_created'</span><span class="p">))</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Try this:</p>
<div class="code"><pre class="code literal-block">matches = pages | articles | posts
</pre></div>

<p>It retains all the functions of the querysets which is nice if you want to
<code>order_by</code> or similar.</p>
<p><strong>Please note:</strong> this doesn't work on querysets from two different models.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/split-a-string-into-an-array-in-swift/" class="u-url">Split a String into an array in Swift?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/split-a-string-into-an-array-in-swift/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T13:08:09+08:00" itemprop="datePublished" title="2023-02-17 13:08">2023-02-17 13:08</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Say I have a string here:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">fullName</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">String</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"First Last"</span>
</pre></div>

<p>I want to split the string base on white space and assign the values to their
respective variables</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">fullNameArr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">something</span><span class="w"> </span><span class="n">like</span><span class="p">:</span><span class="w"> </span><span class="n">fullName</span><span class="o">.</span><span class="n">explode</span><span class="p">(</span><span class="s2">" "</span><span class="p">)</span>

<span class="k">var</span><span class="w"> </span><span class="n">firstName</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">String</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fullNameArr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="k">var</span><span class="w"> </span><span class="n">lastName</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">String</span><span class="err">?</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fullnameArr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>

<p>Also, sometimes users might not have a last name.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The Swift way is to use the global <code>split</code> function, like so:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">fullName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"First Last"</span>
<span class="k">var</span><span class="w"> </span><span class="n">fullNameArr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">split</span><span class="p">(</span><span class="n">fullName</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="o">$</span><span class="mi">0</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">" "</span><span class="p">}</span>
<span class="k">var</span><span class="w"> </span><span class="n">firstName</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">String</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fullNameArr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="k">var</span><span class="w"> </span><span class="n">lastName</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">String</span><span class="err">?</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fullNameArr</span><span class="o">.</span><span class="n">count</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="err">?</span><span class="w"> </span><span class="n">fullNameArr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">nil</span>
</pre></div>

<p>with <strong>Swift 2</strong></p>
<p>In Swift 2 the use of split becomes a bit more complicated due to the
introduction of the internal CharacterView type. This means that String no
longer adopts the SequenceType or CollectionType protocols and you must
instead use the <code>.characters</code> property to access a CharacterView type
representation of a String instance. (Note: CharacterView does adopt
SequenceType and CollectionType protocols).</p>
<div class="code"><pre class="code literal-block"><span class="x">let fullName = "First Last"</span>
<span class="x">let fullNameArr = fullName.characters.split</span><span class="cp">{</span><span class="err">$</span><span class="m">0</span> <span class="o">==</span> <span class="s2">" "</span><span class="cp">}</span><span class="x">.map(String.init)</span>
<span class="x">// or simply:</span>
<span class="x">// let fullNameArr = fullName.characters.split</span><span class="cp">{</span><span class="s2">" "</span><span class="cp">}</span><span class="x">.map(String.init)</span>

<span class="x">fullNameArr[0] // First</span>
<span class="x">fullNameArr[1] // Last</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>The Swift way is to use the global <code>split</code> function, like so:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">fullName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"First Last"</span>
<span class="k">var</span><span class="w"> </span><span class="n">fullNameArr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">split</span><span class="p">(</span><span class="n">fullName</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="o">$</span><span class="mi">0</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">" "</span><span class="p">}</span>
<span class="k">var</span><span class="w"> </span><span class="n">firstName</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">String</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fullNameArr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="k">var</span><span class="w"> </span><span class="n">lastName</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">String</span><span class="err">?</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fullNameArr</span><span class="o">.</span><span class="n">count</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="err">?</span><span class="w"> </span><span class="n">fullNameArr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">nil</span>
</pre></div>

<p>with <strong>Swift 2</strong></p>
<p>In Swift 2 the use of split becomes a bit more complicated due to the
introduction of the internal CharacterView type. This means that String no
longer adopts the SequenceType or CollectionType protocols and you must
instead use the <code>.characters</code> property to access a CharacterView type
representation of a String instance. (Note: CharacterView does adopt
SequenceType and CollectionType protocols).</p>
<div class="code"><pre class="code literal-block"><span class="x">let fullName = "First Last"</span>
<span class="x">let fullNameArr = fullName.characters.split</span><span class="cp">{</span><span class="err">$</span><span class="m">0</span> <span class="o">==</span> <span class="s2">" "</span><span class="cp">}</span><span class="x">.map(String.init)</span>
<span class="x">// or simply:</span>
<span class="x">// let fullNameArr = fullName.characters.split</span><span class="cp">{</span><span class="s2">" "</span><span class="cp">}</span><span class="x">.map(String.init)</span>

<span class="x">fullNameArr[0] // First</span>
<span class="x">fullNameArr[1] // Last</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-681.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-679.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 438) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-438.html">
<link rel="prev" href="index-439.html" type="text/html">
<link rel="next" href="index-437.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-style-a-checkbox-using-css/" class="u-url">How to style a checkbox using CSS</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-style-a-checkbox-using-css/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T06:51:12+08:00" itemprop="datePublished" title="2023-02-17 06:51">2023-02-17 06:51</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am trying to style a checkbox using the following:</p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;</span><span class="nt">input</span><span class="w"> </span><span class="nt">type</span><span class="o">=</span><span class="s2">"checkbox"</span><span class="w"> </span><span class="nt">style</span><span class="o">=</span><span class="s2">"border:2px dotted #00f;display:block;background:#ff0000;"</span><span class="w"> </span><span class="o">/&gt;</span>
</pre></div>

<p>But the style is not applied. The checkbox still displays its default style.
How do I give it the specified style?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>UPDATE:</p>
<p>The below answer references the state of things before widespread availability
of CSS 3. In modern browsers (including Internet Explorer 9 and later) it is
more straightforward to create checkbox replacements with your preferred
styling, without using JavaScript.</p>
<p>Here are some useful links:</p>
<ul>
<li>Creating Custom Form Checkboxes with Just CSS</li>
<li>Easy CSS Checkbox Generator</li>
<li>Stuff You Can Do With The Checkbox Hack</li>
<li>Implementing Custom Checkboxes and Radio Buttons with CSS3</li>
<li>How to Style a Checkbox With CSS</li>
</ul>
<p>It is worth noting that the fundamental issue has not changed. You still can't
apply styles (borders, etc.) directly to the checkbox element and have those
styles affect the display of the HTML checkbox. What has changed, however, is
that it's now possible to hide the actual checkbox and replace it with a
styled element of your own, using nothing but CSS. In particular, because CSS
now has a widely supported <code>:checked</code> selector, you can make your replacement
correctly reflect the checked status of the box.</p>
<hr>
<p>OLDER ANSWER</p>
<p>Here's a useful article about styling checkboxes. Basically, that writer found
that it varies tremendously from browser to browser, and that many browsers
always display the default checkbox no matter how you style it. So there
really isn't an easy way.</p>
<p>It's not hard to imagine a workaround where you would use JavaScript to
overlay an image on the checkbox and have clicks on that image cause the real
checkbox to be checked. Users without JavaScript would see the default
checkbox.</p>
<p>Edited to add: here's a nice script that does this for you; it hides the real
checkbox element, replaces it with a styled span, and redirects the click
events.</p>
<p><br></p>
<h3>Suggest</h3>
<p>You can achieve quite a cool custom checkbox effect by using the new abilities
that come with the <code>:after</code> and <code>:before</code> pseudo classes. The advantage to
this, is: You don't need to add anything more to the DOM, just the standard
checkbox.</p>
<p>Note this will only work for compatible browsers. I believe this is related to
the fact that some browsers do not allow you to set <code>:after</code> and <code>:before</code> on
input elements. Which unfortunately means for the moment only WebKit browsers
are supported. Firefox + Internet Explorer will still allow the checkboxes to
function, just unstyled, and this will hopefully change in the future (the
code does not use vendor prefixes).</p>
<p><strong>This is a WebKit browser solution only (Chrome, Safari, Mobile browsers)</strong></p>
<p><strong>See Example Fiddle</strong></p>
<div class="code"><pre class="code literal-block"><span class="nf">$</span><span class="p">(</span><span class="no">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nf">$</span><span class="p">(</span><span class="err">'</span><span class="no">input</span><span class="err">'</span><span class="p">).</span><span class="no">change</span><span class="p">(</span><span class="no">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nf">$</span><span class="p">(</span><span class="err">'</span><span class="no">div</span><span class="err">'</span><span class="p">).</span><span class="no">html</span><span class="p">(</span><span class="no">Math.random</span><span class="p">())</span><span class="c1">;</span>
<span class="w">  </span><span class="err">})</span><span class="c1">;</span>
<span class="err">})</span><span class="c1">;</span>


<span class="cm">/* Main Classes */</span>
<span class="na">.myinput</span><span class="p">[</span><span class="no">type</span><span class="err">=</span><span class="s">"checkbox"</span><span class="p">]:</span><span class="no">before</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nl">position:</span><span class="w"> </span><span class="nf">relative</span><span class="c1">;</span>
<span class="w">  </span><span class="nl">display:</span><span class="w"> </span><span class="nf">block</span><span class="c1">;</span>
<span class="w">  </span><span class="nl">width:</span><span class="w"> </span><span class="err">11</span><span class="nf">px</span><span class="c1">;</span>
<span class="w">  </span><span class="nl">height:</span><span class="w"> </span><span class="err">11</span><span class="nf">px</span><span class="c1">;</span>
<span class="w">  </span><span class="nl">border:</span><span class="w"> </span><span class="err">1</span><span class="nf">px</span><span class="w"> </span><span class="no">solid</span><span class="w"> </span><span class="mi">#808080</span><span class="c1">;</span>
<span class="w">  </span><span class="nl">content:</span><span class="w"> </span><span class="err">""</span><span class="c1">;</span>
<span class="w">  </span><span class="nl">background:</span><span class="w"> </span><span class="c1">#FFF;</span>
<span class="err">}</span>

<span class="na">.myinput</span><span class="p">[</span><span class="no">type</span><span class="err">=</span><span class="s">"checkbox"</span><span class="p">]:</span><span class="no">after</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nl">position:</span><span class="w"> </span><span class="nf">relative</span><span class="c1">;</span>
<span class="w">  </span><span class="nl">display:</span><span class="w"> </span><span class="nf">block</span><span class="c1">;</span>
<span class="w">  </span><span class="nl">left:</span><span class="w"> </span><span class="err">2</span><span class="nf">px</span><span class="c1">;</span>
<span class="w">  </span><span class="nl">top:</span><span class="w"> </span><span class="err">-11</span><span class="nf">px</span><span class="c1">;</span>
<span class="w">  </span><span class="nl">width:</span><span class="w"> </span><span class="err">7</span><span class="nf">px</span><span class="c1">;</span>
<span class="w">  </span><span class="nl">height:</span><span class="w"> </span><span class="err">7</span><span class="nf">px</span><span class="c1">;</span>
<span class="w">  </span><span class="nl">border-width:</span><span class="w"> </span><span class="err">1</span><span class="nf">px</span><span class="c1">;</span>
<span class="w">  </span><span class="nl">border-style:</span><span class="w"> </span><span class="nf">solid</span><span class="c1">;</span>
<span class="w">  </span><span class="nl">border-color:</span><span class="w"> </span><span class="c1">#B3B3B3 #dcddde #dcddde #B3B3B3;</span>
<span class="w">  </span><span class="nl">content:</span><span class="w"> </span><span class="err">""</span><span class="c1">;</span>
<span class="w">  </span><span class="nl">background-image:</span><span class="w"> </span><span class="nf">linear-gradient</span><span class="p">(</span><span class="mi">135</span><span class="no">deg</span><span class="p">,</span><span class="w"> </span><span class="c1">#B1B6BE 0%, #FFF 100%);</span>
<span class="w">  </span><span class="nl">background-repeat:</span><span class="w"> </span><span class="nf">no-repeat</span><span class="c1">;</span>
<span class="w">  </span><span class="nl">background-position:</span><span class="w"> </span><span class="nf">center</span><span class="c1">;</span>
<span class="err">}</span>

<span class="na">.myinput</span><span class="p">[</span><span class="no">type</span><span class="err">=</span><span class="s">"checkbox"</span><span class="p">]:</span><span class="no">checked</span><span class="p">:</span><span class="no">after</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nl">background-image:</span><span class="w"> </span><span class="nf">url</span><span class="p">(</span><span class="err">'</span><span class="no">data</span><span class="p">:</span><span class="no">image</span><span class="err">/</span><span class="no">png</span><span class="c1">;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAQAAABuW59YAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAB2SURBVHjaAGkAlv8A3QDyAP0A/QD+Dam3W+kCAAD8APYAAgTVZaZCGwwA5wr0AvcA+Dh+7UX/x24AqK3Wg/8nt6w4/5q71wAAVP9g/7rTXf9n/+9N+AAAtpJa/zf/S//DhP8H/wAA4gzWj2P4lsf0JP0A/wADAHB0Ngka6UmKAAAAAElFTkSuQmCC'), linear-gradient(135deg, #B1B6BE 0%, #FFF 100%);</span>
<span class="err">}</span>

<span class="na">.myinput</span><span class="p">[</span><span class="no">type</span><span class="err">=</span><span class="s">"checkbox"</span><span class="p">]:</span><span class="no">disabled</span><span class="p">:</span><span class="no">after</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="err">-</span><span class="nl">webkit-filter:</span><span class="w"> </span><span class="nf">opacity</span><span class="p">(</span><span class="mi">0</span><span class="no">.4</span><span class="p">)</span><span class="c1">;</span>
<span class="err">}</span>

<span class="na">.myinput</span><span class="p">[</span><span class="no">type</span><span class="err">=</span><span class="s">"checkbox"</span><span class="p">]:</span><span class="no">not</span><span class="p">(:</span><span class="no">disabled</span><span class="p">):</span><span class="no">checked</span><span class="p">:</span><span class="no">hover</span><span class="p">:</span><span class="no">after</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nl">background-image:</span><span class="w"> </span><span class="nf">url</span><span class="p">(</span><span class="err">'</span><span class="no">data</span><span class="p">:</span><span class="no">image</span><span class="err">/</span><span class="no">png</span><span class="c1">;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAQAAABuW59YAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAB2SURBVHjaAGkAlv8A3QDyAP0A/QD+Dam3W+kCAAD8APYAAgTVZaZCGwwA5wr0AvcA+Dh+7UX/x24AqK3Wg/8nt6w4/5q71wAAVP9g/7rTXf9n/+9N+AAAtpJa/zf/S//DhP8H/wAA4gzWj2P4lsf0JP0A/wADAHB0Ngka6UmKAAAAAElFTkSuQmCC'), linear-gradient(135deg, #8BB0C2 0%, #FFF 100%);</span>
<span class="err">}</span>

<span class="na">.myinput</span><span class="p">[</span><span class="no">type</span><span class="err">=</span><span class="s">"checkbox"</span><span class="p">]:</span><span class="no">not</span><span class="p">(:</span><span class="no">disabled</span><span class="p">):</span><span class="no">hover</span><span class="p">:</span><span class="no">after</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nl">background-image:</span><span class="w"> </span><span class="nf">linear-gradient</span><span class="p">(</span><span class="mi">135</span><span class="no">deg</span><span class="p">,</span><span class="w"> </span><span class="mi">#8</span><span class="no">BB0C2</span><span class="w"> </span><span class="mi">0</span><span class="err">%</span><span class="p">,</span><span class="w"> </span><span class="c1">#FFF 100%);</span>
<span class="w">  </span><span class="nl">border-color:</span><span class="w"> </span><span class="c1">#85A9BB #92C2DA #92C2DA #85A9BB;</span>
<span class="err">}</span>

<span class="na">.myinput</span><span class="p">[</span><span class="no">type</span><span class="err">=</span><span class="s">"checkbox"</span><span class="p">]:</span><span class="no">not</span><span class="p">(:</span><span class="no">disabled</span><span class="p">):</span><span class="no">hover</span><span class="p">:</span><span class="no">before</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nl">border-color:</span><span class="w"> </span><span class="c1">#3D7591;</span>
<span class="err">}</span>

<span class="cm">/* Large checkboxes */</span>
<span class="na">.myinput.large</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nl">height:</span><span class="w"> </span><span class="err">22</span><span class="nf">px</span><span class="c1">;</span>
<span class="w">  </span><span class="nl">width:</span><span class="w"> </span><span class="err">22</span><span class="nf">px</span><span class="c1">;</span>
<span class="err">}</span>

<span class="na">.myinput.large</span><span class="p">[</span><span class="no">type</span><span class="err">=</span><span class="s">"checkbox"</span><span class="p">]:</span><span class="no">before</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nl">width:</span><span class="w"> </span><span class="err">20</span><span class="nf">px</span><span class="c1">;</span>
<span class="w">  </span><span class="nl">height:</span><span class="w"> </span><span class="err">20</span><span class="nf">px</span><span class="c1">;</span>
<span class="err">}</span>

<span class="na">.myinput.large</span><span class="p">[</span><span class="no">type</span><span class="err">=</span><span class="s">"checkbox"</span><span class="p">]:</span><span class="no">after</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nl">top:</span><span class="w"> </span><span class="err">-20</span><span class="nf">px</span><span class="c1">;</span>
<span class="w">  </span><span class="nl">width:</span><span class="w"> </span><span class="err">16</span><span class="nf">px</span><span class="c1">;</span>
<span class="w">  </span><span class="nl">height:</span><span class="w"> </span><span class="err">16</span><span class="nf">px</span><span class="c1">;</span>
<span class="err">}</span>

<span class="cm">/* Custom checkbox */</span>
<span class="na">.myinput.large.custom</span><span class="p">[</span><span class="no">type</span><span class="err">=</span><span class="s">"checkbox"</span><span class="p">]:</span><span class="no">checked</span><span class="p">:</span><span class="no">after</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nl">background-image:</span><span class="w"> </span><span class="nf">url</span><span class="p">(</span><span class="err">'</span><span class="no">data</span><span class="p">:</span><span class="no">image</span><span class="err">/</span><span class="no">png</span><span class="c1">;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGHRFWHRBdXRob3IAbWluZWNyYWZ0aW5mby5jb23fZidLAAAAk0lEQVQ4y2P4//8/AyUYwcAD+OzN/oMwshjRBoA0Gr8+DcbIhhBlAEyz+qZZ/7WPryHNAGTNMOxpJvo/w0/uP0kGgGwGaZbrKgfTGnLc/0nyAgiDbEY2BCRGdCDCnA2yGeYVog0Aae5MV4c7Gzk6CRqAbDM2w/EaQEgzXgPQnU2SAcTYjNMAYm3GaQCxNuM0gFwMAPUKd8XyBVDcAAAAAElFTkSuQmCC'), linear-gradient(135deg, #B1B6BE 0%, #FFF 100%);</span>
<span class="err">}</span>

<span class="na">.myinput.large.custom</span><span class="p">[</span><span class="no">type</span><span class="err">=</span><span class="s">"checkbox"</span><span class="p">]:</span><span class="no">not</span><span class="p">(:</span><span class="no">disabled</span><span class="p">):</span><span class="no">checked</span><span class="p">:</span><span class="no">hover</span><span class="p">:</span><span class="no">after</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nl">background-image:</span><span class="w"> </span><span class="nf">url</span><span class="p">(</span><span class="err">'</span><span class="no">data</span><span class="p">:</span><span class="no">image</span><span class="err">/</span><span class="no">png</span><span class="c1">;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGHRFWHRBdXRob3IAbWluZWNyYWZ0aW5mby5jb23fZidLAAAAk0lEQVQ4y2P4//8/AyUYwcAD+OzN/oMwshjRBoA0Gr8+DcbIhhBlAEyz+qZZ/7WPryHNAGTNMOxpJvo/w0/uP0kGgGwGaZbrKgfTGnLc/0nyAgiDbEY2BCRGdCDCnA2yGeYVog0Aae5MV4c7Gzk6CRqAbDM2w/EaQEgzXgPQnU2SAcTYjNMAYm3GaQCxNuM0gFwMAPUKd8XyBVDcAAAAAElFTkSuQmCC'), linear-gradient(135deg, #8BB0C2 0%, #FFF 100%);</span>
<span class="err">}</span>


<span class="err">&lt;</span><span class="nf">script</span><span class="w"> </span><span class="no">src</span><span class="err">="</span><span class="no">https</span><span class="p">:</span><span class="c1">//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"&gt;&lt;/script&gt;</span>

<span class="err">&lt;</span><span class="nf">table</span><span class="w"> </span><span class="no">style</span><span class="err">="</span><span class="no">width</span><span class="p">:</span><span class="mi">100</span><span class="err">%"&gt;</span>
<span class="w">  </span><span class="err">&lt;</span><span class="nf">tr</span><span class="err">&gt;</span>
<span class="w">    </span><span class="err">&lt;</span><span class="nf">td</span><span class="err">&gt;</span><span class="no">Normal</span><span class="p">:</span><span class="err">&lt;/</span><span class="no">td</span><span class="err">&gt;</span>
<span class="w">    </span><span class="err">&lt;</span><span class="nf">td</span><span class="err">&gt;&lt;</span><span class="no">input</span><span class="w"> </span><span class="no">type</span><span class="err">="</span><span class="no">checkbox</span><span class="err">"</span><span class="w"> </span><span class="err">/&gt;&lt;/</span><span class="no">td</span><span class="err">&gt;</span>
<span class="w">    </span><span class="err">&lt;</span><span class="nf">td</span><span class="err">&gt;&lt;</span><span class="no">input</span><span class="w"> </span><span class="no">type</span><span class="err">="</span><span class="no">checkbox</span><span class="err">"</span><span class="w"> </span><span class="no">checked</span><span class="err">="</span><span class="no">checked</span><span class="err">"</span><span class="w"> </span><span class="err">/&gt;&lt;/</span><span class="no">td</span><span class="err">&gt;</span>
<span class="w">    </span><span class="err">&lt;</span><span class="nf">td</span><span class="err">&gt;&lt;</span><span class="no">input</span><span class="w"> </span><span class="no">type</span><span class="err">="</span><span class="no">checkbox</span><span class="err">"</span><span class="w"> </span><span class="no">disabled</span><span class="err">="</span><span class="no">disabled</span><span class="err">"</span><span class="w"> </span><span class="err">/&gt;&lt;/</span><span class="no">td</span><span class="err">&gt;</span>
<span class="w">    </span><span class="err">&lt;</span><span class="nf">td</span><span class="err">&gt;&lt;</span><span class="no">input</span><span class="w"> </span><span class="no">type</span><span class="err">="</span><span class="no">checkbox</span><span class="err">"</span><span class="w"> </span><span class="no">disabled</span><span class="err">="</span><span class="no">disabled</span><span class="err">"</span><span class="w"> </span><span class="no">checked</span><span class="err">="</span><span class="no">checked</span><span class="err">"</span><span class="w"> </span><span class="err">/&gt;&lt;/</span><span class="no">td</span><span class="err">&gt;</span>
<span class="w">  </span><span class="err">&lt;/</span><span class="nf">tr</span><span class="err">&gt;</span>
<span class="w">  </span><span class="err">&lt;</span><span class="nf">tr</span><span class="err">&gt;</span>
<span class="w">    </span><span class="err">&lt;</span><span class="nf">td</span><span class="err">&gt;</span><span class="no">Small</span><span class="p">:</span><span class="err">&lt;/</span><span class="no">td</span><span class="err">&gt;</span>
<span class="w">    </span><span class="err">&lt;</span><span class="nf">td</span><span class="err">&gt;&lt;</span><span class="no">input</span><span class="w"> </span><span class="no">type</span><span class="err">="</span><span class="no">checkbox</span><span class="err">"</span><span class="w"> </span><span class="no">class</span><span class="err">="</span><span class="no">myinput</span><span class="err">"</span><span class="w"> </span><span class="err">/&gt;&lt;/</span><span class="no">td</span><span class="err">&gt;</span>
<span class="w">    </span><span class="err">&lt;</span><span class="nf">td</span><span class="err">&gt;&lt;</span><span class="no">input</span><span class="w"> </span><span class="no">type</span><span class="err">="</span><span class="no">checkbox</span><span class="err">"</span><span class="w"> </span><span class="no">checked</span><span class="err">="</span><span class="no">checked</span><span class="err">"</span><span class="w"> </span><span class="no">class</span><span class="err">="</span><span class="no">myinput</span><span class="err">"</span><span class="w"> </span><span class="err">/&gt;&lt;/</span><span class="no">td</span><span class="err">&gt;</span>
<span class="w">    </span><span class="err">&lt;</span><span class="nf">td</span><span class="err">&gt;&lt;</span><span class="no">input</span><span class="w"> </span><span class="no">type</span><span class="err">="</span><span class="no">checkbox</span><span class="err">"</span><span class="w"> </span><span class="no">disabled</span><span class="err">="</span><span class="no">disabled</span><span class="err">"</span><span class="w"> </span><span class="no">class</span><span class="err">="</span><span class="no">myinput</span><span class="err">"</span><span class="w"> </span><span class="err">/&gt;&lt;/</span><span class="no">td</span><span class="err">&gt;</span>
<span class="w">    </span><span class="err">&lt;</span><span class="nf">td</span><span class="err">&gt;&lt;</span><span class="no">input</span><span class="w"> </span><span class="no">type</span><span class="err">="</span><span class="no">checkbox</span><span class="err">"</span><span class="w"> </span><span class="no">disabled</span><span class="err">="</span><span class="no">disabled</span><span class="err">"</span><span class="w"> </span><span class="no">checked</span><span class="err">="</span><span class="no">checked</span><span class="err">"</span><span class="w"> </span><span class="no">class</span><span class="err">="</span><span class="no">myinput</span><span class="err">"</span><span class="w"> </span><span class="err">/&gt;&lt;/</span><span class="no">td</span><span class="err">&gt;</span>
<span class="w">  </span><span class="err">&lt;/</span><span class="nf">tr</span><span class="err">&gt;</span>
<span class="w">  </span><span class="err">&lt;</span><span class="nf">tr</span><span class="err">&gt;</span>
<span class="w">    </span><span class="err">&lt;</span><span class="nf">td</span><span class="err">&gt;</span><span class="no">Large</span><span class="p">:</span><span class="err">&lt;/</span><span class="no">td</span><span class="err">&gt;</span>
<span class="w">    </span><span class="err">&lt;</span><span class="nf">td</span><span class="err">&gt;&lt;</span><span class="no">input</span><span class="w"> </span><span class="no">type</span><span class="err">="</span><span class="no">checkbox</span><span class="err">"</span><span class="w"> </span><span class="no">class</span><span class="err">="</span><span class="no">myinput</span><span class="w"> </span><span class="no">large</span><span class="err">"</span><span class="w"> </span><span class="err">/&gt;&lt;/</span><span class="no">td</span><span class="err">&gt;</span>
<span class="w">    </span><span class="err">&lt;</span><span class="nf">td</span><span class="err">&gt;&lt;</span><span class="no">input</span><span class="w"> </span><span class="no">type</span><span class="err">="</span><span class="no">checkbox</span><span class="err">"</span><span class="w"> </span><span class="no">checked</span><span class="err">="</span><span class="no">checked</span><span class="err">"</span><span class="w"> </span><span class="no">class</span><span class="err">="</span><span class="no">myinput</span><span class="w"> </span><span class="no">large</span><span class="err">"</span><span class="w"> </span><span class="err">/&gt;&lt;/</span><span class="no">td</span><span class="err">&gt;</span>
<span class="w">    </span><span class="err">&lt;</span><span class="nf">td</span><span class="err">&gt;&lt;</span><span class="no">input</span><span class="w"> </span><span class="no">type</span><span class="err">="</span><span class="no">checkbox</span><span class="err">"</span><span class="w"> </span><span class="no">disabled</span><span class="err">="</span><span class="no">disabled</span><span class="err">"</span><span class="w"> </span><span class="no">class</span><span class="err">="</span><span class="no">myinput</span><span class="w"> </span><span class="no">large</span><span class="err">"</span><span class="w"> </span><span class="err">/&gt;&lt;/</span><span class="no">td</span><span class="err">&gt;</span>
<span class="w">    </span><span class="err">&lt;</span><span class="nf">td</span><span class="err">&gt;&lt;</span><span class="no">input</span><span class="w"> </span><span class="no">type</span><span class="err">="</span><span class="no">checkbox</span><span class="err">"</span><span class="w"> </span><span class="no">disabled</span><span class="err">="</span><span class="no">disabled</span><span class="err">"</span><span class="w"> </span><span class="no">checked</span><span class="err">="</span><span class="no">checked</span><span class="err">"</span><span class="w"> </span><span class="no">class</span><span class="err">="</span><span class="no">myinput</span><span class="w"> </span><span class="no">large</span><span class="err">"</span><span class="w"> </span><span class="err">/&gt;&lt;/</span><span class="no">td</span><span class="err">&gt;</span>
<span class="w">  </span><span class="err">&lt;/</span><span class="nf">tr</span><span class="err">&gt;</span>
<span class="w">  </span><span class="err">&lt;</span><span class="nf">tr</span><span class="err">&gt;</span>
<span class="w">    </span><span class="err">&lt;</span><span class="nf">td</span><span class="err">&gt;</span><span class="no">Custom</span><span class="w"> </span><span class="no">icon</span><span class="p">:</span><span class="err">&lt;/</span><span class="no">td</span><span class="err">&gt;</span>
<span class="w">    </span><span class="err">&lt;</span><span class="nf">td</span><span class="err">&gt;&lt;</span><span class="no">input</span><span class="w"> </span><span class="no">type</span><span class="err">="</span><span class="no">checkbox</span><span class="err">"</span><span class="w"> </span><span class="no">class</span><span class="err">="</span><span class="no">myinput</span><span class="w"> </span><span class="no">large</span><span class="w"> </span><span class="no">custom</span><span class="err">"</span><span class="w"> </span><span class="err">/&gt;&lt;/</span><span class="no">td</span><span class="err">&gt;</span>
<span class="w">    </span><span class="err">&lt;</span><span class="nf">td</span><span class="err">&gt;&lt;</span><span class="no">input</span><span class="w"> </span><span class="no">type</span><span class="err">="</span><span class="no">checkbox</span><span class="err">"</span><span class="w"> </span><span class="no">checked</span><span class="err">="</span><span class="no">checked</span><span class="err">"</span><span class="w"> </span><span class="no">class</span><span class="err">="</span><span class="no">myinput</span><span class="w"> </span><span class="no">large</span><span class="w"> </span><span class="no">custom</span><span class="err">"</span><span class="w"> </span><span class="err">/&gt;&lt;/</span><span class="no">td</span><span class="err">&gt;</span>
<span class="w">    </span><span class="err">&lt;</span><span class="nf">td</span><span class="err">&gt;&lt;</span><span class="no">input</span><span class="w"> </span><span class="no">type</span><span class="err">="</span><span class="no">checkbox</span><span class="err">"</span><span class="w"> </span><span class="no">disabled</span><span class="err">="</span><span class="no">disabled</span><span class="err">"</span><span class="w"> </span><span class="no">class</span><span class="err">="</span><span class="no">myinput</span><span class="w"> </span><span class="no">large</span><span class="w"> </span><span class="no">custom</span><span class="err">"</span><span class="w"> </span><span class="err">/&gt;&lt;/</span><span class="no">td</span><span class="err">&gt;</span>
<span class="w">    </span><span class="err">&lt;</span><span class="nf">td</span><span class="err">&gt;&lt;</span><span class="no">input</span><span class="w"> </span><span class="no">type</span><span class="err">="</span><span class="no">checkbox</span><span class="err">"</span><span class="w"> </span><span class="no">disabled</span><span class="err">="</span><span class="no">disabled</span><span class="err">"</span><span class="w"> </span><span class="no">checked</span><span class="err">="</span><span class="no">checked</span><span class="err">"</span><span class="w"> </span><span class="no">class</span><span class="err">="</span><span class="no">myinput</span><span class="w"> </span><span class="no">large</span><span class="w"> </span><span class="no">custom</span><span class="err">"</span><span class="w"> </span><span class="err">/&gt;&lt;/</span><span class="no">td</span><span class="err">&gt;</span>
<span class="w">  </span><span class="err">&lt;/</span><span class="nf">tr</span><span class="err">&gt;</span>
<span class="err">&lt;/</span><span class="nf">table</span><span class="err">&gt;</span>
</pre></div>

<p><strong>Bonus Webkit style flipswitch fiddle</strong></p>
<div class="code"><pre class="code literal-block"><span class="o">$</span><span class="p">(</span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">$</span><span class="p">(</span><span class="n">this</span><span class="p">)</span><span class="o">.</span><span class="n">next</span><span class="p">()</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="o">$</span><span class="p">(</span><span class="n">this</span><span class="p">)</span><span class="o">.</span><span class="k">is</span><span class="p">(</span><span class="s1">':checked'</span><span class="p">)</span><span class="w"> </span><span class="err">?</span><span class="w"> </span><span class="s1">':checked'</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s1">':not(:checked)'</span><span class="p">);</span>
<span class="w">  </span><span class="p">};</span>
<span class="w">  </span><span class="o">$</span><span class="p">(</span><span class="s1">'input'</span><span class="p">)</span><span class="o">.</span><span class="n">change</span><span class="p">(</span><span class="n">f</span><span class="p">)</span><span class="o">.</span><span class="n">trigger</span><span class="p">(</span><span class="s1">'change'</span><span class="p">);</span>
<span class="p">});</span>


<span class="n">body</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">font</span><span class="o">-</span><span class="n">family</span><span class="p">:</span><span class="w"> </span><span class="n">arial</span><span class="p">;</span>
<span class="p">}</span>

<span class="o">.</span><span class="n">flipswitch</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">position</span><span class="p">:</span><span class="w"> </span><span class="n">relative</span><span class="p">;</span>
<span class="w">  </span><span class="n">background</span><span class="p">:</span><span class="w"> </span><span class="n">white</span><span class="p">;</span>
<span class="w">  </span><span class="n">width</span><span class="p">:</span><span class="w"> </span><span class="mi">120</span><span class="n">px</span><span class="p">;</span>
<span class="w">  </span><span class="n">height</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="n">px</span><span class="p">;</span>
<span class="w">  </span><span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">appearance</span><span class="p">:</span><span class="w"> </span><span class="n">initial</span><span class="p">;</span>
<span class="w">  </span><span class="n">border</span><span class="o">-</span><span class="n">radius</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="n">px</span><span class="p">;</span>
<span class="w">  </span><span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">tap</span><span class="o">-</span><span class="n">highlight</span><span class="o">-</span><span class="n">color</span><span class="p">:</span><span class="w"> </span><span class="n">rgba</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">  </span><span class="n">outline</span><span class="p">:</span><span class="w"> </span><span class="n">none</span><span class="p">;</span>
<span class="w">  </span><span class="n">font</span><span class="o">-</span><span class="n">size</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="n">px</span><span class="p">;</span>
<span class="w">  </span><span class="n">font</span><span class="o">-</span><span class="n">family</span><span class="p">:</span><span class="w"> </span><span class="n">Trebuchet</span><span class="p">,</span><span class="w"> </span><span class="n">Arial</span><span class="p">,</span><span class="w"> </span><span class="n">sans</span><span class="o">-</span><span class="n">serif</span><span class="p">;</span>
<span class="w">  </span><span class="n">font</span><span class="o">-</span><span class="n">weight</span><span class="p">:</span><span class="w"> </span><span class="n">bold</span><span class="p">;</span>
<span class="w">  </span><span class="n">cursor</span><span class="p">:</span><span class="w"> </span><span class="n">pointer</span><span class="p">;</span>
<span class="w">  </span><span class="n">border</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="n">px</span><span class="w"> </span><span class="n">solid</span><span class="w"> </span><span class="c1">#ddd;</span>
<span class="p">}</span>

<span class="o">.</span><span class="n">flipswitch</span><span class="p">:</span><span class="n">after</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">position</span><span class="p">:</span><span class="w"> </span><span class="n">absolute</span><span class="p">;</span>
<span class="w">  </span><span class="n">top</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="o">%</span><span class="p">;</span>
<span class="w">  </span><span class="n">display</span><span class="p">:</span><span class="w"> </span><span class="n">block</span><span class="p">;</span>
<span class="w">  </span><span class="n">line</span><span class="o">-</span><span class="n">height</span><span class="p">:</span><span class="w"> </span><span class="mi">32</span><span class="n">px</span><span class="p">;</span>
<span class="w">  </span><span class="n">width</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="o">%</span><span class="p">;</span>
<span class="w">  </span><span class="n">height</span><span class="p">:</span><span class="w"> </span><span class="mi">90</span><span class="o">%</span><span class="p">;</span>
<span class="w">  </span><span class="n">background</span><span class="p">:</span><span class="w"> </span><span class="c1">#fff;</span>
<span class="w">  </span><span class="n">box</span><span class="o">-</span><span class="n">sizing</span><span class="p">:</span><span class="w"> </span><span class="n">border</span><span class="o">-</span><span class="n">box</span><span class="p">;</span>
<span class="w">  </span><span class="n">text</span><span class="o">-</span><span class="n">align</span><span class="p">:</span><span class="w"> </span><span class="n">center</span><span class="p">;</span>
<span class="w">  </span><span class="n">transition</span><span class="p">:</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="mf">0.3</span><span class="n">s</span><span class="w"> </span><span class="nb">ease</span><span class="o">-</span><span class="ow">in</span><span class="w"> </span><span class="mi">0</span><span class="n">s</span><span class="p">;</span>
<span class="w">  </span><span class="n">color</span><span class="p">:</span><span class="w"> </span><span class="n">black</span><span class="p">;</span>
<span class="w">  </span><span class="n">border</span><span class="p">:</span><span class="w"> </span><span class="c1">#888 1px solid;</span>
<span class="w">  </span><span class="n">border</span><span class="o">-</span><span class="n">radius</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="n">px</span><span class="p">;</span>
<span class="p">}</span>

<span class="o">.</span><span class="n">flipswitch</span><span class="p">:</span><span class="n">after</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">left</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="o">%</span><span class="p">;</span>
<span class="w">  </span><span class="n">content</span><span class="p">:</span><span class="w"> </span><span class="s2">"OFF"</span><span class="p">;</span>
<span class="p">}</span>

<span class="o">.</span><span class="n">flipswitch</span><span class="p">:</span><span class="n">checked</span><span class="p">:</span><span class="n">after</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">left</span><span class="p">:</span><span class="w"> </span><span class="mi">53</span><span class="o">%</span><span class="p">;</span>
<span class="w">  </span><span class="n">content</span><span class="p">:</span><span class="w"> </span><span class="s2">"ON"</span><span class="p">;</span>
<span class="p">}</span>


<span class="o">&lt;</span><span class="n">script</span><span class="w"> </span><span class="n">src</span><span class="o">=</span><span class="s2">"https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">h2</span><span class="o">&gt;</span><span class="n">Webkit</span><span class="w"> </span><span class="n">friendly</span><span class="w"> </span><span class="n">mobile</span><span class="o">-</span><span class="n">style</span><span class="w"> </span><span class="n">checkbox</span><span class="o">/</span><span class="n">flipswitch</span><span class="o">&lt;/</span><span class="n">h2</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">input</span><span class="w"> </span><span class="n">type</span><span class="o">=</span><span class="s2">"checkbox"</span><span class="w"> </span><span class="k">class</span><span class="o">=</span><span class="s2">"flipswitch"</span><span class="w"> </span><span class="o">/&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">nbsp</span><span class="p">;</span>
<span class="o">&lt;</span><span class="n">span</span><span class="o">&gt;&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">br</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">input</span><span class="w"> </span><span class="n">type</span><span class="o">=</span><span class="s2">"checkbox"</span><span class="w"> </span><span class="n">checked</span><span class="o">=</span><span class="s2">"checked"</span><span class="w"> </span><span class="k">class</span><span class="o">=</span><span class="s2">"flipswitch"</span><span class="w"> </span><span class="o">/&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="n">nbsp</span><span class="p">;</span>
<span class="o">&lt;</span><span class="n">span</span><span class="o">&gt;&lt;/</span><span class="n">span</span><span class="o">&gt;</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/constants-in-objective-c/" class="u-url">Constants in Objective-C</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/constants-in-objective-c/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T06:50:45+08:00" itemprop="datePublished" title="2023-02-17 06:50">2023-02-17 06:50</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm developing a Cocoa application, and I'm using constant <code>NSString</code>s as ways
to store key names for my preferences.</p>
<p>I understand this is a good idea because it allows easy changing of keys if
necessary.<br>
Plus, it's the whole 'separate your data from your logic' notion.</p>
<blockquote>
<p>Anyway, is there a good way to make these constants defined once for the
whole application?</p>
</blockquote>
<p>I'm sure that there's an easy and intelligent way, but right now my classes
just redefine the ones they use.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You should create a header file like:</p>
<div class="code"><pre class="code literal-block"><span class="o">//</span><span class="w"> </span><span class="n">Constants</span><span class="o">.</span><span class="n">h</span>
<span class="n">FOUNDATION_EXPORT</span><span class="w"> </span><span class="n">NSString</span><span class="w"> </span><span class="o">*</span><span class="k">const</span><span class="w"> </span><span class="n">MyFirstConstant</span><span class="p">;</span>
<span class="n">FOUNDATION_EXPORT</span><span class="w"> </span><span class="n">NSString</span><span class="w"> </span><span class="o">*</span><span class="k">const</span><span class="w"> </span><span class="n">MySecondConstant</span><span class="p">;</span>
<span class="o">//</span><span class="n">etc</span><span class="o">.</span>
</pre></div>

<p>(You can use <code>extern</code> instead of <code>FOUNDATION_EXPORT</code> if your code will not be
used in mixed C/C++ environments or on other platforms.)</p>
<p>You can include this file in each file that uses the constants or in the pre-
compiled header for the project.</p>
<p>You define these constants in a <code>.m</code> file like:</p>
<div class="code"><pre class="code literal-block"><span class="c1">// Constants.m</span>
<span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="k">const</span><span class="w"> </span><span class="n">MyFirstConstant</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">@"FirstConstant"</span><span class="p">;</span>
<span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="k">const</span><span class="w"> </span><span class="n">MySecondConstant</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">@"SecondConstant"</span><span class="p">;</span>
</pre></div>

<p><code>Constants.m</code> should be added to your application/framework's target so that
it is linked in to the final product.</p>
<p>The advantage of using string constants instead of <code>#define</code>'d constants is
that you can test for equality using pointer comparison (<code>stringInstance ==
MyFirstConstant</code>) which is much faster than string comparison
(<code>[stringInstance isEqualToString:MyFirstConstant]</code>) (and easier to read,
IMO).</p>
<p><br></p>
<h3>Suggest</h3>
<p>Easiest way:</p>
<div class="code"><pre class="code literal-block"><span class="c1">// Prefs.h</span>
<span class="cp">#define PREFS_MY_CONSTANT @"prefs_my_constant"</span>
</pre></div>

<p>Better way:</p>
<div class="code"><pre class="code literal-block"><span class="c1">// Prefs.h</span>
<span class="k">extern</span><span class="w"> </span><span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">PREFS_MY_CONSTANT</span><span class="p">;</span>

<span class="c1">// Prefs.m</span>
<span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">PREFS_MY_CONSTANT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">@"prefs_my_constant"</span><span class="p">;</span>
</pre></div>

<p>One benefit of the second is that changing the value of a constant does not
cause a rebuild of your entire program.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-are-c-functors-and-their-uses/" class="u-url">What are C++ functors and their uses?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-are-c-functors-and-their-uses/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T06:50:19+08:00" itemprop="datePublished" title="2023-02-17 06:50">2023-02-17 06:50</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I keep hearing a lot about functors in C++. Can someone give me an overview as
to what they are and in what cases they would be useful?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>A functor is pretty much just a class which defines the operator(). That lets
you create objects which "look like" a function:</p>
<div class="code"><pre class="code literal-block"><span class="o">//</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">functor</span>
<span class="n">struct</span><span class="w"> </span><span class="n">add_x</span><span class="w"> </span><span class="err">{</span>
<span class="w">  </span><span class="n">add_x</span><span class="p">(</span><span class="nc">int</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="n">x</span><span class="p">(</span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="err">{}</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="k">Constructor</span>
<span class="w">  </span><span class="nc">int</span><span class="w"> </span><span class="n">operator</span><span class="p">()(</span><span class="nc">int</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="n">const</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">y</span><span class="p">;</span><span class="w"> </span><span class="err">}</span>

<span class="nl">private</span><span class="p">:</span>
<span class="w">  </span><span class="nc">int</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<span class="err">}</span><span class="p">;</span>

<span class="o">//</span><span class="w"> </span><span class="n">Now</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="k">use</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="ow">like</span><span class="w"> </span><span class="nl">this</span><span class="p">:</span>
<span class="n">add_x</span><span class="w"> </span><span class="n">add42</span><span class="p">(</span><span class="mi">42</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">instance</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">functor</span><span class="w"> </span><span class="k">class</span>
<span class="nc">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">add42</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ss">"call"</span><span class="w"> </span><span class="n">it</span>
<span class="n">assert</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">50</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">added</span><span class="w"> </span><span class="mi">42</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">argument</span>

<span class="nl">std</span><span class="p">:</span><span class="err">:</span><span class="n">vector</span><span class="o">&lt;</span><span class="nc">int</span><span class="o">&gt;</span><span class="w"> </span><span class="ow">in</span><span class="p">;</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">assume</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">contains</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">bunch</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="k">values</span><span class="p">)</span>
<span class="nl">std</span><span class="p">:</span><span class="err">:</span><span class="n">vector</span><span class="o">&lt;</span><span class="nc">int</span><span class="o">&gt;</span><span class="w"> </span><span class="k">out</span><span class="p">(</span><span class="ow">in</span><span class="p">.</span><span class="k">size</span><span class="p">());</span>
<span class="o">//</span><span class="w"> </span><span class="n">Pass</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">functor</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nl">std</span><span class="p">:</span><span class="err">:</span><span class="n">transform</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">calls</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">functor</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="k">every</span><span class="w"> </span><span class="k">element</span><span class="w"> </span>
<span class="o">//</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">input</span><span class="w"> </span><span class="k">sequence</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">stores</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">output</span><span class="w"> </span><span class="k">sequence</span>
<span class="nl">std</span><span class="p">:</span><span class="err">:</span><span class="n">transform</span><span class="p">(</span><span class="ow">in</span><span class="p">.</span><span class="k">begin</span><span class="p">(),</span><span class="w"> </span><span class="ow">in</span><span class="p">.</span><span class="k">end</span><span class="p">(),</span><span class="w"> </span><span class="k">out</span><span class="p">.</span><span class="k">begin</span><span class="p">(),</span><span class="w"> </span><span class="n">add_x</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span><span class="w"> </span>
<span class="n">assert</span><span class="p">(</span><span class="k">out</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="ow">in</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="ow">all</span><span class="w"> </span><span class="n">i</span>
</pre></div>

<p>There are a couple of nice things about functors. One is that unlike regular
functions, they can contain state. The above example creates a function which
adds 42 to whatever you give it. But that value 42 is not hardcoded, it was
specified as a constructor argument when we created our functor instance. I
could create another adder, which added 27, just by calling the constructor
with a different value. This makes them nicely customizable.</p>
<p>As the last lines show, you often pass functors as arguments to other
functions such as std::transform or the other standard library algorithms. You
could do the same with a regular function pointer except, as I said above,
functors can be "customized" because they contain state, making them more
flexible (If I wanted to use a function pointer, I'd have to write a function
which added exactly 1 to its argument. The functor is general, and adds
whatever you initialized it with), and they are also potentially more
efficient. In the above example, the compiler knows exactly which function
<code>std::transform</code> should call. It should call <code>add_x::operator()</code>. That means
it can inline that function call. And that makes it just as efficient as if I
had manually called the function on each value of the vector.</p>
<p>If I had passed a function pointer instead, the compiler couldn't immediately
see which function it points to, so unless it performs some fairly complex
global optimizations, it'd have to dereference the pointer at runtime, and
then make the call.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Little addition. You can use <code>boost::function</code>, to create functors from
functions and methods, like this:</p>
<div class="code"><pre class="code literal-block"><span class="nt">class</span><span class="w"> </span><span class="nt">Foo</span>
<span class="p">{</span>
<span class="n">public</span><span class="p">:</span>
<span class="w">    </span><span class="n">void</span><span class="w"> </span><span class="n">operator</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">(</span><span class="n">int</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="nf">printf</span><span class="p">(</span><span class="s2">"Foo %d"</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>
<span class="err">}</span><span class="o">;</span>
<span class="nt">void</span><span class="w"> </span><span class="nt">Bar</span><span class="o">(</span><span class="nt">int</span><span class="w"> </span><span class="nt">i</span><span class="o">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">printf("Bar</span><span class="w"> </span><span class="err">%d",</span><span class="w"> </span><span class="err">i)</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="nt">Foo</span><span class="w"> </span><span class="nt">foo</span><span class="o">;</span>
<span class="nt">boost</span><span class="p">::</span><span class="nd">function</span><span class="o">&lt;</span><span class="nt">void</span><span class="w"> </span><span class="o">(</span><span class="nt">int</span><span class="o">)&gt;</span><span class="w"> </span><span class="nt">f</span><span class="o">(</span><span class="nt">foo</span><span class="o">);//</span><span class="nt">wrap</span><span class="w"> </span><span class="nt">functor</span>
<span class="nt">f</span><span class="o">(</span><span class="nt">1</span><span class="o">);//</span><span class="nt">prints</span><span class="w"> </span><span class="s2">"Foo 1"</span>
<span class="nt">boost</span><span class="p">::</span><span class="nd">function</span><span class="o">&lt;</span><span class="nt">void</span><span class="w"> </span><span class="o">(</span><span class="nt">int</span><span class="o">)&gt;</span><span class="w"> </span><span class="nt">b</span><span class="o">(&amp;</span><span class="nt">Bar</span><span class="o">);//</span><span class="nt">wrap</span><span class="w"> </span><span class="nt">normal</span><span class="w"> </span><span class="nt">function</span>
<span class="nt">b</span><span class="o">(</span><span class="nt">1</span><span class="o">);//</span><span class="nt">prints</span><span class="w"> </span><span class="s2">"Bar 1"</span>
</pre></div>

<p>and you can use boost::bind to add state to this functor</p>
<div class="code"><pre class="code literal-block"><span class="nt">boost</span><span class="p">::</span><span class="nd">function</span><span class="o">&lt;</span><span class="nt">void</span><span class="w"> </span><span class="o">()&gt;</span><span class="w"> </span><span class="nt">f1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">boost</span><span class="p">::</span><span class="nd">bind</span><span class="o">(</span><span class="nt">foo</span><span class="o">,</span><span class="w"> </span><span class="nt">2</span><span class="o">);</span>
<span class="nt">f1</span><span class="o">();//</span><span class="nt">no</span><span class="w"> </span><span class="nt">more</span><span class="w"> </span><span class="nt">argument</span><span class="o">,</span><span class="w"> </span><span class="nt">function</span><span class="w"> </span><span class="nt">argument</span><span class="w"> </span><span class="nt">stored</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nt">f1</span>
<span class="o">//</span><span class="nt">and</span><span class="w"> </span><span class="nt">this</span><span class="w"> </span><span class="nt">print</span><span class="w"> </span><span class="s2">"Foo 2"</span><span class="w"> </span><span class="o">(:</span>
<span class="o">//</span><span class="nt">and</span><span class="w"> </span><span class="nt">normal</span><span class="w"> </span><span class="nt">function</span>
<span class="nt">boost</span><span class="p">::</span><span class="nd">function</span><span class="o">&lt;</span><span class="nt">void</span><span class="w"> </span><span class="o">()&gt;</span><span class="w"> </span><span class="nt">b1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">boost</span><span class="p">::</span><span class="nd">bind</span><span class="o">(&amp;</span><span class="nt">Bar</span><span class="o">,</span><span class="w"> </span><span class="nt">2</span><span class="o">);</span>
<span class="nt">b1</span><span class="o">();//</span><span class="w"> </span><span class="nt">print</span><span class="w"> </span><span class="s2">"Bar 2"</span>
</pre></div>

<p>and most useful, with boost::bind and boost::function you can create functor
from class method, actually this is a delegate:</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span><span class="w"> </span><span class="n">SomeClass</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">std</span><span class="p">::</span><span class="n">string</span><span class="w"> </span><span class="n">state_</span><span class="p">;</span>
<span class="n">public</span><span class="p">:</span>
<span class="w">    </span><span class="n">SomeClass</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="nb">char</span><span class="o">*</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">state_</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="p">{}</span>

<span class="w">    </span><span class="nb nb-Type">void</span><span class="w"> </span><span class="n">method</span><span class="p">(</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">string</span><span class="w"> </span><span class="n">param</span><span class="w"> </span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">std</span><span class="p">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">state_</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">param</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">endl</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">};</span>
<span class="n">SomeClass</span><span class="w"> </span><span class="o">*</span><span class="n">inst</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">SomeClass</span><span class="p">(</span><span class="s2">"Hi, i am "</span><span class="p">);</span>
<span class="n">boost</span><span class="p">::</span><span class="n">function</span><span class="o">&lt;</span><span class="w"> </span><span class="nb nb-Type">void</span><span class="w"> </span><span class="p">(</span><span class="n">std</span><span class="p">::</span><span class="n">string</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">callback</span><span class="p">;</span>
<span class="n">callback</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">boost</span><span class="p">::</span><span class="n">bind</span><span class="p">(</span><span class="o">&amp;</span><span class="n">SomeClass</span><span class="p">::</span><span class="n">method</span><span class="p">,</span><span class="w"> </span><span class="n">inst</span><span class="p">,</span><span class="w"> </span><span class="n">_1</span><span class="p">);</span><span class="o">//</span><span class="n">create</span><span class="w"> </span><span class="n">delegate</span>
<span class="o">//</span><span class="n">_1</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">placeholder</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">holds</span><span class="w"> </span><span class="n">plase</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">parameter</span>
<span class="n">callback</span><span class="p">(</span><span class="s2">"useless"</span><span class="p">);</span><span class="o">//</span><span class="nb">prints</span><span class="w"> </span><span class="s2">"Hi, i am useless"</span>
</pre></div>

<p>You can create list or vector of functors</p>
<div class="code"><pre class="code literal-block"><span class="nt">std</span><span class="p">::</span><span class="nd">list</span><span class="o">&lt;</span><span class="w"> </span><span class="nt">boost</span><span class="p">::</span><span class="nd">function</span><span class="o">&lt;</span><span class="nt">void</span><span class="w"> </span><span class="o">(</span><span class="nt">EventArg</span><span class="w"> </span><span class="nt">e</span><span class="o">)&gt;</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nt">events</span><span class="o">;</span>
<span class="o">//</span><span class="nt">add</span><span class="w"> </span><span class="nt">some</span><span class="w"> </span><span class="nt">events</span>
<span class="o">....</span>
<span class="o">//</span><span class="nt">call</span><span class="w"> </span><span class="nt">them</span>
<span class="nt">std</span><span class="p">::</span><span class="nd">for_each</span><span class="o">(</span>
<span class="w">        </span><span class="nt">events</span><span class="p">.</span><span class="nc">begin</span><span class="o">(),</span><span class="w"> </span><span class="nt">events</span><span class="p">.</span><span class="nc">end</span><span class="o">(),</span><span class="w"> </span>
<span class="w">        </span><span class="nt">boost</span><span class="p">::</span><span class="nd">bind</span><span class="o">(</span><span class="w"> </span><span class="nt">boost</span><span class="p">::</span><span class="nd">apply</span><span class="o">&lt;</span><span class="nt">void</span><span class="o">&gt;(),</span><span class="w"> </span><span class="nt">_1</span><span class="o">,</span><span class="w"> </span><span class="nt">e</span><span class="o">));</span>
</pre></div>

<p>There is one problem with all this stuff, compiler error messages is not human
readable :)</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-439.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-437.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

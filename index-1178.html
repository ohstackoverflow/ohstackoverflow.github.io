<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1178) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1178.html">
<link rel="prev" href="index-1179.html" type="text/html">
<link rel="next" href="index-1177.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-s-the-difference-between-this-and-this/" class="u-url">What's the difference between '$(this)' and 'this'?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-s-the-difference-between-this-and-this/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T03:06:47+08:00" itemprop="datePublished" title="2023-02-18 03:06">2023-02-18 03:06</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am currently working through this tutorial: Getting Started with jQuery</p>
<p>For the two examples below:</p>
<div class="code"><pre class="code literal-block">$("#orderedlist").find("li").each(function (i) {
    $(this).append(" BAM! " + i);
});
$("#reset").click(function () {
    $("form").each(function () {
        this.reset();
    });
});
</pre></div>

<p>Notice in the first example, we use <code>$(this)</code> to append some text inside of
each <code>li</code> element. In the second example we use <code>this</code> directly when resetting
the form.</p>
<p><code>$(this)</code> seems to be used a lot more often than <code>this</code>.</p>
<p>My guess is in the first example, <code>$()</code> is converting each <code>li</code> element into a
jQuery object which understands the <code>append()</code> function whereas in the second
example <code>reset()</code> can be called directly on the form.</p>
<p>Basically we need <code>$()</code> for special jQuery-only functions.</p>
<p>Is this correct?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Yes you only need <code>$()</code> when you're using jQuery. If you want jQuery's help to
do DOM things just keep this in mind.</p>
<div class="code"><pre class="code literal-block">$(this)[0] === this
</pre></div>

<p>Basically every time you get a set of elements back jQuery turns it into a
jQuery object. If you know you only have one result, it's going to be in the
first element.</p>
<div class="code"><pre class="code literal-block">$("#myDiv")[0] === document.getElementById("myDiv");
</pre></div>

<p>And so on...</p>
<p><br></p>
<h3>Suggest</h3>
<p><code>$()</code> is the jQuery constructor function.</p>
<p><code>this</code> is a reference to the DOM element of invocation.</p>
<p>So basically, in <code>$(this)</code>, you are just passing the <code>this</code> in <code>$()</code> as a
parameter so that you could call jQuery methods and functions.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/jquery-is-not-defined/" class="u-url">JQuery - $ is not defined</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/jquery-is-not-defined/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T03:06:20+08:00" itemprop="datePublished" title="2023-02-18 03:06">2023-02-18 03:06</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a simple jquery click event</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;script</span><span class="w"> </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>
<span class="w">    </span>$(function()<span class="w"> </span>{
<span class="w">        </span>$('#post').click(function()<span class="w"> </span>{
<span class="w">            </span>alert("test");<span class="w"> </span>
<span class="w">        </span>});
<span class="w">    </span>});
<span class="nt">&lt;/script&gt;</span>
</pre></div>

<p>and a jquery reference defined in the site.master</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;script</span><span class="w"> </span><span class="na">src=</span><span class="s">"</span><span class="cp">&lt;%=</span><span class="no">ResolveUrl</span><span class="p">(</span><span class="s2">"~/Scripts/jquery-1.3.2.js"</span><span class="p">)</span><span class="cp">%&gt;</span><span class="s">"</span><span class="w"> </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;&lt;/script&gt;</span>
</pre></div>

<p>I have checked that the script is being resolved correctly, I'm able to see
the markup and view the script directly in firebug, so I must be being found.
However, I am still getting:</p>
<blockquote>
<p>$ is not defined</p>
</blockquote>
<p>and none of the jquery works. I've also tried the various variations of this
like <code>$(document).ready</code> and jQuery etc.</p>
<p>It's an MVC 2 app on .net 3.5, I'm sure I'm being really dense, everywhere on
google says to check the file is referenced correctly, which I have checked
and checked again, please advise! :/</p>
<p><br><br></p>
<h2>Answer</h2>
<p>That error can only be caused by one of three things:</p>
<ol>
<li>Your JavaScript file is not being properly loaded into your page</li>
<li>You have a botched version of jQuery. This could happen because someone edited the core file, or a plugin may have overwritten the $ variable.</li>
<li>You have JavaScript running before the page is fully loaded, and as such, before jQuery is fully loaded.</li>
</ol>
<p>First of all, ensure, what script is call properly, it should looks like</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;script</span><span class="w"> </span><span class="na">src=</span><span class="s">"http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"</span><span class="w"> </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;&lt;/script&gt;</span>
</pre></div>

<p>and shouldn't have attributes <strong>async</strong> or <strong>defer</strong>.</p>
<p>Then you should check the Firebug <em>net</em> panel to see if the file is actually
being loaded properly. If not, it will be highlighted red and will say "404"
beside it. If the file is loading properly, that means that the issue is
number 2.</p>
<p>Make sure all jQuery javascript code is being run inside a code block such as:</p>
<div class="code"><pre class="code literal-block">$(document).ready(function () {
  //your code here
});
</pre></div>

<p>This will ensure that your code is being loaded <strong>after</strong> jQuery has been
initialized.</p>
<p>One final thing to check is to make sure that you are not loading any plugins
<strong>before</strong> you load jQuery. Plugins extend the "$" object, so if you load a
plugin before loading jQuery core, then you'll get the error you described.</p>
<p><strong>Note:</strong> If you're loading code which does not require jQuery to run it does
not need to be placed inside the jQuery ready handler. That code may be
separated using <code>document.readyState</code>.</p>
<p><br></p>
<h3>Suggest</h3>
<p>It could be that you have your script tag called before the jquery script is
called.</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;script</span><span class="w"> </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="w"> </span><span class="na">src=</span><span class="s">"js/script.js"</span><span class="nt">&gt;&lt;/script&gt;</span>

<span class="nt">&lt;script</span><span class="w"> </span><span class="na">src=</span><span class="s">"http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"</span><span class="w"> </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;&lt;/script&gt;</span>
</pre></div>

<p><strong>This results as $ is not defined</strong></p>
<p>Put the jquery.js before your script tag and it will work ;) like so:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;script</span><span class="w"> </span><span class="na">src=</span><span class="s">"http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"</span><span class="w"> </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;&lt;/script&gt;</span>

<span class="nt">&lt;script</span><span class="w"> </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="w"> </span><span class="na">src=</span><span class="s">"js/script.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/convert-utf-8-encoded-nsdata-to-nsstring/" class="u-url">Convert UTF-8 encoded NSData to NSString</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/convert-utf-8-encoded-nsdata-to-nsstring/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T03:05:36+08:00" itemprop="datePublished" title="2023-02-18 03:05">2023-02-18 03:05</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have UTF-8 encoded <code>NSData</code> from windows server and I want to convert it to
<code>NSString</code> for iPhone. Since data contains characters (like a degree symbol)
which have different values on both platforms, <strong>how do I convert data to
string?</strong></p>
<p><br><br></p>
<h2>Answer</h2>
<p>If the data is not null-terminated, you should use <code>-initWithData:encoding:</code></p>
<div class="code"><pre class="code literal-block"><span class="bp">NSString</span><span class="o">*</span><span class="w"> </span><span class="n">newStr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="bp">NSString</span><span class="w"> </span><span class="n">alloc</span><span class="p">]</span><span class="w"> </span><span class="n">initWithData</span><span class="o">:</span><span class="n">theData</span><span class="w"> </span><span class="n">encoding</span><span class="o">:</span><span class="n">NSUTF8StringEncoding</span><span class="p">];</span>
</pre></div>

<p>If the data is null-terminated, you should instead use
<code>-stringWithUTF8String:</code> to avoid the extra <code>\0</code> at the end.</p>
<div class="code"><pre class="code literal-block"><span class="bp">NSString</span><span class="o">*</span><span class="w"> </span><span class="n">newStr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">NSString</span><span class="w"> </span><span class="n">stringWithUTF8String</span><span class="o">:</span><span class="p">[</span><span class="n">theData</span><span class="w"> </span><span class="n">bytes</span><span class="p">]];</span>
</pre></div>

<p>(Note that if the input is not properly UTF-8-encoded, you will get <code>nil</code>.)</p>
<hr>
<h2>Swift variant:</h2>
<div class="code"><pre class="code literal-block"><span class="n">let</span><span class="w"> </span><span class="n">newStr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">String</span><span class="p">(</span><span class="k">data</span><span class="o">:</span><span class="w"> </span><span class="k">data</span><span class="p">,</span><span class="w"> </span><span class="n">encoding</span><span class="o">:</span><span class="w"> </span><span class="p">.</span><span class="n">utf8</span><span class="p">)</span>
<span class="o">//</span><span class="w"> </span><span class="n">note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n n-Quoted">`newStr`</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n n-Quoted">`String?`</span><span class="p">,</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n n-Quoted">`String`</span><span class="p">.</span>
</pre></div>

<p>If the data is null-terminated, you could go though the safe way which is
remove the that null character, or the unsafe way similar to the Objective-C
version above.</p>
<div class="code"><pre class="code literal-block"><span class="c1">// safe way, provided data is \0-terminated</span>
<span class="n">let</span><span class="w"> </span><span class="n">newStr1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">String</span><span class="p">(</span><span class="n">data</span><span class="p">:</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="n">subdata</span><span class="p">(</span><span class="n">in</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">..</span><span class="o">&lt;</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="n">count</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">encoding</span><span class="p">:</span><span class="w"> </span><span class="p">.</span><span class="n">utf8</span><span class="p">)</span>
<span class="c1">// unsafe way, provided data is \0-terminated</span>
<span class="n">let</span><span class="w"> </span><span class="n">newStr2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="n">withUnsafeBytes</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="n">init</span><span class="p">(</span><span class="n">utf8String</span><span class="p">:))</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>You could call this method</p>
<div class="code"><pre class="code literal-block"><span class="o">+</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="n">stringWithUTF8String</span><span class="p">:(</span><span class="k">const</span><span class="w"> </span><span class="nb">char</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">bytes</span><span class="o">.</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1179.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1177.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

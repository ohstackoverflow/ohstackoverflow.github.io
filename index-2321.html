<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2321) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2321.html">
<link rel="prev" href="index-2322.html" type="text/html">
<link rel="next" href="index-2320.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/keep-overflow-div-scrolled-to-bottom-unless-user-scrolls-up/" class="u-url">Keep overflow div scrolled to bottom unless user scrolls up</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/keep-overflow-div-scrolled-to-bottom-unless-user-scrolls-up/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T07:28:38+08:00" itemprop="datePublished" title="2023-03-04 07:28">2023-03-04 07:28</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a div that is only 300 pixels big and I want it to when the page loads
scroll to the bottom of the content. This div has content dynamically added to
it and needs to stay scrolled all the way down. Now if the user decides to
scroll up I don't want it to jump back to the bottom until the user scrolls
all the way down again</p>
<p>Is it possible to have a div that will stay scrolled to the bottom unless the
user scrolls up and when the user scrolls back to the bottom it needs to keep
itself at the bottom even when new dynamic content is added. How would I go
bout creating this.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>I was able to get this working with CSS only.</p>
<p>The trick is to use:</p>
<div class="code"><pre class="code literal-block"><span class="n">display</span><span class="o">:</span><span class="w"> </span><span class="n">flex</span><span class="o">;</span>
<span class="n">flex</span><span class="o">-</span><span class="n">direction</span><span class="o">:</span><span class="w"> </span><span class="n">column</span><span class="o">-</span><span class="n">reverse</span><span class="o">;</span>
</pre></div>

<p>The browser treats the bottom like its the top. Assuming the browsers you're
targeting support <code>flex-box</code>, the only caveat is that the markup has to be in
reverse order.</p>
<p>Here is a working example. https://codepen.io/jimbol/pen/YVJzBg</p>
<p><br></p>
<h3>Suggest</h3>
<p>This might help you:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">document</span><span class="o">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s2">"yourDivID"</span><span class="p">);</span>
<span class="n">element</span><span class="o">.</span><span class="n">scrollTop</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">element</span><span class="o">.</span><span class="n">scrollHeight</span><span class="p">;</span>
</pre></div>

<p>[EDIT], to match the comment...</p>
<div class="code"><pre class="code literal-block"><span class="n">function</span><span class="w"> </span><span class="n">updateScroll</span><span class="p">(){</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">document</span><span class="o">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s2">"yourDivID"</span><span class="p">);</span>
<span class="w">    </span><span class="n">element</span><span class="o">.</span><span class="n">scrollTop</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">element</span><span class="o">.</span><span class="n">scrollHeight</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>whenever content is added, call the function updateScroll(), or set a timer:</p>
<div class="code"><pre class="code literal-block"><span class="c1">//once a second</span>
<span class="n">setInterval</span><span class="p">(</span><span class="n">updateScroll</span><span class="p">,</span><span class="mi">1000</span><span class="p">);</span>
</pre></div>

<p>if you want to update ONLY if the user didn't move:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">scrolled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">false</span><span class="p">;</span>
<span class="n">function</span><span class="w"> </span><span class="n">updateScroll</span><span class="p">(){</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">scrolled</span><span class="p">){</span>
<span class="w">        </span><span class="k">var</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">document</span><span class="o">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s2">"yourDivID"</span><span class="p">);</span>
<span class="w">        </span><span class="n">element</span><span class="o">.</span><span class="n">scrollTop</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">element</span><span class="o">.</span><span class="n">scrollHeight</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="o">$</span><span class="p">(</span><span class="s2">"#yourDivID"</span><span class="p">)</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s1">'scroll'</span><span class="p">,</span><span class="w"> </span><span class="n">function</span><span class="p">(){</span>
<span class="w">    </span><span class="n">scrolled</span><span class="o">=</span><span class="bp">true</span><span class="p">;</span>
<span class="p">});</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/using-vim-s-tabs-like-buffers/" class="u-url">Using Vim's tabs like buffers</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/using-vim-s-tabs-like-buffers/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T07:26:57+08:00" itemprop="datePublished" title="2023-03-04 07:26">2023-03-04 07:26</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have looked at the ability to use tabs in Vim (with <code>:tabe</code>, <code>:tabnew</code>,
etc.) as a replacement for my current practice of having many files open in
the same window in hidden buffers.</p>
<p>I would like every distinct file that I have open to always be in its own tab.
However, there are some things that get in the way of this. How do I fix
these:</p>
<ol>
<li>
<p>When commands like <code>gf</code> and <code>^]</code> jump to a location in another file, the file opens in a new buffer in the current tab. Is there a way to have all of these sorts of commands open the file in a new tab, or switch to the existing tab with the file if it is already open?</p>
</li>
<li>
<p>When switching buffers I can use <code>:b &lt;part of filename&gt;&lt;tab&gt;</code> and it will complete the names of files in existing buffers. <code>&lt;part of filename&gt;</code> can even be the middle of a filename instead of the beginning. Is there an equivalent for switching tabs?</p>
</li>
</ol>
<p><br><br></p>
<h2>Answer</h2>
<p>Stop, stop, stop.</p>
<p>This is not how Vim's tabs are designed to be used. In fact, they're misnamed.
A better name would be "viewport" or "layout", because that's what a tab
is—it's a different layout of windows of <em>all</em> of your existing buffers.</p>
<p>Trying to beat Vim into 1 tab == 1 buffer is an exercise in futility. Vim
doesn't know or care and it will not respect it on all commands—in particular,
anything that uses the quickfix buffer (<code>:make</code>, <code>:grep</code>, and <code>:helpgrep</code> are
the ones that spring to mind) will happily ignore tabs and there's nothing you
can do to stop that.</p>
<p>Instead:</p>
<ul>
<li>
<p><code>:set hidden</code><br>
If you don't have this set already, then do so. It makes vim work like every
other multiple-file editor on the planet. You can have edited buffers that
aren't visible in a window somewhere.</p>
</li>
<li>
<p>Use <code>:bn</code>, <code>:bp</code>, <code>:b #</code>, <code>:b name</code>, and <code>ctrl-6</code> to switch between buffers. I like <code>ctrl-6</code> myself (alone it switches to the previously used buffer, or <code>#ctrl-6</code> switches to buffer number <code>#</code>).</p>
</li>
<li>Use <code>:ls</code> to list buffers, or a plugin like MiniBufExpl or BufExplorer.</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<p>Bit late to the party here but surprised I didn't see the following in this
list:</p>
<p><code>:tab sball</code> - this opens a new tab for each open buffer.</p>
<p><code>:help switchbuf</code> - this controls buffer switching behaviour, try <code>:set
switchbuf=usetab,newtab</code>. This should mean switching to the existing tab if
the buffer is open, or creating a new one if not.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/can-pm2-run-an-npm-start-script/" class="u-url">Can pm2 run an 'npm start' script</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/can-pm2-run-an-npm-start-script/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T07:25:22+08:00" itemprop="datePublished" title="2023-03-04 07:25">2023-03-04 07:25</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is there a way for pm2 to run an npm start script or do you just have to run
<code>pm2 start app.js</code></p>
<p>So in development</p>
<div class="code"><pre class="code literal-block">npm start
</pre></div>

<p>Then in production with pm2 you would run something like</p>
<div class="code"><pre class="code literal-block">pm2 start 'npm start'
</pre></div>

<p>There is an equivalent way to do this in <code>forever</code>:</p>
<div class="code"><pre class="code literal-block">forever start -c "npm start" ./
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>PM2 now supports npm start:</p>
<div class="code"><pre class="code literal-block">pm2 start npm -- start
</pre></div>

<p>To assign a name to the PM2 process, use the <code>--name</code> option:</p>
<div class="code"><pre class="code literal-block">pm2 start npm --name "app name" -- start
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Those who are using a configuration script like a <code>.json</code> file to run the pm2
process can use <code>npm start</code> or any other script like this -</p>
<p><strong>my-app-pm2.json</strong></p>
<div class="code"><pre class="code literal-block">{
    "apps": [
        {
            "name": "my-app",
            "script": "npm",
            "args" : "start"
        }
    ]
}
</pre></div>

<p>Then simply -</p>
<div class="code"><pre class="code literal-block">pm2 start my-app-pm2.json
</pre></div>

<p><strong>Edit</strong> - To handle the use case when you have this configuration script in
a parent directory and want to launch an app in the sub-directory then use the
<code>cwd</code> attribute.</p>
<p>Assuming our app is in the sub-directory <code>nested-app</code> relative to this
configuration file then -</p>
<div class="code"><pre class="code literal-block">{
    "apps": [
        {
            "name": "my-nested-app",
            "cwd": "./nested-app",
            "script": "npm",
            "args": "start"
        }
    ]
}
</pre></div>

<p>More detail here.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2322.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2320.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

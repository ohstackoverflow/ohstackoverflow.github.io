<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 805) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-805.html">
<link rel="prev" href="index-806.html" type="text/html">
<link rel="next" href="index-804.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/is-there-a-portable-way-to-get-the-current-username-in-python/" class="u-url">Is there a portable way to get the current username in Python?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/is-there-a-portable-way-to-get-the-current-username-in-python/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T16:25:48+08:00" itemprop="datePublished" title="2023-02-17 16:25">2023-02-17 16:25</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What is a portable way (e.g. for Linux and Windows) to get the current user's
username? Something similar to <code>os.getuid()</code> would be nice:</p>
<div class="code"><pre class="code literal-block">&gt;&gt;&gt; os.getuid()
42

# Does not currently exist in Python
&gt;&gt;&gt; os.getusername()
'slartibartfast'
</pre></div>

<p>The <code>pwd</code> module works for Unix only. Some people suggest that getting the
username under Windows can be complicated in certain circumstances (e.g.,
running as a Windows service).</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Look at <code>getpass</code> module</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">getpass</span>
<span class="n">getpass</span><span class="o">.</span><span class="n">getuser</span><span class="p">()</span>
<span class="s1">'kostya'</span>
</pre></div>

<p>Availability: Unix, Windows</p>
<hr>
<p>p.s. Per comment below " <em>this function looks at the values of various
environment variables to determine the user name. Therefore, this function
should not be relied on for access control purposes (or possibly any other
purpose, since it allows any user to impersonate any other).</em> "</p>
<p><br></p>
<h3>Suggest</h3>
<p>Combine <code>os.getuid()</code> with <code>pwd.getpwuid()</code>:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">pwd</span>

<span class="k">def</span> <span class="nf">get_username</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">pwd</span><span class="o">.</span><span class="n">getpwuid</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getuid</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>

<p>See <code>pwd</code> docs for more details.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-the-equivalent-of-ngshow-and-nghide-in-angular-2/" class="u-url">What is the equivalent of ngShow and ngHide in Angular 2+?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-the-equivalent-of-ngshow-and-nghide-in-angular-2/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T16:25:22+08:00" itemprop="datePublished" title="2023-02-17 16:25">2023-02-17 16:25</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a number of elements that I want to be visible under certain
conditions.</p>
<p>In AngularJS I would write</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;div</span><span class="w"> </span><span class="na">ng-show=</span><span class="s">"myVar"</span><span class="nt">&gt;</span>stuff<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p>How can I do this in Angular 2+?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The <code>hidden</code> property can be used for that</p>
<div class="code"><pre class="code literal-block"><span class="o">[</span><span class="n">hidden</span><span class="o">]=</span><span class="ss">"!myVar"</span>
</pre></div>

<p>See also</p>
<ul>
<li>https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/hidden</li>
</ul>
<p><strong>issues</strong></p>
<p><code>hidden</code> has some issues though because it can conflict with CSS for the
<code>display</code> property.</p>
<p>See how <code>some</code> in <strong>Plunker example</strong> doesn't get hidden because it has a
style</p>
<div class="code"><pre class="code literal-block"><span class="p">:</span><span class="nd">host</span><span class="w"> </span><span class="p">{</span><span class="k">display</span><span class="p">:</span><span class="w"> </span><span class="kc">block</span><span class="p">;}</span>
</pre></div>

<p>set. (This might behave differently in other browsers - I tested with Chrome
50)</p>
<p><strong>workaround</strong></p>
<p>You can fix it by adding</p>
<div class="code"><pre class="code literal-block"><span class="o">[</span><span class="n">hidden</span><span class="o">]</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="nl">display</span><span class="p">:</span><span class="w"> </span><span class="k">none</span><span class="w"> </span><span class="err">!</span><span class="n">important</span><span class="p">;</span><span class="err">}</span>
</pre></div>

<p>To a global style in <code>index.html</code>.</p>
<p><strong>another pitfall</strong></p>
<div class="code"><pre class="code literal-block"><span class="x">hidden="false"</span>
<span class="x">hidden="</span><span class="cp">{{</span><span class="kp">false</span><span class="cp">}}</span><span class="x">"</span>
<span class="x">hidden="</span><span class="cp">{{</span><span class="nv">isHidden</span><span class="cp">}}</span><span class="x">" // isHidden = false;</span>
</pre></div>

<p>are the same as</p>
<div class="code"><pre class="code literal-block">hidden="true"
</pre></div>

<p>and will not show the element.</p>
<p><code>hidden="false"</code> will assign the string <code>"false"</code> which is considered truthy.<br>
Only the value <code>false</code> or removing the attribute will actually make the
element visible.</p>
<p>Using <code>{{}}</code> also converts the expression to a string and won't work as
expected.</p>
<p>Only binding with <code>[]</code> will work as expected because this <code>false</code> is assigned
as <code>false</code> instead of <code>"false"</code>.</p>
<p><strong><code>*ngIf</code> vs <code>[hidden]</code></strong></p>
<p><code>*ngIf</code> effectively removes its content from the DOM while <code>[hidden]</code> modifies
the <code>display</code> property and only instructs the browser to not show the content
but the DOM still contains it.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Use the <code>[hidden]</code> attribute:</p>
<div class="code"><pre class="code literal-block"><span class="o">[</span><span class="n">hidden</span><span class="o">]=</span><span class="ss">"!myVar"</span>
</pre></div>

<p>Or you can use <code>*ngIf</code></p>
<div class="code"><pre class="code literal-block">*ngIf="myVar"
</pre></div>

<p>These are two ways to show/hide an element. The only difference is: <code>*ngIf</code>
will remove the element from DOM while <code>[hidden]</code> will tell the browser to
show/hide an element using CSS <code>display</code> property by keeping the element in
DOM.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/when-should-i-write-the-keyword-inline-for-a-function-method/" class="u-url">When should I write the keyword 'inline' for a function/method?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/when-should-i-write-the-keyword-inline-for-a-function-method/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T16:24:55+08:00" itemprop="datePublished" title="2023-02-17 16:24">2023-02-17 16:24</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>When should I write the keyword <code>inline</code> for a function/method in C++?</p>
<p>After seeing some answers, some related questions:</p>
<ul>
<li>
<p>When should I <strong>not</strong> write the keyword 'inline' for a function/method in C++?</p>
</li>
<li>
<p>When will the compiler not know when to make a function/method 'inline'?</p>
</li>
<li>
<p>Does it matter if an application is <strong>multithreaded</strong> when one writes 'inline' for a function/method?</p>
</li>
</ul>
<p><br><br></p>
<h2>Answer</h2>
<p>Oh man, one of my pet peeves.</p>
<p><code>inline</code> is more like <code>static</code> or <code>extern</code> than a directive telling the
compiler to inline your functions. <code>extern</code>, <code>static</code>, <code>inline</code> are linkage
directives, used almost exclusively by the linker, not the compiler.</p>
<p>It is said that <code>inline</code> hints to the compiler that you think the function
should be inlined. That may have been true in 1998, but a decade later the
compiler needs no such hints. Not to mention humans are usually wrong when it
comes to optimizing code, so most compilers flat out ignore the 'hint'.</p>
<ul>
<li>
<p><strong><code>static</code></strong> - the variable/function name cannot be used in other translation units. Linker needs to make sure it doesn't accidentally use a statically defined variable/function from another translation unit.</p>
</li>
<li>
<p><strong><code>extern</code></strong> - use this variable/function name in this translation unit but don't complain if it isn't defined. The linker will sort it out and make sure all the code that tried to use some extern symbol has its address.</p>
</li>
<li>
<p><strong><code>inline</code></strong> - this function will be defined in multiple translation units, don't worry about it. The linker needs to make sure all translation units use a single instance of the variable/function.</p>
</li>
</ul>
<p><strong>Note:</strong> Generally, declaring templates <code>inline</code> is pointless, as they have
the linkage semantics of <code>inline</code> already. However, explicit specialization
and instantiation of templates require <code>inline</code> to be used.</p>
<hr>
<p>Specific answers to your questions:</p>
<ul>
<li>
<blockquote>
<p>When should I write the keyword 'inline' for a function/method in C++?</p>
</blockquote>
</li>
</ul>
<p>Only when you want the function to be defined in a header. More exactly only
when the function's definition can show up in multiple translation units. It's
a good idea to define small (as in one liner) functions in the header file as
it gives the compiler more information to work with while optimizing your
code. It also increases compilation time.</p>
<ul>
<li>
<blockquote>
<p>When should I not write the keyword 'inline' for a function/method in C++?</p>
</blockquote>
</li>
</ul>
<p>Don't add inline just because you think your code will run faster if the
compiler inlines it.</p>
<ul>
<li>
<blockquote>
<p>When will the compiler not know when to make a function/method 'inline'?</p>
</blockquote>
</li>
</ul>
<p>Generally, the compiler will be able to do this better than you. However, the
compiler doesn't have the option to inline code if it doesn't have the
function definition. In maximally optimized code usually all <code>private</code> methods
are inlined whether you ask for it or not.</p>
<p>As an aside to prevent inlining in GCC, use <code>__attribute__(( noinline ))</code>, and
in Visual Studio, use <code>__declspec(noinline)</code>.</p>
<ul>
<li>
<blockquote>
<p>Does it matter if an application is multithreaded when one writes 'inline' for a function/method?</p>
</blockquote>
</li>
</ul>
<p>Multithreading doesn't affect inlining in any way.</p>
<p><br></p>
<h3>Suggest</h3>
<p>I'd like to contribute to all of the great answers in this thread with a
convincing example to disperse any remaining misunderstanding.</p>
<p>Given two source files, such as:</p>
<ul>
<li>
<p><strong>inline111.cpp:</strong></p>
<div class="code"><pre class="code literal-block"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
</pre></div>

<p>void bar();</p>
<p>inline int fun() {
  return 111;
}</p>
<p>int main() {
  std::cout &lt;&lt; "inline111: fun() = " &lt;&lt; fun() &lt;&lt; ", &amp;fun = " &lt;&lt; (void*) &amp;fun;
  bar();
}</p>
</li>
<li>
<p><strong>inline222.cpp:</strong></p>
<div class="code"><pre class="code literal-block"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
</pre></div>

<p>inline int fun() {
  return 222;
}</p>
<p>void bar() {
  std::cout &lt;&lt; "inline222: fun() = " &lt;&lt; fun() &lt;&lt; ", &amp;fun = " &lt;&lt; (void*) &amp;fun;
}</p>
</li>
</ul>
<hr>
<ul>
<li><strong>Case A:</strong></li>
</ul>
<p><em>Compile</em> :</p>
<div class="code"><pre class="code literal-block">    g++ -std=c++11 inline111.cpp inline222.cpp
</pre></div>

<p><em>Output</em> :</p>
<div class="code"><pre class="code literal-block">    inline111: fun() = 111, &amp;fun = 0x4029a0
inline222: fun() = 111, &amp;fun = 0x4029a0
</pre></div>

<p><em>Discussion</em> :</p>
<div class="code"><pre class="code literal-block"><span class="mi">1</span>. <span class="n">Even</span> <span class="n">thou</span> <span class="n">you</span> <span class="n">ought</span> <span class="nb">to</span> <span class="n">have</span> <span class="n">identical</span> <span class="n">definitions</span> <span class="nb">of</span> <span class="n">your</span> <span class="n">inline</span> <span class="n">functions</span>, <span class="n">C</span>++ <span class="nb">compiler</span> <span class="k">does</span> <span class="nb">not</span> <span class="n">flag</span> <span class="n">it</span> <span class="k">if</span> <span class="n">that</span> <span class="k">is</span> <span class="nb">not</span> <span class="n">the</span> <span class="n">case</span> (<span class="n">actually</span>, <span class="n">due</span> <span class="nb">to</span> <span class="n">_separate</span> <span class="n">compilation_</span> <span class="n">it</span> <span class="k">has</span> <span class="n">no</span> <span class="n">ways</span> <span class="nb">to</span> <span class="n">check</span> <span class="n">it</span>). <span class="n">It</span> <span class="k">is</span> <span class="n">your</span> <span class="n">own</span> <span class="n">duty</span> <span class="nb">to</span> <span class="n">ensure</span> <span class="n">this</span>!

<span class="mi">2</span>. <span class="n">Linker</span> <span class="k">does</span> <span class="nb">not</span> <span class="n">complain</span> <span class="n">about</span> <span class="n">_One</span> <span class="n">Definition</span> <span class="n">Rule_</span> , <span class="n">as</span> `<span class="n">fun</span>()` <span class="k">is</span> <span class="n">declared</span> <span class="n">as</span> `<span class="n">inline</span>`. <span class="n">However</span>, <span class="n">because</span> **<span class="n">inline111</span>.<span class="n">cpp</span>** <span class="k">is</span> <span class="n">the</span> <span class="nb">first</span> <span class="n">translation</span> <span class="k">unit</span> (<span class="n">which</span> <span class="n">actually</span> <span class="n">calls</span> `<span class="n">fun</span>()`) <span class="n">processed</span> <span class="n">by</span> <span class="nb">compiler</span>, <span class="n">the</span> <span class="nb">compiler</span> <span class="n">instantiates</span> `<span class="n">fun</span>()` <span class="n">upon</span> <span class="n">its</span> <span class="n">_first_</span> <span class="n">call-encounter</span> <span class="nb">in</span> **<span class="n">inline111</span>.<span class="n">cpp</span>**. <span class="n">If</span> <span class="nb">compiler</span> <span class="n">decides</span> **<span class="nb">not</span>** <span class="nb">to</span> <span class="n">expand</span> `<span class="n">fun</span>()` <span class="n">upon</span> <span class="n">its</span> <span class="n">call</span> <span class="nb">from</span> <span class="n">anywhere</span> <span class="k">else</span> <span class="nb">in</span> <span class="n">your</span> <span class="n">program</span> ( <span class="n">_e</span>.<span class="n">g</span>.<span class="n">_</span> <span class="nb">from</span> **<span class="n">inline222</span>.<span class="n">cpp</span>** ), <span class="n">the</span> <span class="n">call</span> <span class="nb">to</span> `<span class="n">fun</span>()` <span class="n">will</span> <span class="n">always</span> <span class="n">be</span> <span class="n">linked</span> <span class="nb">to</span> <span class="n">its</span> <span class="n">instance</span> <span class="n">produced</span> <span class="nb">from</span> **<span class="n">inline111</span>.<span class="n">cpp</span>** (<span class="n">the</span> <span class="n">call</span> <span class="nb">to</span> `<span class="n">fun</span>()` <span class="n">inside</span> **<span class="n">inline222</span>.<span class="n">cpp</span>** <span class="n">may</span> <span class="o">also</span> <span class="nb">produce</span> <span class="n">an</span> <span class="n">instance</span> <span class="nb">in</span> <span class="n">that</span> <span class="n">translation</span> <span class="k">unit</span>, <span class="k">but</span> <span class="n">it</span> <span class="n">will</span> <span class="n">remain</span> <span class="n">unlinked</span>). <span class="n">Indeed</span>, <span class="n">that</span> <span class="k">is</span> <span class="n">evident</span> <span class="nb">from</span> <span class="n">the</span> <span class="n">identical</span> `<span class="nv">&amp;fun</span> = <span class="mh">0x4029a0</span>` <span class="n">print-outs</span>.

<span class="mi">3</span>. <span class="n">Finally</span>, <span class="n">despite</span> <span class="n">the</span> `<span class="n">inline</span>` <span class="n">suggestion</span> <span class="nb">to</span> <span class="n">the</span> <span class="nb">compiler</span> <span class="nb">to</span> <span class="n">_actually</span> <span class="n">expand_</span> <span class="n">the</span> <span class="n">one-liner</span> `<span class="n">fun</span>()`, <span class="n">it</span> <span class="n">_ignores_</span> <span class="n">your</span> <span class="n">suggestion</span> <span class="n">completely</span>, <span class="n">which</span> <span class="k">is</span> <span class="n">clear</span> <span class="n">because</span> `<span class="n">fun</span>() = <span class="mi">111</span>` <span class="nb">in</span> <span class="n">both</span> <span class="nb">of</span> <span class="n">the</span> <span class="nb">lines</span>.
</pre></div>

<hr>
<ul>
<li><strong>Case B:</strong></li>
</ul>
<p><em>Compile</em> <em>(notice reverse order)</em> :</p>
<div class="code"><pre class="code literal-block">    g++ -std=c++11 inline222.cpp inline111.cpp
</pre></div>

<p><em>Output</em> :</p>
<div class="code"><pre class="code literal-block">    inline111: fun() = 222, &amp;fun = 0x402980
inline222: fun() = 222, &amp;fun = 0x402980
</pre></div>

<p><em>Discussion</em> :</p>
<div class="code"><pre class="code literal-block"><span class="mf">1.</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="k">case</span><span class="w"> </span><span class="n">asserts</span><span class="w"> </span><span class="n">what</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">discussed</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">**</span><span class="k">Case</span><span class="w"> </span><span class="n">A</span><span class="o">**</span><span class="p">.</span>

<span class="mf">2.</span><span class="w"> </span><span class="n">Notice</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">important</span><span class="w"> </span><span class="kt">point</span><span class="p">,</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">actual</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n n-Quoted">`fun()`</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">**</span><span class="n">inline222</span><span class="p">.</span><span class="n">cpp</span><span class="o">**</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">_e</span><span class="p">.</span><span class="n">g</span><span class="p">.</span><span class="n">_</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="n n-Quoted">`cout`</span><span class="o">-</span><span class="n">statement</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">**</span><span class="n">inline222</span><span class="p">.</span><span class="n">cpp</span><span class="o">**</span><span class="w"> </span><span class="n">completely</span><span class="p">)</span><span class="w"> </span><span class="k">then</span><span class="p">,</span><span class="w"> </span><span class="n">despite</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">compilation</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">translation</span><span class="w"> </span><span class="n">units</span><span class="p">,</span><span class="w"> </span><span class="n n-Quoted">`fun()`</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">instantiated</span><span class="w"> </span><span class="n">upon</span><span class="w"> </span><span class="n">it</span><span class="s1">'s first call encounter in **inline111.cpp** , resulting in print-out for **Case B** as `inline111: fun() = 111, &amp;fun = 0x402980`.</span>
</pre></div>

<hr>
<ul>
<li><strong>Case C:</strong></li>
</ul>
<p><em>Compile</em> <em>(notice -O2)</em> :</p>
<div class="code"><pre class="code literal-block">    g++ -std=c++11 -O2 inline222.cpp inline111.cpp
</pre></div>

<p>or</p>
<div class="code"><pre class="code literal-block">    g++ -std=c++11 -O2 inline111.cpp inline222.cpp
</pre></div>

<p><em>Output</em> :</p>
<div class="code"><pre class="code literal-block">    inline111: fun() = 111, &amp;fun = 0x402900
inline222: fun() = 222, &amp;fun = 0x402900
</pre></div>

<p><em>Discussion</em> :</p>
<div class="code"><pre class="code literal-block"><span class="mf">1.</span><span class="w"> </span><span class="n">As</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">described</span><span class="w"> </span><span class="n">here</span><span class="p">,</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">O2</span><span class="err">`</span><span class="w"> </span><span class="n">optimization</span><span class="w"> </span><span class="n">encourages</span><span class="w"> </span><span class="n">compiler</span><span class="w"> </span><span class="kr">to</span><span class="w"> </span><span class="n">_actually</span><span class="w"> </span><span class="nb">exp</span><span class="ow">and</span><span class="n">_</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">functions</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">inlined</span><span class="w"> </span><span class="p">(</span><span class="ow">Not</span><span class="n">ice</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="kd">fn</span><span class="n">o</span><span class="o">-</span><span class="n">inline</span><span class="err">`</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">_default_</span><span class="w"> </span><span class="n">without</span><span class="w"> </span><span class="n">optimization</span><span class="w"> </span><span class="n">options</span><span class="p">)</span><span class="mf">.</span><span class="w"> </span><span class="n">As</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">evident</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">outprint</span><span class="w"> </span><span class="n">here</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="err">`</span><span class="n">fun</span><span class="p">()</span><span class="err">`</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">actually</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">_inline</span><span class="w"> </span><span class="nb">exp</span><span class="ow">and</span><span class="n">ed_</span><span class="w"> </span><span class="p">(</span><span class="n">according</span><span class="w"> </span><span class="kr">to</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="kd">def</span><span class="n">inition</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">_particular_</span><span class="w"> </span><span class="n">translation</span><span class="w"> </span><span class="n">unit</span><span class="p">),</span><span class="w"> </span><span class="n">resulting</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">_different_</span><span class="w"> </span><span class="err">`</span><span class="n">fun</span><span class="p">()</span><span class="err">`</span><span class="w"> </span><span class="kr">print</span><span class="o">-</span><span class="n">outs</span><span class="mf">.</span><span class="w"> </span><span class="n">Despite</span><span class="w"> </span><span class="n">this</span><span class="p">,</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">still</span><span class="w"> </span><span class="n">_only</span><span class="w"> </span><span class="kr">on</span><span class="n">e_</span><span class="w"> </span><span class="n">globally</span><span class="w"> </span><span class="n">linked</span><span class="w"> </span><span class="n">instance</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="err">`</span><span class="n">fun</span><span class="p">()</span><span class="err">`</span><span class="w"> </span><span class="p">(</span><span class="n">as</span><span class="w"> </span><span class="n">required</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">standard</span><span class="p">),</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">evident</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">_identical_</span><span class="w"> </span><span class="err">`&amp;</span><span class="n">fun</span><span class="err">`</span><span class="w"> </span><span class="kr">print</span><span class="o">-</span><span class="n">out</span><span class="mf">.</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-806.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-804.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

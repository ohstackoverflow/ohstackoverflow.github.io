<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 520) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-520.html">
<link rel="prev" href="index-521.html" type="text/html">
<link rel="next" href="index-519.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/git-ignore-file-for-xcode-projects/" class="u-url">Git ignore file for Xcode projects</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/git-ignore-file-for-xcode-projects/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T08:58:23+08:00" itemprop="datePublished" title="2023-02-17 08:58">2023-02-17 08:58</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Which files should I include in <code>.gitignore</code> when using <em>Git</em> in conjunction
with <em>Xcode</em>?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>I was previously using the top-voted answer, but it needs a bit of cleanup, so
here it is redone for Xcode 4, with some improvements.</p>
<p>I've researched <em>every</em> file in this list, but several of them do not exist in
Apple's official Xcode documentation, so I had to go on Apple mailing lists.</p>
<p>Apple continues to add undocumented files, potentially corrupting our live
projects. This IMHO is unacceptable, and I've now started logging bugs against
it each time they do so. I know they don't care, but maybe it'll shame one of
them into treating developers more fairly.</p>
<hr>
<p>If you need to customize, here's a gist you can fork:
https://gist.github.com/3786883</p>
<hr>
<div class="code"><pre class="code literal-block"><span class="c1">#########################</span>
<span class="c1"># .gitignore file for Xcode4 and Xcode5 Source projects</span>
<span class="c1">#</span>
<span class="c1"># Apple bugs, waiting for Apple to fix/respond:</span>
<span class="c1">#</span>
<span class="c1">#    15564624 - what does the xccheckout file in Xcode5 do? Where's the documentation?</span>
<span class="c1">#</span>
<span class="c1"># Version 2.6</span>
<span class="c1"># For latest version, see: http://stackoverflow.com/questions/49478/git-ignore-file-for-xcode-projects</span>
<span class="c1">#</span>
<span class="c1"># 2015 updates:</span>
<span class="c1"># - Fixed typo in "xccheckout" line - thanks to @lyck for pointing it out!</span>
<span class="c1"># - Fixed the .idea optional ignore. Thanks to @hashier for pointing this out</span>
<span class="c1"># - Finally added "xccheckout" to the ignore. Apple still refuses to answer support requests about this, but in practice it seems you should ignore it.</span>
<span class="c1"># - minor tweaks from Jona and Coeur (slightly more precise xc* filtering/names)</span>
<span class="c1"># 2014 updates:</span>
<span class="c1"># - appended non-standard items DISABLED by default (uncomment if you use those tools)</span>
<span class="c1"># - removed the edit that an SO.com moderator made without bothering to ask me</span>
<span class="c1"># - researched CocoaPods .lock more carefully, thanks to Gokhan Celiker</span>
<span class="c1"># 2013 updates:</span>
<span class="c1"># - fixed the broken "save personal Schemes"</span>
<span class="c1"># - added line-by-line explanations for EVERYTHING (some were missing)</span>
<span class="c1">#</span>
<span class="c1"># NB: if you are storing "built" products, this WILL NOT WORK,</span>
<span class="c1"># and you should use a different .gitignore (or none at all)</span>
<span class="c1"># This file is for SOURCE projects, where there are many extra</span>
<span class="c1"># files that we want to exclude</span>
<span class="c1">#</span>
<span class="c1">#########################</span>

<span class="c1">#####</span>
<span class="c1"># OS X temporary files that should never be committed</span>
<span class="c1">#</span>
<span class="c1"># c.f. http://www.westwind.com/reference/os-x/invisibles.html</span>

<span class="o">.</span><span class="n">DS_Store</span>

<span class="c1"># c.f. http://www.westwind.com/reference/os-x/invisibles.html</span>

<span class="o">.</span><span class="n">Trashes</span>

<span class="c1"># c.f. http://www.westwind.com/reference/os-x/invisibles.html</span>

<span class="o">*.</span><span class="n">swp</span>

<span class="c1">#</span>
<span class="c1"># *.lock - this is used and abused by many editors for many different things.</span>
<span class="c1">#    For the main ones I use (e.g. Eclipse), it should be excluded</span>
<span class="c1">#    from source-control, but YMMV.</span>
<span class="c1">#   (lock files are usually local-only file-synchronization on the local FS that should NOT go in git)</span>
<span class="c1"># c.f. the "OPTIONAL" section at bottom though, for tool-specific variations!</span>
<span class="c1">#</span>
<span class="c1"># In particular, if you're using CocoaPods, you'll want to comment-out this line:</span>
<span class="o">*.</span><span class="n">lock</span>


<span class="c1">#</span>
<span class="c1"># profile - REMOVED temporarily (on double-checking, I can't find it in OS X docs?)</span>
<span class="c1">#profile</span>


<span class="c1">####</span>
<span class="c1"># Xcode temporary files that should never be committed</span>
<span class="c1"># </span>
<span class="c1"># NB: NIB/XIB files still exist even on Storyboard projects, so we want this...</span>

<span class="o">*~.</span><span class="n">nib</span>


<span class="c1">####</span>
<span class="c1"># Xcode build files -</span>
<span class="c1">#</span>
<span class="c1"># NB: slash on the end, so we only remove the FOLDER, not any files that were badly named "DerivedData"</span>

<span class="n">DerivedData</span><span class="o">/</span>

<span class="c1"># NB: slash on the end, so we only remove the FOLDER, not any files that were badly named "build"</span>

<span class="n">build</span><span class="o">/</span>


<span class="c1">#####</span>
<span class="c1"># Xcode private settings (window sizes, bookmarks, breakpoints, custom executables, smart groups)</span>
<span class="c1">#</span>
<span class="c1"># This is complicated:</span>
<span class="c1">#</span>
<span class="c1"># SOMETIMES you need to put this file in version control.</span>
<span class="c1"># Apple designed it poorly - if you use "custom executables", they are</span>
<span class="c1">#  saved in this file.</span>
<span class="c1"># 99% of projects do NOT use those, so they do NOT want to version control this file.</span>
<span class="c1">#  ..but if you're in the 1%, comment out the line "*.pbxuser"</span>

<span class="c1"># .pbxuser: http://lists.apple.com/archives/xcode-users/2004/Jan/msg00193.html</span>

<span class="o">*.</span><span class="n">pbxuser</span>

<span class="c1"># .mode1v3: http://lists.apple.com/archives/xcode-users/2007/Oct/msg00465.html</span>

<span class="o">*.</span><span class="n">mode1v3</span>

<span class="c1"># .mode2v3: http://lists.apple.com/archives/xcode-users/2007/Oct/msg00465.html</span>

<span class="o">*.</span><span class="n">mode2v3</span>

<span class="c1"># .perspectivev3: http://stackoverflow.com/questions/5223297/xcode-projects-what-is-a-perspectivev3-file</span>

<span class="o">*.</span><span class="n">perspectivev3</span>

<span class="c1">#    NB: also, whitelist the default ones, some projects need to use these</span>
<span class="o">!</span><span class="n">default</span><span class="o">.</span><span class="n">pbxuser</span>
<span class="o">!</span><span class="n">default</span><span class="o">.</span><span class="n">mode1v3</span>
<span class="o">!</span><span class="n">default</span><span class="o">.</span><span class="n">mode2v3</span>
<span class="o">!</span><span class="n">default</span><span class="o">.</span><span class="n">perspectivev3</span>


<span class="c1">####</span>
<span class="c1"># Xcode 4 - semi-personal settings</span>
<span class="c1">#</span>
<span class="c1"># Apple Shared data that Apple put in the wrong folder</span>
<span class="c1"># c.f. http://stackoverflow.com/a/19260712/153422</span>
<span class="c1">#     FROM ANSWER: Apple says "don't ignore it"</span>
<span class="c1">#     FROM COMMENTS: Apple is wrong; Apple code is too buggy to trust; there are no known negative side-effects to ignoring Apple's unofficial advice and instead doing the thing that actively fixes bugs in Xcode</span>
<span class="c1"># Up to you, but ... current advice: ignore it.</span>
<span class="o">*.</span><span class="n">xccheckout</span>

<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1"># OPTION 1: ---------------------------------</span>
<span class="c1">#     throw away ALL personal settings (including custom schemes!</span>
<span class="c1">#     - unless they are "shared")</span>
<span class="c1"># As per build/ and DerivedData/, this ought to have a trailing slash</span>
<span class="c1">#</span>
<span class="c1"># NB: this is exclusive with OPTION 2 below</span>
<span class="n">xcuserdata</span><span class="o">/</span>

<span class="c1"># OPTION 2: ---------------------------------</span>
<span class="c1">#     get rid of ALL personal settings, but KEEP SOME OF THEM</span>
<span class="c1">#     - NB: you must manually uncomment the bits you want to keep</span>
<span class="c1">#</span>
<span class="c1"># NB: this *requires* git v1.8.2 or above; you may need to upgrade to latest OS X,</span>
<span class="c1">#    or manually install git over the top of the OS X version</span>
<span class="c1"># NB: this is exclusive with OPTION 1 above</span>
<span class="c1">#</span>
<span class="c1">#xcuserdata/**/*</span>

<span class="c1">#     (requires option 2 above): Personal Schemes</span>
<span class="c1">#</span>
<span class="c1">#!xcuserdata/**/xcschemes/*</span>

<span class="c1">####</span>
<span class="c1"># Xcode 4 workspaces - more detailed</span>
<span class="c1">#</span>
<span class="c1"># Workspaces are important! They are a core feature of Xcode - don't exclude them :)</span>
<span class="c1">#</span>
<span class="c1"># Workspace layout is quite spammy. For reference:</span>
<span class="c1">#</span>
<span class="c1"># /(root)/</span>
<span class="c1">#   /(project-name).xcodeproj/</span>
<span class="c1">#     project.pbxproj</span>
<span class="c1">#     /project.xcworkspace/</span>
<span class="c1">#       contents.xcworkspacedata</span>
<span class="c1">#       /xcuserdata/</span>
<span class="c1">#         /(your name)/xcuserdatad/</span>
<span class="c1">#           UserInterfaceState.xcuserstate</span>
<span class="c1">#     /xcshareddata/</span>
<span class="c1">#       /xcschemes/</span>
<span class="c1">#         (shared scheme name).xcscheme</span>
<span class="c1">#     /xcuserdata/</span>
<span class="c1">#       /(your name)/xcuserdatad/</span>
<span class="c1">#         (private scheme).xcscheme</span>
<span class="c1">#         xcschememanagement.plist</span>
<span class="c1">#</span>
<span class="c1">#</span>

<span class="c1">####</span>
<span class="c1"># Xcode 4 - Deprecated classes</span>
<span class="c1">#</span>
<span class="c1"># Allegedly, if you manually "deprecate" your classes, they get moved here.</span>
<span class="c1">#</span>
<span class="c1"># We're using source-control, so this is a "feature" that we do not want!</span>

<span class="o">*.</span><span class="n">moved</span><span class="o">-</span><span class="n">aside</span>

<span class="c1">####</span>
<span class="c1"># OPTIONAL: Some well-known tools that people use side-by-side with Xcode / iOS development</span>
<span class="c1">#</span>
<span class="c1"># NB: I'd rather not include these here, but gitignore's design is weak and doesn't allow</span>
<span class="c1">#     modular gitignore: you have to put EVERYTHING in one file.</span>
<span class="c1">#</span>
<span class="c1"># COCOAPODS:</span>
<span class="c1">#</span>
<span class="c1"># c.f. http://guides.cocoapods.org/using/using-cocoapods.html#what-is-a-podfilelock</span>
<span class="c1"># c.f. http://guides.cocoapods.org/using/using-cocoapods.html#should-i-ignore-the-pods-directory-in-source-control</span>
<span class="c1">#</span>
<span class="c1">#!Podfile.lock</span>
<span class="c1">#</span>
<span class="c1"># RUBY:</span>
<span class="c1">#</span>
<span class="c1"># c.f. http://yehudakatz.com/2010/12/16/clarifying-the-roles-of-the-gemspec-and-gemfile/</span>
<span class="c1">#</span>
<span class="c1">#!Gemfile.lock</span>
<span class="c1">#</span>
<span class="c1"># IDEA:</span>
<span class="c1">#</span>
<span class="c1"># c.f. https://www.jetbrains.com/objc/help/managing-projects-under-version-control.html?search=workspace.xml</span>
<span class="c1"># </span>
<span class="c1">#.idea/workspace.xml</span>
<span class="c1">#</span>
<span class="c1"># TEXTMATE:</span>
<span class="c1">#</span>
<span class="c1"># -- UNVERIFIED: c.f. http://stackoverflow.com/a/50283/153422</span>
<span class="c1">#</span>
<span class="c1">#tm_build_errors</span>

<span class="c1">####</span>
<span class="c1"># UNKNOWN: recommended by others, but I can't discover what these files are</span>
<span class="c1">#</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Based on this guide for Mercurial my .gitignore includes:</p>
<div class="code"><pre class="code literal-block"><span class="na">.DS_Store</span>
<span class="err">*</span><span class="na">.swp</span>
<span class="err">*~</span><span class="na">.nib</span>

<span class="nf">build</span><span class="err">/</span>

<span class="err">*</span><span class="na">.pbxuser</span>
<span class="err">*</span><span class="na">.perspective</span>
<span class="err">*</span><span class="na">.perspectivev3</span>
</pre></div>

<p>I've also chosen to include:</p>
<div class="code"><pre class="code literal-block">*.mode1v3
*.mode2v3
</pre></div>

<p>which, according to this Apple mailing list post, are "user-specific project
settings".</p>
<p>And for Xcode 4:</p>
<div class="code"><pre class="code literal-block">xcuserdata
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/difference-between-struct-and-typedef-struct-in-c/" class="u-url">Difference between 'struct' and 'typedef struct' in C++?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/difference-between-struct-and-typedef-struct-in-c/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T08:57:57+08:00" itemprop="datePublished" title="2023-02-17 08:57">2023-02-17 08:57</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>In <strong>C++</strong> , is there any difference between:</p>
<div class="code"><pre class="code literal-block">struct Foo { ... };
</pre></div>

<p>and:</p>
<div class="code"><pre class="code literal-block">typedef struct { ... } Foo;
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>In C++, there is only a subtle difference. It's a holdover from C, in which it
makes a difference.</p>
<p>The C language standard (C89 §3.1.2.3, C99 §6.2.3, and C11 §6.2.3) mandates
separate namespaces for different categories of identifiers, including <em>tag
identifiers</em> (for <code>struct</code>/<code>union</code>/<code>enum</code>) and <em>ordinary identifiers</em> (for
<code>typedef</code> and other identifiers).</p>
<p>If you just said:</p>
<div class="code"><pre class="code literal-block">struct Foo { ... };
Foo x;
</pre></div>

<p>you would get a compiler error, because <code>Foo</code> is only defined in the tag
namespace.</p>
<p>You'd have to declare it as:</p>
<div class="code"><pre class="code literal-block">struct Foo x;
</pre></div>

<p>Any time you want to refer to a <code>Foo</code>, you'd always have to call it a <code>struct
Foo</code>. This gets annoying fast, so you can add a <code>typedef</code>:</p>
<div class="code"><pre class="code literal-block">struct Foo { ... };
typedef struct Foo Foo;
</pre></div>

<p>Now <code>struct Foo</code> (in the tag namespace) and just plain <code>Foo</code> (in the ordinary
identifier namespace) both refer to the same thing, and you can freely declare
objects of type <code>Foo</code> without the <code>struct</code> keyword.</p>
<hr>
<p>The construct:</p>
<div class="code"><pre class="code literal-block">typedef struct Foo { ... } Foo;
</pre></div>

<p>is just an abbreviation for the declaration and <code>typedef</code>.</p>
<hr>
<p>Finally,</p>
<div class="code"><pre class="code literal-block">typedef struct { ... } Foo;
</pre></div>

<p>declares an anonymous structure and creates a <code>typedef</code> for it. Thus, with
this construct, it doesn't have a name in the tag namespace, only a name in
the typedef namespace. This means it also cannot be forward-declared. <em>If you
want to make a forward declaration, you have to give it a name in the tag
namespace</em>.</p>
<hr>
<p>In C++, all <code>struct</code>/<code>union</code>/<code>enum</code>/<code>class</code> declarations act like they are
implicitly <code>typedef</code>'ed, as long as the name is not hidden by another
declaration with the same name. See Michael Burr's answer for the full
details.</p>
<p><br></p>
<h3>Suggest</h3>
<p>In this DDJ article, Dan Saks explains one small area where bugs can creep
through if you do not typedef your structs (and classes!):</p>
<blockquote>
<p>If you want, you can imagine that C++ generates a typedef for every tag
name, such as</p>
<div class="code"><pre class="code literal-block">typedef class string string;
</pre></div>

<p>Unfortunately, this is not entirely accurate. I wish it were that simple,
but it's not. C++ can't generate such typedefs for structs, unions, or enums
without introducing incompatibilities with C.</p>
<p>For example, suppose a C program declares both a function and a struct named
status:</p>
<div class="code"><pre class="code literal-block">int status(); struct status;
</pre></div>

<p>Again, this may be bad practice, but it is C. In this program, status (by
itself) refers to the function; struct status refers to the type.</p>
<p>If C++ did automatically generate typedefs for tags, then when you compiled
this program as C++, the compiler would generate:</p>
<div class="code"><pre class="code literal-block">typedef struct status status;
</pre></div>

<p>Unfortunately, this type name would conflict with the function name, and the
program would not compile. That's why C++ can't simply generate a typedef
for each tag.</p>
<p>In C++, tags act just like typedef names, except that a program can declare
an object, function, or enumerator with the same name and the same scope as
a tag. In that case, the object, function, or enumerator name hides the tag
name. The program can refer to the tag name only by using the keyword class,
struct, union, or enum (as appropriate) in front of the tag name. A type
name consisting of one of these keywords followed by a tag is an elaborated-
type-specifier. For instance, struct status and enum month are elaborated-
type-specifiers.</p>
<p>Thus, a C program that contains both:</p>
<div class="code"><pre class="code literal-block">int status(); struct status;
</pre></div>

<p>behaves the same when compiled as C++. The name status alone refers to the
function. The program can refer to the type only by using the elaborated-
type-specifier struct status.</p>
<p>So how does this allow bugs to creep into programs? Consider the program in
Listing 1. This program defines a class foo with a default constructor, and
a conversion operator that converts a foo object to char const *. The
expression</p>
<div class="code"><pre class="code literal-block">p = foo();
</pre></div>

<p>in main should construct a foo object and apply the conversion operator. The
subsequent output statement</p>
<div class="code"><pre class="code literal-block">cout &lt;&lt; p &lt;&lt; '\n';
</pre></div>

<p>should display class foo, but it doesn't. It displays function foo.</p>
<p>This surprising result occurs because the program includes header lib.h
shown in Listing 2. This header defines a function also named foo. The
function name foo hides the class name foo, so the reference to foo in main
refers to the function, not the class. main can refer to the class only by
using an elaborated-type-specifier, as in</p>
<div class="code"><pre class="code literal-block">p = class foo();
</pre></div>

<p>The way to avoid such confusion throughout the program is to add the
following typedef for the class name foo:</p>
<div class="code"><pre class="code literal-block">typedef class foo foo;
</pre></div>

<p>immediately before or after the class definition. This typedef causes a
conflict between the type name foo and the function name foo (from the
library) that will trigger a compile-time error.</p>
<p>I know of no one who actually writes these typedefs as a matter of course.
It requires a lot of discipline. Since the incidence of errors such as the
one in Listing 1 is probably pretty small, you many never run afoul of this
problem. But if an error in your software might cause bodily injury, then
you should write the typedefs no matter how unlikely the error.</p>
<p>I can't imagine why anyone would ever want to hide a class name with a
function or object name in the same scope as the class. The hiding rules in
C were a mistake, and they should not have been extended to classes in C++.
Indeed, you can correct the mistake, but it requires extra programming
discipline and effort that should not be necessary.</p>
</blockquote>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-run-a-powershell-script/" class="u-url">How to run a PowerShell script</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-run-a-powershell-script/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T08:57:30+08:00" itemprop="datePublished" title="2023-02-17 08:57">2023-02-17 08:57</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How do I run a PowerShell script?</p>
<ul>
<li>I have a script named myscript.ps1</li>
<li>I have all the necessary frameworks installed</li>
<li>I set that execution policy thing</li>
<li>I have followed the instructions on this MSDN help page and am trying to run it like so: <code>powershell.exe 'C:\my_path\yada_yada\run_import_script.ps1'</code> (with or without <code>--noexit</code>)</li>
</ul>
<p>which returns exactly nothing, except that the file name is output.</p>
<p>No error, no message, nothing. Oh, when I add <code>-noexit</code>, the same thing
happens, but I remain within PowerShell and have to exit manually.</p>
<p>The .ps1 file is supposed to run a program and return the error level
dependent on that program's output. But I'm quite sure I'm not even getting
there yet.</p>
<p>What am I doing wrong?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Prerequisites:</p>
<ul>
<li>You need to be able to run PowerShell as an administrator</li>
<li>You need to set your PowerShell execution policy to a permissive value or be able to bypass it</li>
</ul>
<p>Steps:</p>
<ol>
<li>
<p>Launch Windows PowerShell as an Administrator, and wait for the <code>PS&gt;</code> prompt to appear</p>
</li>
<li>
<p>Navigate within PowerShell to the directory where the script lives:</p>
<div class="code"><pre class="code literal-block">PS&gt; cd C:\my_path\yada_yada\ (enter)
</pre></div>

</li>
<li>
<p>Execute the script:</p>
<div class="code"><pre class="code literal-block">PS&gt; .\run_import_script.ps1 (enter)
</pre></div>

</li>
</ol>
<p>Or: you can run the PowerShell script from the Command Prompt (<code>cmd.exe</code>) like
this:</p>
<div class="code"><pre class="code literal-block">powershell -noexit "&amp; ""C:\my_path\yada_yada\run_import_script.ps1""" (enter)
</pre></div>

<p>according to <em>Invoking a PowerShell script from cmd.exe (or Start | Run)</em> by
Kirk Munro.</p>
<p>Or you could even run your PowerShell script asynchronously from your C#
application.</p>
<p><br></p>
<h3>Suggest</h3>
<p>If you are on PowerShell 2.0, use PowerShell.exe's <code>-File</code> parameter to invoke
a script from another environment, like cmd.exe. For example:</p>
<div class="code"><pre class="code literal-block">Powershell.exe -File C:\my_path\yada_yada\run_import_script.ps1
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-521.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-519.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

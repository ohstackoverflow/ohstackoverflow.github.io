<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1107) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1107.html">
<link rel="prev" href="index-1108.html" type="text/html">
<link rel="next" href="index-1106.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-the-meaning-of-the-at-prefix-on-npm-packages/" class="u-url">What is the meaning of the "at" (@) prefix on npm packages?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-the-meaning-of-the-at-prefix-on-npm-packages/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T01:25:07+08:00" itemprop="datePublished" title="2023-02-18 01:25">2023-02-18 01:25</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>In the Angular Component Router documentation I just stumbled over a npm
command I have never seen before and I don't understand what is going on:</p>
<div class="code"><pre class="code literal-block"><span class="n">npm</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="nv">@angular</span><span class="o">/</span><span class="n">router</span><span class="w"> </span><span class="c1">--save</span>
</pre></div>

<p>What is the meaning of <code>@angular/router</code>?</p>
<p>Is the whole string a package name? But then I dont find that package when I
use the search on npmjs.com. And also the commandline search does return no
such package:</p>
<div class="code"><pre class="code literal-block"><span class="n">npm</span><span class="w"> </span><span class="k">search</span><span class="w"> </span><span class="nv">@angular</span><span class="o">/</span><span class="n">router</span>
<span class="err">:</span><span class="k">No</span><span class="w"> </span><span class="k">match</span><span class="w"> </span><span class="k">found</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="ss">"@angular/router"</span>
</pre></div>

<p>So is the <code>@angular/</code> some kind of prefix mechanism in npm? And how does it
work?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>This is a new feature of NPM called 'scoped packages', which effectively allow
NPM packages to be namespaced. Every user and organization on NPM has their
own scope, and they are the only people who can add packages to it.</p>
<p>This is useful for several reasons:</p>
<ul>
<li>It allows organizations to make it clear which packages are 'official' and which ones are not. <ul>
<li>For example, if a package has the scope <code>@angular</code>, you know it was published by the Angular core team.</li>
</ul>
</li>
<li>The package name only has to be unique to the scope it is published in, not the entire registry. <ul>
<li>For example, the package name <code>http</code> is already taken in the main repository, but Angular is able to have <code>@angular/http</code> as well.</li>
</ul>
</li>
</ul>
<p>The reason that scoped packages don't show up in public search is because a
lot of them are private packages created by organizations using NPM's paid
services, and they're not comfortable opening the search up until they can be
totally certain they're not going to make anything public that shouldn't be
public - from a legal perspective, this is pretty understandable.</p>
<p>For more information, see the NPM docs and the Angular docs.</p>
<p><strong>EDIT:</strong> It appears that public scoped packages now show up properly in
search!</p>
<p><br></p>
<h3>Suggest</h3>
<p>Basically there are two types of modules on npm, they are -</p>
<ul>
<li>
<p>Global modules - these are modules that follow the naming convention that exists today. You <code>require('foo')</code> and there is much rejoicing. They are owned by one or more people through the <code>npm install XYZ</code> command.</p>
</li>
<li>
<p>Scoped modules - these are new modules that are "scoped" under an organization name that begins with an <code>@</code> the organisation's name, a slash and finally the package name, e.g. <code>@someOrgScope/packagename</code>. Scopes are a way of grouping related packages together, and also affect a few things about the way npm treats the package.</p>
</li>
</ul>
<p>A scoped package is installed by referencing it by name, preceded by an
@-symbol, in npm install:</p>
<div class="code"><pre class="code literal-block"><span class="n">npm</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="nv">@myorg</span><span class="o">/</span><span class="n">mypackage</span>
</pre></div>

<p>see also</p>
<ul>
<li>
<p>http://blog.nodejitsu.com/a-summary-of-scoped-modules-in-npm/</p>
</li>
<li>
<p>https://docs.npmjs.com/misc/scope</p>
</li>
</ul>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-the-difference-between-npm-install-and-npm-ci/" class="u-url">What is the difference between "npm install" and "npm ci"?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-the-difference-between-npm-install-and-npm-ci/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T01:24:40+08:00" itemprop="datePublished" title="2023-02-18 01:24">2023-02-18 01:24</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm working with continuous integration and discovered the npm ci command.</p>
<p>I can't figure what the advantages are of using this command for my workflow.</p>
<p>Is it faster? Does it make the test harder, okay, and after?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>From the official documentation for npm ci:</p>
<blockquote>
<p>In short, the main differences between using npm install and npm ci are:</p>
<ul>
<li>The project must have an existing package-lock.json or npm-
shrinkwrap.json.</li>
<li>If dependencies in the package lock do not match those in package.json,
npm ci will exit with an error, instead of updating the package lock.</li>
<li>npm ci can only install entire projects at a time: individual
dependencies cannot be added with this command.</li>
<li>If a node_modules is already present, it will be automatically removed
before npm ci begins its install.</li>
<li>It will never write to package.json or any of the package-locks:
installs are essentially frozen.
</li>
</ul>
</blockquote>
<hr>
<p>Essentially, <strong><code>npm install</code></strong> reads <code>package.json</code> to create a list of
dependencies and uses <code>package-lock.json</code> to inform which versions of these
dependencies to install. <strong>If a dependency is not in<code>package-lock.json</code> it
will be added by <code>npm install</code></strong>.</p>
<p><strong><code>npm ci</code></strong> (also known as <strong>C</strong> lean <strong>I</strong> nstall) is meant to be used in
automated environments — such as test platforms, continuous integration, and
deployment — or, any situation where you want to make sure you're doing a
clean install of your dependencies.</p>
<p>It installs dependencies directly from <code>package-lock.json</code> and uses
<code>package.json</code> only to validate that there are no mismatched versions. <strong>If
any dependencies are missing or have incompatible versions, it will throw an
error</strong>.</p>
<p>Use <code>npm install</code> to add new dependencies, and to update dependencies on a
project. Usually, you would use it during development after pulling changes
that update the list of dependencies but it may be a good idea to use <code>npm ci</code>
in this case.</p>
<p>Use <code>npm ci</code> if you need a deterministic, repeatable build. For example during
continuous integration, automated jobs, etc. and when installing dependencies
for the first time, instead of <code>npm install</code>.</p>
<h3><code>npm install</code></h3>
<ul>
<li>Installs a package and all its dependencies.</li>
<li>Dependencies are driven by <code>npm-shrinkwrap.json</code> and <code>package-lock.json</code> (in that order).</li>
<li>
<strong>without arguments</strong> : installs dependencies of a local module.</li>
<li>Can install global packages.</li>
<li>Will install any missing dependencies in <code>node_modules</code>.</li>
<li>It may write to <code>package.json</code> or <code>package-lock.json</code>. <ul>
<li>When used with an argument (<code>npm i packagename</code>) it may write to <code>package.json</code> to add or update the dependency.</li>
<li>when used without arguments, (<code>npm i</code>) it may write to <code>package-lock.json</code> to lock down the version of some dependencies if they are not already in this file.</li>
</ul>
</li>
</ul>
<h3><code>npm ci</code></h3>
<ul>
<li>Requires at least npm v5.7.1.</li>
<li>Requires <code>package-lock.json</code> or <code>npm-shrinkwrap.json</code> to be present.</li>
<li>Throws an error if dependencies from these two files don't match <code>package.json</code>.</li>
<li>Removes <code>node_modules</code> and install <em>all dependencies</em> at once.</li>
<li>It never writes to <code>package.json</code> or <code>package-lock.json</code>.</li>
</ul>
<h3>Algorithm</h3>
<p>While <code>npm ci</code> generates the entire dependency tree from <code>package-lock.json</code>
or <code>npm-shrinkwrap.json</code>, <code>npm install</code> <em>updates the contents
of<code>node_modules</code></em> using the following algorithm (source):</p>
<blockquote>
<div class="code"><pre class="code literal-block"><span class="nb">load</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">existing</span><span class="w"> </span><span class="n">node_modules</span><span class="w"> </span><span class="n">tree</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">disk</span>
<span class="n">clone</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">tree</span>
<span class="n">fetch</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">package</span><span class="o">.</span><span class="n">json</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">assorted</span><span class="w"> </span><span class="n">metadata</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clone</span>
<span class="n">walk</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clone</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">missing</span><span class="w"> </span><span class="n">dependencies</span>
<span class="w">  </span><span class="n">dependencies</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">added</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">close</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">top</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">possible</span>
<span class="w">  </span><span class="n">without</span><span class="w"> </span><span class="n">breaking</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">modules</span>
<span class="n">compare</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">original</span><span class="w"> </span><span class="n">tree</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">cloned</span><span class="w"> </span><span class="n">tree</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="n">of</span>
<span class="n">actions</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">take</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="nb">convert</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">other</span>
<span class="n">execute</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">actions</span><span class="p">,</span><span class="w"> </span><span class="n">deepest</span><span class="w"> </span><span class="n">first</span>
<span class="w">  </span><span class="n">kinds</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">actions</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">install</span><span class="p">,</span><span class="w"> </span><span class="n">update</span><span class="p">,</span><span class="w"> </span><span class="n">remove</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">move</span>
</pre></div>

</blockquote>
<p><br></p>
<h3>Suggest</h3>
<p><code>npm ci</code> will delete any existing <code>node_modules</code> folder and relies on the
<code>package-lock.json</code> file to install the specific version of each package. It
is significantly faster than npm install because it skips some features. Its
clean state install is great for ci/cd pipelines and docker builds! You also
use it to install everything all at once and not specific packages.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/can-one-angularjs-controller-call-another/" class="u-url">Can one AngularJS controller call another?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/can-one-angularjs-controller-call-another/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T01:24:12+08:00" itemprop="datePublished" title="2023-02-18 01:24">2023-02-18 01:24</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is it possible to have one controller use another?</p>
<p>For example:</p>
<p>This HTML document simply prints a message delivered by the <code>MessageCtrl</code>
controller in the <code>messageCtrl.js</code> file.</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;html</span><span class="w"> </span><span class="na">xmlns:ng=</span><span class="s">"http://angularjs.org/"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="w">    </span><span class="nt">&lt;meta</span><span class="w"> </span><span class="na">charset=</span><span class="s">"utf-8"</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;title&gt;</span>Inter<span class="w"> </span>Controller<span class="w"> </span>Communication<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="w">    </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">ng:controller=</span><span class="s">"MessageCtrl"</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;p&gt;</span><span class="cp">{{</span><span class="nv">message</span><span class="cp">}}</span><span class="nt">&lt;/p&gt;</span>
<span class="w">    </span><span class="nt">&lt;/div&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- Angular Scripts --&gt;</span>
<span class="w">    </span><span class="nt">&lt;script</span><span class="w"> </span><span class="na">src=</span><span class="s">"http://code.angularjs.org/angular-0.9.19.js"</span><span class="w"> </span><span class="err">ng:autobind</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="w">    </span><span class="nt">&lt;script</span><span class="w"> </span><span class="na">src=</span><span class="s">"js/messageCtrl.js"</span><span class="w"> </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>

<p>The controller file contains the following code:</p>
<div class="code"><pre class="code literal-block"><span class="k">function</span><span class="w"> </span><span class="nf">MessageCtrl</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">this</span><span class="p">.</span><span class="n">message</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">"The current date is: "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Date</span><span class="p">().</span><span class="n">toString</span><span class="p">();</span><span class="w"> </span>
<span class="w">    </span><span class="p">};</span>
<span class="p">}</span>
</pre></div>

<p>Which simply prints the current date;</p>
<p>If I were to add another controller, <code>DateCtrl</code> which handed the date in a
specific format back to <code>MessageCtrl</code>, how would one go about doing this? The
DI framework seems to be concerned with <code>XmlHttpRequests</code> and accessing
services.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>There are multiple ways how to communicate between controllers.</p>
<p>The best one is probably sharing a service:</p>
<div class="code"><pre class="code literal-block"><span class="k">function</span><span class="w"> </span><span class="nf">FirstController</span><span class="p">(</span>someDataService<span class="p">)</span><span class="w"> </span>
<span class="p">{</span>
<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">service</span><span class="p">,</span><span class="w"> </span><span class="n">bind</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">template</span><span class="k">...</span>
<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="k">methods</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">someDataService</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">send</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">server</span>
<span class="p">}</span>

<span class="k">function</span><span class="w"> </span><span class="nf">SecondController</span><span class="p">(</span>someDataService<span class="p">)</span><span class="w"> </span>
<span class="p">{</span>
<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">instance</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">service</span>
<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">service</span><span class="w"> </span><span class="n">updates</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">controller</span><span class="w"> </span><span class="n">knows</span><span class="w"> </span><span class="n">about</span><span class="w"> </span><span class="n">it</span>
<span class="p">}</span>
</pre></div>

<p>Another way is emitting an event on scope:</p>
<div class="code"><pre class="code literal-block"><span class="k">function</span><span class="w"> </span><span class="nf">FirstController</span><span class="p">(</span>$scope<span class="p">)</span><span class="w"> </span>
<span class="p">{</span>
<span class="w">  </span>$<span class="n">scope</span><span class="p">.</span>$<span class="n">on</span><span class="p">(</span><span class="s">'someEvent'</span><span class="p">,</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">event</span><span class="p">,</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{});</span>
<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">another</span><span class="w"> </span><span class="n">controller</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">even</span><span class="w"> </span><span class="n">directive</span>
<span class="p">}</span>

<span class="k">function</span><span class="w"> </span><span class="nf">SecondController</span><span class="p">(</span>$scope<span class="p">)</span><span class="w"> </span>
<span class="p">{</span>
<span class="w">  </span>$<span class="n">scope</span><span class="p">.</span>$<span class="n">emit</span><span class="p">(</span><span class="s">'someEvent'</span><span class="p">,</span><span class="w"> </span><span class="n">args</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

<p>In both cases, you can communicate with any directive as well.</p>
<p><br></p>
<h3>Suggest</h3>
<p>See this fiddle: http://jsfiddle.net/simpulton/XqDxG/</p>
<p>Also watch the following video: Communicating Between Controllers</p>
<p>Html:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;div</span><span class="w"> </span><span class="na">ng-controller=</span><span class="s">"ControllerZero"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;input</span><span class="w"> </span><span class="na">ng-model=</span><span class="s">"message"</span><span class="w"> </span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;button</span><span class="w"> </span><span class="na">ng-click=</span><span class="s">"handleClick(message);"</span><span class="nt">&gt;</span>LOG<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;div</span><span class="w"> </span><span class="na">ng-controller=</span><span class="s">"ControllerOne"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;input</span><span class="w"> </span><span class="na">ng-model=</span><span class="s">"message"</span><span class="w"> </span><span class="nt">&gt;</span>
<span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;div</span><span class="w"> </span><span class="na">ng-controller=</span><span class="s">"ControllerTwo"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;input</span><span class="w"> </span><span class="na">ng-model=</span><span class="s">"message"</span><span class="w"> </span><span class="nt">&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p>javascript:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">myModule</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">angular</span><span class="o">.</span><span class="n">module</span><span class="p">(</span><span class="s1">'myModule'</span><span class="p">,</span><span class="w"> </span><span class="p">[]);</span>
<span class="n">myModule</span><span class="o">.</span><span class="n">factory</span><span class="p">(</span><span class="s1">'mySharedService'</span><span class="p">,</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="o">$</span><span class="n">rootScope</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">sharedService</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{};</span>

<span class="w">  </span><span class="n">sharedService</span><span class="o">.</span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">''</span><span class="p">;</span>

<span class="w">  </span><span class="n">sharedService</span><span class="o">.</span><span class="n">prepForBroadcast</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">this</span><span class="o">.</span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">msg</span><span class="p">;</span>
<span class="w">    </span><span class="n">this</span><span class="o">.</span><span class="n">broadcastItem</span><span class="p">();</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="n">sharedService</span><span class="o">.</span><span class="n">broadcastItem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">$</span><span class="n">rootScope</span><span class="o">.$</span><span class="n">broadcast</span><span class="p">(</span><span class="s1">'handleBroadcast'</span><span class="p">);</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">sharedService</span><span class="p">;</span>
<span class="p">});</span>

<span class="n">function</span><span class="w"> </span><span class="n">ControllerZero</span><span class="p">(</span><span class="o">$</span><span class="n">scope</span><span class="p">,</span><span class="w"> </span><span class="n">sharedService</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="o">$</span><span class="n">scope</span><span class="o">.</span><span class="n">handleClick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">sharedService</span><span class="o">.</span><span class="n">prepForBroadcast</span><span class="p">(</span><span class="n">msg</span><span class="p">);</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="o">$</span><span class="n">scope</span><span class="o">.$</span><span class="n">on</span><span class="p">(</span><span class="s1">'handleBroadcast'</span><span class="p">,</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">$</span><span class="n">scope</span><span class="o">.</span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sharedService</span><span class="o">.</span><span class="n">message</span><span class="p">;</span>
<span class="w">  </span><span class="p">});</span><span class="w">        </span>
<span class="p">}</span>

<span class="n">function</span><span class="w"> </span><span class="n">ControllerOne</span><span class="p">(</span><span class="o">$</span><span class="n">scope</span><span class="p">,</span><span class="w"> </span><span class="n">sharedService</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="o">$</span><span class="n">scope</span><span class="o">.$</span><span class="n">on</span><span class="p">(</span><span class="s1">'handleBroadcast'</span><span class="p">,</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">$</span><span class="n">scope</span><span class="o">.</span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'ONE: '</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">sharedService</span><span class="o">.</span><span class="n">message</span><span class="p">;</span>
<span class="w">  </span><span class="p">});</span><span class="w">        </span>
<span class="p">}</span>

<span class="n">function</span><span class="w"> </span><span class="n">ControllerTwo</span><span class="p">(</span><span class="o">$</span><span class="n">scope</span><span class="p">,</span><span class="w"> </span><span class="n">sharedService</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="o">$</span><span class="n">scope</span><span class="o">.$</span><span class="n">on</span><span class="p">(</span><span class="s1">'handleBroadcast'</span><span class="p">,</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">$</span><span class="n">scope</span><span class="o">.</span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'TWO: '</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">sharedService</span><span class="o">.</span><span class="n">message</span><span class="p">;</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">}</span>

<span class="n">ControllerZero</span><span class="o">.$</span><span class="n">inject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s1">'$scope'</span><span class="p">,</span><span class="w"> </span><span class="s1">'mySharedService'</span><span class="p">];</span>

<span class="n">ControllerOne</span><span class="o">.$</span><span class="n">inject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s1">'$scope'</span><span class="p">,</span><span class="w"> </span><span class="s1">'mySharedService'</span><span class="p">];</span>

<span class="n">ControllerTwo</span><span class="o">.$</span><span class="n">inject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s1">'$scope'</span><span class="p">,</span><span class="w"> </span><span class="s1">'mySharedService'</span><span class="p">];</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1108.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1106.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

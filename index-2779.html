<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2779) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2779.html">
<link rel="prev" href="index-2780.html" type="text/html">
<link rel="next" href="index-2778.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-set-background-drawable-programmatically-in-android/" class="u-url">How set background drawable programmatically in Android</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-set-background-drawable-programmatically-in-android/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T17:21:20+08:00" itemprop="datePublished" title="2023-03-05 17:21">2023-03-05 17:21</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <h3>To set Background:</h3>
<div class="code"><pre class="code literal-block">RelativeLayout layout = (RelativeLayout) findViewById(R.id.background);
layout.setBackgroundResource(R.drawable.ready);
</pre></div>

<p>Is the best way to do it?</p>
<p><br><br></p>
<h2>Answer</h2>
<p><code>layout.setBackgroundResource(R.drawable.ready);</code> is correct.<br>
Another way to achieve it is to use the following:</p>
<div class="code"><pre class="code literal-block"><span class="nv">final</span><span class="w"> </span><span class="nv">int</span><span class="w"> </span><span class="nv">sdk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">android</span>.<span class="nv">os</span>.<span class="nv">Build</span>.<span class="nv">VERSION</span>.<span class="nv">SDK_INT</span><span class="c1">;</span>
<span class="k">if</span><span class="ss">(</span><span class="nv">sdk</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nv">android</span>.<span class="nv">os</span>.<span class="nv">Build</span>.<span class="nv">VERSION_CODES</span>.<span class="nv">JELLY_BEAN</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="nv">layout</span>.<span class="nv">setBackgroundDrawable</span><span class="ss">(</span><span class="nv">ContextCompat</span>.<span class="nv">getDrawable</span><span class="ss">(</span><span class="nv">context</span>,<span class="w"> </span><span class="nv">R</span>.<span class="nv">drawable</span>.<span class="nv">ready</span><span class="ss">)</span><span class="w"> </span><span class="ss">)</span><span class="c1">;</span>
}<span class="w"> </span><span class="k">else</span><span class="w"> </span>{
<span class="w">    </span><span class="nv">layout</span>.<span class="nv">setBackground</span><span class="ss">(</span><span class="nv">ContextCompat</span>.<span class="nv">getDrawable</span><span class="ss">(</span><span class="nv">context</span>,<span class="w"> </span><span class="nv">R</span>.<span class="nv">drawable</span>.<span class="nv">ready</span><span class="ss">))</span><span class="c1">;</span>
}
</pre></div>

<p>But I think the problem occur because you are trying to load big images.<br>
Here is a good tutorial how to load large bitmaps.  </p>
<p><strong>UPDATE:<br>
getDrawable(int ) deprecated in API level 22</strong>  </p>
<p><code>getDrawable(int )</code> is now deprecated in API level 22. You should use the
following code from the support library instead:</p>
<div class="code"><pre class="code literal-block">ContextCompat.getDrawable(context, R.drawable.ready)
</pre></div>

<p>If you refer to the source code of ContextCompat.getDrawable, it gives you
something like this:</p>
<div class="code"><pre class="code literal-block"><span class="o">/**</span>
<span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">Return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">drawable</span><span class="w"> </span><span class="n">object</span><span class="w"> </span><span class="n">associated</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">particular</span><span class="w"> </span><span class="n">resource</span><span class="w"> </span><span class="n">ID</span><span class="o">.</span>
<span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
<span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">Starting</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p">{</span><span class="err">@</span><span class="n">link</span><span class="w"> </span><span class="n">android</span><span class="o">.</span><span class="n">os</span><span class="o">.</span><span class="n">Build</span><span class="o">.</span><span class="n">VERSION_CODES</span><span class="c1">#LOLLIPOP}, the returned</span>
<span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">drawable</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">styled</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">Context</span><span class="s1">'s theme.</span>
<span class="w"> </span><span class="o">*</span>
<span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="err">@</span><span class="n">param</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">desired</span><span class="w"> </span><span class="n">resource</span><span class="w"> </span><span class="n">identifier</span><span class="p">,</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">generated</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">aapt</span><span class="w"> </span><span class="k">tool</span><span class="o">.</span>
<span class="w"> </span><span class="o">*</span><span class="w">            </span><span class="n">This</span><span class="w"> </span><span class="n">integer</span><span class="w"> </span><span class="n">encodes</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">package</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">resource</span><span class="w"> </span><span class="n">entry</span><span class="o">.</span>
<span class="w"> </span><span class="o">*</span><span class="w">            </span><span class="n">The</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">invalid</span><span class="w"> </span><span class="n">identifier</span><span class="o">.</span>
<span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="err">@</span><span class="k">return</span><span class="w"> </span><span class="n">Drawable</span><span class="w"> </span><span class="n">An</span><span class="w"> </span><span class="n">object</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">draw</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">resource</span><span class="o">.</span>
<span class="w"> </span><span class="o">*/</span>
<span class="n">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">final</span><span class="w"> </span><span class="n">Drawable</span><span class="w"> </span><span class="n">getDrawable</span><span class="p">(</span><span class="n">Context</span><span class="w"> </span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="nb nb-Type">int</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">final</span><span class="w"> </span><span class="nb nb-Type">int</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Build</span><span class="o">.</span><span class="n">VERSION</span><span class="o">.</span><span class="n">SDK_INT</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">version</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">21</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ContextCompatApi21</span><span class="o">.</span><span class="n">getDrawable</span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">id</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">context</span><span class="o">.</span><span class="n">getResources</span><span class="p">()</span><span class="o">.</span><span class="n">getDrawable</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>More details on ContextCompat  </p>
<p>As of API 22, you should use the <code>getDrawable(int, Theme)</code> method instead of
getDrawable(int).</p>
<p><strong>UPDATE:</strong><br>
If you are using the support v4 library, the following will be enough for all
versions.</p>
<div class="code"><pre class="code literal-block">ContextCompat.getDrawable(context, R.drawable.ready)
</pre></div>

<p>You will need to add the following in your app build.gradle</p>
<div class="code"><pre class="code literal-block">compile 'com.android.support:support-v4:23.0.0' # or any version above
</pre></div>

<p>Or using ResourceCompat, in any API like below:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">android.support.v4.content.res.ResourcesCompat</span><span class="p">;</span>
<span class="n">ResourcesCompat</span><span class="o">.</span><span class="n">getDrawable</span><span class="p">(</span><span class="n">getResources</span><span class="p">(),</span> <span class="n">R</span><span class="o">.</span><span class="n">drawable</span><span class="o">.</span><span class="n">name_of_drawable</span><span class="p">,</span> <span class="n">null</span><span class="p">);</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Try this:</p>
<div class="code"><pre class="code literal-block">layout.setBackground(ContextCompat.getDrawable(context, R.drawable.ready));
</pre></div>

<p>and for API 16&lt;:</p>
<div class="code"><pre class="code literal-block">layout.setBackgroundDrawable(ContextCompat.getDrawable(context, R.drawable.ready));
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/show-space-tab-crlf-characters-in-editor-of-visual-studio/" class="u-url">Show space, tab, CRLF characters in editor of Visual Studio</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/show-space-tab-crlf-characters-in-editor-of-visual-studio/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T17:20:19+08:00" itemprop="datePublished" title="2023-03-05 17:20">2023-03-05 17:20</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Where are the settings to show a <code>space</code>, <code>tab</code>, <code>paragraph</code>, <code>CRLF</code>, etc. (
<em>extended</em> ) characters?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Edit &gt; Advanced &gt; View White Space. The keyboard shortcut is <code>CTRL</code>+<code>R</code>,
<code>CTRL</code>+<code>W</code>. The command is called <code>Edit.ViewWhiteSpace</code>.</p>
<p>It works in all Visual Studio versions at least since Visual Studio 2010, the
current one being Visual Studio 2019 (at time of writing). In Visual Studio
2013, you can also use <code>CTRL</code>+<code>E</code>, <code>S</code> or <code>CTRL</code>+<code>E</code>, <code>CTRL</code>+<code>S</code>.</p>
<p>By default, end of line markers are not visualized. This functionality is
provided by the End of the Line extension.</p>
<p><br></p>
<h3>Suggest</h3>
<p><code>Edit -&gt; Advanced -&gt; View White Space</code> or <code>Ctrl</code>+<code>R</code>,<code>Ctrl</code>+<code>W</code> for Visual
Studio 2019</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/fast-ceiling-of-an-integer-division-in-c-c/" class="u-url">Fast ceiling of an integer division in C / C++</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/fast-ceiling-of-an-integer-division-in-c-c/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T17:19:11+08:00" itemprop="datePublished" title="2023-03-05 17:19">2023-03-05 17:19</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Given integer values <code>x</code> and <code>y</code>, C and C++ both return as the quotient <code>q =
x/y</code> the floor of the floating point equivalent. I'm interested in a method of
returning the ceiling instead. For example, <code>ceil(10/5)=2</code> and <code>ceil(11/5)=3</code>.</p>
<p>The obvious approach involves something like:</p>
<div class="code"><pre class="code literal-block"><span class="nv">q</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nv">y</span><span class="c1">;</span>
<span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">q</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nv">y</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nv">x</span><span class="ss">)</span><span class="w"> </span><span class="o">++</span><span class="nv">q</span><span class="c1">;</span>
</pre></div>

<p>This requires an extra comparison and multiplication; and other methods I've
seen (used in fact) involve casting as a <code>float</code> or <code>double</code>. Is there a more
direct method that avoids the additional multiplication (or a second division)
and branch, and that also avoids casting as a floating point number?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>For positive numbers where you want to find the ceiling (q) of x when divided
by y.</p>
<div class="code"><pre class="code literal-block">unsigned int x, y, q;
</pre></div>

<p>To round up ...</p>
<div class="code"><pre class="code literal-block">q = (x + y - 1) / y;
</pre></div>

<p>or (avoiding overflow in x+y)</p>
<div class="code"><pre class="code literal-block"><span class="nv">q</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="ss">((</span><span class="nv">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="ss">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nv">y</span><span class="ss">)</span><span class="c1">; // if x != 0</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>For positive numbers:</p>
<div class="code"><pre class="code literal-block">    q = x/y + (x % y != 0);
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2780.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2778.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2699) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2699.html">
<link rel="prev" href="index-2700.html" type="text/html">
<link rel="next" href="index-2698.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/when-is-std-weak-ptr-useful/" class="u-url">When is std::weak_ptr useful?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/when-is-std-weak-ptr-useful/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T11:20:37+08:00" itemprop="datePublished" title="2023-03-05 11:20">2023-03-05 11:20</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I started studying smart pointers of C++11 and I don't see any useful use of
<code>std::weak_ptr</code>. Can someone tell me when <code>std::weak_ptr</code> is useful/necessary?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>A good example would be a cache.</p>
<p>For recently accessed objects, you want to keep them in memory, so you hold a
strong pointer to them. Periodically, you scan the cache and decide which
objects have not been accessed recently. You don't need to keep those in
memory, so you get rid of the strong pointer.</p>
<p>But what if that object is in use and some other code holds a strong pointer
to it? If the cache gets rid of its only pointer to the object, it can never
find it again. So the cache keeps a weak pointer to objects that it needs to
find if they happen to stay in memory.</p>
<p>This is exactly what a weak pointer does -- it allows you to locate an object
if it's still around, but doesn't keep it around if nothing else needs it.</p>
<p><br></p>
<h3>Suggest</h3>
<p>A good example would be a cache.</p>
<p>For recently accessed objects, you want to keep them in memory, so you hold a
strong pointer to them. Periodically, you scan the cache and decide which
objects have not been accessed recently. You don't need to keep those in
memory, so you get rid of the strong pointer.</p>
<p>But what if that object is in use and some other code holds a strong pointer
to it? If the cache gets rid of its only pointer to the object, it can never
find it again. So the cache keeps a weak pointer to objects that it needs to
find if they happen to stay in memory.</p>
<p>This is exactly what a weak pointer does -- it allows you to locate an object
if it's still around, but doesn't keep it around if nothing else needs it.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/converting-string-to-title-case/" class="u-url">Converting string to title case</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/converting-string-to-title-case/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T11:19:05+08:00" itemprop="datePublished" title="2023-03-05 11:19">2023-03-05 11:19</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a string which contains words in a mixture of upper and lower case
characters.</p>
<p>For example: <code>string myData = "a Simple string";</code></p>
<p>I need to convert the first character of each word (separated by spaces) into
upper case. So I want the result as: <code>string myData ="A Simple String";</code></p>
<p>Is there any easy way to do this? I don't want to split the string and do the
conversion (that will be my last resort). Also, it is guaranteed that the
strings are in English.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>MSDN : TextInfo.ToTitleCase</p>
<p>Make sure that you include: <code>using System.Globalization</code></p>
<div class="code"><pre class="code literal-block"><span class="nv">string</span><span class="w"> </span><span class="nv">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"war and peace"</span><span class="c1">;</span>

<span class="nv">TextInfo</span><span class="w"> </span><span class="nv">textInfo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">CultureInfo</span><span class="ss">(</span><span class="s2">"en-US"</span>,<span class="w"> </span><span class="nv">false</span><span class="ss">)</span>.<span class="nv">TextInfo</span><span class="c1">;</span>

<span class="nv">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">textInfo</span>.<span class="nv">ToTitleCase</span><span class="ss">(</span><span class="nv">title</span><span class="ss">)</span><span class="c1">; </span>
<span class="nv">Console</span>.<span class="nv">WriteLine</span><span class="ss">(</span><span class="nv">title</span><span class="ss">)</span><span class="w"> </span><span class="c1">; //War And Peace</span>

<span class="o">//</span><span class="nv">When</span><span class="w"> </span><span class="nv">text</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">ALL</span><span class="w"> </span><span class="nv">UPPERCASE</span>...
<span class="nv">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"WAR AND PEACE"</span><span class="w"> </span><span class="c1">;</span>

<span class="nv">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">textInfo</span>.<span class="nv">ToTitleCase</span><span class="ss">(</span><span class="nv">title</span><span class="ss">)</span><span class="c1">; </span>
<span class="nv">Console</span>.<span class="nv">WriteLine</span><span class="ss">(</span><span class="nv">title</span><span class="ss">)</span><span class="w"> </span><span class="c1">; //WAR AND PEACE</span>

<span class="o">//</span><span class="nv">You</span><span class="w"> </span><span class="nv">need</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="nl">ToLower</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">make</span><span class="w"> </span><span class="nv">it</span><span class="w"> </span><span class="nv">work</span>
<span class="nv">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">textInfo</span>.<span class="nv">ToTitleCase</span><span class="ss">(</span><span class="nv">title</span>.<span class="k">ToLower</span><span class="ss">())</span><span class="c1">; </span>
<span class="nv">Console</span>.<span class="nv">WriteLine</span><span class="ss">(</span><span class="nv">title</span><span class="ss">)</span><span class="w"> </span><span class="c1">; //War And Peace</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Try this:</p>
<div class="code"><pre class="code literal-block"><span class="nv">string</span><span class="w"> </span><span class="nv">myText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"a Simple string"</span><span class="c1">;</span>

<span class="nv">string</span><span class="w"> </span><span class="nv">asTitleCase</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="nv">System</span>.<span class="nv">Threading</span>.<span class="nv">Thread</span>.<span class="nv">CurrentThread</span>.<span class="nv">CurrentCulture</span>.<span class="nv">TextInfo</span>.
<span class="w">    </span><span class="nv">ToTitleCase</span><span class="ss">(</span><span class="nv">myText</span>.<span class="k">ToLower</span><span class="ss">())</span><span class="c1">;</span>
</pre></div>

<p>As has already been pointed out, using TextInfo.ToTitleCase might not give you
the exact results you want. If you need more control over the output, you
could do something like this:</p>
<div class="code"><pre class="code literal-block"><span class="nv">IEnumerable</span><span class="o">&lt;</span><span class="nv">char</span><span class="o">&gt;</span><span class="w"> </span><span class="nv">CharsToTitleCase</span><span class="ss">(</span><span class="nv">string</span><span class="w"> </span><span class="nv">s</span><span class="ss">)</span>
{
<span class="w">    </span><span class="nv">bool</span><span class="w"> </span><span class="nv">newWord</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">true</span><span class="c1">;</span>
<span class="w">    </span><span class="nv">foreach</span><span class="ss">(</span><span class="nv">char</span><span class="w"> </span><span class="nv">c</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">s</span><span class="ss">)</span>
<span class="w">    </span>{
<span class="w">        </span><span class="k">if</span><span class="ss">(</span><span class="nv">newWord</span><span class="ss">)</span><span class="w"> </span>{<span class="w"> </span><span class="nv">yield</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="nv">Char</span>.<span class="k">ToUpper</span><span class="ss">(</span><span class="nv">c</span><span class="ss">)</span><span class="c1">; newWord = false; }</span>
<span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="nv">yield</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="nv">Char</span>.<span class="k">ToLower</span><span class="ss">(</span><span class="nv">c</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">        </span><span class="k">if</span><span class="ss">(</span><span class="nv">c</span><span class="o">==</span><span class="s1">' '</span><span class="ss">)</span><span class="w"> </span><span class="nv">newWord</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">true</span><span class="c1">;</span>
<span class="w">    </span>}
}
</pre></div>

<p>And then use it like so:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">asTitleCase</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">string</span><span class="p">(</span><span class="w"> </span><span class="n">CharsToTitleCase</span><span class="p">(</span><span class="n">myText</span><span class="p">)</span><span class="o">.</span><span class="n">ToArray</span><span class="p">()</span><span class="w"> </span><span class="p">);</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/java-resultset-how-to-check-if-there-are-any-results/" class="u-url">Java ResultSet how to check if there are any results</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/java-resultset-how-to-check-if-there-are-any-results/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T11:17:28+08:00" itemprop="datePublished" title="2023-03-05 11:17">2023-03-05 11:17</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Resultset has no method for hasNext. I want to check if the resultSet has any
value</p>
<p>is this the correct way</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="o">!</span><span class="nv">resultSet</span>.<span class="k">next</span><span class="ss">()</span><span class="w"> </span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="nv">System</span>.<span class="nv">out</span>.<span class="nv">println</span><span class="ss">(</span><span class="s2">"no data"</span><span class="ss">)</span><span class="c1">;</span>
}
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>That's correct, initially the <code>ResultSet</code>'s cursor is pointing to before the
first row, if the first call to <code>next()</code> returns <code>false</code> then there was no
data in the <code>ResultSet</code>.</p>
<p>If you use this method, you may have to call <code>beforeFirst()</code> immediately after
to reset it, since it has positioned itself past the first row now.</p>
<p>It should be noted however, that Seifer's answer below is a more elegant
solution to this question.</p>
<p><br></p>
<h3>Suggest</h3>
<p>That's correct, initially the <code>ResultSet</code>'s cursor is pointing to before the
first row, if the first call to <code>next()</code> returns <code>false</code> then there was no
data in the <code>ResultSet</code>.</p>
<p>If you use this method, you may have to call <code>beforeFirst()</code> immediately after
to reset it, since it has positioned itself past the first row now.</p>
<p>It should be noted however, that Seifer's answer below is a more elegant
solution to this question.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2700.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2698.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

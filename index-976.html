<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 976) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-976.html">
<link rel="prev" href="index-977.html" type="text/html">
<link rel="next" href="index-975.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-dynamically-change-a-web-page-s-title/" class="u-url">How to dynamically change a web page's title?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-dynamically-change-a-web-page-s-title/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T21:17:19+08:00" itemprop="datePublished" title="2023-02-17 21:17">2023-02-17 21:17</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a webpage that implements a set of tabs each showing different content.
The tab clicks do not refresh the page but hide/unhide contents at the client
side.</p>
<p>Now there is a requirement to change the page title according to the tab
selected on the page ( for SEO reasons ). Is this possible? Can someone
suggest a solution to dynamically alter the page title via javascript without
reloading the page?</p>
<p><br><br></p>
<h2>Answer</h2>
<p><strong>Update</strong> : as per the comments and reference on SearchEngineLand most web
crawlers will index the updated title. Below answer is obsolete, but the code
is still applicable.</p>
<blockquote>
<p>You can just do something like, <code>document.title = "This is the new page
title.";</code>, but that would totally defeat the purpose of SEO. Most crawlers
aren't going to support javascript in the first place, so they will take
whatever is in the element as the page title.</p>
<p>If you want this to be compatible with most of the important crawlers,
you're going to need to actually change the title tag itself, which would
involve reloading the page (PHP, or the like). You're not going to be able
to get around that, if you want to change the page title in a way that a
crawler can see.</p>
</blockquote>
<p><br></p>
<h3>Suggest</h3>
<p>I want to say hello from the future :) Things that happened recently:</p>
<ol>
<li>Google now runs javascript that is on your website1</li>
<li>People now use things like React.js, Ember and Angular to run complex javascript tasks on the page and it's still getting indexed by Google1</li>
<li>you can use html5 history api (pushState, react-router, ember, angular) that allows you to do things like have separate urls for each tab you want to open and Google will index that1</li>
</ol>
<p>So to answer your question you can safely change title and other meta tags
from javascript (you can also add something like https://prerender.io if you
want to support non-Google search engines), just make them accessible as
separate urls (otherwise how Google would know that those are different pages
to show in search results?). Changing SEO related tags (after user has changed
page by clicking on something) is simple:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">document</span>.<span class="nv">title</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nv">newTitle</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="nv">document</span>.<span class="nv">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">newTitle</span><span class="c1">;</span>
}
$<span class="ss">(</span><span class="s1">'meta[name="description"]'</span><span class="ss">)</span>.<span class="nv">attr</span><span class="ss">(</span><span class="s2">"content"</span>,<span class="w"> </span><span class="nv">newDescription</span><span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p>Just make sure that css and javascript is not blocked in robots.txt, you can
use <strong>Fetch as Google</strong> service in Google Webmaster Tools.</p>
<p>1: http://searchengineland.com/tested-googlebot-crawls-javascript-heres-
learned-220157</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/formatting-a-number-with-exactly-two-decimals-in-javascript/" class="u-url">Formatting a number with exactly two decimals in JavaScript</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/formatting-a-number-with-exactly-two-decimals-in-javascript/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T21:16:43+08:00" itemprop="datePublished" title="2023-02-17 21:16">2023-02-17 21:16</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have this line of code which rounds my numbers to two decimal places. But I
get numbers like this: 10.8, 2.4, etc. These are not my idea of two decimal
places so how I can improve the following?</p>
<div class="code"><pre class="code literal-block">Math.round(price*Math.pow(10,2))/Math.pow(10,2);
</pre></div>

<p>I want numbers like 10.80, 2.40, etc. Use of jQuery is fine with me.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>To format a number using fixed-point notation, you can simply use the toFixed
method:</p>
<div class="code"><pre class="code literal-block"><span class="p">(</span><span class="mf">10.8</span><span class="p">)</span><span class="o">.</span><span class="n">toFixed</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="s2">"10.80"</span>

<span class="k">var</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2.4</span><span class="p">;</span>
<span class="n">alert</span><span class="p">(</span><span class="n">num</span><span class="o">.</span><span class="n">toFixed</span><span class="p">(</span><span class="mi">2</span><span class="p">));</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="s2">"2.40"</span>
</pre></div>

<p>Note that <code>toFixed()</code> returns a string.</p>
<p><strong>IMPORTANT</strong> : Note that toFixed does not round 90% of the time, it will
return the rounded value, but for many cases, it doesn't work.</p>
<p>For instance:</p>
<p><code>2.005.toFixed(2) === "2.00"</code></p>
<h2>UPDATE:</h2>
<p>Nowadays, you can use the <code>Intl.NumberFormat</code> constructor. It's part of the
ECMAScript Internationalization API Specification (ECMA402). It has pretty
good browser support, including even IE11, and it is fully supported in
Node.js.</p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="n">formatter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Intl</span><span class="o">.</span><span class="n">NumberFormat</span><span class="p">(</span><span class="s1">'en-US'</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="n">minimumFractionDigits</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">      </span>
<span class="w">   </span><span class="n">maximumFractionDigits</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="p">});</span>

<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">formatter</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mf">2.005</span><span class="p">));</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="s2">"2.01"</span>
<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">formatter</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mf">1.345</span><span class="p">));</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="s2">"1.35"</span>
</pre></div>

<p>You can alternatively use the <code>toLocaleString</code> method, which internally will
use the <code>Intl</code> API:</p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">num</span><span class="p">,</span><span class="w"> </span><span class="nb">decimals</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">num</span><span class="o">.</span><span class="n">toLocaleString</span><span class="p">(</span><span class="s1">'en-US'</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="n">minimumFractionDigits</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">      </span>
<span class="w">   </span><span class="n">maximumFractionDigits</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="p">});</span>


<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="mf">2.005</span><span class="p">));</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="s2">"2.01"</span>
<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">format</span><span class="p">(</span><span class="mf">1.345</span><span class="p">));</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="s2">"1.35"</span>
</pre></div>

<p>This API also provides you a wide variety of options to format, like thousand
separators, currency symbols, etc.</p>
<p><br></p>
<h3>Suggest</h3>
<p>This is an old topic but still top-ranked Google results and the solutions
offered share the same floating point decimals issue. Here is the (very
generic) function I use, thanks to MDN:</p>
<div class="code"><pre class="code literal-block"><span class="nv">function</span><span class="w"> </span><span class="nv">round</span><span class="ss">(</span><span class="nv">value</span>,<span class="w"> </span><span class="nv">exp</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">typeof</span><span class="w"> </span><span class="nv">exp</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">'undefined'</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">+</span><span class="nv">exp</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mi">0</span><span class="ss">)</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">Math</span>.<span class="nv">round</span><span class="ss">(</span><span class="nv">value</span><span class="ss">)</span><span class="c1">;</span>

<span class="w">  </span><span class="nv">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">+</span><span class="nv">value</span><span class="c1">;</span>
<span class="w">  </span><span class="nv">exp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">+</span><span class="nv">exp</span><span class="c1">;</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">isNaN</span><span class="ss">(</span><span class="nv">value</span><span class="ss">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">!</span><span class="ss">(</span><span class="nv">typeof</span><span class="w"> </span><span class="nv">exp</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">'number'</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nv">exp</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mi">0</span><span class="ss">))</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">NaN</span><span class="c1">;</span>

<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="nv">Shift</span>
<span class="w">  </span><span class="nv">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">value</span>.<span class="nv">toString</span><span class="ss">()</span>.<span class="nv">split</span><span class="ss">(</span><span class="s1">'e'</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">  </span><span class="nv">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Math</span>.<span class="nv">round</span><span class="ss">(</span><span class="o">+</span><span class="ss">(</span><span class="nv">value</span>[<span class="mi">0</span>]<span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">'e'</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="ss">(</span><span class="nv">value</span>[<span class="mi">1</span>]<span class="w"> </span>?<span class="w"> </span><span class="ss">(</span><span class="o">+</span><span class="nv">value</span>[<span class="mi">1</span>]<span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">exp</span><span class="ss">)</span><span class="w"> </span>:<span class="w"> </span><span class="nv">exp</span><span class="ss">)))</span><span class="c1">;</span>

<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="nv">Shift</span><span class="w"> </span><span class="nv">back</span>
<span class="w">  </span><span class="nv">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">value</span>.<span class="nv">toString</span><span class="ss">()</span>.<span class="nv">split</span><span class="ss">(</span><span class="s1">'e'</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="o">+</span><span class="ss">(</span><span class="nv">value</span>[<span class="mi">0</span>]<span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">'e'</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="ss">(</span><span class="nv">value</span>[<span class="mi">1</span>]<span class="w"> </span>?<span class="w"> </span><span class="ss">(</span><span class="o">+</span><span class="nv">value</span>[<span class="mi">1</span>]<span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nv">exp</span><span class="ss">)</span><span class="w"> </span>:<span class="w"> </span><span class="o">-</span><span class="nv">exp</span><span class="ss">))</span><span class="c1">;</span>
}
</pre></div>

<p>As we can see, we don't get these issues:</p>
<div class="code"><pre class="code literal-block">round(1.275, 2);   // Returns 1.28
round(1.27499, 2); // Returns 1.27
</pre></div>

<p>This genericity also provides some cool stuff:</p>
<div class="code"><pre class="code literal-block">round(1234.5678, -2);   // Returns 1200
round(1.2345678e+2, 2); // Returns 123.46
round("123.45");        // Returns 123
</pre></div>

<hr>
<p>Now, to answer the OP's question, one has to type:</p>
<div class="code"><pre class="code literal-block">round(10.8034, 2).toFixed(2); // Returns "10.80"
round(10.8, 2).toFixed(2);    // Returns "10.80"
</pre></div>

<hr>
<p>Or, for a more concise, less generic function:</p>
<div class="code"><pre class="code literal-block"><span class="nv">function</span><span class="w"> </span><span class="nv">round2Fixed</span><span class="ss">(</span><span class="nv">value</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">  </span><span class="nv">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">+</span><span class="nv">value</span><span class="c1">;</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">isNaN</span><span class="ss">(</span><span class="nv">value</span><span class="ss">))</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">NaN</span><span class="c1">;</span>

<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="nv">Shift</span>
<span class="w">  </span><span class="nv">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">value</span>.<span class="nv">toString</span><span class="ss">()</span>.<span class="nv">split</span><span class="ss">(</span><span class="s1">'e'</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">  </span><span class="nv">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Math</span>.<span class="nv">round</span><span class="ss">(</span><span class="o">+</span><span class="ss">(</span><span class="nv">value</span>[<span class="mi">0</span>]<span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">'e'</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="ss">(</span><span class="nv">value</span>[<span class="mi">1</span>]<span class="w"> </span>?<span class="w"> </span><span class="ss">(</span><span class="o">+</span><span class="nv">value</span>[<span class="mi">1</span>]<span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="ss">)</span><span class="w"> </span>:<span class="w"> </span><span class="mi">2</span><span class="ss">)))</span><span class="c1">;</span>

<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="nv">Shift</span><span class="w"> </span><span class="nv">back</span>
<span class="w">  </span><span class="nv">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">value</span>.<span class="nv">toString</span><span class="ss">()</span>.<span class="nv">split</span><span class="ss">(</span><span class="s1">'e'</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="ss">(</span><span class="o">+</span><span class="ss">(</span><span class="nv">value</span>[<span class="mi">0</span>]<span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">'e'</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="ss">(</span><span class="nv">value</span>[<span class="mi">1</span>]<span class="w"> </span>?<span class="w"> </span><span class="ss">(</span><span class="o">+</span><span class="nv">value</span>[<span class="mi">1</span>]<span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">2</span><span class="ss">)</span><span class="w"> </span>:<span class="w"> </span><span class="o">-</span><span class="mi">2</span><span class="ss">)))</span>.<span class="nv">toFixed</span><span class="ss">(</span><span class="mi">2</span><span class="ss">)</span><span class="c1">;</span>
}
</pre></div>

<p>You can call it with:</p>
<div class="code"><pre class="code literal-block">round2Fixed(10.8034); // Returns "10.80"
round2Fixed(10.8);    // Returns "10.80"
</pre></div>

<hr>
<p>Various examples and tests (thanks to <strong>@t-j-crowder</strong>!):</p>
<p>Show code snippet</p>
<div class="code"><pre class="code literal-block"><span class="n">function</span><span class="w"> </span><span class="nb">round</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="nb">exp</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">typeof</span><span class="w"> </span><span class="nb">exp</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">'undefined'</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">+</span><span class="nb">exp</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Math</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">value</span><span class="p">);</span>

<span class="w">  </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">+</span><span class="n">value</span><span class="p">;</span>
<span class="w">  </span><span class="nb">exp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">+</span><span class="nb">exp</span><span class="p">;</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">isNaN</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">!</span><span class="p">(</span><span class="nb">typeof</span><span class="w"> </span><span class="nb">exp</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">'number'</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">exp</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mi">0</span><span class="p">))</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">NaN</span><span class="p">;</span>

<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">Shift</span>
<span class="w">  </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value</span><span class="o">.</span><span class="n">toString</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">'e'</span><span class="p">);</span>
<span class="w">  </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Math</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="o">+</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">'e'</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="err">?</span><span class="w"> </span><span class="p">(</span><span class="o">+</span><span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">exp</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nb">exp</span><span class="p">)));</span>

<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">Shift</span><span class="w"> </span><span class="n">back</span>
<span class="w">  </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value</span><span class="o">.</span><span class="n">toString</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">'e'</span><span class="p">);</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="o">+</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">'e'</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="err">?</span><span class="w"> </span><span class="p">(</span><span class="o">+</span><span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nb">exp</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="o">-</span><span class="nb">exp</span><span class="p">));</span>
<span class="p">}</span>
<span class="n">function</span><span class="w"> </span><span class="n">naive</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="nb">exp</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nb">exp</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Math</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">value</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="nb">pow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="nb">exp</span><span class="p">);</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">Math</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nb">pow</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nb">pow</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">function</span><span class="w"> </span><span class="n">test</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="n">places</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">subtest</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="n">places</span><span class="p">);</span>
<span class="w">  </span><span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">typeof</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">"string"</span><span class="w"> </span><span class="err">?</span><span class="w"> </span><span class="s2">"-"</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="o">-</span><span class="n">val</span><span class="p">;</span>
<span class="w">  </span><span class="n">subtest</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="n">places</span><span class="p">);</span>
<span class="p">}</span>
<span class="n">function</span><span class="w"> </span><span class="n">subtest</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="n">places</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">placesOrZero</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">places</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">naiveResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">naive</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="n">places</span><span class="p">);</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">roundResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">round</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="n">places</span><span class="p">);</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">placesOrZero</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">naiveResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">naiveResult</span><span class="o">.</span><span class="n">toFixed</span><span class="p">(</span><span class="n">placesOrZero</span><span class="p">);</span>
<span class="w">    </span><span class="n">roundResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">roundResult</span><span class="o">.</span><span class="n">toFixed</span><span class="p">(</span><span class="n">placesOrZero</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">naiveResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">naiveResult</span><span class="o">.</span><span class="n">toString</span><span class="p">();</span>
<span class="w">    </span><span class="n">roundResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">roundResult</span><span class="o">.</span><span class="n">toString</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="o">$</span><span class="p">(</span><span class="s2">"&lt;tr&gt;"</span><span class="p">)</span>
<span class="w">    </span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="o">$</span><span class="p">(</span><span class="s2">"&lt;td&gt;"</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">JSON</span><span class="o">.</span><span class="n">stringify</span><span class="p">(</span><span class="n">val</span><span class="p">)))</span>
<span class="w">    </span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="o">$</span><span class="p">(</span><span class="s2">"&lt;td&gt;"</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">placesOrZero</span><span class="p">))</span>
<span class="w">    </span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="o">$</span><span class="p">(</span><span class="s2">"&lt;td&gt;"</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">naiveResult</span><span class="p">))</span>
<span class="w">    </span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="o">$</span><span class="p">(</span><span class="s2">"&lt;td&gt;"</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">roundResult</span><span class="p">))</span>
<span class="w">    </span><span class="o">.</span><span class="n">appendTo</span><span class="p">(</span><span class="s2">"#results"</span><span class="p">);</span>
<span class="p">}</span>
<span class="n">test</span><span class="p">(</span><span class="mf">0.565</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="n">test</span><span class="p">(</span><span class="mf">0.575</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="n">test</span><span class="p">(</span><span class="mf">0.585</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="n">test</span><span class="p">(</span><span class="mf">1.275</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="n">test</span><span class="p">(</span><span class="mf">1.27499</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="n">test</span><span class="p">(</span><span class="mf">1234.5678</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">2</span><span class="p">);</span>
<span class="n">test</span><span class="p">(</span><span class="mf">1.2345678e+2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="n">test</span><span class="p">(</span><span class="s2">"123.45"</span><span class="p">);</span>
<span class="n">test</span><span class="p">(</span><span class="mf">10.8034</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="n">test</span><span class="p">(</span><span class="mf">10.8</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="n">test</span><span class="p">(</span><span class="mf">1.005</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="n">test</span><span class="p">(</span><span class="mf">1.0005</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>


<span class="n">table</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">border</span><span class="o">-</span><span class="n">collapse</span><span class="p">:</span><span class="w"> </span><span class="n">collapse</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">table</span><span class="p">,</span><span class="w"> </span><span class="n">td</span><span class="p">,</span><span class="w"> </span><span class="n">th</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">border</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="n">px</span><span class="w"> </span><span class="n">solid</span><span class="w"> </span><span class="c1">#ddd;</span>
<span class="p">}</span>
<span class="n">td</span><span class="p">,</span><span class="w"> </span><span class="n">th</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">padding</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="n">px</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">th</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">font</span><span class="o">-</span><span class="n">weight</span><span class="p">:</span><span class="w"> </span><span class="n">normal</span><span class="p">;</span>
<span class="w">  </span><span class="n">font</span><span class="o">-</span><span class="n">family</span><span class="p">:</span><span class="w"> </span><span class="n">sans</span><span class="o">-</span><span class="n">serif</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">td</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">font</span><span class="o">-</span><span class="n">family</span><span class="p">:</span><span class="w"> </span><span class="n">monospace</span><span class="p">;</span>
<span class="p">}</span>


<span class="o">&lt;</span><span class="n">table</span><span class="o">&gt;</span>
<span class="w">  </span><span class="o">&lt;</span><span class="n">thead</span><span class="o">&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="n">tr</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="n">th</span><span class="o">&gt;</span><span class="n">Input</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="n">th</span><span class="o">&gt;</span><span class="n">Places</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="n">th</span><span class="o">&gt;</span><span class="n">Naive</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="n">th</span><span class="o">&gt;</span><span class="n">Thorough</span><span class="o">&lt;/</span><span class="n">th</span><span class="o">&gt;</span>
<span class="w">    </span><span class="o">&lt;/</span><span class="n">tr</span><span class="o">&gt;</span>
<span class="w">  </span><span class="o">&lt;/</span><span class="n">thead</span><span class="o">&gt;</span>
<span class="w">  </span><span class="o">&lt;</span><span class="n">tbody</span><span class="w"> </span><span class="n">id</span><span class="o">=</span><span class="s2">"results"</span><span class="o">&gt;</span>
<span class="w">  </span><span class="o">&lt;/</span><span class="n">tbody</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">table</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">script</span><span class="w"> </span><span class="n">src</span><span class="o">=</span><span class="s2">"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/finding-what-methods-a-python-object-has/" class="u-url">Finding what methods a Python object has</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/finding-what-methods-a-python-object-has/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T21:16:06+08:00" itemprop="datePublished" title="2023-02-17 21:16">2023-02-17 21:16</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Given a Python object of any kind, is there an easy way to get the list of all
methods that this object has?</p>
<p>Or if this is not possible, is there at least an easy way to check if it has a
particular method, other than checking if an error occurs when the method is
called?</p>
<p><br><br></p>
<h2>Answer</h2>
<p><strong>For many objects</strong> , you can use this code, replacing 'object' with the
object you're interested in:</p>
<div class="code"><pre class="code literal-block"><span class="nv">object_methods</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="nv">method_name</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">method_name</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">dir</span><span class="ss">(</span><span class="nv">object</span><span class="ss">)</span>
<span class="w">                  </span><span class="k">if</span><span class="w"> </span><span class="nv">callable</span><span class="ss">(</span><span class="nv">getattr</span><span class="ss">(</span><span class="nv">object</span>,<span class="w"> </span><span class="nv">method_name</span><span class="ss">))</span>]
</pre></div>

<p>I discovered it at diveintopython.net (now archived), that should provide some
further details!</p>
<p><strong>If you get an<code>AttributeError</code>, you can use this instead</strong>:</p>
<p><code>getattr()</code> is intolerant of pandas style Python 3.6 abstract virtual sub-
classes. This code does the same as above and ignores exceptions.</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">],</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">300</span><span class="p">]],</span>
                  <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">'foo'</span><span class="p">,</span> <span class="s1">'bar'</span><span class="p">,</span> <span class="s1">'baz'</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">get_methods</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">spacing</span><span class="o">=</span><span class="mi">20</span><span class="p">):</span>
  <span class="n">methodList</span> <span class="o">=</span> <span class="p">[]</span>
  <span class="k">for</span> <span class="n">method_name</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">callable</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">method_name</span><span class="p">)):</span>
            <span class="n">methodList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">method_name</span><span class="p">))</span>
    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
        <span class="n">methodList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">method_name</span><span class="p">))</span>
  <span class="n">processFunc</span> <span class="o">=</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="s1">' '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">()))</span> <span class="ow">or</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="n">s</span><span class="p">)</span>
  <span class="k">for</span> <span class="n">method</span> <span class="ow">in</span> <span class="n">methodList</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">method</span><span class="o">.</span><span class="n">ljust</span><span class="p">(</span><span class="n">spacing</span><span class="p">))</span> <span class="o">+</span> <span class="s1">' '</span> <span class="o">+</span>
              <span class="n">processFunc</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">method</span><span class="p">)</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">)[</span><span class="mi">0</span><span class="p">:</span><span class="mi">90</span><span class="p">]))</span>
    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">method</span><span class="o">.</span><span class="n">ljust</span><span class="p">(</span><span class="n">spacing</span><span class="p">)</span> <span class="o">+</span> <span class="s1">' '</span> <span class="o">+</span> <span class="s1">' getattr() failed'</span><span class="p">)</span>

<span class="n">get_methods</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">'foo'</span><span class="p">])</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>You can use the built in <code>dir()</code> function to get a list of all the attributes
a module has. Try this at the command line to see how it works.</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">moduleName</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">dir</span><span class="p">(</span><span class="n">moduleName</span><span class="p">)</span>
</pre></div>

<p>Also, you can use the <code>hasattr(module_name, "attr_name")</code> function to find out
if a module has a specific attribute.</p>
<p>See the Python introspection for more information.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-977.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-975.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

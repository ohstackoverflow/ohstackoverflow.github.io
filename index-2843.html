<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2843) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2843.html">
<link rel="prev" href="index-2844.html" type="text/html">
<link rel="next" href="index-2842.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/in-python-how-do-i-convert-all-of-the-items-in-a-list-to-floats/" class="u-url">In Python, how do I convert all of the items in a list to floats?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/in-python-how-do-i-convert-all-of-the-items-in-a-list-to-floats/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T22:07:24+08:00" itemprop="datePublished" title="2023-03-05 22:07">2023-03-05 22:07</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a script which reads a text file, pulls decimal numbers out of it as
strings and places them into a list.</p>
<p>So I have this list:</p>
<div class="code"><pre class="code literal-block">my_list = ['0.49', '0.54', '0.54', '0.55', '0.55', '0.54', '0.55', '0.55', '0.54']
</pre></div>

<p>How do I convert each of the values in the list from a string to a float?</p>
<p>I have tried:</p>
<div class="code"><pre class="code literal-block"><span class="k">for</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">my_list</span>:
<span class="w">    </span><span class="nv">float</span><span class="ss">(</span><span class="nv">item</span><span class="ss">)</span>
</pre></div>

<p>But this doesn't seem to work for me.</p>
<p><br><br></p>
<h2>Answer</h2>
<div class="code"><pre class="code literal-block">[<span class="nv">float</span><span class="ss">(</span><span class="nv">i</span><span class="ss">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">lst</span>]
</pre></div>

<p>to be precise, it creates a new list with float values. Unlike the <code>map</code>
approach it will work in py3k.</p>
<p><br></p>
<h3>Suggest</h3>
<p><code>map(float, mylist)</code> should do it.</p>
<p>(In Python 3, map ceases to return a list object, so if you want a new list
and not just something to iterate over, you either need <code>list(map(float,
mylist)</code> - or use SilentGhost's answer which arguably is more pythonic.)</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-the-difference-between-loose-coupling-and-tight-coupling-in-the-object-oriented-paradigm/" class="u-url">What is the difference between loose coupling and tight coupling in the object oriented paradigm?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-the-difference-between-loose-coupling-and-tight-coupling-in-the-object-oriented-paradigm/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T22:05:57+08:00" itemprop="datePublished" title="2023-03-05 22:05">2023-03-05 22:05</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Can any one describe the exact difference between loose coupling and tight
coupling in Object oriented paradigm?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Tight coupling is when a group of classes are highly dependent on one another.</p>
<p>This scenario arises when a class assumes too many responsibilities, or when
one concern is spread over many classes rather than having its own class.</p>
<p>Loose coupling is achieved by means of a design that promotes single-
responsibility and separation of concerns.</p>
<p>A loosely-coupled class can be consumed and tested independently of other
(concrete) classes.</p>
<p>Interfaces are a powerful tool to use for decoupling. Classes can communicate
through interfaces rather than other concrete classes, and any class can be on
the other end of that communication simply by implementing the interface.</p>
<p>Example of tight coupling:</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span> <span class="n">CustomerRepository</span>
{
    <span class="nb">private</span> <span class="nb">readonly</span> <span class="n">Database</span> <span class="n">database</span>;

    <span class="n">public</span> <span class="n">CustomerRepository</span>(<span class="n">Database</span> <span class="n">database</span>)
    {
        <span class="n">this</span>.<span class="n">database</span> = <span class="n">database</span>;
    }

    <span class="n">public</span> <span class="n">void</span> <span class="n">Add</span>(<span class="n">string</span> <span class="n">CustomerName</span>)
    {
        <span class="n">database</span>.<span class="n">AddRow</span>(<span class="s">"Customer"</span>, <span class="n">CustomerName</span>);
    }
}

<span class="k">class</span> <span class="n">Database</span>
{
    <span class="n">public</span> <span class="n">void</span> <span class="n">AddRow</span>(<span class="n">string</span> <span class="n">Table</span>, <span class="n">string</span> <span class="n">Value</span>)
    {
    }
}
</pre></div>

<p>Example of loose coupling:</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span> <span class="n">CustomerRepository</span>
{
    <span class="nb">private</span> <span class="nb">readonly</span> <span class="n">IDatabase</span> <span class="n">database</span>;

    <span class="n">public</span> <span class="n">CustomerRepository</span>(<span class="n">IDatabase</span> <span class="n">database</span>)
    {
        <span class="n">this</span>.<span class="n">database</span> = <span class="n">database</span>;
    }

    <span class="n">public</span> <span class="n">void</span> <span class="n">Add</span>(<span class="n">string</span> <span class="n">CustomerName</span>)
    {
        <span class="n">database</span>.<span class="n">AddRow</span>(<span class="s">"Customer"</span>, <span class="n">CustomerName</span>);
    }
}

<span class="n">interface</span> <span class="n">IDatabase</span>
{
    <span class="n">void</span> <span class="n">AddRow</span>(<span class="n">string</span> <span class="n">Table</span>, <span class="n">string</span> <span class="n">Value</span>);
}

<span class="k">class</span> <span class="n">Database</span> <span class="n">implements</span> <span class="n">IDatabase</span>
{
    <span class="n">public</span> <span class="n">void</span> <span class="n">AddRow</span>(<span class="n">string</span> <span class="n">Table</span>, <span class="n">string</span> <span class="n">Value</span>)
    {
    }
}
</pre></div>

<p>Another example here.</p>
<p><br></p>
<h3>Suggest</h3>
<h2>Explanation without any code</h2>
<p>Simple analogy to explain the concept. Code can come later.</p>
<h3>Summary Example of Loose Coupling:</h3>
<p><img alt='The Hat is "loosely coupled" to the body. This means you can easily take
then hat off without making any changes to the the person/body. Picture
Attribution: https://pixabay.com/en/greeting-cylinder-chapeau-
dignity-317250/' src="images/AhHmlm.jpg"></p>
<p>In the picture above, the Hat is "loosely coupled" to the body. This means you
can easily take the hat off without making any changes to the person/body.
When you can do that then you have "loose coupling". See below for
elaboration.</p>
<h3>Detailed Example</h3>
<p>Think of your skin. It's stuck to your body. It fits like a glove. But what if
you wanted to change your skin colour from say white to black? Can you imagine
just how painful it would be to peel off your skin, dye it, and then to paste
it back on etc? Changing your skin is difficult because it is tightly coupled
to your body. You just can't make changes easily. You would have to
fundamentally redesign a human being in order to make this possible.</p>
<ul>
<li>
<em>Key Point #1</em> : In other words, <em><strong>if you want to change the skin, you would also HAVE TO change the design of your body</strong></em> as well because the two are joined together - they are tightly coupled.</li>
</ul>
<p>God was not a good object oriented programmer.</p>
<h3>Loose coupling (Detailed Example)</h3>
<p>Now think of getting dressed in the morning. You don't like blue? No problems:
you can put a red shirt on instead. You can do this easily and effortlessly
because the shirt is not really connected to your body the same way as your
skin. <em>The shirt doesn't know or care about what body it is going on</em>. In
other words, you can change your clothes, without really changing your body.</p>
<ul>
<li>That's key point #2. <em><strong>If you change your shirt, then you are not forced to change your body</strong></em> - when you can do that, then you have loose coupling. When you can't do that, then you have tight coupling.</li>
</ul>
<p>That's the basic concept in a nutshell.</p>
<h4>Why is all of this important?</h4>
<p>What do changing shirts have to do with software?</p>
<p>Change. It's inevitable when writing software. If we know in advance that a
change is going to come in a particular place, we should loosely couple on
that point: then we could make those changes easily and quickly, without
bugs.....Consider some examples which might help elaborate:</p>
<h4>Loose Coupling in Software:</h4>
<ul>
<li>
<strong>CSV/JSON Examples:</strong> Early on in my career, my manager said: "give me the output as a CSV file". I created a routine that worked like a charm. Then one or two weeks later, he says: "actually, I want the output for another client in JSON".</li>
</ul>
<p>I had to rewrite the entire thing. But this time, I rewrote it using
interfaces - a loosely coupled design pattern. Now, adding new output formats,
is so much easier. I can edit the JSON portions without fear I will break my
CSV output.</p>
<ul>
<li>
<p><strong>DB Examples:</strong> if you want to switch from sqlLite to PostGreSQL easily - loosely coupled code makes it <em>really easy</em> to switch (i.e. to put on a red shirt instead of a blue shirt). The Rails ActiveRecord library is loosely coupled on its database implementation. This makes it super easy for someone to use their own database implementation, while using the same code base!</p>
</li>
<li>
<p><strong>Cloud Provider examples:</strong> Or if you're using AWS and they start charging too much because of market dominance, you should be able to somewhat easily switch to Google or Azure etc. This is precisely the reason why libraries like Active Storage exist - they provide users with a healthy indifference as to the specific cloud provider being used (Azure, AWS S3, GCS etc.). You can easily change cloud providers with just a one-line code change. The implementation details of the cloud storage providers are loosely coupled.</p>
</li>
<li>
<p><strong>Testing</strong> : if you want to test your software, with predetermined outputs and inputs - how are you going to do it? With loosely coupled software - it's a breeze: you can run your tests, and you can also deploy your production code and do it all in the same code base. With tightly coupled code, testing your production code is nearly impossible.</p>
</li>
</ul>
<p>Do we need to make everything "loosely coupled"? Probably not. We should
exercise judgement. Some amount of coupling is inevitable. But consider
minimizing it <em><strong>if you know in advance</strong></em> where it will change. I would also
counsel against <em>guessing</em> where things will change, and loosely coupling
everything. Loosely couple, only when you need to.</p>
<h4>Summary</h4>
<p>In short, loose coupling makes code easier to change.</p>
<p>The answers above provide some code which is worth reading.</p>
<p><strong>Advanced Topics</strong></p>
<p>Loose coupling goes hand-in-hand with polymorphism and interfaces. If you like
cartoons and analogies, consider some other posts I have written:</p>
<ul>
<li>What is Polymorphism?</li>
<li>What is an interface?</li>
<li>What do you mean by 'leaky abstractions' - not written by me.</li>
</ul>
<p>Picture Attribution.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/null-or-default-comparison-of-generic-argument-in-c/" class="u-url">Null or default comparison of generic argument in C#</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/null-or-default-comparison-of-generic-argument-in-c/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T22:04:45+08:00" itemprop="datePublished" title="2023-03-05 22:04">2023-03-05 22:04</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a generic method defined like this:</p>
<div class="code"><pre class="code literal-block">public void MyMethod&lt;T&gt;(T myArgument)
</pre></div>

<p>The first thing I want to do is check if the value of myArgument is the
default value for that type, something like this:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">myArgument</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">default</span><span class="ss">(</span><span class="nv">T</span><span class="ss">))</span>
</pre></div>

<p>But this doesn't compile because I haven't guaranteed that T will implement
the == operator. So I switched the code to this:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">myArgument</span>.<span class="nv">Equals</span><span class="ss">(</span><span class="nv">default</span><span class="ss">(</span><span class="nv">T</span><span class="ss">)))</span>
</pre></div>

<p>Now this compiles, but will fail if myArgument is null, which is part of what
I'm testing for. I can add an explicit null check like this:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">myArgument</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nv">myArgument</span>.<span class="nv">Equals</span><span class="ss">(</span><span class="nv">default</span><span class="ss">(</span><span class="nv">T</span><span class="ss">)))</span>
</pre></div>

<p>Now this feels redundant to me. ReSharper is even suggesting that I change the
myArgument == null part into myArgument == default(T) which is where I
started. Is there a better way to solve this problem?</p>
<p>I need to support <strong>both</strong> references types and value types.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>To avoid boxing, the best way to compare generics for equality is with
<code>EqualityComparer&lt;T&gt;.Default</code>. This respects <code>IEquatable&lt;T&gt;</code> (without boxing)
as well as <code>object.Equals</code>, and handles all the <code>Nullable&lt;T&gt;</code> "lifted"
nuances. Hence:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="ss">(</span><span class="nv">EqualityComparer</span><span class="o">&lt;</span><span class="nv">T</span><span class="o">&gt;</span>.<span class="nv">Default</span>.<span class="nv">Equals</span><span class="ss">(</span><span class="nv">obj</span>,<span class="w"> </span><span class="nv">default</span><span class="ss">(</span><span class="nv">T</span><span class="ss">)))</span><span class="w"> </span>{
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">obj</span><span class="c1">;</span>
}
</pre></div>

<p>This will match:</p>
<ul>
<li>null for classes</li>
<li>null (empty) for <code>Nullable&lt;T&gt;</code>
</li>
<li>zero/false/etc for other structs</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<p>How about this:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">object</span>.<span class="nv">Equals</span><span class="ss">(</span><span class="nv">myArgument</span>,<span class="w"> </span><span class="nv">default</span><span class="ss">(</span><span class="nv">T</span><span class="ss">)))</span>
{
<span class="w">    </span><span class="o">//</span>...
}
</pre></div>

<p>Using the <code>static object.Equals()</code> method avoids the need for you to do the
<code>null</code> check yourself. Explicitly qualifying the call with <code>object.</code> probably
isn't necessary depending on your context, but I normally prefix <code>static</code>
calls with the type name just to make the code more soluble.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2844.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2842.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

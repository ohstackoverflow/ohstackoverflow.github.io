<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2014) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2014.html">
<link rel="prev" href="index-2015.html" type="text/html">
<link rel="next" href="index-2013.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-recursively-delete-an-entire-directory-with-powershell-2-0/" class="u-url">How to recursively delete an entire directory with PowerShell 2.0?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-recursively-delete-an-entire-directory-with-powershell-2-0/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T14:50:38+08:00" itemprop="datePublished" title="2023-03-03 14:50">2023-03-03 14:50</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What is the simplest way to forcefully delete a directory and all its
subdirectories in PowerShell? I am using PowerShell V2 in Windows 7.</p>
<p>I have learned from several sources that the most obvious command, <code>Remove-
Item $targetDir -Recurse -Force</code>, does not work correctly. This includes a
statement in the PowerShell V2 online help (found using <code>Get-Help Remove-Item
-Examples</code>) that states:</p>
<blockquote>
<p>...Because the Recurse parameter in this cmdlet is faulty, the command uses
the Get-Childitem cmdlet to get the desired files, and it uses the pipeline
operator to pass them to the Remove-Item cmdlet...</p>
</blockquote>
<p>I have seen various examples that use <strong>Get-ChildItem</strong> and pipe it to
<strong>Remove-Item</strong> , but the examples usually remove some set of files based on a
filter, not the entire directory.</p>
<p>I am looking for the cleanest way to blow out an entire directory, files and
child directories, without generating any user warning messages using the
least amount of code. A one-liner would be nice if it is easy to understand.</p>
<p><br><br></p>
<h2>Answer</h2>
<div class="code"><pre class="code literal-block">Remove-Item -Recurse -Force some_dir
</pre></div>

<p>does indeed work as advertised here.</p>
<div class="code"><pre class="code literal-block">rm -r -fo some_dir
</pre></div>

<p>are shorthand aliases that work too.</p>
<p>As far as I understood it, the <code>-Recurse</code> parameter just doesn't work
correctly when you try deleting a filtered set of files recursively. For
killing a single dir and everything below it seems to work fine.</p>
<p><br></p>
<h3>Suggest</h3>
<p>I used:</p>
<div class="code"><pre class="code literal-block">rm -r folderToDelete
</pre></div>

<p>This works for me like a charm (I stole it from Ubuntu).</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-see-the-raw-sql-queries-django-is-running/" class="u-url">How to see the raw SQL queries Django is running?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-see-the-raw-sql-queries-django-is-running/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T14:50:08+08:00" itemprop="datePublished" title="2023-03-03 14:50">2023-03-03 14:50</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is there a way to show the SQL that Django is running while performing a
query?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>See the docs FAQ: "How can I see the raw SQL queries Django is running?"</p>
<p><code>django.db.connection.queries</code> contains a list of the SQL queries:</p>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">connection</span>
<span class="nb">print</span><span class="p">(</span><span class="n">connection</span><span class="o">.</span><span class="n">queries</span><span class="p">)</span>
</pre></div>

<p>Querysets also have a <code>query</code> attribute containing the query to be executed:</p>
<div class="code"><pre class="code literal-block">print(MyModel.objects.filter(name="my name").query)
</pre></div>

<p>Note that the output of the query is not valid SQL, because:</p>
<blockquote>
<p>"Django never actually interpolates the parameters: it sends the query and
the parameters separately to the database adapter, which performs the
appropriate operations."</p>
</blockquote>
<p>From Django bug report #17741.</p>
<p>Because of that, you should not send query output directly to a database.</p>
<p>If you need to reset the queries to, for example, see how many queries are
running in a given period, you can use <code>reset_queries</code> from <code>django.db</code>:</p>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">reset_queries</span>
<span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">connection</span>

<span class="n">reset_queries</span><span class="p">()</span>
<span class="c1"># Run your query here</span>
<span class="nb">print</span><span class="p">(</span><span class="n">connection</span><span class="o">.</span><span class="n">queries</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">[]</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Django-extensions have a command shell_plus with a parameter <code>print-sql</code></p>
<div class="code"><pre class="code literal-block">./manage.py shell_plus --print-sql
</pre></div>

<p>In django-shell all executed queries will be printed</p>
<p>Ex.:</p>
<div class="code"><pre class="code literal-block">User.objects.get(pk=1)
SELECT "auth_user"."id",
       "auth_user"."password",
       "auth_user"."last_login",
       "auth_user"."is_superuser",
       "auth_user"."username",
       "auth_user"."first_name",
       "auth_user"."last_name",
       "auth_user"."email",
       "auth_user"."is_staff",
       "auth_user"."is_active",
       "auth_user"."date_joined"
FROM "auth_user"
WHERE "auth_user"."id" = 1

Execution time: 0.002466s [Database: default]

&lt;User: username&gt;
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-turn-off-scrolling-the-history-in-iterm2/" class="u-url">How can I turn off "scrolling the history" in iTerm2</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-turn-off-scrolling-the-history-in-iterm2/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T14:49:42+08:00" itemprop="datePublished" title="2023-03-03 14:49">2023-03-03 14:49</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have installed the new iTerm 2. It asked me in a yellow bar at the top if
I'd like to enable a mouse feature. Unfortunately, I don't remember the exact
sentence anymore.</p>
<p>By accident I approved. Now when I use the scroll wheel on the mouse in iTerm,
it doesn't scroll the up anymore, but instead it goes triggers the command
history as if I had pressed the up-cursor.</p>
<p>Where I can toggle this option to turn it off again?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>A few terminals, including iTerm2, have a feature where they change the
behavior of the wheel mouse when a full-screen program such as <code>vi</code>, or
<code>screen</code> or <code>tmux</code> is running. This happens when those programs use the
<em>alternate screen</em> , to provide a useful function. Normally, when using the
alternate screen in iTerm2, the wheel mouse acts like the scrollbar, scrolling
the entire screen up/down. But when this feature is enabled, iTerm2 sends
cursor up/down keys, making your command-history change.</p>
<p>As suggested in another comment, select the <em>Preferences</em> menu:</p>
<p><img alt="enter image description here" src="images/kAKSq.png"></p>
<p>and in that, select the <em>Advanced</em> tab. Scroll down to the <strong>Mouse</strong> section,</p>
<p><img alt="enter image description here" src="images/bBMff.png"></p>
<p>and toggle the entry for</p>
<p><em>Scroll wheel sends arrow keys when in alternate screen mode</em></p>
<p>from <strong>Yes</strong> to <strong>No</strong>. You will have to restart iTerm2 for the change to take
effect. (With iTerm2 <em>v3.1.5</em> changes take effect without restarting.)</p>
<p><br></p>
<h3>Suggest</h3>
<p>If you are trapped in the scrolling history mode, you can escape by <strong>running
vi and exiting.</strong> You can also choose another program that uses the alternate
screen and then exit.</p>
<p>Scrolling the history with the mouse wheel should in theory never happen. It
happens in practice because sometimes the alternate screen mode is not
correctly switched back. The accepted answer solves the problem by
deactivating a feature that is useful, namely scrolling in vi, less, ... with
the mouse wheel or trackpad. You can keep the option from the advanced
preferences:</p>
<blockquote>
<p>Scroll wheel sends arrow keys when in alternate screen mode</p>
</blockquote>
<p>set to yes. You will sometimes be trapped in the scroll history mode. But if
you know how to escape, it's not a problem.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2015.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2013.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

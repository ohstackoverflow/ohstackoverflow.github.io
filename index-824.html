<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 824) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-824.html">
<link rel="prev" href="index-825.html" type="text/html">
<link rel="next" href="index-823.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-remove-packages-installed-with-python-s-easy-install/" class="u-url">How do I remove packages installed with Python's easy_install?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-remove-packages-installed-with-python-s-easy-install/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T16:57:00+08:00" itemprop="datePublished" title="2023-02-17 16:57">2023-02-17 16:57</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Python's <code>easy_install</code> makes installing new packages extremely convenient.
However, as far as I can tell, it doesn't implement the other common features
of a dependency manager - listing and removing installed packages.</p>
<p>What is the best way of finding out what's installed, and what is the
preferred way of removing installed packages? Are there any files that need to
be updated if I remove packages manually (e.g. by <code>rm
/usr/local/lib/python2.6/dist-packages/my_installed_pkg.egg</code> or similar)?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>pip, an alternative to setuptools/easy_install, provides an "uninstall"
command.</p>
<p>Install pip according to the installation instructions:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>wget<span class="w"> </span>https://bootstrap.pypa.io/get-pip.py
$<span class="w"> </span>python<span class="w"> </span>get-pip.py
</pre></div>

<p>Then you can use <code>pip uninstall</code> to remove packages installed with
<code>easy_install</code></p>
<p><br></p>
<h3>Suggest</h3>
<p>To uninstall an <code>.egg</code> you need to <code>rm -rf</code> the egg (it might be a directory)
and remove the matching line from <code>site-packages/easy-install.pth</code></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/find-mongodb-records-where-array-field-is-not-empty/" class="u-url">Find MongoDB records where array field is not empty</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/find-mongodb-records-where-array-field-is-not-empty/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T16:56:19+08:00" itemprop="datePublished" title="2023-02-17 16:56">2023-02-17 16:56</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>All of my records have a field called "pictures". This field is an array of
strings.</p>
<p>I now want the newest 10 records where this array IS NOT empty.</p>
<p>I've googled around, but strangely enough I haven't found much on this. I've
read into the $where option, but I was wondering how slow that is to native
functions, and if there is a better solution.</p>
<p>And even then, that does not work:</p>
<div class="code"><pre class="code literal-block"><span class="x">ME.find(</span><span class="cp">{</span><span class="nv">$where</span><span class="o">:</span> <span class="s1">'this.pictures.length &gt; 0'</span><span class="cp">}</span><span class="x">).sort('-created').limit(10).execFind()</span>
</pre></div>

<p>Returns nothing. Leaving <code>this.pictures</code> without the length bit does work, but
then it also returns empty records, of course.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>If you also have documents that don't have the key, you can use:</p>
<div class="code"><pre class="code literal-block"><span class="x">ME.find(</span><span class="cp">{</span> <span class="na">pictures</span><span class="o">:</span> <span class="cp">{</span> <span class="nv">$exists</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span> <span class="nv">$not</span><span class="o">:</span> <span class="cp">{</span><span class="nv">$size</span><span class="o">:</span> <span class="m">0</span><span class="cp">}</span> <span class="cp">}</span> <span class="cp">}</span><span class="x">)</span>
</pre></div>

<p>MongoDB doesn't use indexes if <code>$size</code> is involved, so here is a better
solution:</p>
<div class="code"><pre class="code literal-block">ME.find({ pictures: { $exists: true, $ne: [] } })
</pre></div>

<p>If your property can have invalid values (like <code>null</code> <code>boolean</code> or others) ,
then you an add an additional check using <code>$types</code> as proposed in this answer:</p>
<p>With mongo &gt;= 3.2:</p>
<div class="code"><pre class="code literal-block">ME.find({ pictures: { $exists: true, $type: 'array', $ne: [] } })
</pre></div>

<p>With mongo &lt; 3.2:</p>
<div class="code"><pre class="code literal-block">ME.find({ pictures: { $exists: true, $type: 4, $ne: [] } })
</pre></div>

<p>Since the MongoDB 2.6 release, you can compare with the operator <code>$gt</code>, but
this could lead to unexpected results (you can find a detailed explanation in
this answer):</p>
<div class="code"><pre class="code literal-block">ME.find({ pictures: { $gt: [] } })
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>After some more looking, especially in the mongodb documents, and puzzling
bits together, this was the answer:</p>
<div class="code"><pre class="code literal-block"><span class="x">ME.find(</span><span class="cp">{</span><span class="nf">pictures</span><span class="o">:</span> <span class="cp">{</span><span class="nv">$exists</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span> <span class="nv">$not</span><span class="o">:</span> <span class="cp">{</span><span class="nv">$size</span><span class="o">:</span> <span class="m">0</span><span class="cp">}}}</span><span class="x">)</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/javascript-window-resize-event/" class="u-url">JavaScript window resize event</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/javascript-window-resize-event/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T16:55:51+08:00" itemprop="datePublished" title="2023-02-17 16:55">2023-02-17 16:55</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How can I hook into a browser window resize event?</p>
<p>There's a jQuery way of listening for resize events but I would prefer not to
bring it into my project for just this one requirement.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Best practice is to add to the resize event, rather than replace it:</p>
<div class="code"><pre class="code literal-block">window.addEventListener('resize', function(event) {
    ...
}, true);
</pre></div>

<p>An alternative is to make a single handler for the DOM event (but can only
have one), eg.</p>
<div class="code"><pre class="code literal-block">window.onresize = function(event) {
    ...
};
</pre></div>

<p>jQuery <em>may</em> do some work to ensure that the resize event gets fired
consistently in all browsers, but I'm not sure if any of the browsers differ,
but I'd encourage you to test in Firefox, Safari, and IE.</p>
<p><br></p>
<h3>Suggest</h3>
<p>First off, I know the <code>addEventListener</code> method has been mentioned in the
comments above, but I didn't see any code. Since it's the preferred approach,
here it is:</p>
<div class="code"><pre class="code literal-block"><span class="nv">window</span>.<span class="nv">addEventListener</span><span class="ss">(</span><span class="s1">'resize'</span>,<span class="w"> </span><span class="nv">function</span><span class="ss">(</span><span class="nv">event</span><span class="ss">)</span>{
<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="nv">stuff</span><span class="w"> </span><span class="nv">here</span>
}<span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p>Here's a working sample.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-825.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-823.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

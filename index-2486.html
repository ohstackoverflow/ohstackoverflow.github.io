<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2486) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2486.html">
<link rel="prev" href="index-2487.html" type="text/html">
<link rel="next" href="index-2485.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-continue-a-docker-container-which-has-exited/" class="u-url">How to continue a Docker container which has exited</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-continue-a-docker-container-which-has-exited/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T19:43:42+08:00" itemprop="datePublished" title="2023-03-04 19:43">2023-03-04 19:43</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Consider:</p>
<div class="code"><pre class="code literal-block">docker run -it centos /bin/bash
</pre></div>

<p>I pressed <code>**Ctrl**</code> +<code>**D**</code> to exit it.</p>
<p>I want to continue to run this container, but I found I can't.</p>
<p>The only method is</p>
<div class="code"><pre class="code literal-block">docker commit `docker ps -q -l` my_image
docker run -it my_image /bin/bash
</pre></div>

<p>Am I right? Is there a better method? (I'm using docker 0.8.0.)</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can restart an existing container after it exited and your changes are
still there.</p>
<div class="code"><pre class="code literal-block">docker start  `docker ps -q -l` # restart it in the background
docker attach `docker ps -q -l` # reattach the terminal &amp; stdin
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<div class="code"><pre class="code literal-block">docker start -a -i `docker ps -q -l`
</pre></div>

<p>Explanation:</p>
<p><code>docker start</code> start a container (requires name or ID)<br><code>-a</code> attach to container<br><code>-i</code> interactive mode<br><code>docker ps</code> List containers<br><code>-q</code> list only container IDs<br><code>-l</code> list only last created container  </p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-send-an-email-using-php/" class="u-url">How can I send an email using PHP?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-send-an-email-using-php/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T19:42:08+08:00" itemprop="datePublished" title="2023-03-04 19:42">2023-03-04 19:42</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am using PHP on a website and I want to add emailing functionality.</p>
<p>I have WampServer installed.</p>
<p>How do I send an email using PHP?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>It's possible using PHP's <code>mail()</code> function. Remember the mail function will
not work on a <em>local</em> server.</p>
<div class="code"><pre class="code literal-block"><span class="cp">&lt;?php</span>
    <span class="nv">$to</span>      <span class="o">=</span> <span class="s1">'nobody@example.com'</span><span class="p">;</span>
    <span class="nv">$subject</span> <span class="o">=</span> <span class="s1">'the subject'</span><span class="p">;</span>
    <span class="nv">$message</span> <span class="o">=</span> <span class="s1">'hello'</span><span class="p">;</span>
    <span class="nv">$headers</span> <span class="o">=</span> <span class="s1">'From: webmaster@example.com'</span>       <span class="o">.</span> <span class="s2">"</span><span class="se">\r\n</span><span class="s2">"</span> <span class="o">.</span>
                 <span class="s1">'Reply-To: webmaster@example.com'</span> <span class="o">.</span> <span class="s2">"</span><span class="se">\r\n</span><span class="s2">"</span> <span class="o">.</span>
                 <span class="s1">'X-Mailer: PHP/'</span> <span class="o">.</span> <span class="nb">phpversion</span><span class="p">();</span>

    <span class="nb">mail</span><span class="p">(</span><span class="nv">$to</span><span class="p">,</span> <span class="nv">$subject</span><span class="p">,</span> <span class="nv">$message</span><span class="p">,</span> <span class="nv">$headers</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</pre></div>

<p>Reference:</p>
<ul>
<li><em>mail</em></li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<p>You could also use PHPMailer class at https://github.com/PHPMailer/PHPMailer .</p>
<p>It allows you to use the mail function or use an smtp server transparently. It
also handles HTML based emails and attachments so you don't have to write your
own implementation.</p>
<p>The class is stable and it is used by many other projects like Drupal,
SugarCRM, Yii, and Joomla!</p>
<p>Here is an example from the page above:</p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;</span><span class="err">?</span><span class="n">php</span>
<span class="n">require</span><span class="w"> </span><span class="s1">'PHPMailerAutoload.php'</span><span class="p">;</span>

<span class="o">$</span><span class="n">mail</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">PHPMailer</span><span class="p">;</span>

<span class="o">$</span><span class="n">mail</span><span class="o">-&gt;</span><span class="n">isSMTP</span><span class="p">();</span><span class="w">                                      </span><span class="o">//</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">mailer</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="n">SMTP</span>
<span class="o">$</span><span class="n">mail</span><span class="o">-&gt;</span><span class="n">Host</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'smtp1.example.com;smtp2.example.com'</span><span class="p">;</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">Specify</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">backup</span><span class="w"> </span><span class="n">SMTP</span><span class="w"> </span><span class="n">servers</span>
<span class="o">$</span><span class="n">mail</span><span class="o">-&gt;</span><span class="n">SMTPAuth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">true</span><span class="p">;</span><span class="w">                               </span><span class="o">//</span><span class="w"> </span><span class="n">Enable</span><span class="w"> </span><span class="n">SMTP</span><span class="w"> </span><span class="n">authentication</span>
<span class="o">$</span><span class="n">mail</span><span class="o">-&gt;</span><span class="n">Username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'user@example.com'</span><span class="p">;</span><span class="w">                 </span><span class="o">//</span><span class="w"> </span><span class="n">SMTP</span><span class="w"> </span><span class="n">username</span>
<span class="o">$</span><span class="n">mail</span><span class="o">-&gt;</span><span class="n">Password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'secret'</span><span class="p">;</span><span class="w">                           </span><span class="o">//</span><span class="w"> </span><span class="n">SMTP</span><span class="w"> </span><span class="n">password</span>
<span class="o">$</span><span class="n">mail</span><span class="o">-&gt;</span><span class="n">SMTPSecure</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'tls'</span><span class="p">;</span><span class="w">                            </span><span class="o">//</span><span class="w"> </span><span class="n">Enable</span><span class="w"> </span><span class="n">encryption</span><span class="p">,</span><span class="w"> </span><span class="s1">'ssl'</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">accepted</span>

<span class="o">$</span><span class="n">mail</span><span class="o">-&gt;</span><span class="n">From</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'from@example.com'</span><span class="p">;</span>
<span class="o">$</span><span class="n">mail</span><span class="o">-&gt;</span><span class="n">FromName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Mailer'</span><span class="p">;</span>
<span class="o">$</span><span class="n">mail</span><span class="o">-&gt;</span><span class="n">addAddress</span><span class="p">(</span><span class="s1">'joe@example.net'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Joe User'</span><span class="p">);</span><span class="w">     </span><span class="o">//</span><span class="w"> </span><span class="n">Add</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">recipient</span>
<span class="o">$</span><span class="n">mail</span><span class="o">-&gt;</span><span class="n">addAddress</span><span class="p">(</span><span class="s1">'ellen@example.com'</span><span class="p">);</span><span class="w">               </span><span class="o">//</span><span class="w"> </span><span class="n">Name</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">optional</span>
<span class="o">$</span><span class="n">mail</span><span class="o">-&gt;</span><span class="n">addReplyTo</span><span class="p">(</span><span class="s1">'info@example.com'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Information'</span><span class="p">);</span>
<span class="o">$</span><span class="n">mail</span><span class="o">-&gt;</span><span class="n">addCC</span><span class="p">(</span><span class="s1">'cc@example.com'</span><span class="p">);</span>
<span class="o">$</span><span class="n">mail</span><span class="o">-&gt;</span><span class="n">addBCC</span><span class="p">(</span><span class="s1">'bcc@example.com'</span><span class="p">);</span>

<span class="o">$</span><span class="n">mail</span><span class="o">-&gt;</span><span class="n">WordWrap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">50</span><span class="p">;</span><span class="w">                                 </span><span class="o">//</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">word</span><span class="w"> </span><span class="n">wrap</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">50</span><span class="w"> </span><span class="n">characters</span>
<span class="o">$</span><span class="n">mail</span><span class="o">-&gt;</span><span class="n">addAttachment</span><span class="p">(</span><span class="s1">'/var/tmp/file.tar.gz'</span><span class="p">);</span><span class="w">         </span><span class="o">//</span><span class="w"> </span><span class="n">Add</span><span class="w"> </span><span class="n">attachments</span>
<span class="o">$</span><span class="n">mail</span><span class="o">-&gt;</span><span class="n">addAttachment</span><span class="p">(</span><span class="s1">'/tmp/image.jpg'</span><span class="p">,</span><span class="w"> </span><span class="s1">'new.jpg'</span><span class="p">);</span><span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Optional</span><span class="w"> </span><span class="n">name</span>
<span class="o">$</span><span class="n">mail</span><span class="o">-&gt;</span><span class="n">isHTML</span><span class="p">(</span><span class="bp">true</span><span class="p">);</span><span class="w">                                  </span><span class="o">//</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">email</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">HTML</span>

<span class="o">$</span><span class="n">mail</span><span class="o">-&gt;</span><span class="n">Subject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Here is the subject'</span><span class="p">;</span>
<span class="o">$</span><span class="n">mail</span><span class="o">-&gt;</span><span class="n">Body</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s1">'This is the HTML message body &lt;b&gt;in bold!&lt;/b&gt;'</span><span class="p">;</span>
<span class="o">$</span><span class="n">mail</span><span class="o">-&gt;</span><span class="n">AltBody</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'This is the body in plain text for non-HTML mail clients'</span><span class="p">;</span>

<span class="k">if</span><span class="p">(</span><span class="o">!$</span><span class="n">mail</span><span class="o">-&gt;</span><span class="n">send</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">echo</span><span class="w"> </span><span class="s1">'Message could not be sent.'</span><span class="p">;</span>
<span class="w">    </span><span class="n">echo</span><span class="w"> </span><span class="s1">'Mailer Error: '</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="o">$</span><span class="n">mail</span><span class="o">-&gt;</span><span class="n">ErrorInfo</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">echo</span><span class="w"> </span><span class="s1">'Message has been sent'</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-set-timer-in-android/" class="u-url">How to set timer in android?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-set-timer-in-android/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T19:40:09+08:00" itemprop="datePublished" title="2023-03-04 19:40">2023-03-04 19:40</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Can someone give a simple example of updating a textfield every second or so?</p>
<p>I want to make a flying ball and need to calculate/update the ball coordinates
every second, that's why I need some sort of a timer.</p>
<p>I don't get anything from here.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>ok since this isn't cleared up yet there are 3 simple ways to handle this.
Below is an example showing all 3 and at the bottom is an example showing just
the method I believe is preferable. Also remember to clean up your tasks in
onPause, saving state if necessary.</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">java.util.Timer</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.util.TimerTask</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">android.app.Activity</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">android.os.Bundle</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">android.os.Handler</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">android.os.Message</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">android.os.Handler.Callback</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">android.view.View</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">android.widget.Button</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">android.widget.TextView</span><span class="p">;</span>

<span class="n">public</span> <span class="k">class</span> <span class="nc">main</span> <span class="n">extends</span> <span class="n">Activity</span> <span class="p">{</span>
    <span class="n">TextView</span> <span class="n">text</span><span class="p">,</span> <span class="n">text2</span><span class="p">,</span> <span class="n">text3</span><span class="p">;</span>
    <span class="n">long</span> <span class="n">starttime</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="o">//</span><span class="n">this</span>  <span class="n">posts</span> <span class="n">a</span> <span class="n">message</span> <span class="n">to</span> <span class="n">the</span> <span class="n">main</span> <span class="n">thread</span> <span class="kn">from</span> <span class="nn">our</span> <span class="n">timertask</span>
    <span class="o">//</span><span class="ow">and</span> <span class="n">updates</span> <span class="n">the</span> <span class="n">textfield</span>
   <span class="n">final</span> <span class="n">Handler</span> <span class="n">h</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Handler</span><span class="p">(</span><span class="n">new</span> <span class="n">Callback</span><span class="p">()</span> <span class="p">{</span>

        <span class="nd">@Override</span>
        <span class="n">public</span> <span class="n">boolean</span> <span class="n">handleMessage</span><span class="p">(</span><span class="n">Message</span> <span class="n">msg</span><span class="p">)</span> <span class="p">{</span>
           <span class="n">long</span> <span class="n">millis</span> <span class="o">=</span> <span class="n">System</span><span class="o">.</span><span class="n">currentTimeMillis</span><span class="p">()</span> <span class="o">-</span> <span class="n">starttime</span><span class="p">;</span>
           <span class="nb">int</span> <span class="n">seconds</span> <span class="o">=</span> <span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="p">(</span><span class="n">millis</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">);</span>
           <span class="nb">int</span> <span class="n">minutes</span> <span class="o">=</span> <span class="n">seconds</span> <span class="o">/</span> <span class="mi">60</span><span class="p">;</span>
           <span class="n">seconds</span>     <span class="o">=</span> <span class="n">seconds</span> <span class="o">%</span> <span class="mi">60</span><span class="p">;</span>

           <span class="n">text</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">String</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">"</span><span class="si">%d</span><span class="s2">:</span><span class="si">%02d</span><span class="s2">"</span><span class="p">,</span> <span class="n">minutes</span><span class="p">,</span> <span class="n">seconds</span><span class="p">));</span>
            <span class="k">return</span> <span class="n">false</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">});</span>
   <span class="o">//</span><span class="n">runs</span> <span class="n">without</span> <span class="n">timer</span> <span class="n">be</span> <span class="n">reposting</span> <span class="bp">self</span>
   <span class="n">Handler</span> <span class="n">h2</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Handler</span><span class="p">();</span>
   <span class="n">Runnable</span> <span class="n">run</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Runnable</span><span class="p">()</span> <span class="p">{</span>

        <span class="nd">@Override</span>
        <span class="n">public</span> <span class="n">void</span> <span class="n">run</span><span class="p">()</span> <span class="p">{</span>
           <span class="n">long</span> <span class="n">millis</span> <span class="o">=</span> <span class="n">System</span><span class="o">.</span><span class="n">currentTimeMillis</span><span class="p">()</span> <span class="o">-</span> <span class="n">starttime</span><span class="p">;</span>
           <span class="nb">int</span> <span class="n">seconds</span> <span class="o">=</span> <span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="p">(</span><span class="n">millis</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">);</span>
           <span class="nb">int</span> <span class="n">minutes</span> <span class="o">=</span> <span class="n">seconds</span> <span class="o">/</span> <span class="mi">60</span><span class="p">;</span>
           <span class="n">seconds</span>     <span class="o">=</span> <span class="n">seconds</span> <span class="o">%</span> <span class="mi">60</span><span class="p">;</span>

           <span class="n">text3</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">String</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">"</span><span class="si">%d</span><span class="s2">:</span><span class="si">%02d</span><span class="s2">"</span><span class="p">,</span> <span class="n">minutes</span><span class="p">,</span> <span class="n">seconds</span><span class="p">));</span>

           <span class="n">h2</span><span class="o">.</span><span class="n">postDelayed</span><span class="p">(</span><span class="n">this</span><span class="p">,</span> <span class="mi">500</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">};</span>

   <span class="o">//</span><span class="n">tells</span> <span class="n">handler</span> <span class="n">to</span> <span class="n">send</span> <span class="n">a</span> <span class="n">message</span>
   <span class="k">class</span> <span class="nc">firstTask</span> <span class="n">extends</span> <span class="n">TimerTask</span> <span class="p">{</span>

        <span class="nd">@Override</span>
        <span class="n">public</span> <span class="n">void</span> <span class="n">run</span><span class="p">()</span> <span class="p">{</span>
            <span class="n">h</span><span class="o">.</span><span class="n">sendEmptyMessage</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
        <span class="p">}</span>
   <span class="p">};</span>

   <span class="o">//</span><span class="n">tells</span> <span class="n">activity</span> <span class="n">to</span> <span class="n">run</span> <span class="n">on</span> <span class="n">ui</span> <span class="n">thread</span>
   <span class="k">class</span> <span class="nc">secondTask</span> <span class="n">extends</span> <span class="n">TimerTask</span> <span class="p">{</span>

        <span class="nd">@Override</span>
        <span class="n">public</span> <span class="n">void</span> <span class="n">run</span><span class="p">()</span> <span class="p">{</span>
            <span class="n">main</span><span class="o">.</span><span class="n">this</span><span class="o">.</span><span class="n">runOnUiThread</span><span class="p">(</span><span class="n">new</span> <span class="n">Runnable</span><span class="p">()</span> <span class="p">{</span>

                <span class="nd">@Override</span>
                <span class="n">public</span> <span class="n">void</span> <span class="n">run</span><span class="p">()</span> <span class="p">{</span>
                   <span class="n">long</span> <span class="n">millis</span> <span class="o">=</span> <span class="n">System</span><span class="o">.</span><span class="n">currentTimeMillis</span><span class="p">()</span> <span class="o">-</span> <span class="n">starttime</span><span class="p">;</span>
                   <span class="nb">int</span> <span class="n">seconds</span> <span class="o">=</span> <span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="p">(</span><span class="n">millis</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">);</span>
                   <span class="nb">int</span> <span class="n">minutes</span> <span class="o">=</span> <span class="n">seconds</span> <span class="o">/</span> <span class="mi">60</span><span class="p">;</span>
                   <span class="n">seconds</span>     <span class="o">=</span> <span class="n">seconds</span> <span class="o">%</span> <span class="mi">60</span><span class="p">;</span>

                   <span class="n">text2</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">String</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">"</span><span class="si">%d</span><span class="s2">:</span><span class="si">%02d</span><span class="s2">"</span><span class="p">,</span> <span class="n">minutes</span><span class="p">,</span> <span class="n">seconds</span><span class="p">));</span>
                <span class="p">}</span>
            <span class="p">});</span>
        <span class="p">}</span>
   <span class="p">};</span>


   <span class="n">Timer</span> <span class="n">timer</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Timer</span><span class="p">();</span>
    <span class="nd">@Override</span>
    <span class="n">public</span> <span class="n">void</span> <span class="n">onCreate</span><span class="p">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="p">)</span> <span class="p">{</span>
        <span class="nb">super</span><span class="o">.</span><span class="n">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span>
        <span class="n">setContentView</span><span class="p">(</span><span class="n">R</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">main</span><span class="p">);</span>

        <span class="n">text</span> <span class="o">=</span> <span class="p">(</span><span class="n">TextView</span><span class="p">)</span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">text</span><span class="p">);</span>
        <span class="n">text2</span> <span class="o">=</span> <span class="p">(</span><span class="n">TextView</span><span class="p">)</span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">text2</span><span class="p">);</span>
        <span class="n">text3</span> <span class="o">=</span> <span class="p">(</span><span class="n">TextView</span><span class="p">)</span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">text3</span><span class="p">);</span>

        <span class="n">Button</span> <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="n">Button</span><span class="p">)</span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">button</span><span class="p">);</span>
        <span class="n">b</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"start"</span><span class="p">);</span>
        <span class="n">b</span><span class="o">.</span><span class="n">setOnClickListener</span><span class="p">(</span><span class="n">new</span> <span class="n">View</span><span class="o">.</span><span class="n">OnClickListener</span><span class="p">()</span> <span class="p">{</span>

            <span class="nd">@Override</span>
            <span class="n">public</span> <span class="n">void</span> <span class="n">onClick</span><span class="p">(</span><span class="n">View</span> <span class="n">v</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">Button</span> <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="n">Button</span><span class="p">)</span><span class="n">v</span><span class="p">;</span>
                <span class="k">if</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">getText</span><span class="p">()</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="s2">"stop"</span><span class="p">)){</span>
                    <span class="n">timer</span><span class="o">.</span><span class="n">cancel</span><span class="p">();</span>
                    <span class="n">timer</span><span class="o">.</span><span class="n">purge</span><span class="p">();</span>
                    <span class="n">h2</span><span class="o">.</span><span class="n">removeCallbacks</span><span class="p">(</span><span class="n">run</span><span class="p">);</span>
                    <span class="n">b</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"start"</span><span class="p">);</span>
                <span class="p">}</span><span class="k">else</span><span class="p">{</span>
                    <span class="n">starttime</span> <span class="o">=</span> <span class="n">System</span><span class="o">.</span><span class="n">currentTimeMillis</span><span class="p">();</span>
                    <span class="n">timer</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Timer</span><span class="p">();</span>
                    <span class="n">timer</span><span class="o">.</span><span class="n">schedule</span><span class="p">(</span><span class="n">new</span> <span class="n">firstTask</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span><span class="mi">500</span><span class="p">);</span>
                    <span class="n">timer</span><span class="o">.</span><span class="n">schedule</span><span class="p">(</span><span class="n">new</span> <span class="n">secondTask</span><span class="p">(),</span>  <span class="mi">0</span><span class="p">,</span><span class="mi">500</span><span class="p">);</span>
                    <span class="n">h2</span><span class="o">.</span><span class="n">postDelayed</span><span class="p">(</span><span class="n">run</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
                    <span class="n">b</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"stop"</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">}</span>

    <span class="nd">@Override</span>
    <span class="n">public</span> <span class="n">void</span> <span class="n">onPause</span><span class="p">()</span> <span class="p">{</span>
        <span class="nb">super</span><span class="o">.</span><span class="n">onPause</span><span class="p">();</span>
        <span class="n">timer</span><span class="o">.</span><span class="n">cancel</span><span class="p">();</span>
        <span class="n">timer</span><span class="o">.</span><span class="n">purge</span><span class="p">();</span>
        <span class="n">h2</span><span class="o">.</span><span class="n">removeCallbacks</span><span class="p">(</span><span class="n">run</span><span class="p">);</span>
        <span class="n">Button</span> <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="n">Button</span><span class="p">)</span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">button</span><span class="p">);</span>
        <span class="n">b</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"start"</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>the main thing to remember is that the UI can only be modified from the main
ui thread so use a handler or activity.runOnUIThread(Runnable r);</p>
<p>Here is what I consider to be the preferred method.</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">android.app.Activity</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">android.os.Bundle</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">android.os.Handler</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">android.view.View</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">android.widget.Button</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">android.widget.TextView</span><span class="p">;</span>

<span class="n">public</span> <span class="k">class</span> <span class="nc">TestActivity</span> <span class="n">extends</span> <span class="n">Activity</span> <span class="p">{</span>

    <span class="n">TextView</span> <span class="n">timerTextView</span><span class="p">;</span>
    <span class="n">long</span> <span class="n">startTime</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="o">//</span><span class="n">runs</span> <span class="n">without</span> <span class="n">a</span> <span class="n">timer</span> <span class="n">by</span> <span class="n">reposting</span> <span class="n">this</span> <span class="n">handler</span> <span class="n">at</span> <span class="n">the</span> <span class="n">end</span> <span class="n">of</span> <span class="n">the</span> <span class="n">runnable</span>
    <span class="n">Handler</span> <span class="n">timerHandler</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Handler</span><span class="p">();</span>
    <span class="n">Runnable</span> <span class="n">timerRunnable</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Runnable</span><span class="p">()</span> <span class="p">{</span>

        <span class="nd">@Override</span>
        <span class="n">public</span> <span class="n">void</span> <span class="n">run</span><span class="p">()</span> <span class="p">{</span>
            <span class="n">long</span> <span class="n">millis</span> <span class="o">=</span> <span class="n">System</span><span class="o">.</span><span class="n">currentTimeMillis</span><span class="p">()</span> <span class="o">-</span> <span class="n">startTime</span><span class="p">;</span>
            <span class="nb">int</span> <span class="n">seconds</span> <span class="o">=</span> <span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="p">(</span><span class="n">millis</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">);</span>
            <span class="nb">int</span> <span class="n">minutes</span> <span class="o">=</span> <span class="n">seconds</span> <span class="o">/</span> <span class="mi">60</span><span class="p">;</span>
            <span class="n">seconds</span> <span class="o">=</span> <span class="n">seconds</span> <span class="o">%</span> <span class="mi">60</span><span class="p">;</span>

            <span class="n">timerTextView</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">String</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">"</span><span class="si">%d</span><span class="s2">:</span><span class="si">%02d</span><span class="s2">"</span><span class="p">,</span> <span class="n">minutes</span><span class="p">,</span> <span class="n">seconds</span><span class="p">));</span>

            <span class="n">timerHandler</span><span class="o">.</span><span class="n">postDelayed</span><span class="p">(</span><span class="n">this</span><span class="p">,</span> <span class="mi">500</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">};</span>

    <span class="nd">@Override</span>
    <span class="n">public</span> <span class="n">void</span> <span class="n">onCreate</span><span class="p">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="p">)</span> <span class="p">{</span>
        <span class="nb">super</span><span class="o">.</span><span class="n">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span>
        <span class="n">setContentView</span><span class="p">(</span><span class="n">R</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">test_activity</span><span class="p">);</span>

        <span class="n">timerTextView</span> <span class="o">=</span> <span class="p">(</span><span class="n">TextView</span><span class="p">)</span> <span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">timerTextView</span><span class="p">);</span>

        <span class="n">Button</span> <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="n">Button</span><span class="p">)</span> <span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">button</span><span class="p">);</span>
        <span class="n">b</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"start"</span><span class="p">);</span>
        <span class="n">b</span><span class="o">.</span><span class="n">setOnClickListener</span><span class="p">(</span><span class="n">new</span> <span class="n">View</span><span class="o">.</span><span class="n">OnClickListener</span><span class="p">()</span> <span class="p">{</span>

            <span class="nd">@Override</span>
            <span class="n">public</span> <span class="n">void</span> <span class="n">onClick</span><span class="p">(</span><span class="n">View</span> <span class="n">v</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">Button</span> <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="n">Button</span><span class="p">)</span> <span class="n">v</span><span class="p">;</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">getText</span><span class="p">()</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="s2">"stop"</span><span class="p">))</span> <span class="p">{</span>
                    <span class="n">timerHandler</span><span class="o">.</span><span class="n">removeCallbacks</span><span class="p">(</span><span class="n">timerRunnable</span><span class="p">);</span>
                    <span class="n">b</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"start"</span><span class="p">);</span>
                <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                    <span class="n">startTime</span> <span class="o">=</span> <span class="n">System</span><span class="o">.</span><span class="n">currentTimeMillis</span><span class="p">();</span>
                    <span class="n">timerHandler</span><span class="o">.</span><span class="n">postDelayed</span><span class="p">(</span><span class="n">timerRunnable</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
                    <span class="n">b</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"stop"</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">}</span>

  <span class="nd">@Override</span>
    <span class="n">public</span> <span class="n">void</span> <span class="n">onPause</span><span class="p">()</span> <span class="p">{</span>
        <span class="nb">super</span><span class="o">.</span><span class="n">onPause</span><span class="p">();</span>
        <span class="n">timerHandler</span><span class="o">.</span><span class="n">removeCallbacks</span><span class="p">(</span><span class="n">timerRunnable</span><span class="p">);</span>
        <span class="n">Button</span> <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="n">Button</span><span class="p">)</span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">button</span><span class="p">);</span>
        <span class="n">b</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"start"</span><span class="p">);</span>
    <span class="p">}</span>

<span class="p">}</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>It is simple! You create new timer.</p>
<div class="code"><pre class="code literal-block">Timer timer = new Timer();
</pre></div>

<p>Then you extend the timer task</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span><span class="w"> </span><span class="n">UpdateBallTask</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="n">TimerTask</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="n">Ball</span><span class="w"> </span><span class="n">myBall</span><span class="p">;</span>

<span class="w">   </span><span class="n">public</span><span class="w"> </span><span class="nb nb-Type">void</span><span class="w"> </span><span class="n">run</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">       </span><span class="o">//</span><span class="n">calculate</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">position</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">myBall</span>
<span class="w">   </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>And then add the new task to the Timer with some update interval</p>
<div class="code"><pre class="code literal-block">final int FPS = 40;
TimerTask updateBall = new UpdateBallTask();
timer.scheduleAtFixedRate(updateBall, 0, 1000/FPS);
</pre></div>

<p><em>Disclaimer: This is not the ideal solution. This is solution using the Timer
class (as asked by OP). In Android SDK, it is recommended to use the Handler
class (there is example in the accepted answer).</em></p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2487.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2485.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

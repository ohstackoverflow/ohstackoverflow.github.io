<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1268) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1268.html">
<link rel="prev" href="index-1269.html" type="text/html">
<link rel="next" href="index-1267.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-the-purpose-of-the-html-no-js-class/" class="u-url">What is the purpose of the HTML "no-js" class?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-the-purpose-of-the-html-no-js-class/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T05:18:23+08:00" itemprop="datePublished" title="2023-02-18 05:18">2023-02-18 05:18</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I notice that in a lot of template engines, in the HTML5 Boilerplate, in
various frameworks and in plain php sites there is the <code>no-js</code> class added
onto the <code>&lt;HTML&gt;</code> tag.</p>
<p>Why is this done? Is there some sort of default browser behavior that reacts
to this class? Why include it always? Does that not render the class itself
obsolete, if there is no no-"no-js" case and html can be addressed directly?</p>
<p>Here is an example from the HTML5 Boilerplate index.html:</p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;</span><span class="err">!</span><span class="o">--[</span><span class="n">if lt IE 7 </span><span class="o">]&gt;</span><span class="w"> </span><span class="o">&lt;</span><span class="n">html</span><span class="w"> </span><span class="n">lang</span><span class="o">=</span><span class="ss">"en"</span><span class="w"> </span><span class="k">class</span><span class="o">=</span><span class="ss">"no-js ie6"</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&lt;</span><span class="err">!</span><span class="o">[</span><span class="n">endif</span><span class="o">]--&gt;</span>
<span class="o">&lt;</span><span class="err">!</span><span class="o">--[</span><span class="n">if IE 7 </span><span class="o">]&gt;</span><span class="w">    </span><span class="o">&lt;</span><span class="n">html</span><span class="w"> </span><span class="n">lang</span><span class="o">=</span><span class="ss">"en"</span><span class="w"> </span><span class="k">class</span><span class="o">=</span><span class="ss">"no-js ie7"</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&lt;</span><span class="err">!</span><span class="o">[</span><span class="n">endif</span><span class="o">]--&gt;</span>
<span class="o">&lt;</span><span class="err">!</span><span class="o">--[</span><span class="n">if IE 8 </span><span class="o">]&gt;</span><span class="w">    </span><span class="o">&lt;</span><span class="n">html</span><span class="w"> </span><span class="n">lang</span><span class="o">=</span><span class="ss">"en"</span><span class="w"> </span><span class="k">class</span><span class="o">=</span><span class="ss">"no-js ie8"</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&lt;</span><span class="err">!</span><span class="o">[</span><span class="n">endif</span><span class="o">]--&gt;</span>
<span class="o">&lt;</span><span class="err">!</span><span class="o">--[</span><span class="n">if IE 9 </span><span class="o">]&gt;</span><span class="w">    </span><span class="o">&lt;</span><span class="n">html</span><span class="w"> </span><span class="n">lang</span><span class="o">=</span><span class="ss">"en"</span><span class="w"> </span><span class="k">class</span><span class="o">=</span><span class="ss">"no-js ie9"</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&lt;</span><span class="err">!</span><span class="o">[</span><span class="n">endif</span><span class="o">]--&gt;</span>
<span class="o">&lt;</span><span class="err">!</span><span class="c1">--[if (gt IE 9)|!(IE)]&gt;&lt;!--&gt; &lt;html lang="en" class="no-js"&gt; &lt;!--&lt;![endif]--&gt;</span>
</pre></div>

<p>As you can see, the <code>&lt;html&gt;</code> element will always have this class. Can someone
explain why this is done so often?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>When Modernizr runs, it removes the "no-js" class and replaces it with "js".
This is a way to apply different CSS rules depending on whether or not
Javascript support is enabled.</p>
<p>See Modernizer's source code.</p>
<p><br></p>
<h3>Suggest</h3>
<p>The <code>no-js</code> class is used by the Modernizr feature detection library. When
Modernizr loads, it replaces <code>no-js</code> with <code>js</code>. If JavaScript is disabled, the
class remains. This allows you to write CSS which easily targets either
condition.</p>
<p>From Modernizrs' Anotated Source <em>(no longer maintained)</em> :</p>
<blockquote>
<p><em>Remove "no-js" class from element, if it exists:</em>
<code>docElement.className=docElement.className.replace(/\bno-js\b/,'') + ' js';</code></p>
</blockquote>
<p>Here is a blog post by Paul Irish describing this approach:
http://www.paulirish.com/2009/avoiding-the-fouc-v3/</p>
<hr>
<p>I like to do this same thing, but without Modernizr. I put the following
<code>&lt;script&gt;</code> in the <code>&lt;head&gt;</code> to change the class to <code>js</code> if JavaScript is
enabled. I prefer to use <code>.replace("no-js","js")</code> over the regex version
because its a bit less cryptic and suits my needs.</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;script&gt;</span>
<span class="w">    </span>document.documentElement.className<span class="w"> </span>=<span class="w"> </span>
<span class="w">       </span>document.documentElement.className.replace("no-js","js");
<span class="nt">&lt;/script&gt;</span>
</pre></div>

<p>Prior to this technique, I would generally just apply js-dependant styles
directly with JavaScript. For example:</p>
<div class="code"><pre class="code literal-block">$('#someSelector').hide();
$('.otherStuff').css({'color' : 'blue'});
</pre></div>

<p>With the <code>no-js</code> trick, this can Now be done with <code>css</code>:</p>
<div class="code"><pre class="code literal-block">.<span class="k">js</span> <span class="s">#someSelector</span> <span class="s">{display:</span> <span class="s">none;}</span>
.<span class="k">otherStuff</span> <span class="s">{</span> <span class="s">color:</span> <span class="s">blue;</span> <span class="s">}</span>
.<span class="k">no</span><span class="s">-js</span> <span class="s">.otherStuff</span> <span class="s">{</span> <span class="s">color:</span> <span class="s">green</span> <span class="s">}</span>
</pre></div>

<p>This is preferable because:</p>
<ul>
<li>It loads faster with no FOUC (flash of unstyled content)</li>
<li>Separation of concerns, etc...</li>
</ul>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/return-return-none-and-no-return-at-all/" class="u-url">return, return None, and no return at all?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/return-return-none-and-no-return-at-all/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T05:17:58+08:00" itemprop="datePublished" title="2023-02-18 05:17">2023-02-18 05:17</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Consider these three functions:</p>
<div class="code"><pre class="code literal-block"><span class="nv">def</span><span class="w"> </span><span class="nv">my_func1</span><span class="ss">()</span>:
<span class="w">  </span><span class="nv">print</span><span class="w"> </span><span class="s2">"Hello World"</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nv">None</span>

<span class="nv">def</span><span class="w"> </span><span class="nv">my_func2</span><span class="ss">()</span>:
<span class="w">  </span><span class="nv">print</span><span class="w"> </span><span class="s2">"Hello World"</span>
<span class="w">  </span><span class="k">return</span>

<span class="nv">def</span><span class="w"> </span><span class="nv">my_func3</span><span class="ss">()</span>:
<span class="w">  </span><span class="nv">print</span><span class="w"> </span><span class="s2">"Hello World"</span>
</pre></div>

<p>They all appear to return <code>None</code>. Are there any differences between how the
returned value of these functions behave? Are there any reasons to prefer one
versus the other?</p>
<hr>
<p>See also: is it possible to not return anything from a function in python?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>On the actual behavior, there is no difference. They all return <code>None</code> and
that's it. However, there is a time and place for all of these. The following
instructions are basically how the different methods should be used (or at
least how I was taught they should be used), but they are not absolute rules
so you can mix them up if you feel necessary to.</p>
<h3>Using <code>return None</code>
</h3>
<p>This tells that the function is indeed meant to return a value for later use,
and in this case it returns <code>None</code>. This value <code>None</code> can then be used
elsewhere. <code>return None</code> is never used if there are no other possible return
values from the function.</p>
<p>In the following example, we return <code>person</code>'s <code>mother</code> if the <code>person</code> given
is a human. If it's not a human, we return <code>None</code> since the <code>person</code> doesn't
have a <code>mother</code> (let's suppose it's not an animal or something).</p>
<div class="code"><pre class="code literal-block"><span class="nv">def</span><span class="w"> </span><span class="nv">get_mother</span><span class="ss">(</span><span class="nv">person</span><span class="ss">)</span>:
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nv">is_human</span><span class="ss">(</span><span class="nv">person</span><span class="ss">)</span>:
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nv">person</span>.<span class="nv">mother</span>
<span class="w">    </span><span class="k">else</span>:
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nv">None</span>
</pre></div>

<h3>Using <code>return</code>
</h3>
<p>This is used for the same reason as <code>break</code> in loops. The return value doesn't
matter and you only want to exit the whole function. It's extremely useful in
some places, even though you don't need it that often.</p>
<p>We've got 15 <code>prisoners</code> and we know one of them has a knife. We loop through
each <code>prisoner</code> one by one to check if they have a knife. If we hit the person
with a knife, we can just exit the function because we know there's only one
knife and no reason the check rest of the <code>prisoners</code>. If we don't find the
<code>prisoner</code> with a knife, we raise an alert. This could be done in many
different ways and using <code>return</code> is probably not even the best way, but it's
just an example to show how to use <code>return</code> for exiting a function.</p>
<div class="code"><pre class="code literal-block"><span class="nv">def</span><span class="w"> </span><span class="nv">find_prisoner_with_knife</span><span class="ss">(</span><span class="nv">prisoners</span><span class="ss">)</span>:
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="nv">prisoner</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">prisoners</span>:
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="s2">"knife"</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">prisoner</span>.<span class="nv">items</span>:
<span class="w">            </span><span class="nv">prisoner</span>.<span class="nv">move_to_inquisition</span><span class="ss">()</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span>#<span class="w"> </span><span class="nv">no</span><span class="w"> </span><span class="nv">need</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">check</span><span class="w"> </span><span class="nv">rest</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">prisoners</span><span class="w"> </span><span class="nv">nor</span><span class="w"> </span><span class="nv">raise</span><span class="w"> </span><span class="nv">an</span><span class="w"> </span><span class="nv">alert</span>
<span class="w">    </span><span class="nv">raise_alert</span><span class="ss">()</span>
</pre></div>

<p>Note: You should never do <code>var = find_prisoner_with_knife()</code>, since the return
value is not meant to be caught.</p>
<h3>Using no <code>return</code> at all</h3>
<p>This will also return <code>None</code>, but that value is not meant to be used or
caught. It simply means that the function ended successfully. It's basically
the same as <code>return</code> in <code>void</code> functions in languages such as C++ or Java.</p>
<p>In the following example, we set person's mother's name and then the function
exits after completing successfully.</p>
<div class="code"><pre class="code literal-block"><span class="nv">def</span><span class="w"> </span><span class="nv">set_mother</span><span class="ss">(</span><span class="nv">person</span>,<span class="w"> </span><span class="nv">mother</span><span class="ss">)</span>:
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nv">is_human</span><span class="ss">(</span><span class="nv">person</span><span class="ss">)</span>:
<span class="w">        </span><span class="nv">person</span>.<span class="nv">mother</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">mother</span>
</pre></div>

<p>Note: You should never do <code>var = set_mother(my_person, my_mother)</code>, since the
return value is not meant to be caught.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Yes, they are all the same.</p>
<p>We can review the interpreted machine code to confirm that that they're all
doing the exact same thing.</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">dis</span>

<span class="k">def</span> <span class="nf">f1</span><span class="p">():</span>
  <span class="nb">print</span> <span class="s2">"Hello World"</span>
  <span class="k">return</span> <span class="kc">None</span>

<span class="k">def</span> <span class="nf">f2</span><span class="p">():</span>
  <span class="nb">print</span> <span class="s2">"Hello World"</span>
  <span class="k">return</span>

<span class="k">def</span> <span class="nf">f3</span><span class="p">():</span>
  <span class="nb">print</span> <span class="s2">"Hello World"</span>

<span class="n">dis</span><span class="o">.</span><span class="n">dis</span><span class="p">(</span><span class="n">f1</span><span class="p">)</span>
    <span class="mi">4</span>   <span class="mi">0</span> <span class="n">LOAD_CONST</span>    <span class="mi">1</span> <span class="p">(</span><span class="s1">'Hello World'</span><span class="p">)</span>
        <span class="mi">3</span> <span class="n">PRINT_ITEM</span>
        <span class="mi">4</span> <span class="n">PRINT_NEWLINE</span>

    <span class="mi">5</span>   <span class="mi">5</span> <span class="n">LOAD_CONST</span>    <span class="mi">0</span> <span class="p">(</span><span class="kc">None</span><span class="p">)</span>
        <span class="mi">8</span> <span class="n">RETURN_VALUE</span>

<span class="n">dis</span><span class="o">.</span><span class="n">dis</span><span class="p">(</span><span class="n">f2</span><span class="p">)</span>
    <span class="mi">9</span>   <span class="mi">0</span> <span class="n">LOAD_CONST</span>    <span class="mi">1</span> <span class="p">(</span><span class="s1">'Hello World'</span><span class="p">)</span>
        <span class="mi">3</span> <span class="n">PRINT_ITEM</span>
        <span class="mi">4</span> <span class="n">PRINT_NEWLINE</span>

    <span class="mi">10</span>  <span class="mi">5</span> <span class="n">LOAD_CONST</span>    <span class="mi">0</span> <span class="p">(</span><span class="kc">None</span><span class="p">)</span>
        <span class="mi">8</span> <span class="n">RETURN_VALUE</span>

<span class="n">dis</span><span class="o">.</span><span class="n">dis</span><span class="p">(</span><span class="n">f3</span><span class="p">)</span>
    <span class="mi">14</span>  <span class="mi">0</span> <span class="n">LOAD_CONST</span>    <span class="mi">1</span> <span class="p">(</span><span class="s1">'Hello World'</span><span class="p">)</span>
        <span class="mi">3</span> <span class="n">PRINT_ITEM</span>
        <span class="mi">4</span> <span class="n">PRINT_NEWLINE</span>            
        <span class="mi">5</span> <span class="n">LOAD_CONST</span>    <span class="mi">0</span> <span class="p">(</span><span class="kc">None</span><span class="p">)</span>
        <span class="mi">8</span> <span class="n">RETURN_VALUE</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-programmatically-take-a-screenshot-on-android/" class="u-url">How to programmatically take a screenshot on Android?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-programmatically-take-a-screenshot-on-android/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T05:17:25+08:00" itemprop="datePublished" title="2023-02-18 05:17">2023-02-18 05:17</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How can I take a screenshot of a selected area of phone-screen not by any
program but from code?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Here is the code that allowed my screenshot to be stored on an SD card and
used later for whatever your needs are:</p>
<p>First, you need to add a proper permission to save the file:</p>
<div class="code"><pre class="code literal-block">&lt;uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/&gt;
</pre></div>

<p>And this is the code (running in an Activity):</p>
<div class="code"><pre class="code literal-block"><span class="nt">private</span><span class="w"> </span><span class="nt">void</span><span class="w"> </span><span class="nt">takeScreenshot</span><span class="o">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">Date</span><span class="w"> </span><span class="err">now</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">new</span><span class="w"> </span><span class="err">Date()</span><span class="p">;</span>
<span class="w">    </span><span class="err">android.text.format.DateFormat.format("</span><span class="n">yyyy-MM-dd_hh</span><span class="p">:</span><span class="n">mm</span><span class="o">:</span><span class="n">ss</span><span class="s2">", now);</span>

<span class="s2">    try {</span>
<span class="s2">        // image naming and path  to include sd card  appending name you choose for file</span>
<span class="s2">        String mPath = Environment.getExternalStorageDirectory().toString() + "</span><span class="o">/</span><span class="s2">" + now + "</span><span class="o">.</span><span class="n">jpg</span><span class="err">"</span><span class="p">;</span>

<span class="w">        </span><span class="err">//</span><span class="w"> </span><span class="err">create</span><span class="w"> </span><span class="err">bitmap</span><span class="w"> </span><span class="err">screen</span><span class="w"> </span><span class="err">capture</span>
<span class="w">        </span><span class="err">View</span><span class="w"> </span><span class="err">v1</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">getWindow().getDecorView().getRootView()</span><span class="p">;</span>
<span class="w">        </span><span class="err">v1.setDrawingCacheEnabled(true)</span><span class="p">;</span>
<span class="w">        </span><span class="err">Bitmap</span><span class="w"> </span><span class="err">bitmap</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">Bitmap.createBitmap(v1.getDrawingCache())</span><span class="p">;</span>
<span class="w">        </span><span class="err">v1.setDrawingCacheEnabled(false)</span><span class="p">;</span>

<span class="w">        </span><span class="err">File</span><span class="w"> </span><span class="err">imageFile</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">new</span><span class="w"> </span><span class="err">File(mPath)</span><span class="p">;</span>

<span class="w">        </span><span class="err">FileOutputStream</span><span class="w"> </span><span class="err">outputStream</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">new</span><span class="w"> </span><span class="err">FileOutputStream(imageFile)</span><span class="p">;</span>
<span class="w">        </span><span class="err">int</span><span class="w"> </span><span class="err">quality</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">100</span><span class="p">;</span>
<span class="w">        </span><span class="err">bitmap.compress(Bitmap.CompressFormat.JPEG,</span><span class="w"> </span><span class="err">quality,</span><span class="w"> </span><span class="err">outputStream)</span><span class="p">;</span>
<span class="w">        </span><span class="err">outputStream.flush()</span><span class="p">;</span>
<span class="w">        </span><span class="err">outputStream.close()</span><span class="p">;</span>

<span class="w">        </span><span class="err">openScreenshot(imageFile)</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="nt">catch</span><span class="w"> </span><span class="o">(</span><span class="nt">Throwable</span><span class="w"> </span><span class="nt">e</span><span class="o">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="err">//</span><span class="w"> </span><span class="err">Several</span><span class="w"> </span><span class="err">error</span><span class="w"> </span><span class="err">may</span><span class="w"> </span><span class="err">come</span><span class="w"> </span><span class="err">out</span><span class="w"> </span><span class="err">with</span><span class="w"> </span><span class="err">file</span><span class="w"> </span><span class="err">handling</span><span class="w"> </span><span class="err">or</span><span class="w"> </span><span class="err">DOM</span>
<span class="w">        </span><span class="err">e.printStackTrace()</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="err">}</span>
</pre></div>

<p>And this is how you can open the recently generated image:</p>
<div class="code"><pre class="code literal-block">private void openScreenshot(File imageFile) {
    Intent intent = new Intent();
    intent.setAction(Intent.ACTION_VIEW);
    Uri uri = Uri.fromFile(imageFile);
    intent.setDataAndType(uri, "image/*");
    startActivity(intent);
}
</pre></div>

<p>If you want to use this on fragment view then use:</p>
<div class="code"><pre class="code literal-block">View v1 = getActivity().getWindow().getDecorView().getRootView();
</pre></div>

<p>instead of</p>
<div class="code"><pre class="code literal-block">View v1 = getWindow().getDecorView().getRootView();
</pre></div>

<p>on <strong>takeScreenshot()</strong> function</p>
<p><strong>Note</strong> :</p>
<p>This solution doesn't work if your dialog contains a surface view. For details
please check the answer to the following question:</p>
<p>Android Take Screenshot of Surface View Shows Black Screen</p>
<p><br></p>
<h3>Suggest</h3>
<p>Call this method, passing in the outer most ViewGroup that you want a screen
shot of:</p>
<div class="code"><pre class="code literal-block"><span class="nv">public</span><span class="w"> </span><span class="nv">Bitmap</span><span class="w"> </span><span class="nv">screenShot</span><span class="ss">(</span><span class="nv">View</span><span class="w"> </span><span class="nv">view</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="nv">Bitmap</span><span class="w"> </span><span class="nv">bitmap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Bitmap</span>.<span class="nv">createBitmap</span><span class="ss">(</span><span class="nv">view</span>.<span class="nv">getWidth</span><span class="ss">()</span>,
<span class="w">            </span><span class="nv">view</span>.<span class="nv">getHeight</span><span class="ss">()</span>,<span class="w"> </span><span class="nv">Config</span>.<span class="nv">ARGB_8888</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span><span class="nv">Canvas</span><span class="w"> </span><span class="nv">canvas</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">Canvas</span><span class="ss">(</span><span class="nv">bitmap</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span><span class="nv">view</span>.<span class="nv">draw</span><span class="ss">(</span><span class="nv">canvas</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">bitmap</span><span class="c1">;</span>
}
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1269.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1267.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

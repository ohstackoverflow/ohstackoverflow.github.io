<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1928) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1928.html">
<link rel="prev" href="index-1929.html" type="text/html">
<link rel="next" href="index-1927.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/can-i-find-out-the-return-value-before-returning-while-debugging-in-visual-studio/" class="u-url">Can I find out the return value before returning while debugging in Visual Studio?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/can-i-find-out-the-return-value-before-returning-while-debugging-in-visual-studio/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T12:45:15+08:00" itemprop="datePublished" title="2023-03-03 12:45">2023-03-03 12:45</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Take the following function:</p>
<div class="code"><pre class="code literal-block"><span class="n">DataTable</span><span class="w"> </span><span class="k">go</span><span class="p">()</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">someTableAdapter</span><span class="p">.</span><span class="n">getSomeData</span><span class="p">();</span>
<span class="err">}</span>
</pre></div>

<p>When I set a breakpoint in this function, is there a possibility to inspect
the returned value? <code>go()</code> is directly coupled to a datagrid in an <code>.aspx</code>
page.</p>
<p>The only way to inspect the returned datatable is to use a temporary variable.
However, that's a bit inconvenient. Isn't there another way?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Not that I know of. Note that if you <em>do</em> add a variable, it will get removed
by the compiler in release builds anyway...</p>
<p><strong>Update:</strong> This functionality has been added to VS2013. You can see the
return values in the autos windows or use <code>$ReturnValue</code> in the
watch/immediate window.</p>
<p>The value can only be seen directly after returning from the function, thus
the easiest way to access it is by putting a breakpoint on the function call
and step over (F10) the call.</p>
<hr>
<p>Update for VS2015: boo! unfortunately, it doesn't appear to be in VS2015
(devenv v14)<br>
Update for VS2017: it's back. (devenv v15)</p>
<p><br></p>
<h3>Suggest</h3>
<p>This can be done in Visual Studio 2013 with CLR 4.5.1 according to the
customer feedback site. It was not available in previous versions for C#.</p>
<p>(Visual Studio 2008 and earlier supported it for VB.NET. It has always been
available to C/C++ developers.)</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/java-int-to-string-integer-tostring-i-vs-new-integer-i-tostring/" class="u-url">Java int to String - Integer.toString(i) vs new Integer(i).toString()</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/java-int-to-string-integer-tostring-i-vs-new-integer-i-tostring/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T12:44:46+08:00" itemprop="datePublished" title="2023-03-03 12:44">2023-03-03 12:44</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Sometimes java puzzles me.<br>
I have a huge amount of <em>int</em> initializations to make.</p>
<p>What's the <em>real</em> difference?</p>
<ol>
<li><code>Integer.toString(i)</code></li>
<li><code>new Integer(i).toString()</code></li>
</ol>
<p><br><br></p>
<h2>Answer</h2>
<p><code>Integer.toString</code> calls the static method in the class <code>Integer</code>. It does not
need an instance of <code>Integer</code>.</p>
<p>If you call <code>new Integer(i)</code> you create an instance of type <code>Integer</code>, which
is a full Java object encapsulating the value of your int. Then you call the
<code>toString</code> method on it to ask it to return a string representation of
<em>itself</em>.</p>
<p>If all you want is to print an <code>int</code>, you'd use the first one because it's
lighter, faster and doesn't use extra memory (aside from the returned string).</p>
<p>If you want an object representing an integer value—to put it inside a
collection for example—you'd use the second one, since it gives you a full-
fledged object to do all sort of things that you cannot do with a bare <code>int</code>.</p>
<p><br></p>
<h3>Suggest</h3>
<p><code>new Integer(i).toString()</code> first creates a (redundant) wrapper object around
<code>i</code> (which itself may be a wrapper object <code>Integer</code>).</p>
<p><code>Integer.toString(i)</code> is preferred because it doesn't create any unnecessary
objects.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-std-promise/" class="u-url">What is std::promise?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-std-promise/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T12:44:22+08:00" itemprop="datePublished" title="2023-03-03 12:44">2023-03-03 12:44</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm fairly familiar with C++11's <code>std::thread</code>, <code>std::async</code> and <code>std::future</code>
components (e.g. see this answer), which are straight-forward.</p>
<p>However, I cannot quite grasp what <code>std::promise</code> is, what it does and in
which situations it is best used. The standard document itself doesn't contain
a whole lot of information beyond its class synopsis, and neither does
std::thread.</p>
<p>Could someone please give a brief, succinct example of a situation where an
<code>std::promise</code> is needed and where it is the most idiomatic solution?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>In the words of [futures.state] a <code>std::future</code> is an <em>asynchronous return
object</em> ("an object that reads results from a shared state") and a
<code>std::promise</code> is an <em>asynchronous provider</em> ("an object that provides a
result to a shared state") i.e. a promise is the thing that you <em>set</em> a result
on, so that you can <em>get</em> it from the associated future.</p>
<p>The asynchronous provider is what initially creates the shared state that a
future refers to. <code>std::promise</code> is one type of asynchronous provider,
<code>std::packaged_task</code> is another, and the internal detail of <code>std::async</code> is
another. Each of those can create a shared state and give you a <code>std::future</code>
that shares that state, and can make the state ready.</p>
<p><code>std::async</code> is a higher-level convenience utility that gives you an
asynchronous result object and internally takes care of creating the
asynchronous provider and making the shared state ready when the task
completes. You could emulate it with a <code>std::packaged_task</code> (or <code>std::bind</code>
and a <code>std::promise</code>) and a <code>std::thread</code> but it's safer and easier to use
<code>std::async</code>.</p>
<p><code>std::promise</code> is a bit lower-level, for when you want to pass an asynchronous
result to the future, but the code that makes the result ready cannot be
wrapped up in a single function suitable for passing to <code>std::async</code>. For
example, you might have an array of several <code>promise</code>s and associated
<code>future</code>s and have a single thread which does several calculations and sets a
result on each promise. <code>async</code> would only allow you to return a single
result, to return several you would need to call <code>async</code> several times, which
might waste resources.</p>
<p><br></p>
<h3>Suggest</h3>
<p>In the words of [futures.state] a <code>std::future</code> is an <em>asynchronous return
object</em> ("an object that reads results from a shared state") and a
<code>std::promise</code> is an <em>asynchronous provider</em> ("an object that provides a
result to a shared state") i.e. a promise is the thing that you <em>set</em> a result
on, so that you can <em>get</em> it from the associated future.</p>
<p>The asynchronous provider is what initially creates the shared state that a
future refers to. <code>std::promise</code> is one type of asynchronous provider,
<code>std::packaged_task</code> is another, and the internal detail of <code>std::async</code> is
another. Each of those can create a shared state and give you a <code>std::future</code>
that shares that state, and can make the state ready.</p>
<p><code>std::async</code> is a higher-level convenience utility that gives you an
asynchronous result object and internally takes care of creating the
asynchronous provider and making the shared state ready when the task
completes. You could emulate it with a <code>std::packaged_task</code> (or <code>std::bind</code>
and a <code>std::promise</code>) and a <code>std::thread</code> but it's safer and easier to use
<code>std::async</code>.</p>
<p><code>std::promise</code> is a bit lower-level, for when you want to pass an asynchronous
result to the future, but the code that makes the result ready cannot be
wrapped up in a single function suitable for passing to <code>std::async</code>. For
example, you might have an array of several <code>promise</code>s and associated
<code>future</code>s and have a single thread which does several calculations and sets a
result on each promise. <code>async</code> would only allow you to return a single
result, to return several you would need to call <code>async</code> several times, which
might waste resources.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1929.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1927.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

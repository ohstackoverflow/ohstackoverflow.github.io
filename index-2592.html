<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2592) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2592.html">
<link rel="prev" href="index-2593.html" type="text/html">
<link rel="next" href="index-2591.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/nested-using-statements-in-c/" class="u-url">Nested using statements in C#</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/nested-using-statements-in-c/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T03:23:57+08:00" itemprop="datePublished" title="2023-03-05 03:23">2023-03-05 03:23</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am working on a project. I have to compare the contents of two files and see
if they match each other precisely.</p>
<p>Before a lot of error-checking and validation, my first draft is:</p>
<div class="code"><pre class="code literal-block"><span class="w">  </span><span class="nv">DirectoryInfo</span><span class="w"> </span><span class="nv">di</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">DirectoryInfo</span><span class="ss">(</span><span class="nv">Environment</span>.<span class="nv">CurrentDirectory</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">"\\TestArea\\"</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">  </span><span class="nv">FileInfo</span>[]<span class="w"> </span><span class="nv">files</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">di</span>.<span class="nv">GetFiles</span><span class="ss">(</span><span class="nv">filename</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">".*"</span><span class="ss">)</span><span class="c1">;</span>

<span class="w">  </span><span class="nv">FileInfo</span><span class="w"> </span><span class="nv">outputFile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">files</span>.<span class="nv">Where</span><span class="ss">(</span><span class="nv">f</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nv">f</span>.<span class="nv">Extension</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">".out"</span><span class="ss">)</span>.<span class="nv">Single</span><span class="o">&lt;</span><span class="nv">FileInfo</span><span class="o">&gt;</span><span class="ss">()</span><span class="c1">;</span>
<span class="w">  </span><span class="nv">FileInfo</span><span class="w"> </span><span class="nv">expectedFile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">files</span>.<span class="nv">Where</span><span class="ss">(</span><span class="nv">f</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nv">f</span>.<span class="nv">Extension</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">".exp"</span><span class="ss">)</span>.<span class="nv">Single</span><span class="w"> </span><span class="o">&lt;</span><span class="nv">FileInfo</span><span class="o">&gt;</span><span class="ss">()</span><span class="c1">;</span>

<span class="w">  </span><span class="nv">using</span><span class="w"> </span><span class="ss">(</span><span class="nv">StreamReader</span><span class="w"> </span><span class="nv">outFile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">StreamReader</span><span class="ss">(</span><span class="nv">outputFile</span>.<span class="nv">OpenRead</span><span class="ss">()))</span>
<span class="w">  </span>{
<span class="w">    </span><span class="nv">using</span><span class="w"> </span><span class="ss">(</span><span class="nv">StreamReader</span><span class="w"> </span><span class="nv">expFile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">StreamReader</span><span class="ss">(</span><span class="nv">expectedFile</span>.<span class="nv">OpenRead</span><span class="ss">()))</span>
<span class="w">    </span>{
<span class="w">      </span><span class="k">while</span><span class="w"> </span><span class="ss">(</span><span class="o">!</span><span class="ss">(</span><span class="nv">outFile</span>.<span class="nv">EndOfStream</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nv">expFile</span>.<span class="nv">EndOfStream</span><span class="ss">))</span>
<span class="w">      </span>{
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">outFile</span>.<span class="nv">ReadLine</span><span class="ss">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nv">expFile</span>.<span class="nv">ReadLine</span><span class="ss">())</span>
<span class="w">        </span>{
<span class="w">          </span><span class="k">return</span><span class="w"> </span><span class="nv">false</span><span class="c1">;</span>
<span class="w">        </span>}
<span class="w">      </span>}
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="ss">(</span><span class="nv">outFile</span>.<span class="nv">EndOfStream</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nv">expFile</span>.<span class="nv">EndOfStream</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span>}
<span class="w">  </span>}
</pre></div>

<p>It seems a little odd to have nested <code>using</code> statements.</p>
<p>Is there a better way to do this?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The preferred way to do this is to only put an opening brace <code>{</code> after the
last <code>using</code> statement, like this:</p>
<div class="code"><pre class="code literal-block">using (StreamReader outFile = new StreamReader(outputFile.OpenRead()))
using (StreamReader expFile = new StreamReader(expectedFile.OpenRead())) 
{
    ///...
}
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>If the objects are of the <strong>same type</strong> you can do the following</p>
<div class="code"><pre class="code literal-block">using (StreamReader outFile = new StreamReader(outputFile.OpenRead()), 
                    expFile = new StreamReader(expectedFile.OpenRead()))
{
    // ...
}
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/php-check-if-two-arrays-are-equal/" class="u-url">PHP - Check if two arrays are equal</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/php-check-if-two-arrays-are-equal/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T03:22:28+08:00" itemprop="datePublished" title="2023-03-05 03:22">2023-03-05 03:22</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'd like to check if two arrays are equal. I mean: same size, same index, same
values. How can I do that?</p>
<p>Using <code>!==</code> as suggested by a user, I expect that the following would print
<strong>enter</strong> if at least one element in the array(s) are different, but in fact
it does not.</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">((</span>$<span class="nv">_POST</span>[<span class="s1">'atlOriginal'</span>]<span class="w"> </span><span class="o">!==</span><span class="w"> </span>$<span class="nv">oldAtlPosition</span><span class="ss">)</span><span class="w"> </span>
<span class="w">    </span><span class="nv">or</span><span class="w"> </span><span class="ss">(</span>$<span class="nv">_POST</span>[<span class="s1">'atl'</span>]<span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="mh">$ae</span><span class="nv">xt</span><span class="ss">)</span><span class="w"> </span>
<span class="w">    </span><span class="nv">or</span><span class="w"> </span><span class="ss">(</span>$<span class="nv">_POST</span>[<span class="s1">'sidesOriginal'</span>]<span class="w"> </span><span class="o">!==</span><span class="w"> </span>$<span class="nv">oldSidePosition</span><span class="ss">)</span><span class="w"> </span>
<span class="w">    </span><span class="nv">or</span><span class="w"> </span><span class="ss">(</span>$<span class="nv">_POST</span>[<span class="s1">'sidesOriginal'</span>]<span class="w"> </span><span class="o">!==</span><span class="w"> </span>$<span class="nv">sideext</span><span class="ss">))</span><span class="w"> </span>{

<span class="w">    </span><span class="nv">echo</span><span class="w"> </span><span class="s2">"enter"</span><span class="c1">;</span>
}
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<div class="code"><pre class="code literal-block"><span class="mh">$a</span><span class="nv">rraysAreEqual</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">(</span><span class="mh">$a</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mh">$b</span><span class="ss">)</span><span class="c1">; // TRUE if $a and $b have the same key/value pairs.</span>
<span class="mh">$a</span><span class="nv">rraysAreEqual</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">(</span><span class="mh">$a</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mh">$b</span><span class="ss">)</span><span class="c1">; // TRUE if $a and $b have the same key/value pairs in the same order and of the same types.</span>
</pre></div>

<p>See Array Operators.</p>
<p><strong>EDIT</strong></p>
<p>The inequality operator is <code>!=</code> while the non-identity operator is <code>!==</code> to
match the equality operator <code>==</code> and the identity operator <code>===</code>.</p>
<p><br></p>
<h3>Suggest</h3>
<p>According to this page.</p>
<p><strong>NOTE:</strong> The accepted answer works for associative arrays, but it will not
work as expected with indexed arrays (explained below). If you want to compare
either of them, then use this solution. Also, this function may not works with
multidimensional arrays (due to the nature of array_diff function).</p>
<p>Testing two indexed arrays, which elements are in different order, using <code>$a
== $b</code> or <code>$a === $b</code> fails, for example:</p>
<div class="code"><pre class="code literal-block"><span class="cp">&lt;?php</span>
    <span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s2">"x"</span><span class="p">,</span><span class="s2">"y"</span><span class="p">)</span> <span class="o">==</span> <span class="k">array</span><span class="p">(</span><span class="s2">"y"</span><span class="p">,</span><span class="s2">"x"</span><span class="p">))</span> <span class="o">===</span> <span class="k">false</span><span class="p">;</span>
<span class="cp">?&gt;</span>
</pre></div>

<p>That is because the above means:</p>
<p><code>array(0 =&gt; "x", 1 =&gt; "y")</code> vs. <code>array(0 =&gt; "y", 1 =&gt; "x")</code>.</p>
<p>To solve that issue, use:</p>
<div class="code"><pre class="code literal-block"><span class="cp">&lt;?php</span>
<span class="k">function</span> <span class="nf">array_equal</span><span class="p">(</span><span class="nv">$a</span><span class="p">,</span> <span class="nv">$b</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
         <span class="nb">is_array</span><span class="p">(</span><span class="nv">$a</span><span class="p">)</span> 
         <span class="o">&amp;&amp;</span> <span class="nb">is_array</span><span class="p">(</span><span class="nv">$b</span><span class="p">)</span> 
         <span class="o">&amp;&amp;</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$a</span><span class="p">)</span> <span class="o">==</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$b</span><span class="p">)</span> 
         <span class="o">&amp;&amp;</span> <span class="nb">array_diff</span><span class="p">(</span><span class="nv">$a</span><span class="p">,</span> <span class="nv">$b</span><span class="p">)</span> <span class="o">===</span> <span class="nb">array_diff</span><span class="p">(</span><span class="nv">$b</span><span class="p">,</span> <span class="nv">$a</span><span class="p">)</span>
    <span class="p">);</span>
<span class="p">}</span>
<span class="cp">?&gt;</span>
</pre></div>

<p>Comparing array sizes was added (suggested by super_ton) as it may improve
speed.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-use-tools-overridelibrary-in-a-build-gradle-file/" class="u-url">How do I use tools:overrideLibrary in a build.gradle file?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-use-tools-overridelibrary-in-a-build-gradle-file/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T03:21:02+08:00" itemprop="datePublished" title="2023-03-05 03:21">2023-03-05 03:21</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm using the leanback libraries, which require Android 17 or later. However
my app supports a minSDK of 16, so I get a build error from gradle saying</p>
<div class="code"><pre class="code literal-block"><span class="n">Error</span><span class="o">:</span><span class="n">Execution</span><span class="w"> </span><span class="n">failed</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">task</span><span class="w"> </span><span class="s1">':Tasks:processPhoneDebugManifest'</span><span class="o">.</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">Manifest</span><span class="w"> </span><span class="n">merger</span><span class="w"> </span><span class="n">failed</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">uses</span><span class="o">-</span><span class="n">sdk</span><span class="o">:</span><span class="n">minSdkVersion</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="n">cannot</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">smaller</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mi">17</span><span class="w"> </span><span class="n">declared</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">library</span><span class="w"> </span><span class="sr">/Users/mike/Projects/android-for-dummies-v3/Tasks/build/intermediates/exploded-aar/com.android.support/leanback-v17/21.0.2/</span><span class="n">AndroidManifest</span><span class="o">.</span><span class="na">xml</span>
<span class="w">    </span><span class="n">Suggestion</span><span class="o">:</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="n">tools</span><span class="o">:</span><span class="n">overrideLibrary</span><span class="o">=</span><span class="s2">"android.support.v17.leanback"</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">force</span><span class="w"> </span><span class="n">usage</span>
</pre></div>

<p>When I look at the build tools documentation, I see how to add the
<code>overrideLibrary</code> marker to my manifest, but the problem is that I'm declaring
my minSdk in my gradle file instead of in my manifest.</p>
<p>How do I use <code>overrideLibrary</code> when the minSdk is declared in build.gradle
instead of in AndroidManifest.xml?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Open Android Studio -&gt; Open Manifest File</p>
<p>add <code>&lt;uses-sdk tools:overrideLibrary="android.support.v17.leanback"/&gt;</code> don't
forget to include <code>xmlns:tools="http://schemas.android.com/tools"</code> too, before
the <code>&lt;application&gt;</code> tag</p>
<p><img alt="enter image description here" src="images/IiBwm.png"></p>
<p><br></p>
<h3>Suggest</h3>
<p>it doesn't matter that you declare your minSdk in build.gradle. You have to
copy <code>overrideLibrary</code> in your <code>AndroidManifest.xml</code>, as documented here.</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;manifest</span><span class="w"> </span>
<span class="w">    </span><span class="err">...</span><span class="w"> </span><span class="nt">&gt;</span>
<span class="nt">&lt;uses-sdk</span><span class="w"> </span><span class="na">tools:overrideLibrary=</span><span class="s">"com.example.lib1, com.example.lib2"</span><span class="nt">/&gt;</span>
<span class="w">    </span>...
<span class="nt">&lt;/manifest&gt;</span>
</pre></div>

<p>The system automatically ignores the sdkVersion declared in
AndroidManifest.xml.</p>
<p>I hope this solve your problem.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2593.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2591.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

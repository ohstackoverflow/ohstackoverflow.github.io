<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2783) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2783.html">
<link rel="prev" href="index-2784.html" type="text/html">
<link rel="next" href="index-2782.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/forking-vs-branching-in-github/" class="u-url">Forking vs. Branching in GitHub</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/forking-vs-branching-in-github/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T17:38:09+08:00" itemprop="datePublished" title="2023-03-05 17:38">2023-03-05 17:38</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'd like to know more about the advantages and disadvantages of forking a
github project vs. creating a branch of a github project.</p>
<p>Forking makes my version of the project more isolated from the original one
because I don't have to be on the collaborators list of the original project.
Since we're developing a project in house, there is no problem in adding
people as collaborators. But, we'd like to understand if forking a project
would make merge changes back to the main project harder. That is, I wonder if
branching makes keeping the two projects in sync easier. In other words, is it
easier to merge and push changes between my version of the main project and
the main project when I branch?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You cannot always make a branch or pull an existing branch and push back to
it, because you are not registered as a collaborator for that specific
project.</p>
<p>Forking is nothing more than a clone <strong>on the GitHub server side</strong> :</p>
<ul>
<li>without the possibility to directly push back</li>
<li>with <strong>fork queue</strong> feature added to manage the merge request</li>
</ul>
<p>You keep a fork in sync with the original project by:</p>
<ul>
<li>adding the original project as a remote</li>
<li>fetching regularly from that original project</li>
<li>rebase your current development on top of the branch of interest you got updated from that fetch.</li>
</ul>
<p>The rebase allows you to make sure your changes are straightforward (no merge
conflict to handle), making your pulling request that more easy when you want
the maintainer of the original project to include your patches in his project.</p>
<p>The goal is really to allow collaboration even though <em>direct</em> participation
is not always possible.</p>
<hr>
<p>The fact that you clone on the GitHub side means you have now <em>two</em> "central"
repository ("central" as "visible from several collaborators).<br>
If you can add them directly as collaborator for <em>one</em> project, you don't need
to manage another one with a fork.</p>
<p><img alt="fork on GitHub" src="images/yPKXU.png"></p>
<p>The merge experience would be about the same, but with an extra level of
indirection (push first on the fork, then ask for a pull, with the risk of
evolutions on the original repo making your fast-forward merges not fast-
forward anymore).<br>
That means the correct workflow is to <code>git pull --rebase upstream</code> (rebase
your work on top of new commits from upstream), and then <code>git push --force
origin</code>, in order to rewrite the history in such a way your own commits are
always on top of the commits from the original (upstream) repo.</p>
<p>See also:</p>
<ul>
<li><strong>Git fork is git clone?</strong></li>
<li><strong>Pull new updates from original Github repository into forked Github repository</strong></li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<p>Here are the high-level differences:</p>
<h3>Forking</h3>
<h4>Pros</h4>
<ul>
<li>Keeps branches separated by user</li>
<li>Reduces clutter in the primary repository</li>
<li>Your team process reflects the external contributor process</li>
</ul>
<h4>Cons</h4>
<ul>
<li>Makes it more difficult to see all of the branches that are active (or inactive, for that matter)</li>
<li>Collaborating on a branch is trickier (the fork owner needs to add the person as a collaborator)</li>
<li>You need to understand the concept of multiple remotes in Git <ul>
<li>Requires additional mental bookkeeping</li>
<li>This will make the workflow more difficult for people who aren't super comfortable with Git</li>
</ul>
</li>
</ul>
<h3>Branching</h3>
<h4>Pros</h4>
<ul>
<li>Keeps all of the work being done around a project in one place</li>
<li>All collaborators can push to the same branch to collaborate on it</li>
<li>There's only one Git remote to deal with</li>
</ul>
<h4>Cons</h4>
<ul>
<li>Branches that get abandoned can pile up more easily</li>
<li>Your team contribution process doesn't match the external contributor process</li>
<li><strong>You need to add team members as contributors before they can branch</strong></li>
</ul>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/is-there-a-standard-format-for-command-line-shell-help-text/" class="u-url">Is there a "standard" format for command line/shell help text?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/is-there-a-standard-format-for-command-line-shell-help-text/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T17:36:26+08:00" itemprop="datePublished" title="2023-03-05 17:36">2023-03-05 17:36</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>If not, is there a de facto standard? Basically I'm writing a command line
help text like so:</p>
<div class="code"><pre class="code literal-block"><span class="k">usage</span><span class="err">:</span><span class="w"> </span><span class="nf">app_name</span><span class="w"> </span><span class="o">[</span><span class="n">options</span><span class="o">]</span><span class="w"> </span><span class="n">required_input</span><span class="w"> </span><span class="n">required_input2</span>
<span class="w">  </span><span class="nl">options</span><span class="p">:</span>
<span class="w">    </span><span class="o">-</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">argument</span><span class="w">     </span><span class="n">Does</span><span class="w"> </span><span class="n">something</span>
<span class="w">    </span><span class="o">-</span><span class="n">b</span><span class="w"> </span><span class="n">required</span><span class="w">     </span><span class="n">Does</span><span class="w"> </span><span class="n">something</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="ss">"required"</span>
<span class="w">    </span><span class="o">-</span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">command</span><span class="w"> </span><span class="n">required</span><span class="w">     </span><span class="n">Something</span><span class="w"> </span><span class="k">else</span>
<span class="w">    </span><span class="o">-</span><span class="n">d</span><span class="w"> </span><span class="o">[</span><span class="n">optlistitem1 optlistitem 2 ... </span><span class="o">]</span><span class="w">     </span><span class="n">Something</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">list</span>
</pre></div>

<p>I made that from basically just reading the help text of various tools, but is
there a list of guidelines or something? For example, do I use square brackets
or parentheses? How to use spacing? What if the argument is a list? Thanks!</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Typically, your help output should include:</p>
<ul>
<li>Description of what the app does</li>
<li>Usage syntax, which: <ul>
<li>Uses <code>[options]</code> to indicate where the options go</li>
<li>
<code>arg_name</code> for a required, singular arg</li>
<li>
<code>[arg_name]</code> for an optional, singular arg</li>
<li>
<code>arg_name...</code> for a required arg of which there can be many (this is rare)</li>
<li>
<code>[arg_name...]</code> for an arg for which any number can be supplied</li>
<li>note that <code>arg_name</code> should be a descriptive, short name, in lower, snake case</li>
</ul>
</li>
<li>A nicely-formatted list of options, each: <ul>
<li>having a short description</li>
<li>showing the default value, if there is one</li>
<li>showing the possible values, if that applies</li>
<li>Note that if an option can accept a short form (e.g. <code>-l</code>) or a long form (e.g. <code>--list</code>), include them together on the same line, as their descriptions will be the same</li>
</ul>
</li>
<li>Brief indicator of the location of config files or environment variables that might be the source of command line arguments, e.g. <code>GREP_OPTS</code>
</li>
<li>If there is a man page, indicate as such, otherwise, a brief indicator of where more detailed help can be found</li>
</ul>
<p>Note further that it's good form to accept both <code>-h</code> and <code>--help</code> to trigger
this message <em>and</em> that you should show this message if the user messes up the
command-line syntax, e.g. omits a required argument.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Take a look at docopt. It is a formal standard for documenting (and
automatically parsing) command line arguments.</p>
<p>For example...</p>
<div class="code"><pre class="code literal-block"><span class="n">Usage</span><span class="o">:</span>
<span class="w">  </span><span class="n">my_program</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="o">--</span><span class="n">option</span><span class="w"> </span><span class="o">&lt;</span><span class="n">argument</span><span class="o">&gt;</span>
<span class="w">  </span><span class="n">my_program</span><span class="w"> </span><span class="o">[&lt;</span><span class="n">optional</span><span class="o">-</span><span class="n">argument</span><span class="o">&gt;]</span>
<span class="w">  </span><span class="n">my_program</span><span class="w"> </span><span class="o">--</span><span class="n">another</span><span class="o">-</span><span class="n">option</span><span class="o">=&lt;</span><span class="k">with</span><span class="o">-</span><span class="n">argument</span><span class="o">&gt;</span>
<span class="w">  </span><span class="n">my_program</span><span class="w"> </span><span class="o">(--</span><span class="n">either</span><span class="o">-</span><span class="n">that</span><span class="o">-</span><span class="n">option</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">&lt;</span><span class="n">or</span><span class="o">-</span><span class="k">this</span><span class="o">-</span><span class="n">argument</span><span class="o">&gt;)</span>
<span class="w">  </span><span class="n">my_program</span><span class="w"> </span><span class="o">&lt;</span><span class="n">repeating</span><span class="o">-</span><span class="n">argument</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&lt;</span><span class="n">repeating</span><span class="o">-</span><span class="n">argument</span><span class="o">&gt;...</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-does-atomic-mean-in-programming/" class="u-url">What does "atomic" mean in programming?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-does-atomic-mean-in-programming/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T17:35:09+08:00" itemprop="datePublished" title="2023-03-05 17:35">2023-03-05 17:35</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>In the Effective Java book, it states:</p>
<blockquote>
<p>The language specification guarantees that reading or writing a variable is
atomic unless the variable is of type <code>long</code> or <code>double</code> [JLS, 17.4.7].</p>
</blockquote>
<p>What does "atomic" mean in the context of Java programming, or programming in
general?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Here's an example: Suppose <code>foo</code> is a variable of type <code>long</code>, then the
following operation is not an atomic operation ( <em>in Java</em> ):</p>
<div class="code"><pre class="code literal-block">foo = 65465498L;
</pre></div>

<p>Indeed, the variable is written using two separate operations: one that writes
the first 32 bits, and a second one which writes the last 32 bits. That means
that another thread might read the value of <code>foo</code>, and see the intermediate
state.</p>
<p>Making the operation atomic consists in using synchronization mechanisms in
order to make sure that the operation is seen, from any other thread, as a
single, atomic (i.e. not splittable in parts), operation. That means that any
other thread, once the operation is made atomic, will either see the value of
<code>foo</code> before the assignment, or after the assignment. But never the
intermediate value.</p>
<p>A simple way of doing this is to make the variable volatile:</p>
<div class="code"><pre class="code literal-block">private volatile long foo;
</pre></div>

<p>Or to synchronize every access to the variable:</p>
<div class="code"><pre class="code literal-block"><span class="nv">public</span><span class="w"> </span><span class="nv">synchronized</span><span class="w"> </span><span class="nv">void</span><span class="w"> </span><span class="nv">setFoo</span><span class="ss">(</span><span class="nv">long</span><span class="w"> </span><span class="nv">value</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="nv">this</span>.<span class="nv">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">value</span><span class="c1">;</span>
}

<span class="nv">public</span><span class="w"> </span><span class="nv">synchronized</span><span class="w"> </span><span class="nv">long</span><span class="w"> </span><span class="nv">getFoo</span><span class="ss">()</span><span class="w"> </span>{
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">this</span>.<span class="nv">foo</span><span class="c1">;</span>
}
<span class="o">//</span><span class="w"> </span><span class="nv">no</span><span class="w"> </span><span class="nv">other</span><span class="w"> </span><span class="nv">use</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">foo</span><span class="w"> </span><span class="nv">outside</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">these</span><span class="w"> </span><span class="nv">two</span><span class="w"> </span><span class="nv">methods</span>,<span class="w"> </span><span class="nv">unless</span><span class="w"> </span><span class="nv">also</span><span class="w"> </span><span class="nv">synchronized</span>
</pre></div>

<p>Or to replace it with an <code>AtomicLong</code>:</p>
<div class="code"><pre class="code literal-block">private AtomicLong foo;
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>"Atomic operation" means an operation that appears to be instantaneous from
the perspective of all other threads. You don't need to worry about a partly
complete operation when the guarantee applies.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2784.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2782.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

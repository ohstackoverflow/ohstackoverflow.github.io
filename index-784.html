<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 784) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-784.html">
<link rel="prev" href="index-785.html" type="text/html">
<link rel="next" href="index-783.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-check-if-function-exists-in-javascript/" class="u-url">How to check if function exists in JavaScript?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-check-if-function-exists-in-javascript/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T15:54:08+08:00" itemprop="datePublished" title="2023-02-17 15:54">2023-02-17 15:54</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>My code is</p>
<div class="code"><pre class="code literal-block"><span class="k">function</span><span class="w"> </span><span class="n">getID</span><span class="p">(</span><span class="w"> </span><span class="n">swfID</span><span class="w"> </span><span class="p">)</span><span class="err">{</span>
<span class="w">     </span><span class="k">if</span><span class="p">(</span><span class="n">navigator</span><span class="p">.</span><span class="n">appName</span><span class="p">.</span><span class="n">indexOf</span><span class="p">(</span><span class="ss">"Microsoft"</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="err">{</span>
<span class="w">          </span><span class="n">me</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">window</span><span class="o">[</span><span class="n">swfID</span><span class="o">]</span><span class="p">;</span>
<span class="w">     </span><span class="err">}</span><span class="k">else</span><span class="err">{</span>
<span class="w">          </span><span class="n">me</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">document</span><span class="o">[</span><span class="n">swfID</span><span class="o">]</span><span class="p">;</span>
<span class="w">     </span><span class="err">}</span>
<span class="err">}</span>

<span class="k">function</span><span class="w"> </span><span class="n">js_to_as</span><span class="p">(</span><span class="w"> </span><span class="nf">str</span><span class="w"> </span><span class="p">)</span><span class="err">{</span>
<span class="w">     </span><span class="n">me</span><span class="p">.</span><span class="n">onChange</span><span class="p">(</span><span class="nf">str</span><span class="p">);</span>
<span class="err">}</span>
</pre></div>

<p>However, sometimes my <code>onChange</code> does not load. Firebug errors with</p>
<blockquote>
<p>me.onChange is not a function</p>
</blockquote>
<p>I want to degrade gracefully because this is not the most important feature in
my program. <code>typeof</code> gives the same error.</p>
<p>Any suggestions on how to make sure that it exists and then only execute
<code>onChange</code>?</p>
<p>(None of the methods below except try catch one work)</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Try something like this:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">typeof</span><span class="w"> </span><span class="nv">me</span>.<span class="nv">onChange</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="s2">"undefined"</span><span class="ss">)</span><span class="w"> </span>{<span class="w"> </span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="nv">safe</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">use</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">function</span>
}
</pre></div>

<p>or better yet (as per UpTheCreek upvoted comment)</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">typeof</span><span class="w"> </span><span class="nv">me</span>.<span class="nv">onChange</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">"function"</span><span class="ss">)</span><span class="w"> </span>{<span class="w"> </span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="nv">safe</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">use</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">function</span>
}
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>I had this problem. <code>if (obj &amp;&amp; typeof obj === 'function') { ... }</code> kept
throwing a reference error if <code>obj</code> happened to be <code>undefined</code>, so in the end
I did the following:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">typeof</span><span class="w"> </span><span class="nv">obj</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="s1">'undefined'</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nv">typeof</span><span class="w"> </span><span class="nv">obj</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">'function'</span><span class="ss">)</span><span class="w"> </span>{<span class="w"> </span>...<span class="w"> </span>}
</pre></div>

<p>However, a colleague pointed out to me that checking if it's <code>!== 'undefined'</code>
and then <code>=== 'function'</code> is redundant, thus:</p>
<p><strong>Simpler:</strong></p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">typeof</span><span class="w"> </span><span class="nv">obj</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">'function'</span><span class="ss">)</span><span class="w"> </span>{<span class="w"> </span>...<span class="w"> </span>}
</pre></div>

<p>Much cleaner and works great.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-remove-all-pyc-files-from-a-project/" class="u-url">How do I remove all .pyc files from a project?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-remove-all-pyc-files-from-a-project/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T15:53:40+08:00" itemprop="datePublished" title="2023-02-17 15:53">2023-02-17 15:53</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I've renamed some files in a fairly large project and want to remove the .pyc
files they've left behind. I tried the bash script:</p>
<div class="code"><pre class="code literal-block"> rm -r *.pyc
</pre></div>

<p>But that doesn't recurse through the folders as I thought it would. What am I
doing wrong?</p>
<p><br><br></p>
<h2>Answer</h2>
<div class="code"><pre class="code literal-block"><span class="nv">find</span><span class="w"> </span>.<span class="w"> </span><span class="o">-</span><span class="nv">name</span><span class="w"> </span><span class="s2">"*.pyc"</span><span class="w"> </span><span class="o">-</span><span class="k">exec</span><span class="w"> </span><span class="nv">rm</span><span class="w"> </span><span class="o">-</span><span class="nv">f</span><span class="w"> </span>{}<span class="w"> </span>\<span class="c1">;</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p><code>find . -name '*.pyc' -type f -delete</code></p>
<p>Surely the simplest.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/is-it-safe-to-expose-firebase-apikey-to-the-public/" class="u-url">Is it safe to expose Firebase apiKey to the public?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/is-it-safe-to-expose-firebase-apikey-to-the-public/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T15:53:15+08:00" itemprop="datePublished" title="2023-02-17 15:53">2023-02-17 15:53</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>The Firebase Web-App guide states I should put the given <code>apiKey</code> in my Html
to initialize Firebase:</p>
<div class="code"><pre class="code literal-block">//<span class="w"> </span>TODO:<span class="w"> </span>Replace<span class="w"> </span>with<span class="w"> </span>your<span class="w"> </span>project's<span class="w"> </span>customized<span class="w"> </span>code<span class="w"> </span>snippet
<span class="nt">&lt;script</span><span class="w"> </span><span class="na">src=</span><span class="s">"https://www.gstatic.com/firebasejs/3.0.2/firebase.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
<span class="w">  </span>//<span class="w"> </span>Initialize<span class="w"> </span>Firebase
<span class="w">  </span>var<span class="w"> </span>config<span class="w"> </span>=<span class="w"> </span>{
<span class="w">    </span>apiKey:<span class="w"> </span>'<span class="nt">&lt;your-api-key&gt;</span>',
<span class="w">    </span>authDomain:<span class="w"> </span>'<span class="nt">&lt;your-auth-domain&gt;</span>',
<span class="w">    </span>databaseURL:<span class="w"> </span>'<span class="nt">&lt;your-database-url&gt;</span>',
<span class="w">    </span>storageBucket:<span class="w"> </span>'<span class="nt">&lt;your-storage-bucket&gt;</span>'
<span class="w">  </span>};
<span class="w">  </span>firebase.initializeApp(config);
<span class="nt">&lt;/script&gt;</span>
</pre></div>

<p>By doing so, the <code>apiKey</code> is exposed to every visitor.</p>
<p>What is the <strong>purpose of that key</strong> and is it really <strong>meant to be public</strong>?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The <code>apiKey</code> in this configuration snippet just identifies your Firebase
project on the Google servers. It is not a security risk for someone to know
it. In fact, it is necessary for them to know it, in order for them to
interact with your Firebase project. This same configuration data is also
included in every iOS and Android app that uses Firebase as its backend.</p>
<p>In that sense it is very similar to the database URL that identifies the back-
end database associated with your project in the same snippet: <code>https://&lt;app-
id&gt;.firebaseio.com</code>. See this question on why this is not a security risk: How
to restrict Firebase data modification?, including the use of Firebase's
server side security rules to ensure only authorized users can access the
backend services.</p>
<p>If you want to learn how to secure all data access to your Firebase backend
services is authorized, read up on the documentation on Firebase security
rules. These rules control access to file storage and database access, and are
enforced on the Firebase servers. So no matter if it's <em>your</em> code, or
somebody else's code that uses you configuration data, it can only do what the
security rules allow it to do.</p>
<p>For another explanation of what Firebase uses these values for, and for which
of them you <em>can</em> set quotas, see the Firebase documentation on using and
managing API keys.</p>
<hr>
<p>If you'd like to reduce the risk of committing this configuration data to
version control, consider using the SDK auto-configuration of Firebase
Hosting. While the keys will still end up in the browser in the same format,
they won't be hard-coded into your code anymore with that.</p>
<hr>
<p><strong>Update</strong> (May 2021): Thanks to the new feature called Firebase App Check, it
is now actually possible to limit access to the backend services in your
Firebase project to only those coming from iOS, Android and Web apps that are
registered in that specific project.</p>
<p>You'll typically want to combine this with the user authentication based
security described above, so that you have another shield against abusive
users that <em>do</em> use your app.</p>
<p>By combining App Check with security rules you have both broad protection
against abuse, and fine gained control over what data each user can access,
while still allowing direct access to the database from your client-side
application code.</p>
<p><br></p>
<h3>Suggest</h3>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-785.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-783.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 510) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-510.html">
<link rel="prev" href="index-511.html" type="text/html">
<link rel="next" href="index-509.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-open-a-bootstrap-modal-window-using-jquery/" class="u-url">How to open a Bootstrap modal window using jQuery?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-open-a-bootstrap-modal-window-using-jquery/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T08:41:30+08:00" itemprop="datePublished" title="2023-02-17 08:41">2023-02-17 08:41</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm using Twitter Bootstrap modal window functionality. When someone clicks
submit on my form, I want to show the modal window upon clicking the "submit
button" in the form.</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;form</span><span class="w"> </span><span class="na">id=</span><span class="s">"myform"</span><span class="w"> </span><span class="na">class=</span><span class="s">"form-wizard"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;h2</span><span class="w"> </span><span class="na">class=</span><span class="s">"form-wizard-heading"</span><span class="nt">&gt;</span>BootStap<span class="w"> </span>Wizard<span class="w"> </span>Form<span class="nt">&lt;/h2&gt;</span>
<span class="w">    </span><span class="nt">&lt;input</span><span class="w"> </span><span class="na">type=</span><span class="s">"text"</span><span class="w"> </span><span class="na">value=</span><span class="s">""</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;input</span><span class="w"> </span><span class="na">type=</span><span class="s">"submit"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/form&gt;</span>

<span class="cm">&lt;!-- Modal --&gt;</span>
<span class="nt">&lt;div</span><span class="w"> </span><span class="na">id=</span><span class="s">"myModal"</span><span class="w"> </span><span class="na">class=</span><span class="s">"modal hide fade"</span><span class="w"> </span><span class="na">tabindex=</span><span class="s">"-1"</span><span class="w"> </span><span class="na">role=</span><span class="s">"dialog"</span><span class="w"> </span><span class="na">aria-labelledby=</span><span class="s">"myModalLabel"</span><span class="w"> </span><span class="na">aria-hidden=</span><span class="s">"true"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"modal-header"</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;button</span><span class="w"> </span><span class="na">type=</span><span class="s">"button"</span><span class="w"> </span><span class="na">class=</span><span class="s">"close"</span><span class="w"> </span><span class="na">data-dismiss=</span><span class="s">"modal"</span><span class="w"> </span><span class="na">aria-hidden=</span><span class="s">"true"</span><span class="nt">&gt;</span>×<span class="nt">&lt;/button&gt;</span>
<span class="w">        </span><span class="nt">&lt;h3</span><span class="w"> </span><span class="na">id=</span><span class="s">"myModalLabel"</span><span class="nt">&gt;</span>Modal<span class="w"> </span>header<span class="nt">&lt;/h3&gt;</span>
<span class="w">    </span><span class="nt">&lt;/div&gt;</span>
<span class="w">    </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"modal-body"</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;p&gt;</span>One<span class="w"> </span>fine<span class="w"> </span>body…<span class="nt">&lt;/p&gt;</span>
<span class="w">    </span><span class="nt">&lt;/div&gt;</span>
<span class="w">    </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"modal-footer"</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;button</span><span class="w"> </span><span class="na">class=</span><span class="s">"btn"</span><span class="w"> </span><span class="na">data-dismiss=</span><span class="s">"modal"</span><span class="w"> </span><span class="na">aria-hidden=</span><span class="s">"true"</span><span class="nt">&gt;</span>Close<span class="nt">&lt;/button&gt;</span>
<span class="w">        </span><span class="nt">&lt;button</span><span class="w"> </span><span class="na">class=</span><span class="s">"btn btn-primary"</span><span class="nt">&gt;</span>Save<span class="w"> </span>changes<span class="nt">&lt;/button&gt;</span>
<span class="w">    </span><span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p>jQuery:</p>
<div class="code"><pre class="code literal-block"><span class="o">$</span><span class="p">(</span><span class="s1">'#myform'</span><span class="p">)</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s1">'submit'</span><span class="p">,</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="n">ev</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">$</span><span class="p">(</span><span class="s1">'#my-modal'</span><span class="p">)</span><span class="o">.</span><span class="n">modal</span><span class="p">({</span>
<span class="w">        </span><span class="n">show</span><span class="p">:</span><span class="w"> </span><span class="s1">'false'</span>
<span class="w">    </span><span class="p">});</span>


<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="n">this</span><span class="p">)</span><span class="o">.</span><span class="n">serializeObject</span><span class="p">();</span>
<span class="w">    </span><span class="n">json_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JSON</span><span class="o">.</span><span class="n">stringify</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
<span class="w">    </span><span class="o">$</span><span class="p">(</span><span class="s2">"#results"</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">json_data</span><span class="p">);</span><span class="w"> </span>
<span class="w">    </span><span class="o">$</span><span class="p">(</span><span class="s2">".modal-body"</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">json_data</span><span class="p">);</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="s2">"#results"</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>

<span class="w">    </span><span class="n">ev</span><span class="o">.</span><span class="n">preventDefault</span><span class="p">();</span>
<span class="p">});</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>Bootstrap has a few functions that can be called manually on modals:</p>
<div class="code"><pre class="code literal-block">$<span class="ss">(</span><span class="s1">'#myModal'</span><span class="ss">)</span>.<span class="nv">modal</span><span class="ss">(</span><span class="s1">'toggle'</span><span class="ss">)</span><span class="c1">;</span>
$<span class="ss">(</span><span class="s1">'#myModal'</span><span class="ss">)</span>.<span class="nv">modal</span><span class="ss">(</span><span class="s1">'show'</span><span class="ss">)</span><span class="c1">;</span>
$<span class="ss">(</span><span class="s1">'#myModal'</span><span class="ss">)</span>.<span class="nv">modal</span><span class="ss">(</span><span class="s1">'hide'</span><span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p>You can see more here: Bootstrap modal component</p>
<p>Specifically the methods section.</p>
<p>So you would need to change:</p>
<div class="code"><pre class="code literal-block"><span class="o">$(</span><span class="s1">'#my-modal'</span><span class="o">)</span><span class="p">.</span><span class="nc">modal</span><span class="o">(</span><span class="p">{</span>
<span class="w">    </span><span class="n">show</span><span class="p">:</span><span class="w"> </span><span class="s1">'false'</span>
<span class="p">}</span><span class="o">);</span>
</pre></div>

<p>to:</p>
<div class="code"><pre class="code literal-block">$<span class="ss">(</span><span class="s1">'#myModal'</span><span class="ss">)</span>.<span class="nv">modal</span><span class="ss">(</span><span class="s1">'show'</span><span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p>If you're looking to make a custom popup of your own, here's a suggested video
from another community member:</p>
<p>https://www.youtube.com/watch?v=zK4nXa84Km4</p>
<p><br></p>
<h3>Suggest</h3>
<p>Most often, when <code>$('#myModal').modal('show');</code> doesn't work, it's caused by
having included jQuery twice. Including jQuery 2 times makes modals not to
work.</p>
<p>Remove one of the links to make it work again.</p>
<p>Furthermore, some plugins cause errors too, in this case add</p>
<div class="code"><pre class="code literal-block"><span class="nv">jQuery</span>.<span class="nv">noConflict</span><span class="ss">()</span><span class="c1">; </span>
$<span class="ss">(</span><span class="s1">'#myModal'</span><span class="ss">)</span>.<span class="nv">modal</span><span class="ss">(</span><span class="s1">'show'</span><span class="ss">)</span><span class="c1">;</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/can-t-find-the-libpq-fe-h-header-when-trying-to-install-pg-gem/" class="u-url">Can't find the 'libpq-fe.h header when trying to install pg gem</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/can-t-find-the-libpq-fe-h-header-when-trying-to-install-pg-gem/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T08:41:01+08:00" itemprop="datePublished" title="2023-02-17 08:41">2023-02-17 08:41</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am using the Ruby on Rails 3.1 pre version. I like to use PostgreSQL, but
the problem is installing the <code>pg</code> gem. It gives me the following error:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>gem<span class="w"> </span>install<span class="w"> </span>pg
Building<span class="w"> </span>native<span class="w"> </span>extensions.<span class="w">  </span>This<span class="w"> </span>could<span class="w"> </span>take<span class="w"> </span>a<span class="w"> </span><span class="k">while</span>...
ERROR:<span class="w">  </span>Error<span class="w"> </span>installing<span class="w"> </span>pg:
<span class="w">    </span>ERROR:<span class="w"> </span>Failed<span class="w"> </span>to<span class="w"> </span>build<span class="w"> </span>gem<span class="w"> </span>native<span class="w"> </span>extension.

<span class="w">        </span>/home/u/.rvm/rubies/ruby-1.9.2-p0/bin/ruby<span class="w"> </span>extconf.rb
checking<span class="w"> </span><span class="k">for</span><span class="w"> </span>pg_config...<span class="w"> </span>no
No<span class="w"> </span>pg_config...<span class="w"> </span>trying<span class="w"> </span>anyway.<span class="w"> </span>If<span class="w"> </span>building<span class="w"> </span>fails,<span class="w"> </span>please<span class="w"> </span>try<span class="w"> </span>again<span class="w"> </span>with
<span class="w"> </span>--with-pg-config<span class="o">=</span>/path/to/pg_config
checking<span class="w"> </span><span class="k">for</span><span class="w"> </span>libpq-fe.h...<span class="w"> </span>no
Can<span class="s1">'t find the '</span>libpq-fe.h<span class="w"> </span>header
***<span class="w"> </span>extconf.rb<span class="w"> </span>failed<span class="w"> </span>***
Could<span class="w"> </span>not<span class="w"> </span>create<span class="w"> </span>Makefile<span class="w"> </span>due<span class="w"> </span>to<span class="w"> </span>some<span class="w"> </span>reason,<span class="w"> </span>probably<span class="w"> </span>lack<span class="w"> </span>of
necessary<span class="w"> </span>libraries<span class="w"> </span>and/or<span class="w"> </span>headers.<span class="w">  </span>Check<span class="w"> </span>the<span class="w"> </span>mkmf.log<span class="w"> </span>file<span class="w"> </span><span class="k">for</span><span class="w"> </span>more
details.<span class="w">  </span>You<span class="w"> </span>may<span class="w"> </span>need<span class="w"> </span>configuration<span class="w"> </span>options.

Provided<span class="w"> </span>configuration<span class="w"> </span>options:
<span class="w">    </span>--with-opt-dir
<span class="w">    </span>--without-opt-dir
<span class="w">    </span>--with-opt-include
<span class="w">    </span>--without-opt-include<span class="o">=</span><span class="si">${</span><span class="nv">opt</span><span class="p">-dir</span><span class="si">}</span>/include
<span class="w">    </span>--with-opt-lib
<span class="w">    </span>--without-opt-lib<span class="o">=</span><span class="si">${</span><span class="nv">opt</span><span class="p">-dir</span><span class="si">}</span>/lib
<span class="w">    </span>--with-make-prog
<span class="w">    </span>--without-make-prog
<span class="w">    </span>--srcdir<span class="o">=</span>.
<span class="w">    </span>--curdir
<span class="w">    </span>--ruby<span class="o">=</span>/home/u/.rvm/rubies/ruby-1.9.2-p0/bin/ruby
<span class="w">    </span>--with-pg
<span class="w">    </span>--without-pg
<span class="w">    </span>--with-pg-dir
<span class="w">    </span>--without-pg-dir
<span class="w">    </span>--with-pg-include
<span class="w">    </span>--without-pg-include<span class="o">=</span><span class="si">${</span><span class="nv">pg</span><span class="p">-dir</span><span class="si">}</span>/include
<span class="w">    </span>--with-pg-lib
<span class="w">    </span>--without-pg-lib<span class="o">=</span><span class="si">${</span><span class="nv">pg</span><span class="p">-dir</span><span class="si">}</span>/lib
<span class="w">    </span>--with-pg-config
<span class="w">    </span>--without-pg-config
<span class="w">    </span>--with-pg_config
<span class="w">    </span>--without-pg_config
<span class="w">    </span>Gem<span class="w"> </span>files<span class="w"> </span>will<span class="w"> </span>remain<span class="w"> </span>installed<span class="w"> </span><span class="k">in</span><span class="w"> </span>/home/u/.rvm/gems/ruby-1.9.2-p0/gems/pg-0.11.0<span class="w"> </span><span class="k">for</span><span class="w"> </span>inspection.
<span class="w">    </span>Results<span class="w"> </span>logged<span class="w"> </span>to<span class="w"> </span>/home/u/.rvm/gems/ruby-1.9.2-p0/gems/pg-0.11.0/ext/gem_make.out
</pre></div>

<p>How do I solve this problem?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>It looks like in Ubuntu that header is part of the <code>libpq-dev</code> package (at
least in the following Ubuntu versions: 11.04 (Natty Narwhal), 10.04 (Lucid
Lynx), 11.10 (Oneiric Ocelot), 12.04 (Precise Pangolin), 14.04 (Trusty Tahr)
and 18.04 (Bionic Beaver)):</p>
<div class="code"><pre class="code literal-block">...
<span class="o">/</span><span class="nv">usr</span><span class="o">/</span><span class="k">include</span><span class="o">/</span><span class="nv">postgresql</span><span class="o">/</span><span class="nv">libpq</span><span class="o">-</span><span class="nv">fe</span>.<span class="nv">h</span>
...
</pre></div>

<p>So try installing <code>libpq-dev</code> or its equivalent for your OS:</p>
<ul>
<li>For Ubuntu/Debian systems: <code>sudo apt-get install libpq-dev</code>
</li>
<li>On Red Hat Linux (RHEL) systems: <code>yum install postgresql-devel</code>
</li>
<li>For Mac Homebrew: <code>brew install postgresql</code>
</li>
<li>For Mac MacPorts PostgreSQL: <code>gem install pg -- --with-pg-config=/opt/local/lib/postgresql[version number]/bin/pg_config</code>
</li>
<li>For OpenSuse: <code>zypper in postgresql-devel</code>
</li>
<li>For ArchLinux: <code>pacman -S postgresql-libs</code>
</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<p>On <strong>macOS</strong> (previously <strong>Mac OS X</strong> and <strong>OS X</strong> ), use Homebrew to install
the proper headers:</p>
<div class="code"><pre class="code literal-block">brew install postgresql
</pre></div>

<p>and then running</p>
<div class="code"><pre class="code literal-block">gem install pg
</pre></div>

<p>should work.</p>
<p>Alternatively, instead of installing the whole <code>postgresql</code>, you can <code>brew
install libpq</code> and export the correct <code>PATH</code> and <code>PKG_CONFIG_PATH</code> as
explained in the 'Caveats' section</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/prevent-users-from-submitting-a-form-by-hitting-enter/" class="u-url">Prevent users from submitting a form by hitting Enter</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/prevent-users-from-submitting-a-form-by-hitting-enter/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T08:40:27+08:00" itemprop="datePublished" title="2023-02-17 08:40">2023-02-17 08:40</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a survey on a website, and there seems to be some issues with the users
hitting enter (I don't know why) and accidentally submitting the survey (form)
without clicking the submit button. Is there a way to prevent this?</p>
<p>I'm using HTML, PHP 5.2.9, and jQuery on the survey.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can use a method such as</p>
<div class="code"><pre class="code literal-block">$<span class="ss">(</span><span class="nv">document</span><span class="ss">)</span>.<span class="nv">ready</span><span class="ss">(</span><span class="nv">function</span><span class="ss">()</span><span class="w"> </span>{
<span class="w">  </span>$<span class="ss">(</span><span class="nv">window</span><span class="ss">)</span>.<span class="nv">keydown</span><span class="ss">(</span><span class="nv">function</span><span class="ss">(</span><span class="nv">event</span><span class="ss">)</span>{
<span class="w">    </span><span class="k">if</span><span class="ss">(</span><span class="nv">event</span>.<span class="nv">keyCode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">13</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">      </span><span class="nv">event</span>.<span class="nv">preventDefault</span><span class="ss">()</span><span class="c1">;</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nv">false</span><span class="c1">;</span>
<span class="w">    </span>}
<span class="w">  </span>}<span class="ss">)</span><span class="c1">;</span>
}<span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p>In reading the comments on the original post, to make it more usable and allow
people to press <code>Enter</code> if they have completed all the fields:</p>
<div class="code"><pre class="code literal-block"><span class="nv">function</span><span class="w"> </span><span class="nv">validationFunction</span><span class="ss">()</span><span class="w"> </span>{
<span class="w">  </span>$<span class="ss">(</span><span class="s1">'input'</span><span class="ss">)</span>.<span class="nv">each</span><span class="ss">(</span><span class="nv">function</span><span class="ss">()</span><span class="w"> </span>{
<span class="w">    </span>...

<span class="w">  </span>}
<span class="w">  </span><span class="k">if</span><span class="ss">(</span><span class="nv">good</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">true</span><span class="c1">;</span>
<span class="w">  </span>}
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nv">false</span><span class="c1">;</span>
}

$<span class="ss">(</span><span class="nv">document</span><span class="ss">)</span>.<span class="nv">ready</span><span class="ss">(</span><span class="nv">function</span><span class="ss">()</span><span class="w"> </span>{
<span class="w">  </span>$<span class="ss">(</span><span class="nv">window</span><span class="ss">)</span>.<span class="nv">keydown</span><span class="ss">(</span><span class="nv">function</span><span class="ss">(</span><span class="nv">event</span><span class="ss">)</span>{
<span class="w">    </span><span class="k">if</span><span class="ss">(</span><span class="w"> </span><span class="ss">(</span><span class="nv">event</span>.<span class="nv">keyCode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">13</span><span class="ss">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="ss">(</span><span class="nv">validationFunction</span><span class="ss">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">false</span><span class="ss">)</span><span class="w"> </span><span class="ss">)</span><span class="w"> </span>{
<span class="w">      </span><span class="nv">event</span>.<span class="nv">preventDefault</span><span class="ss">()</span><span class="c1">;</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nv">false</span><span class="c1">;</span>
<span class="w">    </span>}
<span class="w">  </span>}<span class="ss">)</span><span class="c1">;</span>
}<span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<h3>Disallow enter key anywhere</h3>
<p>If you don't have a <code>&lt;textarea&gt;</code> in your form, then just add the following to
your <code>&lt;form&gt;</code>:</p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;</span><span class="nv">form</span><span class="w"> </span>...<span class="w"> </span><span class="nv">onkeydown</span><span class="o">=</span><span class="s2">"return event.key != 'Enter';"</span><span class="o">&gt;</span>
</pre></div>

<p>Or with jQuery:</p>
<div class="code"><pre class="code literal-block">$<span class="ss">(</span><span class="nv">document</span><span class="ss">)</span>.<span class="nv">on</span><span class="ss">(</span><span class="s2">"keydown"</span>,<span class="w"> </span><span class="s2">"form"</span>,<span class="w"> </span><span class="nv">function</span><span class="ss">(</span><span class="nv">event</span><span class="ss">)</span><span class="w"> </span>{<span class="w"> </span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">event</span>.<span class="nv">key</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s2">"Enter"</span><span class="c1">;</span>
}<span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p>This will cause that every key press inside the form will be checked on the
<code>key</code>. If it is not <code>Enter</code>, then it will return <code>true</code> and anything continue
as usual. If it is <code>Enter</code>, then it will return <code>false</code> and anything will stop
immediately, so the form won't be submitted.</p>
<p>The <code>keydown</code> event is preferred over <code>keyup</code> as the <code>keyup</code> is too late to
block form submit. Historically there was also the <code>keypress</code>, but this is
deprecated, as is the <code>KeyboardEvent.keyCode</code>. You should use
<code>KeyboardEvent.key</code> instead which returns the name of the key being pressed.
When <code>Enter</code> is checked, then this would check 13 (normal enter) as well as
108 (numpad enter).</p>
<p>Note that <code>$(window)</code> as suggested in some other answers instead of
<code>$(document)</code> doesn't work for <code>keydown</code>/<code>keyup</code> in IE&lt;=8, so that's not a
good choice if you're like to cover those poor users as well.</p>
<h3>Allow enter key on textareas only</h3>
<p>If you have a <code>&lt;textarea&gt;</code> in your form (which of course <em>should</em> accept the
Enter key), then add the keydown handler to every individual input element
which isn't a <code>&lt;textarea&gt;</code>.</p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;</span><span class="nv">input</span><span class="w"> </span>...<span class="w"> </span><span class="nv">onkeydown</span><span class="o">=</span><span class="s2">"return event.key != 'Enter';"</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nv">select</span><span class="w"> </span>...<span class="w"> </span><span class="nv">onkeydown</span><span class="o">=</span><span class="s2">"return event.key != 'Enter';"</span><span class="o">&gt;</span>
...
</pre></div>

<p>To reduce boilerplate, this is better to be done with jQuery:</p>
<div class="code"><pre class="code literal-block"><span class="o">$(</span><span class="nt">document</span><span class="o">)</span><span class="p">.</span><span class="nc">on</span><span class="o">(</span><span class="s2">"keydown"</span><span class="o">,</span><span class="w"> </span><span class="s2">":input:not(textarea)"</span><span class="o">,</span><span class="w"> </span><span class="nt">function</span><span class="o">(</span><span class="nt">event</span><span class="o">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">return</span><span class="w"> </span><span class="err">event.key</span><span class="w"> </span><span class="err">!=</span><span class="w"> </span><span class="err">"Enter"</span><span class="p">;</span>
<span class="p">}</span><span class="o">);</span>
</pre></div>

<p>If you have other event handler functions attached on those input elements,
which you'd also like to invoke on enter key for some reason, then only
prevent event's default behavior instead of returning false, so it can
properly propagate to other handlers.</p>
<div class="code"><pre class="code literal-block"><span class="o">$(</span><span class="nt">document</span><span class="o">)</span><span class="p">.</span><span class="nc">on</span><span class="o">(</span><span class="s2">"keydown"</span><span class="o">,</span><span class="w"> </span><span class="s2">":input:not(textarea)"</span><span class="o">,</span><span class="w"> </span><span class="nt">function</span><span class="o">(</span><span class="nt">event</span><span class="o">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">if</span><span class="w"> </span><span class="err">(event.key</span><span class="w"> </span><span class="err">==</span><span class="w"> </span><span class="err">"Enter")</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="err">event.preventDefault()</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="err">}</span><span class="o">);</span>
</pre></div>

<h3>Allow enter key on textareas and submit buttons only</h3>
<p>If you'd like to allow enter key on submit buttons <code>&lt;input|button
type="submit"&gt;</code> too, then you can always refine the selector as below.</p>
<div class="code"><pre class="code literal-block"><span class="o">$(</span><span class="nt">document</span><span class="o">)</span><span class="p">.</span><span class="nc">on</span><span class="o">(</span><span class="s2">"keydown"</span><span class="o">,</span><span class="w"> </span><span class="s2">":input:not(textarea):not(:submit)"</span><span class="o">,</span><span class="w"> </span><span class="nt">function</span><span class="o">(</span><span class="nt">event</span><span class="o">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">...</span>
<span class="p">}</span><span class="o">);</span>
</pre></div>

<p>Note that <code>input[type=text]</code> as suggested in some other answers doesn't cover
those HTML5 non-text inputs, so that's not a good selector.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-511.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-509.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

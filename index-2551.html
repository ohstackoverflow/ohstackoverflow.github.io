<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2551) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2551.html">
<link rel="prev" href="index-2552.html" type="text/html">
<link rel="next" href="index-2550.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/laravel-eloquent-or-fluent-random-row/" class="u-url">Laravel - Eloquent or Fluent random row</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/laravel-eloquent-or-fluent-random-row/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T00:27:36+08:00" itemprop="datePublished" title="2023-03-05 00:27">2023-03-05 00:27</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How can I select a random row using Eloquent or Fluent in Laravel framework?</p>
<p>I know that by using SQL, you can do order by RAND(). However, I would like to
get the random row <strong>without</strong> doing a count on the number of records prior to
the initial query.</p>
<p>Any ideas?</p>
<p><br><br></p>
<h2>Answer</h2>
<p><strong>Laravel &gt;= 5.2:</strong></p>
<div class="code"><pre class="code literal-block"><span class="nt">User</span><span class="p">::</span><span class="nd">inRandomOrder</span><span class="o">()</span><span class="nt">-</span><span class="o">&gt;</span><span class="nt">get</span><span class="o">();</span>
</pre></div>

<p>or to get the specific number of records</p>
<div class="code"><pre class="code literal-block"><span class="c1">// 5 indicates the number of records</span>
<span class="n">User</span><span class="p">::</span><span class="n">inRandomOrder</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">limit</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">-&gt;</span><span class="k">get</span><span class="p">();</span>
<span class="c1">// get one random record</span>
<span class="n">User</span><span class="p">::</span><span class="n">inRandomOrder</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">first</span><span class="p">();</span>
</pre></div>

<p>or using the random method for collections:</p>
<div class="code"><pre class="code literal-block"><span class="nt">User</span><span class="p">::</span><span class="nd">all</span><span class="o">()</span><span class="nt">-</span><span class="o">&gt;</span><span class="nt">random</span><span class="o">();</span>
<span class="nt">User</span><span class="p">::</span><span class="nd">all</span><span class="o">()</span><span class="nt">-</span><span class="o">&gt;</span><span class="nt">random</span><span class="o">(</span><span class="nt">10</span><span class="o">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="nt">The</span><span class="w"> </span><span class="nt">amount</span><span class="w"> </span><span class="nt">of</span><span class="w"> </span><span class="nt">items</span><span class="w"> </span><span class="nt">you</span><span class="w"> </span><span class="nt">wish</span><span class="w"> </span><span class="nt">to</span><span class="w"> </span><span class="nt">receive</span>
</pre></div>

<p>Laravel 4.2.7 - 5.1:</p>
<div class="code"><pre class="code literal-block"><span class="nt">User</span><span class="p">::</span><span class="nd">orderByRaw</span><span class="o">(</span><span class="s2">"RAND()"</span><span class="o">)</span><span class="nt">-</span><span class="o">&gt;</span><span class="nt">get</span><span class="o">();</span>
</pre></div>

<p>Laravel 4.0 - 4.2.6:</p>
<div class="code"><pre class="code literal-block"><span class="nt">User</span><span class="p">::</span><span class="nd">orderBy</span><span class="o">(</span><span class="nt">DB</span><span class="p">::</span><span class="nd">raw</span><span class="o">(</span><span class="s1">'RAND()'</span><span class="o">))</span><span class="nt">-</span><span class="o">&gt;</span><span class="nt">get</span><span class="o">();</span>
</pre></div>

<p>Laravel 3:</p>
<div class="code"><pre class="code literal-block"><span class="nt">User</span><span class="p">::</span><span class="nd">order_by</span><span class="o">(</span><span class="nt">DB</span><span class="p">::</span><span class="nd">raw</span><span class="o">(</span><span class="s1">'RAND()'</span><span class="o">))</span><span class="nt">-</span><span class="o">&gt;</span><span class="nt">get</span><span class="o">();</span>
</pre></div>

<p>Check <strong>this article</strong> on MySQL random rows. Laravel 5.2 supports this, for
older version, there is no better solution then using RAW Queries.</p>
<p><strong>edit 1:</strong> As mentioned by Double Gras, orderBy() doesn't allow anything else
then ASC or DESC since this change. I updated my answer accordingly.</p>
<p><strong>edit 2:</strong> Laravel 5.2 finally implements a wrapper function for this. It's
called <strong>inRandomOrder()</strong>.</p>
<p><br></p>
<h3>Suggest</h3>
<p>This works just fine,</p>
<div class="code"><pre class="code literal-block"><span class="o">$</span><span class="nt">model</span><span class="o">=</span><span class="nt">Model</span><span class="p">::</span><span class="nd">all</span><span class="o">()</span><span class="nt">-</span><span class="o">&gt;</span><span class="nt">random</span><span class="o">(</span><span class="nt">1</span><span class="o">)</span><span class="nt">-</span><span class="o">&gt;</span><span class="nt">first</span><span class="o">();</span>
</pre></div>

<p>you can also change argument in random function to get more than one record.</p>
<p>Note: not recommended if you have huge data as this will fetch all rows first
and then returns random value.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/using-only-css-show-div-on-hover-over-another-element/" class="u-url">Using only CSS, show div on hover over another element</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/using-only-css-show-div-on-hover-over-another-element/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T00:25:57+08:00" itemprop="datePublished" title="2023-03-05 00:25">2023-03-05 00:25</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I would like to show a div when someone hovers over an <code>&lt;a&gt;</code> element, but I
would like to do this in CSS and not JavaScript. Do you know how this can be
achieved?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can do something like this:</p>
<div class="code"><pre class="code literal-block">div<span class="w"> </span>{
<span class="w">    </span>display:<span class="w"> </span>none;
}

a:hover<span class="w"> </span>+<span class="w"> </span>div<span class="w"> </span>{
<span class="w">    </span>display:<span class="w"> </span>block;
}


<span class="nt">&lt;a&gt;</span>Hover<span class="w"> </span>over<span class="w"> </span>me!<span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;div&gt;</span>Stuff<span class="w"> </span>shown<span class="w"> </span>on<span class="w"> </span>hover<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p>This uses the adjacent sibling selector, and is the basis of the suckerfish
dropdown menu.</p>
<p>HTML5 allows anchor elements to wrap almost anything, so in that case the
<code>div</code> element can be made a child of the anchor. Otherwise the principle is
the same - use the <code>:hover</code> pseudo-class to change the <code>display</code> property of
another element.</p>
<p><br></p>
<h3>Suggest</h3>
<div class="code"><pre class="code literal-block">.showme<span class="w"> </span>{
<span class="w">  </span>display:<span class="w"> </span>none;
}

.showhim:hover<span class="w"> </span>.showme<span class="w"> </span>{
<span class="w">  </span>display:<span class="w"> </span>block;
}


<span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"showhim"</span><span class="nt">&gt;</span>HOVER<span class="w"> </span>ME
<span class="w">  </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"showme"</span><span class="nt">&gt;</span>hai<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p>jsfiddle</p>
<p>Since this answer is popular I think a small explanation is needed. Using this
method when you hover on the internal element, it wont disappear. Because the
.showme is inside .showhim it will not disappear when you move your mouse
between the two lines of text (or whatever it is).</p>
<p>These are example of quirqs you need to take care of when implementing such
behavior.</p>
<p>It all depends what you need this for. This method is better for a menu style
scenario, while Yi Jiang's is better for tooltips.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-flatten-a-multidimensional-array/" class="u-url">How to Flatten a Multidimensional Array?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-flatten-a-multidimensional-array/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T00:24:14+08:00" itemprop="datePublished" title="2023-03-05 00:24">2023-03-05 00:24</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is it possible, in PHP, to flatten a (bi/multi)dimensional array without using
recursion or references?</p>
<p>I'm only interested in the values so the keys can be ignored, I'm thinking in
the lines of <code>array_map()</code> and <code>array_values()</code>.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can use the Standard PHP Library (SPL) to "hide" the recursion.</p>
<div class="code"><pre class="code literal-block">$a = array(1,2,array(3,4, array(5,6,7), 8), 9);
$it = new RecursiveIteratorIterator(new RecursiveArrayIterator($a));
foreach($it as $v) {
  echo $v, " ";
}
</pre></div>

<p>prints</p>
<div class="code"><pre class="code literal-block"><span class="mf">1</span><span class="w"> </span><span class="mf">2</span><span class="w"> </span><span class="mf">3</span><span class="w"> </span><span class="mf">4</span><span class="w"> </span><span class="mf">5</span><span class="w"> </span><span class="mf">6</span><span class="w"> </span><span class="mf">7</span><span class="w"> </span><span class="mf">8</span><span class="w"> </span><span class="mf">9</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>You can use the Standard PHP Library (SPL) to "hide" the recursion.</p>
<div class="code"><pre class="code literal-block">$a = array(1,2,array(3,4, array(5,6,7), 8), 9);
$it = new RecursiveIteratorIterator(new RecursiveArrayIterator($a));
foreach($it as $v) {
  echo $v, " ";
}
</pre></div>

<p>prints</p>
<div class="code"><pre class="code literal-block"><span class="mf">1</span><span class="w"> </span><span class="mf">2</span><span class="w"> </span><span class="mf">3</span><span class="w"> </span><span class="mf">4</span><span class="w"> </span><span class="mf">5</span><span class="w"> </span><span class="mf">6</span><span class="w"> </span><span class="mf">7</span><span class="w"> </span><span class="mf">8</span><span class="w"> </span><span class="mf">9</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2552.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2550.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

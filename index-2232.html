<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2232) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2232.html">
<link rel="prev" href="index-2233.html" type="text/html">
<link rel="next" href="index-2231.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/multiline-for-wpf-textbox/" class="u-url">Multiline for WPF TextBox</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/multiline-for-wpf-textbox/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T00:43:30+08:00" itemprop="datePublished" title="2023-03-04 00:43">2023-03-04 00:43</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am developing an app for sending some feedback.</p>
<p>Basically I'm trying to make a <code>TextBox</code> for comments, but I'm used to the
WinForms <code>MultiLine=true</code>. I've set <code>MinLines</code> to 3, which is getting there,
but preferably I'd like it if the user is able to type wherever in this block
- like press enter and do dot points sort of thing. For example:</p>
<div class="code"><pre class="code literal-block">- Item 1        blah
- Item 2                blahlb lahbvl   d
</pre></div>

<p>But at the moment the text all stays on one line.</p>
<div class="code"><pre class="code literal-block">- Item 1         blah - Item 2                      blahb blahb blah
</pre></div>

<p>These comments will then help fill the body of an email which is sent. It may
be pointless if I can't easily keep the same formatting when putting this
string into the email body string (so that it looks like it does when sent as
it does when typed).</p>
<p>Can I achieve what I'm after or do I have to leave it as all text on one line?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Enable <code>TextWrapping="Wrap"</code> and <code>AcceptsReturn="True"</code> on your TextBox.</p>
<p>You might also wish to enable <code>AcceptsTab</code> and <code>SpellCheck.IsEnabled</code> too.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Also, if, like me, you add controls directly in XAML (not using the editor),
you might get frustrated that it won't stretch to the available height, even
after setting those two properties.</p>
<p>To make the TextBox stretch, set the <code>Height="Auto"</code>.</p>
<p><strong>UPDATE:</strong></p>
<p>In retrospect, I think this must have been necessary thanks to a default style
for TextBoxes specifying the height to some standard for the application
somewhere in the App resources. It may be worthwhile checking this if this
helped you.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-compare-version-numbers-in-python/" class="u-url">How do I compare version numbers in Python?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-compare-version-numbers-in-python/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T00:42:02+08:00" itemprop="datePublished" title="2023-03-04 00:42">2023-03-04 00:42</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am walking a directory that contains eggs to add those eggs to the
<code>sys.path</code>. If there are two versions of the same .egg in the directory, I
want to add only the latest one.</p>
<p>I have a regular expression
<code>r"^(?P&lt;eggName&gt;\w+)-(?P&lt;eggVersion&gt;[\d\.]+)-.+\.egg$</code> to extract the name and
version from the filename. The problem is comparing the version number, which
is a string like <code>2.3.1</code>.</p>
<p>Since I'm comparing strings, 2 sorts above 10, but that's not correct for
versions.</p>
<div class="code"><pre class="code literal-block">&gt;&gt;&gt; "2.3.1" &gt; "10.1.1"
True
</pre></div>

<p>I could do some splitting, parsing, casting to int, etc., and I would
eventually get a workaround. But this is Python, not Java. Is there an elegant
way to compare version strings?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Use <code>packaging.version.parse</code>.</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span> <span class="c1"># pip install packaging</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">packaging</span> <span class="kn">import</span> <span class="n">version</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">version</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">"2.3.1"</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">version</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">"10.1.2"</span><span class="p">)</span>
<span class="kc">True</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">version</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">"1.3.a4"</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">version</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">"10.1.2"</span><span class="p">)</span>
<span class="kc">True</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">version</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">"1.3.a4"</span><span class="p">),</span> <span class="n">version</span><span class="o">.</span><span class="n">Version</span><span class="p">)</span>
<span class="kc">True</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">version</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s2">"1.3.xy123"</span><span class="p">),</span> <span class="n">version</span><span class="o">.</span><span class="n">LegacyVersion</span><span class="p">)</span>
<span class="kc">True</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">version</span><span class="o">.</span><span class="n">Version</span><span class="p">(</span><span class="s2">"1.3.xy123"</span><span class="p">)</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
<span class="o">...</span>
<span class="n">packaging</span><span class="o">.</span><span class="n">version</span><span class="o">.</span><span class="n">InvalidVersion</span><span class="p">:</span> <span class="n">Invalid</span> <span class="n">version</span><span class="p">:</span> <span class="s1">'1.3.xy123'</span>
</pre></div>

<p><code>packaging.version.parse</code> is a third-party utility but is used by setuptools
(so you probably already have it installed) and is conformant to the current
PEP 440; it will return a <code>packaging.version.Version</code> if the version is
compliant and a <code>packaging.version.LegacyVersion</code> if not. The latter will
always sort before valid versions.</p>
<p><em>Note</em> : packaging has recently been vendored into setuptools.</p>
<hr>
<p>An ancient and now deprecated method you might encounter is
<code>distutils.version</code>, it's undocumented and conforms only to the superseded PEP
386;</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">distutils.version</span> <span class="kn">import</span> <span class="n">LooseVersion</span><span class="p">,</span> <span class="n">StrictVersion</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">LooseVersion</span><span class="p">(</span><span class="s2">"2.3.1"</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">LooseVersion</span><span class="p">(</span><span class="s2">"10.1.2"</span><span class="p">)</span>
<span class="kc">True</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">StrictVersion</span><span class="p">(</span><span class="s2">"2.3.1"</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">StrictVersion</span><span class="p">(</span><span class="s2">"10.1.2"</span><span class="p">)</span>
<span class="kc">True</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">StrictVersion</span><span class="p">(</span><span class="s2">"1.3.a4"</span><span class="p">)</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
<span class="o">...</span>
<span class="ne">ValueError</span><span class="p">:</span> <span class="n">invalid</span> <span class="n">version</span> <span class="n">number</span> <span class="s1">'1.3.a4'</span>
</pre></div>

<p>As you can see it sees valid PEP 440 versions as “not strict” and therefore
doesn’t match modern Python’s notion of what a valid version is.</p>
<p>As <code>distutils.version</code> is undocumented, here are the relevant docstrings.</p>
<p><br></p>
<h3>Suggest</h3>
<p>The packaging library contains utilities for working with versions and other
packaging-related functionality. This implements PEP 0440 -- Version
Identification and is also able to parse versions that don't follow the PEP.
It is used by pip, and other common Python tools to provide version parsing
and comparison.</p>
<div class="code"><pre class="code literal-block"><span class="err">$</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">packaging</span>



<span class="kn">from</span> <span class="nn">packaging.version</span> <span class="kn">import</span> <span class="n">parse</span> <span class="k">as</span> <span class="n">parse_version</span>
<span class="n">version</span> <span class="o">=</span> <span class="n">parse_version</span><span class="p">(</span><span class="s1">'1.0.3.dev'</span><span class="p">)</span>
</pre></div>

<p>This was split off from the original code in setuptools and pkg_resources to
provide a more lightweight and faster package.</p>
<hr>
<p>Before the packaging library existed, this functionality was (and can still
be) found in pkg_resources, a package provided by setuptools. However, this is
no longer preferred as setuptools is no longer guaranteed to be installed
(other packaging tools exist), and pkg_resources ironically uses quite a lot
of resources when imported. However, all the docs and discussion are still
relevant.</p>
<p>From the <code>parse_version()</code> docs:</p>
<blockquote>
<p>Parsed a project's version string as defined by PEP 440. The returned value
will be an object that represents the version. These objects may be compared
to each other and sorted. The sorting algorithm is as defined by PEP 440
with the addition that any version which is not a valid PEP 440 version will
be considered less than any valid PEP 440 version and the invalid versions
will continue sorting using the original algorithm.</p>
</blockquote>
<p>The "original algorithm" referenced was defined in older versions of the docs,
before PEP 440 existed.</p>
<blockquote>
<p>Semantically, the format is a rough cross between distutils' <code>StrictVersion</code>
and <code>LooseVersion</code> classes; if you give it versions that would work with
<code>StrictVersion</code>, then they will compare the same way. Otherwise, comparisons
are more like a "smarter" form of <code>LooseVersion</code>. It is possible to create
pathological version coding schemes that will fool this parser, but they
should be very rare in practice.</p>
</blockquote>
<p>The documentation provides some examples:</p>
<blockquote>
<p>If you want to be certain that your chosen numbering scheme works the way
you think it will, you can use the <code>pkg_resources.parse_version()</code> function
to compare different version numbers:</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">pkg_resources</span> <span class="kn">import</span> <span class="n">parse_version</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">parse_version</span><span class="p">(</span><span class="s1">'1.9.a.dev'</span><span class="p">)</span> <span class="o">==</span> <span class="n">parse_version</span><span class="p">(</span><span class="s1">'1.9a0dev'</span><span class="p">)</span>
<span class="kc">True</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">parse_version</span><span class="p">(</span><span class="s1">'2.1-rc2'</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">parse_version</span><span class="p">(</span><span class="s1">'2.1'</span><span class="p">)</span>
<span class="kc">True</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">parse_version</span><span class="p">(</span><span class="s1">'0.6a9dev-r41475'</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">parse_version</span><span class="p">(</span><span class="s1">'0.6a9'</span><span class="p">)</span>
<span class="kc">True</span>
</pre></div>

</blockquote>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/no-submodule-mapping-found-in-gitmodule-for-a-path-that-s-not-a-submodule/" class="u-url">No submodule mapping found in .gitmodule for a path that's not a submodule</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/no-submodule-mapping-found-in-gitmodule-for-a-path-that-s-not-a-submodule/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T00:40:34+08:00" itemprop="datePublished" title="2023-03-04 00:40">2023-03-04 00:40</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a project that has a submodule at <code>lib/three20</code></p>
<p>My <code>.gitmodule</code> file looks like this:</p>
<div class="code"><pre class="code literal-block"><span class="k">[submodule "lib/three20"]</span>
<span class="w">    </span><span class="na">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">lib/three20</span>
<span class="w">    </span><span class="na">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">git://github.com/facebook/three20.git</span>
</pre></div>

<p>I have cloned this in the past without errors, (<code>git submodule init</code> followed
by a <code>git submodule update</code>) and it's been working for a while.</p>
<p>I tried to clone this to a new machine, and now I'm getting this error on <code>git
submodule init</code>:</p>
<div class="code"><pre class="code literal-block"><span class="nv">No</span><span class="w"> </span><span class="nv">submodule</span><span class="w"> </span><span class="nv">mapping</span><span class="w"> </span><span class="nv">found</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span>.<span class="nv">gitmodules</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">path</span><span class="w"> </span><span class="s1">'Classes/Support/Three20'</span>
</pre></div>

<p>That path is just an empty folder in Xcode that I use to house the projects
from the other directory. It's not part of the <code>.gitmodules</code> file, so I don't
see where it's getting this path from.</p>
<p>Any ideas?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Following rajibchowdhury's answer (upvoted), <strong>use<code>git rm</code></strong> command which is
advised is for removing the <strong>special entry</strong> in the index indicating a
submodule (a 'folder' with a special mode <code>160000</code>).</p>
<p>If that special entry <em>path</em> isn't referenced in the <code>.gitmodules</code> (like
'<code>Classes/Support/Three20</code>' in the original question), then you need to remove
it, in order to avoid the " <em>No submodule mapping found in<code>.gitmodules</code> for
path</em>" error message.</p>
<p>You can check all the entries in the index which are referencing submodules:</p>
<div class="code"><pre class="code literal-block">git ls-files --stage | grep 160000
</pre></div>

<hr>
<p>Previous answer (November 2010)</p>
<p>It is possible that you haven't declared your initial submodule correctly
(i.e. without any tail '<code>/</code>' at the end, as described in my old answer, even
though your <code>.gitmodules</code> has paths which looks OK in it).</p>
<p>This thread mentions:</p>
<blockquote>
<p>Do you get the same error when running 'git submodule init' from a fresh
clone?<br>
 If so, you have something wrong.</p>
<p>If you have no submodules, delete <code>.gitmodules</code>, and any references to
submodules in <code>.git/config</code>, and ensure the <code>Pikimal</code> dir does not have a
<code>.git</code> dir in it.<br>
 If that fixes the problem, check in and do the same on your cruise working
copy.</p>
</blockquote>
<p>Obviously, don't delete your main <code>.gitmodules</code> file, but look after other
extra <code>.gitmodules</code> files in your working tree.</p>
<hr>
<p>Still in the topic of "incorrect submodule initialization", Jefromi mentions
submodules which actually are <strong>gitlinks</strong>.</p>
<p>See How to track untracked content? in order to convert such a directory to a
real submodule: as commented by ipatch, and details in ipatch's notes:</p>
<blockquote>
<p>If you run into the below error when working git submodules</p>
<div class="code"><pre class="code literal-block">mr-fancy-42-repo already exists in the index
</pre></div>

<ol>
<li>Remove the submodule folder / directory</li>
<li>Remove the git cache for the folder / directory</li>
<li>
<p>Then reinitialize submodule
</p>
<p>rm -Rf /path/to/mr-fancy-42-repo
git rm -R /path/to/mr-fancy-42-repo
git submodule add [mr-fancy-42-submodule-repo]
/path/to/initialize/submodule/repo
</p>
</li>
</ol>
</blockquote>
<p><br></p>
<h3>Suggest</h3>
<p>Following rajibchowdhury's answer (upvoted), <strong>use<code>git rm</code></strong> command which is
advised is for removing the <strong>special entry</strong> in the index indicating a
submodule (a 'folder' with a special mode <code>160000</code>).</p>
<p>If that special entry <em>path</em> isn't referenced in the <code>.gitmodules</code> (like
'<code>Classes/Support/Three20</code>' in the original question), then you need to remove
it, in order to avoid the " <em>No submodule mapping found in<code>.gitmodules</code> for
path</em>" error message.</p>
<p>You can check all the entries in the index which are referencing submodules:</p>
<div class="code"><pre class="code literal-block">git ls-files --stage | grep 160000
</pre></div>

<hr>
<p>Previous answer (November 2010)</p>
<p>It is possible that you haven't declared your initial submodule correctly
(i.e. without any tail '<code>/</code>' at the end, as described in my old answer, even
though your <code>.gitmodules</code> has paths which looks OK in it).</p>
<p>This thread mentions:</p>
<blockquote>
<p>Do you get the same error when running 'git submodule init' from a fresh
clone?<br>
 If so, you have something wrong.</p>
<p>If you have no submodules, delete <code>.gitmodules</code>, and any references to
submodules in <code>.git/config</code>, and ensure the <code>Pikimal</code> dir does not have a
<code>.git</code> dir in it.<br>
 If that fixes the problem, check in and do the same on your cruise working
copy.</p>
</blockquote>
<p>Obviously, don't delete your main <code>.gitmodules</code> file, but look after other
extra <code>.gitmodules</code> files in your working tree.</p>
<hr>
<p>Still in the topic of "incorrect submodule initialization", Jefromi mentions
submodules which actually are <strong>gitlinks</strong>.</p>
<p>See How to track untracked content? in order to convert such a directory to a
real submodule: as commented by ipatch, and details in ipatch's notes:</p>
<blockquote>
<p>If you run into the below error when working git submodules</p>
<div class="code"><pre class="code literal-block">mr-fancy-42-repo already exists in the index
</pre></div>

<ol>
<li>Remove the submodule folder / directory</li>
<li>Remove the git cache for the folder / directory</li>
<li>
<p>Then reinitialize submodule
</p>
<p>rm -Rf /path/to/mr-fancy-42-repo
git rm -R /path/to/mr-fancy-42-repo
git submodule add [mr-fancy-42-submodule-repo]
/path/to/initialize/submodule/repo
</p>
</li>
</ol>
</blockquote>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2233.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2231.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 26) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-26.html">
<link rel="prev" href="index-27.html" type="text/html">
<link rel="next" href="index-25.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-delete-a-remote-tag/" class="u-url">How can I delete a remote tag?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-delete-a-remote-tag/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T18:58:44+08:00" itemprop="datePublished" title="2023-02-16 18:58">2023-02-16 18:58</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How can I delete a Git tag that has already been pushed?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can push an 'empty' reference to the remote tag name:</p>
<div class="code"><pre class="code literal-block">git push origin :tagname
</pre></div>

<p>Or, more expressively, use the <code>--delete</code> option (or <code>-d</code> if your git version
is older than 1.8.0):</p>
<div class="code"><pre class="code literal-block">git push --delete origin tagname
</pre></div>

<p>Note that git has tag namespace and branch namespace so you may use the same
name for a branch and for a tag. If you want to make sure that you cannot
accidentally remove the branch instead of the tag, you can specify full ref
which will never delete a branch:</p>
<div class="code"><pre class="code literal-block">git push origin :refs/tags/tagname
</pre></div>

<p>If you also need to delete the local tag, use:</p>
<div class="code"><pre class="code literal-block">git tag --delete tagname
</pre></div>

<hr>
<h4>Background</h4>
<p>Pushing a branch, tag, or other ref to a remote repository involves specifying
"which repo, what source, what destination?"</p>
<div class="code"><pre class="code literal-block">git push remote-repo source-ref:destination-ref
</pre></div>

<p>A real world example where you push your master branch to the origin's master
branch is:</p>
<div class="code"><pre class="code literal-block">git push origin refs/heads/master:refs/heads/master
</pre></div>

<p>Which because of default paths, can be shortened to:</p>
<div class="code"><pre class="code literal-block">git push origin master:master
</pre></div>

<p>Tags work the same way:</p>
<div class="code"><pre class="code literal-block">git push origin refs/tags/release-1.0:refs/tags/release-1.0
</pre></div>

<p>Which can also be shortened to:</p>
<div class="code"><pre class="code literal-block">git push origin release-1.0:release-1.0
</pre></div>

<p>By omitting the source ref (the part before the colon), you push 'nothing' to
the destination, deleting the ref on the remote end.</p>
<p><br></p>
<h3>Suggest</h3>
<p>A more straightforward way is</p>
<div class="code"><pre class="code literal-block">git push --delete origin YOUR_TAG_NAME
</pre></div>

<p>IMO prefixing colon syntax is a little bit odd in this situation</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-update-or-sync-a-forked-repository-on-github/" class="u-url">How do I update or sync a forked repository on GitHub?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-update-or-sync-a-forked-repository-on-github/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T18:57:56+08:00" itemprop="datePublished" title="2023-02-16 18:57">2023-02-16 18:57</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I forked a project, made changes, and created a pull request which was
accepted. New commits were later added to the repository. How do I get those
commits into my fork?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>In your local clone of your forked repository, you can add the original GitHub
repository as a "remote". ("Remotes" are like nicknames for the URLs of
repositories - <code>origin</code> is one, for example.) Then you can fetch all the
branches from that upstream repository, and rebase your work to continue
working on the upstream version. In terms of commands that might look like:</p>
<div class="code"><pre class="code literal-block"># Add the remote, call it "upstream":

git remote add upstream https://github.com/whoever/whatever.git

# Fetch all the branches of that remote into remote-tracking branches

git fetch upstream

# Make sure that you're on your master branch:

git checkout master

# Rewrite your master branch so that any commits of yours that
# aren't already in upstream/master are replayed on top of that
# other branch:

git rebase upstream/master
</pre></div>

<p>If you don't want to rewrite the history of your master branch, (for example
because other people may have cloned it) then you should replace the last
command with <code>git merge upstream/master</code>. However, for making further pull
requests that are as clean as possible, it's probably better to rebase.</p>
<hr>
<p>If you've rebased your branch onto <code>upstream/master</code> you may need to force the
push in order to push it to your own forked repository on GitHub. You'd do
that with:</p>
<div class="code"><pre class="code literal-block">git push -f origin master
</pre></div>

<p>You only need to use the <code>-f</code> the first time after you've rebased.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Starting in May 2014, it is possible to update a fork directly from GitHub.
This still works as of September 2017, <strong>BUT</strong> it will lead to a dirty commit
history.</p>
<ol>
<li>Open your fork on GitHub.</li>
<li>Click on <code>Pull Requests</code>.</li>
<li>Click on <code>New Pull Request</code>. By default, GitHub will compare the original with your fork, and there shouldn't be anything to compare if you didn't make any changes.</li>
<li>Click <code>switching the base</code> if you see that link. Otherwise, manually set the <code>base fork</code> drop down to your fork, and the <code>head fork</code> to the upstream. Now GitHub will compare your fork with the original, and you should see all the latest changes. <img alt="enter image description here" src="images/FoNQu.png">
</li>
<li>
<code>Create pull request</code> and assign a predictable name to your pull request (e.g., <code>Update from original</code>).</li>
<li>Scroll down to <code>Merge pull request</code>, but don't click anything yet.</li>
</ol>
<p>Now you have three options, but each will lead to a less-than-clean commit
history.</p>
<ol>
<li>The default will create an ugly merge commit.</li>
<li>If you click the dropdown and choose "Squash and merge", all intervening commits will be squashed into one. This is most often something you don't want.</li>
<li>If you click <code>Rebase and merge</code>, all commits will be made "with" you, the original PRs will link to your PR, and GitHub will display <code>This branch is X commits ahead, Y commits behind &lt;original fork&gt;</code>.</li>
</ol>
<p>So yes, you can keep your repo updated with its upstream using the GitHub web
UI, but doing so will sully your commit history. Stick to the command line
instead - it's easy.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-read-convert-an-inputstream-into-a-string-in-java/" class="u-url">How do I read / convert an InputStream into a String in Java?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-read-convert-an-inputstream-into-a-string-in-java/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T18:57:07+08:00" itemprop="datePublished" title="2023-02-16 18:57">2023-02-16 18:57</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>If you have a <code>java.io.InputStream</code> object, how should you process that object
and produce a <code>String</code>?</p>
<hr>
<p>Suppose I have an <code>InputStream</code> that contains text data, and I want to convert
it to a <code>String</code>, so for example I can write that to a log file.</p>
<p>What is the easiest way to take the <code>InputStream</code> and convert it to a
<code>String</code>?</p>
<div class="code"><pre class="code literal-block">public String convertStreamToString(InputStream is) {
// ???
}
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>A nice way to do this is using Apache Commons <code>IOUtils</code> to copy the
<code>InputStream</code> into a <code>StringWriter</code>... Something like</p>
<div class="code"><pre class="code literal-block">StringWriter writer = new StringWriter();
IOUtils.copy(inputStream, writer, encoding);
String theString = writer.toString();
</pre></div>

<p>or even</p>
<div class="code"><pre class="code literal-block"><span class="c1">// NB: does not close inputStream, you'll have to use try-with-resources for that</span>
<span class="n">String</span><span class="w"> </span><span class="n">theString</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">IOUtils</span><span class="p">.</span><span class="n">toString</span><span class="p">(</span><span class="n">inputStream</span><span class="p">,</span><span class="w"> </span><span class="n">encoding</span><span class="p">);</span>
</pre></div>

<p>Alternatively, you could use <code>ByteArrayOutputStream</code> if you don't want to mix
your Streams and Writers.</p>
<p><br></p>
<h3>Suggest</h3>
<p>A nice way to do this is using Apache Commons <code>IOUtils</code> to copy the
<code>InputStream</code> into a <code>StringWriter</code>... Something like</p>
<div class="code"><pre class="code literal-block">StringWriter writer = new StringWriter();
IOUtils.copy(inputStream, writer, encoding);
String theString = writer.toString();
</pre></div>

<p>or even</p>
<div class="code"><pre class="code literal-block"><span class="c1">// NB: does not close inputStream, you'll have to use try-with-resources for that</span>
<span class="n">String</span><span class="w"> </span><span class="n">theString</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">IOUtils</span><span class="p">.</span><span class="n">toString</span><span class="p">(</span><span class="n">inputStream</span><span class="p">,</span><span class="w"> </span><span class="n">encoding</span><span class="p">);</span>
</pre></div>

<p>Alternatively, you could use <code>ByteArrayOutputStream</code> if you don't want to mix
your Streams and Writers.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-27.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-25.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 713) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-713.html">
<link rel="prev" href="index-714.html" type="text/html">
<link rel="next" href="index-712.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-force-division-to-be-floating-point-division-keeps-rounding-down-to-0/" class="u-url">How can I force division to be floating point? Division keeps rounding down to 0?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-force-division-to-be-floating-point-division-keeps-rounding-down-to-0/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T14:01:04+08:00" itemprop="datePublished" title="2023-02-17 14:01">2023-02-17 14:01</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have two integer values <code>a</code> and <code>b</code>, but I need their ratio in floating
point. I know that <code>a &lt; b</code> and I want to calculate <code>a / b</code>, so if I use
integer division I'll always get 0 with a remainder of <code>a</code>.</p>
<p>How can I force <code>c</code> to be a floating point number in Python 2 in the
following?</p>
<div class="code"><pre class="code literal-block">c = a / b
</pre></div>

<hr>
<p>In 3.x, the behaviour is reversed; see Why does integer division yield a float
instead of another integer? for the opposite, 3.x-specific problem.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>In Python 2, division of two ints produces an int. In Python 3, it produces a
float. We can get the new behaviour by importing from <code>__future__</code>.</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">division</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">4</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">6</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">c</span> <span class="o">=</span> <span class="n">a</span> <span class="o">/</span> <span class="n">b</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">c</span>
<span class="mf">0.66666666666666663</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>You can cast to float by doing <code>c = a / float(b)</code>. If the numerator or
denominator is a float, then the result will be also.</p>
<hr>
<p>A caveat: as commenters have pointed out, this won't work if <code>b</code> might be
something other than an integer or floating-point number (or a string
representing one). If you might be dealing with other types (such as complex
numbers) you'll need to either check for those or use a different method.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-add-local-jar-file-dependency-to-build-gradle-file/" class="u-url">How to add local .jar file dependency to build.gradle file?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-add-local-jar-file-dependency-to-build-gradle-file/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T14:00:38+08:00" itemprop="datePublished" title="2023-02-17 14:00">2023-02-17 14:00</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have tried to add my local .jar file dependency to my build.gradle file:</p>
<div class="code"><pre class="code literal-block"><span class="n">apply</span><span class="w"> </span><span class="n">plugin</span><span class="p">:</span><span class="w"> </span><span class="s1">'java'</span>

<span class="n">sourceSets</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">main</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">java</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">srcDir</span><span class="w"> </span><span class="s1">'src/model'</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="n">dependencies</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">runtime</span><span class="w"> </span><span class="n">files</span><span class="p">(</span><span class="s1">'libs/mnist-tools.jar'</span><span class="p">,</span><span class="w"> </span><span class="s1">'libs/gson-2.2.4.jar'</span><span class="p">)</span>
<span class="w">    </span><span class="n">runtime</span><span class="w"> </span><span class="n">fileTree</span><span class="p">(</span><span class="n">dir</span><span class="p">:</span><span class="w"> </span><span class="s1">'libs'</span><span class="p">,</span><span class="w"> </span><span class="n">include</span><span class="p">:</span><span class="w"> </span><span class="s1">'*.jar'</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>

<p>And you can see that I added the .jar files into the referencedLibraries
folder here:
https://github.com/WalnutiQ/wAlnut/tree/version-2.3.1/referencedLibraries</p>
<p>But the problem is that when I run the command: gradle build on the command
line I get the following error:</p>
<div class="code"><pre class="code literal-block"><span class="n">error</span><span class="p">:</span> <span class="n">package</span> <span class="n">com</span><span class="o">.</span><span class="n">google</span><span class="o">.</span><span class="n">gson</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">exist</span>
<span class="kn">import</span> <span class="nn">com.google.gson.Gson</span><span class="p">;</span>
</pre></div>

<p>Here is my entire repo: https://github.com/WalnutiQ/wAlnut/tree/version-2.3.1</p>
<p><br><br></p>
<h2>Answer</h2>
<p>If you really need to take that .jar from a local directory,</p>
<p>Add next to your module gradle (Not the app gradle file):</p>
<div class="code"><pre class="code literal-block">repositories {
   flatDir {
       dirs("libs")
   }
}


dependencies {
   implementation("gson-2.2.4")
}
</pre></div>

<p>However, being a standard .jar in an actual maven repository, why don't you
try this?</p>
<div class="code"><pre class="code literal-block">repositories {
   mavenCentral()
}
dependencies {
   implementation("com.google.code.gson:gson:2.2.4")
}
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>If you really need to take that .jar from a local directory,</p>
<p>Add next to your module gradle (Not the app gradle file):</p>
<div class="code"><pre class="code literal-block">repositories {
   flatDir {
       dirs("libs")
   }
}


dependencies {
   implementation("gson-2.2.4")
}
</pre></div>

<p>However, being a standard .jar in an actual maven repository, why don't you
try this?</p>
<div class="code"><pre class="code literal-block">repositories {
   mavenCentral()
}
dependencies {
   implementation("com.google.code.gson:gson:2.2.4")
}
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-does-collections-defaultdict-work/" class="u-url">How does collections.defaultdict work?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-does-collections-defaultdict-work/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T14:00:11+08:00" itemprop="datePublished" title="2023-02-17 14:00">2023-02-17 14:00</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I've read the examples in python docs, but still can't figure out what this
method means. Can somebody help? Here are two examples from the python docs</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">s</span> <span class="o">=</span> <span class="s1">'mississippi'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
<span class="o">...</span>     <span class="n">d</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="o">...</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
<span class="p">[(</span><span class="s1">'i'</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="s1">'p'</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="s1">'s'</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="s1">'m'</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]</span>
</pre></div>

<p>and</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="n">('yellow', 1), ('blue', 2), ('yellow', 3), ('blue', 4), ('red', 1)</span><span class="o">]</span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">defaultdict</span><span class="p">(</span><span class="n">list</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">k</span><span class="p">,</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nl">s</span><span class="p">:</span>
<span class="p">...</span><span class="w">     </span><span class="n">d</span><span class="o">[</span><span class="n">k</span><span class="o">]</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="p">...</span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">items</span><span class="p">()</span>
<span class="o">[</span><span class="n">('blue', [2, 4</span><span class="o">]</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="s1">'red'</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">1</span><span class="o">]</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="s1">'yellow'</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">1, 3</span><span class="o">]</span><span class="p">)</span><span class="err">]</span>
</pre></div>

<p>the parameters <code>int</code> and <code>list</code> are for what?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Usually, a Python dictionary throws a <code>KeyError</code> if you try to get an item
with a key that is not currently in the dictionary. The <code>defaultdict</code> in
contrast will simply create any items that you try to access (provided of
course they do not exist yet). To create such a "default" item, it calls the
function object that you pass to the constructor (more precisely, it's an
arbitrary "callable" object, which includes function and type objects). For
the first example, default items are created using <code>int()</code>, which will return
the integer object <code>0</code>. For the second example, default items are created
using <code>list()</code>, which returns a new empty list object.</p>
<p><br></p>
<h3>Suggest</h3>
<p><code>defaultdict</code> means that if a key is not found in the dictionary, then instead
of a <code>KeyError</code> being thrown, a new entry is created. The type of this new
entry is given by the argument of defaultdict.</p>
<p>For example:</p>
<div class="code"><pre class="code literal-block">somedict = {}
print(somedict[3]) # KeyError

someddict = defaultdict(int)
print(someddict[3]) # print int(), thus 0
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-714.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-712.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

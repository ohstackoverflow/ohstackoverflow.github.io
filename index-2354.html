<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2354) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2354.html">
<link rel="prev" href="index-2355.html" type="text/html">
<link rel="next" href="index-2353.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-getattr-exactly-and-how-do-i-use-it/" class="u-url">What is getattr() exactly and how do I use it?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-getattr-exactly-and-how-do-i-use-it/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T09:54:43+08:00" itemprop="datePublished" title="2023-03-04 09:54">2023-03-04 09:54</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I read an article about the <code>getattr</code> function, but I still can't understand
what it's for.</p>
<p>The only thing I understand about <code>getattr()</code> is that <code>getattr(li, "pop")</code> is
the same as calling <code>li.pop</code>.</p>
<p>When and how do I use this exactly? The book said something about using it to
get a reference to a function whose name isn't known until runtime, but when
and why would I use this?</p>
<p><br><br></p>
<h2>Answer</h2>
<p><code>getattr(object, 'x')</code> <strong>is completely equivalent</strong> to <code>object.x</code>.</p>
<p>There are <strong>only two cases</strong> where <code>getattr</code> can be useful.</p>
<ul>
<li>you can't write <code>object.x</code>, because you don't know in advance which attribute you want (it comes from a string). Very useful for meta-programming.</li>
<li>you want to provide a default value. <code>object.y</code> will raise an <code>AttributeError</code> if there's no <code>y</code>. But <code>getattr(object, 'y', 5)</code> will return <code>5</code>.</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<p><code>getattr(object, 'x')</code> <strong>is completely equivalent</strong> to <code>object.x</code>.</p>
<p>There are <strong>only two cases</strong> where <code>getattr</code> can be useful.</p>
<ul>
<li>you can't write <code>object.x</code>, because you don't know in advance which attribute you want (it comes from a string). Very useful for meta-programming.</li>
<li>you want to provide a default value. <code>object.y</code> will raise an <code>AttributeError</code> if there's no <code>y</code>. But <code>getattr(object, 'y', 5)</code> will return <code>5</code>.</li>
</ul>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-get-the-sharedpreferences-from-a-preferenceactivity-in-android/" class="u-url">How do I get the SharedPreferences from a PreferenceActivity in Android?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-get-the-sharedpreferences-from-a-preferenceactivity-in-android/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T09:53:16+08:00" itemprop="datePublished" title="2023-03-04 09:53">2023-03-04 09:53</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am using a PreferenceActivity to show some settings for my application. I am
inflating the settings via a xml file so that my onCreate (and complete class
methods) looks like this:</p>
<div class="code"><pre class="code literal-block"><span class="n">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">FooActivity</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="n">PreferenceActivity</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">@</span><span class="n">Override</span>
<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="nb nb-Type">void</span><span class="w"> </span><span class="n">onCreate</span><span class="p">(</span><span class="n">Bundle</span><span class="w"> </span><span class="n">icicle</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">super</span><span class="o">.</span><span class="n">onCreate</span><span class="p">(</span><span class="n">icicle</span><span class="p">);</span>
<span class="w">        </span><span class="n">addPreferencesFromResource</span><span class="p">(</span><span class="n">R</span><span class="o">.</span><span class="n">xml</span><span class="o">.</span><span class="n">preference</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>The javadoc of <del>PreferenceActivity</del> PreferenceFragment states that</p>
<blockquote>
<p>These preferences will automatically save to SharedPreferences as the user
interacts with them. To retrieve an instance of SharedPreferences that the
preference hierarchy in this activity will use, call
getDefaultSharedPreferences(android.content.Context) with a context in the
same package as this activity.</p>
</blockquote>
<p>But how I get the name of the SharedPreference in another Activity? I can only
call</p>
<div class="code"><pre class="code literal-block">getSharedPreferences(name, mode)
</pre></div>

<p>in the other activity but I need the name of the SharedPreference which was
used by the PreferenceActivity. What is the name or how can i retrieve it?</p>
<p><br><br></p>
<h2>Answer</h2>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">android.preference.PreferenceManager</span><span class="p">;</span>
<span class="n">SharedPreferences</span> <span class="n">prefs</span> <span class="o">=</span> <span class="n">PreferenceManager</span><span class="o">.</span><span class="n">getDefaultSharedPreferences</span><span class="p">(</span><span class="n">this</span><span class="p">);</span>
<span class="o">//</span> <span class="n">then</span> <span class="n">you</span> <span class="n">use</span>
<span class="n">prefs</span><span class="o">.</span><span class="n">getBoolean</span><span class="p">(</span><span class="s2">"keystring"</span><span class="p">,</span> <span class="n">true</span><span class="p">);</span>
</pre></div>

<p><strong>Update</strong></p>
<p>According to Shared Preferences | Android Developer Tutorial (Part 13) by Sai
Geetha M N,</p>
<blockquote>
<p>Many applications may provide a way to capture user preferences on the
settings of a specific application or an activity. For supporting this,
Android provides a simple set of APIs.</p>
<p>Preferences are typically name value pairs. They can be stored as “Shared
Preferences” across various activities in an application (note currently it
cannot be shared across processes). Or it can be something that needs to be
stored specific to an activity.</p>
</blockquote>
<ol>
<li>
<p>Shared Preferences: The shared preferences can be used by all the components (activities, services etc) of the applications.</p>
</li>
<li>
<p>Activity handled preferences: These preferences can only be used within the particular activity and can not be used by other components of the application.</p>
</li>
</ol>
<p><strong>Shared Preferences:</strong></p>
<p>The shared preferences are managed with the help of <code>getSharedPreferences</code>
method of the <code>Context</code> class. The preferences are stored in a default file
<strong>(1)</strong> or you can specify a file name <strong>(2)</strong> to be used to refer to the
preferences.</p>
<p>(1) <strong>The recommended way</strong> is to use by the default mode, without specifying
the file name</p>
<div class="code"><pre class="code literal-block">SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(context);
</pre></div>

<p>(2) Here is how you get the instance when you specify the file name</p>
<div class="code"><pre class="code literal-block">public static final String PREF_FILE_NAME = "PrefFile";
SharedPreferences preferences = getSharedPreferences(PREF_FILE_NAME, MODE_PRIVATE);
</pre></div>

<p><code>MODE_PRIVATE</code> is the operating mode for the preferences. It is the default
mode and means the created file will be accessed by only the calling
application. Other two modes supported are <code>MODE_WORLD_READABLE</code> and
<code>MODE_WORLD_WRITEABLE</code>. In <code>MODE_WORLD_READABLE</code> other application can read
the created file but can not modify it. In case of <code>MODE_WORLD_WRITEABLE</code>
other applications also have write permissions for the created file.</p>
<p>Finally, once you have the preferences instance, here is how you can
<strong>retrieve the stored values</strong> from the preferences:</p>
<div class="code"><pre class="code literal-block">int storedPreference = preferences.getInt("storedInt", 0);
</pre></div>

<p>To <strong>store values</strong> in the preference file <code>SharedPreference.Editor</code> object
has to be used. <code>Editor</code> is a nested interface in the <code>SharedPreference</code>
class.</p>
<div class="code"><pre class="code literal-block">SharedPreferences.Editor editor = preferences.edit();
editor.putInt("storedInt", storedPreference); // value to store
editor.commit();
</pre></div>

<p>Editor also supports methods like <code>remove()</code> and <code>clear()</code> to delete the
preference values from the file.</p>
<p><strong>Activity Preferences:</strong></p>
<p>The shared preferences can be used by other application components. But if you
do not need to share the preferences with other components and want to have
activity private preferences you can do that with the help of
<code>getPreferences()</code> method of the activity. The <code>getPreference</code> method uses the
<code>getSharedPreferences()</code> method with the name of the activity class for the
preference file name.</p>
<p>Following is the code to get preferences</p>
<div class="code"><pre class="code literal-block">SharedPreferences preferences = getPreferences(MODE_PRIVATE);
int storedPreference = preferences.getInt("storedInt", 0);
</pre></div>

<p>The code to store values is also the same as in case of shared preferences.</p>
<div class="code"><pre class="code literal-block">SharedPreferences preferences = getPreference(MODE_PRIVATE);
SharedPreferences.Editor editor = preferences.edit();
editor.putInt("storedInt", storedPreference); // value to store
editor.commit();
</pre></div>

<p>You can also use other methods like storing the activity state in database.
Note Android also contains a package called <code>android.preference</code>. The package
defines classes to implement application preferences UI.</p>
<p>To see some more examples check Android's Data Storage post on developers
site.</p>
<p><br></p>
<h3>Suggest</h3>
<p>If you don't have access to <code>getDefaultSharedPreferenes()</code>, you can use
<code>getSharedPreferences(name, mode)</code> instead, you just have to pass in the right
name.</p>
<p>Android creates this name (possibly based on the package name of your
project?). You can get it by putting the following code in a
<code>SettingsActivity</code> <code>onCreate()</code>, and seeing what <code>preferencesName</code> is.</p>
<div class="code"><pre class="code literal-block">String preferencesName = this.getPreferenceManager().getSharedPreferencesName();
</pre></div>

<p>The string should be something like <code>com.example.projectname_preferences</code>.
Hard code that somewhere in your project, and pass it in to
<code>getSharedPreferences()</code> and you should be good to go.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/pandas-get-rows-which-are-not-in-other-dataframe/" class="u-url">pandas get rows which are NOT in other dataframe</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/pandas-get-rows-which-are-not-in-other-dataframe/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T09:51:53+08:00" itemprop="datePublished" title="2023-03-04 09:51">2023-03-04 09:51</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I've two pandas data frames that have some rows in common.</p>
<p>Suppose dataframe2 is a subset of dataframe1.</p>
<p><strong>How can I get the rows of dataframe1 which are not in dataframe2?</strong></p>
<div class="code"><pre class="code literal-block">df1 = pandas.DataFrame(data = {'col1' : [1, 2, 3, 4, 5], 'col2' : [10, 11, 12, 13, 14]}) 
df2 = pandas.DataFrame(data = {'col1' : [1, 2, 3], 'col2' : [10, 11, 12]})
</pre></div>

<p>df1</p>
<div class="code"><pre class="code literal-block">   col1  col2
0     1    10
1     2    11
2     3    12
3     4    13
4     5    14
</pre></div>

<p>df2</p>
<div class="code"><pre class="code literal-block">   col1  col2
0     1    10
1     2    11
2     3    12
</pre></div>

<p>Expected result:</p>
<div class="code"><pre class="code literal-block">   col1  col2
3     4    13
4     5    14
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>One method would be to store the result of an inner merge form both dfs, then
we can simply select the rows when one column's values are not in this common:</p>
<div class="code"><pre class="code literal-block">In [119]:

common = df1.merge(df2,on=['col1','col2'])
print(common)
df1[(~df1.col1.isin(common.col1))&amp;(~df1.col2.isin(common.col2))]
   col1  col2
0     1    10
1     2    11
2     3    12
Out[119]:
   col1  col2
3     4    13
4     5    14
</pre></div>

<p><strong>EDIT</strong></p>
<p>Another method as you've found is to use <code>isin</code> which will produce <code>NaN</code> rows
which you can drop:</p>
<div class="code"><pre class="code literal-block">In [138]:

df1[~df1.isin(df2)].dropna()
Out[138]:
   col1  col2
3     4    13
4     5    14
</pre></div>

<p>However if df2 does not start rows in the same manner then this won't work:</p>
<div class="code"><pre class="code literal-block">df2 = pd.DataFrame(data = {'col1' : [2, 3,4], 'col2' : [11, 12,13]})
</pre></div>

<p>will produce the entire df:</p>
<div class="code"><pre class="code literal-block">In [140]:

df1[~df1.isin(df2)].dropna()
Out[140]:
   col1  col2
0     1    10
1     2    11
2     3    12
3     4    13
4     5    14
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>One method would be to store the result of an inner merge form both dfs, then
we can simply select the rows when one column's values are not in this common:</p>
<div class="code"><pre class="code literal-block">In [119]:

common = df1.merge(df2,on=['col1','col2'])
print(common)
df1[(~df1.col1.isin(common.col1))&amp;(~df1.col2.isin(common.col2))]
   col1  col2
0     1    10
1     2    11
2     3    12
Out[119]:
   col1  col2
3     4    13
4     5    14
</pre></div>

<p><strong>EDIT</strong></p>
<p>Another method as you've found is to use <code>isin</code> which will produce <code>NaN</code> rows
which you can drop:</p>
<div class="code"><pre class="code literal-block">In [138]:

df1[~df1.isin(df2)].dropna()
Out[138]:
   col1  col2
3     4    13
4     5    14
</pre></div>

<p>However if df2 does not start rows in the same manner then this won't work:</p>
<div class="code"><pre class="code literal-block">df2 = pd.DataFrame(data = {'col1' : [2, 3,4], 'col2' : [11, 12,13]})
</pre></div>

<p>will produce the entire df:</p>
<div class="code"><pre class="code literal-block">In [140]:

df1[~df1.isin(df2)].dropna()
Out[140]:
   col1  col2
0     1    10
1     2    11
2     3    12
3     4    13
4     5    14
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2355.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2353.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

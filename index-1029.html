<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1029) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1029.html">
<link rel="prev" href="index-1030.html" type="text/html">
<link rel="next" href="index-1028.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/utf-8-utf-16-and-utf-32/" class="u-url">UTF-8, UTF-16, and UTF-32</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/utf-8-utf-16-and-utf-32/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T23:03:19+08:00" itemprop="datePublished" title="2023-02-17 23:03">2023-02-17 23:03</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What are the differences between UTF-8, UTF-16, and UTF-32?</p>
<p>I understand that they will all store Unicode, and that each uses a different
number of bytes to represent a character. Is there an advantage to choosing
one over the other?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>UTF-8 has an advantage in the case where ASCII characters represent the
majority of characters in a block of text, because UTF-8 encodes these into 8
bits (like ASCII). It is also advantageous in that a UTF-8 file containing
only ASCII characters has the same encoding as an ASCII file.</p>
<p>UTF-16 is better where ASCII is not predominant, since it uses 2 bytes per
character, primarily. UTF-8 will start to use 3 or more bytes for the higher
order characters where UTF-16 remains at just 2 bytes for most characters.</p>
<p>UTF-32 will cover all possible characters in 4 bytes. This makes it pretty
bloated. I can't think of any advantage to using it.</p>
<p><br></p>
<h3>Suggest</h3>
<p>In short:</p>
<ul>
<li>UTF-8: Variable-width encoding, backwards compatible with ASCII. ASCII characters (U+0000 to U+007F) take 1 byte, code points U+0080 to U+07FF take 2 bytes, code points U+0800 to U+FFFF take 3 bytes, code points U+10000 to U+10FFFF take 4 bytes. Good for English text, not so good for Asian text.</li>
<li>UTF-16: Variable-width encoding. Code points U+0000 to U+FFFF take 2 bytes, code points U+10000 to U+10FFFF take 4 bytes. Bad for English text, good for Asian text.</li>
<li>UTF-32: Fixed-width encoding. All code points take four bytes. An enormous memory hog, but fast to operate on. Rarely used.</li>
</ul>
<p>In long: see Wikipedia: UTF-8, UTF-16, and UTF-32.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-check-if-an-element-exists-in-the-visible-dom/" class="u-url">How can I check if an element exists in the visible DOM?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-check-if-an-element-exists-in-the-visible-dom/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T23:02:45+08:00" itemprop="datePublished" title="2023-02-17 23:02">2023-02-17 23:02</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How do you test an element for existence without the use of the
<code>getElementById</code> method?</p>
<p>I have set up a live demo for reference. I will also print the code on here as
well:</p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;!</span><span class="n">DOCTYPE</span><span class="w"> </span><span class="n">html</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">html</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">head</span><span class="o">&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="n">script</span><span class="o">&gt;</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">getRandomID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="p">(</span><span class="n">size</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">var</span><span class="w"> </span><span class="nb">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span>
<span class="w">                </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                </span><span class="n">chars</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"0123456789abcdefghijklmnopqurstuvwxyzABCDEFGHIJKLMNOPQURSTUVWXYZ"</span><span class="p">;</span>
<span class="w">            </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">size</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nb">str</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">chars</span><span class="o">.</span><span class="n">substr</span><span class="p">(</span><span class="n">Math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">Math</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">62</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w">                </span><span class="n">i</span><span class="o">++</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nb">str</span><span class="p">;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="n">isNull</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="p">(</span><span class="n">element</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">var</span><span class="w"> </span><span class="n">randomID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getRandomID</span><span class="p">(</span><span class="mi">12</span><span class="p">),</span>
<span class="w">                </span><span class="n">savedID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">element</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="err">?</span><span class="w"> </span><span class="n">element</span><span class="o">.</span><span class="n">id</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">;</span>
<span class="w">            </span><span class="n">element</span><span class="o">.</span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">randomID</span><span class="p">;</span>
<span class="w">            </span><span class="k">var</span><span class="w"> </span><span class="n">foundElm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">document</span><span class="o">.</span><span class="n">getElementById</span><span class="p">(</span><span class="n">randomID</span><span class="p">);</span>
<span class="w">            </span><span class="n">element</span><span class="o">.</span><span class="n">removeAttribute</span><span class="p">(</span><span class="s1">'id'</span><span class="p">);</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">savedID</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">element</span><span class="o">.</span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">savedID</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">foundElm</span><span class="p">)</span><span class="w"> </span><span class="err">?</span><span class="w"> </span><span class="bp">false</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="bp">true</span><span class="p">;</span>
<span class="w">        </span><span class="p">};</span>
<span class="w">    </span><span class="n">window</span><span class="o">.</span><span class="n">onload</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">var</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">document</span><span class="o">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s2">"demo"</span><span class="p">);</span>
<span class="w">        </span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s1">'undefined'</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nb">typeof</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">'undefined'</span><span class="p">)</span><span class="w"> </span><span class="err">?</span><span class="w"> </span><span class="bp">true</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="bp">false</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="bp">false</span>
<span class="w">        </span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s1">'null'</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">image</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">)</span><span class="w"> </span><span class="err">?</span><span class="w"> </span><span class="bp">true</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="bp">false</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="bp">false</span>
<span class="w">        </span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s1">'find-by-id'</span><span class="p">,</span><span class="w"> </span><span class="n">isNull</span><span class="p">(</span><span class="n">image</span><span class="p">));</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="bp">false</span>
<span class="w">        </span><span class="n">image</span><span class="o">.</span><span class="n">parentNode</span><span class="o">.</span><span class="n">removeChild</span><span class="p">(</span><span class="n">image</span><span class="p">);</span>
<span class="w">        </span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s1">'undefined'</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nb">typeof</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">'undefined'</span><span class="p">)</span><span class="w"> </span><span class="err">?</span><span class="w"> </span><span class="bp">true</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="bp">false</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="bp">false</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="bp">true</span><span class="err">?</span>
<span class="w">        </span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s1">'null'</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">image</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">)</span><span class="w"> </span><span class="err">?</span><span class="w"> </span><span class="bp">true</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="bp">false</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="bp">false</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="bp">true</span><span class="err">?</span>
<span class="w">        </span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s1">'find-by-id'</span><span class="p">,</span><span class="w"> </span><span class="n">isNull</span><span class="p">(</span><span class="n">image</span><span class="p">));</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="bp">true</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">correct</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">better</span><span class="w"> </span><span class="n">way</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">this</span><span class="err">?</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">head</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">body</span><span class="o">&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="n">div</span><span class="w"> </span><span class="n">id</span><span class="o">=</span><span class="s2">"demo"</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">body</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">html</span><span class="o">&gt;</span>
</pre></div>

<p>Basically the above code demonstrates an element being stored into a variable
and then removed from the DOM. Even though the element has been removed from
the DOM, the variable retains the element as it was when first declared. In
other words, it is not a live reference to the element itself, but rather a
replica. As a result, checking the variable's value (the element) for
existence will provide an unexpected result.</p>
<p>The <code>isNull</code> function is my attempt to check for an elements existence from a
variable, and it works, but I would like to know if there is an easier way to
accomplish the same result.</p>
<p>PS: I'm also interested in why JavaScript variables behave like this if anyone
knows of some good articles related to the subject.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>It seems some people are landing here, and simply want to know if an element
<em>exists</em> (a little bit different to the original question).</p>
<p>That's as simple as using any of the browser's selecting method, and checking
it for a <em>truthy</em> value (generally).</p>
<p>For example, if my element had an <code>id</code> of <code>"find-me"</code>, I could simply use...</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">elementExists</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">document</span><span class="o">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s2">"find-me"</span><span class="p">);</span>
</pre></div>

<p>This is specified to either return a reference to the element or <code>null</code>. If
you must have a Boolean value, simply toss a <code>!!</code> before the method call.</p>
<p>In addition, you can use some of the many other methods that exist for finding
elements, such as (all living off <code>document</code>):</p>
<ul>
<li>
<code>querySelector()</code>/<code>querySelectorAll()</code>
</li>
<li><code>getElementsByClassName()</code></li>
<li><code>getElementsByName()</code></li>
</ul>
<p>Some of these methods return a <code>NodeList</code>, so be sure to check its <code>length</code>
property, because a <code>NodeList</code> is an object, and therefore <em>truthy</em>.</p>
<hr>
<p>For actually determining if an element exists as part of the visible DOM (like
the question originally asked), Csuwldcat provides a better solution than
rolling your own (as this answer used to contain). That is, to use the
<code>contains()</code> method on DOM elements.</p>
<p>You could use it like so...</p>
<div class="code"><pre class="code literal-block">document.body.contains(someReferenceToADomElement);
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Use <code>getElementById()</code> if it's available.</p>
<p>Also, here's an easy way to do it with jQuery:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span>$<span class="ss">(</span><span class="s1">'#elementId'</span><span class="ss">)</span>.<span class="nv">length</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="nv">Exists</span>.
}
</pre></div>

<p>And if you can't use third-party libraries, just stick to base JavaScript:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">document</span><span class="o">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s1">'elementId'</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">typeof</span><span class="p">(</span><span class="n">element</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s1">'undefined'</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">Exists</span><span class="o">.</span>
<span class="p">}</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-create-a-please-wait-loading-animation-using-jquery/" class="u-url">How can I create a "Please Wait, Loading..." animation using jQuery?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-create-a-please-wait-loading-animation-using-jquery/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T23:02:11+08:00" itemprop="datePublished" title="2023-02-17 23:02">2023-02-17 23:02</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I would like to place a "please wait, loading" spinning circle animation on my
site. How should I accomplish this using jQuery?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You could do this various different ways. It could be a subtle as a small
status on the page saying "Loading...", or as loud as an entire element
graying out the page while the new data is loading. The approach I'm taking
below will show you how to accomplish both methods.</p>
<h4>The Setup</h4>
<p>Let's start by getting us a nice "loading" animation from http://ajaxload.info
I'll be using <img alt="enter image description here" src="images/FhHRx.gif"></p>
<p>Let's create an element that we can show/hide anytime we're making an ajax
request:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"modal"</span><span class="nt">&gt;</span><span class="cm">&lt;!-- Place at bottom of page --&gt;</span><span class="nt">&lt;/div&gt;</span>
</pre></div>

<h4>The CSS</h4>
<p>Next let's give it some flair:</p>
<div class="code"><pre class="code literal-block"><span class="o">/*</span><span class="w"> </span><span class="n">Start</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">setting</span><span class="w"> </span><span class="n">display</span><span class="p">:</span><span class="n">none</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">hidden</span><span class="o">.</span>
<span class="w">   </span><span class="n">Then</span><span class="w"> </span><span class="n">we</span><span class="w"> </span><span class="n">position</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">relation</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">viewport</span><span class="w"> </span><span class="n">window</span>
<span class="w">   </span><span class="n">with</span><span class="w"> </span><span class="n">position</span><span class="p">:</span><span class="n">fixed</span><span class="o">.</span><span class="w"> </span><span class="n">Width</span><span class="p">,</span><span class="w"> </span><span class="n">height</span><span class="p">,</span><span class="w"> </span><span class="n">top</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">left</span><span class="w"> </span><span class="n">speak</span>
<span class="w">   </span><span class="k">for</span><span class="w"> </span><span class="n">themselves</span><span class="o">.</span><span class="w"> </span><span class="n">Background</span><span class="w"> </span><span class="n">we</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">80</span><span class="o">%</span><span class="w"> </span><span class="n">white</span><span class="w"> </span><span class="n">with</span>
<span class="w">   </span><span class="n">our</span><span class="w"> </span><span class="n">animation</span><span class="w"> </span><span class="n">centered</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">no</span><span class="o">-</span><span class="n">repeating</span><span class="w"> </span><span class="o">*/</span>
<span class="o">.</span><span class="n">modal</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">display</span><span class="p">:</span><span class="w">    </span><span class="n">none</span><span class="p">;</span>
<span class="w">    </span><span class="n">position</span><span class="p">:</span><span class="w">   </span><span class="n">fixed</span><span class="p">;</span>
<span class="w">    </span><span class="n">z</span><span class="o">-</span><span class="n">index</span><span class="p">:</span><span class="w">    </span><span class="mi">1000</span><span class="p">;</span>
<span class="w">    </span><span class="n">top</span><span class="p">:</span><span class="w">        </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="n">left</span><span class="p">:</span><span class="w">       </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="n">height</span><span class="p">:</span><span class="w">     </span><span class="mi">100</span><span class="o">%</span><span class="p">;</span>
<span class="w">    </span><span class="n">width</span><span class="p">:</span><span class="w">      </span><span class="mi">100</span><span class="o">%</span><span class="p">;</span>
<span class="w">    </span><span class="n">background</span><span class="p">:</span><span class="w"> </span><span class="n">rgba</span><span class="p">(</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="o">.</span><span class="mi">8</span><span class="w"> </span><span class="p">)</span><span class="w"> </span>
<span class="w">                </span><span class="n">url</span><span class="p">(</span><span class="s1">'http://i.stack.imgur.com/FhHRx.gif'</span><span class="p">)</span><span class="w"> </span>
<span class="w">                </span><span class="mi">50</span><span class="o">%</span><span class="w"> </span><span class="mi">50</span><span class="o">%</span><span class="w"> </span>
<span class="w">                </span><span class="n">no</span><span class="o">-</span><span class="n">repeat</span><span class="p">;</span>
<span class="p">}</span>

<span class="o">/*</span><span class="w"> </span><span class="n">When</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">loading</span><span class="w"> </span><span class="k">class</span><span class="p">,</span><span class="w"> </span><span class="n">we</span><span class="w"> </span><span class="n">turn</span>
<span class="w">   </span><span class="n">the</span><span class="w"> </span><span class="n">scrollbar</span><span class="w"> </span><span class="n">off</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">overflow</span><span class="p">:</span><span class="n">hidden</span><span class="w"> </span><span class="o">*/</span>
<span class="n">body</span><span class="o">.</span><span class="n">loading</span><span class="w"> </span><span class="o">.</span><span class="n">modal</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">overflow</span><span class="p">:</span><span class="w"> </span><span class="n">hidden</span><span class="p">;</span><span class="w">   </span>
<span class="p">}</span>

<span class="o">/*</span><span class="w"> </span><span class="n">Anytime</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">loading</span><span class="w"> </span><span class="k">class</span><span class="p">,</span><span class="w"> </span><span class="n">our</span>
<span class="w">   </span><span class="n">modal</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">visible</span><span class="w"> </span><span class="o">*/</span>
<span class="n">body</span><span class="o">.</span><span class="n">loading</span><span class="w"> </span><span class="o">.</span><span class="n">modal</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">display</span><span class="p">:</span><span class="w"> </span><span class="n">block</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<h4>And finally, the jQuery</h4>
<p>Alright, on to the jQuery. This next part is actually really simple:</p>
<div class="code"><pre class="code literal-block"><span class="o">$</span><span class="n">body</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="s2">"body"</span><span class="p">);</span>

<span class="o">$</span><span class="p">(</span><span class="n">document</span><span class="p">)</span><span class="o">.</span><span class="n">on</span><span class="p">({</span>
<span class="w">    </span><span class="n">ajaxStart</span><span class="p">:</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">$</span><span class="n">body</span><span class="o">.</span><span class="n">addClass</span><span class="p">(</span><span class="s2">"loading"</span><span class="p">);</span><span class="w">    </span><span class="p">},</span>
<span class="w">     </span><span class="n">ajaxStop</span><span class="p">:</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">$</span><span class="n">body</span><span class="o">.</span><span class="n">removeClass</span><span class="p">(</span><span class="s2">"loading"</span><span class="p">);</span><span class="w"> </span><span class="p">}</span><span class="w">    </span>
<span class="p">});</span>
</pre></div>

<p>That's it! We're attaching some events to the body element anytime the
<code>ajaxStart</code> or <code>ajaxStop</code> events are fired. When an ajax event starts, we add
the "loading" class to the body. and when events are done, we remove the
"loading" class from the body.</p>
<p>See it in action: http://jsfiddle.net/VpDUG/4952/</p>
<p><br></p>
<h3>Suggest</h3>
<p>As far as the actual loading image, check out this site for a bunch of
options.</p>
<p>As far as displaying a DIV with this image when a request begins, you have a
few choices:</p>
<p>A) Manually show and hide the image:</p>
<div class="code"><pre class="code literal-block">$<span class="ss">(</span><span class="s1">'#form'</span><span class="ss">)</span>.<span class="nv">submit</span><span class="ss">(</span><span class="nv">function</span><span class="ss">()</span><span class="w"> </span>{
<span class="w">    </span>$<span class="ss">(</span><span class="s1">'#wait'</span><span class="ss">)</span>.<span class="k">show</span><span class="ss">()</span><span class="c1">;</span>
<span class="w">    </span>$.<span class="nv">post</span><span class="ss">(</span><span class="s1">'/whatever.php'</span>,<span class="w"> </span><span class="nv">function</span><span class="ss">()</span><span class="w"> </span>{
<span class="w">        </span>$<span class="ss">(</span><span class="s1">'#wait'</span><span class="ss">)</span>.<span class="nv">hide</span><span class="ss">()</span><span class="c1">;</span>
<span class="w">    </span>}<span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">false</span><span class="c1">;</span>
}<span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p>B) Use ajaxStart and ajaxComplete:</p>
<div class="code"><pre class="code literal-block">$<span class="ss">(</span><span class="s1">'#wait'</span><span class="ss">)</span>.<span class="nv">ajaxStart</span><span class="ss">(</span><span class="nv">function</span><span class="ss">()</span><span class="w"> </span>{
<span class="w">    </span>$<span class="ss">(</span><span class="nv">this</span><span class="ss">)</span>.<span class="k">show</span><span class="ss">()</span><span class="c1">;</span>
}<span class="ss">)</span>.<span class="nv">ajaxComplete</span><span class="ss">(</span><span class="nv">function</span><span class="ss">()</span><span class="w"> </span>{
<span class="w">    </span>$<span class="ss">(</span><span class="nv">this</span><span class="ss">)</span>.<span class="nv">hide</span><span class="ss">()</span><span class="c1">;</span>
}<span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p>Using this the element will show/hide for <em>any</em> request. Could be good or bad,
depending on the need.</p>
<p>C) Use individual callbacks for a particular request:</p>
<div class="code"><pre class="code literal-block"><span class="o">$(</span><span class="s1">'#form'</span><span class="o">)</span><span class="p">.</span><span class="nc">submit</span><span class="o">(</span><span class="nt">function</span><span class="o">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">$.ajax({</span>
<span class="w">        </span><span class="n">url</span><span class="p">:</span><span class="w"> </span><span class="s1">'/whatever.php'</span><span class="p">,</span>
<span class="w">        </span><span class="n">beforeSend</span><span class="o">:</span><span class="w"> </span><span class="nf">function</span><span class="p">()</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="err">$</span><span class="p">(</span><span class="s1">'#wait'</span><span class="p">)</span><span class="o">.</span><span class="nf">show</span><span class="p">();</span><span class="w"> </span><span class="p">}</span><span class="o">,</span>
<span class="w">        </span><span class="nt">complete</span><span class="o">:</span><span class="w"> </span><span class="nt">function</span><span class="o">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">$('#wait').hide()</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="err">}</span><span class="o">);</span>
<span class="w">    </span><span class="nt">return</span><span class="w"> </span><span class="nt">false</span><span class="o">;</span>
<span class="err">}</span><span class="o">);</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1030.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1028.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1479) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1479.html">
<link rel="prev" href="index-1480.html" type="text/html">
<link rel="next" href="index-1478.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/borsh-serialization-fails-in-react-application/" class="u-url">Borsh Serialization fails in React Application</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/borsh-serialization-fails-in-react-application/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-28T05:01:36+08:00" itemprop="datePublished" title="2023-02-28 05:01">2023-02-28 05:01</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>This script fails to deserialize my Object. Error was <code>TypeError:
this.buf.readUInt32LE is not a function</code></p>
<div class="code"><pre class="code literal-block"><span class="n">TypeError</span><span class="o">:</span><span class="w"> </span><span class="k">this</span><span class="o">.</span><span class="na">buf</span><span class="o">.</span><span class="na">readUInt32LE</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="kd">function</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">BinaryReader</span><span class="o">.</span><span class="na">readU32</span><span class="w"> </span><span class="o">(</span><span class="n">index</span><span class="o">.</span><span class="na">js</span><span class="o">:</span><span class="mi">165</span><span class="o">)</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">BinaryReader</span><span class="o">.</span><span class="na">propertyDescriptor</span><span class="o">.</span><span class="na">value</span><span class="w"> </span><span class="o">(</span><span class="n">index</span><span class="o">.</span><span class="na">js</span><span class="o">:</span><span class="mi">136</span><span class="o">)</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">BinaryReader</span><span class="o">.</span><span class="na">readString</span><span class="w"> </span><span class="o">(</span><span class="n">index</span><span class="o">.</span><span class="na">js</span><span class="o">:</span><span class="mi">194</span><span class="o">)</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">BinaryReader</span><span class="o">.</span><span class="na">propertyDescriptor</span><span class="o">.</span><span class="na">value</span><span class="w"> </span><span class="o">(</span><span class="n">index</span><span class="o">.</span><span class="na">js</span><span class="o">:</span><span class="mi">136</span><span class="o">)</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">deserializeField</span><span class="w"> </span><span class="o">(</span><span class="n">index</span><span class="o">.</span><span class="na">js</span><span class="o">:</span><span class="mi">341</span><span class="o">)</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">deserializeStruct</span><span class="w"> </span><span class="o">(</span><span class="n">index</span><span class="o">.</span><span class="na">js</span><span class="o">:</span><span class="mi">385</span><span class="o">)</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">Object</span><span class="o">.</span><span class="na">deserialize</span><span class="w"> </span><span class="o">(</span><span class="n">index</span><span class="o">.</span><span class="na">js</span><span class="o">:</span><span class="mi">403</span><span class="o">)</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">hello</span><span class="w"> </span><span class="o">(</span><span class="n">App</span><span class="o">.</span><span class="na">js</span><span class="o">:</span><span class="mi">52</span><span class="o">)</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">HTMLUnknownElement</span><span class="o">.</span><span class="na">callCallback</span><span class="w"> </span><span class="o">(</span><span class="n">react</span><span class="o">-</span><span class="n">dom</span><span class="o">.</span><span class="na">development</span><span class="o">.</span><span class="na">js</span><span class="o">:</span><span class="mi">3945</span><span class="o">)</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">Object</span><span class="o">.</span><span class="na">invokeGuardedCallbackDev</span><span class="w"> </span><span class="o">(</span><span class="n">react</span><span class="o">-</span><span class="n">dom</span><span class="o">.</span><span class="na">development</span><span class="o">.</span><span class="na">js</span><span class="o">:</span><span class="mi">3994</span><span class="o">)</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">invokeGuardedCallback</span><span class="w"> </span><span class="o">(</span><span class="n">react</span><span class="o">-</span><span class="n">dom</span><span class="o">.</span><span class="na">development</span><span class="o">.</span><span class="na">js</span><span class="o">:</span><span class="mi">4056</span><span class="o">)</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">invokeGuardedCallbackAndCatchFirstError</span><span class="w"> </span><span class="o">(</span><span class="n">react</span><span class="o">-</span><span class="n">dom</span><span class="o">.</span><span class="na">development</span><span class="o">.</span><span class="na">js</span><span class="o">:</span><span class="mi">4070</span><span class="o">)</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">executeDispatch</span><span class="w"> </span><span class="o">(</span><span class="n">react</span><span class="o">-</span><span class="n">dom</span><span class="o">.</span><span class="na">development</span><span class="o">.</span><span class="na">js</span><span class="o">:</span><span class="mi">8243</span><span class="o">)</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">processDispatchQueueItemsInOrder</span><span class="w"> </span><span class="o">(</span><span class="n">react</span><span class="o">-</span><span class="n">dom</span><span class="o">.</span><span class="na">development</span><span class="o">.</span><span class="na">js</span><span class="o">:</span><span class="mi">8275</span><span class="o">)</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">processDispatchQueue</span><span class="w"> </span><span class="o">(</span><span class="n">react</span><span class="o">-</span><span class="n">dom</span><span class="o">.</span><span class="na">development</span><span class="o">.</span><span class="na">js</span><span class="o">:</span><span class="mi">8288</span><span class="o">)</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">dispatchEventsForPlugins</span><span class="w"> </span><span class="o">(</span><span class="n">react</span><span class="o">-</span><span class="n">dom</span><span class="o">.</span><span class="na">development</span><span class="o">.</span><span class="na">js</span><span class="o">:</span><span class="mi">8299</span><span class="o">)</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">react</span><span class="o">-</span><span class="n">dom</span><span class="o">.</span><span class="na">development</span><span class="o">.</span><span class="na">js</span><span class="o">:</span><span class="mi">8508</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">batchedEventUpdates$1</span><span class="w"> </span><span class="o">(</span><span class="n">react</span><span class="o">-</span><span class="n">dom</span><span class="o">.</span><span class="na">development</span><span class="o">.</span><span class="na">js</span><span class="o">:</span><span class="mi">22396</span><span class="o">)</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">batchedEventUpdates</span><span class="w"> </span><span class="o">(</span><span class="n">react</span><span class="o">-</span><span class="n">dom</span><span class="o">.</span><span class="na">development</span><span class="o">.</span><span class="na">js</span><span class="o">:</span><span class="mi">3745</span><span class="o">)</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">dispatchEventForPluginEventSystem</span><span class="w"> </span><span class="o">(</span><span class="n">react</span><span class="o">-</span><span class="n">dom</span><span class="o">.</span><span class="na">development</span><span class="o">.</span><span class="na">js</span><span class="o">:</span><span class="mi">8507</span><span class="o">)</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">attemptToDispatchEvent</span><span class="w"> </span><span class="o">(</span><span class="n">react</span><span class="o">-</span><span class="n">dom</span><span class="o">.</span><span class="na">development</span><span class="o">.</span><span class="na">js</span><span class="o">:</span><span class="mi">6005</span><span class="o">)</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">dispatchEvent</span><span class="w"> </span><span class="o">(</span><span class="n">react</span><span class="o">-</span><span class="n">dom</span><span class="o">.</span><span class="na">development</span><span class="o">.</span><span class="na">js</span><span class="o">:</span><span class="mi">5924</span><span class="o">)</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">unstable_runWithPriority</span><span class="w"> </span><span class="o">(</span><span class="n">scheduler</span><span class="o">.</span><span class="na">development</span><span class="o">.</span><span class="na">js</span><span class="o">:</span><span class="mi">468</span><span class="o">)</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">runWithPriority$1</span><span class="w"> </span><span class="o">(</span><span class="n">react</span><span class="o">-</span><span class="n">dom</span><span class="o">.</span><span class="na">development</span><span class="o">.</span><span class="na">js</span><span class="o">:</span><span class="mi">11276</span><span class="o">)</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">discreteUpdates$1</span><span class="w"> </span><span class="o">(</span><span class="n">react</span><span class="o">-</span><span class="n">dom</span><span class="o">.</span><span class="na">development</span><span class="o">.</span><span class="na">js</span><span class="o">:</span><span class="mi">22413</span><span class="o">)</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">discreteUpdates</span><span class="w"> </span><span class="o">(</span><span class="n">react</span><span class="o">-</span><span class="n">dom</span><span class="o">.</span><span class="na">development</span><span class="o">.</span><span class="na">js</span><span class="o">:</span><span class="mi">3756</span><span class="o">)</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">dispatchDiscreteEvent</span><span class="w"> </span><span class="o">(</span><span class="n">react</span><span class="o">-</span><span class="n">dom</span><span class="o">.</span><span class="na">development</span><span class="o">.</span><span class="na">js</span><span class="o">:</span><span class="mi">5889</span><span class="o">)</span>
</pre></div>

<p>This works fine on CodesandBox but fails on the local machines.</p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="n">borsh</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">require</span><span class="p">(</span><span class="s2">"borsh"</span><span class="p">);</span>

<span class="k">class</span><span class="w"> </span><span class="n">Assignable</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">constructor</span><span class="p">(</span><span class="n">properties</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nb nb-Type">Object</span><span class="o">.</span><span class="n">keys</span><span class="p">(</span><span class="n">properties</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">((</span><span class="n">key</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">this</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">properties</span><span class="p">[</span><span class="n">key</span><span class="p">]);</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span><span class="w"> </span><span class="n">Task</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="n">Assignable</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>

<span class="k">export</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">App</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="p">,</span>
<span class="w">    </span><span class="n">assignee</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sai"</span><span class="p">,</span>
<span class="w">    </span><span class="n">project_id</span><span class="p">:</span><span class="w"> </span><span class="s2">"ABX"</span><span class="p">,</span>
<span class="w">    </span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello"</span><span class="p">,</span>
<span class="w">    </span><span class="n">description</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample task Example"</span><span class="p">,</span>
<span class="w">    </span><span class="n">status</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOT DONE"</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">schema</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Map</span><span class="p">([</span>
<span class="w">    </span><span class="p">[</span>
<span class="w">      </span><span class="n">Task</span><span class="p">,</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="n">kind</span><span class="p">:</span><span class="w"> </span><span class="s2">"struct"</span><span class="p">,</span>
<span class="w">        </span><span class="n">fields</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="p">[</span><span class="s2">"id"</span><span class="p">,</span><span class="w"> </span><span class="s2">"string"</span><span class="p">],</span>
<span class="w">          </span><span class="p">[</span><span class="s2">"name"</span><span class="p">,</span><span class="w"> </span><span class="s2">"string"</span><span class="p">],</span>
<span class="w">          </span><span class="p">[</span><span class="s2">"description"</span><span class="p">,</span><span class="w"> </span><span class="s2">"string"</span><span class="p">],</span>
<span class="w">          </span><span class="p">[</span><span class="s2">"assignee"</span><span class="p">,</span><span class="w"> </span><span class="s2">"string"</span><span class="p">],</span>
<span class="w">          </span><span class="p">[</span><span class="s2">"project_id"</span><span class="p">,</span><span class="w"> </span><span class="s2">"string"</span><span class="p">],</span>
<span class="w">          </span><span class="p">[</span><span class="s2">"status"</span><span class="p">,</span><span class="w"> </span><span class="s2">"string"</span><span class="p">]</span>
<span class="w">        </span><span class="p">]</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">]);</span>
<span class="w">  </span><span class="n">function</span><span class="w"> </span><span class="n">hello</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">task</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Task</span><span class="p">({</span>
<span class="w">      </span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="n">example</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
<span class="w">      </span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="n">example</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
<span class="w">      </span><span class="n">description</span><span class="p">:</span><span class="w"> </span><span class="n">example</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
<span class="w">      </span><span class="n">assignee</span><span class="p">:</span><span class="w"> </span><span class="n">example</span><span class="o">.</span><span class="n">assignee</span><span class="p">,</span>
<span class="w">      </span><span class="n">project_id</span><span class="p">:</span><span class="w"> </span><span class="n">example</span><span class="o">.</span><span class="n">project_id</span><span class="p">,</span>
<span class="w">      </span><span class="n">status</span><span class="p">:</span><span class="w"> </span><span class="n">example</span><span class="o">.</span><span class="n">status</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">    </span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">task</span><span class="p">);</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">buf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">borsh</span><span class="o">.</span><span class="n">serialize</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span><span class="w"> </span><span class="n">task</span><span class="p">);</span>
<span class="w">    </span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">buf</span><span class="p">);</span>
<span class="w">    </span><span class="n">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">const</span><span class="w"> </span><span class="n">newValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">borsh</span><span class="o">.</span><span class="n">deserialize</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span><span class="w"> </span><span class="n">Task</span><span class="p">,</span><span class="w"> </span><span class="n">buf</span><span class="p">);</span>
<span class="w">      </span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">newValue</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="n">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">error</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="n">div</span><span class="w"> </span><span class="n">className</span><span class="o">=</span><span class="s2">"APPLE"</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="n">button</span><span class="w"> </span><span class="n">onClick</span><span class="o">=</span><span class="p">{</span><span class="n">hello</span><span class="p">}</span><span class="o">&gt;</span><span class="n">Create</span><span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
<span class="w">    </span><span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>I looked at the dependencies in the codesandbox page and it imports globally
the buffer package. I tried doing the same locally with <code>require('buffer/')</code>,
but no luck. However, it works using it as <code>const Buffer =
require('buffer/').Buffer</code> and calling the method <code>Buffer.from</code> to get the
buffer from the serialized data.</p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="n">Buffer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">require</span><span class="p">(</span><span class="s1">'buffer/'</span><span class="p">)</span><span class="o">.</span><span class="n">Buffer</span>
<span class="o">...</span>
<span class="k">const</span><span class="w"> </span><span class="n">buf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Buffer</span><span class="o">.</span><span class="n">from</span><span class="p">(</span><span class="n">borsh</span><span class="o">.</span><span class="n">serialize</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span><span class="w"> </span><span class="n">task</span><span class="p">));</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/weird-error-using-smart-contracts-with-usedapp-and-ethersproject-contracts/" class="u-url">Weird error using Smart Contracts with @usedapp and @ethersproject/contracts</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/weird-error-using-smart-contracts-with-usedapp-and-ethersproject-contracts/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-28T05:01:18+08:00" itemprop="datePublished" title="2023-02-28 05:01">2023-02-28 05:01</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Hello there I'm trying to use a contract made on solidity and deployed with
brownie on my front end using React and typescript. also using the framework
usedapp, as the documentation here says in order to interact with a contract
function I should create a new contract, providing the address and the ABI.
Here is my code:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="p">{</span><span class="n">useContractFunction</span><span class="p">,</span> <span class="n">useEthers</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">'@usedapp/core'</span>
<span class="kn">import</span> <span class="nn">TokenFarm</span> <span class="kn">from</span> <span class="s2">"../chain-info/contracts/TokenFarm.json"</span>
<span class="kn">import</span> <span class="nn">ERC20</span> <span class="kn">from</span> <span class="s2">"../chain-info/contracts/MockERC20.json"</span>
<span class="kn">import</span> <span class="nn">networkMapping</span> <span class="kn">from</span> <span class="s2">"../chain-info/deployments/map.json"</span>
<span class="kn">import</span> <span class="p">{</span><span class="n">constants</span><span class="p">,</span> <span class="n">utils</span><span class="p">}</span> <span class="kn">from</span> <span class="s2">"ethers"</span>
<span class="kn">import</span> <span class="p">{</span><span class="n">Contract</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">'@ethersproject/contracts'</span>

<span class="n">export</span> <span class="n">const</span> <span class="n">useStakeTokens</span> <span class="o">=</span> <span class="p">(</span><span class="n">tokenAddress</span><span class="p">:</span> <span class="n">string</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="o">//</span> <span class="n">chainId</span> 
    <span class="n">const</span> <span class="p">{</span><span class="n">chainId</span><span class="p">}</span> <span class="o">=</span> <span class="n">useEthers</span><span class="p">()</span>
    <span class="o">//</span> <span class="n">abi</span>
    <span class="n">const</span> <span class="p">{</span><span class="n">abi</span><span class="p">}</span> <span class="o">=</span> <span class="n">TokenFarm</span>
    <span class="o">//</span> <span class="n">address</span>
    <span class="o">//</span> <span class="n">const</span> <span class="n">dappTokenAddress</span> <span class="o">=</span> <span class="n">chainId</span> <span class="err">?</span> <span class="n">networkMapping</span><span class="p">[</span><span class="n">String</span><span class="p">(</span><span class="n">chainId</span><span class="p">)][</span><span class="s2">"DappToken"</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="p">:</span> <span class="n">constants</span><span class="o">.</span><span class="n">AddressZero</span>
    <span class="n">const</span> <span class="n">tokenFarmAddress</span> <span class="o">=</span> <span class="n">chainId</span> <span class="err">?</span> <span class="n">networkMapping</span><span class="p">[</span><span class="n">String</span><span class="p">(</span><span class="n">chainId</span><span class="p">)][</span><span class="s2">"TokenFarm"</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="p">:</span> <span class="n">constants</span><span class="o">.</span><span class="n">AddressZero</span>
    <span class="o">//</span> <span class="n">approve</span>
    <span class="n">const</span> <span class="n">tokenFarmInterface</span> <span class="o">=</span> <span class="n">new</span> <span class="n">utils</span><span class="o">.</span><span class="n">Interface</span><span class="p">(</span><span class="n">abi</span><span class="p">)</span>
    <span class="n">const</span> <span class="n">tokenFarmContract</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Contract</span><span class="p">(</span><span class="n">tokenFarmAddress</span><span class="p">,</span> <span class="n">tokenFarmInterface</span><span class="p">)</span>

    <span class="n">const</span> <span class="n">erc20ABI</span> <span class="o">=</span> <span class="n">ERC20</span><span class="o">.</span><span class="n">abi</span>
    <span class="n">const</span> <span class="n">erc20Interface</span> <span class="o">=</span> <span class="n">new</span> <span class="n">utils</span><span class="o">.</span><span class="n">Interface</span><span class="p">(</span><span class="n">erc20ABI</span><span class="p">)</span>
    <span class="n">const</span> <span class="n">erc20Contract</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Contract</span><span class="p">(</span><span class="n">tokenAddress</span><span class="p">,</span> <span class="n">erc20Interface</span><span class="p">)</span>
    <span class="o">//</span> <span class="n">approve</span>
    <span class="n">const</span> <span class="p">{</span> <span class="n">send</span><span class="p">:</span> <span class="n">approveErc20Send</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="n">approveAndStakeErc20State</span> <span class="p">}</span> <span class="o">=</span>
        <span class="n">useContractFunction</span><span class="p">(</span><span class="n">erc20Contract</span><span class="p">,</span> <span class="s2">"approve"</span><span class="p">,</span> <span class="p">{</span>
            <span class="n">transactionName</span><span class="p">:</span> <span class="s2">"Approve ERC20 transfer"</span><span class="p">,</span>
        <span class="p">})</span>

<span class="p">}</span>
</pre></div>

<p>The error occurs on <code>useContractFunction</code>with <code>erc20Contract</code>:</p>
<p>Vscode error</p>
<p>This is the complete error message</p>
<div class="code"><pre class="code literal-block"><span class="n">Argument</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="s1">'import("/home/cromewar/Solidity-Projects/full_defi_app/dev/front_end/node_modules/@ethersproject/contracts/lib/index").Contract'</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">assignable</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">parameter</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="s1">'import("/home/cromewar/Solidity-Projects/full_defi_app/dev/front_end/node_modules/@usedapp/core/node_modules/@ethersproject/contracts/lib/index").Contract'</span><span class="o">.</span>
<span class="w">  </span><span class="n">Types</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">property</span><span class="w"> </span><span class="s1">'_runningEvents'</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">incompatible</span><span class="o">.</span>
<span class="w">    </span><span class="n">Type</span><span class="w"> </span><span class="s1">'{ [eventTag: string]: RunningEvent; }'</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">assignable</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="s1">'{ [eventTag: string]: RunningEvent; }'</span><span class="o">.</span><span class="w"> </span><span class="n">Two</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="n">types</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">exist</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">unrelated</span><span class="o">.</span>
<span class="w">      </span><span class="s1">'string'</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="n">signatures</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">incompatible</span><span class="o">.</span>
<span class="w">        </span><span class="n">Type</span><span class="w"> </span><span class="s1">'RunningEvent'</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">assignable</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="s1">'RunningEvent'</span><span class="o">.</span><span class="w"> </span><span class="n">Two</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="n">types</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">exist</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">unrelated</span><span class="o">.</span>
<span class="w">          </span><span class="n">Types</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">separate</span><span class="w"> </span><span class="n">declarations</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">private</span><span class="w"> </span><span class="n">property</span><span class="w"> </span><span class="s1">'_listeners'</span><span class="o">.</span><span class="w">  </span><span class="n">TS2345</span>

<span class="w">    </span><span class="mi">23</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="o">//</span><span class="w"> </span><span class="n">approve</span>
<span class="w">    </span><span class="mi">24</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="k">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">send</span><span class="p">:</span><span class="w"> </span><span class="n">approveErc20Send</span><span class="p">,</span><span class="w"> </span><span class="n">state</span><span class="p">:</span><span class="w"> </span><span class="n">approveAndStakeErc20State</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span>
<span class="w">  </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">25</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="n">useContractFunction</span><span class="p">(</span><span class="n">erc20Contract</span><span class="p">,</span><span class="w"> </span><span class="s2">"approve"</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">       </span><span class="o">|</span><span class="w">                             </span><span class="o">^</span>
<span class="w">    </span><span class="mi">26</span><span class="w"> </span><span class="o">|</span><span class="w">             </span><span class="n">transactionName</span><span class="p">:</span><span class="w"> </span><span class="s2">"Approve ERC20 transfer"</span><span class="p">,</span>
<span class="w">    </span><span class="mi">27</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="p">})</span>
<span class="w">    </span><span class="mi">28</span><span class="w"> </span><span class="o">|</span>



<span class="n">Argument</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="s1">'import("/home/cromewar/Solidity-Projects/full_defi_app/dev/front_end/node_modules/@ethersproject/contracts/lib/index").Contract'</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">assignable</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">parameter</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="s1">'import("/home/cromewar/Solidity-Projects/full_defi_app/dev/front_end/node_modules/@usedapp/core/node_modules/@ethersproject/contracts/lib/index").Contract'</span><span class="o">.</span>
<span class="w">  </span><span class="n">Types</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">property</span><span class="w"> </span><span class="s1">'_runningEvents'</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">incompatible</span><span class="o">.</span>
<span class="w">    </span><span class="n">Type</span><span class="w"> </span><span class="s1">'{ [eventTag: string]: RunningEvent; }'</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">assignable</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="s1">'{ [eventTag: string]: RunningEvent; }'</span><span class="o">.</span><span class="w"> </span><span class="n">Two</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="n">types</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">exist</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">unrelated</span><span class="o">.</span>
<span class="w">      </span><span class="s1">'string'</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="n">signatures</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">incompatible</span><span class="o">.</span>
<span class="w">        </span><span class="n">Type</span><span class="w"> </span><span class="s1">'RunningEvent'</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">assignable</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="s1">'RunningEvent'</span><span class="o">.</span><span class="w"> </span><span class="n">Two</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="n">types</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">exist</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">unrelated</span><span class="o">.</span>
<span class="w">          </span><span class="n">Types</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">separate</span><span class="w"> </span><span class="n">declarations</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">private</span><span class="w"> </span><span class="n">property</span><span class="w"> </span><span class="s1">'_listeners'</span><span class="o">.</span><span class="w">  </span><span class="n">TS2345</span>
</pre></div>

<p>It says the types are not compatible but they are actually the exact same,
does anyone has a clue about what is happening?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Solution:</p>
<p>Replace this:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="p">{</span><span class="n">Contract</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">'@ethersproject/contracts'</span>
</pre></div>

<p>For this:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="p">{</span><span class="n">Contract</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">'@usedapp/core/node_modules/@ethersproject/contracts'</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/retrieving-hyperledger-complete-world-state/" class="u-url">retrieving hyperledger complete world state</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/retrieving-hyperledger-complete-world-state/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-28T05:00:58+08:00" itemprop="datePublished" title="2023-02-28 05:00">2023-02-28 05:00</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is there a chaincode shim function with which I can retrieve all the keys
(maybe including values) of the world state in a Hyperledger Fabric chaincode?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>It is possible to iterate over all the keys in the chaincode state of a
particular chaincode using the <code>stub.GetStateByRange()</code> function.</p>
<p>Eg:</p>
<div class="code"><pre class="code literal-block"><span class="w">    </span><span class="n">keysIter</span><span class="p">,</span><span class="w"> </span><span class="n">err</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">stub</span><span class="o">.</span><span class="n">GetStateByRange</span><span class="p">(</span><span class="n">startKey</span><span class="p">,</span><span class="w"> </span><span class="n">endKey</span><span class="p">)</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">shim</span><span class="o">.</span><span class="n">Error</span><span class="p">(</span><span class="n">fmt</span><span class="o">.</span><span class="n">Sprintf</span><span class="p">(</span><span class="s2">"keys operation failed. Error accessing state: </span><span class="si">%s</span><span class="s2">"</span><span class="p">,</span><span class="w"> </span><span class="n">err</span><span class="p">))</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">defer</span><span class="w"> </span><span class="n">keysIter</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">keys</span><span class="w"> </span><span class="p">[]</span><span class="n">string</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">keysIter</span><span class="o">.</span><span class="n">HasNext</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="n">_</span><span class="p">,</span><span class="w"> </span><span class="n">iterErr</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">keysIter</span><span class="o">.</span><span class="n">Next</span><span class="p">()</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">iterErr</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">shim</span><span class="o">.</span><span class="n">Error</span><span class="p">(</span><span class="n">fmt</span><span class="o">.</span><span class="n">Sprintf</span><span class="p">(</span><span class="s2">"keys operation failed. Error accessing state: </span><span class="si">%s</span><span class="s2">"</span><span class="p">,</span><span class="w"> </span><span class="n">err</span><span class="p">))</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="n">keys</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">append</span><span class="p">(</span><span class="n">keys</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
</pre></div>

<p>See the complete chaincode in the Hyperledger fabric repo</p>
<p><br></p>
<h3>Suggest</h3>
<p>It is possible to iterate over all the keys in the chaincode state of a
particular chaincode using the <code>stub.GetStateByRange()</code> function.</p>
<p>Eg:</p>
<div class="code"><pre class="code literal-block"><span class="w">    </span><span class="n">keysIter</span><span class="p">,</span><span class="w"> </span><span class="n">err</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">stub</span><span class="o">.</span><span class="n">GetStateByRange</span><span class="p">(</span><span class="n">startKey</span><span class="p">,</span><span class="w"> </span><span class="n">endKey</span><span class="p">)</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">shim</span><span class="o">.</span><span class="n">Error</span><span class="p">(</span><span class="n">fmt</span><span class="o">.</span><span class="n">Sprintf</span><span class="p">(</span><span class="s2">"keys operation failed. Error accessing state: </span><span class="si">%s</span><span class="s2">"</span><span class="p">,</span><span class="w"> </span><span class="n">err</span><span class="p">))</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">defer</span><span class="w"> </span><span class="n">keysIter</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">keys</span><span class="w"> </span><span class="p">[]</span><span class="n">string</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">keysIter</span><span class="o">.</span><span class="n">HasNext</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="n">_</span><span class="p">,</span><span class="w"> </span><span class="n">iterErr</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">keysIter</span><span class="o">.</span><span class="n">Next</span><span class="p">()</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">iterErr</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">shim</span><span class="o">.</span><span class="n">Error</span><span class="p">(</span><span class="n">fmt</span><span class="o">.</span><span class="n">Sprintf</span><span class="p">(</span><span class="s2">"keys operation failed. Error accessing state: </span><span class="si">%s</span><span class="s2">"</span><span class="p">,</span><span class="w"> </span><span class="n">err</span><span class="p">))</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="n">keys</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">append</span><span class="p">(</span><span class="n">keys</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
</pre></div>

<p>See the complete chaincode in the Hyperledger fabric repo</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1480.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1478.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

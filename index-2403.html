<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2403) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2403.html">
<link rel="prev" href="index-2404.html" type="text/html">
<link rel="next" href="index-2402.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-double-colon-in-python-when-subscripting-sequences/" class="u-url">What is :: (double colon) in Python when subscripting sequences?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-double-colon-in-python-when-subscripting-sequences/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T13:32:01+08:00" itemprop="datePublished" title="2023-03-04 13:32">2023-03-04 13:32</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I know that I can use something like <code>string[3:4]</code> to get a substring in
Python, but what does the 3 mean in <code>somesequence[::3]</code>?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>it means 'nothing for the first argument, nothing for the second, and jump by
three'. It gets every third item of the sequence sliced. Extended slices is
what you want. New in Python 2.3</p>
<p><br></p>
<h3>Suggest</h3>
<p>Python sequence slice addresses can be written as <code>a[start:end:step]</code> and any
of start, stop or end can be dropped. <code>a[::3]</code> is every third element of the
sequence.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/could-not-establish-trust-relationship-for-ssl-tls-secure-channel-soap/" class="u-url">Could not establish trust relationship for SSL/TLS secure channel -- SOAP</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/could-not-establish-trust-relationship-for-ssl-tls-secure-channel-soap/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T13:30:32+08:00" itemprop="datePublished" title="2023-03-04 13:30">2023-03-04 13:30</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a simple web service call, generated by a .NET (C#) 2.0 Windows app,
via the web service proxy generated by Visual Studio, for a web service also
written in C# (2.0). This has worked for several years, and continues to do so
at the dozen or so places where it is running.</p>
<p>A new installation at a new site is running into a problem. When attempting to
invoke the web service, it fails with the message saying:</p>
<blockquote>
<p>Could not establish a trust relationship for the SSL/TLS secure channel</p>
</blockquote>
<p>The URL of the web service uses SSL (https://) -- but this has been working
for a long time (and continues to do so) from many other locations.</p>
<p>Where do I look? Could this be a security issue between Windows and .NET that
is unique to this install? If so, where do I set up trust relationships? I'm
lost!</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Thoughts (based on pain in the past):</p>
<ul>
<li>do you have DNS and line-of-sight to the server?</li>
<li>are you using the correct name from the certificate?</li>
<li>is the certificate still valid?</li>
<li>is a badly configured load balancer messing things up?</li>
<li>does the new <del>server</del> machine have the clock set correctly (i.e. so that the UTC time is correct [ignore local time, it is largely irrelevent]) - this certainly matters for WCF, so may impact regular SOAP?</li>
<li>is there a certificate trust chain issue? if you browse from the server to the soap service, can you get SSL?</li>
<li>related to the above - has the certificate been installed to the correct location? (you may need a copy in Trusted Root Certification Authorities)</li>
<li>is the server's machine-level proxy set correctly? (which different to the user's proxy); see proxycfg for XP / 2003 (not sure about Vista etc)</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<p>The very simple "catch all" solution is this:</p>
<div class="code"><pre class="code literal-block"><span class="nv">System</span>.<span class="nv">Net</span>.<span class="nv">ServicePointManager</span>.<span class="nv">ServerCertificateValidationCallback</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">delegate</span><span class="w"> </span>{<span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="nv">true</span><span class="c1">; };</span>
</pre></div>

<p>The solution from sebastian-castaldi is a bit more detailed.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-send-a-json-string-in-a-post-request-in-go/" class="u-url">How do I send a JSON string in a POST request in Go</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-send-a-json-string-in-a-post-request-in-go/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T13:29:05+08:00" itemprop="datePublished" title="2023-03-04 13:29">2023-03-04 13:29</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I tried working with Apiary and made a universal template to send JSON to mock
server and have this code:</p>
<div class="code"><pre class="code literal-block"><span class="n">package</span> <span class="n">main</span>

<span class="kn">import</span> <span class="p">(</span>
    <span class="s2">"encoding/json"</span>
    <span class="s2">"fmt"</span>
    <span class="s2">"github.com/jmcvetta/napping"</span>
    <span class="s2">"log"</span>
    <span class="s2">"net/http"</span>
<span class="p">)</span>

<span class="n">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">url</span> <span class="o">:=</span> <span class="s2">"http://restapi3.apiary.io/notes"</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s2">"URL:&gt;"</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>

    <span class="n">s</span> <span class="o">:=</span> <span class="n">napping</span><span class="o">.</span><span class="n">Session</span><span class="p">{}</span>
    <span class="n">h</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Header</span><span class="p">{}</span>
    <span class="n">h</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s2">"X-Custom-Header"</span><span class="p">,</span> <span class="s2">"myvalue"</span><span class="p">)</span>
    <span class="n">s</span><span class="o">.</span><span class="n">Header</span> <span class="o">=</span> <span class="n">h</span>

    <span class="n">var</span> <span class="n">jsonStr</span> <span class="o">=</span> <span class="p">[]</span><span class="n">byte</span><span class="p">(</span><span class="err">`</span>
<span class="p">{</span>
    <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"Buy cheese and bread for breakfast."</span>
<span class="p">}</span><span class="err">`</span><span class="p">)</span>

    <span class="n">var</span> <span class="n">data</span> <span class="nb">map</span><span class="p">[</span><span class="n">string</span><span class="p">]</span><span class="n">json</span><span class="o">.</span><span class="n">RawMessage</span>
    <span class="n">err</span> <span class="o">:=</span> <span class="n">json</span><span class="o">.</span><span class="n">Unmarshal</span><span class="p">(</span><span class="n">jsonStr</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">data</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="n">nil</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="n">resp</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">s</span><span class="o">.</span><span class="n">Post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">data</span><span class="p">,</span> <span class="n">nil</span><span class="p">,</span> <span class="n">nil</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="n">nil</span> <span class="p">{</span>
        <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s2">"response Status:"</span><span class="p">,</span> <span class="n">resp</span><span class="o">.</span><span class="n">Status</span><span class="p">())</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s2">"response Headers:"</span><span class="p">,</span> <span class="n">resp</span><span class="o">.</span><span class="n">HttpResponse</span><span class="p">()</span><span class="o">.</span><span class="n">Header</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s2">"response Body:"</span><span class="p">,</span> <span class="n">resp</span><span class="o">.</span><span class="n">RawText</span><span class="p">())</span>

<span class="p">}</span>
</pre></div>

<p>This code doesn't send JSON properly, but I don't know why. The JSON string
can be different in every call. I can't use <code>Struct</code> for this.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>I'm not familiar with napping, but using Golang's <code>net/http</code> package works
fine (playground):</p>
<div class="code"><pre class="code literal-block"><span class="k">func</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">url</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="s2">"http://restapi3.apiary.io/notes"</span>
<span class="w">    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s2">"URL:&gt;"</span><span class="p">,</span><span class="w"> </span><span class="n">url</span><span class="p">)</span>

<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">jsonStr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span><span class="n">byte</span><span class="p">(</span><span class="err">`</span><span class="p">{</span><span class="s2">"title"</span><span class="p">:</span><span class="s2">"Buy cheese and bread for breakfast."</span><span class="p">}</span><span class="err">`</span><span class="p">)</span>
<span class="w">    </span><span class="n">req</span><span class="p">,</span><span class="w"> </span><span class="n">err</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s2">"POST"</span><span class="p">,</span><span class="w"> </span><span class="n">url</span><span class="p">,</span><span class="w"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">(</span><span class="n">jsonStr</span><span class="p">))</span>
<span class="w">    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s2">"X-Custom-Header"</span><span class="p">,</span><span class="w"> </span><span class="s2">"myvalue"</span><span class="p">)</span>
<span class="w">    </span><span class="n">req</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s2">"Content-Type"</span><span class="p">,</span><span class="w"> </span><span class="s2">"application/json"</span><span class="p">)</span>

<span class="w">    </span><span class="n">client</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span>
<span class="w">    </span><span class="n">resp</span><span class="p">,</span><span class="w"> </span><span class="n">err</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">panic</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">defer</span><span class="w"> </span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="w">    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s2">"response Status:"</span><span class="p">,</span><span class="w"> </span><span class="n">resp</span><span class="o">.</span><span class="n">Status</span><span class="p">)</span>
<span class="w">    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s2">"response Headers:"</span><span class="p">,</span><span class="w"> </span><span class="n">resp</span><span class="o">.</span><span class="n">Header</span><span class="p">)</span>
<span class="w">    </span><span class="n">body</span><span class="p">,</span><span class="w"> </span><span class="n">_</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>
<span class="w">    </span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s2">"response Body:"</span><span class="p">,</span><span class="w"> </span><span class="n">string</span><span class="p">(</span><span class="n">body</span><span class="p">))</span>
<span class="p">}</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>you can just use <code>post</code> to post your json.</p>
<div class="code"><pre class="code literal-block"><span class="k">values</span><span class="w"> </span><span class="err">:</span><span class="o">=</span><span class="w"> </span><span class="k">map</span><span class="o">[</span><span class="n">string</span><span class="o">]</span><span class="n">string</span><span class="err">{</span><span class="ss">"username"</span><span class="err">:</span><span class="w"> </span><span class="n">username</span><span class="p">,</span><span class="w"> </span><span class="ss">"password"</span><span class="err">:</span><span class="w"> </span><span class="n">password</span><span class="err">}</span>

<span class="n">jsonValue</span><span class="p">,</span><span class="w"> </span><span class="n">_</span><span class="w"> </span><span class="err">:</span><span class="o">=</span><span class="w"> </span><span class="n">json</span><span class="p">.</span><span class="n">Marshal</span><span class="p">(</span><span class="k">values</span><span class="p">)</span>

<span class="n">resp</span><span class="p">,</span><span class="w"> </span><span class="n">err</span><span class="w"> </span><span class="err">:</span><span class="o">=</span><span class="w"> </span><span class="n">http</span><span class="p">.</span><span class="n">Post</span><span class="p">(</span><span class="n">authAuthenticatorUrl</span><span class="p">,</span><span class="w"> </span><span class="ss">"application/json"</span><span class="p">,</span><span class="w"> </span><span class="n">bytes</span><span class="p">.</span><span class="n">NewBuffer</span><span class="p">(</span><span class="n">jsonValue</span><span class="p">))</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2404.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2402.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

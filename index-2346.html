<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2346) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2346.html">
<link rel="prev" href="index-2347.html" type="text/html">
<link rel="next" href="index-2345.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-find-the-size-of-an-array-from-a-pointer-pointing-to-the-first-element-array/" class="u-url">How to find the size of an array (from a pointer pointing to the first element array)?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-find-the-size-of-an-array-from-a-pointer-pointing-to-the-first-element-array/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T09:19:18+08:00" itemprop="datePublished" title="2023-03-04 09:19">2023-03-04 09:19</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>First off, here is some code:</p>
<div class="code"><pre class="code literal-block"><span class="nv">int</span><span class="w"> </span><span class="nv">main</span><span class="ss">()</span><span class="w"> </span>
{
<span class="w">    </span><span class="nv">int</span><span class="w"> </span><span class="nv">days</span>[]<span class="w"> </span><span class="o">=</span><span class="w"> </span>{<span class="mi">1</span>,<span class="mi">2</span>,<span class="mi">3</span>,<span class="mi">4</span>,<span class="mi">5</span>}<span class="c1">;</span>
<span class="w">    </span><span class="nv">int</span><span class="w"> </span><span class="o">*</span><span class="nv">ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">days</span><span class="c1">;</span>
<span class="w">    </span><span class="nv">printf</span><span class="ss">(</span><span class="s2">"%u\n"</span>,<span class="w"> </span><span class="nv">sizeof</span><span class="ss">(</span><span class="nv">days</span><span class="ss">))</span><span class="c1">;</span>
<span class="w">    </span><span class="nv">printf</span><span class="ss">(</span><span class="s2">"%u\n"</span>,<span class="w"> </span><span class="nv">sizeof</span><span class="ss">(</span><span class="nv">ptr</span><span class="ss">))</span><span class="c1">;</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="c1">;</span>
}
</pre></div>

<p>Is there a way to find out the size of the array that <code>ptr</code> is pointing to
(instead of just giving its size, which is four bytes on a 32-bit system)?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>No, you can't. The compiler doesn't know what the pointer is pointing to.
There are tricks, like ending the array with a known out-of-band value and
then counting the size up until that value, but that's not using <code>sizeof()</code>.</p>
<p>Another trick is the one mentioned by Zan, which is to stash the size
somewhere. For example, if you're dynamically allocating the array, allocate a
block one int bigger than the one you need, stash the size in the first int,
and return <code>ptr+1</code> as the pointer to the array. When you need the size,
decrement the pointer and peek at the stashed value. Just remember to free the
whole block starting from the beginning, and not just the array.</p>
<p><br></p>
<h3>Suggest</h3>
<p>The answer is, "No."</p>
<p>What C programmers do is store the size of the array somewhere. It can be part
of a structure, or the programmer can cheat a bit and <code>malloc()</code> more memory
than requested in order to store a length value before the start of the array.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/add-only-non-whitespace-changes/" class="u-url">Add only non-whitespace changes</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/add-only-non-whitespace-changes/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T09:17:53+08:00" itemprop="datePublished" title="2023-03-04 09:17">2023-03-04 09:17</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have my text editor to automatically trim trailing whitespace upon saving a
file, and I am contributing to an open source project that has severe problems
with trailing whitespace.</p>
<p>Every time I try to submit a patch I must first ignore all whitespace-only
changes by hand, to choose only the relevant information. Not only that, but
when I run <code>git rebase</code> I usually run into several problems because of them.</p>
<p>As such I would like to be able to add to index only non-whitespace changes,
in a way similar that <code>git add -p</code> does, but without having to pick all the
changes myself.</p>
<p>Does anyone know how to do this?</p>
<p>EDIT: I <strong>cannot</strong> change the way the project works, and they have decided,
after discussing it on the mailing list, to ignore this.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>@Frew solution wasn't quite what I needed, so this is the alias I made for the
exact same problem:</p>
<div class="code"><pre class="code literal-block"><span class="n">alias</span><span class="p">.</span><span class="n">addnw</span><span class="o">=!</span><span class="n">sh</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="err">'</span><span class="n">git</span><span class="w"> </span><span class="n">diff</span><span class="w"> </span><span class="o">-</span><span class="n">U0</span><span class="w"> </span><span class="o">-</span><span class="n">w</span><span class="w"> </span><span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">color</span><span class="w"> </span><span class="s">"$@"</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="n">apply</span><span class="w"> </span><span class="o">--</span><span class="n">cached</span><span class="w"> </span><span class="o">--</span><span class="n">ignore</span><span class="o">-</span><span class="n">whitespace</span><span class="w"> </span><span class="o">--</span><span class="n">unidiff</span><span class="o">-</span><span class="n">zero</span><span class="w"> </span><span class="o">-</span><span class="err">'</span>
</pre></div>

<p>Or you can simply run:</p>
<div class="code"><pre class="code literal-block">git diff -U0 -w --no-color | git apply --cached --ignore-whitespace --unidiff-zero -
</pre></div>

<h4>Update</h4>
<p>Added options <code>-U0</code>, and <code>--unidiff-zero</code> respectively to workaround context
matching issues, according to this comment.</p>
<p>Basically it applies the patch which would be applied with <code>add</code> without
whitespace changes. You will notice that after a <code>git addnw your/file</code> there
will still be unstaged changes, it's the whitespaces left.</p>
<p>The --no-color isn't required but as I have colors set to always, I have to
use it. Anyway, better safe than sorry.</p>
<h4>Warning</h4>
<p>While this trick works as-is, if you try to use it to drop blank line changes
with <code>--ignore-blank-lines</code> then things get complicated. With this option,
<code>git diff</code> will just drop some chunks, making the resulting patch bogus since
the line numbers in the destination file are going to be off.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Create a patch file containing only the real changes (excluding lines with
only whitespace changes), then clean your workspace and apply that patch file:</p>
<blockquote>
<p>git diff &gt; backup<br>
 git diff -w &gt; changes<br>
 git reset --hard<br>
 patch &lt; changes</p>
</blockquote>
<p>Review the remaining differences, then <code>add</code> and <code>commit</code> as normal.</p>
<p>The equivalent for Mercurial is to do this:</p>
<blockquote>
<p>hg diff &gt; backup<br>
 hg diff -w &gt; changes<br>
 hg revert --all<br>
 hg import --no-commit changes</p>
</blockquote>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/java-pass-method-as-parameter/" class="u-url">Java Pass Method as Parameter</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/java-pass-method-as-parameter/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T09:16:22+08:00" itemprop="datePublished" title="2023-03-04 09:16">2023-03-04 09:16</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am looking for a way to pass a method by reference. I understand that Java
does not pass methods as parameters, however, I would like to get an
alternative.</p>
<p>I've been told interfaces are the alternative to passing methods as parameters
but I don't understand how an interface can act as a method by reference. If I
understand correctly an interface is simply an abstract set of methods that
are not defined. I don't want to send an interface that needs to be defined
every time because several different methods could call the same method with
the same parameters.</p>
<p>What I would like to accomplish is something similar to this:</p>
<div class="code"><pre class="code literal-block"><span class="nv">public</span><span class="w"> </span><span class="nv">void</span><span class="w"> </span><span class="nv">setAllComponents</span><span class="ss">(</span><span class="nv">Component</span>[]<span class="w"> </span><span class="nv">myComponentArray</span>,<span class="w"> </span><span class="nv">Method</span><span class="w"> </span><span class="nv">myMethod</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="ss">(</span><span class="nv">Component</span><span class="w"> </span><span class="nv">leaf</span><span class="w"> </span>:<span class="w"> </span><span class="nv">myComponentArray</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">leaf</span><span class="w"> </span><span class="nv">instanceof</span><span class="w"> </span><span class="nv">Container</span><span class="ss">)</span><span class="w"> </span>{<span class="w"> </span><span class="o">//</span><span class="nv">recursive</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="nl">if</span><span class="w"> </span><span class="nv">Container</span>
<span class="w">            </span><span class="nv">Container</span><span class="w"> </span><span class="nv">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">(</span><span class="nv">Container</span><span class="ss">)</span><span class="w"> </span><span class="nv">leaf</span><span class="c1">;</span>
<span class="w">            </span><span class="nv">setAllComponents</span><span class="ss">(</span><span class="nv">node</span>.<span class="nv">getComponents</span><span class="ss">()</span>,<span class="w"> </span><span class="nv">myMethod</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">        </span>}<span class="w"> </span><span class="o">//</span><span class="k">end</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">node</span>
<span class="w">        </span><span class="nv">myMethod</span><span class="ss">(</span><span class="nv">leaf</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span>}<span class="w"> </span><span class="o">//</span><span class="k">end</span><span class="w"> </span><span class="nv">looping</span><span class="w"> </span><span class="nv">through</span><span class="w"> </span><span class="nv">components</span>
}
</pre></div>

<p>invoked such as:</p>
<div class="code"><pre class="code literal-block">setAllComponents(this.getComponents(), changeColor());
setAllComponents(this.getComponents(), changeSize());
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p><em>Edit</em> : as of Java 8, lambda expressions are a nice solution as other answers
have pointed out. The answer below was written for Java 7 and earlier...</p>
<hr>
<p>Take a look at the command pattern.</p>
<div class="code"><pre class="code literal-block"><span class="c1">// NOTE: code not tested, but I believe this is valid java...</span>
<span class="n">public</span><span class="w"> </span><span class="n">class</span><span class="w"> </span><span class="n">CommandExample</span><span class="w"> </span>
<span class="p">{</span>
<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="n">Command</span><span class="w"> </span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">public</span><span class="w"> </span><span class="n">void</span><span class="w"> </span><span class="n">execute</span><span class="p">(</span><span class="n">Object</span><span class="w"> </span><span class="n">data</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="n">class</span><span class="w"> </span><span class="n">PrintCommand</span><span class="w"> </span><span class="n">implements</span><span class="w"> </span><span class="n">Command</span><span class="w"> </span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">public</span><span class="w"> </span><span class="n">void</span><span class="w"> </span><span class="n">execute</span><span class="p">(</span><span class="n">Object</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w"> </span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">toString</span><span class="p">());</span>
<span class="w">        </span><span class="p">}</span><span class="w">    </span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">void</span><span class="w"> </span><span class="n">callCommand</span><span class="p">(</span><span class="n">Command</span><span class="w"> </span><span class="n">command</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w"> </span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">command</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">void</span><span class="w"> </span><span class="n">main</span><span class="p">(</span><span class="n">String</span><span class="p">...</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">callCommand</span><span class="p">(</span><span class="n">new</span><span class="w"> </span><span class="n">PrintCommand</span><span class="p">(),</span><span class="w"> </span><span class="s">"hello world"</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p><em>Edit:</em> as Pete Kirkham points out, there's another way of doing this using a
Visitor. The visitor approach is a little more involved - your nodes all need
to be visitor-aware with an <code>acceptVisitor()</code> method - but if you need to
traverse a more complex object graph then it's worth examining.</p>
<p><br></p>
<h3>Suggest</h3>
<p>In Java 8, you can now pass a method more easily using Lambda Expressions and
Method References. First, some background: a functional interface is an
interface that has one and only one abstract method, although it can contain
any number of default methods (new in Java 8) and static methods. A lambda
expression can quickly implement the abstract method, without all the
unnecessary syntax needed if you don't use a lambda expression.</p>
<p>Without lambda expressions:</p>
<div class="code"><pre class="code literal-block"><span class="n">obj</span><span class="p">.</span><span class="n">aMethod</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">AFunctionalInterface</span><span class="p">()</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="nv">@Override</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="k">boolean</span><span class="w"> </span><span class="n">anotherMethod</span><span class="p">(</span><span class="nc">int</span><span class="w"> </span><span class="n">i</span><span class="p">)</span>
<span class="w">    </span><span class="err">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">982</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span><span class="p">);</span>
</pre></div>

<p>With lambda expressions:</p>
<div class="code"><pre class="code literal-block"><span class="n">obj</span><span class="p">.</span><span class="n">aMethod</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">982</span><span class="p">);</span>
</pre></div>

<hr>
<p>Here is an excerpt from the Java tutorial on Lambda Expressions:</p>
<blockquote>
<h3>Syntax of Lambda Expressions</h3>
<p>A lambda expression consists of the following:</p>
<ul>
<li>A comma-separated list of formal parameters enclosed in parentheses. The
CheckPerson.test method contains one parameter, p, which represents an
instance of the Person class.  </li>
</ul>
<p><strong>Note</strong> : You can omit the data type of the parameters in a lambda
expression. In addition, you can omit the parentheses if there is only one
parameter. For example, the following lambda expression is also valid:</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;</span><span class="w">     </span><span class="n">p</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">getGender</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">Person</span><span class="p">.</span><span class="n">Sex</span><span class="p">.</span><span class="n">MALE</span>
<span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">getAge</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">18</span>
<span class="w">    </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">getAge</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">25</span>
</pre></div>

<ul>
<li>
<p>The arrow token, <code>-&gt;</code></p>
</li>
<li>
<p>A body, which consists of a single expression or a statement block. This
example uses the following expression:</p>
<blockquote>
<div class="code"><pre class="code literal-block">p.getGender() == Person.Sex.MALE
&amp;&amp; p.getAge() &gt;= 18
&amp;&amp; p.getAge() &lt;= 25
</pre></div>

</blockquote>
</li>
</ul>
<p>If you specify a single expression, then the Java runtime evaluates the
expression and then returns its value. Alternatively, you can use a return
statement:</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;</span><span class="w">     </span><span class="n">p</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kr">return</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">getGender</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">Person</span><span class="p">.</span><span class="n">Sex</span><span class="p">.</span><span class="n">MALE</span>
<span class="w">        </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">getAge</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">18</span>
<span class="w">        </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">getAge</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">25</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>A return statement is not an expression; in a lambda expression, you must
enclose statements in braces ({}). However, you do not have to enclose a
void method invocation in braces. For example, the following is a valid
lambda expression:</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;</span><span class="w">     </span><span class="n">email</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">email</span><span class="p">)</span>
</pre></div>

<p>Note that a lambda expression looks a lot like a method declaration; you can
consider lambda expressions as anonymous methods—methods without a name.</p>
</blockquote>
<hr>
<p>Here is how you can "pass a method" using a lambda expression:</p>
<div class="code"><pre class="code literal-block"><span class="kr">interface</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="n">void</span><span class="w"> </span><span class="n">myMethod</span><span class="p">(</span><span class="n">Component</span><span class="w"> </span><span class="n">component</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">class</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="n">void</span><span class="w"> </span><span class="n">changeColor</span><span class="p">(</span><span class="n">Component</span><span class="w"> </span><span class="n">component</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// code here</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="n">void</span><span class="w"> </span><span class="n">changeSize</span><span class="p">(</span><span class="n">Component</span><span class="w"> </span><span class="n">component</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// code here</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>



<span class="n">class</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="n">void</span><span class="w"> </span><span class="n">setAllComponents</span><span class="p">(</span><span class="n">Component</span><span class="p">[]</span><span class="w"> </span><span class="n">myComponentArray</span><span class="p">,</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="n">myMethodsInterface</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">for</span><span class="p">(</span><span class="n">Component</span><span class="w"> </span><span class="n">leaf</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">myComponentArray</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nf">if</span><span class="p">(</span><span class="n">leaf</span><span class="w"> </span><span class="n">instanceof</span><span class="w"> </span><span class="n">Container</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// recursive call if Container</span>
<span class="w">                </span><span class="n">Container</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Container</span><span class="p">)</span><span class="n">leaf</span><span class="p">;</span>
<span class="w">                </span><span class="n">setAllComponents</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">getComponents</span><span class="p">(),</span><span class="w"> </span><span class="n">myMethodInterface</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="c1">// end if node</span>
<span class="w">            </span><span class="n">myMethodsInterface</span><span class="p">.</span><span class="n">myMethod</span><span class="p">(</span><span class="n">leaf</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="c1">// end looping through components</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>



<span class="n">class</span><span class="w"> </span><span class="n">C</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">A</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">A</span><span class="p">();</span>
<span class="w">    </span><span class="n">B</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">B</span><span class="p">();</span>

<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="n">C</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">b</span><span class="p">.</span><span class="n">setAllComponents</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">getComponents</span><span class="p">(),</span><span class="w"> </span><span class="n">component</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">changeColor</span><span class="p">(</span><span class="n">component</span><span class="p">));</span>
<span class="w">        </span><span class="n">b</span><span class="p">.</span><span class="n">setAllComponents</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">getComponents</span><span class="p">(),</span><span class="w"> </span><span class="n">component</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">changeSize</span><span class="p">(</span><span class="n">component</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>Class <code>C</code> can be shortened even a bit further by the use of method references
like so:</p>
<div class="code"><pre class="code literal-block"><span class="nt">class</span><span class="w"> </span><span class="nt">C</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">A</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">new</span><span class="w"> </span><span class="err">A()</span><span class="p">;</span>
<span class="w">    </span><span class="err">B</span><span class="w"> </span><span class="err">b</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">new</span><span class="w"> </span><span class="err">B()</span><span class="p">;</span>

<span class="w">    </span><span class="err">public</span><span class="w"> </span><span class="err">C()</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="err">b.setAllComponents(this.getComponents(),</span><span class="w"> </span><span class="n">a</span><span class="p">:</span><span class="o">:</span><span class="n">changeColor</span><span class="p">);</span>
<span class="w">        </span><span class="err">b.setAllComponents(this.getComponents(),</span><span class="w"> </span><span class="n">a</span><span class="p">:</span><span class="o">:</span><span class="n">changeSize</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="err">}</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2347.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2345.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

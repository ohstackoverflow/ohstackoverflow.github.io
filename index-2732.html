<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2732) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2732.html">
<link rel="prev" href="index-2733.html" type="text/html">
<link rel="next" href="index-2731.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/c-version-of-java-s-synchronized-keyword/" class="u-url">C# version of java's synchronized keyword?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/c-version-of-java-s-synchronized-keyword/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T13:46:29+08:00" itemprop="datePublished" title="2023-03-05 13:46">2023-03-05 13:46</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Does c# have its own version of the java "synchronized" keyword?</p>
<p>I.e. in java it can be specified either to a function, an object or a block of
code, like so:</p>
<div class="code"><pre class="code literal-block">public synchronized void doImportantStuff() {
   // dangerous code goes here.
}
</pre></div>

<p>or</p>
<div class="code"><pre class="code literal-block">public void doImportantStuff() {
   // trivial stuff

   synchronized(someLock) {
      // dangerous code goes here.
   }
}
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>First - most classes will never need to be thread-safe. Use YAGNI: only apply
thread-safety when you know you actually are going to use it (and test it).</p>
<p>For the method-level stuff, there is <code>[MethodImpl]</code>:</p>
<div class="code"><pre class="code literal-block"><span class="k">[MethodImpl(MethodImplOptions.Synchronized)]</span>
<span class="na">public void SomeMethod() {/* code */}</span>
</pre></div>

<p>This can also be used on accessors (properties and events):</p>
<div class="code"><pre class="code literal-block"><span class="nv">private</span><span class="w"> </span><span class="nv">int</span><span class="w"> </span><span class="nv">i</span><span class="c1">;</span>
<span class="nv">public</span><span class="w"> </span><span class="nv">int</span><span class="w"> </span><span class="nv">SomeProperty</span>
{
<span class="w">    </span>[<span class="nv">MethodImpl</span><span class="ss">(</span><span class="nv">MethodImplOptions</span>.<span class="nv">Synchronized</span><span class="ss">)</span>]
<span class="w">    </span><span class="nv">get</span><span class="w"> </span>{<span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="nv">i</span><span class="c1">; }</span>
<span class="w">    </span>[<span class="nv">MethodImpl</span><span class="ss">(</span><span class="nv">MethodImplOptions</span>.<span class="nv">Synchronized</span><span class="ss">)</span>]
<span class="w">    </span><span class="nv">set</span><span class="w"> </span>{<span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">value</span><span class="c1">; }</span>
}
</pre></div>

<p>Note that field-like events <em>are</em> synchronized by default, while auto-
implemented properties <em>are not</em> :</p>
<div class="code"><pre class="code literal-block">public int SomeProperty {get;set;} // not synchronized
public event EventHandler SomeEvent; // synchronized
</pre></div>

<p>Personally, I don't like the implementation of <code>MethodImpl</code> as it locks <code>this</code>
or <code>typeof(Foo)</code> - which is against best practice. The preferred option is to
use your own locks:</p>
<div class="code"><pre class="code literal-block">private readonly object syncLock = new object();
public void SomeMethod() {
    lock(syncLock) { /* code */ }
}
</pre></div>

<p>Note that for field-like events, the locking implementation is dependent on
the compiler; in older Microsoft compilers it is a <code>lock(this)</code> / <code>lock(Type)</code>
- however, in more recent compilers it uses <code>Interlocked</code> updates - so
thread-safe without the nasty parts.</p>
<p>This allows more granular usage, and allows use of
<code>Monitor.Wait</code>/<code>Monitor.Pulse</code> etc to communicate between threads.</p>
<p>A related blog entry (later revisited).</p>
<p><br></p>
<h3>Suggest</h3>
<div class="code"><pre class="code literal-block"><span class="nv">static</span><span class="w"> </span><span class="nv">object</span><span class="w"> </span><span class="nv">Lock</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">object</span><span class="ss">()</span><span class="c1">;</span>

<span class="nv">lock</span><span class="w"> </span><span class="ss">(</span><span class="nv">Lock</span><span class="ss">)</span><span class="w"> </span>
{
<span class="o">//</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="nv">stuff</span>
}
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/docker-run-image-multiple-commands/" class="u-url">docker run &lt;IMAGE&gt; &lt;MULTIPLE COMMANDS&gt;</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/docker-run-image-multiple-commands/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T13:45:11+08:00" itemprop="datePublished" title="2023-03-05 13:45">2023-03-05 13:45</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm trying to run MULTIPLE commands like this.</p>
<div class="code"><pre class="code literal-block">docker run image cd /path/to/somewhere &amp;&amp; python a.py
</pre></div>

<p>But this gives me "No such file or directory" error because it is interpreted
as...</p>
<div class="code"><pre class="code literal-block">"docker run image cd /path/to/somewhere" &amp;&amp; "python a.py"
</pre></div>

<p>It seems that some ESCAPE characters like "" or () are needed.</p>
<p>So I also tried</p>
<div class="code"><pre class="code literal-block">docker run image "cd /path/to/somewhere &amp;&amp; python a.py"
docker run image (cd /path/to/somewhere &amp;&amp; python a.py)
</pre></div>

<p>but these didn't work.</p>
<p>I have searched for Docker Run Reference but have not find any hints about
ESCAPE characters.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>To run multiple commands in docker, use <code>/bin/bash -c</code> and semicolon <code>;</code></p>
<div class="code"><pre class="code literal-block">docker run image_name /bin/bash -c "cd /path/to/somewhere; python a.py"
</pre></div>

<p>In case we need command2 (python) will be executed if and only if command1
(cd) returned zero (no error) exit status, use <code>&amp;&amp;</code> instead of <code>;</code></p>
<div class="code"><pre class="code literal-block">docker run image_name /bin/bash -c "cd /path/to/somewhere &amp;&amp; python a.py"
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>You can do this a couple of ways:</p>
<ol>
<li>Use the -w option to change the working directory:</li>
</ol>
<blockquote>
<p>-w, --workdir="" Working directory inside the container</p>
</blockquote>
<p>https://docs.docker.com/engine/reference/commandline/run/#set-working-
directory--w</p>
<ol>
<li>Pass the entire argument to /bin/bash:<div class="code"><pre class="code literal-block">docker run image /bin/bash -c "cd /path/to/somewhere; python a.py"
</pre></div>

</li>
</ol>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-the-difference-between-memoization-and-dynamic-programming/" class="u-url">What is the difference between memoization and dynamic programming?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-the-difference-between-memoization-and-dynamic-programming/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T13:44:04+08:00" itemprop="datePublished" title="2023-03-05 13:44">2023-03-05 13:44</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What is the difference between memoization and dynamic programming? I think
dynamic programming is a subset of memoization. Is it right?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Relevant article on Programming.Guide: Dynamic programming vs memoization vs
tabulation</p>
<hr>
<blockquote>
<p><strong><em>What is difference between memoization and dynamic programming?</em></strong></p>
</blockquote>
<p><strong>Memoization</strong> is a term describing an optimization technique where you cache
previously computed results, and return the cached result when the same
computation is needed again.</p>
<p><strong>Dynamic programming</strong> is a technique for solving problems of recursive
nature, iteratively and is applicable when the computations of the subproblems
overlap.</p>
<p>Dynamic programming is <em>typically</em> implemented using tabulation, but can also
be implemented using memoization. So as you can see, neither one is a "subset"
of the other.</p>
<hr>
<p>A reasonable follow-up question is: <strong>What is the difference between
tabulation (the typical dynamic programming technique) and memoization?</strong></p>
<p>When you solve a dynamic programming problem using tabulation you solve the
problem " <strong>bottom up</strong> ", i.e., by solving all related sub-problems first,
typically by filling up an <em>n</em> -dimensional table. Based on the results in the
table, the solution to the "top" / original problem is then computed.</p>
<p>If you use memoization to solve the problem you do it by maintaining a map of
already solved sub problems. You do it " <strong>top down</strong> " in the sense that you
solve the "top" problem first (which typically recurses down to solve the sub-
problems).</p>
<p>A good slide from <del>here</del> (link is now dead, slide is still good though):</p>
<blockquote>
<ul>
<li>If all subproblems must be solved at least once, a bottom-up dynamic-
programming algorithm usually outperforms a top-down memoized algorithm by a
constant factor<ul>
<li>No overhead for recursion and less overhead for maintaining table</li>
<li>There are some problems for which the regular pattern of table
accesses in the dynamic-programming algorithm can be exploited to reduce the
time or space requirements even further</li>
</ul>
</li>
<li>If some subproblems in the subproblem space need not be solved at all,
the memoized solution has the advantage of solving only those subproblems
that are definitely required
</li>
</ul>
</blockquote>
<p><strong>Additional resources:</strong></p>
<ul>
<li>Wikipedia: Memoization, Dynamic Programming</li>
<li>Related SO Q/A: Memoization or Tabulation approach for Dynamic programming</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<blockquote>
<p>Dynamic Programming is an algorithmic paradigm that solves a given complex
problem by breaking it into subproblems and stores the results of
subproblems to avoid computing the same results again.</p>
</blockquote>
<p>http://www.geeksforgeeks.org/dynamic-programming-set-1/</p>
<p>Memoization is an easy method to track previously solved solutions (often
implemented as a hash key value pair, as opposed to tabulation which is often
based on arrays) so that they aren't recalculated when they are encountered
again. It can be used in both bottom up or top down methods.</p>
<p>See this discussion on memoization vs tabulation.</p>
<p>So Dynamic programming is a method to solve certain classes of problems by
solving recurrence relations/recursion and storing previously found solutions
via either tabulation or memoization. Memoization is a method to keep track of
solutions to previously solved problems and can be used with any function that
has unique deterministic solutions for a given set of inputs.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2733.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2731.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2621) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2621.html">
<link rel="prev" href="index-2622.html" type="text/html">
<link rel="next" href="index-2620.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-hide-output-of-subprocess/" class="u-url">How to hide output of subprocess</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-hide-output-of-subprocess/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T05:30:31+08:00" itemprop="datePublished" title="2023-03-05 05:30">2023-03-05 05:30</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm using eSpeak on Ubuntu and have a Python 2.7 script that prints and speaks
a message:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">subprocess</span>
<span class="n">text</span> <span class="o">=</span> <span class="s1">'Hello World.'</span>
<span class="nb">print</span> <span class="n">text</span>
<span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">([</span><span class="s1">'espeak'</span><span class="p">,</span> <span class="n">text</span><span class="p">])</span>
</pre></div>

<p>eSpeak produces the desired sounds, but clutters the shell with some errors
(ALSA lib..., no socket connect) so i cannot easily read what was printed
earlier. Exit code is 0.</p>
<p>Unfortunately there is no documented option to turn off its verbosity, so I'm
looking for a way to only visually silence it and keep the open shell clean
for further interaction.</p>
<p>How can I do this?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>For python &gt;= 3.3, Redirect the output to DEVNULL:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">subprocess</span>

<span class="n">retcode</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">([</span><span class="s1">'echo'</span><span class="p">,</span> <span class="s1">'foo'</span><span class="p">],</span> 
    <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">DEVNULL</span><span class="p">,</span>
    <span class="n">stderr</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">STDOUT</span><span class="p">)</span>
</pre></div>

<p>For python &lt;3.3, including 2.7 use:</p>
<div class="code"><pre class="code literal-block">FNULL = open(os.devnull, 'w')
retcode = subprocess.call(['echo', 'foo'], 
    stdout=FNULL, 
    stderr=subprocess.STDOUT)
</pre></div>

<p>It is effectively the same as running this shell command:</p>
<div class="code"><pre class="code literal-block">retcode = os.system("echo 'foo' &amp;&gt; /dev/null")
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Here's a more portable version (just for fun, it is not necessary in your
case):</p>
<div class="code"><table class="codetable">
<tr>
<td class="linenos linenodiv"><a href="posts/how-to-hide-output-of-subprocess/#-1"><code data-line-number=" 1"></code></a></td>
<td class="code"><code><span class="ch">#!/usr/bin/env python</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="posts/how-to-hide-output-of-subprocess/#-2"><code data-line-number=" 2"></code></a></td>
<td class="code"><code><span class="c1"># -*- coding: utf-8 -*-</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="posts/how-to-hide-output-of-subprocess/#-3"><code data-line-number=" 3"></code></a></td>
<td class="code"><code><span class="kn">from</span> <span class="nn">subprocess</span> <span class="kn">import</span> <span class="n">Popen</span><span class="p">,</span> <span class="n">PIPE</span><span class="p">,</span> <span class="n">STDOUT</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="posts/how-to-hide-output-of-subprocess/#-4"><code data-line-number=" 4"></code></a></td>
<td class="code"><code>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="posts/how-to-hide-output-of-subprocess/#-5"><code data-line-number=" 5"></code></a></td>
<td class="code"><code><span class="k">try</span><span class="p">:</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="posts/how-to-hide-output-of-subprocess/#-6"><code data-line-number=" 6"></code></a></td>
<td class="code"><code>    <span class="kn">from</span> <span class="nn">subprocess</span> <span class="kn">import</span> <span class="n">DEVNULL</span> <span class="c1"># py3k</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="posts/how-to-hide-output-of-subprocess/#-7"><code data-line-number=" 7"></code></a></td>
<td class="code"><code><span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="posts/how-to-hide-output-of-subprocess/#-8"><code data-line-number=" 8"></code></a></td>
<td class="code"><code>    <span class="kn">import</span> <span class="nn">os</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="posts/how-to-hide-output-of-subprocess/#-9"><code data-line-number=" 9"></code></a></td>
<td class="code"><code>    <span class="n">DEVNULL</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">devnull</span><span class="p">,</span> <span class="s1">'wb'</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="posts/how-to-hide-output-of-subprocess/#-10"><code data-line-number="10"></code></a></td>
<td class="code"><code>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="posts/how-to-hide-output-of-subprocess/#-11"><code data-line-number="11"></code></a></td>
<td class="code"><code><span class="n">text</span> <span class="o">=</span> <span class="sa">u</span><span class="s2">"René Descartes"</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="posts/how-to-hide-output-of-subprocess/#-12"><code data-line-number="12"></code></a></td>
<td class="code"><code><span class="n">p</span> <span class="o">=</span> <span class="n">Popen</span><span class="p">([</span><span class="s1">'espeak'</span><span class="p">,</span> <span class="s1">'-b'</span><span class="p">,</span> <span class="s1">'1'</span><span class="p">],</span> <span class="n">stdin</span><span class="o">=</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">DEVNULL</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="n">STDOUT</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="posts/how-to-hide-output-of-subprocess/#-13"><code data-line-number="13"></code></a></td>
<td class="code"><code><span class="n">p</span><span class="o">.</span><span class="n">communicate</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">'utf-8'</span><span class="p">))</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="posts/how-to-hide-output-of-subprocess/#-14"><code data-line-number="14"></code></a></td>
<td class="code"><code><span class="k">assert</span> <span class="n">p</span><span class="o">.</span><span class="n">returncode</span> <span class="o">==</span> <span class="mi">0</span> <span class="c1"># use appropriate for your program error handling here</span>
</code></td>
</tr>
</table></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-are-oltp-and-olap-what-is-the-difference-between-them/" class="u-url">What are OLTP and OLAP. What is the difference between them?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-are-oltp-and-olap-what-is-the-difference-between-them/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T05:29:12+08:00" itemprop="datePublished" title="2023-03-05 05:29">2023-03-05 05:29</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Actually what do they mean? All articles I find about them don't give me an
idea, or my knowledge is too insufficient to understand it.</p>
<p>Will some one give me some resources with which I can learn this from scratch.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Here you will find a better solution OLTP vs. OLAP</p>
<ul>
<li>
<p><strong>OLTP</strong> (On-line Transaction Processing) is involved in the operation of a particular system. OLTP is characterized by a large number of short on-line transactions (INSERT, UPDATE, DELETE). The main emphasis for OLTP systems is put on very fast query processing, maintaining data integrity in multi-access environments and an effectiveness measured by number of transactions per second. In OLTP database there is detailed and current data, and schema used to store transactional databases is the entity model (usually 3NF). It involves Queries accessing individual record like Update your Email in Company database.</p>
</li>
<li>
<p><strong>OLAP</strong> (On-line Analytical Processing) deals with Historical Data or Archival Data. OLAP is characterized by relatively low volume of transactions. Queries are often very complex and involve aggregations. For OLAP systems a response time is an effectiveness measure. OLAP applications are widely used by Data Mining techniques. In OLAP database there is aggregated, historical data, stored in multi-dimensional schemas (usually star schema). Sometime query need to access large amount of data in Management records like what was the profit of your company in last year.</p>
</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<p><strong>Very short answer :</strong></p>
<p>Different databases have different uses. I'm not a database expert. Rule of
thumb:</p>
<ul>
<li>if you are doing analytics (ex. aggregating historical data) use OLAP</li>
<li>if you are doing transactions (ex. adding/removing orders on an e-commerce cart) use OLTP</li>
</ul>
<p><strong>Short answer:</strong></p>
<p>Let's consider two example scenarios:</p>
<p><em>Scenario 1:</em></p>
<p>You are building an online store/website, and you want to be able to:</p>
<ul>
<li>store user data, passwords, previous transactions...</li>
<li>store actual products, their associated prices</li>
</ul>
<p>You want to be able to find data for a particular user, change its name...
basically perform INSERT, UPDATE, DELETE operations on user data. Same with
products, etc.</p>
<p>You want to be able to make transactions, possibly involving a user buying a
product (that's a relation). Then OLTP is probably a good fit.</p>
<p><em>Scenario 2:</em></p>
<p>You have an online store/website, and you want to compute things like</p>
<ul>
<li>the "total money spent by all users"</li>
<li>"what is the most sold product"</li>
</ul>
<p>This falls into the analytics/business intelligence domain, and therefore OLAP
is probably more suited.</p>
<p>If you think in terms of "It would be nice to know how/what/how much"..., and
that involves all "objects" of one or more kind (ex. all the users and most of
the products to know the total spent) then OLAP is probably better suited.</p>
<p><strong>Longer answer:</strong></p>
<p>Of course things are not so simple. That's why we have to use short tags like
<code>OLTP</code>and <code>OLAP</code> in the first place. Each database should be evaluated
independently in the end.</p>
<p>So what could be the fundamental difference between OLAP and OLTP?</p>
<p>Well, databases have to store data somewhere. It shouldn't be surprising that
the way the data is stored heavily reflects the possible use of said data.
Data is usually stored on a hard drive. Let's think of a hard drive as a
really wide sheet of paper, where we can read and write things. There are two
ways to organize our reads and writes so that they can be efficient and fast.</p>
<p><strong>One way</strong> is to make a book that is a bit like a <em>phone book</em>. On each page
of the book, we store the information regarding a particular user. Now that's
nice, we can find the information for a particular user very easily! Just jump
to the page! We can even have a special page at the beginning to tell us on
which page the users are if we want. But on the other hand, if we want to
find, say, how much money all of our users spent then we would have to read
every page, i.e. the whole book! That would be a row-based book/database
(OLTP). The optional page at the beginning would be the index.</p>
<p><strong>Another way</strong> to use our big sheet of paper is to make an <em>accounting book</em>.
I'm no accountant, but let's imagine that we would have a page for
"expenditures", "purchases"... That's nice because now we can query things
like "give me the total revenue" very quickly (just read the "purchases"
page). We can also ask for more involved things like "give me the top ten
products sold" and still have acceptable performance. But now consider how
painful it would be to find the expenditures for a particular user. You would
have to go through the whole list of everyone's expenditures and filter the
ones of that particular user, then sum them. Which basically amounts to "read
the whole book" again. That would be a column-based database (OLAP).</p>
<p><strong>It follows that</strong> :</p>
<ul>
<li>
<p><code>OLTP</code> databases are meant to be used to do many small transactions, and usually serve as a "single source of truth".</p>
</li>
<li>
<p><code>OLAP</code> databases on the other hand are more suited for analytics, data mining, fewer queries but they are usually bigger (they operate on more data).</p>
</li>
</ul>
<p>It's a bit more involved than that of course and that's a 20 000 feet overview
of how databases differ, but it allows me not to get lost in a sea of
acronyms.</p>
<p>Speaking of acronyms:</p>
<ul>
<li>OLTP = Online transaction processing</li>
<li>OLAP = Online analytical processing</li>
</ul>
<p>To read a bit further, here are some relevant links which heavily inspired my
answer:</p>
<ul>
<li>http://datawarehouse4u.info/OLTP-vs-OLAP.html</li>
<li>http://www.ibmsystemsmag.com/Blogs/You-and-i/Archive/db-102-database-orientation-row-vs-column/</li>
<li>http://martinfowler.com/bliki/DataLake.html</li>
</ul>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-merge-lists-into-a-list-of-tuples/" class="u-url">How to merge lists into a list of tuples?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-merge-lists-into-a-list-of-tuples/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T05:27:59+08:00" itemprop="datePublished" title="2023-03-05 05:27">2023-03-05 05:27</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What is the Pythonic approach to achieve the following?</p>
<div class="code"><pre class="code literal-block"># Original lists:

list_a = [1, 2, 3, 4]
list_b = [5, 6, 7, 8]

# List of tuples from 'list_a' and 'list_b':

list_c = [(1,5), (2,6), (3,7), (4,8)]
</pre></div>

<p>Each member of <code>list_c</code> is a tuple, whose first member is from <code>list_a</code> and
the second is from <code>list_b</code>.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>In Python 2:</p>
<div class="code"><pre class="code literal-block">&gt;&gt;&gt; list_a = [1, 2, 3, 4]
&gt;&gt;&gt; list_b = [5, 6, 7, 8]
&gt;&gt;&gt; zip(list_a, list_b)
[(1, 5), (2, 6), (3, 7), (4, 8)]
</pre></div>

<p>In Python 3:</p>
<div class="code"><pre class="code literal-block">&gt;&gt;&gt; list_a = [1, 2, 3, 4]
&gt;&gt;&gt; list_b = [5, 6, 7, 8]
&gt;&gt;&gt; list(zip(list_a, list_b))
[(1, 5), (2, 6), (3, 7), (4, 8)]
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>In python 3.0 zip returns a zip object. You can get a list out of it by
calling <code>list(zip(a, b))</code>.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2622.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2620.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

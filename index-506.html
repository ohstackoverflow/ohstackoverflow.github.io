<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 506) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-506.html">
<link rel="prev" href="index-507.html" type="text/html">
<link rel="next" href="index-505.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-recover-stashed-uncommitted-changes/" class="u-url">How to recover stashed uncommitted changes</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-recover-stashed-uncommitted-changes/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T08:35:45+08:00" itemprop="datePublished" title="2023-02-17 08:35">2023-02-17 08:35</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I had some uncommitted changes in my development branch and I stashed them
using <code>git stash</code>, but there were some changes which were very important among
those stashed ones. Is there any way to get back those changes?</p>
<p>Also, I have made some changes on top of the stashed code files since.</p>
<p>Is there any chance I can retrieve the stashed changes to a new branch if
possible?</p>
<p><br><br></p>
<h2>Answer</h2>
<h3>The easy answer to the easy question is <code>git stash apply</code>
</h3>
<p>Just check out the branch you want your changes on, and then <code>git stash
apply</code>. Then use <code>git diff</code> to see the result.</p>
<p>After you're all done with your changes—the <code>apply</code> looks good and you're sure
you don't need the stash any more— <em>then</em> use <code>git stash drop</code> to get rid of
it.</p>
<p>I always suggest using <code>git stash apply</code> rather than <code>git stash pop</code>. The
difference is that <code>apply</code> leaves the stash around for easy re-try of the
<code>apply</code>, or for looking at, etc. If <code>pop</code> is able to extract the stash, it
will immediately also <code>drop</code> it, and if you subsequently realize that you
wanted to extract it somewhere else (in a different branch), or with
<code>--index</code>, or some such, that's not so easy. If you <code>apply</code>, <em>you</em> get to
choose when to <code>drop</code>.</p>
<p>It's all pretty minor one way or the other though, and for a newbie to Git, it
should be about the same. (And you can skip all the rest of this!)</p>
<hr>
<h3>What if you're doing more-advanced or more-complicated stuff?</h3>
<p>There are at least three or four different "ways to use git stash", as it
were. The above is for "way 1", the "easy way":</p>
<ol>
<li>You started with a clean branch, were working on some changes, and then realized you were doing them in the wrong branch. You just want to take the changes you have now and "move" them to another branch.</li>
</ol>
<p>This is the easy case, described above. Run <code>git stash save</code> (or plain <code>git
stash</code>, same thing). Check out the other branch and use <code>git stash apply</code>.
This gets Git to merge in your earlier changes, using Git's rather powerful
merge mechanism. <em>Inspect the results carefully</em> (with <code>git diff</code>) to see if
you like them, and if you do, use <code>git stash drop</code> to drop the stash. You're
done!</p>
<ol>
<li>You started some changes and stashed them. Then you switched to another branch and started more changes, forgetting that you had the stashed ones.</li>
</ol>
<p>Now you want to keep, or even move, <em>these</em> changes, <em>and</em> apply your stash
too.</p>
<p>You can in fact <code>git stash save</code> again, as <code>git stash</code> makes a "stack" of
changes. If you do that, you have two stashes, one just called <code>stash</code>—but you
can also write <code>stash@{0}</code>—and one spelled <code>stash@{1}</code>. Use <code>git stash list</code>
(at any time) to see them all. The newest is always the lowest-numbered. When
you <code>git stash drop</code>, it drops the newest, and the one that was <code>stash@{1}</code>
moves to the top of the stack. If you had, even more, the one that was
<code>stash@{2}</code> becomes <code>stash@{1}</code>, and so on.</p>
<p>You can <code>apply</code> and then <code>drop</code> a specific stash, too: <code>git stash apply
stash@{2}</code>, and so on. Dropping a specific stash renumbers only the higher-
numbered ones. Again, the one without a number is also <code>stash@{0}</code>.</p>
<p>If you pile up a lot of stashes, it can get fairly messy (was the stash I
wanted <code>stash@{7}</code> or was it <code>stash@{4}</code>? Wait, I just pushed another, now
they're 8 and 5?). I personally prefer to transfer these changes to a new
branch, because branches have names, and <code>cleanup-attempt-in-December</code> means a
lot more to me than <code>stash@{12}</code>. (The <code>git stash</code> command takes an optional
save-message, and those can help, but somehow, all my stashes just wind up
named <code>WIP on branch</code>.)</p>
<ol>
<li>
<p>(Extra-advanced) You've used <code>git stash save -p</code>, or carefully <code>git add</code>-ed and/or <code>git rm</code>-ed specific bits of your code before running <code>git stash save</code>. You had one version in the stashed index/staging area and another (different) version in the working tree. You want to preserve all this. So now you use <code>git stash apply --index</code>, and that sometimes fails with:</p>
<div class="code"><pre class="code literal-block">Conflicts in index.  Try without --index.
</pre></div>

</li>
<li>
<p>You're using <code>git stash save --keep-index</code> in order to test "what will be committed". This one is beyond the scope of this answer; see this other StackOverflow answer instead.</p>
</li>
</ol>
<p>For complicated cases, I recommend starting in a "clean" working tree first,
by committing any changes you have now (on a new branch if you like). That way
the "somewhere" that you are applying them, has nothing else in it, and you'll
just be trying the stashed changes:</p>
<div class="code"><pre class="code literal-block"><span class="nv">git</span><span class="w"> </span><span class="nv">status</span><span class="w">               </span>#<span class="w"> </span><span class="nv">see</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">there</span><span class="err">'s anything you need to commit</span>
<span class="w">                         </span>#<span class="w"> </span><span class="nv">uh</span><span class="w"> </span><span class="nv">oh</span>,<span class="w"> </span><span class="nv">there</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nv">let</span><span class="err">'s put it on a new temp branch</span>
<span class="err">git checkout -b temp     # create new temp branch to save stuff</span>
<span class="err">git add ...              # add (and/or remove) stuff as needed</span>
<span class="err">git commit               # save first set of changes</span>
</pre></div>

<p>Now you're on a "clean" starting point. Or maybe it goes more like this:</p>
<div class="code"><pre class="code literal-block"><span class="nt">git</span><span class="w"> </span><span class="nt">status</span><span class="w">               </span><span class="err">#</span><span class="w"> </span><span class="nt">see</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nt">there</span><span class="err">'</span><span class="nt">s</span><span class="w"> </span><span class="nt">anything</span><span class="w"> </span><span class="nt">you</span><span class="w"> </span><span class="nt">need</span><span class="w"> </span><span class="nt">to</span><span class="w"> </span><span class="nt">commit</span>
<span class="w">                         </span><span class="err">#</span><span class="w"> </span><span class="nt">status</span><span class="w"> </span><span class="nt">says</span><span class="w"> </span><span class="s2">"nothing to commit"</span>
<span class="nt">git</span><span class="w"> </span><span class="nt">checkout</span><span class="w"> </span><span class="nt">-b</span><span class="w"> </span><span class="nt">temp</span><span class="w">     </span><span class="err">#</span><span class="w"> </span><span class="nt">optional</span><span class="o">:</span><span class="w"> </span><span class="nt">create</span><span class="w"> </span><span class="nt">a</span><span class="w"> </span><span class="nt">new</span><span class="w"> </span><span class="nt">branch</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="s2">"apply"</span>
<span class="nt">git</span><span class="w"> </span><span class="nt">stash</span><span class="w"> </span><span class="nt">apply</span><span class="w">          </span><span class="err">#</span><span class="w"> </span><span class="nt">apply</span><span class="w"> </span><span class="nt">stashed</span><span class="w"> </span><span class="nt">changes</span><span class="o">;</span><span class="w"> </span><span class="nt">see</span><span class="w"> </span><span class="nt">below</span><span class="w"> </span><span class="nt">about</span><span class="w"> </span><span class="nt">--index</span>
</pre></div>

<p>The main thing to remember is that the "stash" <em>is</em> a commit, it's just a
slightly "funny/weird" commit that's not "on a branch". The <code>apply</code> operation
looks at what the commit changed and tries to repeat it wherever you are now.
The stash will still be there (<code>apply</code> keeps it around), so you can look at it
more, or decide this was the wrong place to <code>apply</code> it and try again
differently, or whatever.</p>
<hr>
<p>Any time you have a stash, you can use <code>git stash show -p</code> to see a simplified
version of what's in the stash. (This simplified version looks only at the
"final work tree" changes, <em>not</em> the saved index changes that <code>--index</code>
restores separately.) The command <code>git stash apply</code>, without <code>--index</code>, just
tries to make those <em>same</em> changes in your working tree now.</p>
<p>This is true even if you already have some changes. The <code>apply</code> command is
happy to apply a stash to a <em>modified</em> working tree (or at least, to try to
apply it). You can, for instance, do this:</p>
<div class="code"><pre class="code literal-block"><span class="nv">git</span><span class="w"> </span><span class="nv">stash</span><span class="w"> </span><span class="nv">apply</span><span class="w"> </span><span class="nv">stash</span><span class="w">      </span>#<span class="w"> </span><span class="nv">apply</span><span class="w"> </span><span class="nv">top</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">stash</span><span class="w"> </span><span class="nv">stack</span>
<span class="nv">git</span><span class="w"> </span><span class="nv">stash</span><span class="w"> </span><span class="nv">apply</span><span class="w"> </span><span class="nv">stash</span>@{<span class="mi">1</span>}<span class="w">  </span>#<span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="nv">mix</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="k">next</span><span class="w"> </span><span class="nv">stash</span><span class="w"> </span><span class="nv">stack</span><span class="w"> </span><span class="nv">entry</span><span class="w"> </span><span class="nv">too</span>
</pre></div>

<p>You can choose the "apply" order here, picking out particular stashes to apply
in a particular sequence. Note, however, that each time you're basically doing
a "git merge", and as the merge documentation warns:</p>
<blockquote>
<p>Running git merge with non-trivial uncommitted changes is discouraged: while
possible, it may leave you in a state that is hard to back out of in the
case of a conflict.</p>
</blockquote>
<p><strong>If you start with a clean tree</strong> and are just doing several <code>git apply</code>
operations, it's easy to back out: use <code>git reset --hard</code> to get back to the
clean state, and change your <code>apply</code> operations. (That's why I recommend
starting in a clean working tree first, for these complicated cases.)</p>
<hr>
<h3>What about the very worst possible case?</h3>
<p>Let's say you're doing Lots Of Advanced Git Stuff, and you've made a stash,
and want to <code>git stash apply --index</code>, but it's no longer possible to apply
the saved stash with <code>--index</code> because the branch has diverged too much since
the time you saved it.</p>
<p>This is what <code>git stash branch</code> is for.</p>
<p>If you:</p>
<ol>
<li>check out the <em>exact commit</em> you were on when you did the original <code>stash</code>, then</li>
<li>create a new branch, and finally</li>
<li><code>git stash apply --index</code></li>
</ol>
<p>the attempt to re-create the changes definitely <em>will</em> work. This is what <code>git
stash branch _newbranch_</code> does. (And it then drops the stash since it was
successfully applied.)</p>
<hr>
<h3>Some final words about <code>--index</code> (what the heck is it?)</h3>
<p>What the <code>--index</code> does is simple to explain, but a bit complicated
internally:</p>
<ul>
<li>When you have changes, you have to <code>git add</code> (or "stage") them before <code>commit</code>-ing.</li>
<li>Thus, when you ran <code>git stash</code>, you <em>might</em> have edited both files <code>foo</code> and <code>zorg</code>, but only staged one of those.</li>
<li>So when you ask to get the stash back, it might be nice if it <code>git add</code>s the <code>added</code> things and does <em>not</em> <code>git add</code> the non-added things. That is, if you are <code>add</code>-ed <code>foo</code> but not <code>zorg</code> back before you did the <code>stash</code>, it might be nice to have that exact same setup. What was staged, should again be staged; what was modified but not staged, should again be modified but not staged.</li>
</ul>
<p>The <code>--index</code> flag to <code>apply</code> tries to set things up this way. If your working
tree is clean, this usually just works. If your working tree already has stuff
<code>add</code>-ed, though, you can see how there might be some problems here. If you
leave out <code>--index</code>, the <code>apply</code> operation does not attempt to preserve the
whole staged/unstaged setup. Instead, it just invokes Git's merge machinery,
using the working tree commit in the "stash bag". If you don't care about
preserving staged/unstaged, leaving out <code>--index</code> makes it a lot easier for
<code>git stash apply</code> to do its thing.</p>
<p><br></p>
<h3>Suggest</h3>
<div class="code"><pre class="code literal-block">git stash pop
</pre></div>

<p>will get everything back in place</p>
<p>as suggested in the comments, you can use <code>git stash branch newbranch</code> to
apply the stash to a new branch, which is the same as running:</p>
<div class="code"><pre class="code literal-block">git checkout -b newbranch
git stash pop
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/jquery-disable-enable-submit-button/" class="u-url">jQuery disable/enable submit button</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/jquery-disable-enable-submit-button/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T08:35:18+08:00" itemprop="datePublished" title="2023-02-17 08:35">2023-02-17 08:35</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have this HTML:</p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;</span><span class="nv">input</span><span class="w"> </span><span class="nv">type</span><span class="o">=</span><span class="s2">"text"</span><span class="w"> </span><span class="nv">name</span><span class="o">=</span><span class="s2">"textField"</span><span class="w"> </span><span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="nv">input</span><span class="w"> </span><span class="nv">type</span><span class="o">=</span><span class="s2">"submit"</span><span class="w"> </span><span class="nv">value</span><span class="o">=</span><span class="s2">"send"</span><span class="w"> </span><span class="o">/&gt;</span>
</pre></div>

<p>How can I do something like this:</p>
<ul>
<li>When the text field is empty the submit should be disabled (disabled="disabled").</li>
<li>When something is typed in the text field to remove the disabled attribute.</li>
<li>If the text field becomes empty again(the text is deleted) the submit button should be disabled again.</li>
</ul>
<p>I tried something like this:</p>
<div class="code"><pre class="code literal-block">$<span class="ss">(</span><span class="nv">document</span><span class="ss">)</span>.<span class="nv">ready</span><span class="ss">(</span><span class="nv">function</span><span class="ss">()</span>{
<span class="w">    </span>$<span class="ss">(</span><span class="s1">'input[type="submit"]'</span><span class="ss">)</span>.<span class="nv">attr</span><span class="ss">(</span><span class="s1">'disabled'</span>,<span class="s1">'disabled'</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span>$<span class="ss">(</span><span class="s1">'input[type="text"]'</span><span class="ss">)</span>.<span class="nv">change</span><span class="ss">(</span><span class="nv">function</span><span class="ss">()</span>{
<span class="w">        </span><span class="k">if</span><span class="ss">(</span>$<span class="ss">(</span><span class="nv">this</span><span class="ss">)</span>.<span class="nv">val</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s1">''</span><span class="ss">)</span>{
<span class="w">            </span>$<span class="ss">(</span><span class="s1">'input[type="submit"]'</span><span class="ss">)</span>.<span class="nv">removeAttr</span><span class="ss">(</span><span class="s1">'disabled'</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">        </span>}
<span class="w">    </span>}<span class="ss">)</span><span class="c1">;</span>
}<span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p>…but it doesn't work. Any ideas?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The problem is that the change event fires only when focus is moved away from
the input (e.g. someone clicks off the input or tabs out of it). Try using
keyup instead:</p>
<div class="code"><pre class="code literal-block">$<span class="ss">(</span><span class="nv">document</span><span class="ss">)</span>.<span class="nv">ready</span><span class="ss">(</span><span class="nv">function</span><span class="ss">()</span><span class="w"> </span>{
<span class="w">     </span>$<span class="ss">(</span><span class="s1">':input[type="submit"]'</span><span class="ss">)</span>.<span class="nv">prop</span><span class="ss">(</span><span class="s1">'disabled'</span>,<span class="w"> </span><span class="nv">true</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">     </span>$<span class="ss">(</span><span class="s1">'input[type="text"]'</span><span class="ss">)</span>.<span class="nv">keyup</span><span class="ss">(</span><span class="nv">function</span><span class="ss">()</span><span class="w"> </span>{
<span class="w">        </span><span class="k">if</span><span class="ss">(</span>$<span class="ss">(</span><span class="nv">this</span><span class="ss">)</span>.<span class="nv">val</span><span class="ss">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s1">''</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">           </span>$<span class="ss">(</span><span class="s1">':input[type="submit"]'</span><span class="ss">)</span>.<span class="nv">prop</span><span class="ss">(</span><span class="s1">'disabled'</span>,<span class="w"> </span><span class="nv">false</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">        </span>}
<span class="w">     </span>}<span class="ss">)</span><span class="c1">;</span>
<span class="w"> </span>}<span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<div class="code"><pre class="code literal-block">$<span class="ss">(</span><span class="nv">function</span><span class="ss">()</span><span class="w"> </span>{
<span class="w">  </span>$<span class="ss">(</span><span class="s2">":text"</span><span class="ss">)</span>.<span class="nv">keypress</span><span class="ss">(</span><span class="nv">check_submit</span><span class="ss">)</span>.<span class="nv">each</span><span class="ss">(</span><span class="nv">function</span><span class="ss">()</span><span class="w"> </span>{
<span class="w">    </span><span class="nv">check_submit</span><span class="ss">()</span><span class="c1">;</span>
<span class="w">  </span>}<span class="ss">)</span><span class="c1">;</span>
}<span class="ss">)</span><span class="c1">;</span>

<span class="nv">function</span><span class="w"> </span><span class="nv">check_submit</span><span class="ss">()</span><span class="w"> </span>{
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span>$<span class="ss">(</span><span class="nv">this</span><span class="ss">)</span>.<span class="nv">val</span><span class="ss">()</span>.<span class="nv">length</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span>$<span class="ss">(</span><span class="s2">":submit"</span><span class="ss">)</span>.<span class="nv">attr</span><span class="ss">(</span><span class="s2">"disabled"</span>,<span class="w"> </span><span class="nv">true</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">  </span>}<span class="w"> </span><span class="k">else</span><span class="w"> </span>{
<span class="w">    </span>$<span class="ss">(</span><span class="s2">":submit"</span><span class="ss">)</span>.<span class="nv">removeAttr</span><span class="ss">(</span><span class="s2">"disabled"</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">  </span>}
}
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/vertical-align-with-bootstrap-3/" class="u-url">vertical-align with Bootstrap 3</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/vertical-align-with-bootstrap-3/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T08:34:50+08:00" itemprop="datePublished" title="2023-02-17 08:34">2023-02-17 08:34</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm using Twitter Bootstrap 3, and I have problems when I want to align
vertically two <code>div</code>, for example — JSFiddle link:</p>
<div class="code"><pre class="code literal-block"><span class="cm">&lt;!-- Latest compiled and minified CSS --&gt;</span>
<span class="nt">&lt;link</span><span class="w"> </span><span class="na">rel=</span><span class="s">"stylesheet"</span><span class="w"> </span><span class="na">href=</span><span class="s">"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css"</span><span class="nt">&gt;</span>

<span class="cm">&lt;!-- Optional theme --&gt;</span>
<span class="nt">&lt;link</span><span class="w"> </span><span class="na">rel=</span><span class="s">"stylesheet"</span><span class="w"> </span><span class="na">href=</span><span class="s">"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css"</span><span class="nt">&gt;</span>

<span class="cm">&lt;!-- Latest compiled and minified JavaScript --&gt;</span>
<span class="nt">&lt;script</span><span class="w"> </span><span class="na">src=</span><span class="s">"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"row"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"col-xs-5"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">style=</span><span class="s">"height:5em;border:1px solid #000"</span><span class="nt">&gt;</span>Big<span class="nt">&lt;/div&gt;</span>
<span class="w">  </span><span class="nt">&lt;/div&gt;</span>
<span class="w">  </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"col-xs-5"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">style=</span><span class="s">"height:3em;border:1px solid #F00"</span><span class="nt">&gt;</span>Small<span class="nt">&lt;/div&gt;</span>
<span class="w">  </span><span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p>The grid system in Bootstrap uses <code>float: left</code>, not <code>display:inline-block</code>,
so the property <code>vertical-align</code> doesn't work. I tried using <code>margin-top</code> to
fix it, but I think this is not a good solution for the responsive design.</p>
<p><br><br></p>
<h2>Answer</h2>
<blockquote>
<p>This answer presents a hack, but I would highly recommend you to use flexbox
(as stated in @Haschem answer), since it's now supported everywhere.</p>
<p><strong>Demos link:</strong><br>
 - Bootstrap 3<br>
 - Bootstrap 4 alpha 6<br></p>
</blockquote>
<p>You still can use a custom class when you need it:</p>
<div class="code"><pre class="code literal-block">.vcenter<span class="w"> </span>{
<span class="w">    </span>display:<span class="w"> </span>inline-block;
<span class="w">    </span>vertical-align:<span class="w"> </span>middle;
<span class="w">    </span>float:<span class="w"> </span>none;
}


<span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"row"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"col-xs-5 col-md-3 col-lg-1 vcenter"</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">style=</span><span class="s">"height:10em;border:1px solid #000"</span><span class="nt">&gt;</span>Big<span class="nt">&lt;/div&gt;</span>
<span class="w">    </span><span class="nt">&lt;/div&gt;</span><span class="cm">&lt;!--</span>
<span class="cm">    --&gt;</span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"col-xs-5 col-md-7 col-lg-9 vcenter"</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">style=</span><span class="s">"height:3em;border:1px solid #F00"</span><span class="nt">&gt;</span>Small<span class="nt">&lt;/div&gt;</span>
<span class="w">    </span><span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p><strong>Bootply</strong></p>
<p>Using <code>inline-block</code> adds extra space between blocks if you let a real space
in your code (like <code>...&lt;/div&gt; &lt;/div&gt;...</code>). This extra space breaks our grid if
column sizes add up to 12:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"row"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"col-xs-6 col-md-4 col-lg-2 vcenter"</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">style=</span><span class="s">"height:10em;border:1px solid #000"</span><span class="nt">&gt;</span>Big<span class="nt">&lt;/div&gt;</span>
<span class="w">    </span><span class="nt">&lt;/div&gt;</span>
<span class="w">    </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"col-xs-6 col-md-8 col-lg-10 vcenter"</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">style=</span><span class="s">"height:3em;border:1px solid #F00"</span><span class="nt">&gt;</span>Small<span class="nt">&lt;/div&gt;</span>
<span class="w">    </span><span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p>Here, we've got extra spaces between <code>&lt;div class="[...] col-lg-2"&gt;</code> and <code>&lt;div
class="[...] col-lg-10"&gt;</code> (a carriage return and 2 tabs/8 spaces). And so...</p>
<p><img alt="Enter image description here" src="images/2Yzby.png"></p>
<p>Let's kick this extra space!!</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"row"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"col-xs-6 col-md-4 col-lg-2 vcenter"</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">style=</span><span class="s">"height:10em;border:1px solid #000"</span><span class="nt">&gt;</span>Big<span class="nt">&lt;/div&gt;</span>
<span class="w">    </span><span class="nt">&lt;/div&gt;</span><span class="cm">&lt;!--</span>
<span class="cm">    --&gt;</span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"col-xs-6 col-md-8 col-lg-10 vcenter"</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">style=</span><span class="s">"height:3em;border:1px solid #F00"</span><span class="nt">&gt;</span>Small<span class="nt">&lt;/div&gt;</span>
<span class="w">    </span><span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p><img alt="Enter image description here" src="images/XZTJj.png"></p>
<p>Notice the <em>seemingly</em> useless comments <code>&lt;!-- ... --&gt;</code>? They are <strong>important</strong>
-- without them, the whitespace between the <code>&lt;div&gt;</code> elements will take up
space in the layout, breaking the grid system.</p>
<p><em>Note: the Bootply has been updated</em></p>
<p><br></p>
<h3>Suggest</h3>
<h3>Flexible box layout</h3>
<p>With the advent of the CSS Flexible Box, many of web designers' nightmares1
have been resolved. One of the most hacky ones, the vertical alignment. Now it
is possible even in <strong>unknown heights</strong>.</p>
<blockquote>
<p>"Two decades of layout hacks are coming to an end. Maybe not tomorrow, but
soon, and for the rest of our lives."</p>
<p>— CSS Legendary Eric Meyer at W3Conf 2013</p>
</blockquote>
<p>Flexible Box (or in short, Flexbox), is a new layout system that is
specifically designed for layout purposes. The specification states:</p>
<blockquote>
<p>Flex layout is superficially similar to block layout. It lacks many of the
more complex text- or document-centric properties that can be used in block
layout, such as floats and columns. In return it gains simple and powerful
tools for distributing space and aligning content in ways that webapps and
complex web pages often need.</p>
</blockquote>
<p>How can it help in this case? Well, let's see.</p>
<hr>
<h2>Vertical aligned columns</h2>
<p>Using Twitter Bootstrap we have <code>.row</code>s having some <code>.col-*</code>s. All we need to
do is to display the desired <code>.row</code>2 as a flex container box and then align
all its flex items (the columns) vertically by <code>align-items</code> property.</p>
<p><strong>EXAMPLE HERE</strong> <em>(Please read the comments with care)</em></p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"container"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"row vertical-align"</span><span class="nt">&gt;</span><span class="w"> </span><span class="cm">&lt;!--</span>
<span class="cm">                    ^--  Additional class --&gt;</span>
<span class="w">        </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"col-xs-6"</span><span class="nt">&gt;</span><span class="w"> </span>...<span class="w"> </span><span class="nt">&lt;/div&gt;</span>
<span class="w">        </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"col-xs-6"</span><span class="nt">&gt;</span><span class="w"> </span>...<span class="w"> </span><span class="nt">&lt;/div&gt;</span>
<span class="w">    </span><span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>



.vertical-align<span class="w"> </span>{
<span class="w">    </span>display:<span class="w"> </span>flex;
<span class="w">    </span>align-items:<span class="w"> </span>center;
}
</pre></div>

<h4>The Output</h4>
<p><img alt="Vertical aligned columns in Twitter Bootstrap" src="images/cvLaI.jpg"></p>
<p><em>Colored area displays the padding-box of columns.</em></p>
<h4>Clarifying on <code>align-items: center</code>
</h4>
<blockquote>
<p><strong>8.3 Cross-axis Alignment: the<code>align-items</code> property</strong></p>
<p>Flex items can be aligned in the cross axis of the current line of the flex
container, similar to <code>justify-content</code> but in the perpendicular direction.
<code>align-items</code> sets the default alignment for all of the flex container’s
items, including anonymous flex items.</p>
<p><code>align-items: center;</code> By center value, the flex item’s margin box is
centered in the cross axis within the line.</p>
</blockquote>
<hr>
<h3>Big Alert</h3>
<p><strong>Important note #1:</strong> Twitter Bootstrap doesn't specify the <code>width</code> of
columns in extra small devices unless you give one of <code>.col-xs-#</code> classes to
the columns.</p>
<p>Therefore in this particular demo, I have used <code>.col-xs-*</code> classes in order
for columns to be displayed properly in mobile mode, because it specifies the
<code>width</code> of the column explicitly.</p>
<p>But alternatively you could <strong>switch off</strong> the Flexbox layout simply by
changing <code>display: flex;</code> to <code>display: block;</code> in specific screen sizes. For
instance:</p>
<div class="code"><pre class="code literal-block"><span class="o">/*</span><span class="w"> </span><span class="n">Extra</span><span class="w"> </span><span class="n">small</span><span class="w"> </span><span class="n">devices</span><span class="w"> </span><span class="p">(</span><span class="mi">767</span><span class="n">px</span><span class="w"> </span><span class="nb">and</span><span class="w"> </span><span class="n">down</span><span class="p">)</span><span class="w"> </span><span class="o">*/</span>
<span class="p">@</span><span class="n">media</span><span class="w"> </span><span class="p">(</span><span class="nb">max</span><span class="o">-</span><span class="n">width</span><span class="p">:</span><span class="w"> </span><span class="mi">767</span><span class="n">px</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">.</span><span class="n">row</span><span class="p">.</span><span class="n">vertical</span><span class="o">-</span><span class="n">align</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">display</span><span class="p">:</span><span class="w"> </span><span class="n">block</span><span class="p">;</span><span class="w"> </span><span class="o">/*</span><span class="w"> </span><span class="n">Turn</span><span class="w"> </span><span class="n">off</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">flexible</span><span class="w"> </span><span class="n">box</span><span class="w"> </span><span class="n">layout</span><span class="w"> </span><span class="o">*/</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>Or you could specify <code>.vertical-align</code> <strong>only</strong> on specific screen sizes like
so:</p>
<div class="code"><pre class="code literal-block"><span class="o">/*</span><span class="w"> </span><span class="n">Small</span><span class="w"> </span><span class="n">devices</span><span class="w"> </span><span class="p">(</span><span class="n">tablets</span><span class="p">,</span><span class="w"> </span><span class="mi">768</span><span class="n">px</span><span class="w"> </span><span class="nb">and</span><span class="w"> </span><span class="n">up</span><span class="p">)</span><span class="w"> </span><span class="o">*/</span>
<span class="p">@</span><span class="n">media</span><span class="w"> </span><span class="p">(</span><span class="nb">min</span><span class="o">-</span><span class="n">width</span><span class="p">:</span><span class="w"> </span><span class="mi">768</span><span class="n">px</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">.</span><span class="n">row</span><span class="p">.</span><span class="n">vertical</span><span class="o">-</span><span class="n">align</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">display</span><span class="p">:</span><span class="w"> </span><span class="n">flex</span><span class="p">;</span>
<span class="w">        </span><span class="n">align</span><span class="o">-</span><span class="n">items</span><span class="p">:</span><span class="w"> </span><span class="nb">center</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>In that case, I'd go with @KevinNelson's approach.</p>
<p><strong>Important note #2:</strong> Vendor prefixes omitted due to brevity. Flexbox syntax
has been changed during the time. The new written syntax won't work on older
versions of web browsers (but not that old as Internet Explorer 9! Flexbox is
supported on Internet Explorer 10 and later).</p>
<p>This means you should also use vendor-prefixed properties like <code>display:
-webkit-box</code> and so on in production mode.</p>
<p>If you click on <em>"Toggle Compiled View"</em> in the Demo, you'll see the prefixed
version of CSS declarations (thanks to Autoprefixer).</p>
<hr>
<h2>Full-height columns with vertical aligned contents</h2>
<p>As you see in the previous demo, columns (the flex items) are no longer as
high as their container (the flex container box. i.e. the <code>.row</code> element).</p>
<p>This is because of using <code>center</code> value for <code>align-items</code> property. The
default value is <code>stretch</code> so that the items can fill the entire height of the
parent element.</p>
<p>In order to fix that, you can add <code>display: flex;</code> to the columns as well:</p>
<p><strong>EXAMPLE HERE</strong> <em>(Again, mind the comments)</em></p>
<div class="code"><pre class="code literal-block"><span class="na">.vertical-align</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nl">display:</span><span class="w"> </span><span class="nf">flex</span><span class="c1">;</span>
<span class="w">  </span><span class="nl">flex-direction:</span><span class="w"> </span><span class="nf">row</span><span class="c1">;</span>
<span class="err">}</span>

<span class="na">.vertical-align</span><span class="w"> </span><span class="err">&gt;</span><span class="w"> </span><span class="p">[</span><span class="no">class</span><span class="err">^=</span><span class="s">"col-"</span><span class="p">],</span>
<span class="na">.vertical-align</span><span class="w"> </span><span class="err">&gt;</span><span class="w"> </span><span class="p">[</span><span class="no">class</span><span class="p">*</span><span class="err">=</span><span class="s">" col-"</span><span class="p">]</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nl">display:</span><span class="w"> </span><span class="nf">flex</span><span class="c1">;</span>
<span class="w">  </span><span class="nl">align-items:</span><span class="w"> </span><span class="nf">center</span><span class="c1">;     /* Align the flex-items vertically */</span>
<span class="w">  </span><span class="nl">justify-content:</span><span class="w"> </span><span class="nf">center</span><span class="c1">; /* Optional, to align inner flex-items</span>
<span class="w">                              </span><span class="nf">horizontally</span><span class="w"> </span><span class="no">within</span><span class="w"> </span><span class="no">the</span><span class="w"> </span><span class="no">column</span><span class="w">  </span><span class="p">*</span><span class="err">/</span>
<span class="err">}</span>
</pre></div>

<h4>The Output</h4>
<p><img alt="Full-height columns with vertical aligned contents in Twitter
Bootstrap" src="images/d2o3b.jpg"></p>
<p><em>Colored area displays the padding-box of columns.</em></p>
<p><strong>Last, but not least</strong> , notice that the demos and code snippets here are
meant to give you a different idea, to provide a modern approach to achieve
the goal. Please mind the " <strong>Big Alert</strong> " section if you are going to use
this approach in real world websites or applications.</p>
<hr>
<p>For further reading including browser support, these resources would be
useful:</p>
<ul>
<li>Mozilla Developer Network - Flexible boxes</li>
<li>Guide To Flexbox - CSS Tricks</li>
<li>HTML5Rocks - Flexbox quick</li>
<li>SmashingMagazine - Centering Elements with Flexbox</li>
<li>Philip Walton - Solved By Flexbox</li>
<li>Can I Use: Flexible Box Layout Module</li>
</ul>
<hr>
<p>1. Vertically align an image inside a div with responsive height 2. It's
better to use an additional class in order not to alter Twitter Bootstrap's
default <code>.row</code>.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-507.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-505.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 866) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-866.html">
<link rel="prev" href="index-867.html" type="text/html">
<link rel="next" href="index-865.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/why-catch-and-rethrow-an-exception-in-c/" class="u-url">Why catch and rethrow an exception in C#?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/why-catch-and-rethrow-an-exception-in-c/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T18:05:33+08:00" itemprop="datePublished" title="2023-02-17 18:05">2023-02-17 18:05</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm looking at the article <em>C# - Data Transfer Object</em> on serializable DTOs.</p>
<p>The article includes this piece of code:</p>
<div class="code"><pre class="code literal-block"><span class="nv">public</span><span class="w"> </span><span class="nv">static</span><span class="w"> </span><span class="nv">string</span><span class="w"> </span><span class="nv">SerializeDTO</span><span class="ss">(</span><span class="nv">DTO</span><span class="w"> </span><span class="nv">dto</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="nv">try</span><span class="w"> </span>{
<span class="w">        </span><span class="nv">XmlSerializer</span><span class="w"> </span><span class="nv">xmlSer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">XmlSerializer</span><span class="ss">(</span><span class="nv">dto</span>.<span class="nv">GetType</span><span class="ss">())</span><span class="c1">;</span>
<span class="w">        </span><span class="nv">StringWriter</span><span class="w"> </span><span class="nv">sWriter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">StringWriter</span><span class="ss">()</span><span class="c1">;</span>
<span class="w">        </span><span class="nv">xmlSer</span>.<span class="nv">Serialize</span><span class="ss">(</span><span class="nv">sWriter</span>,<span class="w"> </span><span class="nv">dto</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nv">sWriter</span>.<span class="nv">ToString</span><span class="ss">()</span><span class="c1">;</span>
<span class="w">    </span>}
<span class="w">    </span><span class="nv">catch</span><span class="ss">(</span><span class="nv">Exception</span><span class="w"> </span><span class="nv">ex</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">        </span><span class="nv">throw</span><span class="w"> </span><span class="nv">ex</span><span class="c1">;</span>
<span class="w">    </span>}
}
</pre></div>

<p>The rest of the article looks sane and reasonable (to a noob), but that try-
catch-throw throws a WtfException... <strong>Isn't this exactly equivalent to not
handling exceptions at all?</strong></p>
<p>Ergo:</p>
<div class="code"><pre class="code literal-block"><span class="nv">public</span><span class="w"> </span><span class="nv">static</span><span class="w"> </span><span class="nv">string</span><span class="w"> </span><span class="nv">SerializeDTO</span><span class="ss">(</span><span class="nv">DTO</span><span class="w"> </span><span class="nv">dto</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="nv">XmlSerializer</span><span class="w"> </span><span class="nv">xmlSer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">XmlSerializer</span><span class="ss">(</span><span class="nv">dto</span>.<span class="nv">GetType</span><span class="ss">())</span><span class="c1">;</span>
<span class="w">    </span><span class="nv">StringWriter</span><span class="w"> </span><span class="nv">sWriter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">StringWriter</span><span class="ss">()</span><span class="c1">;</span>
<span class="w">    </span><span class="nv">xmlSer</span>.<span class="nv">Serialize</span><span class="ss">(</span><span class="nv">sWriter</span>,<span class="w"> </span><span class="nv">dto</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">sWriter</span>.<span class="nv">ToString</span><span class="ss">()</span><span class="c1">;</span>
}
</pre></div>

<p>Or am I missing something fundamental about error handling in C#? It's pretty
much the same as Java (minus checked exceptions), isn't it? ... That is, they
both refined C++.</p>
<p>The Stack Overflow question <em>The difference between re-throwing parameter-less
catch and not doing anything?</em> seems to support my contention that try-catch-
throw is-a no-op.</p>
<hr>
<p><strong>EDIT:</strong></p>
<p>Just to summarise for anyone who finds this thread in future...</p>
<p><strong>DO NOT</strong></p>
<div class="code"><pre class="code literal-block"><span class="nv">try</span><span class="w"> </span>{
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="k">Do</span><span class="w"> </span><span class="nv">stuff</span><span class="w"> </span><span class="nv">that</span><span class="w"> </span><span class="nv">might</span><span class="w"> </span><span class="nv">throw</span><span class="w"> </span><span class="nv">an</span><span class="w"> </span><span class="nv">exception</span>
}
<span class="nv">catch</span><span class="w"> </span><span class="ss">(</span><span class="nv">Exception</span><span class="w"> </span><span class="nv">e</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="nv">throw</span><span class="w"> </span><span class="nv">e</span><span class="c1">; // This destroys the strack trace information!</span>
}
</pre></div>

<p>The stack trace information can be crucial to identifying the root cause of
the problem!</p>
<p><strong>DO</strong></p>
<div class="code"><pre class="code literal-block"><span class="nv">try</span><span class="w"> </span>{
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="k">Do</span><span class="w"> </span><span class="nv">stuff</span><span class="w"> </span><span class="nv">that</span><span class="w"> </span><span class="nv">might</span><span class="w"> </span><span class="nv">throw</span><span class="w"> </span><span class="nv">an</span><span class="w"> </span><span class="nv">exception</span>
}
<span class="nv">catch</span><span class="w"> </span><span class="ss">(</span><span class="nv">SqlException</span><span class="w"> </span><span class="nv">e</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="nv">Log</span><span class="w"> </span><span class="nv">it</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">e</span>.<span class="nv">ErrorCode</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nv">NO_ROW_ERROR</span><span class="ss">)</span><span class="w"> </span>{<span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="nv">filter</span><span class="w"> </span><span class="nv">out</span><span class="w"> </span><span class="nv">NoDataFound</span>.
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="k">Do</span><span class="w"> </span><span class="nv">special</span><span class="w"> </span><span class="nv">cleanup</span>,<span class="w"> </span><span class="nv">like</span><span class="w"> </span><span class="nv">maybe</span><span class="w"> </span><span class="nv">closing</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="s2">"dirty"</span><span class="w"> </span><span class="nv">database</span><span class="w"> </span><span class="nv">connection</span>.
<span class="w">        </span><span class="nv">throw</span><span class="c1">; // This preserves the stack trace</span>
<span class="w">    </span>}
}
<span class="nv">catch</span><span class="w"> </span><span class="ss">(</span><span class="nv">IOException</span><span class="w"> </span><span class="nv">e</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="nv">Log</span><span class="w"> </span><span class="nv">it</span>
<span class="w">    </span><span class="nv">throw</span><span class="c1">;</span>
}
<span class="nv">catch</span><span class="w"> </span><span class="ss">(</span><span class="nv">Exception</span><span class="w"> </span><span class="nv">e</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="nv">Log</span><span class="w"> </span><span class="nv">it</span>
<span class="w">    </span><span class="nv">throw</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">DAOException</span><span class="ss">(</span><span class="s2">"Excrement occurred"</span>,<span class="w"> </span><span class="nv">e</span><span class="ss">)</span><span class="c1">; // wrapped &amp; chained exceptions (just like java).</span>
}
<span class="nv">finally</span><span class="w"> </span>{
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="nv">Normal</span><span class="w"> </span><span class="nv">clean</span><span class="w"> </span><span class="nv">goes</span><span class="w"> </span><span class="nv">here</span><span class="w"> </span><span class="ss">(</span><span class="nv">like</span><span class="w"> </span><span class="nv">closing</span><span class="w"> </span><span class="nv">open</span><span class="w"> </span><span class="nv">files</span><span class="ss">)</span>.
}
</pre></div>

<p>Catch the more specific exceptions before the less specific ones (just like
Java).</p>
<hr>
<p><strong>References:</strong></p>
<ul>
<li>MSDN - Exception Handling</li>
<li>MSDN - try-catch (C# Reference)</li>
</ul>
<p><br><br></p>
<h2>Answer</h2>
<p>First, the way that the code in the article does it is evil. <code>throw ex</code> will
reset the call stack in the exception to the point where this throw statement
is losing the information about where the exception actually was created.</p>
<p>Second, if you just catch and re-throw like that, I see no added value. The
code example above would be just as good (or, given the <code>throw ex</code> bit, even
better) without the try-catch.</p>
<p>However, there are cases where you might want to catch and rethrow an
exception. Logging could be one of them:</p>
<div class="code"><pre class="code literal-block">    try 
    {
        // code that may throw exceptions    
    }
    catch(Exception ex) 
    {
        // add error logging here
        throw;
    }
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Don't do this,</p>
<div class="code"><pre class="code literal-block">try 
{
...
}
catch(Exception ex)
{
   throw ex;
}
</pre></div>

<p>You'll lose the stack trace information...</p>
<p>Either do,</p>
<div class="code"><pre class="code literal-block">try { ... }
catch { throw; }
</pre></div>

<p>OR</p>
<div class="code"><pre class="code literal-block">try { ... }
catch (Exception ex)
{
    throw new Exception("My Custom Error Message", ex);
}
</pre></div>

<p>One of the reason you might want to rethrow is if you're handling different
exceptions, for e.g.</p>
<div class="code"><pre class="code literal-block"><span class="nv">try</span>
{
<span class="w">   </span>...
}
<span class="nv">catch</span><span class="ss">(</span><span class="nv">SQLException</span><span class="w"> </span><span class="nv">sex</span><span class="ss">)</span>
{
<span class="w">   </span><span class="o">//</span><span class="k">Do</span><span class="w"> </span><span class="nv">Custom</span><span class="w"> </span><span class="nv">Logging</span><span class="w"> </span>
<span class="w">   </span><span class="o">//</span><span class="nv">Don</span><span class="err">'t throw exception - swallow it here</span>
<span class="err">}</span>
<span class="err">catch(OtherException oex)</span>
<span class="err">{</span>
<span class="err">   //Do something else</span>
<span class="err">   throw new WrappedException("Other Exception occured");</span>
<span class="err">}</span>
<span class="err">catch</span>
<span class="err">{</span>
<span class="err">   System.Diagnostics.Debug.WriteLine("Eeep! an error, not to worry, will be handled higher up the call stack");</span>
<span class="err">   throw; //Chuck everything else back up the stack</span>
<span class="err">}</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/yaml-do-i-need-quotes-for-strings-in-yaml/" class="u-url">YAML: Do I need quotes for strings in YAML?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/yaml-do-i-need-quotes-for-strings-in-yaml/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T18:05:05+08:00" itemprop="datePublished" title="2023-02-17 18:05">2023-02-17 18:05</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am trying to write a YAML dictionary for internationalisation of a Rails
project. I am a little confused though, as in some files I see strings in
double-quotes and in some without. A few points to consider:</p>
<ul>
<li>example 1 - all strings use double quotes;</li>
<li>example 2 - no strings (except the last two) use quotes;</li>
<li>the YAML cookbook says: <em>Enclosing strings in double quotes allows you to use escaping to represent ASCII and Unicode characters.</em> Does this mean I need to use double quotes only when I want to escape some characters? If yes - why do they use double quotes everywhere in the first example - only for the sake of unity / stylistic reasons?</li>
<li>the last two lines of example 2 use <code>!</code> - the non-specific tag, while the last two lines of the first example don't - and they both work.</li>
</ul>
<p>My question is: what are the rules for using the different types of quotes in
YAML?</p>
<p>Could it be said that:</p>
<ul>
<li>in general, you don't need quotes;</li>
<li>if you want to escape characters use double quotes;</li>
<li>use <code>!</code> with single quotes, when... ?!?</li>
</ul>
<p><br><br></p>
<h2>Answer</h2>
<p>After a brief review of the YAML cookbook cited in the question and some
testing, here's my interpretation:</p>
<ul>
<li>In general, you don't need quotes.</li>
<li>Use quotes to force a string, e.g. if your key or value is <code>10</code> but you want it to return a String and not a Fixnum, write <code>'10'</code> or <code>"10"</code>.</li>
<li>Use quotes if your value includes special characters, (e.g. <code>:</code>, <code>{</code>, <code>}</code>, <code>[</code>, <code>]</code>, <code>,</code>, <code>&amp;</code>, <code>*</code>, <code>#</code>, <code>?</code>, <code>|</code>, <code>-</code>, <code>&lt;</code>, <code>&gt;</code>, <code>=</code>, <code>!</code>, <code>%</code>, <code>@</code>, <code>\</code>).</li>
<li>Single quotes let you put almost any character in your string, and won't try to parse escape codes. <code>'\n'</code> would be returned as the string <code>\n</code>.</li>
<li>Double quotes parse escape codes. <code>"\n"</code> would be returned as a line feed character.</li>
<li>The exclamation mark introduces a method, e.g. <code>!ruby/sym</code> to return a Ruby symbol.</li>
</ul>
<p>Seems to me that the best approach would be to not use quotes unless you have
to, and then to use single quotes unless you specifically want to process
escape codes.</p>
<p><strong>Update</strong></p>
<p>"Yes" and "No" should be enclosed in quotes (single or double) or else they
will be interpreted as TrueClass and FalseClass values:</p>
<div class="code"><pre class="code literal-block"><span class="n">en</span><span class="o">:</span>
<span class="w">  </span><span class="n">yesno</span><span class="o">:</span>
<span class="w">    </span><span class="s1">'yes'</span><span class="o">:</span><span class="w"> </span><span class="s1">'Yes'</span>
<span class="w">    </span><span class="s1">'no'</span><span class="o">:</span><span class="w"> </span><span class="s1">'No'</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>While Mark's answer nicely summarizes when the quotes are <strong>needed</strong> according
to the YAML language rules, I think what many of the developers/administrators
are asking themselves, when working with strings in YAML, is "what <strong>should</strong>
be <strong>my</strong> rule of thumb for handling the strings?"</p>
<p>It may sound subjective, but the number of rules you have to remember, if you
want to use the quotes <strong>only</strong> when they are really <strong>needed as per the
language spec</strong> , is somewhat excessive for such a simple thing as specifying
one of the most common datatypes. Don't get me wrong, you will eventually
remember them when working with YAML regularly, but what if you use it
occasionally, and you didn't develop automatism for writing YAML? Do you
really want to spend time remembering all the rules just to specify the string
correctly?</p>
<p>The whole point of the "rule of thumb" is to save the cognitive resource and
to handle a common task without thinking about it. Our "CPU" time can arguably
be used for something more useful than handling the strings correctly.</p>
<p>From this - pure practical - perspective, I think the best rule of thumb is to
single quote the strings. The rationale behind it:</p>
<ul>
<li>Single quoted strings work for all scenarios, except when you need to use escape sequences.</li>
<li>The only special character you have to handle within a single-quoted string is the single quote itself.</li>
</ul>
<p>These are just 2 rules to remember for some occasional YAML user, minimizing
the cognitive effort.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/c-difference-between-and-equals/" class="u-url">C# difference between == and Equals()</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/c-difference-between-and-equals/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T18:04:33+08:00" itemprop="datePublished" title="2023-02-17 18:04">2023-02-17 18:04</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a condition in a silverlight application that compares 2 strings, for
some reason when I use <code>==</code> it returns <strong>false</strong> while <code>.Equals()</code> returns
<strong>true</strong>.</p>
<p>Here is the code:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(((</span><span class="nv">ListBoxItem</span><span class="ss">)</span><span class="nv">lstBaseMenu</span>.<span class="nv">SelectedItem</span><span class="ss">)</span>.<span class="nv">Content</span>.<span class="nv">Equals</span><span class="ss">(</span><span class="s2">"Energy Attack"</span><span class="ss">))</span>
{
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="nv">Execute</span><span class="w"> </span><span class="nv">code</span>
}

<span class="k">if</span><span class="w"> </span><span class="ss">(((</span><span class="nv">ListBoxItem</span><span class="ss">)</span><span class="nv">lstBaseMenu</span>.<span class="nv">SelectedItem</span><span class="ss">)</span>.<span class="nv">Content</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"Energy Attack"</span><span class="ss">)</span>
{
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="nv">Execute</span><span class="w"> </span><span class="nv">code</span>
}
</pre></div>

<p>Any reason as to why this is happening?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>When <code>==</code> is used on an expression of type <code>object</code>, it'll resolve to
<code>System.Object.ReferenceEquals</code>.</p>
<p><code>Equals</code> is just a <code>virtual</code> method and behaves as such, so the overridden
version will be used (which, for <code>string</code> type compares the contents).</p>
<p><br></p>
<h3>Suggest</h3>
<p>When comparing an object reference to a string (even if the object reference
refers to a string), the special behavior of the <code>==</code> operator specific to the
string class is ignored.</p>
<p>Normally (when not dealing with strings, that is), <code>Equals</code> compares
<strong>values</strong> , while <code>==</code> compares <strong>object references</strong>. If two objects you are
comparing are referring to the same exact instance of an object, then both
will return true, but if one has the same content and came from a different
source (is a separate instance with the same data), only Equals will return
true. However, as noted in the comments, string is a special case because it
overrides the <code>==</code> operator so that when dealing purely with string references
(and not object references), only the values are compared even if they are
separate instances. The following code illustrates the subtle differences in
behaviors:</p>
<div class="code"><pre class="code literal-block"><span class="n">string</span><span class="w"> </span><span class="n">s1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"test"</span><span class="p">;</span>
<span class="n">string</span><span class="w"> </span><span class="n">s2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"test"</span><span class="p">;</span>
<span class="n">string</span><span class="w"> </span><span class="n">s3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"test1"</span><span class="o">.</span><span class="n">Substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">);</span>
<span class="n">object</span><span class="w"> </span><span class="n">s4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s3</span><span class="p">;</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">Notice</span><span class="p">:</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">object</span><span class="w"> </span><span class="n">variable</span><span class="o">!</span>

<span class="n">Console</span><span class="o">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="o">$</span><span class="s2">"{object.ReferenceEquals(s1, s2)} {s1 == s2} {s1.Equals(s2)}"</span><span class="p">);</span>
<span class="n">Console</span><span class="o">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="o">$</span><span class="s2">"{object.ReferenceEquals(s1, s3)} {s1 == s3} {s1.Equals(s3)}"</span><span class="p">);</span>
<span class="n">Console</span><span class="o">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="o">$</span><span class="s2">"{object.ReferenceEquals(s1, s4)} {s1 == s4} {s1.Equals(s4)}"</span><span class="p">);</span>
</pre></div>

<p>The output is:</p>
<div class="code"><pre class="code literal-block">True True True     // s1, s2
False True True    // s1, s3
False False True   // s1, s4
</pre></div>

<p>Summary:</p>
<table>
<thead><tr>
<th>Variables</th>
<th>.ReferenceEquals</th>
<th>==</th>
<th>.Equals</th>
</tr></thead>
<tbody>
<tr>
<td>s1, s2</td>
<td>True</td>
<td>True</td>
<td>True</td>
</tr>
<tr>
<td>s1, s3</td>
<td>False</td>
<td>True</td>
<td>True</td>
</tr>
<tr>
<td>s1, s4</td>
<td>False</td>
<td>False</td>
<td>True</td>
</tr>
</tbody>
</table>
</div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-867.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-865.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

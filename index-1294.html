<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1294) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1294.html">
<link rel="prev" href="index-1295.html" type="text/html">
<link rel="next" href="index-1293.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-calculate-number-of-days-between-two-dates/" class="u-url">How to calculate number of days between two dates?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-calculate-number-of-days-between-two-dates/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T05:55:32+08:00" itemprop="datePublished" title="2023-02-18 05:55">2023-02-18 05:55</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>For example, given two dates in input boxes:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;input</span><span class="w"> </span><span class="na">id=</span><span class="s">"first"</span><span class="w"> </span><span class="na">value=</span><span class="s">"1/1/2000"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;input</span><span class="w"> </span><span class="na">id=</span><span class="s">"second"</span><span class="w"> </span><span class="na">value=</span><span class="s">"1/1/2001"</span><span class="nt">/&gt;</span>

<span class="nt">&lt;script&gt;</span>
<span class="w">  </span>alert(datediff("day",<span class="w"> </span>first,<span class="w"> </span>second));<span class="w"> </span>//<span class="w"> </span>what<span class="w"> </span>goes<span class="w"> </span>here?
<span class="nt">&lt;/script&gt;</span>
</pre></div>

<p>How do I get the number of days between two dates in JavaScript?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Here is a <strong>quick and dirty</strong> implementation of <code>datediff</code>, as a proof of
concept to solve the problem as presented in the question. It relies on the
fact that you can get the elapsed milliseconds between two dates by
subtracting them, which coerces them into their primitive number value
(milliseconds since the start of 1970).</p>
<div class="code"><pre class="code literal-block"><span class="o">/**</span>
<span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">Take</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">difference</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">dates</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">divide</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">milliseconds</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">day</span><span class="o">.</span>
<span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">Round</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">nearest</span><span class="w"> </span><span class="n">whole</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">deal</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">DST</span><span class="o">.</span>
<span class="w"> </span><span class="o">*/</span>
<span class="n">function</span><span class="w"> </span><span class="n">datediff</span><span class="p">(</span><span class="n">first</span><span class="p">,</span><span class="w"> </span><span class="n">second</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">        </span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Math</span><span class="o">.</span><span class="n">round</span><span class="p">((</span><span class="n">second</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">first</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="mi">1000</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">60</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">60</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">24</span><span class="p">));</span>
<span class="p">}</span>

<span class="o">/**</span>
<span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Date</span><span class="p">(</span><span class="s2">"dateString"</span><span class="p">)</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">browser</span><span class="o">-</span><span class="n">dependent</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">discouraged</span><span class="p">,</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="n">we</span><span class="s1">'ll write</span>
<span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">simple</span><span class="w"> </span><span class="n">parse</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">U</span><span class="o">.</span><span class="n">S</span><span class="o">.</span><span class="w"> </span><span class="n">date</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="p">(</span><span class="n">which</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">checking</span><span class="p">)</span>
<span class="w"> </span><span class="o">*/</span>
<span class="n">function</span><span class="w"> </span><span class="n">parseDate</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">mdy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">'/'</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Date</span><span class="p">(</span><span class="n">mdy</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="w"> </span><span class="n">mdy</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">mdy</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
<span class="p">}</span>

<span class="n">alert</span><span class="p">(</span><span class="n">datediff</span><span class="p">(</span><span class="n">parseDate</span><span class="p">(</span><span class="n">first</span><span class="o">.</span><span class="n">value</span><span class="p">),</span><span class="w"> </span><span class="n">parseDate</span><span class="p">(</span><span class="n">second</span><span class="o">.</span><span class="n">value</span><span class="p">)));</span>


<span class="o">&lt;</span><span class="n">input</span><span class="w"> </span><span class="n">id</span><span class="o">=</span><span class="s2">"first"</span><span class="w"> </span><span class="n">value</span><span class="o">=</span><span class="s2">"1/1/2000"</span><span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">input</span><span class="w"> </span><span class="n">id</span><span class="o">=</span><span class="s2">"second"</span><span class="w"> </span><span class="n">value</span><span class="o">=</span><span class="s2">"1/1/2001"</span><span class="o">/&gt;</span>
</pre></div>

<p>You should be aware that the "normal" Date APIs (without "UTC" in the name)
operate in the local timezone of the user's browser, so in general you could
run into issues if your user is in a timezone that you don't expect, and your
code will have to deal with Daylight Saving Time transitions. You should
carefully read the documentation for the Date object and its methods, and for
anything more complicated, strongly consider using a library that offers more
safe and powerful APIs for date manipulation.</p>
<ul>
<li>Numbers and Dates -- MDN JavaScript Guide</li>
<li>
<code>Date</code> -- MDN JavaScript reference</li>
</ul>
<p>Also, for illustration purposes, the snippet uses named access on the <code>window</code>
object for brevity, but in production you should use standardized APIs like
getElementById, or more likely, some UI framework.</p>
<p><br></p>
<h3>Suggest</h3>
<p>As of this writing, only one of the other answers correctly handles DST
(daylight saving time) transitions. Here are the results on a system located
in California:</p>
<div class="code"><pre class="code literal-block">                                        1/1/2013- 3/10/2013- 11/3/2013-
User       Formula                      2/1/2013  3/11/2013  11/4/2013  Result
---------  ---------------------------  --------  ---------  ---------  ---------
Miles                   (d2 - d1) / N   31        0.9583333  1.0416666  Incorrect
some         Math.floor((d2 - d1) / N)  31        0          1          Incorrect
fuentesjr    Math.round((d2 - d1) / N)  31        1          1          Correct
toloco     Math.ceiling((d2 - d1) / N)  31        1          2          Incorrect

N = 86400000
</pre></div>

<p>Although <code>Math.round</code> returns the correct results, I think it's somewhat
clunky. Instead, by explicitly accounting for changes to the UTC offset when
DST begins or ends, we can use exact arithmetic:</p>
<div class="code"><pre class="code literal-block"><span class="n">function</span><span class="w"> </span><span class="n">treatAsUTC</span><span class="p">(</span><span class="n">date</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Date</span><span class="p">(</span><span class="n">date</span><span class="p">);</span>
<span class="w">    </span><span class="n">result</span><span class="o">.</span><span class="n">setMinutes</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">getMinutes</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">result</span><span class="o">.</span><span class="n">getTimezoneOffset</span><span class="p">());</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">function</span><span class="w"> </span><span class="n">daysBetween</span><span class="p">(</span><span class="n">startDate</span><span class="p">,</span><span class="w"> </span><span class="n">endDate</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">millisecondsPerDay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">24</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">60</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">60</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">1000</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">treatAsUTC</span><span class="p">(</span><span class="n">endDate</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">treatAsUTC</span><span class="p">(</span><span class="n">startDate</span><span class="p">))</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">millisecondsPerDay</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">alert</span><span class="p">(</span><span class="n">daysBetween</span><span class="p">(</span><span class="o">$</span><span class="p">(</span><span class="s1">'#first'</span><span class="p">)</span><span class="o">.</span><span class="n">val</span><span class="p">(),</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="s1">'#second'</span><span class="p">)</span><span class="o">.</span><span class="n">val</span><span class="p">()));</span>
</pre></div>

<h3>Explanation</h3>
<p>JavaScript date calculations are tricky because <code>Date</code> objects store times
internally in UTC, not local time. For example, 3/10/2013 12:00 AM Pacific
Standard Time (UTC-08:00) is stored as 3/10/2013 8:00 AM UTC, and 3/11/2013
12:00 AM Pacific Daylight Time (UTC-07:00) is stored as 3/11/2013 7:00 AM UTC.
On this day, midnight to midnight local time is only 23 hours in UTC!</p>
<p>Although a day in local time can have more or less than 24 hours, a day in UTC
is always exactly 24 hours.1 The <code>daysBetween</code> method shown above takes
advantage of this fact by first calling <code>treatAsUTC</code> to adjust both local
times to midnight UTC, before subtracting and dividing.</p>
<p>1. JavaScript ignores leap seconds.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-enable-external-request-in-iis-express/" class="u-url">How to enable external request in IIS Express?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-enable-external-request-in-iis-express/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T05:54:45+08:00" itemprop="datePublished" title="2023-02-18 05:54">2023-02-18 05:54</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How can I enable remote requests in IIS Express? Scott Guthrie wrote that is
possible but he didn't say how.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>There's a blog post up on the IIS team site now explaining how to enable
remote connections on IIS Express. Here is the pertinent part of that post
summarized:</p>
<blockquote>
<p>On Vista and Win7, run the following command from an administrative prompt:</p>
<p><code>netsh http add urlacl url=http://vaidesg:8080/ user=everyone</code></p>
<p>For XP, first install Windows XP Service Pack 2 Support Tools. Then run the
following command from an administrative prompt:</p>
<p><code>httpcfg set urlacl /u http://vaidesg1:8080/ /a D:(A;;GX;;;WD)</code></p>
</blockquote>
<p><br></p>
<h3>Suggest</h3>
<p>There are three changes you might need to make.</p>
<ol>
<li>Tell IIS Express itself to bind to all ip addresses and hostnames. In your <code>.config</code> file. Typically: <ul>
<li>VS 2015: <code>$(solutionDir)\.vs\config\applicationhost.config</code>
</li>
<li>&lt; VS 2015: <code>%userprofile%\My Documents\IISExpress\config\applicationhost.config</code>
</li>
</ul>
</li>
</ol>
<p>Find your site's binding element, and add</p>
<div class="code"><pre class="code literal-block">    &lt;binding protocol="http" bindingInformation="*:8080:*" /&gt;
</pre></div>

<ol>
<li>Setup the bit of Windows called 'http.sys'. As an administrator, run the command:<div class="code"><pre class="code literal-block">netsh http add urlacl url=http://*:8080/ user=everyone
</pre></div>

</li>
</ol>
<p>Where <code>everyone</code> is a windows group. Use double quotes for groups with spaces
like "Tout le monde".</p>
<ol>
<li>Allow IIS Express through Windows firewall. </li>
</ol>
<blockquote>
<p>Start / Windows Firewall with Advanced Security / Inbound Rules / New
Rule...</p>
<p>Program <code>%ProgramFiles%\IIS Express\iisexpress.exe</code><br>
 OR Port 8080 TCP</p>
</blockquote>
<p>Now when you start <code>iisexpress.exe</code> you should see a message such as</p>
<blockquote>
<p>Successfully registered URL "http://*:8080/" for site "hello world"
application "/"</p>
</blockquote>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-find-the-type-of-an-object-in-go/" class="u-url">How to find the type of an object in Go?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-find-the-type-of-an-object-in-go/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T05:54:17+08:00" itemprop="datePublished" title="2023-02-18 05:54">2023-02-18 05:54</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How do I find the type of an object in Go? In Python, I just use <code>typeof</code> to
fetch the type of object. Similarly in Go, is there a way to implement the
same ?</p>
<p>Here is the container from which I am iterating:</p>
<div class="code"><pre class="code literal-block"><span class="k">for</span><span class="w"> </span><span class="nv">e</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nv">dlist</span><span class="o">.</span><span class="nf">Front</span><span class="p">();</span><span class="w"> </span><span class="nv">e</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nv">nil</span><span class="p">;</span><span class="w"> </span><span class="nv">e</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">e</span><span class="o">.</span><span class="nf">Next</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">lines</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nv">e</span><span class="o">.</span><span class="nv">Value</span>
<span class="w">    </span><span class="nv">fmt</span><span class="o">.</span><span class="nf">Printf</span><span class="p">(</span><span class="nv">reflect</span><span class="o">.</span><span class="nf">TypeOf</span><span class="p">(</span><span class="nv">lines</span><span class="p">))</span>
<span class="p">}</span>
</pre></div>

<p>I am not able to get the type of the object lines in this case which is an
array of strings.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The Go reflection package has methods for inspecting the type of variables.</p>
<p>The following snippet will print out the reflection type of a string, integer
and float.</p>
<div class="code"><pre class="code literal-block"><span class="n">package</span> <span class="n">main</span>

<span class="kn">import</span> <span class="p">(</span>
    <span class="s2">"fmt"</span>
    <span class="s2">"reflect"</span>
<span class="p">)</span>

<span class="n">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>

    <span class="n">tst</span> <span class="o">:=</span> <span class="s2">"string"</span>
    <span class="n">tst2</span> <span class="o">:=</span> <span class="mi">10</span>
    <span class="n">tst3</span> <span class="o">:=</span> <span class="mf">1.2</span>

    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">reflect</span><span class="o">.</span><span class="n">TypeOf</span><span class="p">(</span><span class="n">tst</span><span class="p">))</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">reflect</span><span class="o">.</span><span class="n">TypeOf</span><span class="p">(</span><span class="n">tst2</span><span class="p">))</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">reflect</span><span class="o">.</span><span class="n">TypeOf</span><span class="p">(</span><span class="n">tst3</span><span class="p">))</span>

<span class="p">}</span>
</pre></div>

<p>Output:</p>
<div class="code"><pre class="code literal-block">string
int
float64
</pre></div>

<p>see: http://play.golang.org/p/XQMcUVsOja to view it in action.</p>
<p>More documentation here: http://golang.org/pkg/reflect/#Type</p>
<p><br></p>
<h3>Suggest</h3>
<p>I found 3 ways to return a variable's type at runtime:</p>
<p><strong>Using string formatting</strong></p>
<div class="code"><pre class="code literal-block"><span class="k">func</span><span class="w"> </span><span class="nb">typeof</span><span class="p">(</span><span class="n">v</span><span class="w"> </span><span class="n">interface</span><span class="p">{})</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">fmt</span><span class="o">.</span><span class="n">Sprintf</span><span class="p">(</span><span class="s2">"%T"</span><span class="p">,</span><span class="w"> </span><span class="n">v</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>

<p><strong>Using reflect package</strong></p>
<div class="code"><pre class="code literal-block"><span class="k">func</span><span class="w"> </span><span class="nb">typeof</span><span class="p">(</span><span class="n">v</span><span class="w"> </span><span class="n">interface</span><span class="p">{})</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">reflect</span><span class="o">.</span><span class="n">TypeOf</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="o">.</span><span class="n">String</span><span class="p">()</span>
<span class="p">}</span>
</pre></div>

<p><strong>Using type switch</strong></p>
<div class="code"><pre class="code literal-block"><span class="k">func</span><span class="w"> </span><span class="nb">typeof</span><span class="p">(</span><span class="n">v</span><span class="w"> </span><span class="n">interface</span><span class="p">{})</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">switch</span><span class="w"> </span><span class="n">v</span><span class="o">.</span><span class="p">(</span><span class="n">type</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">case</span><span class="w"> </span><span class="nb nb-Type">int</span><span class="p">:</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s2">"int"</span>
<span class="w">    </span><span class="n">case</span><span class="w"> </span><span class="n">float64</span><span class="p">:</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s2">"float64"</span>
<span class="w">    </span><span class="o">//...</span><span class="w"> </span><span class="n">etc</span>
<span class="w">    </span><span class="n">default</span><span class="p">:</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s2">"unknown"</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>Every method has a different best use case:</p>
<ul>
<li>
<p>string formatting - short and low footprint (not necessary to import reflect package)</p>
</li>
<li>
<p>reflect package - when need more details about the type we have access to the full reflection capabilities</p>
</li>
<li>
<p>type switch - allows grouping types, for example recognize all int32, int64, uint32, uint64 types as "int"</p>
</li>
</ul>
</div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1295.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1293.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

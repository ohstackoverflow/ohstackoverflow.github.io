<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1161) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1161.html">
<link rel="prev" href="index-1162.html" type="text/html">
<link rel="next" href="index-1160.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/link-and-execute-external-javascript-file-hosted-on-github/" class="u-url">Link and execute external JavaScript file hosted on GitHub</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/link-and-execute-external-javascript-file-hosted-on-github/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T02:43:15+08:00" itemprop="datePublished" title="2023-02-18 02:43">2023-02-18 02:43</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>When I try to change the linked reference of a local JavaScript file to a
GitHub raw version my test file stops working. The error is:</p>
<blockquote>
<p>Refused to execute script from ... because its MIME type (<code>text/plain</code>) is
not executable, and strict MIME type checking is enabled.</p>
</blockquote>
<p>Is there a way to disable this behavior or is there a service that allows
linking to GitHub raw files?</p>
<p>Working code:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;script</span><span class="w"> </span><span class="na">src=</span><span class="s">"bootstrap-wysiwyg.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</pre></div>

<p>Non-working code:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;script</span><span class="w"> </span><span class="na">src=</span><span class="s">"https://raw.github.com/mindmup/bootstrap-wysiwyg/master/bootstrap-wysiwyg.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>There <em>is</em> a good workaround for this, now, by using jsdelivr.net.</p>
<p><strong>Steps</strong> :</p>
<ol>
<li>Find your link on GitHub, and click to the "Raw" version.</li>
<li>Copy the URL.</li>
<li>Change <code>raw.githubusercontent.com</code> to <code>cdn.jsdelivr.net</code>
</li>
<li>Insert <code>/gh/</code> before your username.</li>
<li>Remove the <code>branch</code> name.</li>
<li>(Optional) Insert the <em>version</em> you want to link to, as <code>@version</code> (if you do not do this, you will get the <em>latest</em> - which may cause long-term caching)</li>
</ol>
<hr>
<p><strong>Examples</strong> :</p>
<div class="code"><pre class="code literal-block">http://raw.githubusercontent.com/&lt;username&gt;/&lt;repo&gt;/&lt;branch&gt;/path/to/file.js
</pre></div>

<p>Use this URL to get the latest version:</p>
<div class="code"><pre class="code literal-block">http://cdn.jsdelivr.net/gh/&lt;username&gt;/&lt;repo&gt;/path/to/file.js
</pre></div>

<p>Use this URL to get a specific version or commit hash:</p>
<div class="code"><pre class="code literal-block">http://cdn.jsdelivr.net/gh/&lt;username&gt;/&lt;repo&gt;@&lt;version or hash&gt;/path/to/file.js
</pre></div>

<p><strong>For production environments</strong> , consider targeting a specific tag or commit-
hash rather than the branch. Using the <em>latest</em> link may result in long-term
caching of the file, causing your link to not be updated as you push new
versions. Linking to a file by commit-hash or tag makes the link unique to
version.</p>
<hr>
<p><strong>Why is this needed?</strong></p>
<p>In 2013, GitHub started using <code>X-Content-Type-Options: nosniff</code>, which
instructs more modern browsers to enforce strict MIME type checking. It then
returns the raw files in a MIME type returned by the server, preventing the
browser from using the file as-intended (if the browser honors the setting).</p>
<p>For background on this topic, please refer to this discussion thread.</p>
<p><br></p>
<h3>Suggest</h3>
<p>This is no longer possible. GitHub has explicitly disabled JavaScript
hotlinking, and newer versions of browsers respect that setting.</p>
<p>Heads up: nosniff header support coming to Chrome and Firefox</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/can-i-escape-a-double-quote-in-a-verbatim-string-literal/" class="u-url">Can I escape a double quote in a verbatim string literal?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/can-i-escape-a-double-quote-in-a-verbatim-string-literal/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T02:42:51+08:00" itemprop="datePublished" title="2023-02-18 02:42">2023-02-18 02:42</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>In a verbatim string literal (@"foo") in C#, backslashes aren't treated as
escapes, so doing \" to get a double quote doesn't work. Is there any way to
get a double quote in a verbatim string literal?</p>
<p>This understandably doesn't work:</p>
<div class="code"><pre class="code literal-block"><span class="n">string</span><span class="w"> </span><span class="n">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">@"this </span><span class="se">\"</span><span class="s">word</span><span class="se">\"</span><span class="s"> is escaped"</span><span class="p">;</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>Use a duplicated double quote.</p>
<div class="code"><pre class="code literal-block"><span class="s">@"this ""word"" is escaped"</span><span class="p">;</span>
</pre></div>

<p>outputs:</p>
<div class="code"><pre class="code literal-block">this "word" is escaped
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Use double quotation marks.</p>
<div class="code"><pre class="code literal-block"><span class="n">string</span><span class="w"> </span><span class="n">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">@"this ""word"" is escaped"</span><span class="p">;</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/where-does-the-transactional-annotation-belong/" class="u-url">Where does the @Transactional annotation belong?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/where-does-the-transactional-annotation-belong/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T02:42:23+08:00" itemprop="datePublished" title="2023-02-18 02:42">2023-02-18 02:42</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Should you place the <code>@Transactional</code> in the <code>DAO</code> classes and/or their
methods or is it better to annotate the Service classes which are calling
using the DAO objects? Or does it make sense to annotate both "layers"?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>I think transactions belong on the service layer. It's the one that knows
about units of work and use cases. It's the right answer if you have several
DAOs injected into a service that need to work together in a single
transaction.</p>
<p><br></p>
<h3>Suggest</h3>
<p>In general I agree with the others stating that transactions are usually
started on the service level (depending on the granularity that you require of
course).</p>
<p>However, in the mean time I also started adding <code>@Transactional(propagation =
Propagation.MANDATORY)</code> to my DAO layer (and other layers that are not allowed
to start transactions but require existing ones) because it is much easier to
detect errors where you have forgotten to start a transaction in the caller
(e.g. the service). If your DAO is annotated with mandatory propagation you
will get an exception stating that there is no active transaction when the
method is invoked.</p>
<p>I also have an integration test where I check all beans (bean post processor)
for this annotation and fail if there is a <code>@Transactional</code> annotation with
propagation other than Mandatory in a bean that does not belong to the
services layer. This way I make sure we do not start transactions on the wrong
layer.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1162.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1160.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

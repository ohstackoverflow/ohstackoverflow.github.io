<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2295) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2295.html">
<link rel="prev" href="index-2296.html" type="text/html">
<link rel="next" href="index-2294.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/when-should-i-use-a-trailing-slash-in-my-url/" class="u-url">When should I use a trailing slash in my URL?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/when-should-i-use-a-trailing-slash-in-my-url/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T05:32:29+08:00" itemprop="datePublished" title="2023-03-04 05:32">2023-03-04 05:32</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>When should a trailing slash be used in a URL? For example - should my URL
look like <code>/about-us/</code> or like <code>/about-us</code>?</p>
<p>I am fully aware of the SEO-related issues - duplicate content and the
canonical thing; I'm trying to figure out which one I should use in the
context of serving pages <em>correctly</em> alone.</p>
<p>For example, my colleague is thinking that a trailing slash at the end means
it's a "folder" - a "directory", so this is not a correct style. But I think
that without a slash in the end - it's not quite correct either, because it
almost looks like a folder, but it isn't and it's not a normal file either,
but a filename without extension.</p>
<p>Is there a proper way of knowing which to use?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>In my personal opinion trailing slashes are misused.</p>
<p>Basically the URL format came from the same UNIX format of files and folders,
later on, on DOS systems, and finally, adapted for the web.</p>
<blockquote>
<p>A typical URL for this book on a Unix-like operating system would be a file
path such as file:///home/username/RomeoAndJuliet.pdf, identifying the
electronic book saved in a file on a local hard disk.</p>
</blockquote>
<p>Source: Wikipedia: Uniform Resource Identifier</p>
<p>Another good source to read: Wikipedia: URI Scheme</p>
<blockquote>
<p>According to RFC 1738, which defined URLs in 1994, when resources contain
references to other resources, they can use relative links to define the
location of the second resource as if to say, "in the same place as this one
except with the following relative path". It went on to say that such
relative URLs are dependent on the original URL containing a hierarchical
structure against which the relative link is based, and that the ftp, http,
and file URL schemes are examples of some that can be considered
hierarchical, <strong>with the components of the hierarchy being separated by
"/".</strong></p>
</blockquote>
<p>Source: Wikipedia Uniform Resource Locator (URL)</p>
<p>Also:</p>
<blockquote>
<p>That is the question we hear often. Onward to the answers! Historically,
it’s common for URLs with a trailing slash to indicate a directory, and
those without a trailing slash to denote a file:</p>
<p>http://example.com/foo/ (with trailing slash, conventionally a directory)</p>
<p>http://example.com/foo (without trailing slash, conventionally a file)</p>
</blockquote>
<p>Source: Google WebMaster Central Blog - To slash or not to slash</p>
<p>Finally:</p>
<ol>
<li>
<p>A slash at the end of the URL makes the address look "pretty".</p>
</li>
<li>
<p>A URL without a slash at the end and without an extension looks somewhat "weird".</p>
</li>
<li>
<p>You will never name your CSS file (for example) http://www.sample.com/stylesheet/ would you?</p>
</li>
</ol>
<p>BUT I'm being a proponent of web best practices regardless of the environment.
It can be wonky and unclear, just as you said about the URL with no ext.</p>
<p><br></p>
<h3>Suggest</h3>
<p>In my personal opinion trailing slashes are misused.</p>
<p>Basically the URL format came from the same UNIX format of files and folders,
later on, on DOS systems, and finally, adapted for the web.</p>
<blockquote>
<p>A typical URL for this book on a Unix-like operating system would be a file
path such as file:///home/username/RomeoAndJuliet.pdf, identifying the
electronic book saved in a file on a local hard disk.</p>
</blockquote>
<p>Source: Wikipedia: Uniform Resource Identifier</p>
<p>Another good source to read: Wikipedia: URI Scheme</p>
<blockquote>
<p>According to RFC 1738, which defined URLs in 1994, when resources contain
references to other resources, they can use relative links to define the
location of the second resource as if to say, "in the same place as this one
except with the following relative path". It went on to say that such
relative URLs are dependent on the original URL containing a hierarchical
structure against which the relative link is based, and that the ftp, http,
and file URL schemes are examples of some that can be considered
hierarchical, <strong>with the components of the hierarchy being separated by
"/".</strong></p>
</blockquote>
<p>Source: Wikipedia Uniform Resource Locator (URL)</p>
<p>Also:</p>
<blockquote>
<p>That is the question we hear often. Onward to the answers! Historically,
it’s common for URLs with a trailing slash to indicate a directory, and
those without a trailing slash to denote a file:</p>
<p>http://example.com/foo/ (with trailing slash, conventionally a directory)</p>
<p>http://example.com/foo (without trailing slash, conventionally a file)</p>
</blockquote>
<p>Source: Google WebMaster Central Blog - To slash or not to slash</p>
<p>Finally:</p>
<ol>
<li>
<p>A slash at the end of the URL makes the address look "pretty".</p>
</li>
<li>
<p>A URL without a slash at the end and without an extension looks somewhat "weird".</p>
</li>
<li>
<p>You will never name your CSS file (for example) http://www.sample.com/stylesheet/ would you?</p>
</li>
</ol>
<p>BUT I'm being a proponent of web best practices regardless of the environment.
It can be wonky and unclear, just as you said about the URL with no ext.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/actual-meaning-of-shell-true-in-subprocess/" class="u-url">Actual meaning of 'shell=True' in subprocess</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/actual-meaning-of-shell-true-in-subprocess/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T05:30:53+08:00" itemprop="datePublished" title="2023-03-04 05:30">2023-03-04 05:30</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am calling different processes with the <code>subprocess</code> module. However, I have
a question.</p>
<p>In the following code:</p>
<div class="code"><pre class="code literal-block">callProcess = subprocess.Popen(['ls', '-l'], shell=True)
</pre></div>

<p>and</p>
<div class="code"><pre class="code literal-block">callProcess = subprocess.Popen(['ls', '-l']) # without shell
</pre></div>

<p>Both work. After reading the docs, I came to know that <code>shell=True</code> means
executing the code through the shell. So that means in absence, the process is
directly started.</p>
<p>So what should I prefer for my case - I need to run a process and get its
output. What benefit do I have from calling it from within the shell or
outside of it?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The benefit of not calling via the shell is that you are not invoking a
'mystery program.' On POSIX, the environment variable <code>SHELL</code> controls which
binary is invoked as the "shell." On Windows, there is no bourne shell
descendent, only cmd.exe.</p>
<p>So invoking the shell invokes a program of the user's choosing and is
platform-dependent. Generally speaking, avoid invocations via the shell.</p>
<p>Invoking via the shell does allow you to expand environment variables and file
globs according to the shell's usual mechanism. On POSIX systems, the shell
expands file globs to a list of files. On Windows, a file glob (e.g., "<em>.</em>")
is not expanded by the shell, anyway (but environment variables on a command
line <em>are</em> expanded by cmd.exe).</p>
<p>If you think you want environment variable expansions and file globs, research
the <code>ILS</code> attacks of 1992-ish on network services which performed subprogram
invocations via the shell. Examples include the various <code>sendmail</code> backdoors
involving <code>ILS</code>.</p>
<p>In summary, use <code>shell=False</code>.</p>
<p><br></p>
<h3>Suggest</h3>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">subprocess</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">'echo $HOME'</span><span class="p">)</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
<span class="o">...</span>
<span class="ne">OSError</span><span class="p">:</span> <span class="p">[</span><span class="n">Errno</span> <span class="mi">2</span><span class="p">]</span> <span class="n">No</span> <span class="n">such</span> <span class="n">file</span> <span class="ow">or</span> <span class="n">directory</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">'echo $HOME'</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="o">/</span><span class="n">user</span><span class="o">/</span><span class="n">khong</span>
<span class="mi">0</span>
</pre></div>

<blockquote>
<p>Setting the shell argument to a true value causes subprocess to spawn an
intermediate shell process, and tell it to run the command. In other words,
using an intermediate shell means that variables, glob patterns, and other
special shell features in the command string are processed before the
command is run. Here, in the example, $HOME was processed before the echo
command. Actually, this is the case of command with shell expansion while
the command ls -l considered as a simple command.</p>
</blockquote>
<p>source: Subprocess Module</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/get-the-new-record-primary-key-id-from-mysql-insert-query/" class="u-url">Get the new record primary key ID from MySQL insert query?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/get-the-new-record-primary-key-id-from-mysql-insert-query/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T05:30:03+08:00" itemprop="datePublished" title="2023-03-04 05:30">2023-03-04 05:30</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Let's say I am doing a MySQL <code>INSERT</code> into one of my tables and the table has
the column <code>item_id</code> which is set to <code>autoincrement</code> and <code>primary key</code>.</p>
<p><strong>How do I get the query to output the value of the newly generated primary
key<code>item_id</code> in the same query?</strong></p>
<p>Currently I am running a second query to retrieve the id but this hardly seems
like good practice considering this might produce the wrong result...</p>
<p>If this is not possible then what is the best practice to ensure I retrieve
the correct id?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You need to use the <code>LAST_INSERT_ID()</code> function:
http://dev.mysql.com/doc/refman/5.0/en/information-
functions.html#function_last-insert-id</p>
<p>Eg:</p>
<div class="code"><pre class="code literal-block">INSERT INTO table_name (col1, col2,...) VALUES ('val1', 'val2'...);
SELECT LAST_INSERT_ID();
</pre></div>

<p>This will get you back the <code>PRIMARY KEY</code> value of the last row that <em>you</em>
inserted:</p>
<blockquote>
<p>The ID that was generated is maintained in the server on a <em>per-connection
basis</em>. This means that the value returned by the function to a given client
is the first AUTO_INCREMENT value generated for most recent statement
affecting an AUTO_INCREMENT column <em>by that client</em>.</p>
</blockquote>
<p>So the value returned by <code>LAST_INSERT_ID()</code> is per user and is <em>unaffected</em> by
other queries that might be running on the server <em>from other users</em>.</p>
<p><br></p>
<h3>Suggest</h3>
<p><strong>BEWARE !! of<code>LAST_INSERT_ID()</code></strong> if trying to return this primary key value
within PHP.</p>
<p>I know this thread is not tagged PHP, but for anybody who came across this
answer looking to return a MySQL insert id from a PHP scripted insert using
standard <code>mysql_query</code> calls - it wont work and is not obvious without
capturing SQL errors.</p>
<p>The newer <code>mysqli</code> supports multiple queries - which <code>LAST_INSERT_ID()</code>
actually is a second query from the original.</p>
<p>IMO a separate <code>SELECT</code> to identify the last primary key is safer than the
optional <code>mysql_insert_id()</code> function returning the <code>AUTO_INCREMENT ID</code>
generated from the previous <code>INSERT</code> operation.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2296.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2294.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

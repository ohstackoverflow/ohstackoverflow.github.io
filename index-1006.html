<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1006) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1006.html">
<link rel="prev" href="index-1007.html" type="text/html">
<link rel="next" href="index-1005.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/shi-yong-flexbox-jiang-yuan-su-di-bu-dui-qi/" class="u-url">使用 flexbox 将元素底部对齐</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/shi-yong-flexbox-jiang-yuan-su-di-bu-dui-qi/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T22:32:36+08:00" itemprop="datePublished" title="2023-02-17 22:32">2023-02-17 22:32</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>我<code>div</code>和一些孩子有一个：</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"content"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;h1&gt;</span>heading<span class="w"> </span>1<span class="nt">&lt;/h1&gt;</span>
<span class="w">  </span><span class="nt">&lt;h2&gt;</span>heading<span class="w"> </span>2<span class="nt">&lt;/h2&gt;</span>
<span class="w">  </span><span class="nt">&lt;p&gt;</span>Some<span class="w"> </span>more<span class="w"> </span>or<span class="w"> </span>less<span class="w"> </span>text<span class="nt">&lt;/p&gt;</span>
<span class="w">  </span><span class="nt">&lt;a</span><span class="w"> </span><span class="na">href=</span><span class="s">"/"</span><span class="w"> </span><span class="na">class=</span><span class="s">"button"</span><span class="nt">&gt;</span>Click<span class="w"> </span>me<span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p>我想要以下布局：</p>
<div class="code"><pre class="code literal-block"> -------------------
|heading 1          |
|heading 2          | 
|paragraph text     |
|can have many      |
|rows               |
|                   |
|                   |
|                   | 
|link-button        |
 -------------------
</pre></div>

<p>无论文本中有多少，<code>p</code>我都想始终将其放在<code>.button</code>底部，而不会将其从流程中删除。我听说这可以通过 Flexbox 实现，但我无法让它工作。</p>
<p><br><br></p>
<h2>解答</h2>
<p>您可以使用自动边距</p>
<blockquote>
<p><code>justify-content</code>在通过和对齐之前<code>align-self</code>，任何正的可用空间都会分配给该维度的自动边距。</p>
</blockquote>
<p>所以你可以使用其中之一（或两者）：</p>
<div class="code"><pre class="code literal-block"><span class="nt">p</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">margin-bottom</span><span class="p">:</span><span class="w"> </span><span class="kc">auto</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c">/* Push following elements to the bottom */</span>
<span class="nt">a</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">margin-top</span><span class="p">:</span><span class="w"> </span><span class="kc">auto</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c">/* Push it and following elements to the bottom */</span>
</pre></div>

<p>显示代码片段</p>
<div class="code"><pre class="code literal-block">.content<span class="w"> </span>{
<span class="w">  </span>height:<span class="w"> </span>200px;
<span class="w">  </span>border:<span class="w"> </span>1px<span class="w"> </span>solid;
<span class="w">  </span>display:<span class="w"> </span>flex;
<span class="w">  </span>flex-direction:<span class="w"> </span>column;
}
h1,<span class="w"> </span>h2<span class="w"> </span>{
<span class="w">  </span>margin:<span class="w"> </span>0;
}
a<span class="w"> </span>{
<span class="w">  </span>margin-top:<span class="w"> </span>auto;
}


<span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"content"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;h1&gt;</span>heading<span class="w"> </span>1<span class="nt">&lt;/h1&gt;</span>
<span class="w">  </span><span class="nt">&lt;h2&gt;</span>heading<span class="w"> </span>2<span class="nt">&lt;/h2&gt;</span>
<span class="w">  </span><span class="nt">&lt;p&gt;</span>Some<span class="w"> </span>text<span class="w"> </span>more<span class="w"> </span>or<span class="w"> </span>less<span class="nt">&lt;/p&gt;</span>
<span class="w">  </span><span class="nt">&lt;a</span><span class="w"> </span><span class="na">href=</span><span class="s">"/"</span><span class="w"> </span><span class="na">class=</span><span class="s">"button"</span><span class="nt">&gt;</span>Click<span class="w"> </span>me<span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p>或者，您可以在增长之前使元素<code>a</code>填充可用空间：</p>
<div class="code"><pre class="code literal-block"><span class="nt">p</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">flex-grow</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c">/* Grow to fill available space */</span>
</pre></div>

<p>显示代码片段</p>
<div class="code"><pre class="code literal-block">.content<span class="w"> </span>{
<span class="w">  </span>height:<span class="w"> </span>200px;
<span class="w">  </span>border:<span class="w"> </span>1px<span class="w"> </span>solid;
<span class="w">  </span>display:<span class="w"> </span>flex;
<span class="w">  </span>flex-direction:<span class="w"> </span>column;
}
h1,<span class="w"> </span>h2<span class="w"> </span>{
<span class="w">  </span>margin:<span class="w"> </span>0;
}
p<span class="w"> </span>{
<span class="w">  </span>flex-grow:<span class="w"> </span>1;
}


<span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"content"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;h1&gt;</span>heading<span class="w"> </span>1<span class="nt">&lt;/h1&gt;</span>
<span class="w">  </span><span class="nt">&lt;h2&gt;</span>heading<span class="w"> </span>2<span class="nt">&lt;/h2&gt;</span>
<span class="w">  </span><span class="nt">&lt;p&gt;</span>Some<span class="w"> </span>text<span class="w"> </span>more<span class="w"> </span>or<span class="w"> </span>less<span class="nt">&lt;/p&gt;</span>
<span class="w">  </span><span class="nt">&lt;a</span><span class="w"> </span><span class="na">href=</span><span class="s">"/"</span><span class="w"> </span><span class="na">class=</span><span class="s">"button"</span><span class="nt">&gt;</span>Click<span class="w"> </span>me<span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p><br></p>
<h3>更多建议</h3>
<p>您可以使用 display: flex 将元素定位到底部，但我认为您不想在这种情况下使用 flex，因为它会影响您的所有元素。</p>
<p>要使用 flex 将元素定位到底部，请尝试以下操作：</p>
<div class="code"><pre class="code literal-block"><span class="na">.container</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nl">display:</span><span class="w"> </span><span class="nf">flex</span><span class="c1">;</span>
<span class="err">}</span>

<span class="na">.button</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nl">align-self:</span><span class="w"> </span><span class="nf">flex-end</span><span class="c1">;</span>
<span class="err">}</span>
</pre></div>

<p>最好的办法是将 position: absolute 设置为按钮并将其设置为<code>bottom: 0</code>，或者您可以将按钮放在容器外并使用
negative<code>transform: translateY(-100%)</code>将其放入容器中，如下所示：</p>
<div class="code"><pre class="code literal-block"><span class="na">.content</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nl">height:</span><span class="w"> </span><span class="err">400</span><span class="nf">px</span><span class="c1">;</span>
<span class="w">    </span><span class="nl">background:</span><span class="w"> </span><span class="c1">#000;</span>
<span class="w">    </span><span class="nl">color:</span><span class="w"> </span><span class="c1">#fff;</span>
<span class="err">}</span>
<span class="na">.button</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nl">transform:</span><span class="w"> </span><span class="nf">translateY</span><span class="p">(-</span><span class="mi">100</span><span class="err">%</span><span class="p">)</span><span class="c1">;</span>
<span class="w">    </span><span class="nl">display:</span><span class="w"> </span><span class="nf">inline-block</span><span class="c1">;</span>
<span class="err">}</span>
</pre></div>

<p>检查这个JSFiddle</p>
<p><br><br><a href="posts/align-an-element-to-bottom-with-flexbox/">查看原文</a></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/bi-jiao-net-zhong-de-liang-ge-zi-jie-shu-zu/" class="u-url">比较 .NET 中的两个字节数组</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/bi-jiao-net-zhong-de-liang-ge-zi-jie-shu-zu/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T22:31:58+08:00" itemprop="datePublished" title="2023-02-17 22:31">2023-02-17 22:31</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>我怎样才能快速做到这一点？</p>
<p>当然我可以这样做：</p>
<div class="code"><pre class="code literal-block"><span class="k">static</span><span class="w"> </span><span class="n">bool</span><span class="w"> </span><span class="n">ByteArrayCompare</span><span class="p">(</span><span class="n">byte</span><span class="err">[]</span><span class="w"> </span><span class="n">a1</span><span class="p">,</span><span class="w"> </span><span class="n">byte</span><span class="err">[]</span><span class="w"> </span><span class="n">a2</span><span class="p">)</span>
<span class="err">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">a1</span><span class="p">.</span><span class="n">Length</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">a2</span><span class="p">.</span><span class="n">Length</span><span class="p">)</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">false</span><span class="p">;</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="nc">int</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="n">a1</span><span class="p">.</span><span class="n">Length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">a1</span><span class="o">[</span><span class="n">i</span><span class="o">]!=</span><span class="n">a2</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">)</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">false</span><span class="p">;</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">true</span><span class="p">;</span>
<span class="err">}</span>
</pre></div>

<p>但我正在寻找BCL函数或一些高度优化的经过验证的方法来执行此操作。</p>
<div class="code"><pre class="code literal-block">java.util.Arrays.equals((sbyte[])(Array)a1, (sbyte[])(Array)a2);
</pre></div>

<p>效果很好，但看起来不适用于 x64。</p>
<p>请注意我在这里的超快速回答。</p>
<p><br><br></p>
<h2>解答</h2>
<p>编辑：现代快速方法是使用<code>a1.SequenceEquals(a2)</code></p>
<p>用户 <em>gil</em> 建议生成此解决方案的不安全代码：</p>
<div class="code"><pre class="code literal-block"><span class="c1">// Copyright (c) 2008-2013 Hafthor Stefansson</span>
<span class="c1">// Distributed under the MIT/X11 software license</span>
<span class="c1">// Ref: http://www.opensource.org/licenses/mit-license.php.</span>
<span class="k">static</span><span class="w"> </span><span class="n">unsafe</span><span class="w"> </span><span class="n">bool</span><span class="w"> </span><span class="n">UnsafeCompare</span><span class="p">(</span><span class="n">byte</span><span class="p">[]</span><span class="w"> </span><span class="n">a1</span><span class="p">,</span><span class="w"> </span><span class="n">byte</span><span class="p">[]</span><span class="w"> </span><span class="n">a2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">unchecked</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">a1</span><span class="o">==</span><span class="n">a2</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">true</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">a1</span><span class="o">==</span><span class="nb">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">a2</span><span class="o">==</span><span class="nb">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">a1</span><span class="p">.</span><span class="n">Length</span>!<span class="p">=</span><span class="n">a2</span><span class="p">.</span><span class="n">Length</span><span class="p">)</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">false</span><span class="p">;</span>
<span class="w">    </span><span class="n">fixed</span><span class="w"> </span><span class="p">(</span><span class="n">byte</span><span class="o">*</span><span class="w"> </span><span class="n">p1</span><span class="p">=</span><span class="n">a1</span><span class="p">,</span><span class="w"> </span><span class="n">p2</span><span class="p">=</span><span class="n">a2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">byte</span><span class="o">*</span><span class="w"> </span><span class="n">x1</span><span class="p">=</span><span class="n">p1</span><span class="p">,</span><span class="w"> </span><span class="n">x2</span><span class="p">=</span><span class="n">p2</span><span class="p">;</span>
<span class="w">      </span><span class="nb">int</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">a1</span><span class="p">.</span><span class="n">Length</span><span class="p">;</span>
<span class="w">      </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="nb">int</span><span class="w"> </span><span class="n">i</span><span class="p">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">l</span><span class="o">/</span><span class="mi">8</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">,</span><span class="w"> </span><span class="n">x1</span><span class="o">+</span><span class="p">=</span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="n">x2</span><span class="o">+</span><span class="p">=</span><span class="mi">8</span><span class="p">)</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="p">((</span><span class="n">long</span><span class="o">*</span><span class="p">)</span><span class="n">x1</span><span class="p">)</span><span class="w"> </span>!<span class="p">=</span><span class="w"> </span><span class="o">*</span><span class="p">((</span><span class="n">long</span><span class="o">*</span><span class="p">)</span><span class="n">x2</span><span class="p">))</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">false</span><span class="p">;</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="n">l</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span>!<span class="p">=</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="p">((</span><span class="nb">int</span><span class="o">*</span><span class="p">)</span><span class="n">x1</span><span class="p">)</span>!<span class="p">=</span><span class="o">*</span><span class="p">((</span><span class="nb">int</span><span class="o">*</span><span class="p">)</span><span class="n">x2</span><span class="p">))</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">false</span><span class="p">;</span><span class="w"> </span><span class="n">x1</span><span class="o">+</span><span class="p">=</span><span class="mi">4</span><span class="p">;</span><span class="w"> </span><span class="n">x2</span><span class="o">+</span><span class="p">=</span><span class="mi">4</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="n">l</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>!<span class="p">=</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="p">((</span><span class="n">short</span><span class="o">*</span><span class="p">)</span><span class="n">x1</span><span class="p">)</span>!<span class="p">=</span><span class="o">*</span><span class="p">((</span><span class="n">short</span><span class="o">*</span><span class="p">)</span><span class="n">x2</span><span class="p">))</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">false</span><span class="p">;</span><span class="w"> </span><span class="n">x1</span><span class="o">+</span><span class="p">=</span><span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="n">x2</span><span class="o">+</span><span class="p">=</span><span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="n">l</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>!<span class="p">=</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="p">((</span><span class="n">byte</span><span class="o">*</span><span class="p">)</span><span class="n">x1</span><span class="p">)</span><span class="w"> </span>!<span class="p">=</span><span class="w"> </span><span class="o">*</span><span class="p">((</span><span class="n">byte</span><span class="o">*</span><span class="p">)</span><span class="n">x2</span><span class="p">))</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">false</span><span class="p">;</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">true</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>它对尽可能多的数组进行基于 64 位的比较。这种依赖于数组开始 qword 对齐的事实。如果不是 qword 对齐，它会工作，只是不像它那样快。</p>
<p>它比简单的“for”循环执行大约七个计时器。使用 J# 库与原始的“for”循环等效。使用 .SequenceEqual
运行速度慢了大约七倍；我认为只是因为它正在使用 IEnumerator.MoveNext。我认为基于 LINQ 的解决方案至少会那么慢或更糟。</p>
<p><br></p>
<h3>更多建议</h3>
<p>P/Invoke能力激活！</p>
<div class="code"><pre class="code literal-block"><span class="k">[DllImport("msvcrt.dll", CallingConvention=CallingConvention.Cdecl)]</span>
<span class="na">static extern int memcmp(byte[] b1, byte[] b2, long count);</span>

<span class="na">static bool ByteArrayCompare(byte[] b1, byte[] b2)</span>
<span class="na">{</span>
<span class="w">    </span><span class="na">// Validate buffers are the same length.</span>
<span class="w">    </span><span class="na">// This also ensures that the count does not exceed the length of either buffer.  </span>
<span class="w">    </span><span class="na">return b1.Length</span><span class="w"> </span><span class="o">=</span><span class="s">= b2.Length &amp;&amp; memcmp(b1, b2, b1.Length) == 0</span><span class="c1">;</span>
<span class="na">}</span>
</pre></div>

<p><br><br><a href="posts/comparing-two-byte-arrays-in-net/">查看原文</a></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/cocoa-frame-he-bounds-you-shi-yao-qu-bie/" class="u-url">Cocoa：frame 和 bounds 有什么区别？</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/cocoa-frame-he-bounds-you-shi-yao-qu-bie/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T22:31:22+08:00" itemprop="datePublished" title="2023-02-17 22:31">2023-02-17 22:31</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p><code>UIView</code>及其子类都具有属性<code>frame</code>和<code>bounds</code>。有什么不同？</p>
<p><br><br></p>
<h2>解答</h2>
<p>UIView的边界是矩形，表示为相对于其自身坐标系 (0,0) 的位置 (x,y) 和大小 (width,height) <strong>。</strong></p>
<p>UIView的框架是矩形，表示为相对于它包含在其中的超级视图的位置 (x,y) 和大小 (width,height) <strong>。</strong></p>
<p>因此，假设一个视图的大小为 100x100（宽 x 高），位于其父视图的 25,25 (x,y) 处。以下代码打印出此视图的边界和框架：</p>
<div class="code"><pre class="code literal-block"><span class="c1">// This method is in the view controller of the superview</span>
<span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">viewDidLoad</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">[</span><span class="nb">super</span><span class="w"> </span><span class="n">viewDidLoad</span><span class="p">];</span>

<span class="w">    </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@"bounds.origin.x: %f"</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="p">.</span><span class="n">bounds</span><span class="p">.</span><span class="n">origin</span><span class="p">.</span><span class="n">x</span><span class="p">);</span>
<span class="w">    </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@"bounds.origin.y: %f"</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="p">.</span><span class="n">bounds</span><span class="p">.</span><span class="n">origin</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>
<span class="w">    </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@"bounds.size.width: %f"</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="p">.</span><span class="n">bounds</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">width</span><span class="p">);</span>
<span class="w">    </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@"bounds.size.height: %f"</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="p">.</span><span class="n">bounds</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">height</span><span class="p">);</span>

<span class="w">    </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@"frame.origin.x: %f"</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="p">.</span><span class="n">frame</span><span class="p">.</span><span class="n">origin</span><span class="p">.</span><span class="n">x</span><span class="p">);</span>
<span class="w">    </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@"frame.origin.y: %f"</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="p">.</span><span class="n">frame</span><span class="p">.</span><span class="n">origin</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>
<span class="w">    </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@"frame.size.width: %f"</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="p">.</span><span class="n">frame</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">width</span><span class="p">);</span>
<span class="w">    </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@"frame.size.height: %f"</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="p">.</span><span class="n">frame</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">height</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

<p>这段代码的输出是：</p>
<div class="code"><pre class="code literal-block">bounds.origin.x: 0
bounds.origin.y: 0
bounds.size.width: 100
bounds.size.height: 100

frame.origin.x: 25
frame.origin.y: 25
frame.size.width: 100
frame.size.height: 100
</pre></div>

<p>因此，我们可以看到，在这两种情况下，无论我们查看的是边界还是框架，视图的宽度和高度都是相同的。不同的是视图的 x,y 定位。在边界的情况下，x 和 y
坐标位于 0,0，因为这些坐标是相对于视图本身的。然而，框架的 x 和 y 坐标是相对于视图在父视图中的位置（我们之前说过在 25,25）。</p>
<p>还有一个很棒的演示文稿涵盖了 UIViews。请参阅幻灯片 1-20，其中不仅解释了框架和边界之间的区别，还展示了视觉示例。</p>
<p><br></p>
<h3>更多建议</h3>
<h2>简答</h2>
<p><strong>frame = 使用</strong> <strong>父视图坐标系的</strong> 视图位置和大小 ****</p>
<ul>
<li>重要的是：将视图放在父视图中</li>
</ul>
<p><strong>bounds = 使用</strong> <strong>自己的坐标系的</strong> 视图的位置和大小 ****</p>
<ul>
<li>重要的是：将视图的内容或子视图置于其自身</li>
</ul>
<hr>
<h2>详细解答</h2>
<p>为了帮助我记住 <strong>相框</strong> ，我想到了 <strong>墙上的相框</strong>
。图片框就像视图的边框。我可以把这幅画挂在墙上任何我想挂的地方。以同样的方式，我可以将视图放在父视图（也称为父视图）中我想要的任何位置。父视图就像墙。iOS中坐标系的原点是左上角。我们可以通过将视图框架的
xy 坐标设置为 (0, 0) 将我们的视图放在父视图的原点，这就像将我们的图片挂在墙的最左上角。向右移动，增加 x，向下移动，增加 y。</p>
<p>为了帮助我记住 <strong>界限</strong> ，我想到了 <strong>一个篮球场</strong> ，篮球有时 <strong>会被撞出界</strong>
。你在篮球场上到处运球，但你并不真正关心球场本身在哪里。它可以在体育馆里，或者在高中外面，或者在你家门前。没关系。你只是想打篮球。同样，视图边界的坐标系只关心视图本身。它不知道视图在父视图中的位置。边界的原点（默认点
(0, 0)）是视图的左上角。该视图的任何子视图都与该点相关。这就像把篮球带到球场的左前角。</p>
<p>现在，当您尝试比较 frame 和 bounds 时，混乱就来了。不过，它实际上并不像一开始看起来那么糟糕。让我们用一些图片来帮助我们理解。</p>
<h3>帧与边界</h3>
<p>在左边的第一张图片中，我们有一个视图位于其父视图的左上角。 <strong>黄色矩形代表视图的框架。</strong>
在右侧，我们再次看到该视图，但这次未显示父视图。那是因为边界不知道父视图。 <strong>绿色矩形代表视图的边界。</strong> 两个图像中的红 <strong>点</strong> 代表框架或边界的
<strong>原点。</strong></p>
<div class="code"><pre class="code literal-block">Frame
    origin = (0, 0)
    width = 80
    height = 130

Bounds 
    origin = (0, 0)
    width = 80
    height = 130
</pre></div>

<p><img alt="在此处输入图像描述" src="images/SI1lH.png"></p>
<p>所以那张图片的框架和边界是完全一样的。让我们看一个他们不同的例子。</p>
<div class="code"><pre class="code literal-block">Frame
    origin = (40, 60)  // That is, x=40 and y=60
    width = 80
    height = 130

Bounds 
    origin = (0, 0)
    width = 80
    height = 130
</pre></div>

<p><img alt="在此处输入图像描述" src="images/SGdGA.png"></p>
<p>因此您可以看到，更改框架的 xy 坐标会在父视图中移动它。但是视图本身的内容看起来仍然完全一样。边界不知道有什么不同。</p>
<p>到目前为止，框架和边界的宽度和高度完全相同。不过，这并不总是正确的。看看如果我们将视图顺时针旋转 20
度会发生什么。（旋转是使用变换完成的。有关更多信息，请参阅文档以及这些视图和图层示例。）</p>
<div class="code"><pre class="code literal-block">Frame
    origin = (20, 52)  // These are just rough estimates.
    width = 118
    height = 187

Bounds 
    origin = (0, 0)
    width = 80
    height = 130
</pre></div>

<p><img alt="在此处输入图像描述" src="images/kBHgE.png"></p>
<p>您可以看到边界仍然相同。他们还不知道发生了什么！不过，帧值都已更改。</p>
<p>现在更容易看出 frame 和 bounds 之间的区别了，不是吗？您可能不了解框架和边界一文将视图框架定义为</p>
<blockquote>
<p>...该视图相对于其父坐标系的最小边界框，包括应用于该视图的任何转换。</p>
</blockquote>
<p>重要的是要注意，如果您转换视图，那么框架将变得不确定。所以实际上，我在上图中围绕旋转的绿色边界绘制的黄色框实际上并不存在。这意味着如果您旋转、缩放或进行其他一些变换，那么您不应该再使用帧值。不过，您仍然可以使用边界值。苹果文档警告：</p>
<blockquote>
<p><strong>重要提示：</strong> 如果视图的<code>transform</code>属性不包含恒等变换，则该视图的框架未定义，其自动调整行为的结果也是未定义的。</p>
</blockquote>
<p>自动调整大小很不幸……不过，您可以做一些事情。</p>
<p>苹果文档状态：</p>
<blockquote>
<p>修改<code>transform</code>视图的属性时，所有转换都是相对于视图的中心点执行的。</p>
</blockquote>
<p>因此，如果您确实需要在完成转换后在父级中移动视图，您可以通过更改坐标来完成<code>view.center</code>。像<code>frame</code>，<code>center</code>使用父视图的坐标系。</p>
<p>好的，让我们摆脱旋转并专注于边界。到目前为止，边界原点一直停留在 (0,
0)。不过，它不必这样做。如果我们的视图有一个大的子视图太大而无法一次显示怎么办？我们将使它<code>UIImageView</code>具有大图像。这是我们上面的第二张图片，但是这次我们可以看到我们视图的子视图的全部内容是什么样子的。</p>
<div class="code"><pre class="code literal-block">Frame
    origin = (40, 60)
    width = 80
    height = 130

Bounds 
    origin = (0, 0)
    width = 80
    height = 130
</pre></div>

<p><img alt="在此处输入图像描述" src="images/71kvH.png"></p>
<p>只有图像的左上角可以容纳在视图的边界内。现在看看如果我们改变边界的原点坐标会发生什么。</p>
<div class="code"><pre class="code literal-block">Frame
    origin = (40, 60)
    width = 80
    height = 130

Bounds 
    origin = (280, 70)
    width = 80
    height = 130
</pre></div>

<p><img alt="在此处输入图像描述" src="images/4izhy.png"></p>
<p>The frame hasn't moved in the superview but the content inside the frame has
changed because the origin of the bounds rectangle starts at a different part
of the view. This is the whole idea behind a <code>UIScrollView</code> and it's
subclasses (for example, a <code>UITableView</code>). See Understanding UIScrollView for
more explanation.</p>
<h3>When to use frame and when to use bounds</h3>
<p>Since <code>frame</code> relates a view's location in its parent view, you use it when
you are making <strong>outward changes</strong> , like changing its width or finding the
distance between the view and the top of its parent view.</p>
<p>Use the <code>bounds</code> when you are making <strong>inward changes</strong> , like drawing things
or arranging subviews within the view. Also use the bounds to get the size of
the view if you have done some transfomation on it.</p>
<h3>Articles for further research:</h3>
<p><strong>Apple docs</strong></p>
<ul>
<li>View Geometry</li>
<li>Views</li>
<li>View and Window Architecture</li>
</ul>
<p><strong>Related StackOverflow questions</strong></p>
<ul>
<li>UIView frame, bounds and center</li>
<li>UIView's frame, bounds, center, origin, when to use what?</li>
<li>"Incorrect" frame / window size after re-orientation in iPhone</li>
</ul>
<p><strong>Other resources</strong></p>
<ul>
<li>You Probably Don't Understand frames and bounds</li>
<li>iOS Fundamentals: Frames, Bounds, and CGGeometry</li>
<li>CS193p Lecture 5 - Views, Drawing, Animation</li>
</ul>
<h3>Practice yourself</h3>
<p>In addition to reading the above articles, it helps me a lot to make a test
app. You might want to try to do something similar. (I got the idea from this
video course but unfortunately it isn't free.)</p>
<p><img alt="在此处输入图像描述" src="images/C09vT.png"></p>
<p>Here is the code for your reference:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">UIKit</span>

<span class="k">class</span> <span class="nc">ViewController</span><span class="p">:</span> <span class="n">UIViewController</span> <span class="p">{</span>


    <span class="nd">@IBOutlet</span> <span class="n">weak</span> <span class="n">var</span> <span class="n">myView</span><span class="p">:</span> <span class="n">UIView</span><span class="err">!</span>

    <span class="o">//</span> <span class="n">Labels</span>
    <span class="nd">@IBOutlet</span> <span class="n">weak</span> <span class="n">var</span> <span class="n">frameX</span><span class="p">:</span> <span class="n">UILabel</span><span class="err">!</span>
    <span class="nd">@IBOutlet</span> <span class="n">weak</span> <span class="n">var</span> <span class="n">frameY</span><span class="p">:</span> <span class="n">UILabel</span><span class="err">!</span>
    <span class="nd">@IBOutlet</span> <span class="n">weak</span> <span class="n">var</span> <span class="n">frameWidth</span><span class="p">:</span> <span class="n">UILabel</span><span class="err">!</span>
    <span class="nd">@IBOutlet</span> <span class="n">weak</span> <span class="n">var</span> <span class="n">frameHeight</span><span class="p">:</span> <span class="n">UILabel</span><span class="err">!</span>
    <span class="nd">@IBOutlet</span> <span class="n">weak</span> <span class="n">var</span> <span class="n">boundsX</span><span class="p">:</span> <span class="n">UILabel</span><span class="err">!</span>
    <span class="nd">@IBOutlet</span> <span class="n">weak</span> <span class="n">var</span> <span class="n">boundsY</span><span class="p">:</span> <span class="n">UILabel</span><span class="err">!</span>
    <span class="nd">@IBOutlet</span> <span class="n">weak</span> <span class="n">var</span> <span class="n">boundsWidth</span><span class="p">:</span> <span class="n">UILabel</span><span class="err">!</span>
    <span class="nd">@IBOutlet</span> <span class="n">weak</span> <span class="n">var</span> <span class="n">boundsHeight</span><span class="p">:</span> <span class="n">UILabel</span><span class="err">!</span>
    <span class="nd">@IBOutlet</span> <span class="n">weak</span> <span class="n">var</span> <span class="n">centerX</span><span class="p">:</span> <span class="n">UILabel</span><span class="err">!</span>
    <span class="nd">@IBOutlet</span> <span class="n">weak</span> <span class="n">var</span> <span class="n">centerY</span><span class="p">:</span> <span class="n">UILabel</span><span class="err">!</span>
    <span class="nd">@IBOutlet</span> <span class="n">weak</span> <span class="n">var</span> <span class="n">rotation</span><span class="p">:</span> <span class="n">UILabel</span><span class="err">!</span>

    <span class="o">//</span> <span class="n">Sliders</span>
    <span class="nd">@IBOutlet</span> <span class="n">weak</span> <span class="n">var</span> <span class="n">frameXSlider</span><span class="p">:</span> <span class="n">UISlider</span><span class="err">!</span>
    <span class="nd">@IBOutlet</span> <span class="n">weak</span> <span class="n">var</span> <span class="n">frameYSlider</span><span class="p">:</span> <span class="n">UISlider</span><span class="err">!</span>
    <span class="nd">@IBOutlet</span> <span class="n">weak</span> <span class="n">var</span> <span class="n">frameWidthSlider</span><span class="p">:</span> <span class="n">UISlider</span><span class="err">!</span>
    <span class="nd">@IBOutlet</span> <span class="n">weak</span> <span class="n">var</span> <span class="n">frameHeightSlider</span><span class="p">:</span> <span class="n">UISlider</span><span class="err">!</span>
    <span class="nd">@IBOutlet</span> <span class="n">weak</span> <span class="n">var</span> <span class="n">boundsXSlider</span><span class="p">:</span> <span class="n">UISlider</span><span class="err">!</span>
    <span class="nd">@IBOutlet</span> <span class="n">weak</span> <span class="n">var</span> <span class="n">boundsYSlider</span><span class="p">:</span> <span class="n">UISlider</span><span class="err">!</span>
    <span class="nd">@IBOutlet</span> <span class="n">weak</span> <span class="n">var</span> <span class="n">boundsWidthSlider</span><span class="p">:</span> <span class="n">UISlider</span><span class="err">!</span>
    <span class="nd">@IBOutlet</span> <span class="n">weak</span> <span class="n">var</span> <span class="n">boundsHeightSlider</span><span class="p">:</span> <span class="n">UISlider</span><span class="err">!</span>
    <span class="nd">@IBOutlet</span> <span class="n">weak</span> <span class="n">var</span> <span class="n">centerXSlider</span><span class="p">:</span> <span class="n">UISlider</span><span class="err">!</span>
    <span class="nd">@IBOutlet</span> <span class="n">weak</span> <span class="n">var</span> <span class="n">centerYSlider</span><span class="p">:</span> <span class="n">UISlider</span><span class="err">!</span>
    <span class="nd">@IBOutlet</span> <span class="n">weak</span> <span class="n">var</span> <span class="n">rotationSlider</span><span class="p">:</span> <span class="n">UISlider</span><span class="err">!</span>

    <span class="o">//</span> <span class="n">Slider</span> <span class="n">actions</span>
    <span class="nd">@IBAction</span> <span class="n">func</span> <span class="n">frameXSliderChanged</span><span class="p">(</span><span class="n">sender</span><span class="p">:</span> <span class="n">AnyObject</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">myView</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">origin</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">CGFloat</span><span class="p">(</span><span class="n">frameXSlider</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="n">updateLabels</span><span class="p">()</span>
    <span class="p">}</span>
    <span class="nd">@IBAction</span> <span class="n">func</span> <span class="n">frameYSliderChanged</span><span class="p">(</span><span class="n">sender</span><span class="p">:</span> <span class="n">AnyObject</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">myView</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">origin</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">CGFloat</span><span class="p">(</span><span class="n">frameYSlider</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="n">updateLabels</span><span class="p">()</span>
    <span class="p">}</span>
    <span class="nd">@IBAction</span> <span class="n">func</span> <span class="n">frameWidthSliderChanged</span><span class="p">(</span><span class="n">sender</span><span class="p">:</span> <span class="n">AnyObject</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">myView</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">size</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">CGFloat</span><span class="p">(</span><span class="n">frameWidthSlider</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="n">updateLabels</span><span class="p">()</span>
    <span class="p">}</span>
    <span class="nd">@IBAction</span> <span class="n">func</span> <span class="n">frameHeightSliderChanged</span><span class="p">(</span><span class="n">sender</span><span class="p">:</span> <span class="n">AnyObject</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">myView</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">size</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">CGFloat</span><span class="p">(</span><span class="n">frameHeightSlider</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="n">updateLabels</span><span class="p">()</span>
    <span class="p">}</span>
    <span class="nd">@IBAction</span> <span class="n">func</span> <span class="n">boundsXSliderChanged</span><span class="p">(</span><span class="n">sender</span><span class="p">:</span> <span class="n">AnyObject</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">myView</span><span class="o">.</span><span class="n">bounds</span><span class="o">.</span><span class="n">origin</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">CGFloat</span><span class="p">(</span><span class="n">boundsXSlider</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="n">updateLabels</span><span class="p">()</span>
    <span class="p">}</span>
    <span class="nd">@IBAction</span> <span class="n">func</span> <span class="n">boundsYSliderChanged</span><span class="p">(</span><span class="n">sender</span><span class="p">:</span> <span class="n">AnyObject</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">myView</span><span class="o">.</span><span class="n">bounds</span><span class="o">.</span><span class="n">origin</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">CGFloat</span><span class="p">(</span><span class="n">boundsYSlider</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="n">updateLabels</span><span class="p">()</span>
    <span class="p">}</span>
    <span class="nd">@IBAction</span> <span class="n">func</span> <span class="n">boundsWidthSliderChanged</span><span class="p">(</span><span class="n">sender</span><span class="p">:</span> <span class="n">AnyObject</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">myView</span><span class="o">.</span><span class="n">bounds</span><span class="o">.</span><span class="n">size</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">CGFloat</span><span class="p">(</span><span class="n">boundsWidthSlider</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="n">updateLabels</span><span class="p">()</span>
    <span class="p">}</span>
    <span class="nd">@IBAction</span> <span class="n">func</span> <span class="n">boundsHeightSliderChanged</span><span class="p">(</span><span class="n">sender</span><span class="p">:</span> <span class="n">AnyObject</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">myView</span><span class="o">.</span><span class="n">bounds</span><span class="o">.</span><span class="n">size</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">CGFloat</span><span class="p">(</span><span class="n">boundsHeightSlider</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="n">updateLabels</span><span class="p">()</span>
    <span class="p">}</span>
    <span class="nd">@IBAction</span> <span class="n">func</span> <span class="n">centerXSliderChanged</span><span class="p">(</span><span class="n">sender</span><span class="p">:</span> <span class="n">AnyObject</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">myView</span><span class="o">.</span><span class="n">center</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">CGFloat</span><span class="p">(</span><span class="n">centerXSlider</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="n">updateLabels</span><span class="p">()</span>
    <span class="p">}</span>
    <span class="nd">@IBAction</span> <span class="n">func</span> <span class="n">centerYSliderChanged</span><span class="p">(</span><span class="n">sender</span><span class="p">:</span> <span class="n">AnyObject</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">myView</span><span class="o">.</span><span class="n">center</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">CGFloat</span><span class="p">(</span><span class="n">centerYSlider</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="n">updateLabels</span><span class="p">()</span>
    <span class="p">}</span>
    <span class="nd">@IBAction</span> <span class="n">func</span> <span class="n">rotationSliderChanged</span><span class="p">(</span><span class="n">sender</span><span class="p">:</span> <span class="n">AnyObject</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">let</span> <span class="n">rotation</span> <span class="o">=</span> <span class="n">CGAffineTransform</span><span class="p">(</span><span class="n">rotationAngle</span><span class="p">:</span> <span class="n">CGFloat</span><span class="p">(</span><span class="n">rotationSlider</span><span class="o">.</span><span class="n">value</span><span class="p">))</span>
        <span class="n">myView</span><span class="o">.</span><span class="n">transform</span> <span class="o">=</span> <span class="n">rotation</span>
        <span class="n">updateLabels</span><span class="p">()</span>
    <span class="p">}</span>

    <span class="n">private</span> <span class="n">func</span> <span class="n">updateLabels</span><span class="p">()</span> <span class="p">{</span>

        <span class="n">frameX</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">"frame x = \(Int(myView.frame.origin.x))"</span>
        <span class="n">frameY</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">"frame y = \(Int(myView.frame.origin.y))"</span>
        <span class="n">frameWidth</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">"frame width = \(Int(myView.frame.width))"</span>
        <span class="n">frameHeight</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">"frame height = \(Int(myView.frame.height))"</span>
        <span class="n">boundsX</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">"bounds x = \(Int(myView.bounds.origin.x))"</span>
        <span class="n">boundsY</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">"bounds y = \(Int(myView.bounds.origin.y))"</span>
        <span class="n">boundsWidth</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">"bounds width = \(Int(myView.bounds.width))"</span>
        <span class="n">boundsHeight</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">"bounds height = \(Int(myView.bounds.height))"</span>
        <span class="n">centerX</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">"center x = \(Int(myView.center.x))"</span>
        <span class="n">centerY</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">"center y = \(Int(myView.center.y))"</span>
        <span class="n">rotation</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">"rotation = \((rotationSlider.value))"</span>

    <span class="p">}</span>

<span class="p">}</span>
</pre></div>

<p><br><br><a href="posts/cocoa-what-s-the-difference-between-the-frame-and-the-bounds/">查看原文</a></p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1007.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1005.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

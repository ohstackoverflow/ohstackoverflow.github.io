<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 938) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-938.html">
<link rel="prev" href="index-939.html" type="text/html">
<link rel="next" href="index-937.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/configure-flask-dev-server-to-be-visible-across-the-network/" class="u-url">Configure Flask dev server to be visible across the network</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/configure-flask-dev-server-to-be-visible-across-the-network/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T20:01:17+08:00" itemprop="datePublished" title="2023-02-17 20:01">2023-02-17 20:01</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm not sure if this is Flask specific, but when I run an app in dev mode
(<code>http://localhost:5000</code>), I cannot access it from other machines on the
network (with <code>http://[dev-host-ip]:5000</code>). With Rails in dev mode, for
example, it works fine. I couldn't find any docs regarding the Flask dev
server configuration. Any idea what should be configured to enable this?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>While this is possible, you should not use the Flask dev server in production.
The Flask dev server is not designed to be particularly secure, stable, or
efficient. See the docs on deploying for correct solutions.</p>
<hr>
<p>The <code>--host</code> option to <code>flask run</code>, or the <code>host</code> parameter to <code>app.run()</code>,
controls what address the development server listens to. By default it runs on
<code>localhost</code>, change it to <code>flask run --host=0.0.0.0</code> (or
<code>app.run(host="0.0.0.0")</code>) to run on all your machine's IP addresses.</p>
<p><code>0.0.0.0</code> is a special value that you can't use in the browser directly,
you'll need to navigate to the actual IP address of the machine on the
network. You may also need to adjust your firewall to allow external access to
the port.</p>
<p>The Flask quickstart docs explain this in the "Externally Visible Server"
section:</p>
<blockquote>
<p>If you run the server you will notice that the server is only accessible
from your own computer, not from any other in the network. This is the
default because in debugging mode a user of the application can execute
arbitrary Python code on your computer.</p>
<p>If you have the debugger disabled or trust the users on your network, you
can make the server publicly available simply by adding <code>--host=0.0.0.0</code> to
the command line:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>flask<span class="w"> </span>run<span class="w"> </span>--host<span class="o">=</span><span class="m">0</span>.0.0.0
</pre></div>

<p>This tells your operating system to listen on all public IPs.</p>
</blockquote>
<p><br></p>
<h3>Suggest</h3>
<p>If you use the <code>flask</code> executable to start your server, use <code>flask run
--host=0.0.0.0</code> to change the default from 127.0.0.1 and open it up to non-
local connections.</p>
<blockquote>
<p>If you run the server you will notice that the server is only accessible
from your own computer, not from any other in the network. This is the
default because in debugging mode a user of the application can execute
arbitrary Python code on your computer.</p>
<p>If you have the debugger disabled or trust the users on your network, you
can make the server publicly available simply by adding <code>--host=0.0.0.0</code> to
the command line:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>flask<span class="w"> </span>run<span class="w"> </span>--host<span class="o">=</span><span class="m">0</span>.0.0.0
</pre></div>

<p>This tells your operating system to listen on all public IPs.</p>
</blockquote>
<p>Reference: https://flask.palletsprojects.com/quickstart/</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/unicodedecodeerror-when-reading-csv-file-in-pandas-with-python/" class="u-url">UnicodeDecodeError when reading CSV file in Pandas with Python</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/unicodedecodeerror-when-reading-csv-file-in-pandas-with-python/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T20:00:40+08:00" itemprop="datePublished" title="2023-02-17 20:00">2023-02-17 20:00</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm running a program which is processing 30,000 similar files. A random
number of them are stopping and producing this error...</p>
<div class="code"><pre class="code literal-block"><span class="w">  </span><span class="nv">File</span><span class="w"> </span><span class="s2">"C:\Importer\src\dfman\importer.py"</span>,<span class="w"> </span><span class="nv">line</span><span class="w"> </span><span class="mi">26</span>,<span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">import_chr</span>
<span class="w">    </span><span class="nv">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">pd</span>.<span class="nv">read_csv</span><span class="ss">(</span><span class="nv">filepath</span>,<span class="w"> </span><span class="nv">names</span><span class="o">=</span><span class="nv">fields</span><span class="ss">)</span>
<span class="w">  </span><span class="nv">File</span><span class="w"> </span><span class="s2">"C:\Python33\lib\site-packages\pandas\io\parsers.py"</span>,<span class="w"> </span><span class="nv">line</span><span class="w"> </span><span class="mi">400</span>,<span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">parser_f</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">_read</span><span class="ss">(</span><span class="nv">filepath_or_buffer</span>,<span class="w"> </span><span class="nv">kwds</span><span class="ss">)</span>
<span class="w">  </span><span class="nv">File</span><span class="w"> </span><span class="s2">"C:\Python33\lib\site-packages\pandas\io\parsers.py"</span>,<span class="w"> </span><span class="nv">line</span><span class="w"> </span><span class="mi">205</span>,<span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">_read</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">parser</span>.<span class="nv">read</span><span class="ss">()</span>
<span class="w">  </span><span class="nv">File</span><span class="w"> </span><span class="s2">"C:\Python33\lib\site-packages\pandas\io\parsers.py"</span>,<span class="w"> </span><span class="nv">line</span><span class="w"> </span><span class="mi">608</span>,<span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">read</span>
<span class="w">    </span><span class="nv">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span>.<span class="nv">_engine</span>.<span class="nv">read</span><span class="ss">(</span><span class="nv">nrows</span><span class="ss">)</span>
<span class="w">  </span><span class="nv">File</span><span class="w"> </span><span class="s2">"C:\Python33\lib\site-packages\pandas\io\parsers.py"</span>,<span class="w"> </span><span class="nv">line</span><span class="w"> </span><span class="mi">1028</span>,<span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">read</span>
<span class="w">    </span><span class="nv">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span>.<span class="nv">_reader</span>.<span class="nv">read</span><span class="ss">(</span><span class="nv">nrows</span><span class="ss">)</span>
<span class="w">  </span><span class="nv">File</span><span class="w"> </span><span class="s2">"parser.pyx"</span>,<span class="w"> </span><span class="nv">line</span><span class="w"> </span><span class="mi">706</span>,<span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">pandas</span>.<span class="nv">parser</span>.<span class="nv">TextReader</span>.<span class="nv">read</span><span class="w"> </span><span class="ss">(</span><span class="nv">pandas</span>\<span class="nv">parser</span>.<span class="nv">c</span>:<span class="mi">6745</span><span class="ss">)</span>
<span class="w">  </span><span class="nv">File</span><span class="w"> </span><span class="s2">"parser.pyx"</span>,<span class="w"> </span><span class="nv">line</span><span class="w"> </span><span class="mi">728</span>,<span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">pandas</span>.<span class="nv">parser</span>.<span class="nv">TextReader</span>.<span class="nv">_read_low_memory</span><span class="w"> </span><span class="ss">(</span><span class="nv">pandas</span>\<span class="nv">parser</span>.<span class="nv">c</span>:<span class="mi">6964</span><span class="ss">)</span>
<span class="w">  </span><span class="nv">File</span><span class="w"> </span><span class="s2">"parser.pyx"</span>,<span class="w"> </span><span class="nv">line</span><span class="w"> </span><span class="mi">804</span>,<span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">pandas</span>.<span class="nv">parser</span>.<span class="nv">TextReader</span>.<span class="nv">_read_rows</span><span class="w"> </span><span class="ss">(</span><span class="nv">pandas</span>\<span class="nv">parser</span>.<span class="nv">c</span>:<span class="mi">7780</span><span class="ss">)</span>
<span class="w">  </span><span class="nv">File</span><span class="w"> </span><span class="s2">"parser.pyx"</span>,<span class="w"> </span><span class="nv">line</span><span class="w"> </span><span class="mi">890</span>,<span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">pandas</span>.<span class="nv">parser</span>.<span class="nv">TextReader</span>.<span class="nv">_convert_column_data</span><span class="w"> </span><span class="ss">(</span><span class="nv">pandas</span>\<span class="nv">parser</span>.<span class="nv">c</span>:<span class="mi">8793</span><span class="ss">)</span>
<span class="w">  </span><span class="nv">File</span><span class="w"> </span><span class="s2">"parser.pyx"</span>,<span class="w"> </span><span class="nv">line</span><span class="w"> </span><span class="mi">950</span>,<span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">pandas</span>.<span class="nv">parser</span>.<span class="nv">TextReader</span>.<span class="nv">_convert_tokens</span><span class="w"> </span><span class="ss">(</span><span class="nv">pandas</span>\<span class="nv">parser</span>.<span class="nv">c</span>:<span class="mi">9484</span><span class="ss">)</span>
<span class="w">  </span><span class="nv">File</span><span class="w"> </span><span class="s2">"parser.pyx"</span>,<span class="w"> </span><span class="nv">line</span><span class="w"> </span><span class="mi">1026</span>,<span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">pandas</span>.<span class="nv">parser</span>.<span class="nv">TextReader</span>.<span class="nv">_convert_with_dtype</span><span class="w"> </span><span class="ss">(</span><span class="nv">pandas</span>\<span class="nv">parser</span>.<span class="nv">c</span>:<span class="mi">10642</span><span class="ss">)</span>
<span class="w">  </span><span class="nv">File</span><span class="w"> </span><span class="s2">"parser.pyx"</span>,<span class="w"> </span><span class="nv">line</span><span class="w"> </span><span class="mi">1046</span>,<span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">pandas</span>.<span class="nv">parser</span>.<span class="nv">TextReader</span>.<span class="nv">_string_convert</span><span class="w"> </span><span class="ss">(</span><span class="nv">pandas</span>\<span class="nv">parser</span>.<span class="nv">c</span>:<span class="mi">10853</span><span class="ss">)</span>
<span class="w">  </span><span class="nv">File</span><span class="w"> </span><span class="s2">"parser.pyx"</span>,<span class="w"> </span><span class="nv">line</span><span class="w"> </span><span class="mi">1278</span>,<span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">pandas</span>.<span class="nv">parser</span>.<span class="nv">_string_box_utf8</span><span class="w"> </span><span class="ss">(</span><span class="nv">pandas</span>\<span class="nv">parser</span>.<span class="nv">c</span>:<span class="mi">15657</span><span class="ss">)</span>
<span class="nv">UnicodeDecodeError</span>:<span class="w"> </span><span class="s1">'utf-8'</span><span class="w"> </span><span class="nv">codec</span><span class="w"> </span><span class="nv">can</span><span class="err">'t decode byte 0xda in position 6: invalid    continuation byte</span>
</pre></div>

<p>The source/creation of these files all come from the same place. What's the
best way to correct this to proceed with the import?</p>
<p><br><br></p>
<h2>Answer</h2>
<p><code>read_csv</code> takes an <code>encoding</code> option to deal with files in different formats.
I mostly use <code>read_csv('file', encoding = "ISO-8859-1")</code>, or alternatively
<code>encoding = "utf-8"</code> for reading, and generally <code>utf-8</code> for <code>to_csv</code>.</p>
<p>You can also use one of several <code>alias</code> options like <code>'latin'</code> or <code>'cp1252'</code>
(Windows) instead of <code>'ISO-8859-1'</code> (see python docs, also for numerous other
encodings you may encounter).</p>
<p>See relevant Pandas documentation, python docs examples on csv files, and
plenty of related questions here on SO. A good background resource is What
every developer should know about unicode and character sets.</p>
<p>To detect the encoding (assuming the file contains non-ascii characters), you
can use <code>enca</code> (see man page) or <code>file -i</code> (linux) or <code>file -I</code> (osx) (see man
page).</p>
<p><br></p>
<h3>Suggest</h3>
<p><strong>Simplest of all Solutions:</strong></p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'file_name.csv'</span><span class="p">,</span> <span class="n">engine</span><span class="o">=</span><span class="s1">'python'</span><span class="p">)</span>
</pre></div>

<p><strong>Alternate Solution:</strong></p>
<p><em>Sublime Text:</em></p>
<blockquote>
<ul>
<li>Open the csv file in <em>Sublime text editor</em> or <em>VS Code</em>.</li>
<li>Save the file in utf-8 format.</li>
<li>In sublime, Click File -&gt; Save with encoding -&gt; UTF-8
</li>
</ul>
</blockquote>
<p><em>VS Code:</em></p>
<blockquote>
<p>In the bottom bar of VSCode, you'll see the label UTF-8. Click it. A popup
opens. Click Save with encoding. You can now pick a new encoding for that
file.</p>
</blockquote>
<p>Then, you could read your file as usual:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'file_name.csv'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">'utf-8'</span><span class="p">)</span>
</pre></div>

<p>and the other different encoding types are:</p>
<div class="code"><pre class="code literal-block">encoding = "cp1252"
encoding = "ISO-8859-1"
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/is-there-a-minlength-validation-attribute-in-html/" class="u-url">Is there a minlength validation attribute in HTML?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/is-there-a-minlength-validation-attribute-in-html/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T20:00:12+08:00" itemprop="datePublished" title="2023-02-17 20:00">2023-02-17 20:00</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>It seems the <code>minlength</code> attribute for an <code>&lt;input&gt;</code> field doesn't work.</p>
<p>Is there any other attribute in HTML with the help of which I can set the
minimal length of a value for fields?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can use the <code>pattern</code> attribute. The <code>required</code> attribute is also needed,
otherwise an input field with an empty value will be excluded from constraint
validation.</p>
<div class="code"><pre class="code literal-block">&lt;input pattern=".{3,}"   required title="3 characters minimum"&gt;
&lt;input pattern=".{5,10}" required title="5 to 10 characters"&gt;
</pre></div>

<p>If you want to create the option to use the pattern for "empty, or minimum
length", you could do the following:</p>
<div class="code"><pre class="code literal-block">&lt;input pattern=".{0}|.{5,10}" required title="Either 0 OR (5 to 10 chars)"&gt;
&lt;input pattern=".{0}|.{8,}"   required title="Either 0 OR (8 chars minimum)"&gt;
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>There <strong>is</strong> a <code>minlength</code> property in the HTML5 specification now, as well as
the <code>validity.tooShort</code> interface.</p>
<p>Both are now enabled in recent versions of all modern browsers. For details,
see https://caniuse.com/#search=minlength.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-939.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-937.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1004) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1004.html">
<link rel="prev" href="index-1005.html" type="text/html">
<link rel="next" href="index-1003.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/is-there-a-function-to-make-a-copy-of-a-php-array-to-another/" class="u-url">Is there a function to make a copy of a PHP array to another?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/is-there-a-function-to-make-a-copy-of-a-php-array-to-another/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T22:14:53+08:00" itemprop="datePublished" title="2023-02-17 22:14">2023-02-17 22:14</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is there a function to make a copy of a PHP array to another?</p>
<p>I have been burned a few times trying to copy PHP arrays. I want to copy an
array defined inside an object to a global outside it.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>In PHP, all variables except objects are assigned by the mechanism called
copy-on-write, while objects are assigned by reference. Which means that for
the arrays with scalar values simply <code>$b = $a</code> already will give you a copy:</p>
<div class="code"><pre class="code literal-block"><span class="o">$</span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="p">();</span>
<span class="o">$</span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">$</span><span class="n">a</span><span class="p">;</span>
<span class="o">$</span><span class="n">b</span><span class="p">[</span><span class="s1">'foo'</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">42</span><span class="p">;</span>
<span class="n">var_dump</span><span class="p">(</span><span class="o">$</span><span class="n">a</span><span class="p">);</span>
</pre></div>

<p>Will yield:</p>
<div class="code"><pre class="code literal-block">array(0) {
}
</pre></div>

<p>Whereas with objects,</p>
<div class="code"><pre class="code literal-block"><span class="o">$</span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">StdClass</span><span class="p">();</span>
<span class="o">$</span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">$</span><span class="n">a</span><span class="p">;</span>
<span class="o">$</span><span class="n">b</span><span class="o">-&gt;</span><span class="n">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">42</span><span class="p">;</span>
<span class="n">var_dump</span><span class="p">(</span><span class="o">$</span><span class="n">a</span><span class="p">);</span>
</pre></div>

<p>Yields:</p>
<div class="code"><pre class="code literal-block">object(stdClass)#1 (1) {
  ["foo"]=&gt;
  int(42)
}
</pre></div>

<p>An edge case when array elements could be objects that need to be cloned as
well, is explained in another answer</p>
<p>You could get confused by intricacies such as <code>ArrayObject</code>, which is an
object that acts exactly like an array. Being an object however, it has
reference semantics.</p>
<p>Edit: @AndrewLarsson raises a point in the comments below. PHP has a special
feature called "references". They are somewhat similar to pointers in
languages like C/C++, but not quite the same. If your array contains
references, then while the array itself is passed by copy, the references will
still resolve to the original target. That's of course usually the desired
behaviour, but I thought it was worth mentioning.</p>
<p><br></p>
<h3>Suggest</h3>
<p>PHP will copy the array by default. References in PHP have to be explicit.</p>
<div class="code"><pre class="code literal-block">$a = array(1,2);
$b = $a; // $b will be a different array
$c = &amp;$a; // $c will be a reference to $a
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/postgres-could-not-connect-to-server/" class="u-url">Postgres could not connect to server</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/postgres-could-not-connect-to-server/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T22:14:21+08:00" itemprop="datePublished" title="2023-02-17 22:14">2023-02-17 22:14</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>After I did <code>brew update</code> and <code>brew upgrade</code>, my postgres got some problem. I
tried to uninstall postgres and install it again, but it didn't work as well.</p>
<p>This is the error message. (I also got this error message when I try to do
<code>rake db:migrate</code>)</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>psql
psql:<span class="w"> </span>could<span class="w"> </span>not<span class="w"> </span>connect<span class="w"> </span>to<span class="w"> </span>server:<span class="w"> </span>No<span class="w"> </span>such<span class="w"> </span>file<span class="w"> </span>or<span class="w"> </span>directory
<span class="w">    </span>Is<span class="w"> </span>the<span class="w"> </span>server<span class="w"> </span>running<span class="w"> </span>locally<span class="w"> </span>and<span class="w"> </span>accepting
<span class="w">    </span>connections<span class="w"> </span>on<span class="w"> </span>Unix<span class="w"> </span>domain<span class="w"> </span>socket<span class="w"> </span><span class="s2">"/tmp/.s.PGSQL.5432"</span>?
</pre></div>

<p>How can I solve it?</p>
<p>Mac version: Mountain lion.</p>
<p>homebrew version: 0.9.3</p>
<p>postgres version: psql (PostgreSQL) 9.2.1</p>
<p>And this is what I did:</p>
<p>Show code snippet</p>
<div class="code"><pre class="code literal-block"><span class="o">$</span><span class="w"> </span><span class="n">brew</span><span class="w"> </span><span class="n">uninstall</span><span class="w"> </span><span class="n">postgresql</span>
<span class="n">Uninstalling</span><span class="w"> </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">postgresql</span><span class="o">/</span><span class="mf">9.2</span><span class="o">.</span><span class="mf">1.</span><span class="o">..</span>
<span class="o">$</span><span class="w"> </span><span class="n">brew</span><span class="w"> </span><span class="n">uninstall</span><span class="w"> </span><span class="n">postgresql</span>
<span class="n">Uninstalling</span><span class="w"> </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">postgresql</span><span class="o">/</span><span class="mf">9.1</span><span class="o">.</span><span class="mf">4.</span><span class="o">..</span>
<span class="o">$</span><span class="w"> </span><span class="n">psql</span><span class="w"> </span><span class="o">--</span><span class="n">version</span>
<span class="n">bash</span><span class="p">:</span><span class="w"> </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">psql</span><span class="p">:</span><span class="w"> </span><span class="n">No</span><span class="w"> </span><span class="n">such</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">directory</span>
<span class="o">$</span><span class="w"> </span><span class="n">brew</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">postgresql</span>
<span class="o">==&gt;</span><span class="w"> </span><span class="n">Downloading</span><span class="w"> </span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">ftp</span><span class="o">.</span><span class="n">postgresql</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">pub</span><span class="o">/</span><span class="n">source</span><span class="o">/</span><span class="n">v9</span><span class="o">.</span><span class="mf">2.1</span><span class="o">/</span><span class="n">postgresql</span><span class="o">-</span><span class="mf">9.2</span><span class="o">.</span><span class="mf">1.</span><span class="n">tar</span><span class="o">.</span><span class="n">bz2</span>
<span class="n">Already</span><span class="w"> </span><span class="n">downloaded</span><span class="p">:</span><span class="w"> </span><span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">Caches</span><span class="o">/</span><span class="n">Homebrew</span><span class="o">/</span><span class="n">postgresql</span><span class="o">-</span><span class="mf">9.2</span><span class="o">.</span><span class="mf">1.</span><span class="n">tar</span><span class="o">.</span><span class="n">bz2</span>
<span class="o">......</span>
<span class="o">......</span>
<span class="o">==&gt;</span><span class="w"> </span><span class="n">Summary</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">postgresql</span><span class="o">/</span><span class="mf">9.2</span><span class="o">.</span><span class="mi">1</span><span class="p">:</span><span class="w"> </span><span class="mi">2814</span><span class="w"> </span><span class="n">files</span><span class="p">,</span><span class="w"> </span><span class="mi">38</span><span class="n">M</span><span class="p">,</span><span class="w"> </span><span class="n">built</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="mf">2.7</span><span class="w"> </span><span class="n">minutes</span>
<span class="o">$</span><span class="w"> </span><span class="n">initdb</span><span class="w"> </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">postgres</span><span class="w"> </span><span class="o">-</span><span class="n">E</span><span class="w"> </span><span class="n">utf8</span>
<span class="n">The</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">belonging</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">database</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">owned</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="s2">"laigary"</span><span class="o">.</span>
<span class="n">This</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">own</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">process</span><span class="o">.</span>

<span class="n">The</span><span class="w"> </span><span class="n">database</span><span class="w"> </span><span class="n">cluster</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">initialized</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">locale</span><span class="w"> </span><span class="s2">"en_US.UTF-8"</span><span class="o">.</span>
<span class="n">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="n">search</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="s2">"english"</span><span class="o">.</span>

<span class="n">initdb</span><span class="p">:</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="s2">"/usr/local/var/postgres"</span><span class="w"> </span><span class="n">exists</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">empty</span>
<span class="n">If</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">want</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">create</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">database</span><span class="w"> </span><span class="n">system</span><span class="p">,</span><span class="w"> </span><span class="n">either</span><span class="w"> </span><span class="n">remove</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">empty</span>
<span class="n">the</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="s2">"/usr/local/var/postgres"</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">initdb</span>
<span class="n">with</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">argument</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="s2">"/usr/local/var/postgres"</span><span class="o">.</span>
<span class="o">$</span><span class="w"> </span><span class="n">mkdir</span><span class="w"> </span><span class="o">-</span><span class="n">p</span><span class="w"> </span><span class="o">~/</span><span class="n">Library</span><span class="o">/</span><span class="n">LaunchAgents</span>
<span class="o">$</span><span class="w"> </span><span class="n">cp</span><span class="w"> </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">postgresql</span><span class="o">/</span><span class="mf">9.2</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">homebrew</span><span class="o">.</span><span class="n">mxcl</span><span class="o">.</span><span class="n">postgresql</span><span class="o">.</span><span class="n">plist</span><span class="w"> </span><span class="o">~/</span><span class="n">Library</span><span class="o">/</span><span class="n">LaunchAgents</span><span class="o">/</span>
<span class="o">$</span><span class="w"> </span><span class="n">launchctl</span><span class="w"> </span><span class="nb">load</span><span class="w"> </span><span class="o">-</span><span class="n">w</span><span class="w"> </span><span class="o">~/</span><span class="n">Library</span><span class="o">/</span><span class="n">LaunchAgents</span><span class="o">/</span><span class="n">homebrew</span><span class="o">.</span><span class="n">mxcl</span><span class="o">.</span><span class="n">postgresql</span><span class="o">.</span><span class="n">plist</span>
<span class="n">homebrew</span><span class="o">.</span><span class="n">mxcl</span><span class="o">.</span><span class="n">postgresql</span><span class="p">:</span><span class="w"> </span><span class="n">Already</span><span class="w"> </span><span class="n">loaded</span>
<span class="o">$</span><span class="w"> </span><span class="n">pg_ctl</span><span class="w"> </span><span class="o">-</span><span class="n">D</span><span class="w"> </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">postgres</span><span class="w"> </span><span class="o">-</span><span class="n">l</span><span class="w"> </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">postgres</span><span class="o">/</span><span class="n">server</span><span class="o">.</span><span class="n">log</span><span class="w"> </span><span class="n">start</span>
<span class="n">server</span><span class="w"> </span><span class="n">starting</span>
<span class="o">$</span><span class="w"> </span><span class="n">env</span><span class="w"> </span><span class="n">ARCHFLAGS</span><span class="o">=</span><span class="s2">"-arch x86_64"</span><span class="w"> </span><span class="n">gem</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">pg</span>
<span class="n">Building</span><span class="w"> </span><span class="n">native</span><span class="w"> </span><span class="n">extensions</span><span class="o">.</span><span class="w">  </span><span class="n">This</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="n">take</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">while</span><span class="o">...</span>
<span class="n">Successfully</span><span class="w"> </span><span class="n">installed</span><span class="w"> </span><span class="n">pg</span><span class="o">-</span><span class="mf">0.14</span><span class="o">.</span><span class="mi">1</span>
<span class="mi">1</span><span class="w"> </span><span class="n">gem</span><span class="w"> </span><span class="n">installed</span>
<span class="o">$</span><span class="w"> </span><span class="n">psql</span><span class="w"> </span><span class="o">--</span><span class="n">version</span>
<span class="n">psql</span><span class="w"> </span><span class="p">(</span><span class="n">PostgreSQL</span><span class="p">)</span><span class="w"> </span><span class="mf">9.2</span><span class="o">.</span><span class="mi">1</span>
<span class="o">$</span><span class="w"> </span><span class="n">psql</span>
<span class="n">psql</span><span class="p">:</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">connect</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">server</span><span class="p">:</span><span class="w"> </span><span class="n">No</span><span class="w"> </span><span class="n">such</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">directory</span>
<span class="w">    </span><span class="n">Is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">locally</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">accepting</span>
<span class="w">    </span><span class="n">connections</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">Unix</span><span class="w"> </span><span class="n">domain</span><span class="w"> </span><span class="n">socket</span><span class="w"> </span><span class="s2">"/tmp/.s.PGSQL.5432"</span><span class="err">?</span>
</pre></div>

<p>Now, after I reinstalled homebrew, when I use <code>$ psql</code>, it doesn't show any
error message.</p>
<p>But I run <code>rake db:migrate</code> in my Rails app, it shows:</p>
<p>Show code snippet</p>
<div class="code"><pre class="code literal-block"><span class="n">could</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">connect</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">server</span><span class="p">:</span><span class="w"> </span><span class="n">No</span><span class="w"> </span><span class="n">such</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">directory</span>
<span class="w">    </span><span class="n">Is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">locally</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">accepting</span>
<span class="w">    </span><span class="n">connections</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">Unix</span><span class="w"> </span><span class="n">domain</span><span class="w"> </span><span class="n">socket</span><span class="w"> </span><span class="s2">"/var/pgsql_socket/.s.PGSQL.5432"</span><span class="err">?</span>

<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="n">activerecord</span><span class="o">-</span><span class="mf">3.2</span><span class="o">.</span><span class="mi">8</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">active_record</span><span class="o">/</span><span class="n">connection_adapters</span><span class="o">/</span><span class="n">postgresql_adapter</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">1213</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">initialize</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="n">activerecord</span><span class="o">-</span><span class="mf">3.2</span><span class="o">.</span><span class="mi">8</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">active_record</span><span class="o">/</span><span class="n">connection_adapters</span><span class="o">/</span><span class="n">postgresql_adapter</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">1213</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">new</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="n">activerecord</span><span class="o">-</span><span class="mf">3.2</span><span class="o">.</span><span class="mi">8</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">active_record</span><span class="o">/</span><span class="n">connection_adapters</span><span class="o">/</span><span class="n">postgresql_adapter</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">1213</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">connect</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="n">activerecord</span><span class="o">-</span><span class="mf">3.2</span><span class="o">.</span><span class="mi">8</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">active_record</span><span class="o">/</span><span class="n">connection_adapters</span><span class="o">/</span><span class="n">postgresql_adapter</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">329</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">initialize</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="n">activerecord</span><span class="o">-</span><span class="mf">3.2</span><span class="o">.</span><span class="mi">8</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">active_record</span><span class="o">/</span><span class="n">connection_adapters</span><span class="o">/</span><span class="n">postgresql_adapter</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">28</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">new</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="n">activerecord</span><span class="o">-</span><span class="mf">3.2</span><span class="o">.</span><span class="mi">8</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">active_record</span><span class="o">/</span><span class="n">connection_adapters</span><span class="o">/</span><span class="n">postgresql_adapter</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">28</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">postgresql_connection</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="n">activerecord</span><span class="o">-</span><span class="mf">3.2</span><span class="o">.</span><span class="mi">8</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">active_record</span><span class="o">/</span><span class="n">connection_adapters</span><span class="o">/</span><span class="n">abstract</span><span class="o">/</span><span class="n">connection_pool</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">309</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">new_connection</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="n">activerecord</span><span class="o">-</span><span class="mf">3.2</span><span class="o">.</span><span class="mi">8</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">active_record</span><span class="o">/</span><span class="n">connection_adapters</span><span class="o">/</span><span class="n">abstract</span><span class="o">/</span><span class="n">connection_pool</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">319</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">checkout_new_connection</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="n">activerecord</span><span class="o">-</span><span class="mf">3.2</span><span class="o">.</span><span class="mi">8</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">active_record</span><span class="o">/</span><span class="n">connection_adapters</span><span class="o">/</span><span class="n">abstract</span><span class="o">/</span><span class="n">connection_pool</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">241</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">block</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="w"> </span><span class="n">levels</span><span class="p">)</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">checkout</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="n">activerecord</span><span class="o">-</span><span class="mf">3.2</span><span class="o">.</span><span class="mi">8</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">active_record</span><span class="o">/</span><span class="n">connection_adapters</span><span class="o">/</span><span class="n">abstract</span><span class="o">/</span><span class="n">connection_pool</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">236</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">loop</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="n">activerecord</span><span class="o">-</span><span class="mf">3.2</span><span class="o">.</span><span class="mi">8</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">active_record</span><span class="o">/</span><span class="n">connection_adapters</span><span class="o">/</span><span class="n">abstract</span><span class="o">/</span><span class="n">connection_pool</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">236</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">block</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">checkout</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">monitor</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">211</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">mon_synchronize</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="n">activerecord</span><span class="o">-</span><span class="mf">3.2</span><span class="o">.</span><span class="mi">8</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">active_record</span><span class="o">/</span><span class="n">connection_adapters</span><span class="o">/</span><span class="n">abstract</span><span class="o">/</span><span class="n">connection_pool</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">233</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">checkout</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="n">activerecord</span><span class="o">-</span><span class="mf">3.2</span><span class="o">.</span><span class="mi">8</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">active_record</span><span class="o">/</span><span class="n">connection_adapters</span><span class="o">/</span><span class="n">abstract</span><span class="o">/</span><span class="n">connection_pool</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">96</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">block</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">connection</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">monitor</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">211</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">mon_synchronize</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="n">activerecord</span><span class="o">-</span><span class="mf">3.2</span><span class="o">.</span><span class="mi">8</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">active_record</span><span class="o">/</span><span class="n">connection_adapters</span><span class="o">/</span><span class="n">abstract</span><span class="o">/</span><span class="n">connection_pool</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">95</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">connection</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="n">activerecord</span><span class="o">-</span><span class="mf">3.2</span><span class="o">.</span><span class="mi">8</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">active_record</span><span class="o">/</span><span class="n">connection_adapters</span><span class="o">/</span><span class="n">abstract</span><span class="o">/</span><span class="n">connection_pool</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">404</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">retrieve_connection</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="n">activerecord</span><span class="o">-</span><span class="mf">3.2</span><span class="o">.</span><span class="mi">8</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">active_record</span><span class="o">/</span><span class="n">connection_adapters</span><span class="o">/</span><span class="n">abstract</span><span class="o">/</span><span class="n">connection_specification</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">170</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">retrieve_connection</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="n">activerecord</span><span class="o">-</span><span class="mf">3.2</span><span class="o">.</span><span class="mi">8</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">active_record</span><span class="o">/</span><span class="n">connection_adapters</span><span class="o">/</span><span class="n">abstract</span><span class="o">/</span><span class="n">connection_specification</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">144</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">connection</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="n">activerecord</span><span class="o">-</span><span class="mf">3.2</span><span class="o">.</span><span class="mi">8</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">active_record</span><span class="o">/</span><span class="n">railties</span><span class="o">/</span><span class="n">databases</span><span class="o">.</span><span class="n">rake</span><span class="p">:</span><span class="mi">107</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">rescue</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">create_database</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="n">activerecord</span><span class="o">-</span><span class="mf">3.2</span><span class="o">.</span><span class="mi">8</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">active_record</span><span class="o">/</span><span class="n">railties</span><span class="o">/</span><span class="n">databases</span><span class="o">.</span><span class="n">rake</span><span class="p">:</span><span class="mi">51</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">create_database</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="n">activerecord</span><span class="o">-</span><span class="mf">3.2</span><span class="o">.</span><span class="mi">8</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">active_record</span><span class="o">/</span><span class="n">railties</span><span class="o">/</span><span class="n">databases</span><span class="o">.</span><span class="n">rake</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">block</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="w"> </span><span class="n">levels</span><span class="p">)</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="o">&lt;</span><span class="n">top</span><span class="w"> </span><span class="p">(</span><span class="n">required</span><span class="p">)</span><span class="o">&gt;</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="n">activerecord</span><span class="o">-</span><span class="mf">3.2</span><span class="o">.</span><span class="mi">8</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">active_record</span><span class="o">/</span><span class="n">railties</span><span class="o">/</span><span class="n">databases</span><span class="o">.</span><span class="n">rake</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">each</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="n">activerecord</span><span class="o">-</span><span class="mf">3.2</span><span class="o">.</span><span class="mi">8</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">active_record</span><span class="o">/</span><span class="n">railties</span><span class="o">/</span><span class="n">databases</span><span class="o">.</span><span class="n">rake</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">block</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="w"> </span><span class="n">levels</span><span class="p">)</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="o">&lt;</span><span class="n">top</span><span class="w"> </span><span class="p">(</span><span class="n">required</span><span class="p">)</span><span class="o">&gt;</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">rake</span><span class="o">/</span><span class="n">task</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">205</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">call</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">rake</span><span class="o">/</span><span class="n">task</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">205</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">block</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">execute</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">rake</span><span class="o">/</span><span class="n">task</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">200</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">each</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">rake</span><span class="o">/</span><span class="n">task</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">200</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">execute</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">rake</span><span class="o">/</span><span class="n">task</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">158</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">block</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">invoke_with_call_chain</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">monitor</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">211</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">mon_synchronize</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">rake</span><span class="o">/</span><span class="n">task</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">151</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">invoke_with_call_chain</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">rake</span><span class="o">/</span><span class="n">task</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">144</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">invoke</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">rake</span><span class="o">/</span><span class="n">application</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">116</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">invoke_task</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">rake</span><span class="o">/</span><span class="n">application</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">94</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">block</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="w"> </span><span class="n">levels</span><span class="p">)</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">top_level</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">rake</span><span class="o">/</span><span class="n">application</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">94</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">each</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">rake</span><span class="o">/</span><span class="n">application</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">94</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">block</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">top_level</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">rake</span><span class="o">/</span><span class="n">application</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">133</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">standard_exception_handling</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">rake</span><span class="o">/</span><span class="n">application</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">88</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">top_level</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">rake</span><span class="o">/</span><span class="n">application</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">66</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">block</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">run</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">rake</span><span class="o">/</span><span class="n">application</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">133</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">standard_exception_handling</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">Cellar</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">3</span><span class="o">-</span><span class="n">p327</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">ruby</span><span class="o">/</span><span class="mf">1.9</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">rake</span><span class="o">/</span><span class="n">application</span><span class="o">.</span><span class="n">rb</span><span class="p">:</span><span class="mi">63</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">run</span><span class="s1">'</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">rake</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="o">&lt;</span><span class="n">main</span><span class="o">&gt;</span><span class="s1">'</span>
<span class="n">Couldn</span><span class="s1">'t create database for {"adapter"=&gt;"postgresql", "encoding"=&gt;"unicode", "database"=&gt;"riy_development", "pool"=&gt;5, "username"=&gt;nil, "password"=&gt;nil}</span>
</pre></div>

<p><strong>Finally I've found a solution.</strong></p>
<div class="code"><pre class="code literal-block"><span class="n">sudo</span><span class="w"> </span><span class="n">mkdir</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">pgsql_socket</span><span class="o">/</span>
<span class="n">sudo</span><span class="w"> </span><span class="n">ln</span><span class="w"> </span><span class="o">-</span><span class="n">s</span><span class="w"> </span><span class="o">/</span><span class="n">private</span><span class="o">/</span><span class="n">tmp</span><span class="o">/.</span><span class="n">s</span><span class="o">.</span><span class="n">PGSQL</span><span class="o">.</span><span class="mi">5432</span><span class="w"> </span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">pgsql_socket</span><span class="o">/</span>
</pre></div>

<p>This solution is a little tricky, but it works. Hope anyone has a better
solution</p>
<p><strong>Update</strong></p>
<p>This works for me as well.</p>
<div class="code"><pre class="code literal-block"><span class="n">rm</span><span class="w"> </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">postgres</span><span class="o">/</span><span class="n">postmaster</span><span class="o">.</span><span class="n">pid</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>Had a similar problem; a pid file was blocking postgres from starting up. To
fix it:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>rm<span class="w"> </span>/usr/local/var/postgres/postmaster.pid
$<span class="w"> </span>brew<span class="w"> </span>services<span class="w"> </span>restart<span class="w"> </span>postgresql
</pre></div>

<p>and then all is well.</p>
<hr>
<p><strong>UPDATE:</strong></p>
<p>For <strong>Apple M1</strong> (Big Sur) users, do this instead:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>rm<span class="w"> </span>/opt/homebrew/var/postgres/postmaster.pid
$<span class="w"> </span>brew<span class="w"> </span>services<span class="w"> </span>restart<span class="w"> </span>postgresql
</pre></div>

<hr>
<p><strong>UPDATE</strong> <em>(Nov 15 2022)</em> <strong>:</strong></p>
<p>For <strong>Apple M1 / M2</strong> (Ventura) users, just do this:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>bundle<span class="w"> </span>install<span class="w"> </span><span class="o">(</span>just<span class="w"> </span>to<span class="w"> </span>make<span class="w"> </span>sure<span class="w"> </span>pg<span class="w"> </span>is<span class="w"> </span>installed<span class="o">)</span>
$<span class="w"> </span>brew<span class="w"> </span>services<span class="w"> </span>restart<span class="w"> </span>postgresql
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>This sometimes happens when brew does a postgres upgrade, causing the data
files to become incompatible with the new server.</p>
<p>In my case, it happened when upgrading from 9.3 to 9.4.</p>
<p><strong>OS X/Homebrew:</strong></p>
<p>Try running <code>postgres -D /usr/local/var/postgres</code> -- it will give you a much
more verbose output if postgres fails to start. Or open the log file at
<code>/usr/local/var/log/postgres.log</code> (<code>/opt/homebrew/var/log/postgres.log</code> on Mac
M1) and look for the line <strong>"FATAL: database files are incompatible with
server"</strong></p>
<p>In my case, running <code>rm -rf /usr/local/var/postgres &amp;&amp; initdb
/usr/local/var/postgres -E utf8</code> removed my old databases and then
reinitialized the postgres db schema. <strong>(THIS WILL DESTROY YOUR DATA)</strong></p>
<p>Thanks to https://github.com/Homebrew/homebrew/issues/35240 for that solution.
Full instructions for a thorough re-install can be found here: How to
completely uninstall and reinstall Homebrew Postgres - Test Double Blog
(Again, if you're on an M1 Mac then substitute the <strong>/opt/homebrew/var</strong> path
wherever it says <strong>/usr/local/var</strong> )</p>
<p>After regenerating my databases (with <code>rake db:create</code>) everything worked fine
again.</p>
<p>Finally, links in the comments point to this possible solution that preserves
your data, but I haven't tried it: How to upgrade PostgreSQL from version 9.6
to version 10.1 without losing data - Stack Overflow</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-does-a-just-in-time-jit-compiler-do/" class="u-url">What does a just-in-time (JIT) compiler do?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-does-a-just-in-time-jit-compiler-do/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T22:13:51+08:00" itemprop="datePublished" title="2023-02-17 22:13">2023-02-17 22:13</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What does a JIT compiler specifically do as opposed to a non-JIT compiler? Can
someone give a succinct and easy to understand description?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>A JIT compiler runs <strong>after</strong> the program has started and compiles the code
(usually bytecode or some kind of VM instructions) on the fly (or just-in-
time, as it's called) into a form that's usually faster, typically the host
CPU's native instruction set. A JIT has access to dynamic runtime information
whereas a standard compiler doesn't and can make better optimizations like
inlining functions that are used frequently.</p>
<p>This is in contrast to a traditional compiler that compiles <strong>all</strong> the code
to machine language <strong>before</strong> the program is first run.</p>
<p>To paraphrase, conventional compilers build the whole program as an EXE file
BEFORE the first time you run it. For newer style programs, an assembly is
generated with pseudocode (p-code). Only AFTER you execute the program on the
OS (e.g., by double-clicking on its icon) will the (JIT) compiler kick in and
generate machine code (m-code) that the Intel-based processor or whatever will
understand.</p>
<p><br></p>
<h3>Suggest</h3>
<p>In the beginning, a compiler was responsible for turning a high-level language
(defined as higher level than assembler) into object code (machine
instructions), which would then be linked (by a linker) into an executable.</p>
<p>At one point in the evolution of languages, compilers would compile a high-
level language into pseudo-code, which would then be interpreted (by an
interpreter) to run your program. This eliminated the object code and
executables, and allowed these languages to be portable to multiple operating
systems and hardware platforms. Pascal (which compiled to P-Code) was one of
the first; Java and C# are more recent examples. Eventually the term P-Code
was replaced with bytecode, since most of the pseudo-operations are a byte
long.</p>
<p>A Just-In-Time (JIT) compiler is a feature of the run-time interpreter, that
instead of interpreting bytecode every time a method is invoked, will compile
the bytecode into the machine code instructions of the running machine, and
then invoke this object code instead. Ideally the efficiency of running object
code will overcome the inefficiency of recompiling the program every time it
runs.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1005.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1003.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

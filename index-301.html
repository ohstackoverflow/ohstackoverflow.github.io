<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 301) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-301.html">
<link rel="prev" href="index-302.html" type="text/html">
<link rel="next" href="index-300.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/get-a-list-from-pandas-dataframe-column-headers/" class="u-url">Get a list from Pandas DataFrame column headers</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/get-a-list-from-pandas-dataframe-column-headers/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T03:24:12+08:00" itemprop="datePublished" title="2023-02-17 03:24">2023-02-17 03:24</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I want to get a list of the column headers from a Pandas DataFrame. The
DataFrame will come from user input, so I won't know how many columns there
will be or what they will be called.</p>
<p>For example, if I'm given a DataFrame like this:</p>
<div class="code"><pre class="code literal-block">&gt;&gt;&gt; my_dataframe
    y  gdp  cap
0   1    2    5
1   2    3    9
2   8    7    2
3   3    4    7
4   6    7    7
5   4    8    3
6   8    2    8
7   9    9   10
8   6    6    4
9  10   10    7
</pre></div>

<p>I would get a list like this:</p>
<div class="code"><pre class="code literal-block">&gt;&gt;&gt; header_list
['y', 'gdp', 'cap']
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>You can get the values as a list by doing:</p>
<div class="code"><pre class="code literal-block">list(my_dataframe.columns.values)
</pre></div>

<p>Also you can simply use (as shown in Ed Chum's answer):</p>
<div class="code"><pre class="code literal-block">list(my_dataframe)
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>There is a built-in method which is the most performant:</p>
<div class="code"><pre class="code literal-block">my_dataframe.columns.values.tolist()
</pre></div>

<p><code>.columns</code> returns an <code>Index</code>, <code>.columns.values</code> returns an array and this has
a helper function <code>.tolist</code> to return a list.</p>
<p>If performance is not as important to you, <code>Index</code> objects define a
<code>.tolist()</code> method that you can call directly:</p>
<div class="code"><pre class="code literal-block">my_dataframe.columns.tolist()
</pre></div>

<p>The difference in performance is obvious:</p>
<div class="code"><pre class="code literal-block"><span class="nf">%timeit</span><span class="w"> </span><span class="n">df</span><span class="p">.</span><span class="n">columns</span><span class="p">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="mf">16.7</span><span class="w"> </span><span class="n">µs</span><span class="w"> </span><span class="err">±</span><span class="w"> </span><span class="mi">317</span><span class="w"> </span><span class="n">ns</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">loop</span><span class="w"> </span><span class="p">(</span><span class="n">mean</span><span class="w"> </span><span class="err">±</span><span class="w"> </span><span class="n">std</span><span class="p">.</span><span class="w"> </span><span class="n">dev</span><span class="p">.</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="n">runs</span><span class="p">,</span><span class="w"> </span><span class="mi">100000</span><span class="w"> </span><span class="n">loops</span><span class="w"> </span><span class="n">each</span><span class="p">)</span>

<span class="nf">%timeit</span><span class="w"> </span><span class="n">df</span><span class="p">.</span><span class="n">columns</span><span class="p">.</span><span class="n">values</span><span class="p">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="mf">1.24</span><span class="w"> </span><span class="n">µs</span><span class="w"> </span><span class="err">±</span><span class="w"> </span><span class="mf">12.3</span><span class="w"> </span><span class="n">ns</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">loop</span><span class="w"> </span><span class="p">(</span><span class="n">mean</span><span class="w"> </span><span class="err">±</span><span class="w"> </span><span class="n">std</span><span class="p">.</span><span class="w"> </span><span class="n">dev</span><span class="p">.</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="n">runs</span><span class="p">,</span><span class="w"> </span><span class="mi">1000000</span><span class="w"> </span><span class="n">loops</span><span class="w"> </span><span class="n">each</span><span class="p">)</span>
</pre></div>

<hr>
<p>For those who hate typing, you can just call <code>list</code> on <code>df</code>, as so:</p>
<div class="code"><pre class="code literal-block">list(df)
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-sort-an-array-of-integers-correctly/" class="u-url">How to sort an array of integers correctly</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-sort-an-array-of-integers-correctly/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T03:23:13+08:00" itemprop="datePublished" title="2023-02-17 03:23">2023-02-17 03:23</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Trying to get the highest and lowest value from an array that I know will
contain only integers seems to be harder than I thought.</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">numArray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">140000</span><span class="p">,</span><span class="w"> </span><span class="mi">104</span><span class="p">,</span><span class="w"> </span><span class="mi">99</span><span class="p">];</span>
<span class="n">numArray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">numArray</span><span class="o">.</span><span class="n">sort</span><span class="p">();</span>
<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">numArray</span><span class="p">)</span>
</pre></div>

<p>I'd expect this to show <code>99, 104, 140000</code>. Instead it shows <code>104, 140000, 99</code>.
So it seems the sort is handling the values as strings.</p>
<p>Is there a way to get the sort function to actually sort on integer value?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>By default, the sort method sorts elements alphabetically. To sort numerically
just add a new method which handles numeric sorts (sortNumber, shown below) -</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">numArray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">140000</span><span class="p">,</span><span class="w"> </span><span class="mi">104</span><span class="p">,</span><span class="w"> </span><span class="mi">99</span><span class="p">];</span>
<span class="n">numArray</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">function</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="p">});</span>

<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">numArray</span><span class="p">);</span>
</pre></div>

<p>Documentation:</p>
<p>Mozilla <code>Array.prototype.sort()</code> recommends this compare function for arrays
that don't contain Infinity or NaN. (Because <code>Infinity - Infinity</code> is NaN, not
0).</p>
<p>Also examples of sorting objects by key.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Just building on all of the above answers, they can also be done in one line
like this:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">numArray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">140000</span><span class="p">,</span><span class="w"> </span><span class="mi">104</span><span class="p">,</span><span class="w"> </span><span class="mi">99</span><span class="p">];</span>
<span class="n">numArray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">numArray</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">function</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w">  </span><span class="p">});</span>

<span class="o">//</span><span class="n">outputs</span><span class="p">:</span><span class="w"> </span><span class="mi">99</span><span class="p">,</span><span class="w"> </span><span class="mi">104</span><span class="p">,</span><span class="w"> </span><span class="mi">140000</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/access-control-allow-origin-multiple-origin-domains/" class="u-url">Access-Control-Allow-Origin Multiple Origin Domains?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/access-control-allow-origin-multiple-origin-domains/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T03:22:45+08:00" itemprop="datePublished" title="2023-02-17 03:22">2023-02-17 03:22</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is there a way to allow multiple cross-domains using the <code>Access-Control-
Allow-Origin</code> header?</p>
<p>I'm aware of the <code>*</code>, but it is too open. I really want to allow just a couple
domains.</p>
<p>As an example, something like this:</p>
<div class="code"><pre class="code literal-block">Access-Control-Allow-Origin: http://domain1.example, http://domain2.example
</pre></div>

<p>I have tried the above code but it does not seem to work in Firefox.</p>
<p>Is it possible to specify multiple domains or am I stuck with just one?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Sounds like the recommended way to do it is to have your server read the
Origin header from the client, compare that to the list of domains you would
like to allow, and if it matches, echo the value of the <code>Origin</code> header back
to the client as the <code>Access-Control-Allow-Origin</code> header in the response.</p>
<p>With <code>.htaccess</code> you can do it like this:</p>
<div class="code"><pre class="code literal-block">#<span class="w"> </span>----------------------------------------------------------------------
#<span class="w"> </span>Allow<span class="w"> </span>loading<span class="w"> </span>of<span class="w"> </span>external<span class="w"> </span>fonts
#<span class="w"> </span>----------------------------------------------------------------------
<span class="nt">&lt;FilesMatch</span><span class="w"> </span><span class="err">"\.(ttf|otf|eot|woff|woff2)$"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;IfModule</span><span class="w"> </span><span class="err">mod_headers.c</span><span class="nt">&gt;</span>
<span class="w">        </span>SetEnvIf<span class="w"> </span>Origin<span class="w"> </span>"http(s)?://(www\.)?(google.com|staging.google.com|development.google.com|otherdomain.example|dev02.otherdomain.example)$"<span class="w"> </span>AccessControlAllowOrigin=$0
<span class="w">        </span>Header<span class="w"> </span>add<span class="w"> </span>Access-Control-Allow-Origin<span class="w"> </span>%{AccessControlAllowOrigin}e<span class="w"> </span>env=AccessControlAllowOrigin
<span class="w">        </span>Header<span class="w"> </span>merge<span class="w"> </span>Vary<span class="w"> </span>Origin
<span class="w">    </span><span class="nt">&lt;/IfModule&gt;</span>
<span class="nt">&lt;/FilesMatch&gt;</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Another solution I'm using in PHP:</p>
<div class="code"><pre class="code literal-block"><span class="o">$</span><span class="nt">http_origin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">$</span><span class="nt">_SERVER</span><span class="cp">[</span><span class="s1">'HTTP_ORIGIN'</span><span class="cp">]</span><span class="o">;</span>

<span class="nt">if</span><span class="w"> </span><span class="o">($</span><span class="nt">http_origin</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"http://www.domain1.com"</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">$</span><span class="nt">http_origin</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"http://www.domain2.com"</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">$</span><span class="nt">http_origin</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"http://www.domain3.com"</span><span class="o">)</span>
<span class="p">{</span><span class="w">  </span>
<span class="w">    </span><span class="err">header("</span><span class="n">Access-Control-Allow-Origin</span><span class="p">:</span><span class="w"> </span><span class="err">$</span><span class="n">http_origin</span><span class="err">"</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-302.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-300.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

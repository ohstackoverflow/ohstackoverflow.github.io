<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1003) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1003.html">
<link rel="prev" href="index-1004.html" type="text/html">
<link rel="next" href="index-1002.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-does-a-just-in-time-jit-compiler-do/" class="u-url">What does a just-in-time (JIT) compiler do?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-does-a-just-in-time-jit-compiler-do/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T22:13:51+08:00" itemprop="datePublished" title="2023-02-17 22:13">2023-02-17 22:13</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What does a JIT compiler specifically do as opposed to a non-JIT compiler? Can
someone give a succinct and easy to understand description?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>A JIT compiler runs <strong>after</strong> the program has started and compiles the code
(usually bytecode or some kind of VM instructions) on the fly (or just-in-
time, as it's called) into a form that's usually faster, typically the host
CPU's native instruction set. A JIT has access to dynamic runtime information
whereas a standard compiler doesn't and can make better optimizations like
inlining functions that are used frequently.</p>
<p>This is in contrast to a traditional compiler that compiles <strong>all</strong> the code
to machine language <strong>before</strong> the program is first run.</p>
<p>To paraphrase, conventional compilers build the whole program as an EXE file
BEFORE the first time you run it. For newer style programs, an assembly is
generated with pseudocode (p-code). Only AFTER you execute the program on the
OS (e.g., by double-clicking on its icon) will the (JIT) compiler kick in and
generate machine code (m-code) that the Intel-based processor or whatever will
understand.</p>
<p><br></p>
<h3>Suggest</h3>
<p>In the beginning, a compiler was responsible for turning a high-level language
(defined as higher level than assembler) into object code (machine
instructions), which would then be linked (by a linker) into an executable.</p>
<p>At one point in the evolution of languages, compilers would compile a high-
level language into pseudo-code, which would then be interpreted (by an
interpreter) to run your program. This eliminated the object code and
executables, and allowed these languages to be portable to multiple operating
systems and hardware platforms. Pascal (which compiled to P-Code) was one of
the first; Java and C# are more recent examples. Eventually the term P-Code
was replaced with bytecode, since most of the pseudo-operations are a byte
long.</p>
<p>A Just-In-Time (JIT) compiler is a feature of the run-time interpreter, that
instead of interpreting bytecode every time a method is invoked, will compile
the bytecode into the machine code instructions of the running machine, and
then invoke this object code instead. Ideally the efficiency of running object
code will overcome the inefficiency of recompiling the program every time it
runs.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/difference-between-abstract-class-and-interface-in-python/" class="u-url">Difference between abstract class and interface in Python</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/difference-between-abstract-class-and-interface-in-python/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T22:13:20+08:00" itemprop="datePublished" title="2023-02-17 22:13">2023-02-17 22:13</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What is the difference between abstract class and interface in Python?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>What you'll see sometimes is the following:</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span> <span class="n">Abstract1:</span>
    <span class="s">"""Some description that tells you it's abstract,</span>
<span class="s">    often listing the methods you're expected to supply."""</span>

    <span class="n">def</span> <span class="n">aMethod</span>(<span class="nb">self</span>):
        <span class="n">raise</span> <span class="n">NotImplementedError</span>(<span class="s">"Should have implemented this"</span>)
</pre></div>

<p>Because Python doesn't have (and doesn't need) a formal Interface contract,
the Java-style distinction between abstraction and interface doesn't exist. If
someone goes through the effort to define a formal interface, it will also be
an abstract class. The only differences would be in the stated intent in the
docstring.</p>
<p>And the difference between abstract and interface is a hairsplitting thing
when you have duck typing.</p>
<p>Java uses interfaces because it doesn't have multiple inheritance.</p>
<p>Because Python has multiple inheritance, you may also see something like this</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span> <span class="n">SomeAbstraction:</span>
    <span class="nb">pass</span>  <span class="c1"># lots of stuff - but missing something</span>

<span class="k">class</span> <span class="n">Mixin1:</span>
    <span class="n">def</span> <span class="n">something</span>(<span class="nb">self</span>):
        <span class="nb">pass</span>  <span class="c1"># one implementation</span>

<span class="k">class</span> <span class="n">Mixin2:</span>
    <span class="n">def</span> <span class="n">something</span>(<span class="nb">self</span>):
        <span class="nb">pass</span>  <span class="c1"># another</span>

<span class="k">class</span> <span class="n">Concrete1</span>(<span class="n">SomeAbstraction</span>, <span class="n">Mixin1</span>):
    <span class="nb">pass</span>

<span class="k">class</span> <span class="n">Concrete2</span>(<span class="n">SomeAbstraction</span>, <span class="n">Mixin2</span>):
    <span class="nb">pass</span>
</pre></div>

<p>This uses a kind of abstract superclass with mixins to create concrete
subclasses that are disjoint.</p>
<p><br></p>
<h3>Suggest</h3>
<blockquote>
<h2>What is the difference between abstract class and interface in Python?</h2>
</blockquote>
<p>An interface, for an object, is a set of methods and attributes on that
object.</p>
<p>In Python, we can use an abstract base class to define and enforce an
interface.</p>
<h3>Using an Abstract Base Class</h3>
<p>For example, say we want to use one of the abstract base classes from the
<code>collections</code> module:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">collections</span>
<span class="k">class</span> <span class="nc">MySet</span><span class="p">(</span><span class="n">collections</span><span class="o">.</span><span class="n">Set</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></div>

<p>If we try to use it, we get an <code>TypeError</code> because the class we created does
not support the expected behavior of sets:</p>
<div class="code"><pre class="code literal-block">&gt;&gt;&gt; MySet()
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
TypeError: Can't instantiate abstract class MySet with abstract methods
__contains__, __iter__, __len__
</pre></div>

<p>So we are required to implement at <em>least</em> <code>__contains__</code>, <code>__iter__</code>, and
<code>__len__</code>. Let's use this implementation example from the documentation:</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span> <span class="n">ListBasedSet</span>(<span class="n">collections</span>.<span class="nb">Set</span>):
    <span class="s">"""Alternate set implementation favoring space over speed</span>
<span class="s">    and not requiring the set elements to be hashable. </span>
<span class="s">    """</span>
    <span class="n">def</span> <span class="n">__init__</span>(<span class="nb">self</span>, <span class="n">iterable</span>):
        <span class="nb">self</span>.<span class="n">elements</span> = <span class="n">lst</span> = []
        <span class="k">for</span> <span class="nb">value</span> <span class="nb">in</span> <span class="n">iterable:</span>
            <span class="k">if</span> <span class="nb">value</span> <span class="nb">not</span> <span class="nb">in</span> <span class="n">lst:</span>
                <span class="n">lst</span>.<span class="nb">append</span>(<span class="nb">value</span>)
    <span class="n">def</span> <span class="n">__iter__</span>(<span class="nb">self</span>):
        <span class="k">return</span> <span class="n">iter</span>(<span class="nb">self</span>.<span class="n">elements</span>)
    <span class="n">def</span> <span class="n">__contains__</span>(<span class="nb">self</span>, <span class="nb">value</span>):
        <span class="k">return</span> <span class="nb">value</span> <span class="nb">in</span> <span class="nb">self</span>.<span class="n">elements</span>
    <span class="n">def</span> <span class="n">__len__</span>(<span class="nb">self</span>):
        <span class="k">return</span> <span class="n">len</span>(<span class="nb">self</span>.<span class="n">elements</span>)

<span class="n">s1</span> = <span class="n">ListBasedSet</span>(<span class="s">'abcdef'</span>)
<span class="n">s2</span> = <span class="n">ListBasedSet</span>(<span class="s">'defghi'</span>)
<span class="n">overlap</span> = <span class="n">s1</span> &amp; <span class="n">s2</span>
</pre></div>

<h3>Implementation: Creating an Abstract Base Class</h3>
<p>We can create our own Abstract Base Class by setting the metaclass to
<code>abc.ABCMeta</code> and using the <code>abc.abstractmethod</code> decorator on relevant
methods. The metaclass will be add the decorated functions to the
<code>__abstractmethods__</code> attribute, preventing instantiation until those are
defined.</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">abc</span>
</pre></div>

<p>For example, "effable" is defined as something that can be expressed in words.
Say we wanted to define an abstract base class that is effable, in Python 2:</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span><span class="w"> </span><span class="n">Effable</span><span class="p">(</span><span class="k">object</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">__metaclass__</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">abc</span><span class="p">.</span><span class="n">ABCMeta</span>
<span class="w">    </span><span class="nv">@abc</span><span class="p">.</span><span class="n">abstractmethod</span>
<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">__str__</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">raise</span><span class="w"> </span><span class="n">NotImplementedError</span><span class="p">(</span><span class="s1">'users must define __str__ to use this base class'</span><span class="p">)</span>
</pre></div>

<p>Or in Python 3, with the slight change in metaclass declaration:</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span><span class="w"> </span><span class="n">Effable</span><span class="p">(</span><span class="k">object</span><span class="p">,</span><span class="w"> </span><span class="n">metaclass</span><span class="o">=</span><span class="n">abc</span><span class="p">.</span><span class="n">ABCMeta</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="nv">@abc</span><span class="p">.</span><span class="n">abstractmethod</span>
<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">__str__</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="n">raise</span><span class="w"> </span><span class="n">NotImplementedError</span><span class="p">(</span><span class="s1">'users must define __str__ to use this base class'</span><span class="p">)</span>
</pre></div>

<p>Now if we try to create an effable object without implementing the interface:</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span> <span class="n">MyEffable</span>(<span class="n">Effable</span>): 
    <span class="nb">pass</span>
</pre></div>

<p>and attempt to instantiate it:</p>
<div class="code"><pre class="code literal-block">&gt;&gt;&gt; MyEffable()
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
TypeError: Can't instantiate abstract class MyEffable with abstract methods __str__
</pre></div>

<p>We are told that we haven't finished the job.</p>
<p>Now if we comply by providing the expected interface:</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span> <span class="n">MyEffable</span>(<span class="n">Effable</span>): 
    <span class="n">def</span> <span class="n">__str__</span>(<span class="nb">self</span>):
        <span class="k">return</span> <span class="s">'expressable!'</span>
</pre></div>

<p>we are then able to use the concrete version of the class derived from the
abstract one:</p>
<div class="code"><pre class="code literal-block">&gt;&gt;&gt; me = MyEffable()
&gt;&gt;&gt; print(me)
expressable!
</pre></div>

<p>There are other things we could do with this, like register virtual subclasses
that already implement these interfaces, but I think that is beyond the scope
of this question. The other methods demonstrated here would have to adapt this
method using the <code>abc</code> module to do so, however.</p>
<h3>Conclusion</h3>
<p>We have demonstrated that the creation of an Abstract Base Class defines
interfaces for custom objects in Python.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/undo-git-update-index-assume-unchanged-file/" class="u-url">Undo git update-index --assume-unchanged &lt;file&gt;</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/undo-git-update-index-assume-unchanged-file/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T22:12:51+08:00" itemprop="datePublished" title="2023-02-17 22:12">2023-02-17 22:12</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have run the following command to ignore watching/tracking a particular
directory/file:</p>
<div class="code"><pre class="code literal-block">git update-index --assume-unchanged &lt;file&gt;
</pre></div>

<p>How can I undo this, so that <code>&lt;file&gt;</code> is watched/tracked again?</p>
<p><br><br></p>
<h2>Answer</h2>
<p><strong>To get undo/show dir's/files that are set to assume-unchanged run this</strong> :</p>
<div class="code"><pre class="code literal-block">git update-index --no-assume-unchanged &lt;file&gt;
</pre></div>

<p><strong>To get a list of dir's/files that are<code>assume-unchanged</code> run this</strong>:</p>
<div class="code"><pre class="code literal-block">git ls-files -v|grep '^h'
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>If this is a command that you use often - you may want to consider having an
alias for it as well. Add to your global <code>.gitconfig</code>:</p>
<div class="code"><pre class="code literal-block"><span class="k">[alias]</span>
<span class="w">    </span><span class="na">hide</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">update-index --assume-unchanged</span>
<span class="w">    </span><span class="na">unhide</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">update-index --no-assume-unchanged</span>
</pre></div>

<p><strong>How to set an alias (if you don't know already):</strong></p>
<div class="code"><pre class="code literal-block">git config --configLocation alias.aliasName 'command --options'
</pre></div>

<p>Example:</p>
<div class="code"><pre class="code literal-block">git config --global alias.hide 'update-index --assume-unchanged'
git config... etc
</pre></div>

<p><strong>After saving this to your<code>.gitconfig</code>, you can run a cleaner command.</strong></p>
<div class="code"><pre class="code literal-block">git hide myfile.ext
</pre></div>

<p>or</p>
<div class="code"><pre class="code literal-block">git unhide myfile.ext
</pre></div>

<p>This git documentation was very helpful.</p>
<p>As per the comments, this is also a helpful alias to find out <em>what files</em> are
currently being hidden:</p>
<div class="code"><pre class="code literal-block"><span class="k">[alias]</span>
<span class="w">    </span><span class="na">hidden</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">! git ls-files -v | grep '^h' | cut -c3-</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1004.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1002.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

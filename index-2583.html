<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2583) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2583.html">
<link rel="prev" href="index-2584.html" type="text/html">
<link rel="next" href="index-2582.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/is-there-a-python-equivalent-to-ruby-s-string-interpolation/" class="u-url">Is there a Python equivalent to Ruby's string interpolation?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/is-there-a-python-equivalent-to-ruby-s-string-interpolation/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T02:44:57+08:00" itemprop="datePublished" title="2023-03-05 02:44">2023-03-05 02:44</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Ruby example:</p>
<div class="code"><pre class="code literal-block">name = "Spongebob Squarepants"
puts "Who lives in a Pineapple under the sea? \n#{name}."
</pre></div>

<p>The successful Python string concatenation is seemingly verbose to me.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Python 3.6 will add literal string interpolation similar to Ruby's string
interpolation. Starting with that version of Python (which is scheduled to be
released by the end of 2016), you will be able to include expressions in
"f-strings", e.g.</p>
<div class="code"><pre class="code literal-block">name = "Spongebob Squarepants"
print(f"Who lives in a Pineapple under the sea? {name}.")
</pre></div>

<p>Prior to 3.6, the closest you can get to this is</p>
<div class="code"><pre class="code literal-block">name = "Spongebob Squarepants"
print("Who lives in a Pineapple under the sea? %(name)s." % locals())
</pre></div>

<p>The <code>%</code> operator can be used for string interpolation in Python. The first
operand is the string to be interpolated, the second can have different types
including a "mapping", mapping field names to the values to be interpolated.
Here I used the dictionary of local variables <code>locals()</code> to map the field name
<code>name</code> to its value as a local variable.</p>
<p>The same code using the <code>.format()</code> method of recent Python versions would
look like this:</p>
<div class="code"><pre class="code literal-block">name = "Spongebob Squarepants"
print("Who lives in a Pineapple under the sea? {name!s}.".format(**locals()))
</pre></div>

<p>There is also the <code>string.Template</code> class:</p>
<div class="code"><pre class="code literal-block">tmpl = string.Template("Who lives in a Pineapple under the sea? $name.")
print(tmpl.substitute(name="Spongebob Squarepants"))
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Since Python 2.6.X you might want to use:</p>
<div class="code"><pre class="code literal-block">"my {0} string: {1}".format("cool", "Hello there!")
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/print-commit-message-of-a-given-commit-in-git/" class="u-url">Print commit message of a given commit in git</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/print-commit-message-of-a-given-commit-in-git/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T02:43:35+08:00" itemprop="datePublished" title="2023-03-05 02:43">2023-03-05 02:43</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I need a plumbing command to print the commit message of one given commit -
nothing more, nothing less.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>It's not "plumbing", but it'll do exactly what you want:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>git<span class="w"> </span>log<span class="w"> </span>--format<span class="o">=</span>%B<span class="w"> </span>-n<span class="w"> </span><span class="m">1</span><span class="w"> </span>&lt;commit&gt;
</pre></div>

<p>If you absolutely need a "plumbing" command (not sure why that's a
requirement), you can use <code>rev-list</code>:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>git<span class="w"> </span>rev-list<span class="w"> </span>--format<span class="o">=</span>%B<span class="w"> </span>--max-count<span class="o">=</span><span class="m">1</span><span class="w"> </span>&lt;commit&gt;
</pre></div>

<p>Although <code>rev-list</code> will also print out the commit sha (on the first line) in
addition to the commit message.</p>
<p><br></p>
<h3>Suggest</h3>
<p><code>git show</code> is more a plumbing command than <code>git log</code>, and has the same
formatting options:</p>
<div class="code"><pre class="code literal-block"><span class="nv">git</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="o">-</span><span class="nv">s</span><span class="w"> </span><span class="o">--</span><span class="nv">format</span><span class="o">=%</span><span class="nv">B</span><span class="w"> </span><span class="nv">SHA1</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-print-the-type-or-class-of-a-variable-in-swift/" class="u-url">How do I print the type or class of a variable in Swift?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-print-the-type-or-class-of-a-variable-in-swift/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T02:42:01+08:00" itemprop="datePublished" title="2023-03-05 02:42">2023-03-05 02:42</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is there a way to print the runtime type of a variable in swift? For example:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NSDate</span><span class="p">()</span>
<span class="k">var</span><span class="w"> </span><span class="n">soon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">now</span><span class="o">.</span><span class="n">dateByAddingTimeInterval</span><span class="p">(</span><span class="mf">5.0</span><span class="p">)</span>

<span class="n">println</span><span class="p">(</span><span class="s2">"\(now.dynamicType)"</span><span class="p">)</span><span class="w"> </span>
<span class="o">//</span><span class="w"> </span><span class="n">Prints</span><span class="w"> </span><span class="s2">"(Metatype)"</span>

<span class="n">println</span><span class="p">(</span><span class="s2">"\(now.dynamicType.description()"</span><span class="p">)</span>
<span class="o">//</span><span class="w"> </span><span class="n">Prints</span><span class="w"> </span><span class="s2">"__NSDate"</span><span class="w"> </span><span class="n">since</span><span class="w"> </span><span class="n">objective</span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="n">Class</span><span class="w"> </span><span class="n">objects</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s2">"description"</span><span class="w"> </span><span class="n">selector</span>

<span class="n">println</span><span class="p">(</span><span class="s2">"\(soon.dynamicType.description()"</span><span class="p">)</span>
<span class="o">//</span><span class="w"> </span><span class="n">Compile</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">since</span><span class="w"> </span><span class="n">ImplicitlyUnwrappedOptional</span><span class="o">&lt;</span><span class="n">NSDate</span><span class="o">&gt;</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="s2">"description"</span><span class="w"> </span><span class="n">method</span>
</pre></div>

<p>In the example above, I'm looking for a way to show that the variable "soon"
is of type <code>ImplicitlyUnwrappedOptional&lt;NSDate&gt;</code>, or at least <code>NSDate!</code>.</p>
<p><br><br></p>
<h2>Answer</h2>
<p><strong>Update September 2016</strong></p>
<p>Swift 3.0: Use <code>type(of:)</code>, e.g. <code>type(of: someThing)</code> (since the
<code>dynamicType</code> keyword has been removed)</p>
<p><strong>Update October 2015</strong> :</p>
<p>I updated the examples below to the new Swift 2.0 syntax (e.g. <code>println</code> was
replaced with <code>print</code>, <code>toString()</code> is now <code>String()</code>).</p>
<p><strong>From the Xcode 6.3 release notes</strong> :</p>
<p>@nschum points out in the comments that the Xcode 6.3 release notes show
another way:</p>
<blockquote>
<p>Type values now print as the full demangled type name when used with println
or string interpolation.</p>
</blockquote>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">Foundation</span>

<span class="k">class</span> <span class="nc">PureSwiftClass</span> <span class="p">{</span> <span class="p">}</span>

<span class="n">var</span> <span class="n">myvar0</span> <span class="o">=</span> <span class="n">NSString</span><span class="p">()</span> <span class="o">//</span> <span class="n">Objective</span><span class="o">-</span><span class="n">C</span> <span class="k">class</span>
<span class="nc">var</span> <span class="n">myvar1</span> <span class="o">=</span> <span class="n">PureSwiftClass</span><span class="p">()</span>
<span class="n">var</span> <span class="n">myvar2</span> <span class="o">=</span> <span class="mi">42</span>
<span class="n">var</span> <span class="n">myvar3</span> <span class="o">=</span> <span class="s2">"Hans"</span>

<span class="nb">print</span><span class="p">(</span> <span class="s2">"String(myvar0.dynamicType) -&gt; \(myvar0.dynamicType)"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span> <span class="s2">"String(myvar1.dynamicType) -&gt; \(myvar1.dynamicType)"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span> <span class="s2">"String(myvar2.dynamicType) -&gt; \(myvar2.dynamicType)"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span> <span class="s2">"String(myvar3.dynamicType) -&gt; \(myvar3.dynamicType)"</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span> <span class="s2">"String(Int.self)           -&gt; \(Int.self)"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span> <span class="s2">"String((Int?).self         -&gt; \((Int?).self)"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span> <span class="s2">"String(NSString.self)      -&gt; \(NSString.self)"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span> <span class="s2">"String(Array&lt;String&gt;.self) -&gt; \(Array&lt;String&gt;.self)"</span><span class="p">)</span>
</pre></div>

<p>Which outputs:</p>
<div class="code"><pre class="code literal-block"><span class="nb nb-Type">String</span><span class="p">(</span><span class="n">myvar0</span><span class="o">.</span><span class="n">dynamicType</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">__NSCFConstantString</span>
<span class="nb nb-Type">String</span><span class="p">(</span><span class="n">myvar1</span><span class="o">.</span><span class="n">dynamicType</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">PureSwiftClass</span>
<span class="nb nb-Type">String</span><span class="p">(</span><span class="n">myvar2</span><span class="o">.</span><span class="n">dynamicType</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Int</span>
<span class="nb nb-Type">String</span><span class="p">(</span><span class="n">myvar3</span><span class="o">.</span><span class="n">dynamicType</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nb nb-Type">String</span>
<span class="nb nb-Type">String</span><span class="p">(</span><span class="n">Int</span><span class="o">.</span><span class="n">self</span><span class="p">)</span><span class="w">           </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Int</span>
<span class="nb nb-Type">String</span><span class="p">((</span><span class="n">Int</span><span class="err">?</span><span class="p">)</span><span class="o">.</span><span class="n">self</span><span class="w">         </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">Int</span><span class="o">&gt;</span>
<span class="nb nb-Type">String</span><span class="p">(</span><span class="n">NSString</span><span class="o">.</span><span class="n">self</span><span class="p">)</span><span class="w">      </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">NSString</span>
<span class="nb nb-Type">String</span><span class="p">(</span><span class="nb nb-Type">Array</span><span class="o">&lt;</span><span class="nb nb-Type">String</span><span class="o">&gt;.</span><span class="n">self</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nb nb-Type">Array</span><span class="o">&lt;</span><span class="nb nb-Type">String</span><span class="o">&gt;</span>
</pre></div>

<p><strong>Update for Xcode 6.3:</strong></p>
<p>You can use the <code>_stdlib_getDemangledTypeName()</code>:</p>
<div class="code"><pre class="code literal-block"><span class="nb">print</span><span class="p">(</span><span class="w"> </span><span class="s2">"TypeName0 = \(_stdlib_getDemangledTypeName(myvar0))"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="w"> </span><span class="s2">"TypeName1 = \(_stdlib_getDemangledTypeName(myvar1))"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="w"> </span><span class="s2">"TypeName2 = \(_stdlib_getDemangledTypeName(myvar2))"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="w"> </span><span class="s2">"TypeName3 = \(_stdlib_getDemangledTypeName(myvar3))"</span><span class="p">)</span>
</pre></div>

<p>and get this as output:</p>
<div class="code"><pre class="code literal-block">TypeName0 = NSString
TypeName1 = __lldb_expr_26.PureSwiftClass
TypeName2 = Swift.Int
TypeName3 = Swift.String
</pre></div>

<p><em>Original answer:</em></p>
<p>Prior to Xcode 6.3 <code>_stdlib_getTypeName</code> got the mangled type name of a
variable. Ewan Swick's blog entry helps to decipher these strings:</p>
<p>e.g. <code>_TtSi</code> stands for Swift's internal <code>Int</code> type.</p>
<p>Mike Ash has a great blog entry covering the same topic.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Edit: <strong>A new<code>toString</code> function has been introduced in Swift 1.2 (Xcode
6.3).</strong></p>
<p>You can now print the demangled type of any type using <code>.self</code> and any
instance using <code>.dynamicType</code>:</p>
<div class="code"><pre class="code literal-block">struct Box&lt;T&gt; {}

toString("foo".dynamicType)            // Swift.String
toString([1, 23, 456].dynamicType)     // Swift.Array&lt;Swift.Int&gt;
toString((7 as NSNumber).dynamicType)  // __NSCFNumber

toString((Bool?).self)                 // Swift.Optional&lt;Swift.Bool&gt;
toString(Box&lt;SinkOf&lt;Character&gt;&gt;.self)  // __lldb_expr_1.Box&lt;Swift.SinkOf&lt;Swift.Character&gt;&gt;
toString(NSStream.self)                // NSStream
</pre></div>

<hr>
<p>Try calling <code>YourClass.self</code> and <code>yourObject.dynamicType</code>.</p>
<p>Reference: https://devforums.apple.com/thread/227425.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2584.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2582.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

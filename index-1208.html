<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1208) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1208.html">
<link rel="prev" href="index-1209.html" type="text/html">
<link rel="next" href="index-1207.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/ru-he-shi-yong-pip-geng-xin-sheng-ji-bao/" class="u-url">如何使用 pip 更新/升级包？</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/ru-he-shi-yong-pip-geng-xin-sheng-ji-bao/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T04:04:38+08:00" itemprop="datePublished" title="2023-02-18 04:04">2023-02-18 04:04</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>使用pip更新包的方法是什么？那些不起作用：</p>
<div class="code"><pre class="code literal-block">pip update
pip upgrade
</pre></div>

<p>我知道这是一个简单的问题，但它是必需的，因为它不是那么容易找到（pip文档不会弹出，堆栈溢出的其他问题是相关的，但不完全是关于那个）</p>
<p><br><br></p>
<h2>解答</h2>
<p>办法是</p>
<div class="code"><pre class="code literal-block">pip install &lt;package_name&gt; --upgrade
</pre></div>

<p>或简而言之</p>
<div class="code"><pre class="code literal-block">pip install &lt;package_name&gt; -U
</pre></div>

<p>使用<code>sudo</code>将要求输入您的 root 密码以确认操作，但虽然很常见，但被认为是不安全的。</p>
<p>如果您没有 root 密码（如果您不是管理员），您可能应该使用virtualenv。</p>
<p>您还可以使用用户标志仅将其安装在此用户上。</p>
<div class="code"><pre class="code literal-block">pip install &lt;package_name&gt; --upgrade --user
</pre></div>

<p><br></p>
<h3>更多建议</h3>
<p>对于非特定包和更通用的解决方案，您可以查看pip-review。检查哪些包可以/应该更新的工具。</p>
<p>安装：</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>pip-review
</pre></div>

<p>然后运行：</p>
<div class="code"><pre class="code literal-block"><span class="err">$</span><span class="w"> </span><span class="n">pip</span><span class="o">-</span><span class="n">review</span><span class="w"> </span><span class="o">--</span><span class="n">interactive</span>
<span class="n">requests</span><span class="o">==</span><span class="mf">0.14.0</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="p">(</span><span class="n">you</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="mf">0.13.2</span><span class="p">)</span>
<span class="n">Upgrade</span><span class="w"> </span><span class="n">now</span><span class="vm">?</span><span class="w"> </span><span class="o">[</span><span class="n">Y</span><span class="o">]</span><span class="n">es</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">N</span><span class="o">]</span><span class="n">o</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">A</span><span class="o">]</span><span class="n">ll</span><span class="p">,</span><span class="w"> </span><span class="o">[</span><span class="n">Q</span><span class="o">]</span><span class="n">uit</span><span class="w"> </span><span class="n">y</span>
</pre></div>

<p><br><br><a href="posts/how-to-update-upgrade-a-package-using-pip/">查看原文</a></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/git-cha-kan-wo-de-zui-hou-yi-ci-ti-jiao/" class="u-url">Git：查看我的最后一次提交</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/git-cha-kan-wo-de-zui-hou-yi-ci-ti-jiao/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T04:04:15+08:00" itemprop="datePublished" title="2023-02-18 04:04">2023-02-18 04:04</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>我只想查看上次提交时提交的文件，就像我在列表中看到的一样<code>git commit</code>。不幸的是寻找</p>
<div class="code"><pre class="code literal-block">git "last commit" log
</pre></div>

<p>在谷歌让我无处可去。和</p>
<div class="code"><pre class="code literal-block">git diff HEAD^..HEAD
</pre></div>

<p>当然，这不是我需要的，因为它也吐出了变化的内脏。</p>
<p><br><br></p>
<h2>解答</h2>
<p>根据评论确定，OP 似乎正在寻找</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>git<span class="w"> </span>log<span class="w"> </span>--name-status<span class="w"> </span>HEAD^..HEAD
</pre></div>

<p><code>svn status</code>这也非常接近您从or获得的输出<code>svn log -v</code>，许多从 subversion 到 git 的人都熟悉它。</p>
<p><code>--name-status</code>是这里的关键；正如其他人在这个问题中指出的那样，您可以使用<code>git log -1</code>, <code>git show</code>, 和<code>git
diff</code>来获得相同类型的输出。就个人而言，我倾向于<code>git show &lt;rev&gt;</code>在查看个别修订时使用。</p>
<p><br></p>
<h3>更多建议</h3>
<p>使用混帐显示：</p>
<div class="code"><pre class="code literal-block"><span class="nv">git</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="o">--</span><span class="nv">summary</span>
</pre></div>

<p>这将显示已创建或已删除文件的名称，但不会显示 <em>已更改</em> 文件的名称。该<code>git show</code>命令支持多种输出格式，显示有关提交的各种类型的信息。</p>
<p><br><br><a href="posts/git-see-my-last-commit/">查看原文</a></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/yuan-su-yin-shi-ju-you-ren-he-lei-xing-yin-wei-zi-fu-chuan-lei-xing-de-biao-da-shi-bu-neng-yong-yu-suo-yin/" class="u-url">元素隐式具有“任何”类型，因为“字符串”类型的表达式不能用于索引</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/yuan-su-yin-shi-ju-you-ren-he-lei-xing-yin-wei-zi-fu-chuan-lei-xing-de-biao-da-shi-bu-neng-yong-yu-suo-yin/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T04:03:50+08:00" itemprop="datePublished" title="2023-02-18 04:03">2023-02-18 04:03</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>在 React 项目中尝试使用 TypeScript，我遇到了这个错误：</p>
<div class="code"><pre class="code literal-block"><span class="nt">Element</span><span class="w"> </span><span class="nt">implicitly</span><span class="w"> </span><span class="nt">has</span><span class="w"> </span><span class="nt">an</span><span class="w"> </span><span class="s1">'any'</span><span class="w"> </span><span class="nt">type</span><span class="w"> </span><span class="nt">because</span><span class="w"> </span><span class="nt">expression</span><span class="w"> </span><span class="nt">of</span><span class="w"> </span><span class="nt">type</span><span class="w"> </span><span class="s1">'string'</span><span class="w"> </span><span class="nt">can</span><span class="s1">'t be used to index type '</span><span class="p">{</span><span class="w"> </span><span class="n">train_1</span><span class="p">:</span><span class="w"> </span><span class="n">boolean</span><span class="p">;</span><span class="w"> </span><span class="n">train_2</span><span class="p">:</span><span class="w"> </span><span class="n">boolean</span><span class="p">;</span><span class="w"> </span><span class="n">train_3</span><span class="p">:</span><span class="w"> </span><span class="n">boolean</span><span class="p">;</span><span class="w"> </span><span class="n">train_4</span><span class="p">:</span><span class="w"> </span><span class="n">boolean</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="s1">'.</span>
<span class="s1">  No index signature with a parameter of type '</span><span class="nt">string</span><span class="s1">' was found on type '</span><span class="p">{</span><span class="w"> </span><span class="n">train_1</span><span class="p">:</span><span class="w"> </span><span class="n">boolean</span><span class="p">;</span><span class="w"> </span><span class="n">train_2</span><span class="p">:</span><span class="w"> </span><span class="n">boolean</span><span class="p">;</span><span class="w"> </span><span class="n">train_3</span><span class="p">:</span><span class="w"> </span><span class="n">boolean</span><span class="p">;</span><span class="w"> </span><span class="n">train_4</span><span class="p">:</span><span class="w"> </span><span class="n">boolean</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="err">'</span>
</pre></div>

<p>当我尝试过滤组件中的数组时出现</p>
<div class="code"><pre class="code literal-block"><span class="p">.</span><span class="k">filter</span><span class="p">((</span><span class="err">{</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="err">}</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">plotOptions</span><span class="o">[</span><span class="n">name</span><span class="o">]</span><span class="p">);</span>
</pre></div>

<p>到目前为止，我看了文章“Indexing objects in TypeScript”（https://dev.to/kingdaro/indexing-
objects-in-typescript-1cgi），因为它有类似的错误，但我试图将索引签名添加到类型<code>plotTypes</code>，我仍然得到同样的错误。</p>
<p>我的组件代码：</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">React</span><span class="o">,</span> <span class="p">{</span> <span class="n">Component</span> <span class="p">}</span> <span class="kn">from</span> <span class="s2">"react"</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">createPlotlyComponent</span> <span class="kn">from</span> <span class="s2">"react-plotly.js/factory"</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">Plotly</span> <span class="kn">from</span> <span class="s2">"plotly.js-basic-dist"</span><span class="p">;</span>
<span class="n">const</span> <span class="n">Plot</span> <span class="o">=</span> <span class="n">createPlotlyComponent</span><span class="p">(</span><span class="n">Plotly</span><span class="p">);</span>

<span class="n">interface</span> <span class="n">IProps</span> <span class="p">{</span>
  <span class="n">data</span><span class="p">:</span> <span class="nb">any</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">interface</span> <span class="n">IState</span> <span class="p">{</span>
  <span class="p">[</span><span class="n">key</span><span class="p">:</span> <span class="n">string</span><span class="p">]:</span> <span class="n">plotTypes</span><span class="p">;</span>
  <span class="n">plotOptions</span><span class="p">:</span> <span class="n">plotTypes</span><span class="p">;</span>
<span class="p">}</span>

<span class="nb">type</span> <span class="n">plotTypes</span> <span class="o">=</span> <span class="p">{</span>
  <span class="p">[</span><span class="n">key</span><span class="p">:</span> <span class="n">string</span><span class="p">]:</span> <span class="n">boolean</span><span class="p">;</span>
  <span class="n">train_1</span><span class="p">:</span> <span class="n">boolean</span><span class="p">;</span>
  <span class="n">train_2</span><span class="p">:</span> <span class="n">boolean</span><span class="p">;</span>
  <span class="n">train_3</span><span class="p">:</span> <span class="n">boolean</span><span class="p">;</span>
  <span class="n">train_4</span><span class="p">:</span> <span class="n">boolean</span><span class="p">;</span>
<span class="p">};</span>

<span class="n">interface</span> <span class="n">trainInfo</span> <span class="p">{</span>
  <span class="n">name</span><span class="p">:</span> <span class="n">string</span><span class="p">;</span>
  <span class="n">x</span><span class="p">:</span> <span class="n">Array</span><span class="o">&lt;</span><span class="n">number</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="n">y</span><span class="p">:</span> <span class="n">Array</span><span class="o">&lt;</span><span class="n">number</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nb">type</span><span class="p">:</span> <span class="n">string</span><span class="p">;</span>
  <span class="n">mode</span><span class="p">:</span> <span class="n">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">FiltrationPlots</span> <span class="n">extends</span> <span class="n">Component</span><span class="o">&lt;</span><span class="n">IProps</span><span class="p">,</span> <span class="n">IState</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="n">readonly</span> <span class="n">state</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">plotOptions</span><span class="p">:</span> <span class="p">{</span>
      <span class="n">train_1</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
      <span class="n">train_2</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
      <span class="n">train_3</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
      <span class="n">train_4</span><span class="p">:</span> <span class="n">true</span>
    <span class="p">}</span>
  <span class="p">};</span>
  <span class="n">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">const</span> <span class="p">{</span> <span class="n">data</span> <span class="p">}</span> <span class="o">=</span> <span class="n">this</span><span class="o">.</span><span class="n">props</span><span class="p">;</span>
    <span class="n">const</span> <span class="p">{</span> <span class="n">plotOptions</span> <span class="p">}</span> <span class="o">=</span> <span class="n">this</span><span class="o">.</span><span class="n">state</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">filtrationData</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">const</span> <span class="n">plotData</span><span class="p">:</span> <span class="n">Array</span><span class="o">&lt;</span><span class="n">trainInfo</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="n">name</span><span class="p">:</span> <span class="s2">"train_1"</span><span class="p">,</span>
          <span class="n">x</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="n">filtrationData</span><span class="o">.</span><span class="n">map</span><span class="p">((</span><span class="n">i</span><span class="p">:</span> <span class="nb">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">i</span><span class="p">[</span><span class="s2">"1-CumVol"</span><span class="p">]),</span>
          <span class="n">y</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="n">filtrationData</span><span class="o">.</span><span class="n">map</span><span class="p">((</span><span class="n">i</span><span class="p">:</span> <span class="nb">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">i</span><span class="p">[</span><span class="s2">"1-PressureA"</span><span class="p">]),</span>
          <span class="nb">type</span><span class="p">:</span> <span class="s2">"scatter"</span><span class="p">,</span>
          <span class="n">mode</span><span class="p">:</span> <span class="s2">"lines"</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="n">name</span><span class="p">:</span> <span class="s2">"train_2"</span><span class="p">,</span>
          <span class="n">x</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="n">filtrationData</span><span class="o">.</span><span class="n">map</span><span class="p">((</span><span class="n">i</span><span class="p">:</span> <span class="nb">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">i</span><span class="p">[</span><span class="s2">"2-CumVol"</span><span class="p">]),</span>
          <span class="n">y</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="n">filtrationData</span><span class="o">.</span><span class="n">map</span><span class="p">((</span><span class="n">i</span><span class="p">:</span> <span class="nb">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">i</span><span class="p">[</span><span class="s2">"2-PressureA"</span><span class="p">]),</span>
          <span class="nb">type</span><span class="p">:</span> <span class="s2">"scatter"</span><span class="p">,</span>
          <span class="n">mode</span><span class="p">:</span> <span class="s2">"lines"</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="n">name</span><span class="p">:</span> <span class="s2">"train_3"</span><span class="p">,</span>
          <span class="n">x</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="n">filtrationData</span><span class="o">.</span><span class="n">map</span><span class="p">((</span><span class="n">i</span><span class="p">:</span> <span class="nb">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">i</span><span class="p">[</span><span class="s2">"3-CumVol"</span><span class="p">]),</span>
          <span class="n">y</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="n">filtrationData</span><span class="o">.</span><span class="n">map</span><span class="p">((</span><span class="n">i</span><span class="p">:</span> <span class="nb">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">i</span><span class="p">[</span><span class="s2">"3-PressureA"</span><span class="p">]),</span>
          <span class="nb">type</span><span class="p">:</span> <span class="s2">"scatter"</span><span class="p">,</span>
          <span class="n">mode</span><span class="p">:</span> <span class="s2">"lines"</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="n">name</span><span class="p">:</span> <span class="s2">"train_4"</span><span class="p">,</span>
          <span class="n">x</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="n">filtrationData</span><span class="o">.</span><span class="n">map</span><span class="p">((</span><span class="n">i</span><span class="p">:</span> <span class="nb">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">i</span><span class="p">[</span><span class="s2">"4-CumVol"</span><span class="p">]),</span>
          <span class="n">y</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="n">filtrationData</span><span class="o">.</span><span class="n">map</span><span class="p">((</span><span class="n">i</span><span class="p">:</span> <span class="nb">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">i</span><span class="p">[</span><span class="s2">"4-PressureA"</span><span class="p">]),</span>
          <span class="nb">type</span><span class="p">:</span> <span class="s2">"scatter"</span><span class="p">,</span>
          <span class="n">mode</span><span class="p">:</span> <span class="s2">"lines"</span>
        <span class="p">}</span>
      <span class="p">]</span><span class="o">.</span><span class="n">filter</span><span class="p">(({</span> <span class="n">name</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="n">plotOptions</span><span class="p">[</span><span class="n">name</span><span class="p">]);</span>
      <span class="k">return</span> <span class="p">(</span>
        <span class="o">&lt;</span><span class="n">Plot</span>
          <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="n">plotData</span><span class="p">}</span>
          <span class="n">layout</span><span class="o">=</span><span class="p">{{</span> <span class="n">width</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span> <span class="n">height</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span> <span class="n">title</span><span class="p">:</span> <span class="s2">"A Fancy Plot"</span> <span class="p">}}</span>
        <span class="o">/&gt;</span>
      <span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">return</span> <span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">No</span> <span class="n">Data</span> <span class="n">Loaded</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">FiltrationPlots</span><span class="p">;</span>
</pre></div>

<p><br><br></p>
<h2>解答</h2>
<p>发生这种情况是因为您尝试<code>plotOptions</code>使用 string 访问属性<code>name</code>。TypeScript
理解它<code>name</code>可能具有任何值，而不仅仅是来自<code>plotOptions</code>. 所以 TypeScript 需要在
中添加索引签名<code>plotOptions</code>，所以它知道你可以在<code>plotOptions</code>. 但我建议更改 type of
<code>name</code>，因此它只能是其中一个<code>plotOptions</code>属性。</p>
<div class="code"><pre class="code literal-block"><span class="nt">interface</span><span class="w"> </span><span class="nt">trainInfo</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="n">keyof</span><span class="w"> </span><span class="n">typeof</span><span class="w"> </span><span class="n">plotOptions</span><span class="p">;</span>
<span class="w">    </span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="n">Array</span><span class="o">&lt;</span><span class="n">number</span><span class="o">&gt;</span><span class="p">;</span>
<span class="w">    </span><span class="n">y</span><span class="p">:</span><span class="w"> </span><span class="n">Array</span><span class="o">&lt;</span><span class="n">number</span><span class="o">&gt;</span><span class="p">;</span>
<span class="w">    </span><span class="n">type</span><span class="p">:</span><span class="w"> </span><span class="n">string</span><span class="p">;</span>
<span class="w">    </span><span class="n">mode</span><span class="p">:</span><span class="w"> </span><span class="n">string</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>现在您将只能使用<code>plotOptions</code>.</p>
<p>您还必须稍微更改您的代码。</p>
<p>首先将数组分配给某个临时变量，以便 TS 知道数组类型：</p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="n">plotDataTemp</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">Array</span><span class="o">&lt;</span><span class="n">trainInfo</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s2">"train_1"</span><span class="p">,</span>
<span class="w">      </span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="n">data</span><span class="o">.</span><span class="n">filtrationData</span><span class="o">.</span><span class="n">map</span><span class="p">((</span><span class="n">i</span><span class="p">:</span><span class="w"> </span><span class="n">any</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">i</span><span class="p">[</span><span class="s2">"1-CumVol"</span><span class="p">]),</span>
<span class="w">      </span><span class="n">y</span><span class="p">:</span><span class="w"> </span><span class="n">data</span><span class="o">.</span><span class="n">filtrationData</span><span class="o">.</span><span class="n">map</span><span class="p">((</span><span class="n">i</span><span class="p">:</span><span class="w"> </span><span class="n">any</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">i</span><span class="p">[</span><span class="s2">"1-PressureA"</span><span class="p">]),</span>
<span class="w">      </span><span class="n">type</span><span class="p">:</span><span class="w"> </span><span class="s2">"scatter"</span><span class="p">,</span>
<span class="w">      </span><span class="n">mode</span><span class="p">:</span><span class="w"> </span><span class="s2">"lines"</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="o">...</span>
<span class="p">}</span>
</pre></div>

<p>然后过滤：</p>
<div class="code"><pre class="code literal-block"><span class="n">const</span><span class="w"> </span><span class="n">plotData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">plotDataTemp</span><span class="p">.</span><span class="k">filter</span><span class="p">((</span><span class="err">{</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="err">}</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">plotOptions</span><span class="o">[</span><span class="n">name</span><span class="o">]</span><span class="p">);</span>
</pre></div>

<p>如果您从 API 获取数据并且无法在编译时输入 check props，唯一的方法是将索引签名添加到您的<code>plotOptions</code>：</p>
<div class="code"><pre class="code literal-block"><span class="n">type</span><span class="w"> </span><span class="n">tplotOptions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">[</span><span class="n">key</span><span class="p">:</span><span class="w"> </span><span class="n">string</span><span class="p">]:</span><span class="w"> </span><span class="n">boolean</span>
<span class="p">}</span>

<span class="k">const</span><span class="w"> </span><span class="n">plotOptions</span><span class="p">:</span><span class="w"> </span><span class="n">tplotOptions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">train_1</span><span class="p">:</span><span class="w"> </span><span class="bp">true</span><span class="p">,</span>
<span class="w">    </span><span class="n">train_2</span><span class="p">:</span><span class="w"> </span><span class="bp">true</span><span class="p">,</span>
<span class="w">    </span><span class="n">train_3</span><span class="p">:</span><span class="w"> </span><span class="bp">true</span><span class="p">,</span>
<span class="w">    </span><span class="n">train_4</span><span class="p">:</span><span class="w"> </span><span class="bp">true</span>
<span class="p">}</span>
</pre></div>

<p><br></p>
<h3>更多建议</h3>
<p>发生这种情况是因为您尝试<code>plotOptions</code>使用 string 访问属性<code>name</code>。TypeScript
理解它<code>name</code>可能具有任何值，而不仅仅是来自<code>plotOptions</code>. 所以 TypeScript 需要在
中添加索引签名<code>plotOptions</code>，所以它知道你可以在<code>plotOptions</code>. 但我建议更改 type of
<code>name</code>，因此它只能是其中一个<code>plotOptions</code>属性。</p>
<div class="code"><pre class="code literal-block"><span class="nt">interface</span><span class="w"> </span><span class="nt">trainInfo</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="n">keyof</span><span class="w"> </span><span class="n">typeof</span><span class="w"> </span><span class="n">plotOptions</span><span class="p">;</span>
<span class="w">    </span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="n">Array</span><span class="o">&lt;</span><span class="n">number</span><span class="o">&gt;</span><span class="p">;</span>
<span class="w">    </span><span class="n">y</span><span class="p">:</span><span class="w"> </span><span class="n">Array</span><span class="o">&lt;</span><span class="n">number</span><span class="o">&gt;</span><span class="p">;</span>
<span class="w">    </span><span class="n">type</span><span class="p">:</span><span class="w"> </span><span class="n">string</span><span class="p">;</span>
<span class="w">    </span><span class="n">mode</span><span class="p">:</span><span class="w"> </span><span class="n">string</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>现在您将只能使用<code>plotOptions</code>.</p>
<p>您还必须稍微更改您的代码。</p>
<p>首先将数组分配给某个临时变量，以便 TS 知道数组类型：</p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="n">plotDataTemp</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">Array</span><span class="o">&lt;</span><span class="n">trainInfo</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s2">"train_1"</span><span class="p">,</span>
<span class="w">      </span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="n">data</span><span class="o">.</span><span class="n">filtrationData</span><span class="o">.</span><span class="n">map</span><span class="p">((</span><span class="n">i</span><span class="p">:</span><span class="w"> </span><span class="n">any</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">i</span><span class="p">[</span><span class="s2">"1-CumVol"</span><span class="p">]),</span>
<span class="w">      </span><span class="n">y</span><span class="p">:</span><span class="w"> </span><span class="n">data</span><span class="o">.</span><span class="n">filtrationData</span><span class="o">.</span><span class="n">map</span><span class="p">((</span><span class="n">i</span><span class="p">:</span><span class="w"> </span><span class="n">any</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">i</span><span class="p">[</span><span class="s2">"1-PressureA"</span><span class="p">]),</span>
<span class="w">      </span><span class="n">type</span><span class="p">:</span><span class="w"> </span><span class="s2">"scatter"</span><span class="p">,</span>
<span class="w">      </span><span class="n">mode</span><span class="p">:</span><span class="w"> </span><span class="s2">"lines"</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="o">...</span>
<span class="p">}</span>
</pre></div>

<p>然后过滤：</p>
<div class="code"><pre class="code literal-block"><span class="n">const</span><span class="w"> </span><span class="n">plotData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">plotDataTemp</span><span class="p">.</span><span class="k">filter</span><span class="p">((</span><span class="err">{</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="err">}</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">plotOptions</span><span class="o">[</span><span class="n">name</span><span class="o">]</span><span class="p">);</span>
</pre></div>

<p>如果您从 API 获取数据并且无法在编译时输入 check props，唯一的方法是将索引签名添加到您的<code>plotOptions</code>：</p>
<div class="code"><pre class="code literal-block"><span class="n">type</span><span class="w"> </span><span class="n">tplotOptions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">[</span><span class="n">key</span><span class="p">:</span><span class="w"> </span><span class="n">string</span><span class="p">]:</span><span class="w"> </span><span class="n">boolean</span>
<span class="p">}</span>

<span class="k">const</span><span class="w"> </span><span class="n">plotOptions</span><span class="p">:</span><span class="w"> </span><span class="n">tplotOptions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">train_1</span><span class="p">:</span><span class="w"> </span><span class="bp">true</span><span class="p">,</span>
<span class="w">    </span><span class="n">train_2</span><span class="p">:</span><span class="w"> </span><span class="bp">true</span><span class="p">,</span>
<span class="w">    </span><span class="n">train_3</span><span class="p">:</span><span class="w"> </span><span class="bp">true</span><span class="p">,</span>
<span class="w">    </span><span class="n">train_4</span><span class="p">:</span><span class="w"> </span><span class="bp">true</span>
<span class="p">}</span>
</pre></div>

<p><br><br><a href="posts/element-implicitly-has-an-any-type-because-expression-of-type-string-can-t-be-used-to-index/">查看原文</a></p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1209.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1207.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 282) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-282.html">
<link rel="prev" href="index-283.html" type="text/html">
<link rel="next" href="index-281.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/ru-he-zai-shell-jiao-ben-zhong-sheng-ming-he-shi-yong-bu-er-bian-liang/" class="u-url">如何在 shell 脚本中声明和使用布尔变量？</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/ru-he-zai-shell-jiao-ben-zhong-sheng-ming-he-shi-yong-bu-er-bian-liang/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T03:00:57+08:00" itemprop="datePublished" title="2023-02-17 03:00">2023-02-17 03:00</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>我尝试使用以下语法在 shell 脚本中声明一个布尔变量：</p>
<div class="code"><pre class="code literal-block"><span class="n">variable</span><span class="o">=$</span><span class="bp">false</span>

<span class="n">variable</span><span class="o">=$</span><span class="bp">true</span>
</pre></div>

<p>它是否正确？另外，如果我想更新那个变量，我会使用相同的语法吗？最后，以下使用布尔变量作为表达式的语法是否正确？</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="o">$</span><span class="n">variable</span><span class="w"> </span><span class="p">]</span>

<span class="k">if</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="o">!$</span><span class="n">variable</span><span class="w"> </span><span class="p">]</span>
</pre></div>

<p><br><br></p>
<h2>解答</h2>
<p><strong>修订后的答案（2014 年 2 月 12 日）</strong></p>
<div class="code"><pre class="code literal-block"><span class="nv">the_world_is_flat</span><span class="o">=</span><span class="nv">true</span>
#<span class="w"> </span>...<span class="k">do</span><span class="w"> </span><span class="nv">something</span><span class="w"> </span><span class="nv">interesting</span>...
<span class="k">if</span><span class="w"> </span>[<span class="w"> </span><span class="s2">"$the_world_is_flat"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">true</span><span class="w"> </span>]<span class="w"> </span><span class="c1">; then</span>
<span class="w">    </span><span class="nv">echo</span><span class="w"> </span><span class="s1">'Be careful not to fall off!'</span>
<span class="nv">fi</span>
</pre></div>

<hr>
<p><strong>原始答案</strong></p>
<p>注意事项：https://stackoverflow.com/a/21210966/89391</p>
<div class="code"><pre class="code literal-block"><span class="nv">the_world_is_flat</span><span class="o">=</span><span class="nv">true</span>
#<span class="w"> </span>...<span class="k">do</span><span class="w"> </span><span class="nv">something</span><span class="w"> </span><span class="nv">interesting</span>...
<span class="k">if</span><span class="w"> </span>$<span class="nv">the_world_is_flat</span><span class="w"> </span><span class="c1">; then</span>
<span class="w">    </span><span class="nv">echo</span><span class="w"> </span><span class="s1">'Be careful not to fall off!'</span>
<span class="nv">fi</span>
</pre></div>

<p>来自：在 Bash 中使用布尔变量</p>
<p><em>之所以把原答案放在这里是因为2014年2月12日修改前的评论只针对原答案，很多评论与修改后的答案相关联是错误的。 例如，Dennis
Williamson<code>true</code>在 2010 年 6 月 2 日对 bash builtin 的评论仅适用于原始答案，不适用于修订后的答案。</em></p>
<p><br></p>
<h3>更多建议</h3>
<h3>长话短说</h3>
<div class="code"><pre class="code literal-block"><span class="nv">my_bool</span><span class="o">=</span><span class="nv">true</span>

<span class="k">if</span><span class="w"> </span>[<span class="w"> </span><span class="s2">"$my_bool"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">true</span><span class="w"> </span>]
</pre></div>

<hr>
<h3>Miku（原始）答案的问题</h3>
<p>我不 <strong>推荐</strong> 接受的答案1。它的语法很漂亮，但也有一些缺陷。</p>
<p>假设我们有以下条件。</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="o">$</span><span class="k">var</span><span class="p">;</span><span class="w"> </span><span class="n">then</span>
<span class="w">  </span><span class="n">echo</span><span class="w"> </span><span class="s1">'Muahahaha!'</span>
<span class="n">fi</span>
</pre></div>

<p>在以下情况2中，此条件将评估为 <strong>真</strong> 并执行嵌套命令。</p>
<div class="code"><pre class="code literal-block"><span class="c1"># Variable var not defined beforehand. Case 1</span>
<span class="k">var</span><span class="o">=</span><span class="s1">''</span><span class="w">  </span><span class="c1"># Equivalent to var="".      # Case 2</span>
<span class="k">var</span><span class="o">=</span><span class="w">                                 </span><span class="c1"># Case 3</span>
<span class="n">unset</span><span class="w"> </span><span class="k">var</span><span class="w">                            </span><span class="c1"># Case 4</span>
<span class="k">var</span><span class="o">=</span><span class="s1">'&lt;some valid command&gt;'</span><span class="w">           </span><span class="c1"># Case 5</span>
</pre></div>

<p><code>var</code>通常，当您的“布尔”变量（在本例中）明确设置为真时，您只希望条件计算为真。所有其他情况都是危险的误导！</p>
<p>最后一种情况（#5）特别顽皮，因为它将执行变量中包含的命令（这就是为什么有效命令3、4的条件评估为 true 的原因）。</p>
<p>这是一个无害的例子：</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="o">=</span><span class="s1">'echo this text will be displayed when the condition is evaluated'</span>
<span class="k">if</span><span class="w"> </span><span class="o">$</span><span class="k">var</span><span class="p">;</span><span class="w"> </span><span class="n">then</span>
<span class="w">  </span><span class="n">echo</span><span class="w"> </span><span class="s1">'Muahahaha!'</span>
<span class="n">fi</span>

<span class="c1"># Outputs:</span>
<span class="c1"># this text will be displayed when the condition is evaluated</span>
<span class="c1"># Muahahaha!</span>
</pre></div>

<p>引用你的变量更安全，例如<code>if "$var"; then</code>。在上述情况下，您应该会收到一条警告，指出找不到该命令。但我们仍然可以做得更好（见底部我的建议）。</p>
<p>另请参阅 Mike Holt 对 Miku 原始答案的解释。</p>
<h3>Hbar 的回答有问题</h3>
<p>这种方法也有意想不到的行为。</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="o">=</span><span class="bp">false</span>
<span class="k">if</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="o">$</span><span class="k">var</span><span class="w"> </span><span class="p">];</span><span class="w"> </span><span class="n">then</span>
<span class="w">  </span><span class="n">echo</span><span class="w"> </span><span class="s2">"This won't print, var is false!"</span>
<span class="n">fi</span>

<span class="c1"># Outputs:</span>
<span class="c1"># This won't print, var is false!</span>
</pre></div>

<p>您会期望上述条件的计算结果为假，因此永远不会执行嵌套语句。惊喜！</p>
<p>引用值 ( <code>"false"</code>)、引用变量 ( <code>"$var"</code>) 或使用<code>test</code>or<code>[[</code>代替<code>[</code>，都没有区别。</p>
<h3>我推荐 <em>的是</em> ：</h3>
<p>以下是我建议您检查“布尔值”的方法。他们按预期工作。</p>
<div class="code"><pre class="code literal-block"><span class="nv">my_bool</span><span class="o">=</span><span class="nv">true</span>

<span class="k">if</span><span class="w"> </span>[<span class="w"> </span><span class="s2">"$my_bool"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">true</span><span class="w"> </span>]<span class="c1">; then</span>
<span class="k">if</span><span class="w"> </span>[<span class="w"> </span><span class="s2">"$my_bool"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"true"</span><span class="w"> </span>]<span class="c1">; then</span>

<span class="k">if</span><span class="w"> </span>[[<span class="w"> </span><span class="s2">"$my_bool"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">true</span><span class="w"> </span>]]<span class="c1">; then</span>
<span class="k">if</span><span class="w"> </span>[[<span class="w"> </span><span class="s2">"$my_bool"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"true"</span><span class="w"> </span>]]<span class="c1">; then</span>
<span class="k">if</span><span class="w"> </span>[[<span class="w"> </span><span class="s2">"$my_bool"</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">true</span><span class="w"> </span>]]<span class="c1">; then</span>
<span class="k">if</span><span class="w"> </span>[[<span class="w"> </span><span class="s2">"$my_bool"</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"true"</span><span class="w"> </span>]]<span class="c1">; then</span>

<span class="k">if</span><span class="w"> </span><span class="nv">test</span><span class="w"> </span><span class="s2">"$my_bool"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">true</span><span class="c1">; then</span>
<span class="k">if</span><span class="w"> </span><span class="nv">test</span><span class="w"> </span><span class="s2">"$my_bool"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"true"</span><span class="c1">; then</span>
</pre></div>

<p>它们几乎都是等价的。与其他答案5中的方法相比，您必须键入更多的击键，但您的代码将更具防御性。</p>
<hr>
<h4>脚注</h4>
<ol>
<li>Miku 的答案已经过编辑，不再包含（已知）缺陷。</li>
<li>不是详尽的清单。</li>
<li>此上下文中的有效命令表示存在的命令。命令使用正确或错误并不重要。<code>man woman</code>即使不存在这样的手册页，Eg仍将被视为有效命令。</li>
<li>对于无效的（不存在的）命令，Bash 只会抱怨找不到命令。</li>
<li>如果你在乎长度，第一个建议是最短的。</li>
</ol>
<p><br><br><a href="posts/how-can-i-declare-and-use-boolean-variables-in-a-shell-script/">查看原文</a></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/window-onload-yu-document-ready/" class="u-url">window.onload 与 $(document).ready()</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/window-onload-yu-document-ready/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T03:00:27+08:00" itemprop="datePublished" title="2023-02-17 03:00">2023-02-17 03:00</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p><code>window.onload</code>JavaScript和 jQuery 的方法有什么区别<code>$(document).ready()</code>？</p>
<p><br><br></p>
<h2>解答</h2>
<p>该<code>ready</code>事件在加载 HTML 文档之后发生，而该<code>onload</code>事件发生在稍后，当所有内容（例如图像）也已加载时。</p>
<p>事件<code>onload</code>是 DOM 中的标准事件，而<code>ready</code>事件是特定于 jQuery
的。该事件的目的<code>ready</code>是它应该在文档加载后尽早发生，这样向页面中的元素添加功能的代码就不必等待所有内容加载完毕。</p>
<p><br></p>
<h3>更多建议</h3>
<p><code>window.onload</code>是内置的 JavaScript 事件，但由于它的实现在浏览器（Firefox、Internet Explorer
6、Internet Explorer 8 和Opera）之间存在 <em>微妙的</em> 怪癖，jQuery 提供了，它将这些事件抽象出来，并在页面的 DOM
准备就绪时立即触发（不等待图像等）。<code>document.ready</code></p>
<p><code>$(document).ready</code>（注意它 <em>不是</em> <code>document.ready</code>，它是未定义的）是一个 jQuery 函数，包装并为以下事件提供
<em>一致性：</em></p>
<ul>
<li>
<code>DOMContentLoaded</code>- 加载文档的 DOM 时触发的新事件（可能在加载图像等 <em>之前的某个时间）；</em> 同样，在 Internet Explorer 和世界其他地方略有不同</li>
<li>和<code>window.onload</code>（甚至在旧浏览器中实现），当整个页面加载（图像、样式等）时触发</li>
</ul>
<p><br><br><a href="posts/window-onload-vs-document-ready/">查看原文</a></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/ru-he-zai-javascript-zhong-chuang-jian-er-wei-shu-zu/" class="u-url">如何在 JavaScript 中创建二维数组？</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/ru-he-zai-javascript-zhong-chuang-jian-er-wei-shu-zu/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T03:00:00+08:00" itemprop="datePublished" title="2023-02-17 03:00">2023-02-17 03:00</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>在网上看有的说不可能，有的说可以然后举个例子，还有的反驳例子等等。</p>
<ol>
<li>
<p>我如何在 JavaScript 中声明一个二维数组？（假设这是可能的）</p>
</li>
<li>
<p>我将如何访问其成员？（<code>myArray[0][1]</code>或<code>myArray[0,1]</code>？）</p>
</li>
</ol>
<p><br><br></p>
<h2>解答</h2>
<p>几乎？是的。您可以创建一个数组数组，该数组用作二维数组，因为每个项目本身都是一个数组：</p>
<div class="code"><pre class="code literal-block">let items = [
  [1, 2],
  [3, 4],
  [5, 6]
];
console.log(items[0][0]); // 1
console.log(items[0][1]); // 2
console.log(items[1][0]); // 3
console.log(items[1][1]); // 4
console.log(items);
</pre></div>

<p>运行代码片段隐藏结果</p>
<p>但从技术上讲，这只是一个数组数组，而不是IJ Kennedy指出的“真正的”二维数组。</p>
<p>应该注意的是，您可以将数组相互嵌套，从而创建“多维”数组。</p>
<p><br></p>
<h3>更多建议</h3>
<p>您只需将数组中的每个项目都设为一个数组。</p>
<div class="code"><pre class="code literal-block"><span class="nf">var</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="k">Array</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>

<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="nf">var</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">x</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">  </span><span class="n">x</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="k">Array</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="err">}</span>

<span class="n">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
</pre></div>

<p>运行代码片段隐藏结果</p>
<p><br><br><a href="posts/how-can-i-create-a-two-dimensional-array-in-javascript/">查看原文</a></p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-283.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-281.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 421) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-421.html">
<link rel="prev" href="index-422.html" type="text/html">
<link rel="next" href="index-420.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/in-bash-how-can-i-check-if-a-string-begins-with-some-value/" class="u-url">In Bash, how can I check if a string begins with some value?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/in-bash-how-can-i-check-if-a-string-begins-with-some-value/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T06:24:54+08:00" itemprop="datePublished" title="2023-02-17 06:24">2023-02-17 06:24</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I would like to check if a string begins with "node" e.g. "node001". Something
like</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span>[<span class="w"> </span>$<span class="nv">HOST</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">user</span><span class="o">*</span><span class="w"> </span>]
<span class="w">  </span><span class="k">then</span>
<span class="w">  </span><span class="nv">echo</span><span class="w"> </span><span class="nv">yes</span>
<span class="nv">fi</span>
</pre></div>

<p>How can I do it correctly?</p>
<hr>
<p>I further need to combine expressions to check if HOST is either "user1" or
begins with "node"</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span>[<span class="w"> </span>[[<span class="w"> </span>$<span class="nv">HOST</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">user1</span><span class="w"> </span>]]<span class="w"> </span><span class="o">-</span><span class="nv">o</span><span class="w"> </span>[[<span class="w"> </span>$<span class="nv">HOST</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">node</span><span class="o">*</span><span class="w"> </span>]]<span class="w"> </span>]<span class="c1">;</span>
<span class="k">then</span>
<span class="nv">echo</span><span class="w"> </span><span class="nv">yes</span>
<span class="nv">fi</span>

<span class="o">&gt;</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="o">-</span><span class="nv">bash</span>:<span class="w"> </span>[:<span class="w"> </span><span class="nv">too</span><span class="w"> </span><span class="nv">many</span><span class="w"> </span><span class="nv">arguments</span>
</pre></div>

<p>How can I do it correctly?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>This snippet on the Advanced Bash Scripting Guide says:</p>
<div class="code"><pre class="code literal-block">#<span class="w"> </span><span class="nv">The</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">comparison</span><span class="w"> </span><span class="nv">operator</span><span class="w"> </span><span class="nv">behaves</span><span class="w"> </span><span class="nv">differently</span><span class="w"> </span><span class="nv">within</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">double</span><span class="o">-</span><span class="nv">brackets</span>
#<span class="w"> </span><span class="nv">test</span><span class="w"> </span><span class="nv">than</span><span class="w"> </span><span class="nv">within</span><span class="w"> </span><span class="nv">single</span><span class="w"> </span><span class="nv">brackets</span>.

[[<span class="w"> </span><span class="mh">$a</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">z</span><span class="o">*</span><span class="w"> </span>]]<span class="w">   </span>#<span class="w"> </span><span class="nv">True</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="mh">$a</span><span class="w"> </span><span class="nv">starts</span><span class="w"> </span><span class="nv">with</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="s2">"z"</span><span class="w"> </span><span class="ss">(</span><span class="nv">wildcard</span><span class="w"> </span><span class="nv">matching</span><span class="ss">)</span>.
[[<span class="w"> </span><span class="mh">$a</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"z*"</span><span class="w"> </span>]]<span class="w"> </span>#<span class="w"> </span><span class="nv">True</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="mh">$a</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">equal</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">z</span><span class="o">*</span><span class="w"> </span><span class="ss">(</span><span class="nv">literal</span><span class="w"> </span><span class="nv">matching</span><span class="ss">)</span>.
</pre></div>

<p>So you had it <em>nearly</em> correct; you needed <em>double</em> brackets, not single
brackets.</p>
<hr>
<p>With regards to your second question, you can write it this way:</p>
<div class="code"><pre class="code literal-block"><span class="nv">HOST</span><span class="o">=</span><span class="nv">user1</span>
<span class="k">if</span><span class="w">  </span>[[<span class="w"> </span>$<span class="nv">HOST</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">user1</span><span class="w"> </span>]]<span class="w"> </span><span class="o">||</span><span class="w"> </span>[[<span class="w"> </span>$<span class="nv">HOST</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">node</span><span class="o">*</span><span class="w"> </span>]]<span class="w"> </span><span class="c1">;</span>
<span class="k">then</span>
<span class="w">    </span><span class="nv">echo</span><span class="w"> </span><span class="nv">yes1</span>
<span class="nv">fi</span>

<span class="nv">HOST</span><span class="o">=</span><span class="nv">node001</span>
<span class="k">if</span><span class="w"> </span>[[<span class="w"> </span>$<span class="nv">HOST</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">user1</span><span class="w"> </span>]]<span class="w"> </span><span class="o">||</span><span class="w"> </span>[[<span class="w"> </span>$<span class="nv">HOST</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">node</span><span class="o">*</span><span class="w"> </span>]]<span class="w"> </span><span class="c1">;</span>
<span class="k">then</span>
<span class="w">    </span><span class="nv">echo</span><span class="w"> </span><span class="nv">yes2</span>
<span class="nv">fi</span>
</pre></div>

<p>Which will echo</p>
<div class="code"><pre class="code literal-block">yes1
yes2
</pre></div>

<p>Bash's <code>if</code> syntax is hard to get used to (IMO).</p>
<p><br></p>
<h3>Suggest</h3>
<p>If you're using a recent version of Bash (v3+), I suggest the Bash regex
comparison operator <code>=~</code>, for example,</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span>[[<span class="w"> </span><span class="s2">"$HOST"</span><span class="w"> </span><span class="o">=~</span><span class="w"> </span><span class="o">^</span><span class="nv">user</span>.<span class="o">*</span><span class="w"> </span>]]<span class="c1">; then</span>
<span class="w">    </span><span class="nv">echo</span><span class="w"> </span><span class="s2">"yes"</span>
<span class="nv">fi</span>
</pre></div>

<hr>
<p>To match <code>this or that</code> in a regex, use <code>|</code>, for example,</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span>[[<span class="w"> </span><span class="s2">"$HOST"</span><span class="w"> </span><span class="o">=~</span><span class="w"> </span><span class="o">^</span><span class="nv">user</span>.<span class="o">*|^</span><span class="nv">host1</span><span class="w"> </span>]]<span class="c1">; then</span>
<span class="w">    </span><span class="nv">echo</span><span class="w"> </span><span class="s2">"yes"</span>
<span class="nv">fi</span>
</pre></div>

<p>Note - this is 'proper' regular expression syntax.</p>
<ul>
<li>
<code>user*</code> means <code>use</code> and zero-or-more occurrences of <code>r</code>, so <code>use</code> and <code>userrrr</code> will match.</li>
<li>
<code>user.*</code> means <code>user</code> and zero-or-more occurrences of any character, so <code>user1</code>, <code>userX</code> will match.</li>
<li>
<code>^user.*</code> means match the pattern <code>user.*</code> at the begin of $HOST.</li>
</ul>
<p>If you're not familiar with regular expression syntax, try referring to this
resource.</p>
<p>Note that the Bash <code>=~</code> operator only does regular expression matching when
the right hand side is <strong>UNQUOTED</strong>. If you do quote the right hand side, "any
part of the pattern may be quoted to force it to be matched as a string.". You
should not quote the right hand side even when doing parameter expansion.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-declare-a-namespace-in-javascript/" class="u-url">How do I declare a namespace in JavaScript?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-declare-a-namespace-in-javascript/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T06:24:24+08:00" itemprop="datePublished" title="2023-02-17 06:24">2023-02-17 06:24</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How do I create a namespace in JavaScript so that my objects and functions
aren't overwritten by other same-named objects and functions? I've used the
following:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">Foo</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">typeof</span><span class="p">(</span><span class="n">Foo</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s2">"object"</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">var</span><span class="w"> </span><span class="n">Foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="nb nb-Type">Object</span><span class="p">();}</span>
</pre></div>

<p>Is there a more elegant or succinct way of doing this?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>I like this:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">yourNamespace</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="n">foo</span><span class="p">:</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">},</span>

<span class="w">    </span><span class="n">bar</span><span class="p">:</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">};</span>

<span class="o">...</span>

<span class="n">yourNamespace</span><span class="o">.</span><span class="n">foo</span><span class="p">();</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>I like this:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">yourNamespace</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="n">foo</span><span class="p">:</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">},</span>

<span class="w">    </span><span class="n">bar</span><span class="p">:</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">};</span>

<span class="o">...</span>

<span class="n">yourNamespace</span><span class="o">.</span><span class="n">foo</span><span class="p">();</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/angular-html-binding/" class="u-url">Angular HTML binding</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/angular-html-binding/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T06:23:51+08:00" itemprop="datePublished" title="2023-02-17 06:23">2023-02-17 06:23</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am writing an Angular application and I have an HTML response I want to
display.</p>
<p>How do I do that? If I simply use the binding syntax <code>{{myVal}}</code> it encodes
all HTML characters (of course).</p>
<p>I need somehow to bind the <code>innerHTML</code> of a <code>div</code> to the variable value.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The correct syntax is the following:</p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;</span><span class="n">div</span><span class="w"> </span><span class="o">[</span><span class="n">innerHTML</span><span class="o">]=</span><span class="ss">"theHtmlString"</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</pre></div>

<p>Documentation Reference</p>
<p><br></p>
<h3>Suggest</h3>
<p><strong>Angular 2.0.0 and Angular 4.0.0 final</strong></p>
<p>For safe content just</p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;</span><span class="n">div</span><span class="w"> </span><span class="o">[</span><span class="n">innerHTML</span><span class="o">]=</span><span class="ss">"myVal"</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</pre></div>

<p><strong>DOMSanitizer</strong></p>
<p>Potential unsafe HTML needs to be explicitly marked as trusted using Angulars
DOM sanitizer so doesn't strip potentially unsafe parts of the content</p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;</span><span class="n">div</span><span class="w"> </span><span class="o">[</span><span class="n">innerHTML</span><span class="o">]=</span><span class="ss">"myVal | safeHtml"</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</pre></div>

<p>with a pipe like</p>
<div class="code"><pre class="code literal-block"><span class="err">@</span><span class="n">Pipe</span><span class="p">({</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s1">'safeHtml'</span><span class="p">})</span>
<span class="k">export</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">Safe</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">constructor</span><span class="p">(</span><span class="n">private</span><span class="w"> </span><span class="n">sanitizer</span><span class="p">:</span><span class="n">DomSanitizer</span><span class="p">){}</span>

<span class="w">  </span><span class="n">transform</span><span class="p">(</span><span class="n">style</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">this</span><span class="o">.</span><span class="n">sanitizer</span><span class="o">.</span><span class="n">bypassSecurityTrustHtml</span><span class="p">(</span><span class="n">style</span><span class="p">);</span>
<span class="w">    </span><span class="o">//</span><span class="k">return</span><span class="w"> </span><span class="n">this</span><span class="o">.</span><span class="n">sanitizer</span><span class="o">.</span><span class="n">bypassSecurityTrustStyle</span><span class="p">(</span><span class="n">style</span><span class="p">);</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">this</span><span class="o">.</span><span class="n">sanitizer</span><span class="o">.</span><span class="n">bypassSecurityTrustXxx</span><span class="p">(</span><span class="n">style</span><span class="p">);</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">docs</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>See also In RC.1 some styles can't be added using binding syntax</p>
<p>And docs: https://angular.io/api/platform-browser/DomSanitizer</p>
<p><strong>Security warning</strong></p>
<p>Trusting user added HTML may pose a security risk. The before mentioned docs
state:</p>
<blockquote>
<p>Calling any of the <code>bypassSecurityTrust...</code> APIs disables Angular's built-in
sanitization for the value passed in. Carefully check and audit all values
and code paths going into this call. Make sure any user data is
appropriately escaped for this security context. For more detail, see the
Security Guide.</p>
</blockquote>
<p><strong>Angular markup</strong></p>
<p>Something like</p>
<div class="code"><pre class="code literal-block">class<span class="w"> </span>FooComponent<span class="w"> </span>{
<span class="w">  </span>bar<span class="w"> </span>=<span class="w"> </span>'bar';
<span class="w">  </span>foo<span class="w"> </span>=<span class="w"> </span>`<span class="nt">&lt;div&gt;</span><span class="cp">{{</span><span class="nv">bar</span><span class="cp">}}</span><span class="nt">&lt;/div&gt;</span>
<span class="w">    </span><span class="nt">&lt;my-comp&gt;&lt;/my-comp&gt;</span>
<span class="w">    </span><span class="nt">&lt;input</span><span class="w"> </span><span class="err">[(ngModel)]="bar"</span><span class="nt">&gt;</span>`;
</pre></div>

<p>with</p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;</span><span class="n">div</span><span class="w"> </span><span class="o">[</span><span class="n">innerHTML</span><span class="o">]=</span><span class="ss">"foo"</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</pre></div>

<p><strong>won't cause Angular to process anything Angular-specific in<code>foo</code></strong>. Angular
replaces Angular specific markup at build time with generated code. Markup
added at runtime <strong>won't be processed by Angular</strong>.</p>
<p>To add HTML that contains Angular-specific markup (property or value binding,
components, directives, pipes, ...) it is required to add the dynamic module
and compile components at runtime. This answer provides more details How can I
use/create dynamic template to compile dynamic Component with Angular 2.0?</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-422.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-420.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

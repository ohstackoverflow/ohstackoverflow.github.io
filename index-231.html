<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 231) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-231.html">
<link rel="prev" href="index-232.html" type="text/html">
<link rel="next" href="index-230.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-view-a-git-log-of-just-one-user-s-commits/" class="u-url">How can I view a git log of just one user's commits?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-view-a-git-log-of-just-one-user-s-commits/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T01:33:21+08:00" itemprop="datePublished" title="2023-02-17 01:33">2023-02-17 01:33</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>When using <code>git log</code>, how can I filter by user so that I see only commits from
that user?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>This works for both <code>git log</code> and gitk - the 2 most common ways of viewing
history.<br>
You don't need to use the whole name:</p>
<div class="code"><pre class="code literal-block">git log --author="Jon"
</pre></div>

<p>will match a commit made by "Jonathan Smith"</p>
<div class="code"><pre class="code literal-block">git log --author=Jon
</pre></div>

<p>and</p>
<div class="code"><pre class="code literal-block">git log --author=Smith
</pre></div>

<p>would also work. The quotes are optional if you don't need any spaces.</p>
<p><strong>Add<code>--all</code> if you intend to search all branches and not just the current
commit's ancestors in your repo.</strong></p>
<p>You can also easily match on multiple authors as regex is the underlying
mechanism for this filter. So to list commits by Jonathan or Adam, you can do
this:</p>
<div class="code"><pre class="code literal-block">git log --author="\(Adam\)\|\(Jon\)"
</pre></div>

<p>In order to exclude commits by a particular author or set of authors using
regular expressions as noted in this question, you can use a negative
lookahead in combination with the <code>--perl-regexp</code> switch:</p>
<div class="code"><pre class="code literal-block"><span class="n">git</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="o">--</span><span class="n">author</span><span class="o">=</span><span class="p">'</span><span class="o">^</span><span class="p">(</span><span class="o">?!</span><span class="n">Adam</span><span class="o">|</span><span class="n">Jon</span><span class="p">).</span><span class="o">*</span><span class="err">$</span><span class="p">'</span><span class="w"> </span><span class="o">--</span><span class="n">perl</span><span class="o">-</span><span class="n">regexp</span>
</pre></div>

<p>Alternatively, you can exclude commits authored by Adam by using <code>bash</code> and
piping:</p>
<div class="code"><pre class="code literal-block">git log --format='%H %an' | 
  grep -v Adam | 
  cut -d ' ' -f1 | 
  xargs -n1 git log -1
</pre></div>

<p>If you want to exclude commits commited (but not necessarily authored) by
Adam, replace <code>%an</code> with <code>%cn</code>. More details about this are in my blog post
here: http://dymitruk.com/blog/2012/07/18/filtering-by-author-name/</p>
<p><br></p>
<h3>Suggest</h3>
<div class="code"><pre class="code literal-block">git log --author="that user"
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/static-readonly-vs-const/" class="u-url">'Static readonly' vs. 'const'</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/static-readonly-vs-const/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T01:32:38+08:00" itemprop="datePublished" title="2023-02-17 01:32">2023-02-17 01:32</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I've read around about <code>const</code> and <code>static readonly</code> fields. We have some
classes which contain only constant values. They are used for various things
around in our system. So I am wondering if my observation is correct:</p>
<p>Should these kind of constant values always be <code>static readonly</code> for
everything that is public? And only use <code>const</code> for
<code>internal</code>/<code>protected</code>/<code>private</code> values?</p>
<p>What do you recommend? Should I maybe even not use <code>static readonly</code> fields,
but rather use properties maybe?</p>
<p><br><br></p>
<h2>Answer</h2>
<p><code>public static readonly</code> fields are a little unusual; <code>public static</code>
properties (with only a <code>get</code>) would be more common (perhaps backed by a
<code>private static readonly</code> field).</p>
<p><code>const</code> values are burned directly into the call-site; this is double edged:</p>
<ul>
<li>it is useless if the value is fetched at runtime, perhaps from config</li>
<li>if you change the value of a const, you need to rebuild all the clients</li>
<li>but it can be faster, as it avoids a method call...</li>
<li>...which might sometimes have been inlined by the JIT anyway</li>
</ul>
<p>If the value will <strong>never</strong> change, then const is fine - <code>Zero</code> etc make
reasonable consts ;p Other than that, <code>static</code> properties are more common.</p>
<p><br></p>
<h3>Suggest</h3>
<p>I would use <code>static readonly</code> if the <em>Consumer</em> is in a different assembly.
Having the <code>const</code> and the <em>Consumer</em> in two different assemblies is a nice
way to shoot yourself in the foot.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/if-else-in-a-list-comprehension/" class="u-url">if/else in a list comprehension</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/if-else-in-a-list-comprehension/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T01:32:12+08:00" itemprop="datePublished" title="2023-02-17 01:32">2023-02-17 01:32</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a list <code>xs</code> containing a mixture of strings and <code>None</code> values. How can
I use a list comprehension to call a function on each string, but convert the
<code>None</code> values to <code>''</code> (rather than passing them to the function)?</p>
<p>I tried:</p>
<div class="code"><pre class="code literal-block">[<span class="nv">f</span><span class="ss">(</span><span class="nv">x</span><span class="ss">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">xs</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">not</span><span class="w"> </span><span class="nv">None</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">''</span>]
</pre></div>

<p>but it gives a <code>SyntaxError</code>. What is the correct syntax?</p>
<hr>
<p>See List comprehension with condition if you are trying to make a list
comprehension that <em>omits</em> values based on a condition.</p>
<p>If you need to consider more than two conditional outcomes, beware that
Python's conditional expressions do not support <code>elif</code>. Instead, it is
necessary to nest <code>if</code>/<code>else</code> conditionals. See <code>elif</code> in list comprehension
conditionals for details.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can totally do that. It's just an ordering issue:</p>
<div class="code"><pre class="code literal-block">[<span class="nv">f</span><span class="ss">(</span><span class="nv">x</span><span class="ss">)</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">not</span><span class="w"> </span><span class="nv">None</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">''</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">xs</span>]
</pre></div>

<p>In general,</p>
<div class="code"><pre class="code literal-block">[<span class="nv">f</span><span class="ss">(</span><span class="nv">x</span><span class="ss">)</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">condition</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="nv">g</span><span class="ss">(</span><span class="nv">x</span><span class="ss">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">sequence</span>]
</pre></div>

<p>And, for list comprehensions with <code>if</code> conditions only,</p>
<div class="code"><pre class="code literal-block">[<span class="nv">f</span><span class="ss">(</span><span class="nv">x</span><span class="ss">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">sequence</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">condition</span>]
</pre></div>

<p>Note that this actually uses a different language construct, a conditional
expression, which itself is not part of the comprehension syntax, while the
<code>if</code> after the <code>for…in</code> is part of list comprehensions and used to <em>filter</em>
elements from the source iterable.</p>
<hr>
<p>Conditional expressions can be used in all kinds of situations where you want
to choose between two expression values based on some condition. This does the
same as the ternary operator <code>?:</code> that exists in other languages. For example:</p>
<div class="code"><pre class="code literal-block"><span class="nv">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">123</span>
<span class="nv">print</span><span class="ss">(</span><span class="nv">value</span>,<span class="w"> </span><span class="s1">'is'</span>,<span class="w"> </span><span class="s1">'even'</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">'odd'</span><span class="ss">)</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Let's use this question to review some concepts. I think it's good to first
see the fundamentals so you can extrapolate to different cases.</p>
<p>Other answers provide the specific answer to your question. I'll first give
some general context and then I'll answer the question.</p>
<h2>Fundamentals</h2>
<p><code>if/else</code> statements in list comprehensions involve two things:</p>
<ul>
<li>List comprehensions</li>
<li>Conditional expressions (Ternary operators)</li>
</ul>
<h3>1. List comprehensions</h3>
<p>They provide a concise way to create lists.</p>
<p>Its structure consists of: " <em>brackets containing an expression followed by a
for clause, then zero or more for or if clauses</em> ".</p>
<h4>Case 1</h4>
<p>Here we have no condition. Each item from the iterable is added to <code>new_list</code>.</p>
<div class="code"><pre class="code literal-block"><span class="nv">new_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="nv">expression</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">iterable</span>]
<span class="nv">new_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="nv">x</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">range</span><span class="ss">(</span><span class="mi">1</span>,<span class="w"> </span><span class="mi">10</span><span class="ss">)</span>]
<span class="o">&gt;</span><span class="w"> </span>[<span class="mi">1</span>,<span class="w"> </span><span class="mi">2</span>,<span class="w"> </span><span class="mi">3</span>,<span class="w"> </span><span class="mi">4</span>,<span class="w"> </span><span class="mi">5</span>,<span class="w"> </span><span class="mi">6</span>,<span class="w"> </span><span class="mi">7</span>,<span class="w"> </span><span class="mi">8</span>,<span class="w"> </span><span class="mi">9</span>]
</pre></div>

<h4>Case 2</h4>
<p>Here we have one condition.</p>
<p><strong>Example 1</strong></p>
<p>Condition: only <em>even</em> numbers will be added to <code>new_list</code>.</p>
<div class="code"><pre class="code literal-block"><span class="nv">new_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="nv">expression</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">iterable</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">condition</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">True</span>]
<span class="nv">new_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="nv">x</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">range</span><span class="ss">(</span><span class="mi">1</span>,<span class="w"> </span><span class="mi">10</span><span class="ss">)</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span>]
<span class="o">&gt;</span><span class="w"> </span>[<span class="mi">2</span>,<span class="w"> </span><span class="mi">4</span>,<span class="w"> </span><span class="mi">6</span>,<span class="w"> </span><span class="mi">8</span>]
</pre></div>

<p><strong>Example 2</strong></p>
<p>Condition: only <em>even</em> numbers that are multiple of 3 will be added to
<code>new_list</code>.</p>
<div class="code"><pre class="code literal-block"><span class="nv">new_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="nv">expression</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">iterable</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">condition</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">True</span>]
<span class="nv">new_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="nv">x</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">range</span><span class="ss">(</span><span class="mi">1</span>,<span class="w"> </span><span class="mi">10</span><span class="ss">)</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span>]
<span class="o">&gt;</span><span class="w"> </span>[<span class="mi">6</span>]
</pre></div>

<p>But howcome we have one condition if we use two <code>if</code> in <code>new_list</code>?</p>
<p>The prior expression could be written as:</p>
<div class="code"><pre class="code literal-block"><span class="nv">new_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="nv">x</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">range</span><span class="ss">(</span><span class="mi">1</span>,<span class="w"> </span><span class="mi">10</span><span class="ss">)</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span>]
<span class="o">&gt;</span><span class="w"> </span>[<span class="mi">6</span>]
</pre></div>

<p>We only use one <code>if</code> statement.</p>
<p>This is like doing:</p>
<div class="code"><pre class="code literal-block"><span class="nv">new_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[]
<span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">range</span><span class="ss">(</span><span class="mi">1</span>,<span class="w"> </span><span class="mi">10</span><span class="ss">)</span>:
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span>:
<span class="w">        </span><span class="nv">new_list</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">x</span><span class="ss">)</span>
<span class="o">&gt;</span><span class="w"> </span>[<span class="mi">6</span>]
</pre></div>

<p><strong>Example 3</strong></p>
<p>Just for the sake of argument, you can also use <code>or</code>.</p>
<p>Condition: <em>even</em> numbers or numbers multiple of 3 will be added to
<code>new_list</code>.</p>
<div class="code"><pre class="code literal-block"><span class="nv">new_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="nv">x</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">range</span><span class="ss">(</span><span class="mi">1</span>,<span class="w"> </span><span class="mi">10</span><span class="ss">)</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="nv">or</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span>]
<span class="o">&gt;</span><span class="w"> </span>[<span class="mi">2</span>,<span class="w"> </span><span class="mi">3</span>,<span class="w"> </span><span class="mi">4</span>,<span class="w"> </span><span class="mi">6</span>,<span class="w"> </span><span class="mi">8</span>,<span class="w"> </span><span class="mi">9</span>]
</pre></div>

<h4>Case 3</h4>
<p>More than one condition:</p>
<p>Here we need the help of conditional expressions (Ternary operators).</p>
<h3>2.Conditional Expressions</h3>
<p>What are conditional expressions? What the name says: a Python expression that
has some condition.</p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;</span><span class="nv">Exp1</span><span class="o">&gt;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">condition</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="o">&lt;</span><span class="nv">Exp2</span><span class="o">&gt;</span>
</pre></div>

<p>First the <code>condition</code> is evaluated. If <code>condition</code> is <code>True</code>, then <code>&lt;Exp1&gt;</code> is
evaluated and returned. If <code>condition</code> is <code>False</code>, then <code>&lt;Exp2&gt;</code> is evaluated
and returned.</p>
<p>A conditional expression with more than one condition:</p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;</span><span class="nv">Exp1</span><span class="o">&gt;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">condition</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="o">&lt;</span><span class="nv">Exp2</span><span class="o">&gt;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">condition</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="o">&lt;</span><span class="nv">Exp3</span><span class="o">&gt;</span>...
</pre></div>

<p>An example from Real Python:</p>
<div class="code"><pre class="code literal-block"><span class="nv">age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">12</span>
<span class="nv">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'minor'</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">age</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">21</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">'adult'</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nv">minor</span>
</pre></div>

<p>The value of <code>s</code> is conditioned to <code>age</code> value.</p>
<h3>3.List Comprehensions with Conditionals</h3>
<p>We put list comprehensions and conditionals together like this.</p>
<div class="code"><pre class="code literal-block"><span class="nv">new_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="o">&lt;</span><span class="nv">Conditional</span><span class="w"> </span><span class="nv">Expression</span><span class="o">&gt;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="o">&lt;</span><span class="nv">item</span><span class="o">&gt;</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="o">&lt;</span><span class="nv">iterable</span><span class="o">&gt;</span>]

<span class="nv">new_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="o">&lt;</span><span class="nv">Exp1</span><span class="o">&gt;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">condition</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="o">&lt;</span><span class="nv">Exp2</span><span class="o">&gt;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">condition</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="o">&lt;</span><span class="nv">Exp3</span><span class="o">&gt;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="o">&lt;</span><span class="nv">item</span><span class="o">&gt;</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="o">&lt;</span><span class="nv">iterable</span><span class="o">&gt;</span>]
</pre></div>

<p>Condition: <em>even</em> numbers will be added as <code>'even'</code>, the number three will be
added as <code>'number three'</code> and the rest will be added as <code>'odd'</code>.</p>
<div class="code"><pre class="code literal-block"><span class="nv">new_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="s1">'even'</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">'number three'</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">'odd'</span><span class="w"> </span>
<span class="w">             </span><span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">range</span><span class="ss">(</span><span class="mi">1</span>,<span class="w"> </span><span class="mi">10</span><span class="ss">)</span>]
<span class="o">&gt;</span><span class="w"> </span>[<span class="s1">'odd'</span>,<span class="w"> </span><span class="s1">'even'</span>,<span class="w"> </span><span class="s1">'number three'</span>,<span class="w"> </span><span class="s1">'even'</span>,<span class="w"> </span><span class="s1">'odd'</span>,<span class="w"> </span><span class="s1">'even'</span>,<span class="w"> </span><span class="s1">'odd'</span>,<span class="w"> </span><span class="s1">'even'</span>,<span class="w"> </span><span class="s1">'odd'</span>]
</pre></div>

<hr>
<h2>The answer to the question</h2>
<div class="code"><pre class="code literal-block">[<span class="nv">f</span><span class="ss">(</span><span class="nv">x</span><span class="ss">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">xs</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">not</span><span class="w"> </span><span class="nv">None</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">''</span>]
</pre></div>

<p>Here we have a problem with the structure of the list: <code>for x in xs</code> should be
at the end of the expression.</p>
<p>Correct way:</p>
<div class="code"><pre class="code literal-block">[<span class="nv">f</span><span class="ss">(</span><span class="nv">x</span><span class="ss">)</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">not</span><span class="w"> </span><span class="nv">None</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">''</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">xs</span>]
</pre></div>

<hr>
<p>Further reading:</p>
<p>Does Python have a ternary conditional operator?</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-232.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-230.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

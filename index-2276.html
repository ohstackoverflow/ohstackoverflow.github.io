<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2276) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2276.html">
<link rel="prev" href="index-2277.html" type="text/html">
<link rel="next" href="index-2275.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/is-there-a-way-to-provide-named-parameters-in-a-function-call-in-javascript/" class="u-url">Is there a way to provide named parameters in a function call in JavaScript?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/is-there-a-way-to-provide-named-parameters-in-a-function-call-in-javascript/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T04:09:25+08:00" itemprop="datePublished" title="2023-03-04 04:09">2023-03-04 04:09</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I find the named parameters feature in C# quite useful in some cases.</p>
<div class="code"><pre class="code literal-block"><span class="nt">calculateBMI</span><span class="o">(</span><span class="nt">70</span><span class="o">,</span><span class="w"> </span><span class="nt">height</span><span class="o">:</span><span class="w"> </span><span class="nt">175</span><span class="o">);</span>
</pre></div>

<p>What can I use if I want this in JavaScript?</p>
<hr>
<p>What I don’t want is this:</p>
<div class="code"><pre class="code literal-block"><span class="nt">myFunction</span><span class="o">(</span><span class="p">{</span><span class="w"> </span><span class="n">param1</span><span class="p">:</span><span class="w"> </span><span class="mi">70</span><span class="p">,</span><span class="w"> </span><span class="n">param2</span><span class="o">:</span><span class="w"> </span><span class="mi">175</span><span class="w"> </span><span class="p">}</span><span class="o">);</span>

<span class="nt">function</span><span class="w"> </span><span class="nt">myFunction</span><span class="o">(</span><span class="nt">params</span><span class="o">)</span><span class="p">{</span>
<span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">Check</span><span class="w"> </span><span class="err">if</span><span class="w"> </span><span class="err">params</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">an</span><span class="w"> </span><span class="err">object</span>
<span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">Check</span><span class="w"> </span><span class="err">if</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">parameters</span><span class="w"> </span><span class="err">I</span><span class="w"> </span><span class="err">need</span><span class="w"> </span><span class="err">are</span><span class="w"> </span><span class="err">non-null</span>
<span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">Blah</span><span class="w"> </span><span class="err">blah</span>
<span class="p">}</span>
</pre></div>

<p>That approach I’ve already used. Is there another way?</p>
<p>I’m okay using any library to do this.</p>
<p><br><br></p>
<h2>Answer</h2>
<p><strong>ES2015 and later</strong></p>
<p>In ES2015, <em>parameter destructuring</em> can be used to simulate named parameters.
It would require the caller to pass an object, but you can avoid all of the
checks inside the function if you also use default parameters:</p>
<div class="code"><pre class="code literal-block">myFunction({ param1 : 70, param2 : 175});

function myFunction({param1, param2}={}){
  // ...function body...
}

// Or with defaults, 
function myFunc({
  name = 'Default user',
  age = 'N/A'
}={}) {
  // ...function body...
}
</pre></div>

<hr>
<p><strong>ES5</strong></p>
<p>There is a way to come close to what you want, but it is based on the output
of <code>Function.prototype.toString</code> <em>[ES5]</em> , which is implementation dependent
to some degree, so it might not be cross-browser compatible.</p>
<p>The idea is to parse the parameter names from the string representation of the
function so that you can associate the properties of an object with the
corresponding parameter.</p>
<p>A function call could then look like</p>
<div class="code"><pre class="code literal-block"><span class="nt">func</span><span class="o">(</span><span class="nt">a</span><span class="o">,</span><span class="w"> </span><span class="nt">b</span><span class="o">,</span><span class="w"> </span><span class="p">{</span><span class="n">someArg</span><span class="p">:</span><span class="w"> </span><span class="o">...</span><span class="p">,</span><span class="w"> </span><span class="n">someOtherArg</span><span class="o">:</span><span class="w"> </span><span class="o">...</span><span class="p">}</span><span class="o">);</span>
</pre></div>

<p>where <code>a</code> and <code>b</code> are positional arguments and the last argument is an object
with named arguments.</p>
<p>For example:</p>
<div class="code"><pre class="code literal-block"><span class="nf">var</span><span class="w"> </span><span class="n">parameterfy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">function</span><span class="p">()</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="nf">var</span><span class="w"> </span><span class="n">pattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">/</span><span class="k">function</span><span class="o">[</span><span class="n">^(</span><span class="o">]*</span><span class="err">\</span><span class="p">((</span><span class="o">[</span><span class="n">^)</span><span class="o">]*</span><span class="p">)</span><span class="err">\</span><span class="p">)</span><span class="o">/</span><span class="p">;</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">func</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="n">fails</span><span class="w"> </span><span class="n">horribly</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">parameterless</span><span class="w"> </span><span class="n">functions</span><span class="w"> </span><span class="p">;)</span>
<span class="w">        </span><span class="nf">var</span><span class="w"> </span><span class="n">args</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">func</span><span class="p">.</span><span class="n">toString</span><span class="p">().</span><span class="k">match</span><span class="p">(</span><span class="n">pattern</span><span class="p">)</span><span class="o">[</span><span class="n">1</span><span class="o">]</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="o">/</span><span class="p">,</span><span class="err">\</span><span class="n">s</span><span class="o">*/</span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">function</span><span class="p">()</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="nf">var</span><span class="w"> </span><span class="n">named_params</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">arguments</span><span class="o">[</span><span class="n">arguments.length - 1</span><span class="o">]</span><span class="p">;</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">typeof</span><span class="w"> </span><span class="n">named_params</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">'object'</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">                </span><span class="nf">var</span><span class="w"> </span><span class="n">params</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">[]</span><span class="p">.</span><span class="n">slice</span><span class="p">.</span><span class="k">call</span><span class="p">(</span><span class="n">arguments</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">params</span><span class="p">.</span><span class="n">length</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">args</span><span class="p">.</span><span class="n">length</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">                    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="nf">var</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">params</span><span class="p">.</span><span class="n">length</span><span class="p">,</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">args</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">l</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">                        </span><span class="n">params</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">named_params</span><span class="o">[</span><span class="n">args[i</span><span class="o">]</span><span class="err">]</span><span class="p">);</span>
<span class="w">                    </span><span class="err">}</span>
<span class="w">                    </span><span class="k">return</span><span class="w"> </span><span class="n">func</span><span class="p">.</span><span class="n">apply</span><span class="p">(</span><span class="n">this</span><span class="p">,</span><span class="w"> </span><span class="n">params</span><span class="p">);</span>
<span class="w">                </span><span class="err">}</span>
<span class="w">            </span><span class="err">}</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">func</span><span class="p">.</span><span class="n">apply</span><span class="p">(</span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="n">arguments</span><span class="p">);</span>
<span class="w">        </span><span class="err">}</span><span class="p">;</span>
<span class="w">    </span><span class="err">}</span><span class="p">;</span>
<span class="err">}</span><span class="p">());</span>
</pre></div>

<p>Which you would use as:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parameterfy</span><span class="p">(</span><span class="n">function</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s1">'a is '</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="s1">' | b is '</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="s1">' | c is '</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">c</span><span class="p">);</span><span class="w">     </span>
<span class="p">});</span>

<span class="n">foo</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="mi">2</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="mi">3</span>
<span class="n">foo</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">b</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">:</span><span class="mi">3</span><span class="p">});</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="mi">2</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="mi">3</span>
<span class="n">foo</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">c</span><span class="p">:</span><span class="mi">3</span><span class="p">});</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">undefined</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="mi">3</span>
<span class="n">foo</span><span class="p">({</span><span class="n">a</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">:</span><span class="mi">3</span><span class="p">});</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">undefined</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="mi">3</span>
</pre></div>

<p><strong>DEMO</strong></p>
<p>There are some <strong>drawbacks</strong> to this approach (you have been warned!):</p>
<ul>
<li>If the last argument is an object, it is treated as a "named argument objects"</li>
<li>You will always get as many arguments as you defined in the function, but some of them might have the value <code>undefined</code> (that's different from having no value at all). That means you cannot use <code>arguments.length</code> to test how many arguments have been passed.</li>
</ul>
<hr>
<p>Instead of having a function creating the wrapper, you could also have a
function which accepts a function and various values as arguments, such as</p>
<div class="code"><pre class="code literal-block"><span class="nt">call</span><span class="o">(</span><span class="nt">func</span><span class="o">,</span><span class="w"> </span><span class="nt">a</span><span class="o">,</span><span class="w"> </span><span class="nt">b</span><span class="o">,</span><span class="w"> </span><span class="p">{</span><span class="n">posArg</span><span class="p">:</span><span class="w"> </span><span class="o">...</span><span class="w"> </span><span class="p">}</span><span class="o">);</span>
</pre></div>

<p>or even extend <code>Function.prototype</code> so that you could do:</p>
<div class="code"><pre class="code literal-block"><span class="nt">foo</span><span class="p">.</span><span class="nc">execute</span><span class="o">(</span><span class="nt">a</span><span class="o">,</span><span class="w"> </span><span class="nt">b</span><span class="o">,</span><span class="w"> </span><span class="p">{</span><span class="n">posArg</span><span class="p">:</span><span class="w"> </span><span class="o">...</span><span class="p">}</span><span class="o">);</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>No - the object approach is JavaScript's answer to this. There is no problem
with this provided your function expects an object rather than separate
params.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/folder-structure-for-a-node-js-project/" class="u-url">Folder structure for a Node.js project</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/folder-structure-for-a-node-js-project/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T04:08:01+08:00" itemprop="datePublished" title="2023-03-04 04:08">2023-03-04 04:08</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I notice that Node.js projects often include folders like these:</p>
<blockquote>
<p>/libs, /vendor, /support, /spec, /tests</p>
</blockquote>
<p>What exactly do these mean? What's the different between them, and where
should I include referenced code?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Concerning the folders you mentioned:</p>
<ul>
<li>
<strong><code>/libs</code></strong> is usually used for custom <code>classes/functions/modules</code>
</li>
<li>
<strong><code>/vendor</code></strong> or <strong><code>/support</code></strong> contains 3rd party libraries (added as git sub-module when using git as source control)</li>
<li>
<strong><code>/spec</code></strong> contains specifications for BDD tests.</li>
<li>
<strong><code>/tests</code></strong> contains the unit-tests for an application (using a testing framework, see here)</li>
</ul>
<p><em>NOTE: both<code>/vendor</code> and <code>/support</code> are deprecated since NPM introduced a
clean package management. It's recommended to handle all 3rd-party
dependencies using NPM and a package.json file</em></p>
<p>When building a rather large application, I recommend the following additional
folders (especially if you are using some kind of MVC- / ORM-Framework like
express or mongoose):</p>
<ul>
<li>
<strong><code>/models</code></strong> contains all your ORM models (called <code>Schemas</code> in mongoose)</li>
<li>
<strong><code>/views</code></strong> contains your view-templates (using any templating language supported in express)</li>
<li>
<strong><code>/public</code></strong> contains all static content (images, style-sheets, client-side JavaScript) <ul>
<li>
<strong><code>/assets/images</code></strong> contains image files</li>
<li>
<strong><code>/assets/pdf</code></strong> contains static pdf files</li>
<li>
<strong><code>/css</code></strong> contains style sheets (or compiled output by a css engine)</li>
<li>
<strong><code>/js</code></strong> contains client side JavaScript</li>
</ul>
</li>
<li>
<strong><code>/controllers</code></strong> contain all your express routes, separated by module/area of your application (note: when using the bootstrapping functionality of express, this folder is called <strong><code>/routes</code></strong> )</li>
</ul>
<p>I got used to organize my projects this way and i think it works out pretty
well.</p>
<p><strong>Update for CoffeeScript-based Express applications (using connect-assets):</strong></p>
<ul>
<li>
<strong><code>/app</code></strong> contains your compiled JavaScript</li>
<li>
<strong><code>/assets/</code></strong> contains all client-side assets that require compilation <ul>
<li>
<strong><code>/assets/js</code></strong> contains your client-side CoffeeScript files</li>
<li>
<strong><code>/assets/css</code></strong> contains all your LESS/Stylus style-sheets</li>
</ul>
</li>
<li>
<strong><code>/public/(js|css|img)</code></strong> contains your static files that are not handled by any compilers</li>
<li>
<strong><code>/src</code></strong> contains all your server-side specific CoffeeScript files</li>
<li>
<strong><code>/test</code></strong> contains all unit testing scripts (implemented using a testing-framework of your choice)</li>
<li>
<strong><code>/views</code></strong> contains all your express views (be it jade, ejs or any other templating engine)</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<p>There is a discussion on GitHub because of a question similar to this one:
https://gist.github.com/1398757</p>
<p>You can use other projects for guidance, search in GitHub for:</p>
<ul>
<li>ThreeNodes.js - in my opinion, seems to have a specific structure not suitable for every project;</li>
<li>lighter - an more simple structure, but lacks a bit of organization;</li>
</ul>
<p>And finally, in a book (http://shop.oreilly.com/product/0636920025344.do)
suggests this structure:</p>
<div class="code"><pre class="code literal-block">├── index.html
├── js/
│   ├── main.js
│   ├── models/
│   ├── views/
│   ├── collections/
│   ├── templates/
│   └── libs/
│       ├── backbone/
│       ├── underscore/
│       └── ...
├── css/
└── ...
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/scala-list-concatenation-vs/" class="u-url">Scala list concatenation, ::: vs ++</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/scala-list-concatenation-vs/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T04:06:54+08:00" itemprop="datePublished" title="2023-03-04 04:06">2023-03-04 04:06</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is there any difference between <code>:::</code> and <code>++</code> for concatenating lists in
Scala?</p>
<div class="code"><pre class="code literal-block"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">List</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="o">++</span><span class="w"> </span><span class="n">List</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="nl">res0</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">[</span><span class="n">Int</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">List</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span>

<span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">List</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="o">::</span><span class="err">:</span><span class="w"> </span><span class="n">List</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="nl">res1</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">[</span><span class="n">Int</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">List</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span>

<span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">res0</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">res1</span>
<span class="nl">res2</span><span class="p">:</span><span class="w"> </span><span class="k">Boolean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">true</span>
</pre></div>

<p>From the documentation it looks like <code>++</code> is more general whereas <code>:::</code> is
<code>List</code>-specific. Is the latter provided because it's used in other functional
languages?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Legacy. List was originally defined to be functional-languages-looking:</p>
<div class="code"><pre class="code literal-block"><span class="mf">1</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="mf">2</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="n">Nil</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="kr">list</span>
<span class="kr">list</span><span class="mf">1</span><span class="w"> </span><span class="p">:::</span><span class="w"> </span><span class="kr">list</span><span class="mf">2</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">concatenation</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="kr">list</span><span class="n">s</span>

<span class="kr">list</span><span class="w"> </span><span class="n">match</span><span class="w"> </span><span class="err">{</span>
<span class="w">  </span><span class="n">case</span><span class="w"> </span><span class="n">head</span><span class="w"> </span><span class="p">::</span><span class="w"> </span><span class="n">tail</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">"non-empty"</span>
<span class="w">  </span><span class="n">case</span><span class="w"> </span><span class="n">Nil</span><span class="w">          </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">"empty"</span>
<span class="err">}</span>
</pre></div>

<p>Of course, Scala evolved other collections, in an ad-hoc manner. When 2.8 came
out, the collections were redesigned for maximum code reuse and consistent
API, so that you can use <code>++</code> to concatenate <em>any</em> two collections -- and even
iterators. List, however, got to keep its original operators, aside from one
or two which got deprecated.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Always use <code>:::</code>. There are two reasons: efficiency and type safety.</p>
<p><strong>Efficiency</strong></p>
<p><code>x ::: y ::: z</code> is faster than <code>x ++ y ++ z</code>, because <code>:::</code> is right
associative. <code>x ::: y ::: z</code> is parsed as <code>x ::: (y ::: z)</code>, which is
algorithmically faster than <code>(x ::: y) ::: z</code> (the latter requires O(|x|) more
steps).</p>
<p><strong>Type safety</strong></p>
<p>With <code>:::</code> you can only concatenate two <code>List</code>s. With <code>++</code> you can append any
collection to <code>List</code>, which is terrible:</p>
<div class="code"><pre class="code literal-block"><span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">List</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="o">++</span><span class="w"> </span><span class="ss">"ab"</span>
<span class="nl">res0</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">[</span><span class="n">AnyVal</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">List</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
</pre></div>

<p><code>++</code> is also easy to mix up with <code>+</code>:</p>
<div class="code"><pre class="code literal-block">scala&gt; List(1, 2, 3) + "ab"
res1: String = List(1, 2, 3)ab
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2277.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2275.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

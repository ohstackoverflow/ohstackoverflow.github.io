<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1295) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1295.html">
<link rel="prev" href="index-1296.html" type="text/html">
<link rel="next" href="index-1294.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-pass-an-array-within-a-query-string/" class="u-url">How to pass an array within a query string?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-pass-an-array-within-a-query-string/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T05:57:22+08:00" itemprop="datePublished" title="2023-02-18 05:57">2023-02-18 05:57</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is there a standard way of passing an array through a query string?</p>
<p>To be clear, I have a query string with multiple values, one of which would be
an array value. I want that query string value to be treated as an array- I
don't want the array to be exploded so that it is indistinguishable from the
other query string variables.</p>
<p>Also, according to this post answer, the author suggests that query string
support for arrays is not defined. Is this accurate?</p>
<p><strong>EDIT:</strong></p>
<p>Based on @Alex's answer, there is no standard way of doing this, so my follow-
up is then what is an easy way to <em>recognize</em> that the parameter I'm reading
is an array in both <strong>PHP</strong> and <strong>Javascript</strong>?</p>
<p>Would it be acceptable to name multiple params the same name, and that way I
would know that they belong to an array? Example:</p>
<div class="code"><pre class="code literal-block">?myarray=value1&amp;myarray=value2&amp;myarray=value3...
</pre></div>

<p>Or would this be a bad practice?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Here's what I figured out:</p>
<p>Submitting multi-value form fields, i.e. submitting arrays through GET/POST
vars, can be done several different ways, as a standard is not necessarily
spelled out.</p>
<p>Three possible ways to send multi-value fields or arrays would be:</p>
<ul>
<li>
<code>?cars[]=Saab&amp;cars[]=Audi</code> <em>(Best way- PHP reads this into an array)</em>
</li>
<li>
<code>?cars=Saab&amp;cars=Audi</code> <em>(Bad way- PHP will only register last value)</em>
</li>
<li>
<code>?cars=Saab,Audi</code> <em>(Haven't tried this)</em>
</li>
</ul>
<h4>Form Examples</h4>
<p>On a form, multi-valued fields could take the form of a <strong>select box set to
multiple</strong> :</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;form&gt;</span><span class="w"> </span>
<span class="w">    </span><span class="nt">&lt;select</span><span class="w"> </span><span class="na">multiple=</span><span class="s">"multiple"</span><span class="w"> </span><span class="na">name=</span><span class="s">"cars[]"</span><span class="nt">&gt;</span><span class="w"> </span>
<span class="w">        </span><span class="nt">&lt;option&gt;</span>Volvo<span class="nt">&lt;/option&gt;</span><span class="w"> </span>
<span class="w">        </span><span class="nt">&lt;option&gt;</span>Saab<span class="nt">&lt;/option&gt;</span><span class="w"> </span>
<span class="w">        </span><span class="nt">&lt;option&gt;</span>Mercedes<span class="nt">&lt;/option&gt;</span><span class="w"> </span>
<span class="w">    </span><span class="nt">&lt;/select&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</pre></div>

<p><em>(NOTE: In this case, it would be important to name the select
control<code>some_name[]</code>, so that the resulting request vars would be registered
as an array by PHP)</em></p>
<p>... or as <strong>multiple hidden fields with the same name</strong> :</p>
<div class="code"><pre class="code literal-block">&lt;input type="hidden" name="cars[]" value="Volvo"&gt;
&lt;input type="hidden" name="cars[]" value="Saab"&gt;
&lt;input type="hidden" name="cars[]" value="Mercedes"&gt;
</pre></div>

<hr>
<p><strong>NOTE:</strong> Using <code>field[]</code> for multiple values is really poorly documented. I
don't see any mention of it in the section on multi-valued keys in Query
string - Wikipedia, or in the W3C docs dealing with multi-select inputs.</p>
<hr>
<p><strong>UPDATE</strong></p>
<p>As commenters have pointed out, this is very much framework-specific. Some
examples:</p>
<p><strong>Query string:</strong></p>
<div class="code"><pre class="code literal-block">?list_a=1&amp;list_a=2&amp;list_a=3&amp;list_b[]=1&amp;list_b[]=2&amp;list_b[]=3&amp;list_c=1,2,3
</pre></div>

<p><strong>Rails:</strong></p>
<div class="code"><pre class="code literal-block">"list_a": "3", 
"list_b":[
    "1",
    "2",
    "3"
  ], 
"list_c": "1,2,3"
</pre></div>

<p><strong>Angular:</strong></p>
<div class="code"><pre class="code literal-block"> "list_a": [
    "1",
    "2",
    "3"
  ],
  "list_b[]": [
    "1",
    "2",
    "3"
  ],
  "list_c": "1,2,3"
</pre></div>

<p>(Angular discussion)</p>
<p>See comments for examples in <strong>node.js</strong> , <strong>Wordpress</strong> , <strong>ASP.net</strong></p>
<hr>
<p><strong>Maintaining order:</strong> One more thing to consider is that if you need to
maintain the <em>order</em> of your items (i.e. array as an ordered list), you really
only have one option, which is passing a delimited list of values, and
explicitly converting it to an array yourself.</p>
<p><br></p>
<h3>Suggest</h3>
<p>A query string carries textual data so there is no option but to explode the
array, encode it correctly and pass it in a representational format of your
choice:</p>
<p><code>p1=value1&amp;pN=valueN...</code><br><code>data=[value1,...,valueN]</code><br><code>data={p1:value1,...,pN:valueN}</code></p>
<p>and then decode it in your server side code.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/target-blank-vs-target-new/" class="u-url">target="_blank" vs. target="_new"</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/target-blank-vs-target-new/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T05:56:56+08:00" itemprop="datePublished" title="2023-02-18 05:56">2023-02-18 05:56</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What's the difference between <code>&lt;a target="_new"&gt;</code> and <code>&lt;a target="_blank"&gt;</code>
and which should I use if I just want to open a link in a new tab/window?</p>
<p><br><br></p>
<h2>Answer</h2>
<h2>Use "_blank"</h2>
<p>According to the HTML5 Spec:</p>
<blockquote>
<p>A <strong>valid browsing context name</strong> is any string with at least one character
that does not start with a U+005F LOW LINE character. (Names starting with
an underscore are reserved for special keywords.)</p>
<p>A <strong>valid browsing context name or keyword</strong> is any string that is either a
valid browsing context name or that is an ASCII case-insensitive match for
one of: _blank, _self, _parent, or _top." - Source</p>
</blockquote>
<p>That means that there is no such keyword as <code>_new</code> in HTML5, and not in HTML4
(and consequently XHTML) either. That means, that there will be no consistent
behavior whatsoever if you use this as a value for the target attribute.</p>
<h4>Security recommendation</h4>
<p>As Daniel and Michael have pointed out in the comments, when using target
<code>_blank</code> pointing to an untrusted website, you should, in addition, set
<code>rel="noopener"</code>. This prevents the opening site to mess with the opener via
JavaScript. See this post for more information.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Using <code>target="_blank"</code> will instruct the browser to create a new browser tab
or window when the user clicks on the link.</p>
<p>Using <code>target="_new"</code> is technically invalid according to the specifications,
but as far as I know every browser will behave the same way:</p>
<ul>
<li>it will search for a tab or window with the context name "_new"</li>
<li>if a "_new" tab/window is found, then the URL is loaded into it</li>
<li>if it's not found, a new tab/window is created with the context name "_new", and the URL loaded into it</li>
</ul>
<p>Note <code>target="_new"</code> will behave exactly the same as <code>target="new"</code>, and the
latter is valid HTML while the former is invalid HTML.</p>
<p>Adding some confusion to this, in HTML4 the <code>target</code> attribute was deprecated.
In HTML5 this decision was reversed, and it is an official part of the spec
once again. All browsers support <code>target</code> no matter what version of HTML you
are using, but some validators will flag the use as deprecated if your doctype
is HTML4.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/which-is-faster-stack-allocation-or-heap-allocation/" class="u-url">Which is faster: Stack allocation or Heap allocation</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/which-is-faster-stack-allocation-or-heap-allocation/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T05:56:28+08:00" itemprop="datePublished" title="2023-02-18 05:56">2023-02-18 05:56</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>This question may sound fairly elementary, but this is a debate I had with
another developer I work with.</p>
<p>I was taking care to stack allocate things where I could, instead of heap
allocating them. He was talking to me and watching over my shoulder and
commented that it wasn't necessary because they are the same performance wise.</p>
<p>I was always under the impression that growing the stack was constant time,
and heap allocation's performance depended on the current complexity of the
heap for both allocation (finding a hole of the proper size) and de-allocating
(collapsing holes to reduce fragmentation, as many standard library
implementations take time to do this during deletes if I am not mistaken).</p>
<p>This strikes me as something that would probably be very compiler dependent.
For this project in particular I am using a Metrowerks compiler for the PPC
architecture. Insight on this combination would be most helpful, but in
general, for GCC, and MSVC++, what is the case? Is heap allocation not as high
performing as stack allocation? Is there no difference? Or are the differences
so minute it becomes pointless micro-optimization.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Stack allocation is much faster since all it really does is move the stack
pointer. Using memory pools, you can get comparable performance out of heap
allocation, but that comes with a slight added complexity and its own
headaches.</p>
<p>Also, stack vs. heap is not only a performance consideration; it also tells
you a lot about the expected lifetime of objects.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Stack is much faster. It literally only uses a single instruction on most
architectures, in most cases, e.g. on x86:</p>
<div class="code"><pre class="code literal-block">sub esp, 0x10
</pre></div>

<p>(That moves the stack pointer down by 0x10 bytes and thereby "allocates" those
bytes for use by a variable.)</p>
<p>Of course, the stack's size is very, very finite, as you will quickly find out
if you overuse stack allocation or try to do recursion :-)</p>
<p>Also, there's little reason to optimize the performance of code that doesn't
verifiably need it, such as demonstrated by profiling. "Premature
optimization" often causes more problems than it's worth.</p>
<p>My rule of thumb: if I know I'm going to need some data <em>at compile-time</em> ,
and it's under a few hundred bytes in size, I stack-allocate it. Otherwise I
heap-allocate it.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1296.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1294.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

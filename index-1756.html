<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1756) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1756.html">
<link rel="prev" href="index-1757.html" type="text/html">
<link rel="next" href="index-1755.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-array-to-pointer-decay/" class="u-url">What is array to pointer decay?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-array-to-pointer-decay/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T08:37:33+08:00" itemprop="datePublished" title="2023-03-03 08:37">2023-03-03 08:37</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What is array to pointer decay? Is there any relation to array pointers?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>It's said that arrays "decay" into pointers. A C++ array declared as <code>int
numbers [5]</code> cannot be re-pointed, i.e. you can't say <code>numbers = 0x5a5aff23</code>.
More importantly the term decay signifies loss of type and dimension;
<code>numbers</code> decay into <code>int*</code> by losing the dimension information (count 5) and
the type is not <code>int [5]</code> any more. Look here for cases where the decay
doesn't happen.</p>
<p>If you're passing an array by value, what you're really doing is copying a
pointer - a pointer to the array's first element is copied to the parameter
(whose type should also be a pointer the array element's type). This works due
to array's decaying nature; once decayed, <code>sizeof</code> no longer gives the
complete array's size, because it essentially becomes a pointer. This is why
it's preferred (among other reasons) to pass by reference or pointer.</p>
<p>Three ways to pass in an array1:</p>
<div class="code"><pre class="code literal-block"><span class="n">void</span><span class="w"> </span><span class="n">by_value</span><span class="p">(</span><span class="n">const</span><span class="w"> </span><span class="n">T</span><span class="o">*</span><span class="w"> </span><span class="k">array</span><span class="p">)</span><span class="w">   </span><span class="o">//</span><span class="w"> </span><span class="n">const</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="k">array</span><span class="err">[]</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span>
<span class="n">void</span><span class="w"> </span><span class="n">by_pointer</span><span class="p">(</span><span class="n">const</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="k">array</span><span class="p">)</span><span class="o">[</span><span class="n">U</span><span class="o">]</span><span class="p">)</span>
<span class="n">void</span><span class="w"> </span><span class="n">by_reference</span><span class="p">(</span><span class="n">const</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="p">(</span><span class="o">&amp;</span><span class="k">array</span><span class="p">)</span><span class="o">[</span><span class="n">U</span><span class="o">]</span><span class="p">)</span>
</pre></div>

<p>The last two will give proper <code>sizeof</code> info, while the first one won't since
the array argument has decayed to be assigned to the parameter.</p>
<p>1 The constant U should be known at compile-time.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Arrays are basically the same as pointers in C/C++, but not quite. Once you
convert an array:</p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="nb nb-Type">int</span><span class="w"> </span><span class="n">a</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="p">};</span>
</pre></div>

<p>into a pointer (which works without casting, and therefore can happen
unexpectedly in some cases):</p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="nb nb-Type">int</span><span class="o">*</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
</pre></div>

<p>you lose the ability of the <code>sizeof</code> operator to count elements in the array:</p>
<div class="code"><pre class="code literal-block">assert( sizeof(p) != sizeof(a) );  // sizes are not equal
</pre></div>

<p>This lost ability is referred to as "decay".</p>
<p>For more details, check out this article about array decay.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/why-should-i-not-wrap-every-block-in-try-catch/" class="u-url">Why should I not wrap every block in "try"-"catch"?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/why-should-i-not-wrap-every-block-in-try-catch/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T08:37:07+08:00" itemprop="datePublished" title="2023-03-03 08:37">2023-03-03 08:37</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have always been of the belief that if a method can throw an exception then
it is reckless not to protect this call with a meaningful try block.</p>
<p>I just posted ' <em>You should ALWAYS wrap calls that can throw in try, catch
blocks.</em> ' to this question and was told that it was 'remarkably bad advice' -
I'd like to understand why.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>A method should only catch an exception when it can handle it in some sensible
way.</p>
<p>Otherwise, pass it on up, in the hope that a method higher up the call stack
can make sense of it.</p>
<p>As others have noted, it is good practice to have an unhandled exception
handler (with logging) at the highest level of the call stack to ensure that
any fatal errors are logged.</p>
<p><br></p>
<h3>Suggest</h3>
<p>As Mitch and others stated, you shouldn't catch an exception that you do not
plan on handling in some way. You should consider how the application is going
to systematically handle exceptions when you are designing it. This usually
leads to having layers of error handling based on the abstractions - for
example, you handle all SQL-related errors in your data access code so that
the part of the application that is interacting with domain objects is not
exposed to the fact that there is a DB under the hood somewhere.</p>
<p>There are a few related code smells that you definitely want to avoid in
addition to the <em>"catch everything everywhere"</em> smell.</p>
<ol>
<li>
<p><em>"catch, log, rethrow"</em> : if you want scoped based logging, then write a class that emits a log statement in its destructor when the stack is unrolling due to an exception (ala <code>std::uncaught_exception()</code>). All that you need to do is declare a logging instance in the scope that you are interested in and, voila, you have logging and no unnecessary <code>try</code>/<code>catch</code> logic.</p>
</li>
<li>
<p><em>"catch, throw translated"</em> : this usually points to an abstraction problem. Unless you are implementing a federated solution where you are translating several specific exceptions into one more generic one, you probably have an unnecessary layer of abstraction... <em>and don't say that "I might need it tomorrow"</em>.</p>
</li>
<li>
<p><em>"catch, cleanup, rethrow"</em> : this is one of my pet-peeves. If you see a lot of this, then you should apply <em>Resource Acquisition is Initialization</em> techniques and place the cleanup portion in the destructor of a <em>janitor</em> object instance.</p>
</li>
</ol>
<p>I consider code that is littered with <code>try</code>/<code>catch</code> blocks to be a good target
for code review and refactoring. It indicates that either exception handling
is not well understood or the code has become an amœba and is in serious need
of refactoring.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-does-the-static-modifier-after-import-mean/" class="u-url">What does the "static" modifier after "import" mean?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-does-the-static-modifier-after-import-mean/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T08:36:46+08:00" itemprop="datePublished" title="2023-03-03 08:36">2023-03-03 08:36</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>When used like this:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">static</span> <span class="n">com</span><span class="o">.</span><span class="n">showboy</span><span class="o">.</span><span class="n">Myclass</span><span class="p">;</span>

<span class="n">public</span> <span class="k">class</span> <span class="nc">Anotherclass</span><span class="p">{}</span>
</pre></div>

<p>what's the difference between <code>import static com.showboy.Myclass</code> and <code>import
com.showboy.Myclass</code>?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>See Documentation</p>
<blockquote>
<p>The static import declaration is analogous to the normal import declaration.
Where the normal import declaration imports classes from packages, allowing
them to be used without package qualification, the static import declaration
imports static members from classes, allowing them to be used without class
qualification.</p>
<p>So when should you use static import? Very sparingly! Only use it when you'd
otherwise be tempted to declare local copies of constants, or to abuse
inheritance (the Constant Interface Antipattern). In other words, use it
when you require frequent access to static members from one or two classes.
If you overuse the static import feature, it can make your program
unreadable and unmaintainable, polluting its namespace with all the static
members you import. Readers of your code (including you, a few months after
you wrote it) will not know which class a static member comes from.
Importing all of the static members from a class can be particularly harmful
to readability; if you need only one or two members, import them
individually. Used appropriately, static import can make your program more
readable, by removing the boilerplate of repetition of class names.</p>
</blockquote>
<p><br></p>
<h3>Suggest</h3>
<p>There is no difference between those two imports you state. You can, however,
use the static import to allow unqualified access to static members of other
classes. Where I used to have to do this:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">org.apache.commons.lang.StringUtils</span><span class="p">;</span>
      <span class="o">.</span>
      <span class="o">.</span>
      <span class="o">.</span>
<span class="k">if</span> <span class="p">(</span><span class="n">StringUtils</span><span class="o">.</span><span class="n">isBlank</span><span class="p">(</span><span class="n">aString</span><span class="p">))</span> <span class="p">{</span>
      <span class="o">.</span>
      <span class="o">.</span>
      <span class="o">.</span>
</pre></div>

<p>I can do this:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">static</span> <span class="n">org</span><span class="o">.</span><span class="n">apache</span><span class="o">.</span><span class="n">commons</span><span class="o">.</span><span class="n">lang</span><span class="o">.</span><span class="n">StringUtils</span><span class="o">.</span><span class="n">isBlank</span><span class="p">;</span>
      <span class="o">.</span>
      <span class="o">.</span>
      <span class="o">.</span>
<span class="k">if</span> <span class="p">(</span><span class="n">isBlank</span><span class="p">(</span><span class="n">aString</span><span class="p">))</span> <span class="p">{</span>
      <span class="o">.</span>
      <span class="o">.</span>
      <span class="o">.</span>
</pre></div>

<p>You can see more in the documentation.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1757.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1755.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 111) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-111.html">
<link rel="prev" href="index-112.html" type="text/html">
<link rel="next" href="index-110.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/shi-yao-shi-mvp-he-mvc-you-shi-yao-qu-bie/" class="u-url">什么是 MVP 和 MVC，有什么区别？</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/shi-yao-shi-mvp-he-mvc-you-shi-yao-qu-bie/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T21:43:26+08:00" itemprop="datePublished" title="2023-02-16 21:43">2023-02-16 21:43</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p><strong>想要改进这篇文章？</strong> 提供此问题的详细答案，包括引用和解释为什么你的答案是正确的。不够详细的答案可能会被编辑或删除。</p>
<p>当超越许多工具鼓励的RAD（拖放和配置）构建用户界面的方式时，您可能会遇到三种设计模式，称为Model-View-Controller、Model-
View-Presenter和Model-View-ViewModel。我的问题分为三个部分：</p>
<ol>
<li>这些模式解决了哪些问题？</li>
<li>它们有何相似之处？</li>
<li>它们有何不同？</li>
</ol>
<p><br><br></p>
<h2>解答</h2>
<h3>模型视图展示器</h3>
<p>在 <strong>MVP</strong> 中，Presenter 包含 View 的 UI 业务逻辑。来自 View 的所有调用都直接委托给
Presenter。Presenter 也直接与 View 解耦，并通过接口与它对话。这是为了允许在单元测试中模拟视图。MVP
的一个共同属性是必须有大量的双向调度。例如，当有人单击“保存”按钮时，事件处理程序将委托给 Presenter
的“OnSave”方法。保存完成后，Presenter会通过接口回调View，让View显示保存完成。</p>
<p>MVP 往往是在 WebForms 中实现分离表示的一种非常自然的模式。原因是视图总是首先由 ASP.NET
运行时创建。您可以找到有关这两种变体的更多信息。</p>
<h4>两个主要变化</h4>
<p><strong>被动视图：</strong> 视图尽可能愚蠢并且几乎包含零逻辑。Presenter 是与 View 和 Model 对话的中间人。视图和模型完全相互屏蔽。Model
可能会引发事件，但 Presenter 会订阅它们以更新 View。在 Passive View 中没有直接的数据绑定，相反，View 公开了
Presenter 用来设置数据的 setter 属性。所有状态都在 Presenter 而不是 View 中管理。</p>
<ul>
<li>Pro：最大可测试面；视图和模型的干净分离</li>
<li>缺点：当您自己进行所有数据绑定时，需要做更多的工作（例如所有 setter 属性）。</li>
</ul>
<p><strong>监督控制器：</strong> Presenter 处理用户手势。视图通过数据绑定直接绑定到模型。在这种情况下，Presenter 的工作是将 Model 传递给
View，以便它可以绑定到它。Presenter 还将包含手势逻辑，例如按下按钮、导航等。</p>
<ul>
<li>优点：通过利用数据绑定减少了代码量。</li>
<li>缺点：可测试面较少（由于数据绑定），并且视图中的封装较少，因为它直接与模型对话。</li>
</ul>
<h3>模型-视图-控制器</h3>
<p>在 <strong>MVC</strong> 中，控制器负责确定显示哪个视图以响应任何操作，包括应用程序加载时。这与 MVP 不同，在 MVP 中，操作通过 View 路由到
Presenter。在 MVC 中，View 中的每个动作都与对 Controller 的调用以及一个动作相关联。在 web 中，每个动作都涉及对 URL
的调用，在该 URL 的另一端有一个响应的控制器。一旦该控制器完成其处理，它将返回正确的视图。该序列在应用程序的整个生命周期中以这种方式继续：</p>
<div class="code"><pre class="code literal-block"><span class="w">    </span><span class="err">视图中的操作</span>
<span class="w">        </span><span class="o">-&gt;</span><span class="w"> </span><span class="err">调用控制器</span>
<span class="w">        </span><span class="o">-&gt;</span><span class="w"> </span><span class="err">控制器逻辑</span>
<span class="w">        </span><span class="o">-&gt;</span><span class="w"> </span><span class="err">控制器返回视图。</span>
</pre></div>

<p>MVC 的另一个重要区别是视图不直接绑定到模型。视图只是呈现并且是完全无状态的。在 MVC 的实现中，View 通常不会在代码背后有任何逻辑。这与绝对必要的
MVP 相反，因为如果 View 不委托给 Presenter，它将永远不会被调用。</p>
<h3>演示模型</h3>
<p>另一个要看的模式是 <strong>演示模型</strong> 图案。在这种模式中，没有 Presenter。相反，View 直接绑定到 Presentation
Model。Presentation
Model是专门为View设计的Model。这意味着该模型可以公开永远不会放在域模型上的属性，因为这会违反关注点分离。在这种情况下，Presentation
Model 绑定到域模型并且可以订阅来自该模型的事件。View 然后订阅来自 Presentation Model
的事件并相应地更新自己。表示模型可以公开视图用于调用操作的命令。这种方法的优点是您基本上可以完全删除代码隐藏，因为 PM 完全封装了视图的所有行为。模型-
视图-视图模型。</p>
<p>有一篇关于演示模型的 MSDN 文章和WPF（前 Prism）复合应用指南中关于分离演示模式的部分</p>
<p><br></p>
<h3>更多建议</h3>
<p>这是对这些设计模式的许多变体的过度简化，但这就是我喜欢思考两者之间差异的方式。</p>
<p><strong>MVC</strong></p>
<p><img alt="MVC" src="images/X3CAF.png"></p>
<p><strong>最有价值球员</strong></p>
<p><img alt="在此处输入图像描述" src="images/Pa0iB.png"></p>
<p><br><br><a href="posts/what-are-mvp-and-mvc-and-what-is-the-difference/">查看原文</a></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/ru-he-zai-vim-zhong-yong-huan-xing-fu-ti-huan-yi-ge-zi-fu/" class="u-url">如何在 Vim 中用换行符替换一个字符</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/ru-he-zai-vim-zhong-yong-huan-xing-fu-ti-huan-yi-ge-zi-fu/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T21:42:46+08:00" itemprop="datePublished" title="2023-02-16 21:42">2023-02-16 21:42</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>我正在尝试<code>,</code>用新行替换当前文件中的每个：</p>
<div class="code"><pre class="code literal-block">:%s/,/\n/g
</pre></div>

<p>但它插入了看起来像 a<code>^@</code>而不是实际换行符的内容。该文件未处于 DOS 模式或其他任何模式。</p>
<p>我应该怎么办？</p>
<p>如果你像我一样好奇，请查看问题 <em>Why is \ra newline for Vim?</em> 以及。</p>
<p><br><br></p>
<h2>解答</h2>
<h3>使用<code>\r</code>而不是<code>\n</code>。</h3>
<p>替换为<code>\n</code>在文本中插入一个空字符。要换行，请使用<code>\r</code>. 但是，在 <em>搜索</em> 换行符时，您仍会使用<code>\n</code>。这种不对称是由于<code>\n</code>和<code>\r</code>
做的事情略有不同：</p>
<p><code>\n</code>匹配行尾（换行），而<code>\r</code>匹配回车。另一方面，在替换中<code>\n</code>插入空字符而<code>\r</code>插入换行符（更准确地说，它被视为输入<code>CR</code>）。这是一个使用
Vim 命令行功能的非交互式小示例来说明这一点（换句话说，您可以将以下内容复制并粘贴到终端中以运行它）。<code>xxd</code>显示结果文件的十六进制转储。</p>
<div class="code"><pre class="code literal-block"><span class="nt">echo</span><span class="w"> </span><span class="nt">bar</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nt">test</span>
<span class="o">(</span><span class="nt">echo</span><span class="w"> </span><span class="s1">'Before:'</span><span class="o">;</span><span class="w"> </span><span class="nt">xxd</span><span class="w"> </span><span class="nt">test</span><span class="o">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nt">output</span><span class="p">.</span><span class="nc">txt</span>
<span class="nt">vim</span><span class="w"> </span><span class="nt">test</span><span class="w"> </span><span class="s1">'+s/b/\n/'</span><span class="w"> </span><span class="s1">'+s/a/\r/'</span><span class="w"> </span><span class="o">+</span><span class="nt">wq</span>
<span class="o">(</span><span class="nt">echo</span><span class="w"> </span><span class="s1">'After:'</span><span class="o">;</span><span class="w"> </span><span class="nt">xxd</span><span class="w"> </span><span class="nt">test</span><span class="o">)</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="nt">output</span><span class="p">.</span><span class="nc">txt</span>
<span class="nt">more</span><span class="w"> </span><span class="nt">output</span><span class="p">.</span><span class="nc">txt</span>



<span class="nt">Before</span><span class="o">:</span>
<span class="nt">0000000</span><span class="o">:</span><span class="w"> </span><span class="nt">6261</span><span class="w"> </span><span class="nt">720a</span><span class="w">                                </span><span class="nt">bar</span><span class="o">.</span>
<span class="nt">After</span><span class="o">:</span>
<span class="nt">0000000</span><span class="o">:</span><span class="w"> </span><span class="nt">000a</span><span class="w"> </span><span class="nt">720a</span><span class="w">                                </span><span class="o">.</span><span class="p">.</span><span class="nc">r</span><span class="o">.</span>
</pre></div>

<p>也就是说，<code>\n</code>在文本中插入了字节0x00；<code>\r</code>已插入字节 0x0a。</p>
<p><br></p>
<h3>更多建议</h3>
<p>这是诀窍：</p>
<p>首先，将您的 Vi(m) 会话设置为允许与特殊字符（即：换行符）进行模式匹配。将这一行放在 .vimrc 或 .exrc 文件中可能是值得的：</p>
<div class="code"><pre class="code literal-block">:set magic
</pre></div>

<p>接下来，做：</p>
<div class="code"><pre class="code literal-block">:s/,/,^M/g
</pre></div>

<p>要获取<code>^M</code>角色，请键入<code>Ctrl</code>+<code>V</code>并点击<code>Enter</code>。在 Windows 下，执行<code>Ctrl</code>+ <code>Q</code>,
<code>Enter</code>。我能记住这些的唯一方法是记住它们是多么没有意义：</p>
<blockquote>
<p>A： <em>用来表示换行符的最糟糕的控制字符是什么？</em></p>
<p>B： <em>要么<code>q</code>（因为它通常表示“退出”），要么<code>v</code>因为很容易误输入<code>Ctrl</code>+<code>C</code>并杀死编辑器。</em></p>
<p>A： <em>就这样吧。</em></p>
</blockquote>
<p><br><br><a href="posts/how-to-replace-a-character-by-a-newline-in-vim/">查看原文</a></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/ru-he-zai-c-zhong-sheng-cheng-sui-ji-zheng-shu/" class="u-url">如何在 C# 中生成随机整数？</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/ru-he-zai-c-zhong-sheng-cheng-sui-ji-zheng-shu/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T21:42:14+08:00" itemprop="datePublished" title="2023-02-16 21:42">2023-02-16 21:42</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>如何在 C# 中生成随机整数？</p>
<p><br><br></p>
<h2>解答</h2>
<p>该类<code>Random</code>用于创建随机数。（当然是伪随机。）。</p>
<p>例子：</p>
<div class="code"><pre class="code literal-block"><span class="k">Random</span><span class="w"> </span><span class="nv">rnd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="k">Random</span><span class="ss">()</span><span class="c1">;</span>
<span class="nv">int</span><span class="w"> </span><span class="nv">month</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nv">rnd</span>.<span class="k">Next</span><span class="ss">(</span><span class="mi">1</span>,<span class="w"> </span><span class="mi">13</span><span class="ss">)</span><span class="c1">;  // creates a number between 1 and 12</span>
<span class="nv">int</span><span class="w"> </span><span class="nv">dice</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="nv">rnd</span>.<span class="k">Next</span><span class="ss">(</span><span class="mi">1</span>,<span class="w"> </span><span class="mi">7</span><span class="ss">)</span><span class="c1">;   // creates a number between 1 and 6</span>
<span class="nv">int</span><span class="w"> </span><span class="nv">card</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="nv">rnd</span>.<span class="k">Next</span><span class="ss">(</span><span class="mi">52</span><span class="ss">)</span><span class="c1">;     // creates a number between 0 and 51</span>
</pre></div>

<p>如果您要创建多个随机数，则应保留该<code>Random</code>实例并重新使用它。如果您创建的新实例时间太近，它们将产生与随机生成器从系统时钟播种的相同系列的随机数。</p>
<p><br></p>
<h3>更多建议</h3>
<p>问题看起来很简单，但答案有点复杂。如果你看到几乎每个人都建议使用 Random 类，有些人建议使用 RNG 加密类。但是什么时候选择什么。</p>
<p>为此，我们需要首先了解随机性一词及其背后的哲学。</p>
<p>我鼓励您观看我制作的这段视频，它深入探讨了使用 C# 的随机性哲学https://www.youtube.com/watch?v=tCYxc-2-3fY</p>
<p>首先让我们了解随机性的哲学。当我们告诉一个人在红色、绿色和黄色之间进行选择时，内心会发生什么。是什么让一个人选择红色、黄色或绿色？</p>
<p><img alt="C#随机" src="images/nsoQL.png"></p>
<p>一些最初的想法进入了人们的脑海，决定了他的选择，它可以是最喜欢的颜色，幸运的颜色等等。换句话说，我们在 RANDOM 中称为 SEED
的一些初始触发器。这个 SEED 是起点，是促使他选择 RANDOM 值的触发器。</p>
<p>现在，如果一个 SEED 很容易被猜到，那么这些随机数被称为 <strong>伪随机</strong> 数，而当一个种子很难被猜到时，这些随机数被称为 <strong>SECURED</strong>
随机数。</p>
<p>例如，一个人选择的颜色取决于天气和声音的组合，那么就很难猜出最初的种子。</p>
<p><img alt="C#随机" src="images/vQ9y5.png"></p>
<p>现在让我做一个重要的声明：-</p>
<p>*“随机”类仅生成伪随机数，要生成安全随机数，我们需要使用“RNGCryptoServiceProvider”类。</p>
<p><img alt="C#随机" src="images/JJ93T.png"></p>
<p>Random 类从您的 CPU 时钟中获取种子值，这是非常可预测的。所以换句话说，C# 的 RANDOM 类生成伪随机数，下面是相同的代码。</p>
<div class="code"><pre class="code literal-block"><span class="k">Random</span><span class="w"> </span><span class="k">random</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="k">Random</span><span class="ss">()</span><span class="c1">;</span>
<span class="nv">int</span><span class="w"> </span><span class="nv">randomNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">random</span>.<span class="k">Next</span><span class="ss">()</span><span class="c1">;</span>
</pre></div>

<p>虽然该类<code>RNGCryptoServiceProvider</code>使用 OS
熵来生成种子。操作系统熵是一个随机值，它是使用声音、鼠标点击、键盘计时、热温度等生成的。下面是相同的代码。</p>
<div class="code"><pre class="code literal-block">using (RNGCryptoServiceProvider rg = new RNGCryptoServiceProvider()) 
{ 
    byte[] rno = new byte[5];    
    rg.GetBytes(rno);    
    int randomvalue = BitConverter.ToInt32(rno, 0); 
}
</pre></div>

<p>要了解操作系统熵，请观看我从 14:30
开始的视频https://www.youtube.com/watch?v=tCYxc-2-3fY，其中解释了操作系统熵的逻辑。因此，简单来说，RNG
Crypto 会生成安全的随机数。</p>
<p><br><br><a href="posts/how-do-i-generate-a-random-integer-in-c/">查看原文</a></p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-112.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-110.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

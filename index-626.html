<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 626) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-626.html">
<link rel="prev" href="index-627.html" type="text/html">
<link rel="next" href="index-625.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/why-isn-t-sizeof-for-a-struct-equal-to-the-sum-of-sizeof-of-each-member/" class="u-url">Why isn't sizeof for a struct equal to the sum of sizeof of each member?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/why-isn-t-sizeof-for-a-struct-equal-to-the-sum-of-sizeof-of-each-member/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T11:41:37+08:00" itemprop="datePublished" title="2023-02-17 11:41">2023-02-17 11:41</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Why does the <code>sizeof</code> operator return a size larger for a structure than the
total sizes of the structure's members?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>This is because of padding added to satisfy alignment constraints. Data
structure alignment impacts both performance and correctness of programs:</p>
<ul>
<li>Mis-aligned access might be a hard error (often <code>SIGBUS</code>).</li>
<li>Mis-aligned access might be a soft error. <ul>
<li>Either corrected in hardware, for a modest performance-degradation.</li>
<li>Or corrected by emulation in software, for a severe performance-degradation.</li>
<li>In addition, atomicity and other concurrency-guarantees might be broken, leading to subtle errors.</li>
</ul>
</li>
</ul>
<p>Here's an example using typical settings for an x86 processor (all used 32 and
64 bit modes):</p>
<div class="code"><pre class="code literal-block"><span class="n">struct</span><span class="w"> </span><span class="n">X</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">short</span><span class="w"> </span><span class="n">s</span><span class="p">;</span><span class="w"> </span><span class="o">/*</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">bytes</span><span class="w"> </span><span class="o">*/</span>
<span class="w">             </span><span class="o">/*</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">padding</span><span class="w"> </span><span class="n">bytes</span><span class="w"> </span><span class="o">*/</span>
<span class="w">    </span><span class="nb nb-Type">int</span><span class="w">   </span><span class="n">i</span><span class="p">;</span><span class="w"> </span><span class="o">/*</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="n">bytes</span><span class="w"> </span><span class="o">*/</span>
<span class="w">    </span><span class="nb">char</span><span class="w">  </span><span class="n">c</span><span class="p">;</span><span class="w"> </span><span class="o">/*</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">byte</span><span class="w"> </span><span class="o">*/</span>
<span class="w">             </span><span class="o">/*</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">padding</span><span class="w"> </span><span class="n">bytes</span><span class="w"> </span><span class="o">*/</span>
<span class="p">};</span>

<span class="n">struct</span><span class="w"> </span><span class="n">Y</span>
<span class="p">{</span>
<span class="w">    </span><span class="nb nb-Type">int</span><span class="w">   </span><span class="n">i</span><span class="p">;</span><span class="w"> </span><span class="o">/*</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="n">bytes</span><span class="w"> </span><span class="o">*/</span>
<span class="w">    </span><span class="nb">char</span><span class="w">  </span><span class="n">c</span><span class="p">;</span><span class="w"> </span><span class="o">/*</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">byte</span><span class="w"> </span><span class="o">*/</span>
<span class="w">             </span><span class="o">/*</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">padding</span><span class="w"> </span><span class="n">byte</span><span class="w"> </span><span class="o">*/</span>
<span class="w">    </span><span class="n">short</span><span class="w"> </span><span class="n">s</span><span class="p">;</span><span class="w"> </span><span class="o">/*</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">bytes</span><span class="w"> </span><span class="o">*/</span>
<span class="p">};</span>

<span class="n">struct</span><span class="w"> </span><span class="n">Z</span>
<span class="p">{</span>
<span class="w">    </span><span class="nb nb-Type">int</span><span class="w">   </span><span class="n">i</span><span class="p">;</span><span class="w"> </span><span class="o">/*</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="n">bytes</span><span class="w"> </span><span class="o">*/</span>
<span class="w">    </span><span class="n">short</span><span class="w"> </span><span class="n">s</span><span class="p">;</span><span class="w"> </span><span class="o">/*</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">bytes</span><span class="w"> </span><span class="o">*/</span>
<span class="w">    </span><span class="nb">char</span><span class="w">  </span><span class="n">c</span><span class="p">;</span><span class="w"> </span><span class="o">/*</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">byte</span><span class="w"> </span><span class="o">*/</span>
<span class="w">             </span><span class="o">/*</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">padding</span><span class="w"> </span><span class="n">byte</span><span class="w"> </span><span class="o">*/</span>
<span class="p">};</span>

<span class="k">const</span><span class="w"> </span><span class="nb nb-Type">int</span><span class="w"> </span><span class="n">sizeX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sizeof</span><span class="p">(</span><span class="n">struct</span><span class="w"> </span><span class="n">X</span><span class="p">);</span><span class="w"> </span><span class="o">/*</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="o">*/</span>
<span class="k">const</span><span class="w"> </span><span class="nb nb-Type">int</span><span class="w"> </span><span class="n">sizeY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sizeof</span><span class="p">(</span><span class="n">struct</span><span class="w"> </span><span class="n">Y</span><span class="p">);</span><span class="w"> </span><span class="o">/*</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="o">*/</span>
<span class="k">const</span><span class="w"> </span><span class="nb nb-Type">int</span><span class="w"> </span><span class="n">sizeZ</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sizeof</span><span class="p">(</span><span class="n">struct</span><span class="w"> </span><span class="n">Z</span><span class="p">);</span><span class="w"> </span><span class="o">/*</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="o">*/</span>
</pre></div>

<p>One can minimize the size of structures by sorting members by alignment
(sorting by size suffices for that in basic types) (like structure <code>Z</code> in the
example above).</p>
<p>IMPORTANT NOTE: Both the C and C++ standards state that structure alignment is
implementation-defined. Therefore each compiler may choose to align data
differently, resulting in different and incompatible data layouts. For this
reason, when dealing with libraries that will be used by different compilers,
it is important to understand how the compilers align data. Some compilers
have command-line settings and/or special <code>#pragma</code> statements to change the
structure alignment settings.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Packing and byte alignment, as described in the C FAQ here:</p>
<blockquote>
<p>It's for alignment. Many processors can't access 2- and 4-byte quantities
(e.g. ints and long ints) if they're crammed in every-which-way.</p>
<p>Suppose you have this structure:</p>
<div class="code"><pre class="code literal-block">struct {
    char a[3];
    short int b;
    long int c;
    char d[3];
};
</pre></div>

<p>Now, you might think that it ought to be possible to pack this structure
into memory like this:</p>
<div class="code"><pre class="code literal-block"><span class="nb">+-------+-------+-------+-------+</span>
<span class="c">|           a           |   b   |</span>
<span class="nb">+-------+-------+-------+-------+</span>
<span class="c">|   b   |           c           |</span>
<span class="nb">+-------+-------+-------+-------+</span>
<span class="c">|   c   |           d           |</span>
<span class="nb">+-------+-------+-------+-------+</span>
</pre></div>

<p>But it's much, much easier on the processor if the compiler arranges it like
this:</p>
<div class="code"><pre class="code literal-block"><span class="nb">+-------+-------+-------+</span>
<span class="c">|           a           |</span>
<span class="nb">+-------+-------+-------+</span>
<span class="c">|       b       |</span>
<span class="nb">+-------+-------+-------+-------+</span>
<span class="c">|               c               |</span>
<span class="nb">+-------+-------+-------+-------+</span>
<span class="c">|           d           |</span>
<span class="nb">+-------+-------+-------+</span>
</pre></div>

<p>In the packed version, notice how it's at least a little bit hard for you
and me to see how the b and c fields wrap around? In a nutshell, it's hard
for the processor, too. Therefore, most compilers will pad the structure (as
if with extra, invisible fields) like this:</p>
<div class="code"><pre class="code literal-block"><span class="nb">+-------+-------+-------+-------+</span>
<span class="c">|           a           | pad1  |</span>
<span class="nb">+-------+-------+-------+-------+</span>
<span class="c">|       b       |     pad2      |</span>
<span class="nb">+-------+-------+-------+-------+</span>
<span class="c">|               c               |</span>
<span class="nb">+-------+-------+-------+-------+</span>
<span class="c">|           d           | pad3  |</span>
<span class="nb">+-------+-------+-------+-------+</span>
</pre></div>

</blockquote>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/module-exports-vs-exports-in-node-js/" class="u-url">module.exports vs exports in Node.js</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/module-exports-vs-exports-in-node-js/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T11:41:06+08:00" itemprop="datePublished" title="2023-02-17 11:41">2023-02-17 11:41</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I've found the following contract in a Node.js module:</p>
<div class="code"><pre class="code literal-block"><span class="n">module</span><span class="o">.</span><span class="n">exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nano</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">database_module</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="o">...</span><span class="p">}</span>
</pre></div>

<p>I wonder what's the difference between <code>module.exports</code> and <code>exports</code> and why
both are used here.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Setting <code>module.exports</code> allows the <code>database_module</code> function to be called
like a function when <code>required</code>. Simply setting <code>exports</code> wouldn't allow the
function to be exported because node exports the object <code>module.exports</code>
references. The following code wouldn't allow the user to call the function.</p>
<h4>module.js</h4>
<p><strong>The following won't work.</strong></p>
<div class="code"><pre class="code literal-block"><span class="n">exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nano</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">database_module</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="k">return</span><span class="p">;}</span>
</pre></div>

<p><strong>The following will work if<code>module.exports</code> is set.</strong></p>
<div class="code"><pre class="code literal-block"><span class="n">module</span><span class="o">.</span><span class="n">exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nano</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">database_module</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="k">return</span><span class="p">;}</span>
</pre></div>

<p><strong>console</strong></p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="k">func</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">require</span><span class="p">(</span><span class="s1">'./module.js'</span><span class="p">);</span>
<span class="o">//</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="o">**</span><span class="n">work</span><span class="o">**</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">module</span><span class="o">.</span><span class="n">exports</span>
<span class="k">func</span><span class="p">();</span>
</pre></div>

<p>Basically <strong>node.js</strong> doesn't export the object that <code>exports</code> currently
references, but exports the properties of what <code>exports</code> originally
references. Although <strong>Node.js</strong> does export the object <code>module.exports</code>
references, allowing you to call it like a function.</p>
<hr>
<h4>2nd least important reason</h4>
<p>They set both <code>module.exports</code> and <code>exports</code> to ensure <code>exports</code> isn't
referencing the prior exported object. By setting both you use <code>exports</code> as a
shorthand and avoid potential bugs later on down the road.</p>
<p>Using <code>exports.prop = true</code> instead of <code>module.exports.prop = true</code> saves
characters and avoids confusion.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Setting <code>module.exports</code> allows the <code>database_module</code> function to be called
like a function when <code>required</code>. Simply setting <code>exports</code> wouldn't allow the
function to be exported because node exports the object <code>module.exports</code>
references. The following code wouldn't allow the user to call the function.</p>
<h4>module.js</h4>
<p><strong>The following won't work.</strong></p>
<div class="code"><pre class="code literal-block"><span class="n">exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nano</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">database_module</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="k">return</span><span class="p">;}</span>
</pre></div>

<p><strong>The following will work if<code>module.exports</code> is set.</strong></p>
<div class="code"><pre class="code literal-block"><span class="n">module</span><span class="o">.</span><span class="n">exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nano</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">database_module</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="k">return</span><span class="p">;}</span>
</pre></div>

<p><strong>console</strong></p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="k">func</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">require</span><span class="p">(</span><span class="s1">'./module.js'</span><span class="p">);</span>
<span class="o">//</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="o">**</span><span class="n">work</span><span class="o">**</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">module</span><span class="o">.</span><span class="n">exports</span>
<span class="k">func</span><span class="p">();</span>
</pre></div>

<p>Basically <strong>node.js</strong> doesn't export the object that <code>exports</code> currently
references, but exports the properties of what <code>exports</code> originally
references. Although <strong>Node.js</strong> does export the object <code>module.exports</code>
references, allowing you to call it like a function.</p>
<hr>
<h4>2nd least important reason</h4>
<p>They set both <code>module.exports</code> and <code>exports</code> to ensure <code>exports</code> isn't
referencing the prior exported object. By setting both you use <code>exports</code> as a
shorthand and avoid potential bugs later on down the road.</p>
<p>Using <code>exports.prop = true</code> instead of <code>module.exports.prop = true</code> saves
characters and avoids confusion.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-drop-a-table-if-it-exists/" class="u-url">How to drop a table if it exists?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-drop-a-table-if-it-exists/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T11:40:37+08:00" itemprop="datePublished" title="2023-02-17 11:40">2023-02-17 11:40</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>The table name is <code>Scores</code>.</p>
<p>Is it correct to do the following?</p>
<div class="code"><pre class="code literal-block"><span class="k">IF</span><span class="w"> </span><span class="nv">EXISTS</span><span class="ss">(</span><span class="nv">SELECT</span><span class="w"> </span><span class="o">*</span>
<span class="w">          </span><span class="nv">FROM</span><span class="w">   </span><span class="nv">dbo</span>.<span class="nv">Scores</span><span class="ss">)</span>
<span class="w">  </span><span class="nv">DROP</span><span class="w"> </span><span class="nv">TABLE</span><span class="w"> </span><span class="nv">dbo</span>.<span class="nv">Scores</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<blockquote>
<p>Is it correct to do the following?</p>
<div class="code"><pre class="code literal-block"><span class="k">IF</span><span class="w"> </span><span class="nv">EXISTS</span><span class="ss">(</span><span class="nv">SELECT</span><span class="w"> </span><span class="o">*</span>
<span class="w">          </span><span class="nv">FROM</span><span class="w">   </span><span class="nv">dbo</span>.<span class="nv">Scores</span><span class="ss">)</span>
<span class="w">  </span><span class="nv">DROP</span><span class="w"> </span><span class="nv">TABLE</span><span class="w"> </span><span class="nv">dbo</span>.<span class="nv">Scores</span>
</pre></div>

</blockquote>
<p><strong>No.</strong> That will drop the table only if it contains any rows (and will raise
an error if the table does not exist).</p>
<p><strong>Instead, for a permanent table you can use</strong></p>
<div class="code"><pre class="code literal-block"><span class="k">IF</span><span class="w"> </span><span class="nv">OBJECT_ID</span><span class="ss">(</span><span class="s1">'dbo.Scores'</span>,<span class="w"> </span><span class="s1">'U'</span><span class="ss">)</span><span class="w"> </span><span class="nv">IS</span><span class="w"> </span><span class="nv">NOT</span><span class="w"> </span><span class="nv">NULL</span><span class="w"> </span>
<span class="w">  </span><span class="nv">DROP</span><span class="w"> </span><span class="nv">TABLE</span><span class="w"> </span><span class="nv">dbo</span>.<span class="nv">Scores</span><span class="c1">;</span>
</pre></div>

<p><strong>Or, for a temporary table you can use</strong></p>
<div class="code"><pre class="code literal-block"><span class="k">IF</span><span class="w"> </span><span class="nv">OBJECT_ID</span><span class="ss">(</span><span class="s1">'tempdb.dbo.#TempTableName'</span>,<span class="w"> </span><span class="s1">'U'</span><span class="ss">)</span><span class="w"> </span><span class="nv">IS</span><span class="w"> </span><span class="nv">NOT</span><span class="w"> </span><span class="nv">NULL</span>
<span class="w">  </span><span class="nv">DROP</span><span class="w"> </span><span class="nv">TABLE</span><span class="w"> </span>#<span class="nv">TempTableName</span><span class="c1">;</span>
</pre></div>

<p>SQL Server 2016+ has a better way, using <code>DROP TABLE IF EXISTS …</code>. See the
answer by @Jovan.</p>
<p><br></p>
<h3>Suggest</h3>
<p>From SQL Server 2016 you can use</p>
<div class="code"><pre class="code literal-block"><span class="nv">DROP</span><span class="w"> </span><span class="nv">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="nv">EXISTS</span><span class="w"> </span><span class="nv">dbo</span>.<span class="nv">Scores</span>
</pre></div>

<p>Reference: DROP IF EXISTS - new thing in SQL Server 2016</p>
<p>It will be in SQL Azure Database soon.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-627.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-625.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

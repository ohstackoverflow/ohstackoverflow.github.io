<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 740) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-740.html">
<link rel="prev" href="index-741.html" type="text/html">
<link rel="next" href="index-739.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-un-revert-a-reverted-git-commit/" class="u-url">How do I "un-revert" a reverted Git commit?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-un-revert-a-reverted-git-commit/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T14:43:27+08:00" itemprop="datePublished" title="2023-02-17 14:43">2023-02-17 14:43</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Given a change that has been committed using <code>commit</code>, and then reverted using
<code>revert</code>, what is the best way to then undo that revert?</p>
<p>Ideally, this should be done with a new commit, so as to not re-write history.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>If you haven't pushed that change yet, <code>git reset --hard HEAD^</code></p>
<p>Otherwise, reverting the revert is perfectly fine.</p>
<p>Another way is to <code>git checkout HEAD^^ -- .</code> and then <code>git add -A &amp;&amp; git
commit</code>.</p>
<p><br></p>
<h3>Suggest</h3>
<p>If you haven't pushed that change yet, <code>git reset --hard HEAD^</code></p>
<p>Otherwise, reverting the revert is perfectly fine.</p>
<p>Another way is to <code>git checkout HEAD^^ -- .</code> and then <code>git add -A &amp;&amp; git
commit</code>.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-run-a-single-test-using-jest/" class="u-url">How do I run a single test using Jest?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-run-a-single-test-using-jest/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T14:42:58+08:00" itemprop="datePublished" title="2023-02-17 14:42">2023-02-17 14:42</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a test 'works with nested children' within the file fix-order-test.js.</p>
<p>Running the below runs all the tests in the file.</p>
<div class="code"><pre class="code literal-block">jest fix-order-test
</pre></div>

<p>How do I run only a single test? The below does not work as it searches for a
file of the regex specified.</p>
<div class="code"><pre class="code literal-block">jest 'works with nested children'
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>From the command line, use the <code>--testNamePattern</code> or <code>-t</code> flag:</p>
<div class="code"><pre class="code literal-block">jest -t 'fix-order-test'
</pre></div>

<p>This will only run tests that match the test name pattern you provide. It's in
the Jest documentation.</p>
<p>Another way is to run tests in watch mode, <code>jest --watch</code>, and then press <code>P</code>
to filter the tests by typing the test file name or <code>T</code> to run a single test
name.</p>
<hr>
<p>If you have an <code>it</code> inside of a <code>describe</code> block, you have to run</p>
<div class="code"><pre class="code literal-block">jest -t '&lt;describeString&gt; &lt;itString&gt;'
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Jest documentation recommends the following:</p>
<blockquote>
<p>If a test is failing, one of the first things to check should be whether the
test is failing when it's the only test that runs. In Jest it's simple to
run only one test - just temporarily change that <code>test</code> command to a
<code>test.only</code></p>
</blockquote>
<div class="code"><pre class="code literal-block">test.only('this will be the only test that runs', () =&gt; {
   expect(true).toBe(false);
});
</pre></div>

<p>or</p>
<div class="code"><pre class="code literal-block">it.only('this will be the only test that runs', () =&gt; {
   expect(true).toBe(false);
});
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/eliminate-extra-separators-below-uitableview/" class="u-url">Eliminate extra separators below UITableView</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/eliminate-extra-separators-below-uitableview/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T14:42:05+08:00" itemprop="datePublished" title="2023-02-17 14:42">2023-02-17 14:42</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>When I set up a table view with 4 rows, there are still extra separators lines
(or extra blank cells) below the filled rows.</p>
<p>How would I remove these cells?</p>
<p><img alt="image for extra separator lines in UITableView" src="images/cFbz5.png"></p>
<p><br><br></p>
<h2>Answer</h2>
<h2>Interface builder (iOS 9+)</h2>
<p>Just drag a UIView to the table. In storyboard, it will sit at the top below
your custom cells. You may prefer to name it "footer".</p>
<p>Here it is shown in green for clarity, you'd probably want clear color.</p>
<p>Note that by adjusting the height, you can affect how the "bottom bounce" of
the table is handled, as you prefer. (Height zero is usually fine).</p>
<p><img alt="enter image description here" src="images/OOwGA.png"></p>
<hr>
<p>To do it programmatically:</p>
<h2>Swift</h2>
<div class="code"><pre class="code literal-block"><span class="n">override</span><span class="w"> </span><span class="k">func</span><span class="w"> </span><span class="n">viewDidLoad</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">super</span><span class="o">.</span><span class="n">viewDidLoad</span><span class="p">()</span>
<span class="w">    </span><span class="bp">self</span><span class="o">.</span><span class="n">tableView</span><span class="o">.</span><span class="n">tableFooterView</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UIView</span><span class="p">()</span>
<span class="p">}</span>
</pre></div>

<h2>Objective-C</h2>
<h3>iOS 6.1+</h3>
<div class="code"><pre class="code literal-block"><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">viewDidLoad</span><span class="w"> </span>
<span class="p">{</span>
<span class="w">    </span><span class="p">[</span><span class="nb">super</span><span class="w"> </span><span class="n">viewDidLoad</span><span class="p">];</span>

<span class="w">    </span><span class="c1">// This will remove extra separators from tableview</span>
<span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">tableView</span><span class="p">.</span><span class="n">tableFooterView</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">UIView</span><span class="w"> </span><span class="n">new</span><span class="p">];</span>
<span class="p">}</span>
</pre></div>

<p>or if you prefer,</p>
<div class="code"><pre class="code literal-block"><span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">tableView</span><span class="p">.</span><span class="n">tableFooterView</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="bp">UIView</span><span class="w"> </span><span class="n">alloc</span><span class="p">]</span><span class="w"> </span><span class="n">initWithFrame</span><span class="o">:</span><span class="n">CGRectZero</span><span class="p">];</span>
</pre></div>

<h3>Historically in iOS:</h3>
<p>Add to the table view controller...</p>
<div class="code"><pre class="code literal-block"><span class="nt">-</span><span class="w"> </span><span class="o">(</span><span class="nt">CGFloat</span><span class="o">)</span><span class="nt">tableView</span><span class="o">:(</span><span class="nt">UITableView</span><span class="w"> </span><span class="o">*)</span><span class="nt">tableView</span><span class="w"> </span><span class="nt">heightForFooterInSection</span><span class="o">:(</span><span class="nt">NSInteger</span><span class="o">)</span><span class="nt">section</span><span class="w"> </span><span class="p">{</span>
<span class="w">     </span><span class="err">//</span><span class="w"> </span><span class="err">This</span><span class="w"> </span><span class="err">will</span><span class="w"> </span><span class="err">create</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">"invisible"</span><span class="w"> </span><span class="err">footer</span>
<span class="w">     </span><span class="err">return</span><span class="w"> </span><span class="err">CGFLOAT_MIN</span><span class="p">;</span>
<span class="w"> </span><span class="p">}</span>
</pre></div>

<p>and if necessary...</p>
<div class="code"><pre class="code literal-block"><span class="p">-</span> <span class="p">(</span><span class="bp">UIView</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nf">tableView:</span><span class="p">(</span><span class="bp">UITableView</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">tableView</span><span class="w"> </span><span class="nf">viewForFooterInSection:</span><span class="p">(</span><span class="n">NSInteger</span><span class="p">)</span><span class="nv">section</span>
<span class="p">{</span><span class="w">        </span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">[</span><span class="bp">UIView</span><span class="w"> </span><span class="n">new</span><span class="p">];</span>

<span class="w">    </span><span class="c1">// If you are not using ARC:</span>
<span class="w">    </span><span class="c1">// return [[UIView new] autorelease];</span>
<span class="p">}</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Here's another way to do that w/out the grouped table style, and one you'd
probably not guess. Adding <del>a header and</del> footer to the table <del>(perhaps one
or the other suffices, haven't checked)</del> causes the separators to disappear
from the filler/blank rows.</p>
<p>I stumbled onto this because I wanted a little space at the top and bottom of
tables to decrease the risk of hitting buttons instead of a table cell with
meaty fingers. Here's a method to stick a blank view in as header and footer.
Use whatever height you like, you still eliminate the extra separator lines.</p>
<div class="code"><pre class="code literal-block"><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="nf">addHeaderAndFooter</span>
<span class="p">{</span>
<span class="w">    </span><span class="bp">UIView</span><span class="w"> </span><span class="o">*</span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="bp">UIView</span><span class="w"> </span><span class="n">alloc</span><span class="p">]</span><span class="w"> </span><span class="n">initWithFrame</span><span class="o">:</span><span class="n">CGRectMake</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">320</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)];</span>
<span class="w">    </span><span class="n">v</span><span class="p">.</span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">UIColor</span><span class="w"> </span><span class="n">clearColor</span><span class="p">];</span>
<span class="w">    </span><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">myTableView</span><span class="w"> </span><span class="n">setTableHeaderView</span><span class="o">:</span><span class="n">v</span><span class="p">];</span>
<span class="w">    </span><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">myTableView</span><span class="w"> </span><span class="n">setTableFooterView</span><span class="o">:</span><span class="n">v</span><span class="p">];</span>
<span class="w">    </span><span class="p">[</span><span class="n">v</span><span class="w"> </span><span class="k">release</span><span class="p">];</span>
<span class="p">}</span>
</pre></div>

<hr>
<p>In response to @Casebash, I went back to the code in my app ("AcmeLists" List
Manager in iTunes store...) and short-circuited the addHeaderAndFooter method
to verify. <strong>Without it</strong> , I have the extra row separators; with the code, I
have what you see in this window snap: no table row separators picture. So I'm
not sure why it wouldn't have worked for you. Moreover, it makes sense to me
that having any custom footer on a table view would necessarily have to stop
drawing row separators for blank rows below it. That would be hideous. For
reference, I looked at tables where there were more rows than could be viewed
on screen, and then for a table with two rows. In both cases, no extraneous
separators.</p>
<p>Perhaps your custom views were not actually added. To check that, set the
background color to something other than <code>clearColor</code>, e.g., <code>[UIColor
redColor]</code>. If you don't see some red bars at the bottom of the table, your
footer wasn't set.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-741.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-739.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

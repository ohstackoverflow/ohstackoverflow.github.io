<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1231) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1231.html">
<link rel="prev" href="index-1232.html" type="text/html">
<link rel="next" href="index-1230.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-go-back-last-page/" class="u-url">How to go back last page</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-go-back-last-page/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T04:24:27+08:00" itemprop="datePublished" title="2023-02-18 04:24">2023-02-18 04:24</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is there a smart way to go back last page in Angular 2?</p>
<p>Something like</p>
<div class="code"><pre class="code literal-block">this._router.navigate(LASTPAGE);
</pre></div>

<p>For example, page C has a <code>Go Back</code> button,</p>
<ul>
<li>
<p>Page A -&gt; Page C, click it, back to page A.</p>
</li>
<li>
<p>Page B -&gt; Page C, click it, back to page B.</p>
</li>
</ul>
<p>Does router have this history information?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Actually you can take advantage of the built-in Location service, which owns a
"Back" API.</p>
<p>Here (in TypeScript):</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="p">{</span><span class="n">Component</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">'@angular/core'</span><span class="p">;</span>
<span class="kn">import</span> <span class="p">{</span><span class="n">Location</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">'@angular/common'</span><span class="p">;</span>

<span class="nd">@Component</span><span class="p">({</span>
  <span class="o">//</span> <span class="n">component</span><span class="s1">'s declarations here</span>
<span class="p">})</span>
<span class="k">class</span> <span class="nc">SomeComponent</span> <span class="p">{</span>

  <span class="n">constructor</span><span class="p">(</span><span class="n">private</span> <span class="n">_location</span><span class="p">:</span> <span class="n">Location</span><span class="p">)</span> 
  <span class="p">{}</span>

  <span class="n">backClicked</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">this</span><span class="o">.</span><span class="n">_location</span><span class="o">.</span><span class="n">back</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p><strong>Edit</strong> : As mentioned by @charith.arumapperuma <code>Location</code> should be imported
from <code>@angular/common</code> so the <code>import {Location} from '@angular/common';</code> line
is important.</p>
<p><br></p>
<h3>Suggest</h3>
<p>In the <strong>final version</strong> of Angular 2.x / 4.x - here's the docs
https://angular.io/api/common/Location</p>
<div class="code"><pre class="code literal-block"><span class="o">/*</span> <span class="n">typescript</span> <span class="o">*/</span>

<span class="kn">import</span> <span class="p">{</span> <span class="n">Location</span> <span class="p">}</span> <span class="kn">from</span> <span class="s1">'@angular/common'</span><span class="p">;</span>
<span class="o">//</span> <span class="kn">import</span> <span class="nn">stuff</span> <span class="n">here</span>

<span class="nd">@Component</span><span class="p">({</span>
<span class="o">//</span> <span class="n">declare</span> <span class="n">component</span> <span class="n">here</span>
<span class="p">})</span>
<span class="n">export</span> <span class="k">class</span> <span class="nc">MyComponent</span> <span class="p">{</span>

  <span class="o">//</span> <span class="n">inject</span> <span class="n">location</span> <span class="n">into</span> <span class="n">component</span> <span class="n">constructor</span>
  <span class="n">constructor</span><span class="p">(</span><span class="n">private</span> <span class="n">location</span><span class="p">:</span> <span class="n">Location</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>

  <span class="n">cancel</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">this</span><span class="o">.</span><span class="n">location</span><span class="o">.</span><span class="n">back</span><span class="p">();</span> <span class="o">//</span> <span class="o">&lt;--</span> <span class="n">go</span> <span class="n">back</span> <span class="n">to</span> <span class="n">previous</span> <span class="n">location</span> <span class="n">on</span> <span class="n">cancel</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-run-visual-studio-as-an-administrator-by-default/" class="u-url">How do I run Visual Studio as an administrator by default?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-run-visual-studio-as-an-administrator-by-default/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T04:24:01+08:00" itemprop="datePublished" title="2023-02-18 04:24">2023-02-18 04:24</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I recently discovered that even while logged into my personal laptop as an
administrator, Visual Studio does not run in administrator mode and you need
to explicitly use <em>Run As Administrator</em>.</p>
<p>Is there a way to make it run as an administrator by default, other than
creating a shortcut, etc.?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Copied and pasted from here, the Using Advanced Properties section. This will
allow you to always have the program run as an administrator when you open it.</p>
<ol>
<li>Right click on the shortcut of the program, then click on Properties.</li>
<li>Click on the Shortcut tab for a program shortcut, then click on the Advanced button.</li>
<li>Check the 'Run as administrator' box, and click on OK.</li>
<li>Click on OK.</li>
<li>Open the program.</li>
<li>If prompted by UAC, then click on Yes to apply permission to allow the program to run with full permission as an Administrator.</li>
</ol>
<p>NOTE: If you are doing this is while logged in as standard user instead of an
administrator, then you will need to provide the administrator's password
before the program will run as administrator.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Try the following steps on Windows 10:</p>
<ul>
<li>Search for Visual Studio on the Start window and select "Open file location":</li>
</ul>
<p><img alt="enter image description here" src="images/QXfYp.png"></p>
<ul>
<li>Select "Troubleshoot compatibility" :</li>
</ul>
<p><img alt="trouble shoot" src="images/fMGCD.png"></p>
<ul>
<li>Select "troubleshoot program":</li>
</ul>
<p><img alt="tobleshoot" src="images/deIzX.png"></p>
<div class="code"><pre class="code literal-block">* Raise permissions:
</pre></div>

<p><img alt="raise permissions" src="images/rls9X.png"></p>
<ul>
<li>
<p>Select "Yes, save these settings for this program"</p>
</li>
<li>
<p>Select "Close"</p>
</li>
</ul>
<p>Once that is done, Visual Studio should be running as administrator.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-size-a-uitextview-to-its-content/" class="u-url">How do I size a UITextView to its content?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-size-a-uitextview-to-its-content/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T04:23:26+08:00" itemprop="datePublished" title="2023-02-18 04:23">2023-02-18 04:23</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is there a good way to adjust the size of a <code>UITextView</code> to conform to its
content? Say for instance I have a <code>UITextView</code> that contains one line of
text:</p>
<div class="code"><pre class="code literal-block">"Hello world"
</pre></div>

<p>I then add another line of text:</p>
<div class="code"><pre class="code literal-block">"Goodbye world"
</pre></div>

<p>Is there a good way in Cocoa Touch to get the <code>rect</code> that will hold all of the
lines in the text view so that I can adjust the parent view accordingly?</p>
<p>As another example, look at the notes' field for events in the Calendar
application - note how the cell (and the <code>UITextView</code> it contains) expands to
hold all lines of text in the notes' string.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>This works for both iOS 6.1 and iOS 7:</p>
<div class="code"><pre class="code literal-block"><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">textViewDidChange:</span><span class="p">(</span><span class="bp">UITextView</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">textView</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">CGFloat</span><span class="w"> </span><span class="n">fixedWidth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">textView</span><span class="p">.</span><span class="n">frame</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">width</span><span class="p">;</span>
<span class="w">    </span><span class="n">CGSize</span><span class="w"> </span><span class="n">newSize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">textView</span><span class="w"> </span><span class="n">sizeThatFits</span><span class="o">:</span><span class="n">CGSizeMake</span><span class="p">(</span><span class="n">fixedWidth</span><span class="p">,</span><span class="w"> </span><span class="n">MAXFLOAT</span><span class="p">)];</span>
<span class="w">    </span><span class="n">CGRect</span><span class="w"> </span><span class="n">newFrame</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">textView</span><span class="p">.</span><span class="n">frame</span><span class="p">;</span>
<span class="w">    </span><span class="n">newFrame</span><span class="p">.</span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CGSizeMake</span><span class="p">(</span><span class="n">fmaxf</span><span class="p">(</span><span class="n">newSize</span><span class="p">.</span><span class="n">width</span><span class="p">,</span><span class="w"> </span><span class="n">fixedWidth</span><span class="p">),</span><span class="w"> </span><span class="n">newSize</span><span class="p">.</span><span class="n">height</span><span class="p">);</span>
<span class="w">    </span><span class="n">textView</span><span class="p">.</span><span class="n">frame</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newFrame</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>Or in Swift (Works with Swift 4.1 in iOS 11)</p>
<div class="code"><pre class="code literal-block">let fixedWidth = textView.frame.size.width
let newSize = textView.sizeThatFits(CGSize(width: fixedWidth, height: CGFloat.greatestFiniteMagnitude))
textView.frame.size = CGSize(width: max(newSize.width, fixedWidth), height: newSize.height)
</pre></div>

<p>If you want support for iOS 6.1 then you should also:</p>
<div class="code"><pre class="code literal-block">textview.scrollEnabled = NO;
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<h3>This no longer works on iOS 7 or above</h3>
<p>There is actually a very easy way to do resizing of the <code>UITextView</code> to its
correct height of the content. It can be done using the <code>UITextView</code>
<code>contentSize</code>.</p>
<div class="code"><pre class="code literal-block">CGRect frame = _textView.frame;
frame.size.height = _textView.contentSize.height;
_textView.frame = frame;
</pre></div>

<p>One thing to note is that the correct <code>contentSize</code> is only available
<strong>after</strong> the <code>UITextView</code> has been added to the view with <code>addSubview</code>. Prior
to that it is equal to <code>frame.size</code></p>
<p>This will not work if auto layout is ON. With auto layout, the general
approach is to use the <code>sizeThatFits</code> method and update the <code>constant</code> value
on a height constraint.</p>
<div class="code"><pre class="code literal-block"><span class="n">CGSize</span><span class="w"> </span><span class="n">sizeThatShouldFitTheContent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">_textView</span><span class="w"> </span><span class="n">sizeThatFits</span><span class="o">:</span><span class="n">_textView</span><span class="p">.</span><span class="n">frame</span><span class="p">.</span><span class="n">size</span><span class="p">];</span>
<span class="n">heightConstraint</span><span class="p">.</span><span class="n">constant</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sizeThatShouldFitTheContent</span><span class="p">.</span><span class="n">height</span><span class="p">;</span>
</pre></div>

<p><code>heightConstraint</code> is a layout constraint that you typically setup via a
IBOutlet by linking the property to the height constraint created in a
storyboard.</p>
<hr>
<p>Just to add to this amazing answer, 2014, if you:</p>
<div class="code"><pre class="code literal-block">[self.textView sizeToFit];
</pre></div>

<p>there is a difference in behaviour with the <strong>iPhone6+</strong> only:</p>
<p><img alt="enter image description here" src="images/GCC09.png"></p>
<p>With the 6+ only (not the 5s or 6) it does add "one more blank line" to the
UITextView. The "RL solution" fixes this perfectly:</p>
<div class="code"><pre class="code literal-block">CGRect _f = self.mainPostText.frame;
_f.size.height = self.mainPostText.contentSize.height;
self.mainPostText.frame = _f;
</pre></div>

<p>It fixes the "extra line" problem on 6+.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1232.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1230.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

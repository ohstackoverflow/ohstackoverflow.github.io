<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 459) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-459.html">
<link rel="prev" href="index-460.html" type="text/html">
<link rel="next" href="index-458.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/is-there-any-way-to-change-input-type-date-format/" class="u-url">Is there any way to change input type="date" format?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/is-there-any-way-to-change-input-type-date-format/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T07:22:41+08:00" itemprop="datePublished" title="2023-02-17 07:22">2023-02-17 07:22</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>By default, the input <code>type="date"</code> shows date as <code>YYYY-MM-DD</code>.</p>
<p>The question is, is it possible to force it's format to something like: <code>DD-
MM-YYYY</code>?</p>
<p><br><br></p>
<h2>Answer</h2>
<p><strong>It is impossible to change the format</strong></p>
<p>We have to differentiate between the over the wire format and the browser's
presentation format.</p>
<h3>Wire format</h3>
<p>The HTML5 date input specification refers to the RFC 3339 specification, which
specifies a full-date format equal to: <code>yyyy-mm-dd</code>. See section 5.6 of the
RFC 3339 specification for more details.</p>
<p>This format is used by the <code>value</code> HTML attribute and DOM property and is the
one used when doing an ordinary form submission.</p>
<h3>Presentation format</h3>
<p>Browsers are unrestricted in how they present a date input. At the time of
writing Chrome, Edge, Firefox, and Opera have date support (see here). They
all display a date picker and format the text in the input field.</p>
<p><strong>Desktop devices</strong></p>
<p>For Chrome, Firefox, and Opera, the formatting of the input field's text is
based on the browser's language setting. For Edge, it is based on the Windows
language setting. Sadly, all web browsers ignore the date formatting
configured in the operating system. To me this is very strange behaviour, and
something to consider when using this input type. For example, Dutch users
that have their operating system or browser language set to <code>en-us</code> will be
shown <code>01/30/2019</code> instead of the format they are accustomed to: <code>30-01-2019</code>.</p>
<p>Internet Explorer 9, 10, and 11 display a text input field with the wire
format.</p>
<p><strong>Mobile devices</strong></p>
<p>Specifically for Chrome on Android, the formatting is based on the Android
display language. I suspect that the same is true for other browsers, though
I've not been able to verify this.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Since this question was asked quite a few things have happened in the web
realm, and one of the most exciting is the landing of web components. Now you
can solve this issue elegantly with a custom HTML5 element designed to suit
your needs. If you wish to override/change the workings of any html tag just
build yours playing with the <em>shadow dom</em>.</p>
<p>The good news is that there’s already a lot of boilerplate available so most
likely you won’t need to come up with a solution from scratch. Just check what
people are building and get ideas from there.</p>
<p>You can start with a simple (and working) solution like datetime-input for
polymer that allows you to use a tag like this one:</p>
<div class="code"><pre class="code literal-block"><span class="w"> </span><span class="o">&lt;</span><span class="nc">date</span><span class="o">-</span><span class="k">input</span><span class="w"> </span><span class="nc">date</span><span class="o">=</span><span class="ss">"{{date}}"</span><span class="w"> </span><span class="n">timezone</span><span class="o">=</span><span class="ss">"[[timezone]]"</span><span class="o">&gt;&lt;/</span><span class="nc">date</span><span class="o">-</span><span class="k">input</span><span class="o">&gt;</span>
</pre></div>

<p>or you can get creative and pop-up complete date-pickers styled as you wish,
with the formatting and locales you desire, callbacks, and your long list of
options (you’ve got a whole custom API at your disposal!)</p>
<p><strong>Standards-compliant, no hacks.</strong></p>
<p>Double-check the available polyfills, what browsers/versions they support, and
if it covers enough % of your user base… It's 2018, so chances are it'll
surely cover most of your users.</p>
<p>Hope it helps!</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-post-json-data-with-python-requests/" class="u-url">How to POST JSON data with Python Requests?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-post-json-data-with-python-requests/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T07:22:15+08:00" itemprop="datePublished" title="2023-02-17 07:22">2023-02-17 07:22</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I need to POST a JSON from a client to a server. I'm using Python 2.7.1 and
simplejson. The client is using Requests. The server is CherryPy. I can GET a
hard-coded JSON from the server (code not shown), but when I try to POST a
JSON to the server, I get "400 Bad Request".</p>
<p>Here is my client code:</p>
<div class="code"><pre class="code literal-block"><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s1">'sender'</span><span class="p">:</span><span class="w">   </span><span class="s1">'Alice'</span><span class="p">,</span>
<span class="w">    </span><span class="s1">'receiver'</span><span class="p">:</span><span class="w"> </span><span class="s1">'Bob'</span><span class="p">,</span>
<span class="w">    </span><span class="s1">'message'</span><span class="p">:</span><span class="w">  </span><span class="s1">'We did it!'</span><span class="p">}</span>
<span class="n">data_json</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">simplejson</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">payload</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s1">'json_payload'</span><span class="p">:</span><span class="w"> </span><span class="n">data_json</span><span class="p">}</span>
<span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">"http://localhost:8080"</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span>
</pre></div>

<p>Here is the server code.</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span><span class="w"> </span><span class="n">Root</span><span class="p">(</span><span class="n">object</span><span class="p">):</span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">content</span><span class="p">):</span>
<span class="w">        </span><span class="bp">self</span><span class="o">.</span><span class="n">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">content</span>
<span class="w">        </span><span class="nb">print</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">content</span><span class="w">  </span><span class="c1"># this works</span>

<span class="w">    </span><span class="n">exposed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">True</span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">GET</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="n">cherrypy</span><span class="o">.</span><span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s1">'Content-Type'</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'application/json'</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">simplejson</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">POST</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="bp">self</span><span class="o">.</span><span class="n">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">simplejson</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">cherrypy</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>

<p>Any ideas?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Starting with Requests version 2.4.2, you can use the <code>json=</code> parameter (which
takes a dictionary) instead of <code>data=</code> (which takes a string) in the call:</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">requests</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">'http://httpbin.org/post'</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="p">{</span><span class="s2">"key"</span><span class="p">:</span> <span class="s2">"value"</span><span class="p">})</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">status_code</span>
<span class="mi">200</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="p">{</span><span class="s1">'args'</span><span class="p">:</span> <span class="p">{},</span>
 <span class="s1">'data'</span><span class="p">:</span> <span class="s1">'{"key": "value"}'</span><span class="p">,</span>
 <span class="s1">'files'</span><span class="p">:</span> <span class="p">{},</span>
 <span class="s1">'form'</span><span class="p">:</span> <span class="p">{},</span>
 <span class="s1">'headers'</span><span class="p">:</span> <span class="p">{</span><span class="s1">'Accept'</span><span class="p">:</span> <span class="s1">'*/*'</span><span class="p">,</span>
             <span class="s1">'Accept-Encoding'</span><span class="p">:</span> <span class="s1">'gzip, deflate'</span><span class="p">,</span>
             <span class="s1">'Connection'</span><span class="p">:</span> <span class="s1">'close'</span><span class="p">,</span>
             <span class="s1">'Content-Length'</span><span class="p">:</span> <span class="s1">'16'</span><span class="p">,</span>
             <span class="s1">'Content-Type'</span><span class="p">:</span> <span class="s1">'application/json'</span><span class="p">,</span>
             <span class="s1">'Host'</span><span class="p">:</span> <span class="s1">'httpbin.org'</span><span class="p">,</span>
             <span class="s1">'User-Agent'</span><span class="p">:</span> <span class="s1">'python-requests/2.4.3 CPython/3.4.0'</span><span class="p">,</span>
             <span class="s1">'X-Request-Id'</span><span class="p">:</span> <span class="s1">'xx-xx-xx'</span><span class="p">},</span>
 <span class="s1">'json'</span><span class="p">:</span> <span class="p">{</span><span class="s1">'key'</span><span class="p">:</span> <span class="s1">'value'</span><span class="p">},</span>
 <span class="s1">'origin'</span><span class="p">:</span> <span class="s1">'x.x.x.x'</span><span class="p">,</span>
 <span class="s1">'url'</span><span class="p">:</span> <span class="s1">'http://httpbin.org/post'</span><span class="p">}</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>It turns out I was missing the header information. The following works:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s2">"http://localhost:8080"</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'sender'</span><span class="p">:</span> <span class="s1">'Alice'</span><span class="p">,</span> <span class="s1">'receiver'</span><span class="p">:</span> <span class="s1">'Bob'</span><span class="p">,</span> <span class="s1">'message'</span><span class="p">:</span> <span class="s1">'We did it!'</span><span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'Content-type'</span><span class="p">:</span> <span class="s1">'application/json'</span><span class="p">,</span> <span class="s1">'Accept'</span><span class="p">:</span> <span class="s1">'text/plain'</span><span class="p">}</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/styling-an-input-type-file-button/" class="u-url">Styling an input type="file" button</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/styling-an-input-type-file-button/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T07:21:39+08:00" itemprop="datePublished" title="2023-02-17 07:21">2023-02-17 07:21</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How do you style an input <code>type="file"</code> button?</p>
<div class="code"><pre class="code literal-block">&lt;input type="file" /&gt;
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>Styling file inputs are notoriously difficult, as most browsers will not
change the appearance from either CSS or javascript.</p>
<p>Even the size of the input will not respond to the likes of:</p>
<div class="code"><pre class="code literal-block">&lt;input type="file" style="width:200px"&gt;
</pre></div>

<p>Instead, you will need to use the size attribute:</p>
<div class="code"><pre class="code literal-block">&lt;input type="file" size="60" /&gt;
</pre></div>

<p>For any styling more sophisticated than that (e.g. changing the look of the
browse button) you will need to look at the tricksy approach of overlaying a
styled button and input box on top of the native file input. The article
already mentioned by rm at www.quirksmode.org/dom/inputfile.html is the best
one I've seen.</p>
<p><strong>UPDATE</strong></p>
<p>Although it's difficult to style an <code>&lt;input&gt;</code> tag directly, this is easily
possible with the help of a <code>&lt;label&gt;</code> tag. See answer below from @JoshCrozier:
https://stackoverflow.com/a/25825731/10128619</p>
<p><br></p>
<h3>Suggest</h3>
<p>Styling file inputs are notoriously difficult, as most browsers will not
change the appearance from either CSS or javascript.</p>
<p>Even the size of the input will not respond to the likes of:</p>
<div class="code"><pre class="code literal-block">&lt;input type="file" style="width:200px"&gt;
</pre></div>

<p>Instead, you will need to use the size attribute:</p>
<div class="code"><pre class="code literal-block">&lt;input type="file" size="60" /&gt;
</pre></div>

<p>For any styling more sophisticated than that (e.g. changing the look of the
browse button) you will need to look at the tricksy approach of overlaying a
styled button and input box on top of the native file input. The article
already mentioned by rm at www.quirksmode.org/dom/inputfile.html is the best
one I've seen.</p>
<p><strong>UPDATE</strong></p>
<p>Although it's difficult to style an <code>&lt;input&gt;</code> tag directly, this is easily
possible with the help of a <code>&lt;label&gt;</code> tag. See answer below from @JoshCrozier:
https://stackoverflow.com/a/25825731/10128619</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-460.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-458.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 304) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-304.html">
<link rel="prev" href="index-305.html" type="text/html">
<link rel="next" href="index-303.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-deal-with-settingwithcopywarning-in-pandas/" class="u-url">How to deal with SettingWithCopyWarning in Pandas</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-deal-with-settingwithcopywarning-in-pandas/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T03:28:37+08:00" itemprop="datePublished" title="2023-02-17 03:28">2023-02-17 03:28</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <h3>Background</h3>
<p>I just upgraded my Pandas from 0.11 to 0.13.0rc1. Now, the application is
popping out many new warnings. One of them like this:</p>
<div class="code"><pre class="code literal-block">E:\FinReporter\FM_EXT.py:449: SettingWithCopyWarning: A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_index,col_indexer] = value instead
  quote_df['TVol']   = quote_df['TVol']/TVOL_SCALE
</pre></div>

<p>I want to know what exactly it means? Do I need to change something?</p>
<p>How should I suspend the warning if I insist to use <code>quote_df['TVol'] =
quote_df['TVol']/TVOL_SCALE</code>?</p>
<h3>The function that gives errors</h3>
<div class="code"><pre class="code literal-block"><span class="k">def</span> <span class="nf">_decode_stock_quote</span><span class="p">(</span><span class="n">list_of_150_stk_str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""decode the webpage and return dataframe"""</span>

    <span class="kn">from</span> <span class="nn">cStringIO</span> <span class="kn">import</span> <span class="n">StringIO</span>

    <span class="n">str_of_all</span> <span class="o">=</span> <span class="s2">""</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">list_of_150_stk_str</span><span class="p">)</span>

    <span class="n">quote_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="n">str_of_all</span><span class="p">),</span> <span class="n">sep</span><span class="o">=</span><span class="s1">','</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefg'</span><span class="p">))</span> <span class="c1">#dtype={'A': object, 'B': object, 'C': np.float64}</span>
    <span class="n">quote_df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">'A'</span><span class="p">:</span><span class="s1">'STK'</span><span class="p">,</span> <span class="s1">'B'</span><span class="p">:</span><span class="s1">'TOpen'</span><span class="p">,</span> <span class="s1">'C'</span><span class="p">:</span><span class="s1">'TPCLOSE'</span><span class="p">,</span> <span class="s1">'D'</span><span class="p">:</span><span class="s1">'TPrice'</span><span class="p">,</span> <span class="s1">'E'</span><span class="p">:</span><span class="s1">'THigh'</span><span class="p">,</span> <span class="s1">'F'</span><span class="p">:</span><span class="s1">'TLow'</span><span class="p">,</span> <span class="s1">'I'</span><span class="p">:</span><span class="s1">'TVol'</span><span class="p">,</span> <span class="s1">'J'</span><span class="p">:</span><span class="s1">'TAmt'</span><span class="p">,</span> <span class="s1">'e'</span><span class="p">:</span><span class="s1">'TDate'</span><span class="p">,</span> <span class="s1">'f'</span><span class="p">:</span><span class="s1">'TTime'</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">quote_df</span> <span class="o">=</span> <span class="n">quote_df</span><span class="o">.</span><span class="n">ix</span><span class="p">[:,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">31</span><span class="p">]]</span>
    <span class="n">quote_df</span><span class="p">[</span><span class="s1">'TClose'</span><span class="p">]</span> <span class="o">=</span> <span class="n">quote_df</span><span class="p">[</span><span class="s1">'TPrice'</span><span class="p">]</span>
    <span class="n">quote_df</span><span class="p">[</span><span class="s1">'RT'</span><span class="p">]</span>     <span class="o">=</span> <span class="mi">100</span> <span class="o">*</span> <span class="p">(</span><span class="n">quote_df</span><span class="p">[</span><span class="s1">'TPrice'</span><span class="p">]</span><span class="o">/</span><span class="n">quote_df</span><span class="p">[</span><span class="s1">'TPCLOSE'</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">quote_df</span><span class="p">[</span><span class="s1">'TVol'</span><span class="p">]</span>   <span class="o">=</span> <span class="n">quote_df</span><span class="p">[</span><span class="s1">'TVol'</span><span class="p">]</span><span class="o">/</span><span class="n">TVOL_SCALE</span>
    <span class="n">quote_df</span><span class="p">[</span><span class="s1">'TAmt'</span><span class="p">]</span>   <span class="o">=</span> <span class="n">quote_df</span><span class="p">[</span><span class="s1">'TAmt'</span><span class="p">]</span><span class="o">/</span><span class="n">TAMT_SCALE</span>
    <span class="n">quote_df</span><span class="p">[</span><span class="s1">'STK_ID'</span><span class="p">]</span> <span class="o">=</span> <span class="n">quote_df</span><span class="p">[</span><span class="s1">'STK'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="mi">19</span><span class="p">)</span>
    <span class="n">quote_df</span><span class="p">[</span><span class="s1">'STK_Name'</span><span class="p">]</span> <span class="o">=</span> <span class="n">quote_df</span><span class="p">[</span><span class="s1">'STK'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="mi">21</span><span class="p">,</span><span class="mi">30</span><span class="p">)</span><span class="c1">#.decode('gb2312')</span>
    <span class="n">quote_df</span><span class="p">[</span><span class="s1">'TDate'</span><span class="p">]</span>  <span class="o">=</span> <span class="n">quote_df</span><span class="o">.</span><span class="n">TDate</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">+</span><span class="n">x</span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">7</span><span class="p">]</span><span class="o">+</span><span class="n">x</span><span class="p">[</span><span class="mi">8</span><span class="p">:</span><span class="mi">10</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">quote_df</span>
</pre></div>

<h3>More error messages</h3>
<div class="code"><pre class="code literal-block">E:\FinReporter\FM_EXT.py:449: SettingWithCopyWarning: A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_index,col_indexer] = value instead
  quote_df['TVol']   = quote_df['TVol']/TVOL_SCALE
E:\FinReporter\FM_EXT.py:450: SettingWithCopyWarning: A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_index,col_indexer] = value instead
  quote_df['TAmt']   = quote_df['TAmt']/TAMT_SCALE
E:\FinReporter\FM_EXT.py:453: SettingWithCopyWarning: A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_index,col_indexer] = value instead
  quote_df['TDate']  = quote_df.TDate.map(lambda x: x[0:4]+x[5:7]+x[8:10])
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>The <code>SettingWithCopyWarning</code> was created to flag potentially confusing
"chained" assignments, such as the following, which does not always work as
expected, particularly when the first selection returns a <em>copy</em>. [see GH5390
and GH5597 for background discussion.]</p>
<div class="code"><pre class="code literal-block">df[df['A'] &gt; 2]['B'] = new_val  # new_val not set in df
</pre></div>

<p>The warning offers a suggestion to rewrite as follows:</p>
<div class="code"><pre class="code literal-block">df.loc[df['A'] &gt; 2, 'B'] = new_val
</pre></div>

<p>However, this doesn't fit your usage, which is equivalent to:</p>
<div class="code"><pre class="code literal-block">df = df[df['A'] &gt; 2]
df['B'] = new_val
</pre></div>

<p>While it's clear that you don't care about writes making it back to the
original frame (since you are overwriting the reference to it), unfortunately
this pattern cannot be differentiated from the first chained assignment
example. Hence the (false positive) warning. The potential for false positives
is addressed in the docs on indexing, if you'd like to read further. You can
safely disable this new warning with the following assignment.</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">mode</span><span class="o">.</span><span class="n">chained_assignment</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># default='warn'</span>
</pre></div>

<hr>
<h3>Other Resources</h3>
<ul>
<li>pandas User Guide: Indexing and selecting data</li>
<li>Python Data Science Handbook: Data Indexing and Selection</li>
<li>Real Python: SettingWithCopyWarning in Pandas: Views vs Copies</li>
<li>Dataquest: SettingwithCopyWarning: How to Fix This Warning in Pandas</li>
<li>Towards Data Science: Explaining the SettingWithCopyWarning in pandas</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<blockquote>
<h4>How to deal with <code>SettingWithCopyWarning</code> in Pandas?</h4>
</blockquote>
<p>This post is meant for readers who,</p>
<ol>
<li>Would like to understand what this warning means</li>
<li>Would like to understand different ways of suppressing this warning</li>
<li>Would like to understand how to improve their code and follow good practices to avoid this warning in the future.</li>
</ol>
<p><strong>Setup</strong></p>
<div class="code"><pre class="code literal-block"><span class="nv">np</span>.<span class="k">random</span>.<span class="nv">seed</span><span class="ss">(</span><span class="mi">0</span><span class="ss">)</span>
<span class="nv">df</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">pd</span>.<span class="nv">DataFrame</span><span class="ss">(</span><span class="nv">np</span>.<span class="k">random</span>.<span class="nv">choice</span><span class="ss">(</span><span class="mi">10</span>,<span class="w"> </span><span class="ss">(</span><span class="mi">3</span>,<span class="w"> </span><span class="mi">5</span><span class="ss">))</span>,<span class="w"> </span><span class="nv">columns</span><span class="o">=</span><span class="nv">list</span><span class="ss">(</span><span class="s1">'ABCDE'</span><span class="ss">))</span>
<span class="nv">df</span>
<span class="w">   </span><span class="nv">A</span><span class="w">  </span><span class="nv">B</span><span class="w">  </span><span class="nv">C</span><span class="w">  </span><span class="nv">D</span><span class="w">  </span><span class="nv">E</span>
<span class="mi">0</span><span class="w">  </span><span class="mi">5</span><span class="w">  </span><span class="mi">0</span><span class="w">  </span><span class="mi">3</span><span class="w">  </span><span class="mi">3</span><span class="w">  </span><span class="mi">7</span>
<span class="mi">1</span><span class="w">  </span><span class="mi">9</span><span class="w">  </span><span class="mi">3</span><span class="w">  </span><span class="mi">5</span><span class="w">  </span><span class="mi">2</span><span class="w">  </span><span class="mi">4</span>
<span class="mi">2</span><span class="w">  </span><span class="mi">7</span><span class="w">  </span><span class="mi">6</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">8</span><span class="w">  </span><span class="mi">1</span>
</pre></div>

<hr>
<h2>What is the <code>SettingWithCopyWarning</code>?</h2>
<p>To know how to deal with this warning, it is important to understand what it
means and why it is raised in the first place.</p>
<p>When filtering DataFrames, it is possible slice/index a frame to return either
a <em>view</em> , or a <em>copy</em> , depending on the internal layout and various
implementation details. A "view" is, as the term suggests, a view into the
original data, so modifying the view may modify the original object. On the
other hand, a "copy" is a replication of data from the original, and modifying
the copy has no effect on the original.</p>
<p>As mentioned by other answers, the <code>SettingWithCopyWarning</code> was created to
flag "chained assignment" operations. Consider <code>df</code> in the setup above.
Suppose you would like to select all values in column "B" where values in
column "A" is &gt; 5. Pandas allows you to do this in different ways, some more
correct than others. For example,</p>
<div class="code"><pre class="code literal-block">df[df.A &gt; 5]['B']

1    3
2    6
Name: B, dtype: int64
</pre></div>

<p>And,</p>
<div class="code"><pre class="code literal-block">df.loc[df.A &gt; 5, 'B']

1    3
2    6
Name: B, dtype: int64
</pre></div>

<p>These return the same result, so if you are only reading these values, it
makes no difference. So, what is the issue? The problem with chained
assignment, is that it is generally difficult to predict whether a view or a
copy is returned, <strong>so this largely becomes an issue when you are attempting
to assign values back.</strong> To build on the earlier example, consider how this
code is executed by the interpreter:</p>
<div class="code"><pre class="code literal-block">df.loc[df.A &gt; 5, 'B'] = 4
# becomes
df.__setitem__((df.A &gt; 5, 'B'), 4)
</pre></div>

<p>With a single <code>__setitem__</code> call to <code>df</code>. OTOH, consider this code:</p>
<div class="code"><pre class="code literal-block">df[df.A &gt; 5]['B'] = 4
# becomes
df.__getitem__(df.A &gt; 5).__setitem__('B', 4)
</pre></div>

<p>Now, depending on whether <code>__getitem__</code> returned a view or a copy, the
<code>__setitem__</code> operation <strong>may not work</strong>.</p>
<p>In general, you should use <code>loc</code> for label-based assignment, and <code>iloc</code> for
integer/positional based assignment, as the spec guarantees that they always
operate on the original. Additionally, for setting a single cell, you should
use <code>at</code> and <code>iat</code>.</p>
<p>More can be found in the documentation.</p>
<blockquote>
<p><strong>Note</strong> All boolean indexing operations done with <code>loc</code> can also be done
with <code>iloc</code>. The only difference is that <code>iloc</code> expects either
integers/positions for index or a numpy array of boolean values, and
integer/position indexes for the columns.</p>
<p>For example,</p>
<div class="code"><pre class="code literal-block">df.loc[df.A &gt; 5, 'B'] = 4
</pre></div>

<p>Can be written nas</p>
<div class="code"><pre class="code literal-block">df.iloc[(df.A &gt; 5).values, 1] = 4
</pre></div>

<p>And,</p>
<div class="code"><pre class="code literal-block">df.loc[1, 'A'] = 100
</pre></div>

<p>Can be written as</p>
<div class="code"><pre class="code literal-block">df.iloc[1, 0] = 100
</pre></div>

<p>And so on.</p>
</blockquote>
<hr>
<h2>Just tell me how to suppress the warning!</h2>
<p>Consider a simple operation on the "A" column of <code>df</code>. Selecting "A" and
dividing by 2 will raise the warning, but the operation will work.</p>
<div class="code"><pre class="code literal-block">df2 = df[['A']]
df2['A'] /= 2
/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/IPython/__main__.py:1: SettingWithCopyWarning:
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

df2
     A
0  2.5
1  4.5
2  3.5
</pre></div>

<p>There are a couple ways of directly silencing this warning:</p>
<ol>
<li>
<p>(recommended) <strong>Use<code>loc</code> to slice subsets</strong>:</p>
<div class="code"><pre class="code literal-block"> df2 = df.loc[:, ['A']]
</pre></div>

<p>df2['A'] /= 2     # Does not raise</p>
</li>
<li>
<p><strong>Change<code>pd.options.mode.chained_assignment</code></strong> Can be set to <code>None</code>, <code>"warn"</code>, or <code>"raise"</code>. <code>"warn"</code> is the default. <code>None</code> will suppress the warning entirely, and <code>"raise"</code> will throw a <code>SettingWithCopyError</code>, preventing the operation from going through.</p>
<div class="code"><pre class="code literal-block"><span class="w"> </span><span class="n">pd</span><span class="p">.</span><span class="n">options</span><span class="p">.</span><span class="n">mode</span><span class="p">.</span><span class="n">chained_assignment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">None</span>
</pre></div>

<p>df2['A'] /= 2</p>
</li>
<li>
<p><strong>Make a<code>deepcopy</code></strong></p>
<div class="code"><pre class="code literal-block"> df2 = df[['A']].copy(deep=True)
</pre></div>

<p>df2['A'] /= 2</p>
</li>
</ol>
<p>@Peter Cotton in the comments, came up with a nice way of non-intrusively
changing the mode (modified from this gist) using a context manager, to set
the mode only as long as it is required, and the reset it back to the original
state when finished.</p>
<blockquote>
<div class="code"><pre class="code literal-block"><span class="k">class</span> <span class="n">ChainedAssignent:</span>
    <span class="n">def</span> <span class="n">__init__</span>(<span class="nb">self</span>, <span class="n">chained</span>=<span class="n">None</span>):
        <span class="n">acceptable</span> = [<span class="n">None</span>, <span class="s">'warn'</span>, <span class="s">'raise'</span>]
        <span class="n">assert</span> <span class="n">chained</span> <span class="nb">in</span> <span class="n">acceptable</span>, <span class="s">"chained must be in "</span> +
</pre></div>

<p>str(acceptable)
            self.swcw = chained</p>
<div class="code"><pre class="code literal-block"><span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">__enter__</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="o">:</span>
<span class="w">        </span><span class="n">self</span><span class="p">.</span><span class="n">saved_swcw</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pd</span><span class="p">.</span><span class="n">options</span><span class="p">.</span><span class="n">mode</span><span class="p">.</span><span class="n">chained_assignment</span>
<span class="w">        </span><span class="n">pd</span><span class="p">.</span><span class="n">options</span><span class="p">.</span><span class="n">mode</span><span class="p">.</span><span class="n">chained_assignment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">swcw</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">self</span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">__exit__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">args</span><span class="p">)</span><span class="o">:</span>
<span class="w">        </span><span class="n">pd</span><span class="p">.</span><span class="n">options</span><span class="p">.</span><span class="n">mode</span><span class="p">.</span><span class="n">chained_assignment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">saved_swcw</span>
</pre></div>

</blockquote>
<p>The usage is as follows:</p>
<div class="code"><pre class="code literal-block"># Some code here
with ChainedAssignent():
    df2['A'] /= 2
# More code follows
</pre></div>

<p>Or, to raise the exception</p>
<div class="code"><pre class="code literal-block">with ChainedAssignent(chained='raise'):
    df2['A'] /= 2

SettingWithCopyError:
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead
</pre></div>

<hr>
<h2>The "XY Problem": What am I doing wrong?</h2>
<p>A lot of the time, users attempt to look for ways of suppressing this
exception without fully understanding why it was raised in the first place.
This is a good example of an XY problem, where users attempt to solve a
problem "Y" that is actually a symptom of a deeper rooted problem "X".
Questions will be raised based on common problems that encounter this warning,
and solutions will then be presented.</p>
<blockquote>
<p><strong>Question 1</strong> I have a DataFrame</p>
<div class="code"><pre class="code literal-block">df
       A  B  C  D  E
    0  5  0  3  3  7
    1  9  3  5  2  4
    2  7  6  8  8  1
</pre></div>

<p>I want to assign values in col "A" &gt; 5 to 1000. My expected output is</p>
<div class="code"><pre class="code literal-block">      A  B  C  D  E
0     5  0  3  3  7
1  1000  3  5  2  4
2  1000  6  8  8  1
</pre></div>

</blockquote>
<p>Wrong way to do this:</p>
<div class="code"><pre class="code literal-block">df.A[df.A &gt; 5] = 1000         # works, because df.A returns a view
df[df.A &gt; 5]['A'] = 1000      # does not work
df.loc[df.A &gt; 5]['A'] = 1000   # does not work
</pre></div>

<p>Right way using <code>loc</code>:</p>
<div class="code"><pre class="code literal-block">df.loc[df.A &gt; 5, 'A'] = 1000
</pre></div>

<blockquote>
<p><strong>Question 2 1</strong> I am trying to set the value in cell (1, 'D') to 12345. My
expected output is</p>
<div class="code"><pre class="code literal-block">   A  B  C      D  E
0  5  0  3      3  7
1  9  3  5  12345  4
2  7  6  8      8  1
</pre></div>

<p>I have tried different ways of accessing this cell, such as <code>df['D'][1]</code>.
What is the best way to do this?</p>
<p>1. This question isn't specifically related to the warning, but it is good
to understand how to do this particular operation correctly so as to avoid
situations where the warning could potentially arise in future.</p>
</blockquote>
<p>You can use any of the following methods to do this.</p>
<div class="code"><pre class="code literal-block">df.loc[1, 'D'] = 12345
df.iloc[1, 3] = 12345
df.at[1, 'D'] = 12345
df.iat[1, 3] = 12345
</pre></div>

<blockquote>
<p><strong>Question 3</strong> I am trying to subset values based on some condition. I have
a DataFrame</p>
<div class="code"><pre class="code literal-block">   A  B  C  D  E
1  9  3  5  2  4
2  7  6  8  8  1
</pre></div>

<p>I would like to assign values in "D" to 123 such that "C" == 5. I tried</p>
<div class="code"><pre class="code literal-block">df2.loc[df2.C == 5, 'D'] = 123
</pre></div>

<p>Which seems fine but I am <em>still</em> getting the <code>SettingWithCopyWarning</code>! How
do I fix this?</p>
</blockquote>
<p>This is actually probably because of code higher up in your pipeline. Did you
create <code>df2</code> from something larger, like</p>
<div class="code"><pre class="code literal-block">df2 = df[df.A &gt; 5]
</pre></div>

<p>? In this case, boolean indexing will return a view, so <code>df2</code> will reference
the original. What you'd need to do is assign <code>df2</code> to a <em>copy</em> :</p>
<div class="code"><pre class="code literal-block">df2 = df[df.A &gt; 5].copy()
# Or,
# df2 = df.loc[df.A &gt; 5, :]
</pre></div>

<blockquote>
<p><strong>Question 4</strong> I'm trying to drop column "C" in-place from</p>
<div class="code"><pre class="code literal-block">   A  B  C  D  E
1  9  3  5  2  4
2  7  6  8  8  1
</pre></div>

<p>But using</p>
<div class="code"><pre class="code literal-block">df2.drop('C', axis=1, inplace=True)
</pre></div>

<p>Throws <code>SettingWithCopyWarning</code>. Why is this happening?</p>
</blockquote>
<p>This is because <code>df2</code> must have been created as a view from some other slicing
operation, such as</p>
<div class="code"><pre class="code literal-block">df2 = df[df.A &gt; 5]
</pre></div>

<p>The solution here is to either make a <code>copy()</code> of <code>df</code>, or use <code>loc</code>, as
before.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/enumerations-on-php/" class="u-url">Enumerations on PHP</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/enumerations-on-php/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T03:28:08+08:00" itemprop="datePublished" title="2023-02-17 03:28">2023-02-17 03:28</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I know that PHP doesn't yet have native Enumerations. But I have become
accustomed to them from the Java world. I would love to use enums as a way to
give predefined values which IDEs' auto-completion features could understand.</p>
<p>Constants do the trick, but there's the namespace collision problem and (or
actually <em>because</em> ) they're global. Arrays don't have the namespace problem,
but they're too vague, they can be overwritten at runtime and IDEs rarely know
how to autofill their keys without additional static analysis annotations or
attributes.</p>
<p>Are there any solutions/workarounds you commonly use? Does anyone recall
whether the PHP guys have had any thoughts or decisions around enumerations?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Edit: Since PHP 8.1, Enums are supported:
https://www.php.net/manual/en/language.types.enumerations.php</p>
<p>—</p>
<p>Depending upon use case, I would normally use something <em>simple</em> like the
following:</p>
<div class="code"><pre class="code literal-block"><span class="n">abstract</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">DaysOfWeek</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">Sunday</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">Monday</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">etc</span><span class="o">.</span>
<span class="p">}</span>

<span class="o">$</span><span class="n">today</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DaysOfWeek</span><span class="p">::</span><span class="n">Sunday</span><span class="p">;</span>
</pre></div>

<p>However, other use cases may require more validation of constants and values.
Based on the comments below about reflection, and a few other notes, here's an
expanded example which may better serve a much wider range of cases:</p>
<div class="code"><pre class="code literal-block"><span class="n">abstract</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">BasicEnum</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">private</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="o">$</span><span class="n">constCacheArray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NULL</span><span class="p">;</span>

<span class="w">    </span><span class="n">private</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">getConstants</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="bp">self</span><span class="p">::</span><span class="o">$</span><span class="n">constCacheArray</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="bp">self</span><span class="p">::</span><span class="o">$</span><span class="n">constCacheArray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="o">$</span><span class="n">calledClass</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_called_class</span><span class="p">();</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">array_key_exists</span><span class="p">(</span><span class="o">$</span><span class="n">calledClass</span><span class="p">,</span><span class="w"> </span><span class="bp">self</span><span class="p">::</span><span class="o">$</span><span class="n">constCacheArray</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="o">$</span><span class="n">reflect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">ReflectionClass</span><span class="p">(</span><span class="o">$</span><span class="n">calledClass</span><span class="p">);</span>
<span class="w">            </span><span class="bp">self</span><span class="p">::</span><span class="o">$</span><span class="n">constCacheArray</span><span class="p">[</span><span class="o">$</span><span class="n">calledClass</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">$</span><span class="n">reflect</span><span class="o">-&gt;</span><span class="n">getConstants</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="bp">self</span><span class="p">::</span><span class="o">$</span><span class="n">constCacheArray</span><span class="p">[</span><span class="o">$</span><span class="n">calledClass</span><span class="p">];</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">isValidName</span><span class="p">(</span><span class="o">$</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="o">$</span><span class="n">strict</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">false</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="o">$</span><span class="n">constants</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">self</span><span class="p">::</span><span class="n">getConstants</span><span class="p">();</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">$</span><span class="n">strict</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">array_key_exists</span><span class="p">(</span><span class="o">$</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="o">$</span><span class="n">constants</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="o">$</span><span class="n">keys</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array_map</span><span class="p">(</span><span class="s1">'strtolower'</span><span class="p">,</span><span class="w"> </span><span class="n">array_keys</span><span class="p">(</span><span class="o">$</span><span class="n">constants</span><span class="p">));</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">in_array</span><span class="p">(</span><span class="n">strtolower</span><span class="p">(</span><span class="o">$</span><span class="n">name</span><span class="p">),</span><span class="w"> </span><span class="o">$</span><span class="n">keys</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">isValidValue</span><span class="p">(</span><span class="o">$</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="o">$</span><span class="n">strict</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="o">$</span><span class="n">values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array_values</span><span class="p">(</span><span class="bp">self</span><span class="p">::</span><span class="n">getConstants</span><span class="p">());</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">in_array</span><span class="p">(</span><span class="o">$</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="o">$</span><span class="n">values</span><span class="p">,</span><span class="w"> </span><span class="o">$</span><span class="n">strict</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>By creating a simple enum class that extends BasicEnum, you now have the
ability to use methods thusly for simple input validation:</p>
<div class="code"><pre class="code literal-block"><span class="n">abstract</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">DaysOfWeek</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="n">BasicEnum</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">Sunday</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">Monday</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">Tuesday</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">Wednesday</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">Thursday</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">Friday</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">Saturday</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">DaysOfWeek</span><span class="p">::</span><span class="n">isValidName</span><span class="p">(</span><span class="s1">'Humpday'</span><span class="p">);</span><span class="w">                  </span><span class="o">//</span><span class="w"> </span><span class="bp">false</span>
<span class="n">DaysOfWeek</span><span class="p">::</span><span class="n">isValidName</span><span class="p">(</span><span class="s1">'Monday'</span><span class="p">);</span><span class="w">                   </span><span class="o">//</span><span class="w"> </span><span class="bp">true</span>
<span class="n">DaysOfWeek</span><span class="p">::</span><span class="n">isValidName</span><span class="p">(</span><span class="s1">'monday'</span><span class="p">);</span><span class="w">                   </span><span class="o">//</span><span class="w"> </span><span class="bp">true</span>
<span class="n">DaysOfWeek</span><span class="p">::</span><span class="n">isValidName</span><span class="p">(</span><span class="s1">'monday'</span><span class="p">,</span><span class="w"> </span><span class="o">$</span><span class="n">strict</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">true</span><span class="p">);</span><span class="w">   </span><span class="o">//</span><span class="w"> </span><span class="bp">false</span>
<span class="n">DaysOfWeek</span><span class="p">::</span><span class="n">isValidName</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span><span class="w">                          </span><span class="o">//</span><span class="w"> </span><span class="bp">false</span>

<span class="n">DaysOfWeek</span><span class="p">::</span><span class="n">isValidValue</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span><span class="w">                         </span><span class="o">//</span><span class="w"> </span><span class="bp">true</span>
<span class="n">DaysOfWeek</span><span class="p">::</span><span class="n">isValidValue</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span><span class="w">                         </span><span class="o">//</span><span class="w"> </span><span class="bp">true</span>
<span class="n">DaysOfWeek</span><span class="p">::</span><span class="n">isValidValue</span><span class="p">(</span><span class="mi">7</span><span class="p">);</span><span class="w">                         </span><span class="o">//</span><span class="w"> </span><span class="bp">false</span>
<span class="n">DaysOfWeek</span><span class="p">::</span><span class="n">isValidValue</span><span class="p">(</span><span class="s1">'Friday'</span><span class="p">);</span><span class="w">                  </span><span class="o">//</span><span class="w"> </span><span class="bp">false</span>
</pre></div>

<p>As a side note, any time I use reflection at least once <strong>on a static/const
class where the data won't change</strong> (such as in an enum), I cache the results
of those reflection calls, since using fresh reflection objects each time will
eventually have a noticeable performance impact (Stored in an assocciative
array for multiple enums).</p>
<p>Now that most people have <strong>finally</strong> upgraded to at least 5.3, and <code>SplEnum</code>
is available, that is certainly a viable option as well--as long as you don't
mind the traditionally unintuitive notion of having actual enum
<em>instantiations</em> throughout your codebase. In the above example, <code>BasicEnum</code>
and <code>DaysOfWeek</code> cannot be instantiated at all, nor should they be.</p>
<p><br></p>
<h3>Suggest</h3>
<p>There is a native extension, too. The <strong>SplEnum</strong></p>
<blockquote>
<p>SplEnum gives the ability to emulate and create enumeration objects natively
in PHP.</p>
</blockquote>
<p>http://www.php.net/manual/en/class.splenum.php</p>
<p>Attention:</p>
<p>https://www.php.net/manual/en/spl-types.installation.php</p>
<blockquote>
<p>The PECL extension is not bundled with PHP.</p>
<p>A DLL for this PECL extension is currently unavailable.</p>
</blockquote>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-access-the-scope-variable-in-browser-s-console-using-angularjs/" class="u-url">How do I access the $scope variable in browser's console using AngularJS?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-access-the-scope-variable-in-browser-s-console-using-angularjs/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T03:27:41+08:00" itemprop="datePublished" title="2023-02-17 03:27">2023-02-17 03:27</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I would like to access my <code>$scope</code> variable in Chrome's JavaScript console.
How do I do that?</p>
<p>I can neither see <code>$scope</code> nor the name of my module <code>myapp</code> in the console as
variables.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Pick an element in the HTML panel of the developer tools and type this in the
console:</p>
<div class="code"><pre class="code literal-block">angular.element($0).scope()
</pre></div>

<p>In WebKit and Firefox, <code>$0</code> is a reference to the selected DOM node in the
elements tab, so by doing this you get the selected DOM node scope printed out
in the console.</p>
<p>You can also target the scope by element ID, like so:</p>
<div class="code"><pre class="code literal-block">angular.element(document.getElementById('yourElementId')).scope()
</pre></div>

<p><strong>Addons/Extensions</strong></p>
<p>There are some very useful Chrome extensions that you might want to check out:</p>
<ul>
<li>
<p>Batarang. This has been around for a while.</p>
</li>
<li>
<p>ng-inspector. This is the newest one, and as the name suggests, it allows you to inspect your application's scopes.</p>
</li>
</ul>
<p><strong>Playing with jsFiddle</strong></p>
<p>When working with jsfiddle you can open the fiddle in <em>show</em> mode by adding
<code>/show</code> at the end of the URL. When running like this you have access to the
<code>angular</code> global. You can try it here:</p>
<p>http://jsfiddle.net/jaimem/Yatbt/show</p>
<p><strong>jQuery Lite</strong></p>
<p>If you load jQuery before AngularJS, <code>angular.element</code> can be passed a jQuery
selector. So you could inspect the scope of a controller with</p>
<div class="code"><pre class="code literal-block">angular.element('[ng-controller=ctrl]').scope()
</pre></div>

<p>Of a button</p>
<div class="code"><pre class="code literal-block"> angular.element('button:eq(1)').scope()
</pre></div>

<p>... and so on.</p>
<p>You might actually want to use a global function to make it easier:</p>
<div class="code"><pre class="code literal-block"><span class="nv">window</span>.<span class="nv">SC</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">function</span><span class="ss">(</span><span class="nv">selector</span><span class="ss">)</span>{
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">angular</span>.<span class="nv">element</span><span class="ss">(</span><span class="nv">selector</span><span class="ss">)</span>.<span class="nv">scope</span><span class="ss">()</span><span class="c1">;</span>
}<span class="c1">;</span>
</pre></div>

<p>Now you could do this</p>
<div class="code"><pre class="code literal-block"><span class="n">SC</span><span class="p">(</span><span class="s">'button:eq(10)'</span><span class="p">)</span>
<span class="n">SC</span><span class="p">(</span><span class="s">'button:eq(10)'</span><span class="p">).</span><span class="nf">row</span><span class="w">   </span><span class="c1">// -&gt; value of scope.row</span>
</pre></div>

<p>Check here: http://jsfiddle.net/jaimem/DvRaR/1/show/</p>
<p><br></p>
<h3>Suggest</h3>
<p>To improve on jm's answer...</p>
<div class="code"><pre class="code literal-block"><span class="o">//</span><span class="w"> </span><span class="n">Access</span><span class="w"> </span><span class="n">whole</span><span class="w"> </span><span class="n">scope</span>
<span class="n">angular</span><span class="o">.</span><span class="n">element</span><span class="p">(</span><span class="n">myDomElement</span><span class="p">)</span><span class="o">.</span><span class="n">scope</span><span class="p">();</span>

<span class="o">//</span><span class="w"> </span><span class="n">Access</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">scope</span>
<span class="n">angular</span><span class="o">.</span><span class="n">element</span><span class="p">(</span><span class="n">myDomElement</span><span class="p">)</span><span class="o">.</span><span class="n">scope</span><span class="p">()</span><span class="o">.</span><span class="n">myVar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<span class="n">angular</span><span class="o">.</span><span class="n">element</span><span class="p">(</span><span class="n">myDomElement</span><span class="p">)</span><span class="o">.</span><span class="n">scope</span><span class="p">()</span><span class="o">.</span><span class="n">myArray</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">newItem</span><span class="p">);</span>

<span class="o">//</span><span class="w"> </span><span class="n">Update</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">reflect</span><span class="w"> </span><span class="n">changed</span><span class="w"> </span><span class="n">variables</span>
<span class="n">angular</span><span class="o">.</span><span class="n">element</span><span class="p">(</span><span class="n">myDomElement</span><span class="p">)</span><span class="o">.</span><span class="n">scope</span><span class="p">()</span><span class="o">.$</span><span class="n">apply</span><span class="p">();</span>
</pre></div>

<p>Or if you're using jQuery, this does the same thing...</p>
<div class="code"><pre class="code literal-block">$('#elementId').scope();
$('#elementId').scope().$apply();
</pre></div>

<p>Another easy way to access a DOM element from the console (as jm mentioned) is
to click on it in the 'elements' tab, and it automatically gets stored as
<code>$0</code>.</p>
<div class="code"><pre class="code literal-block">angular.element($0).scope();
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-305.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-303.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

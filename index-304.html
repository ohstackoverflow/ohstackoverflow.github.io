<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 304) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-304.html">
<link rel="prev" href="index-305.html" type="text/html">
<link rel="next" href="index-303.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/ru-he-jiang-wen-ben-wen-jian-du-ru-zi-fu-chuan-bian-liang-bing-qu-chu-huan-xing-fu/" class="u-url">如何将文本文件读入字符串变量并去除换行符？</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/ru-he-jiang-wen-ben-wen-jian-du-ru-zi-fu-chuan-bian-liang-bing-qu-chu-huan-xing-fu/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T03:33:17+08:00" itemprop="datePublished" title="2023-02-17 03:33">2023-02-17 03:33</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>我有一个如下所示的文本文件：</p>
<div class="code"><pre class="code literal-block">ABC
DEF
</pre></div>

<p>如何将文件读入没有换行符的单行字符串，在这种情况下创建一个字符串<code>'ABCDEF'</code>？</p>
<hr>
<p>要将文件读入行 <em>列表</em> ，但从每行中删除尾随的换行符，请参阅如何在没有换行符的情况下读取文件？.</p>
<p><br><br></p>
<h2>解答</h2>
<p>你可以使用：</p>
<div class="code"><pre class="code literal-block">with open('data.txt', 'r') as file:
    data = file.read().replace('\n', '')
</pre></div>

<p>或者如果文件内容保证是一行</p>
<div class="code"><pre class="code literal-block">with open('data.txt', 'r') as file:
    data = file.read().rstrip()
</pre></div>

<p><br></p>
<h3>更多建议</h3>
<p>在 Python 3.5 或更高版本中，使用pathlib可以将文本文件内容复制到一个变量中并在一行中 <em>关闭文件：</em></p>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="n">txt</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">'data.txt'</span><span class="p">)</span><span class="o">.</span><span class="n">read_text</span><span class="p">()</span>
</pre></div>

<p>然后您可以使用str.replace删除换行符：</p>
<div class="code"><pre class="code literal-block">txt = txt.replace('\n', '')
</pre></div>

<p><br><br><a href="posts/how-to-read-a-text-file-into-a-string-variable-and-strip-newlines/">查看原文</a></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/ru-he-zhong-zhi-zai-linux-zhong-te-ding-duan-kou-shang-yun-xing-de-jin-cheng/" class="u-url">如何终止在 Linux 中特定端口上运行的进程？</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/ru-he-zhong-zhi-zai-linux-zhong-te-ding-duan-kou-shang-yun-xing-de-jin-cheng/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T03:32:50+08:00" itemprop="datePublished" title="2023-02-17 03:32">2023-02-17 03:32</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p><code>./shutdown.sh</code>我试图从 tomcat目录中关闭 tomcat <code>/bin</code>。但是发现服务器没有正常关闭。因此我无法重新启动<br>
我的 tomcat 在端口上运行<code>8080</code>。</p>
<p>我想杀死运行在<code>8080</code>. 我首先想要在特定端口 (8080) 上运行的进程列表，以便选择要终止的进程。</p>
<p><br><br></p>
<h2>解答</h2>
<p>使用命令</p>
<div class="code"><pre class="code literal-block"> sudo netstat -plten |grep java
</pre></div>

<p>用作它们的<code>grep java</code>过程。<code>tomcat``java</code></p>
<p>它将显示带有端口号和进程 ID 的进程列表</p>
<div class="code"><pre class="code literal-block">tcp6       0      0 :::8080                 :::*                    LISTEN      
1000       30070621    16085/java
</pre></div>

<p>前面的数字<code>/java</code>是进程ID。现在使用<code>kill</code>命令终止进程</p>
<div class="code"><pre class="code literal-block">kill -9 16085
</pre></div>

<p><code>-9</code>意味着该进程将被强行杀死。</p>
<p><br></p>
<h3>更多建议</h3>
<p>列出监听端口 8080 的所有进程：</p>
<div class="code"><pre class="code literal-block">lsof -i:8080
</pre></div>

<p>杀死任何监听端口 8080 的进程：</p>
<div class="code"><pre class="code literal-block">kill $(lsof -t -i:8080)
</pre></div>

<p>或更猛烈：</p>
<div class="code"><pre class="code literal-block">kill -9 $(lsof -t -i:8080)
</pre></div>

<p>（<code>-9</code>对应于<code>SIGKILL - terminate immediately/hard kill</code>信号：参见List of Kill
Signals和What is the purpose of the -9 option in the kill
command?。如果没有指定信号<code>kill</code>，则发送 TERM 信号又名<code>-15</code>or <code>soft kill</code>，有时这不足以杀死一个过程。）。</p>
<p><br><br><a href="posts/how-to-kill-a-process-running-on-particular-port-in-linux/">查看原文</a></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/ru-he-jia-su-eclipse/" class="u-url">如何加速 Eclipse？</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/ru-he-jia-su-eclipse/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T03:32:20+08:00" itemprop="datePublished" title="2023-02-17 03:32">2023-02-17 03:32</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p><strong>这个问题的答案是 社区的努力</strong>。编辑现有答案以改进这篇文章。它目前不接受新的答案或互动。</p>
<p><strong>您如何才能更快地体验 Eclipse？</strong></p>
<p>例如： <em>我禁用了所有不需要的插件（Mylyn、Subclipse 等）。</em></p>
<p>我没有使用Mercurial的插件，而是将TortoiseHG配置为外部工具。</p>
<p><br><br></p>
<h2>解答</h2>
<p>对 Eclipse 速度影响最大的三个因素是：</p>
<ul>
<li>使用 <strong>最新版本的 Eclipse</strong> （2020 年 6 月 26 日为 2020-06）<br>
请注意，David Balažic的评论（2014 年 7 月）与六年前的标准相矛盾：</li>
</ul>
<blockquote>
<p>Indigo (3.7.2) SR2 中的“相同”工作区加载时间为 4 秒，Kepler SR2 (4.3.2) 加载时间为 7 秒，Luna
(4.4.0) 加载时间为 10 秒。所有都是 Java EE
包。较新的版本有更多的捆绑插件，但趋势仍然很明显。（我所说的“相同”工作区是指：使用相同（额外安装）的插件，从版本控制中检出相同的项目）。</p>
</blockquote>
<ul>
<li>
<p>使用 <strong>最新的 JDK</strong> 启动它（撰写本文时为 Java 14，这不会阻止您在 Eclipse 项目中使用您想要的任何其他 JDK 进行编译：1.4.2、1.5、1.6 旧版本...）</p>
<div class="code"><pre class="code literal-block">  -vm jdk1.6.0_10\jre\bin\client\jvm.dll
</pre></div>

</li>
<li>
<p>配置 <strong>eclipse.ini</strong> （请参阅此问题以获得完整的 eclipse.ini）</p>
<div class="code"><pre class="code literal-block">  -Xms512m
</pre></div>

<p>-Xmx4096m
  [...]</p>
</li>
</ul>
<p>参数<code>Xmx</code>是 Eclipse 将获得的内存量（简单来说）。使用<code>-Xmx4g</code>，它获得 4 GB 的 RAM，等等。</p>
<hr>
<p>笔记：</p>
<ol>
<li>
<p>引用 jvm.dll 有以下好处：</p>
</li>
<li>
<p>启动画面更快出现。</p>
</li>
<li>进程列表中的 Eclipse.exe 而不是 java.exe。</li>
<li>防火墙：Eclipse 需要访问 Internet 而不是 Java。</li>
<li>窗口管理品牌问题，尤其是在 Windows 和 Mac 上。</li>
</ol>
<hr>
<p>2020年12月，Udo在评论中符合</p>
<blockquote>
<p>从版本 4.8 (Photon) 开始，每个版本之后都有稳定的速度增益。<br>
主要平台在每个版本中都进行了优化，以加快加载速度，为深色主题启用更多功能，并为 Java 开发工具为更新的 Java 版本添加更多功能。<br>
特别是在最近的 3 个版本中，启动时间增加了很多。最新版本的 Eclipse 2020-12 的启动时间应该会显着增加。</p>
<p>根据我的经验，每个新版本的启动速度都快得多。<br>
但是：仍然有一些插件没有遵循使用 Eclipse API 的新方式，因此仍然启动缓慢。<br>
自从 Eclipse 版本 2020-09 开始将 Java 11 更改为最低运行时版本以来，至少核心系统使用了 JVM
的更新功能。由其他插件的提供者升级到更新的 API 并使用现代 CPU 的全部功能（例如并发编程模型）。</p>
</blockquote>
<h3>也可以看看</h3>
<ol>
<li>为 Eclipse 提供正确数量的线程和正确数量的内存：问题：Eclipse 和 Eclipse 索引器占用了我所有的资源/CPU%</li>
</ol>
<p><br></p>
<h3>更多建议</h3>
<p>添加<code>-Xverify:none</code>到您的 <em>eclipse.ini</em> 文件。</p>
<p>它将大大减少您的 Eclipse 启动时间（在我的例子中是 50%，如果不是更多的话）。这将告诉 VM 不要验证它正在加载的所有 .class 文件。</p>
<p>考虑一下：Never Disable Bytecode Verification in a Production System（如评论中所述）</p>
<p><br><br><a href="posts/how-can-you-speed-up-eclipse/">查看原文</a></p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-305.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-303.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2519) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2519.html">
<link rel="prev" href="index-2520.html" type="text/html">
<link rel="next" href="index-2518.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/do-you-have-to-put-task-run-in-a-method-to-make-it-async/" class="u-url">Do you have to put Task.Run in a method to make it async?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/do-you-have-to-put-task-run-in-a-method-to-make-it-async/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T22:08:53+08:00" itemprop="datePublished" title="2023-03-04 22:08">2023-03-04 22:08</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm trying to understand async await in the simplest form. I want to create a
very simple method that adds two numbers for the sake of this example,
granted, it's no processing time at all, it's just a matter of formulating an
example here.</p>
<h4>Example 1</h4>
<div class="code"><pre class="code literal-block">private async Task DoWork1Async()
{
    int result = 1 + 2;
}
</pre></div>

<h4>Example 2</h4>
<div class="code"><pre class="code literal-block">private async Task DoWork2Async()
{
    Task.Run( () =&gt;
    {
        int result = 1 + 2;
    });
}
</pre></div>

<p>If I await <code>DoWork1Async()</code> will the code run synchronously or asynchronously?</p>
<p>Do I need to wrap the sync code with <code>Task.Run</code> to make the method awaitable
AND asynchronous so as not to block the UI thread?</p>
<p>I'm trying to figure out if my method is a <code>Task</code> or returns <code>Task&lt;T&gt;</code> do I
need to wrap the code with <code>Task.Run</code> to make it asynchronous.</p>
<p>I see examples on the net where people are awaiting code that has nothing
async within and not wrapped in a <code>Task.Run</code> or <code>StartNew</code>.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>First, let's clear up some terminology: "asynchronous" (<code>async</code>) means that it
may yield control back to the calling thread before it starts. In an <code>async</code>
method, those "yield" points are <code>await</code> expressions.</p>
<p>This is very different than the term "asynchronous", as (mis)used by the MSDN
documentation for years to mean "executes on a background thread".</p>
<p>To futher confuse the issue, <code>async</code> is very different than "awaitable"; there
are some <code>async</code> methods whose return types are not awaitable, and many
methods returning awaitable types that are not <code>async</code>.</p>
<p>Enough about what they <em>aren't</em> ; here's what they <em>are</em> :</p>
<ul>
<li>The <code>async</code> keyword allows an asynchronous method (that is, it allows <code>await</code> expressions). <code>async</code> methods may return <code>Task</code>, <code>Task&lt;T&gt;</code>, or (if you must) <code>void</code>.</li>
<li>Any type that follows a certain pattern can be awaitable. The most common awaitable types are <code>Task</code> and <code>Task&lt;T&gt;</code>.</li>
</ul>
<p>So, if we reformulate your question to "how can I run an operation <em>on a
background thread</em> in a way that it's awaitable", the answer is to use
<code>Task.Run</code>:</p>
<div class="code"><pre class="code literal-block"><span class="nv">private</span><span class="w"> </span><span class="nv">Task</span><span class="o">&lt;</span><span class="nv">int</span><span class="o">&gt;</span><span class="w"> </span><span class="nv">DoWorkAsync</span><span class="ss">()</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="nv">No</span><span class="w"> </span><span class="nv">async</span><span class="w"> </span><span class="nv">because</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">method</span><span class="w"> </span><span class="nv">does</span><span class="w"> </span><span class="nv">not</span><span class="w"> </span><span class="nv">need</span><span class="w"> </span><span class="nv">await</span>
{
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nv">Task</span>.<span class="nv">Run</span><span class="ss">(()</span><span class="w"> </span><span class="o">=&gt;</span>
<span class="w">  </span>{
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="c1">;</span>
<span class="w">  </span>}<span class="ss">)</span><span class="c1">;</span>
}
</pre></div>

<p>(But this pattern is a poor approach; see below).</p>
<p>But if your question is "how do I create an <code>async</code> method that can yield back
to its caller instead of blocking", the answer is to declare the method
<code>async</code> and use <code>await</code> for its "yielding" points:</p>
<div class="code"><pre class="code literal-block"><span class="n">private</span><span class="w"> </span><span class="n">async</span><span class="w"> </span><span class="n">Task</span><span class="o">&lt;</span><span class="nb nb-Type">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">GetWebPageHtmlSizeAsync</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">HttpClient</span><span class="p">();</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">html</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">await</span><span class="w"> </span><span class="n">client</span><span class="o">.</span><span class="n">GetAsync</span><span class="p">(</span><span class="s2">"http://www.example.com/"</span><span class="p">);</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">html</span><span class="o">.</span><span class="n">Length</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>So, the basic pattern of things is to have <code>async</code> code depend on "awaitables"
in its <code>await</code> expressions. These "awaitables" can be other <code>async</code> methods or
just regular methods returning awaitables. Regular methods returning
<code>Task</code>/<code>Task&lt;T&gt;</code> <em>can</em> use <code>Task.Run</code> to execute code on a background thread,
or (more commonly) they can use <code>TaskCompletionSource&lt;T&gt;</code> or one of its
shortcuts (<code>TaskFactory.FromAsync</code>, <code>Task.FromResult</code>, etc). I <strong>don't</strong>
recommend wrapping an entire method in <code>Task.Run</code>; synchronous methods should
have synchronous signatures, and it should be left up to the consumer whether
it should be wrapped in a <code>Task.Run</code>:</p>
<div class="code"><pre class="code literal-block"><span class="n">private</span><span class="w"> </span><span class="nb nb-Type">int</span><span class="w"> </span><span class="n">DoWork</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">private</span><span class="w"> </span><span class="nb nb-Type">void</span><span class="w"> </span><span class="n">MoreSynchronousProcessing</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">Execute</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">directly</span><span class="w"> </span><span class="p">(</span><span class="n">synchronously</span><span class="p">),</span><span class="w"> </span><span class="n">since</span><span class="w"> </span><span class="n">we</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">synchronous</span><span class="w"> </span><span class="n">method</span><span class="o">.</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DoWork</span><span class="p">();</span>
<span class="w">  </span><span class="o">...</span>
<span class="p">}</span>

<span class="n">private</span><span class="w"> </span><span class="n">async</span><span class="w"> </span><span class="n">Task</span><span class="w"> </span><span class="n">DoVariousThingsFromTheUIThreadAsync</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">bunch</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">async</span><span class="w"> </span><span class="n">work</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">do</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="n">am</span><span class="w"> </span><span class="n">executed</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">UI</span><span class="w"> </span><span class="n">thread</span><span class="o">.</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">await</span><span class="w"> </span><span class="n">Task</span><span class="o">.</span><span class="n">Run</span><span class="p">(()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">DoWork</span><span class="p">());</span>
<span class="w">  </span><span class="o">...</span>
<span class="p">}</span>
</pre></div>

<p>I have an <code>async</code>/<code>await</code> intro on my blog; at the end are some good followup
resources. The MSDN docs for <code>async</code> are unusually good, too.</p>
<p><br></p>
<h3>Suggest</h3>
<p>One of the most important thing to remember when decorating a method with
<em><strong>async</strong></em> is that at least there is <strong>one</strong> <em><strong>await</strong></em> operator inside the
method. In your example, I would translate it as shown below using
TaskCompletionSource.</p>
<div class="code"><pre class="code literal-block"><span class="nv">private</span><span class="w"> </span><span class="nv">Task</span><span class="o">&lt;</span><span class="nv">int</span><span class="o">&gt;</span><span class="w"> </span><span class="nv">DoWorkAsync</span><span class="ss">()</span>
{
<span class="w">    </span><span class="o">//</span><span class="nv">create</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">task</span><span class="w"> </span><span class="nv">completion</span><span class="w"> </span><span class="nv">source</span>
<span class="w">    </span><span class="o">//</span><span class="nv">the</span><span class="w"> </span><span class="nv">type</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nb">result</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="nv">must</span><span class="w"> </span><span class="nv">be</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">same</span>
<span class="w">    </span><span class="o">//</span><span class="nv">as</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">type</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">returning</span><span class="w"> </span><span class="nv">Task</span>
<span class="w">    </span><span class="nv">TaskCompletionSource</span><span class="o">&lt;</span><span class="nv">int</span><span class="o">&gt;</span><span class="w"> </span><span class="nv">tcs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">TaskCompletionSource</span><span class="o">&lt;</span><span class="nv">int</span><span class="o">&gt;</span><span class="ss">()</span><span class="c1">;</span>
<span class="w">    </span><span class="nv">Task</span>.<span class="nv">Run</span><span class="ss">(()</span><span class="w"> </span><span class="o">=&gt;</span>
<span class="w">    </span>{
<span class="w">        </span><span class="nv">int</span><span class="w"> </span><span class="nb">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="c1">;</span>
<span class="w">        </span><span class="o">//</span><span class="nv">set</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nb">result</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">TaskCompletionSource</span>
<span class="w">        </span><span class="nv">tcs</span>.<span class="nv">SetResult</span><span class="ss">(</span><span class="nb">result</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span>}<span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span><span class="o">//</span><span class="k">return</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">Task</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">tcs</span>.<span class="nv">Task</span><span class="c1">;</span>
}

<span class="nv">private</span><span class="w"> </span><span class="nv">async</span><span class="w"> </span><span class="nv">Task</span><span class="w"> </span><span class="nv">DoWork</span><span class="ss">()</span>
{
<span class="w">    </span><span class="nv">int</span><span class="w"> </span><span class="nb">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">await</span><span class="w"> </span><span class="nv">DoWorkAsync</span><span class="ss">()</span><span class="c1">;</span>
}
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-create-a-dialogfragment-without-title/" class="u-url">How to create a DialogFragment without title?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-create-a-dialogfragment-without-title/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T22:07:26+08:00" itemprop="datePublished" title="2023-03-04 22:07">2023-03-04 22:07</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm creating a DialogFragment to show some help messages regarding my app.
Everything works fine besides one thing: There is a black stripe at the top of
the window that shows the DialogFragment, that I presume is reserved for the
title, something I don't want to use.</p>
<p>This is specially painful since my custom DialogFragment uses a white
background, so the change is way too notorious to be left aside.</p>
<p>Let me show you this in a more graphical manner:</p>
<p><img alt="enter image description here" src="images/iGWC5.png"></p>
<p>Now the XML code for my DialogFragment is as follows:</p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;</span><span class="n">ScrollView</span><span class="w"> </span><span class="nl">xmlns</span><span class="p">:</span><span class="n">android</span><span class="o">=</span><span class="ss">"http://schemas.android.com/apk/res/android"</span>
<span class="w">    </span><span class="nl">android</span><span class="p">:</span><span class="n">layout_width</span><span class="o">=</span><span class="ss">"fill_parent"</span>
<span class="w">    </span><span class="nl">android</span><span class="p">:</span><span class="n">layout_height</span><span class="o">=</span><span class="ss">"fill_parent"</span><span class="o">&gt;</span>

<span class="w">    </span><span class="o">&lt;</span><span class="n">LinearLayout</span>
<span class="w">        </span><span class="nl">android</span><span class="p">:</span><span class="n">id</span><span class="o">=</span><span class="ss">"@+id/holding"</span><span class="w"> </span>
<span class="w">        </span><span class="nl">android</span><span class="p">:</span><span class="n">orientation</span><span class="o">=</span><span class="ss">"vertical"</span><span class="w"> </span>
<span class="w">        </span><span class="nl">android</span><span class="p">:</span><span class="n">layout_width</span><span class="o">=</span><span class="ss">"fill_parent"</span><span class="w"> </span>
<span class="w">        </span><span class="nl">android</span><span class="p">:</span><span class="n">layout_height</span><span class="o">=</span><span class="ss">"fill_parent"</span>
<span class="w">        </span><span class="nl">android</span><span class="p">:</span><span class="n">background</span><span class="o">=</span><span class="ss">"@drawable/dialog_fragment_bg"</span>
<span class="w">        </span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="err">!</span><span class="o">--</span><span class="w"> </span><span class="n">Usamos</span><span class="w"> </span><span class="n">un</span><span class="w"> </span><span class="n">LinearLayout</span><span class="w"> </span><span class="n">para</span><span class="w"> </span><span class="n">que</span><span class="w"> </span><span class="n">la</span><span class="w"> </span><span class="n">imagen</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="n">el</span><span class="w"> </span><span class="n">texto</span><span class="w"> </span><span class="n">esten</span><span class="w"> </span><span class="n">bien</span><span class="w"> </span><span class="n">alineados</span><span class="w"> </span><span class="o">--&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="n">LinearLayout</span>
<span class="w">            </span><span class="nl">android</span><span class="p">:</span><span class="n">id</span><span class="o">=</span><span class="ss">"@+id/confirmationToast"</span><span class="w"> </span>
<span class="w">            </span><span class="nl">android</span><span class="p">:</span><span class="n">orientation</span><span class="o">=</span><span class="ss">"horizontal"</span><span class="w"> </span>
<span class="w">            </span><span class="nl">android</span><span class="p">:</span><span class="n">layout_width</span><span class="o">=</span><span class="ss">"wrap_content"</span><span class="w"> </span>
<span class="w">            </span><span class="nl">android</span><span class="p">:</span><span class="n">layout_height</span><span class="o">=</span><span class="ss">"wrap_content"</span>
<span class="w">            </span><span class="o">&gt;</span>

<span class="w">            </span><span class="o">&lt;</span><span class="n">TextView</span><span class="w"> </span><span class="nl">android</span><span class="p">:</span><span class="n">id</span><span class="o">=</span><span class="ss">"@+id/confirmationToastText"</span><span class="w"> </span>
<span class="w">            </span><span class="nl">android</span><span class="p">:</span><span class="n">layout_width</span><span class="o">=</span><span class="ss">"wrap_content"</span>
<span class="w">            </span><span class="nl">android</span><span class="p">:</span><span class="n">layout_height</span><span class="o">=</span><span class="ss">"fill_parent"</span><span class="w"> </span>
<span class="w">            </span><span class="nl">android</span><span class="p">:</span><span class="nc">text</span><span class="o">=</span><span class="ss">"@string/help_dialog_fragment"</span>
<span class="w">            </span><span class="nl">android</span><span class="p">:</span><span class="n">textColor</span><span class="o">=</span><span class="ss">"#AE0000"</span>
<span class="w">            </span><span class="nl">android</span><span class="p">:</span><span class="n">gravity</span><span class="o">=</span><span class="ss">"center_vertical"</span>
<span class="w">            </span><span class="o">/&gt;</span>

<span class="w">        </span><span class="o">&lt;/</span><span class="n">LinearLayout</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="n">LinearLayout</span>
<span class="w">            </span><span class="nl">android</span><span class="p">:</span><span class="n">id</span><span class="o">=</span><span class="ss">"@+id/confirmationButtonLL"</span><span class="w"> </span>
<span class="w">            </span><span class="nl">android</span><span class="p">:</span><span class="n">orientation</span><span class="o">=</span><span class="ss">"horizontal"</span><span class="w"> </span>
<span class="w">            </span><span class="nl">android</span><span class="p">:</span><span class="n">layout_width</span><span class="o">=</span><span class="ss">"fill_parent"</span><span class="w"> </span>
<span class="w">            </span><span class="nl">android</span><span class="p">:</span><span class="n">layout_height</span><span class="o">=</span><span class="ss">"fill_parent"</span>
<span class="w">            </span><span class="nl">android</span><span class="p">:</span><span class="n">gravity</span><span class="o">=</span><span class="ss">"center_horizontal"</span>
<span class="w">            </span><span class="o">&gt;</span><span class="w">    </span>
<span class="w">            </span><span class="o">&lt;</span><span class="n">Button</span><span class="w"> </span><span class="nl">android</span><span class="p">:</span><span class="n">id</span><span class="o">=</span><span class="ss">"@+id/confirmationDialogButton"</span>
<span class="w">                </span><span class="nl">android</span><span class="p">:</span><span class="n">layout_width</span><span class="o">=</span><span class="ss">"wrap_content"</span>
<span class="w">                </span><span class="nl">android</span><span class="p">:</span><span class="n">layout_height</span><span class="o">=</span><span class="ss">"wrap_content"</span>
<span class="w">                </span><span class="nl">android</span><span class="p">:</span><span class="n">gravity</span><span class="o">=</span><span class="ss">"center"</span>
<span class="w">                </span><span class="nl">android</span><span class="p">:</span><span class="n">layout_marginBottom</span><span class="o">=</span><span class="ss">"60dp"</span>
<span class="w">                </span><span class="nl">android</span><span class="p">:</span><span class="n">background</span><span class="o">=</span><span class="ss">"@drawable/ok_button"</span><span class="o">&gt;</span>
<span class="w">            </span><span class="o">&lt;/</span><span class="n">Button</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;/</span><span class="n">LinearLayout</span><span class="o">&gt;</span>
<span class="w">    </span><span class="o">&lt;/</span><span class="n">LinearLayout</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">ScrollView</span><span class="o">&gt;</span>
</pre></div>

<p>And the code of the class that implements the DialogFragment:</p>
<div class="code"><pre class="code literal-block"><span class="n">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">HelpDialog</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="n">DialogFragment</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="n">HelpDialog</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="n">Empty</span><span class="w"> </span><span class="n">constructor</span><span class="w"> </span><span class="n">required</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">DialogFragment</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="err">@</span><span class="n">Override</span>
<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="n">View</span><span class="w"> </span><span class="n">onCreateView</span><span class="p">(</span><span class="n">LayoutInflater</span><span class="w"> </span><span class="n">inflater</span><span class="p">,</span><span class="w"> </span><span class="n">ViewGroup</span><span class="w"> </span><span class="n">container</span><span class="p">,</span><span class="w"> </span><span class="n">Bundle</span><span class="w"> </span><span class="n">savedInstanceState</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="o">//</span><span class="n">Inflate</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">XML</span><span class="w"> </span><span class="n">view</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">help</span><span class="w"> </span><span class="n">dialog</span><span class="w"> </span><span class="n">fragment</span>
<span class="w">        </span><span class="n">View</span><span class="w"> </span><span class="n">view</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inflater</span><span class="o">.</span><span class="n">inflate</span><span class="p">(</span><span class="n">R</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">help_dialog_fragment</span><span class="p">,</span><span class="w"> </span><span class="n">container</span><span class="p">);</span>
<span class="w">        </span><span class="n">TextView</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">TextView</span><span class="p">)</span><span class="n">view</span><span class="o">.</span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">confirmationToastText</span><span class="p">);</span>
<span class="w">        </span><span class="n">text</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">Html</span><span class="o">.</span><span class="n">fromHtml</span><span class="p">(</span><span class="n">getString</span><span class="p">(</span><span class="n">R</span><span class="o">.</span><span class="n">string</span><span class="o">.</span><span class="n">help_dialog_fragment</span><span class="p">)));</span>
<span class="w">        </span><span class="o">//</span><span class="n">get</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">OK</span><span class="w"> </span><span class="n">button</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">Listener</span>
<span class="w">        </span><span class="p">((</span><span class="n">Button</span><span class="p">)</span><span class="w"> </span><span class="n">view</span><span class="o">.</span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">confirmationDialogButton</span><span class="p">))</span><span class="o">.</span><span class="n">setOnClickListener</span><span class="p">(</span><span class="n">new</span><span class="w"> </span><span class="n">OnClickListener</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">public</span><span class="w"> </span><span class="nb nb-Type">void</span><span class="w"> </span><span class="n">onClick</span><span class="p">(</span><span class="n">View</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                 </span><span class="o">//</span><span class="w"> </span><span class="n">When</span><span class="w"> </span><span class="n">button</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">clicked</span><span class="p">,</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">owning</span><span class="w"> </span><span class="n">activity</span><span class="o">.</span>
<span class="w">                </span><span class="n">HelpDialog</span><span class="o">.</span><span class="n">this</span><span class="o">.</span><span class="n">dismiss</span><span class="p">();</span>
<span class="w">             </span><span class="p">}</span>
<span class="w">         </span><span class="p">});</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">view</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="p">}</span>
</pre></div>

<p>And the creation process in the main Activity:</p>
<div class="code"><pre class="code literal-block"><span class="o">/**</span>
<span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">Shows</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">HelpDialog</span><span class="w"> </span><span class="n">Fragment</span>
<span class="w"> </span><span class="o">*/</span>
<span class="n">private</span><span class="w"> </span><span class="n">void</span><span class="w"> </span><span class="n">showHelpDialog</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">android</span><span class="p">.</span><span class="n">support</span><span class="p">.</span><span class="n">v4</span><span class="p">.</span><span class="n">app</span><span class="p">.</span><span class="n">FragmentManager</span><span class="w"> </span><span class="n">fm</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">getSupportFragmentManager</span><span class="p">();</span>
<span class="w">    </span><span class="n">HelpDialog</span><span class="w"> </span><span class="n">helpDialog</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">HelpDialog</span><span class="p">();</span>
<span class="w">    </span><span class="n">helpDialog</span><span class="p">.</span><span class="n">show</span><span class="p">(</span><span class="n">fm</span><span class="p">,</span><span class="w"> </span><span class="s">"fragment_help"</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

<p>I really don't know if this answer, related with a Dialog, fits here also
Android: How to create a Dialog without a title?</p>
<p>How can I get rid of this title area?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Just add this line of code in your <code>HelpDialog.onCreateView(...)</code></p>
<div class="code"><pre class="code literal-block">getDialog().getWindow().requestFeature(Window.FEATURE_NO_TITLE);
</pre></div>

<p>This way you're explicitly asking to get a window without title :)</p>
<p><strong>EDIT</strong></p>
<p>As <code>@DataGraham</code> and <code>@Blundell</code> pointed out on the comments below, it's safer
to add the request for a title-less window in the <code>onCreateDialog()</code> method
instead of <code>onCreateView()</code>. This way you can prevent ennoying NPE when you're
not using your fragment as a <code>Dialog</code>:</p>
<div class="code"><pre class="code literal-block"><span class="nv">@Override</span>
<span class="k">public</span><span class="w"> </span><span class="n">Dialog</span><span class="w"> </span><span class="n">onCreateDialog</span><span class="p">(</span><span class="n">Bundle</span><span class="w"> </span><span class="n">savedInstanceState</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">  </span><span class="n">Dialog</span><span class="w"> </span><span class="n">dialog</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">super</span><span class="p">.</span><span class="n">onCreateDialog</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span>

<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">window</span><span class="w"> </span><span class="k">without</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">title</span>
<span class="w">  </span><span class="n">dialog</span><span class="p">.</span><span class="n">getWindow</span><span class="p">().</span><span class="n">requestFeature</span><span class="p">(</span><span class="k">Window</span><span class="p">.</span><span class="n">FEATURE_NO_TITLE</span><span class="p">);</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">dialog</span><span class="p">;</span>
<span class="err">}</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Dialog fragment has setStyle method, which should be called before view
creation Java Doc. Also style of the dialog can be set with the same method</p>
<div class="code"><pre class="code literal-block"><span class="nv">public</span><span class="w"> </span><span class="nv">static</span><span class="w"> </span><span class="nv">MyDialogFragment</span><span class="w"> </span><span class="nv">newInstance</span><span class="ss">()</span><span class="w"> </span>{
<span class="w">        </span><span class="nv">MyDialogFragment</span><span class="w"> </span><span class="nv">mDialogFragment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">MyDialogFragment</span><span class="ss">()</span><span class="c1">;</span>
<span class="w">        </span><span class="o">//</span><span class="nv">Set</span><span class="w"> </span><span class="nv">Arguments</span><span class="w"> </span><span class="nv">here</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">needed</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">dialog</span><span class="w"> </span><span class="nv">auto</span><span class="w"> </span><span class="nv">recreation</span><span class="w"> </span><span class="nv">on</span><span class="w"> </span><span class="nv">screen</span><span class="w"> </span><span class="nv">rotation</span>
<span class="w">        </span><span class="nv">mDialogFragment</span>.<span class="nv">setStyle</span><span class="ss">(</span><span class="nv">DialogFragment</span>.<span class="nv">STYLE_NO_TITLE</span>,<span class="w"> </span><span class="mi">0</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nv">mDialogFragment</span><span class="c1">;</span>
}
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/convert-a-list-with-strings-all-to-lowercase-or-uppercase/" class="u-url">Convert a list with strings all to lowercase or uppercase</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/convert-a-list-with-strings-all-to-lowercase-or-uppercase/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T22:05:59+08:00" itemprop="datePublished" title="2023-03-04 22:05">2023-03-04 22:05</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a Python list variable that contains strings. Is there a function that
can convert all the strings in one pass to lowercase and vice versa,
uppercase?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>It can be done with list comprehensions</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span><span class="w"> </span>[<span class="nv">x</span>.<span class="nv">lower</span><span class="ss">()</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span>[<span class="s2">"A"</span>,<span class="w"> </span><span class="s2">"B"</span>,<span class="w"> </span><span class="s2">"C"</span>]]
[<span class="s1">'a'</span>,<span class="w"> </span><span class="s1">'b'</span>,<span class="w"> </span><span class="s1">'c'</span>]
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span>[<span class="nv">x</span>.<span class="nv">upper</span><span class="ss">()</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span>[<span class="s2">"a"</span>,<span class="w"> </span><span class="s2">"b"</span>,<span class="w"> </span><span class="s2">"c"</span>]]
[<span class="s1">'A'</span>,<span class="w"> </span><span class="s1">'B'</span>,<span class="w"> </span><span class="s1">'C'</span>]
</pre></div>

<p>or with the <code>map</code> function</p>
<div class="code"><pre class="code literal-block">&gt;&gt;&gt; list(map(lambda x: x.lower(), ["A", "B", "C"]))
['a', 'b', 'c']
&gt;&gt;&gt; list(map(lambda x: x.upper(), ["a", "b", "c"]))
['A', 'B', 'C']
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<div class="code"><pre class="code literal-block">&gt;&gt;&gt; list(map(str.lower,["A","B","C"]))
['a', 'b', 'c']
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2520.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2518.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

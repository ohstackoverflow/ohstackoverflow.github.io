<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2465) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2465.html">
<link rel="prev" href="index-2466.html" type="text/html">
<link rel="next" href="index-2464.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/ignore-duplicates-when-producing-map-using-streams/" class="u-url">Ignore duplicates when producing map using streams</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/ignore-duplicates-when-producing-map-using-streams/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T18:06:31+08:00" itemprop="datePublished" title="2023-03-04 18:06">2023-03-04 18:06</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <div class="code"><pre class="code literal-block"><span class="nt">Map</span><span class="o">&lt;</span><span class="nt">String</span><span class="o">,</span><span class="w"> </span><span class="nt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="nt">phoneBook</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">people</span><span class="p">.</span><span class="nc">stream</span><span class="o">()</span>
<span class="w">                                      </span><span class="p">.</span><span class="nc">collect</span><span class="o">(</span><span class="nt">toMap</span><span class="o">(</span><span class="nt">Person</span><span class="p">::</span><span class="nd">getName</span><span class="o">,</span>
<span class="w">                                                     </span><span class="nt">Person</span><span class="p">::</span><span class="nd">getAddress</span><span class="o">));</span>
</pre></div>

<p>I get <code>java.lang.IllegalStateException: Duplicate key</code> when a duplicated
element is found.</p>
<p>Is it possible to ignore such exception on adding values to the map?</p>
<p>When there is duplicate it simply should continue by ignoring that duplicate
key.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>This is possible using the <code>mergeFunction</code> parameter of
<code>Collectors.toMap(keyMapper, valueMapper, mergeFunction)</code>:</p>
<div class="code"><pre class="code literal-block"><span class="nt">Map</span><span class="o">&lt;</span><span class="nt">String</span><span class="o">,</span><span class="w"> </span><span class="nt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="nt">phoneBook</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>
<span class="w">    </span><span class="nt">people</span><span class="p">.</span><span class="nc">stream</span><span class="o">()</span>
<span class="w">          </span><span class="p">.</span><span class="nc">collect</span><span class="o">(</span><span class="nt">Collectors</span><span class="p">.</span><span class="nc">toMap</span><span class="o">(</span>
<span class="w">             </span><span class="nt">Person</span><span class="p">::</span><span class="nd">getName</span><span class="o">,</span>
<span class="w">             </span><span class="nt">Person</span><span class="p">::</span><span class="nd">getAddress</span><span class="o">,</span>
<span class="w">             </span><span class="o">(</span><span class="nt">address1</span><span class="o">,</span><span class="w"> </span><span class="nt">address2</span><span class="o">)</span><span class="w"> </span><span class="nt">-</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                 </span><span class="err">System.out.println("duplicate</span><span class="w"> </span><span class="err">key</span><span class="w"> </span><span class="err">found!")</span><span class="p">;</span>
<span class="w">                 </span><span class="err">return</span><span class="w"> </span><span class="err">address1</span><span class="p">;</span>
<span class="w">             </span><span class="p">}</span>
<span class="w">          </span><span class="o">));</span>
</pre></div>

<p><code>mergeFunction</code> is a function that operates on two values associated with the
same key. <code>adress1</code> corresponds to the first address that was encountered when
collecting elements and <code>adress2</code> corresponds to the second address
encountered: this lambda just tells to keep the first address and ignores the
second.</p>
<p><br></p>
<h3>Suggest</h3>
<p>As said in JavaDocs:</p>
<blockquote>
<p>If the mapped keys contains duplicates (according to
<code>Object.equals(Object)</code>), an <code>IllegalStateException</code> is thrown when the
collection operation is performed. If the mapped keys may have duplicates,
use <code>toMap(Function keyMapper, Function valueMapper, BinaryOperator
mergeFunction)</code> instead.</p>
</blockquote>
<p>So you should use <code>toMap(Function keyMapper, Function valueMapper,
BinaryOperator mergeFunction)</code> instead. Just provide a <strong>merge function</strong> ,
that will determine which one of duplicates is put in the map.</p>
<p>For example, if you don't care which one, just call</p>
<div class="code"><pre class="code literal-block"><span class="nt">Map</span><span class="o">&lt;</span><span class="nt">String</span><span class="o">,</span><span class="w"> </span><span class="nt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="nt">phoneBook</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">people</span><span class="p">.</span><span class="nc">stream</span><span class="o">()</span><span class="p">.</span><span class="nc">collect</span><span class="o">(</span>
<span class="w">        </span><span class="nt">Collectors</span><span class="p">.</span><span class="nc">toMap</span><span class="o">(</span><span class="nt">Person</span><span class="p">::</span><span class="nd">getName</span><span class="o">,</span><span class="w"> </span><span class="nt">Person</span><span class="p">::</span><span class="nd">getAddress</span><span class="o">,</span><span class="w"> </span><span class="o">(</span><span class="nt">a1</span><span class="o">,</span><span class="w"> </span><span class="nt">a2</span><span class="o">)</span><span class="w"> </span><span class="nt">-</span><span class="o">&gt;</span><span class="w"> </span><span class="nt">a1</span><span class="o">));</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/error-node-sass-does-not-yet-support-your-current-environment-windows-64-bit-with-false/" class="u-url">Error: Node Sass does not yet support your current environment: Windows 64-bit with false</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/error-node-sass-does-not-yet-support-your-current-environment-windows-64-bit-with-false/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T18:05:00+08:00" itemprop="datePublished" title="2023-03-04 18:05">2023-03-04 18:05</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <div class="code"><pre class="code literal-block"><span class="n">E</span><span class="p">:</span>\<span class="n">A</span><span class="w"> </span><span class="n">Prem</span><span class="w"> </span><span class="n">World</span>\<span class="n">Team_Work_Tasks</span>\<span class="n">Anjali</span>\<span class="n">Anjali_20160524</span>\<span class="n">QuizApp_20160524_01_Anj</span><span class="o">&gt;</span><span class="n">ionic</span><span class="w"> </span><span class="n">serve</span><span class="w"> </span><span class="o">-</span><span class="n">l</span>
<span class="p">(</span><span class="n">node</span><span class="p">:</span><span class="mi">4772</span><span class="p">)</span><span class="w"> </span><span class="n">fs</span><span class="p">:</span><span class="w"> </span><span class="n">re</span><span class="o">-</span><span class="n">evaluating</span><span class="w"> </span><span class="n">native</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">supported</span><span class="o">.</span><span class="w"> </span><span class="n">If</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">graceful</span><span class="o">-</span><span class="n">fs</span><span class="w"> </span><span class="n">module</span><span class="p">,</span><span class="w"> </span><span class="n">please</span><span class="w"> </span><span class="n">update</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">recent</span><span class="w"> </span><span class="n">version</span><span class="o">.</span>
<span class="n">There</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">gulpfile</span><span class="p">:</span>
<span class="n">Error</span><span class="p">:</span><span class="w"> </span><span class="n">Node</span><span class="w"> </span><span class="n">Sass</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">yet</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">environment</span><span class="p">:</span><span class="w"> </span><span class="n">Windows</span><span class="w"> </span><span class="mi">64</span><span class="o">-</span><span class="n">bit</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="bp">false</span>
<span class="n">For</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">environments</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">supported</span><span class="w"> </span><span class="n">please</span><span class="w"> </span><span class="n">see</span><span class="p">:</span>
<span class="n">TODO</span><span class="w"> </span><span class="n">URL</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="nb nb-Type">Object</span><span class="o">.&lt;</span><span class="n">anonymous</span><span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">E</span><span class="p">:</span>\<span class="n">A</span><span class="w"> </span><span class="n">Prem</span><span class="w"> </span><span class="n">World</span>\<span class="n">Team_Work_Tasks</span>\<span class="n">Anjali</span>\<span class="n">Anjali_20160524</span>\<span class="n">QuizApp_20160524_01_Anj</span>\<span class="n">node_modules</span>\<span class="n">node</span><span class="o">-</span><span class="n">sass</span>\<span class="n">lib</span>\<span class="n">index</span><span class="o">.</span><span class="n">js</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">11</span><span class="p">)</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">Module</span><span class="o">.</span><span class="n">_compile</span><span class="w"> </span><span class="p">(</span><span class="n">module</span><span class="o">.</span><span class="n">js</span><span class="p">:</span><span class="mi">541</span><span class="p">:</span><span class="mi">32</span><span class="p">)</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="nb nb-Type">Object</span><span class="o">.</span><span class="n">Module</span><span class="o">.</span><span class="n">_extensions</span><span class="o">..</span><span class="n">js</span><span class="w"> </span><span class="p">(</span><span class="n">module</span><span class="o">.</span><span class="n">js</span><span class="p">:</span><span class="mi">550</span><span class="p">:</span><span class="mi">10</span><span class="p">)</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">Module</span><span class="o">.</span><span class="n">load</span><span class="w"> </span><span class="p">(</span><span class="n">module</span><span class="o">.</span><span class="n">js</span><span class="p">:</span><span class="mi">456</span><span class="p">:</span><span class="mi">32</span><span class="p">)</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">tryModuleLoad</span><span class="w"> </span><span class="p">(</span><span class="n">module</span><span class="o">.</span><span class="n">js</span><span class="p">:</span><span class="mi">415</span><span class="p">:</span><span class="mi">12</span><span class="p">)</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">Function</span><span class="o">.</span><span class="n">Module</span><span class="o">.</span><span class="n">_load</span><span class="w"> </span><span class="p">(</span><span class="n">module</span><span class="o">.</span><span class="n">js</span><span class="p">:</span><span class="mi">407</span><span class="p">:</span><span class="mi">3</span><span class="p">)</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">Module</span><span class="o">.</span><span class="n">require</span><span class="w"> </span><span class="p">(</span><span class="n">module</span><span class="o">.</span><span class="n">js</span><span class="p">:</span><span class="mi">466</span><span class="p">:</span><span class="mi">17</span><span class="p">)</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">require</span><span class="w"> </span><span class="p">(</span><span class="n">internal</span><span class="o">/</span><span class="n">module</span><span class="o">.</span><span class="n">js</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">19</span><span class="p">)</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="nb nb-Type">Object</span><span class="o">.&lt;</span><span class="n">anonymous</span><span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">E</span><span class="p">:</span>\<span class="n">A</span><span class="w"> </span><span class="n">Prem</span><span class="w"> </span><span class="n">World</span>\<span class="n">Team_Work_Tasks</span>\<span class="n">Anjali</span>\<span class="n">Anjali_20160524</span>\<span class="n">QuizApp_20160524_01_Anj</span>\<span class="n">node_modules</span>\<span class="n">gulp</span><span class="o">-</span><span class="n">sass</span>\<span class="n">index</span><span class="o">.</span><span class="n">js</span><span class="p">:</span><span class="mi">187</span><span class="p">:</span><span class="mi">21</span><span class="p">)</span>
<span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">Module</span><span class="o">.</span><span class="n">_compile</span><span class="w"> </span><span class="p">(</span><span class="n">module</span><span class="o">.</span><span class="n">js</span><span class="p">:</span><span class="mi">541</span><span class="p">:</span><span class="mi">32</span><span class="p">)</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>This error message does not indicate a problem with Ionic, but rather with
<code>node-sass</code>, which is specified to execute in your Gulp file.</p>
<p>The <code>node-sass</code> error:</p>
<blockquote>
<p>Node Sass does not yet support your current environment</p>
</blockquote>
<p>indicates that the version of node-sass you are trying to run is not
compatible with the version of node installed.</p>
<p>Check the Node Sass release notes for the version of <code>node-sass</code> you have, to
see which version of node is required.</p>
<p>If the version of node is wrong, you must downgrade node, or upgrade <code>node-
sass</code>, until you have a compatible pair. If the node version is supported, you
may just need to run:</p>
<div class="code"><pre class="code literal-block">npm rebuild node-sass
</pre></div>

<p>(with <code>-g</code> if node-sass was installed globally).</p>
<p>If that doesn't work, you can:</p>
<div class="code"><pre class="code literal-block">npm uninstall node-sass &amp;&amp; npm install node-sass
</pre></div>

<p>(again, with <code>-g</code> if necessary).</p>
<p>This github issue has lots of more info on this.</p>
<p><br></p>
<h3>Suggest</h3>
<p><code>npm uninstall node-sass</code> &amp;&amp; <code>npm install node-sass</code> <strong>is the better way to
fix</strong></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/brew-update-the-following-untracked-working-tree-files-would-be-overwritten-by-merge/" class="u-url">brew update: The following untracked working tree files would be overwritten by merge:</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/brew-update-the-following-untracked-working-tree-files-would-be-overwritten-by-merge/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T18:03:43+08:00" itemprop="datePublished" title="2023-03-04 18:03">2023-03-04 18:03</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I tried to run <code>brew update</code> and I get an error about my local changes would
be lost if I merged. I tried committing my local changes (don't remember
making any, but it's been awhile), and that made things worse.</p>
<p>Here's the output:</p>
<div class="code"><pre class="code literal-block"><span class="n">MBP</span><span class="o">:</span><span class="n">Library</span><span class="w"> </span><span class="n">User$</span><span class="w"> </span><span class="n">sudo</span><span class="w"> </span><span class="n">brew</span><span class="w"> </span><span class="n">update</span>
<span class="n">error</span><span class="o">:</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">untracked</span><span class="w"> </span><span class="n">working</span><span class="w"> </span><span class="n">tree</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">overwritten</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">merge</span><span class="o">:</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Aliases/</span><span class="n">fastcgi</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Aliases/</span><span class="n">htop</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Aliases/</span><span class="n">nodejs</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Aliases/</span><span class="n">ocio</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Aliases/</span><span class="n">oiio</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Aliases/</span><span class="n">pgrep</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Aliases/</span><span class="n">pkill</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Contributions/cmds/</span><span class="n">brew</span><span class="o">-</span><span class="n">beer</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Contributions/cmds/</span><span class="n">brew</span><span class="o">-</span><span class="n">dirty</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Contributions/cmds/</span><span class="n">brew</span><span class="o">-</span><span class="n">graph</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Contributions/cmds/</span><span class="n">brew</span><span class="o">-</span><span class="n">grep</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Contributions/cmds/</span><span class="n">brew</span><span class="o">-</span><span class="n">leaves</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Contributions/cmds/</span><span class="n">brew</span><span class="o">-</span><span class="n">linkapps</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Contributions/cmds/</span><span class="n">brew</span><span class="o">-</span><span class="n">man</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Contributions/cmds/</span><span class="n">brew</span><span class="o">-</span><span class="n">mirror</span><span class="o">-</span><span class="n">check</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Contributions/cmds/</span><span class="n">brew</span><span class="o">-</span><span class="n">missing</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Contributions/cmds/</span><span class="n">brew</span><span class="o">-</span><span class="n">pull</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Contributions/cmds/</span><span class="n">brew</span><span class="o">-</span><span class="n">readall</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Contributions/cmds/</span><span class="n">brew</span><span class="o">-</span><span class="n">server</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Contributions/cmds/</span><span class="n">brew</span><span class="o">-</span><span class="n">services</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Contributions/cmds/</span><span class="n">brew</span><span class="o">-</span><span class="k">switch</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Contributions/cmds/</span><span class="n">brew</span><span class="o">-</span><span class="n">test</span><span class="o">-</span><span class="n">bot</span><span class="o">.</span><span class="na">commit</span><span class="o">.</span><span class="na">html</span><span class="o">.</span><span class="na">erb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Contributions/cmds/</span><span class="n">brew</span><span class="o">-</span><span class="n">test</span><span class="o">-</span><span class="n">bot</span><span class="o">.</span><span class="na">css</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Contributions/cmds/</span><span class="n">brew</span><span class="o">-</span><span class="n">test</span><span class="o">-</span><span class="n">bot</span><span class="o">.</span><span class="na">index</span><span class="o">.</span><span class="na">html</span><span class="o">.</span><span class="na">erb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Contributions/cmds/</span><span class="n">brew</span><span class="o">-</span><span class="n">test</span><span class="o">-</span><span class="n">bot</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Contributions/cmds/</span><span class="n">brew</span><span class="o">-</span><span class="n">tests</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Contributions/cmds/</span><span class="n">brew</span><span class="o">-</span><span class="n">unpack</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Contributions/cmds/</span><span class="n">brew</span><span class="o">-</span><span class="n">which</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Contributions/i</span><span class="n">nstall_homebrew</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">abcl</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">abyss</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">akka</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">apollo</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">appledoc</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">arangodb</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">autoconf</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">automake</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">avidemux</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">bind</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">bsdconv</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">bsdmake</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">camellia</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">cbmbasic</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">cdo</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">checkstyle</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">cifer</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">clhep</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">collada</span><span class="o">-</span><span class="n">dom</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">crash</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">crossroads</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">css</span><span class="o">-</span><span class="n">crush</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">curlftpfs</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">dart</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">dasm</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">dfc</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">di</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">dsniff</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">dupx</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">dwatch</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">eprover</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">ext2fuse</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">ezlupdate</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">f3</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">fastx_toolkit</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">fceux</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">findbugs</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">freerdp</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">funcoeszz</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">fwknop</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/g</span><span class="n">abedit</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/g</span><span class="n">bdfed</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/g</span><span class="n">conf</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/gi</span><span class="n">t</span><span class="o">-</span><span class="n">encrypt</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/g</span><span class="n">lm</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/g</span><span class="n">map</span><span class="o">-</span><span class="n">gsnap</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/g</span><span class="n">nu</span><span class="o">-</span><span class="n">arch</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/g</span><span class="n">nunet</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/g</span><span class="n">obby</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/g</span><span class="n">ptfdisk</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/g</span><span class="n">riffon</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/g</span><span class="n">rok</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/g</span><span class="n">tk</span><span class="o">-</span><span class="n">chtheme</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/g</span><span class="n">tkglextmm</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/g</span><span class="n">tmess</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">hg</span><span class="o">-</span><span class="n">flow</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">hqx</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">htop</span><span class="o">-</span><span class="n">osx</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">htpdate</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/i</span><span class="n">map</span><span class="o">-</span><span class="n">uw</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/i</span><span class="n">ozone</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/i</span><span class="n">pbt</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/i</span><span class="n">pe</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/is</span><span class="n">pc</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/is</span><span class="n">pell</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">jigdo</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">jing</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">jless</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">jpeginfo</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">konoha</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">legit</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">libcouchbase</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">libcuefile</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">libextractor</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">libglademm</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">libgtextutils</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">libinfinity</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">libkate</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">libqalculate</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">libqglviewer</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">libreplaygain</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">libtool</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">libvbucket</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">libvo</span><span class="o">-</span><span class="n">aacenc</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">libxmi</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">lifelines</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">makeicns</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">mathgl</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">meld</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">mesalib</span><span class="o">-</span><span class="n">glw</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">minisat</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">minuit2</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">mobile</span><span class="o">-</span><span class="n">shell</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">movgrab</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">mp3cat</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">mpich2</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">mrfast</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">musepack</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">ndiff</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">net6</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">nrpe</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">nuttcp</span><span class="o">.</span><span class="na">rb</span>
<span class="w">    </span><span class="n">Library</span><span class="sr">/Formula/</span><span class="n">oath</span><span class="o">-</span><span class="n">toolkit</span><span class="o">.</span>
<span class="n">Updating</span><span class="w"> </span><span class="n">aa07533</span><span class="o">..</span><span class="mi">3</span><span class="n">f070ef</span>
<span class="n">Aborting</span>
<span class="n">Error</span><span class="o">:</span><span class="w"> </span><span class="n">Failed</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="n">executing</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="n">pull</span><span class="w">  </span><span class="n">origin</span><span class="w"> </span><span class="n">refs</span><span class="sr">/heads/master:refs/remotes/origin/</span><span class="n">master</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>Don't forget to fetch the origin:</p>
<div class="code"><pre class="code literal-block">cd /usr/local/Homebrew
git fetch origin
git reset --hard origin/master
</pre></div>

<p>What happens is that you are trying to update brew, but brew itself is either
not up to date (likely), there is a permissions change via some OS update
(also likely), or brew is slightly corrupt (unlikely). Since brew itself is a
git repo, you have to update or reset brew to the master branch version. brew
[by default] is located in the <code>/usr/local/Homebrew</code> folder, so you</p>
<ol>
<li>Go to that folder [first command] which also should update permissions (if not see below)</li>
<li>Fetch the origin [second command] which means to update your LOCAL version of the remote branch of brew</li>
<li>Hard reset [3rd command] based on the REMOTE master branch (which also uses your current permissions).</li>
</ol>
<p>You can also <code>chown</code> the first command if you are in a non sudo or admin
profile</p>
<div class="code"><pre class="code literal-block"><span class="n">sudo</span><span class="w"> </span><span class="n">chown</span><span class="w"> </span><span class="o">-</span><span class="n">R</span><span class="w"> </span><span class="n n-Quoted">`whoami`</span><span class="w"> </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="k">local</span><span class="o">/</span><span class="n">Homebrew</span>
<span class="n">cd</span><span class="w"> </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="k">local</span><span class="o">/</span><span class="n">Homebrew</span>
<span class="n">git</span><span class="w"> </span><span class="k">reset</span><span class="w"> </span><span class="o">--</span><span class="n">hard</span><span class="w"> </span><span class="n">origin</span><span class="o">/</span><span class="k">master</span>
</pre></div>

<p>To understand git reset, take a look at this article.</p>
<p><br></p>
<h3>Suggest</h3>
<p>I had a similar issue a couple weeks ago trying to update an old homebrew
install. Doing this:</p>
<div class="code"><pre class="code literal-block">git reset --hard origin/master
</pre></div>

<p>in <code>/usr/local</code> fixed it for me.</p>
<p>It seems like other folks have had this issue too. Have you looked over any of
the proposed workarounds here?</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2466.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2464.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

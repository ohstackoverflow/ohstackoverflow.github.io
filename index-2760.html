<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2760) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2760.html">
<link rel="prev" href="index-2761.html" type="text/html">
<link rel="next" href="index-2759.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/python-one-try-multiple-except/" class="u-url">Python: One Try Multiple Except</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/python-one-try-multiple-except/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T15:53:57+08:00" itemprop="datePublished" title="2023-03-05 15:53">2023-03-05 15:53</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>In Python, is it possible to have multiple <code>except</code> statements for one <code>try</code>
statement? Such as :</p>
<div class="code"><pre class="code literal-block"><span class="nv">try</span>:
<span class="w"> </span>#<span class="nv">something1</span>
<span class="w"> </span>#<span class="nv">something2</span>
<span class="nv">except</span><span class="w"> </span><span class="nv">ExceptionType1</span>:
<span class="w"> </span>#<span class="k">return</span><span class="w"> </span><span class="nv">xyz</span>
<span class="nv">except</span><span class="w"> </span><span class="nv">ExceptionType2</span>:
<span class="w"> </span>#<span class="k">return</span><span class="w"> </span><span class="nv">abc</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>Yes, it is possible.</p>
<div class="code"><pre class="code literal-block">try:
   ...
except FirstException:
   handle_first_one()

except SecondException:
   handle_second_one()

except (ThirdException, FourthException, FifthException) as e:
   handle_either_of_3rd_4th_or_5th()

except Exception:
   handle_all_other_exceptions()
</pre></div>

<p>See: http://docs.python.org/tutorial/errors.html</p>
<p>The "as" keyword is used to assign the error to a variable so that the error
can be investigated more thoroughly later on in the code. Also note that the
parentheses for the triple exception case are needed in python 3. This page
has more info: Catch multiple exceptions in one line (except block)</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/when-should-i-use-the-new-keyword-in-c/" class="u-url">When should I use the new keyword in C++?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/when-should-i-use-the-new-keyword-in-c/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T15:52:32+08:00" itemprop="datePublished" title="2023-03-05 15:52">2023-03-05 15:52</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I've been using C++ for a short while, and I've been wondering about the <code>new</code>
keyword. Simply, should I be using it, or not?</p>
<ol>
<li>
<p>With the <code>new</code> keyword...</p>
<div class="code"><pre class="code literal-block"><span class="n">MyClass</span><span class="o">*</span><span class="w"> </span><span class="n">myClass</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">MyClass</span><span class="p">();</span>
<span class="n">myClass</span><span class="o">-&gt;</span><span class="n">MyField</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"Hello world!"</span><span class="p">;</span>
</pre></div>

</li>
<li>
<p>Without the <code>new</code> keyword...</p>
<div class="code"><pre class="code literal-block">MyClass myClass;
myClass.MyField = "Hello world!";
</pre></div>

</li>
</ol>
<p>From an implementation perspective, they don't seem that different (but I'm
sure they are)... However, my primary language is C#, and of course the 1st
method is what I'm used to.</p>
<p>The difficulty seems to be that method 1 is harder to use with the std C++
classes.</p>
<p>Which method should I use?</p>
<h4>Update 1:</h4>
<p>I recently used the <code>new</code> keyword for <em>heap</em> memory (or <em>free store</em> ) for a
large array which was going out of scope (i.e. being returned from a
function). Where before I was using the stack, which caused half of the
elements to be corrupt outside of scope, switching to heap usage ensured that
the elements were intact. Yay!</p>
<h4>Update 2:</h4>
<p>A friend of mine recently told me there's a simple rule for using the <code>new</code>
keyword; every time you type <code>new</code>, type <code>delete</code>.</p>
<div class="code"><pre class="code literal-block">    Foobar *foobar = new Foobar();
    delete foobar; // TODO: Move this to the right place.
</pre></div>

<p>This helps to prevent memory leaks, as you always have to put the delete
somewhere (i.e. when you cut and paste it to either a destructor or
otherwise).</p>
<p><br><br></p>
<h2>Answer</h2>
<p><strong>Method 1 (using<code>new</code>)</strong></p>
<ul>
<li>Allocates memory for the object on the <strong>free store</strong> (This is frequently the same thing as the <strong>heap</strong> )</li>
<li>Requires you to explicitly <code>delete</code> your object later. (If you don't delete it, you could create a memory leak)</li>
<li>Memory stays allocated until you <code>delete</code> it. (i.e. you could <code>return</code> an object that you created using <code>new</code>) </li>
<li>The example in the question will leak memory unless the pointer is <code>delete</code>d; and it <strong>should always be deleted</strong> , regardless of which control path is taken, or if exceptions are thrown.</li>
</ul>
<p><strong>Method 2 (not using<code>new</code>)</strong></p>
<ul>
<li>Allocates memory for the object on the <strong>stack</strong> (where all local variables go) There is generally less memory available for the stack; if you allocate too many objects, you risk stack overflow.</li>
<li>You won't need to <code>delete</code> it later.</li>
<li>Memory is no longer allocated when it goes out of scope. (i.e. you shouldn't <code>return</code> a pointer to an object on the stack)</li>
</ul>
<p>As far as which one to use; you choose the method that works best for you,
given the above constraints.</p>
<p><strong>Some easy cases:</strong></p>
<ul>
<li>If you don't want to worry about calling <code>delete</code>, (and the potential to cause memory leaks) you shouldn't use <code>new</code>.</li>
<li>If you'd like to return a pointer to your object from a function, you must use <code>new</code>
</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<p>There is an important difference between the two.</p>
<p>Everything not allocated with <code>new</code> behaves much like value types in C# (and
people often say that those objects are allocated on the stack, which is
probably the most common/obvious case, but not always true). More precisely,
objects allocated without using <code>new</code> have <em>automatic storage duration</em>
Everything allocated with <code>new</code> is allocated on the heap, and a pointer to it
is returned, exactly like reference types in C#.</p>
<p>Anything allocated on the stack has to have a constant size, determined at
compile-time (the compiler has to set the stack pointer correctly, or if the
object is a member of another class, it has to adjust the size of that other
class). That's why arrays in C# are reference types. They have to be, because
with reference types, we can decide at runtime how much memory to ask for. And
the same applies here. Only arrays with constant size (a size that can be
determined at compile-time) can be allocated with automatic storage duration
(on the stack). Dynamically sized arrays have to be allocated on the heap, by
calling <code>new</code>.</p>
<p>(And that's where any similarity to C# stops)</p>
<p>Now, anything allocated on the stack has "automatic" storage duration (you can
actually declare a variable as <code>auto</code>, but this is the default if no other
storage type is specified so the keyword isn't really used in practice, but
this is where it comes from)</p>
<p>Automatic storage duration means exactly what it sounds like, the duration of
the variable is handled automatically. By contrast, anything allocated on the
heap has to be manually deleted by you. Here's an example:</p>
<div class="code"><pre class="code literal-block">void foo() {
  bar b;
  bar* b2 = new bar();
}
</pre></div>

<p>This function creates three values worth considering:</p>
<p>On line 1, it declares a variable <code>b</code> of type <code>bar</code> on the stack (automatic
duration).</p>
<p>On line 2, it declares a <code>bar</code> pointer <code>b2</code> on the stack (automatic duration),
<em>and</em> calls new, allocating a <code>bar</code> object on the heap. (dynamic duration)</p>
<p>When the function returns, the following will happen: First, <code>b2</code> goes out of
scope (order of destruction is always opposite of order of construction). But
<code>b2</code> is just a pointer, so nothing happens, the memory it occupies is simply
freed. And importantly, the memory it <em>points to</em> (the <code>bar</code> instance on the
heap) is NOT touched. Only the pointer is freed, because only the pointer had
automatic duration. Second, <code>b</code> goes out of scope, so since it has automatic
duration, its destructor is called, and the memory is freed.</p>
<p>And the <code>bar</code>instance on the heap? It's probably still there. No one bothered
to delete it, so we've leaked memory.</p>
<p>From this example, we can see that anything with automatic duration is
<em>guaranteed</em> to have its destructor called when it goes out of scope. That's
useful. But anything allocated on the heap lasts as long as we need it to, and
can be dynamically sized, as in the case of arrays. That is also useful. We
can use that to manage our memory allocations. What if the Foo class allocated
some memory on the heap in its constructor, and deleted that memory in its
destructor. Then we could get the best of both worlds, safe memory allocations
that are guaranteed to be freed again, but without the limitations of forcing
everything to be on the stack.</p>
<p>And that is pretty much exactly how most C++ code works. Look at the standard
library's <code>std::vector</code> for example. That is typically allocated on the stack,
but can be dynamically sized and resized. And it does this by internally
allocating memory on the heap as necessary. The user of the class never sees
this, so there's no chance of leaking memory, or forgetting to clean up what
you allocated.</p>
<p>This principle is called RAII (Resource Acquisition is Initialization), and it
can be extended to any resource that must be acquired and released. (network
sockets, files, database connections, synchronization locks). All of them can
be acquired in the constructor, and released in the destructor, so you're
guaranteed that all resources you acquire will get freed again.</p>
<p>As a general rule, never use new/delete directly from your high level code.
Always wrap it in a class that can manage the memory for you, and which will
ensure it gets freed again. (Yes, there may be exceptions to this rule. In
particular, smart pointers require you to call <code>new</code> directly, and pass the
pointer to its constructor, which then takes over and ensures <code>delete</code> is
called correctly. But this is still a very important rule of thumb)</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/enum-naming-convention-plural/" class="u-url">Enum Naming Convention - Plural</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/enum-naming-convention-plural/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T15:51:07+08:00" itemprop="datePublished" title="2023-03-05 15:51">2023-03-05 15:51</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm asking this question despite having read similar but not exactly what I
want at C# naming convention for enum and matching property</p>
<p>I found I have a tendency to name enums in plural and then 'use' them as
singular, example:</p>
<div class="code"><pre class="code literal-block"><span class="n">public</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="n">EntityTypes</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">Type1</span><span class="p">,</span><span class="w"> </span><span class="n">Type2</span>
<span class="p">}</span>

<span class="n">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">SomeClass</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="o">/*</span>
<span class="w">    </span><span class="n">some</span><span class="w"> </span><span class="n">codes</span>
<span class="w">  </span><span class="o">*/</span>

<span class="w">  </span><span class="n">public</span><span class="w"> </span><span class="n">EntityTypes</span><span class="w"> </span><span class="n">EntityType</span><span class="w"> </span><span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="w"> </span><span class="n">set</span><span class="p">;}</span>

<span class="p">}</span>
</pre></div>

<p>Of course it works and this is my style, but can anyone find potential problem
with such convention? I do have an "ugly" naming with the word "Status"
though:</p>
<div class="code"><pre class="code literal-block"><span class="n">public</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="n">OrderStatuses</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">Pending</span><span class="p">,</span><span class="w"> </span><span class="n">Fulfilled</span><span class="p">,</span><span class="w"> </span><span class="n">Error</span><span class="p">,</span><span class="w"> </span><span class="n">Blah</span><span class="p">,</span><span class="w"> </span><span class="n">Blah</span>
<span class="p">}</span>

<span class="n">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">SomeClass</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="o">/*</span>
<span class="w">    </span><span class="n">some</span><span class="w"> </span><span class="n">codes</span>
<span class="w">  </span><span class="o">*/</span>

<span class="w">  </span><span class="n">public</span><span class="w"> </span><span class="n">OrderStatuses</span><span class="w"> </span><span class="n">OrderStatus</span><span class="w"> </span><span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="w"> </span><span class="n">set</span><span class="p">;}</span>

<span class="p">}</span>
</pre></div>

<p>Additional Info: Maybe my question wasn't clear enough. I often have to think
hard when naming the variables of the my defined enum types. I know the best
practice, but it doesn't help to ease my job of naming those variables.</p>
<p>I can't possibly expose all my enum properties (say "Status") as "MyStatus".</p>
<p>My question: Can anyone find potential problem with my convention described
above? <strong>It is NOT about best practice.</strong></p>
<p><strong>Question rephrase:</strong></p>
<p>Well, I guess I should ask the question this way: Can someone come out a good
generic way of naming the enum type such that when used, the naming of the
enum 'instance' will be pretty straightforward?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Microsoft recommends using singular for <code>Enum</code>s unless the <code>Enum</code> represents
bit fields (use the <code>FlagsAttribute</code> as well). See Enumeration Type Naming
Conventions (a subset of Microsoft's Naming Guidelines).</p>
<p>To respond to your clarification, I see nothing wrong with either of the
following:</p>
<div class="code"><pre class="code literal-block"><span class="n">public</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="n">OrderStatus</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Pending</span><span class="p">,</span><span class="w"> </span><span class="n">Fulfilled</span><span class="p">,</span><span class="w"> </span><span class="n">Error</span><span class="w"> </span><span class="p">};</span>

<span class="n">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">SomeClass</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="n">OrderStatus</span><span class="w"> </span><span class="n">OrderStatus</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">get</span><span class="p">;</span><span class="w"> </span><span class="n">set</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>or</p>
<div class="code"><pre class="code literal-block"><span class="n">public</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="n">OrderStatus</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Pending</span><span class="p">,</span><span class="w"> </span><span class="n">Fulfilled</span><span class="p">,</span><span class="w"> </span><span class="n">Error</span><span class="w"> </span><span class="p">};</span>

<span class="n">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">SomeClass</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="n">OrderStatus</span><span class="w"> </span><span class="n">Status</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">get</span><span class="p">;</span><span class="w"> </span><span class="n">set</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>I started out naming enums in the plural but have since changed to singular.
Just seems to make more sense in the context of where they're used.</p>
<div class="code"><pre class="code literal-block"><span class="k">enum</span><span class="w"> </span><span class="n">Status</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Unknown</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">Incomplete</span><span class="p">,</span><span class="w"> </span><span class="n">Ready</span><span class="w"> </span><span class="p">}</span>

<span class="n">Status</span><span class="w"> </span><span class="n">myStatus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Status</span><span class="o">.</span><span class="n">Ready</span><span class="p">;</span>
</pre></div>

<p>Compare to:</p>
<div class="code"><pre class="code literal-block">Statuses myStatus = Statuses.Ready;
</pre></div>

<p>I find the singular form to sound more natural in context. We are in agreement
that when declaring the enum, which happens in one place, we're thinking "this
is a group of whatevers", but when using it, presumably in many places, that
we're thinking "this is one whatever".</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2761.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2759.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2577) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2577.html">
<link rel="prev" href="index-2578.html" type="text/html">
<link rel="next" href="index-2576.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/angular-cli-sass-options/" class="u-url">Angular CLI SASS options</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/angular-cli-sass-options/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T02:18:03+08:00" itemprop="datePublished" title="2023-03-05 02:18">2023-03-05 02:18</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm new to Angular and I'm coming from the Ember community. Trying to use the
new Angular-CLI based off of Ember-CLI.</p>
<p>I need to know the best way to handle SASS in a new Angular project. I tried
using the <code>ember-cli-sass</code> repo to see if it would play along since a number
of core components of the Angular-CLI are run off of Ember-CLI modules.</p>
<p>It didnt work but than again not sure if I just misconfigured something.</p>
<p>Also, what is the best way to organize styles in a new Angular project? It
would be nice to have the sass file in the same folder as the component.</p>
<p><br><br></p>
<h2>Answer</h2>
<blockquote>
<p><strong>Angular CLI version 9</strong> (used to create Angular 9 projects) now picks up
<code>style</code> from schematics instead of <code>styleext</code>. Use the command like this:<br><code>ng config schematics.@schematics/angular:component.style scss</code><br>
and the resulting <em><strong>angular.json</strong></em> shall look like this  </p>
<div class="code"><pre class="code literal-block"><span class="ss">"schematics"</span><span class="err">:</span><span class="w"> </span><span class="err">{</span>
<span class="w">   </span><span class="ss">"@schematics/angular:component"</span><span class="err">:</span><span class="w"> </span><span class="err">{</span>
<span class="w">      </span><span class="ss">"style"</span><span class="err">:</span><span class="w"> </span><span class="ss">"scss"</span>
<span class="w">    </span><span class="err">}</span>
<span class="w">  </span><span class="err">}</span>
</pre></div>

</blockquote>
<p><strong>Other possible solutions &amp; explanations:</strong>  </p>
<p>To <em><strong>create a new project with angular CLI</strong></em> with sass support, try this:</p>
<div class="code"><pre class="code literal-block">ng new My_New_Project --style=scss
</pre></div>

<p>You can also use <code>--style=sass</code> &amp; if you don't know the difference, read this
short &amp; easy article and if you still don't know, just go with <code>scss</code> &amp; keep
learning.</p>
<p>If you have an angular 5 project, use this command to update the config for
your project.</p>
<div class="code"><pre class="code literal-block">ng set defaults.styleExt scss
</pre></div>

<p><strong>For Latest Versions</strong></p>
<p>For Angular 6 to set new style on existing project with CLI:</p>
<div class="code"><pre class="code literal-block"><span class="n">ng</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="n">schematics</span><span class="p">.</span><span class="nv">@schematics</span><span class="o">/</span><span class="nl">angular</span><span class="p">:</span><span class="n">component</span><span class="p">.</span><span class="n">styleext</span><span class="w"> </span><span class="n">scss</span>
</pre></div>

<p>Or Directly into angular.json:</p>
<div class="code"><pre class="code literal-block"><span class="ss">"schematics"</span><span class="err">:</span><span class="w"> </span><span class="err">{</span>
<span class="w">      </span><span class="ss">"@schematics/angular:component"</span><span class="err">:</span><span class="w"> </span><span class="err">{</span>
<span class="w">      </span><span class="ss">"styleext"</span><span class="err">:</span><span class="w"> </span><span class="ss">"scss"</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<h3>Update for Angular 6+</h3>
<h3>New Projects</h3>
<p>When <em><strong>generating a new project</strong></em> with Angular CLI, specify the css pre-
processor as</p>
<ul>
<li>
<p><strong>Use SCSS syntax</strong></p>
<div class="code"><pre class="code literal-block">      ng new sassy-project --style=scss
</pre></div>

</li>
<li>
<p><strong>Use SASS syntax</strong></p>
<div class="code"><pre class="code literal-block">      ng new sassy-project --style=sass
</pre></div>

</li>
</ul>
<h3>Updating existing project</h3>
<p>Set default style <em><strong>on an existing project</strong></em> by running</p>
<ul>
<li>
<p><strong>Use SCSS syntax</strong></p>
<div class="code"><pre class="code literal-block"><span class="w">      </span><span class="n">ng</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="n">schematics</span><span class="p">.</span><span class="nv">@schematics</span><span class="o">/</span><span class="nl">angular</span><span class="p">:</span><span class="n">component</span><span class="p">.</span><span class="n">styleext</span><span class="w"> </span><span class="n">scss</span>
</pre></div>

</li>
<li>
<p><strong>Use SASS syntax</strong></p>
<div class="code"><pre class="code literal-block"><span class="w">      </span><span class="n">ng</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="n">schematics</span><span class="p">.</span><span class="nv">@schematics</span><span class="o">/</span><span class="nl">angular</span><span class="p">:</span><span class="n">component</span><span class="p">.</span><span class="n">styleext</span><span class="w"> </span><span class="n">sass</span>
</pre></div>

</li>
</ul>
<p>The above command will update your workspace file (angular.json) with</p>
<div class="code"><pre class="code literal-block"><span class="w">      </span><span class="ss">"schematics"</span><span class="err">:</span><span class="w"> </span><span class="err">{</span>
<span class="w">      </span><span class="ss">"@schematics/angular:component"</span><span class="err">:</span><span class="w"> </span><span class="err">{</span>
<span class="w">          </span><span class="ss">"styleext"</span><span class="err">:</span><span class="w"> </span><span class="ss">"scss"</span>
<span class="w">      </span><span class="err">}</span>
<span class="w">  </span><span class="err">}</span>
</pre></div>

<p>where <code>styleext</code> can be either <code>scss</code> or <code>sass</code> as per the choice.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/ignore-mapping-one-property-with-automapper/" class="u-url">Ignore mapping one property with Automapper</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/ignore-mapping-one-property-with-automapper/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T02:16:36+08:00" itemprop="datePublished" title="2023-03-05 02:16">2023-03-05 02:16</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm using Automapper and I have the following scenario: Class OrderModel has a
property called 'ProductName' that isn't in the database. So when I try to do
the mapping with:</p>
<div class="code"><pre class="code literal-block">Mapper.CreateMap&lt;OrderModel, Orders&gt;();
</pre></div>

<p>It generates an exception :</p>
<p>"The following 1 properties on Project.ViewModels.OrderModel are not mapped:
'ProductName'</p>
<p>I've read at AutoMapper's Wiki for Projections the opposite case (the extra
attribute is on the destination, not in the source which is actually my case )</p>
<p>How can I avoid automapper to make the mapping of this property?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>From Jimmy Bogard: <code>CreateMap&lt;Foo, Bar&gt;().ForMember(x =&gt; x.Blarg, opt =&gt;
opt.Ignore());</code></p>
<p>It's in one of the comments at his blog.</p>
<p>UPDATE(from Jamie's comment Jan 4 '19 at 11:11:)</p>
<blockquote>
<p>Ignore has been replaced with <strong>DoNotValidate</strong> in ForSourceMember:
https://github.com/AutoMapper/AutoMapper/blob/master/docs/8.0-Upgrade-
Guide.md</p>
</blockquote>
<p><br></p>
<h3>Suggest</h3>
<p>I'm perhaps a bit of a perfectionist; I don't really like the <code>ForMember(...,
x =&gt; x.Ignore())</code> syntax. It's a little thing, but it matters to me. I wrote
this extension method to make it a bit nicer:</p>
<div class="code"><pre class="code literal-block"><span class="nv">public</span><span class="w"> </span><span class="nv">static</span><span class="w"> </span><span class="nv">IMappingExpression</span><span class="o">&lt;</span><span class="nv">TSource</span>,<span class="w"> </span><span class="nv">TDestination</span><span class="o">&gt;</span><span class="w"> </span><span class="nv">Ignore</span><span class="o">&lt;</span><span class="nv">TSource</span>,<span class="w"> </span><span class="nv">TDestination</span><span class="o">&gt;</span><span class="ss">(</span>
<span class="w">    </span><span class="nv">this</span><span class="w"> </span><span class="nv">IMappingExpression</span><span class="o">&lt;</span><span class="nv">TSource</span>,<span class="w"> </span><span class="nv">TDestination</span><span class="o">&gt;</span><span class="w"> </span><span class="nv">map</span>,
<span class="w">    </span><span class="nv">Expression</span><span class="o">&lt;</span><span class="nv">Func</span><span class="o">&lt;</span><span class="nv">TDestination</span>,<span class="w"> </span><span class="nv">object</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="nv">selector</span><span class="ss">)</span>
{
<span class="w">    </span><span class="nv">map</span>.<span class="nv">ForMember</span><span class="ss">(</span><span class="nv">selector</span>,<span class="w"> </span><span class="nv">config</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nv">config</span>.<span class="nv">Ignore</span><span class="ss">())</span><span class="c1">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">map</span><span class="c1">;</span>
}
</pre></div>

<p>It can be used like so:</p>
<div class="code"><pre class="code literal-block">Mapper.CreateMap&lt;JsonRecord, DatabaseRecord&gt;()
        .Ignore(record =&gt; record.Field)
        .Ignore(record =&gt; record.AnotherField)
        .Ignore(record =&gt; record.Etc);
</pre></div>

<p>You could also rewrite it to work with <code>params</code>, but I don't like the look of
a method with loads of lambdas.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/not-receiving-google-oauth-refresh-token/" class="u-url">Not receiving Google OAuth refresh token</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/not-receiving-google-oauth-refresh-token/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T02:15:34+08:00" itemprop="datePublished" title="2023-03-05 02:15">2023-03-05 02:15</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I want to get the access token from Google. The Google API says that to get
the access token, send the code and other parameters to token generating page,
and the response will be a JSON Object like :</p>
<div class="code"><pre class="code literal-block">{
"access_token" : "ya29.AHES6ZTtm7SuokEB-RGtbBty9IIlNiP9-eNMMQKtXdMP3sfjL1Fc",
"token_type" : "Bearer",
"expires_in" : 3600,
"refresh_token" : "1/HKSmLFXzqP0leUihZp2xUt3-5wkU7Gmu2Os_eBnzw74"
}
</pre></div>

<p>However, I'm not receiving the refresh token. The response in my case is:</p>
<div class="code"><pre class="code literal-block">{
 "access_token" : "ya29.sddsdsdsdsds_h9v_nF0IR7XcwDK8XFB2EbvtxmgvB-4oZ8oU",
"token_type" : "Bearer",
"expires_in" : 3600
}
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>The <code>refresh_token</code> is only provided on the first authorization from the user.
Subsequent authorizations, such as the kind you make while testing an OAuth2
integration, will not return the <code>refresh_token</code> again. :)</p>
<ol>
<li>Go to the page showing Apps with access to your account: https://myaccount.google.com/u/0/permissions.</li>
<li>Under the Third-party apps menu, choose your app.</li>
<li>Click Remove access and then click Ok to confirm</li>
<li>The next OAuth2 request you make will return a <code>refresh_token</code> (providing that it also includes the 'access_type=offline' query parameter.</li>
</ol>
<p>Alternatively, you can add the query parameters
<code>prompt=consent&amp;access_type=offline</code> to the OAuth redirect (see Google's OAuth
2.0 for Web Server Applications page).</p>
<p>This will prompt the user to authorize the application again and will always
return a <code>refresh_token</code>.</p>
<p><br></p>
<h3>Suggest</h3>
<p>In order to get the refresh token you have to add both <code>approval_prompt=force</code>
and <code>access_type="offline"</code> If you are using the java client provided by
Google it will look like this:</p>
<div class="code"><pre class="code literal-block">GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(
            HTTP_TRANSPORT, JSON_FACTORY, getClientSecrets(), scopes)
            .build();

AuthorizationCodeRequestUrl authorizationUrl =
            flow.newAuthorizationUrl().setRedirectUri(callBackUrl)
                    .setApprovalPrompt("force")
                    .setAccessType("offline");
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2578.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2576.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 97) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-97.html">
<link rel="prev" href="index-98.html" type="text/html">
<link rel="next" href="index-96.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-git-clone-a-repo-including-its-submodules/" class="u-url">How do I "git clone" a repo, including its submodules?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-git-clone-a-repo-including-its-submodules/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T21:11:29+08:00" itemprop="datePublished" title="2023-02-16 21:11">2023-02-16 21:11</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How do I clone a git repository so that it also clones its submodules?</p>
<p>Running <code>git clone $REPO_URL</code> merely creates empty submodule directories.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>With version 2.13 of Git and later, <code>--recurse-submodules</code> can be used instead
of <code>--recursive</code>:</p>
<div class="code"><pre class="code literal-block">git clone --recurse-submodules -j8 git://github.com/foo/bar.git
cd bar
</pre></div>

<p>Editor’s note: <code>-j8</code> is an optional performance optimization that became
available in version 2.8, and fetches up to 8 submodules at a time in parallel
— see <code>man git-clone</code>.</p>
<p>With version 1.9 of Git up until version 2.12 (<code>-j</code> flag only available in
version 2.8+):</p>
<div class="code"><pre class="code literal-block">git clone --recursive -j8 git://github.com/foo/bar.git
cd bar
</pre></div>

<p>With version 1.6.5 of Git and later, you can use:</p>
<div class="code"><pre class="code literal-block">git clone --recursive git://github.com/foo/bar.git
cd bar
</pre></div>

<p>For already cloned repos, or older Git versions, use:</p>
<div class="code"><pre class="code literal-block">git clone git://github.com/foo/bar.git
cd bar
git submodule update --init --recursive
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>You have to do two things before a submodule will be filled:</p>
<div class="code"><pre class="code literal-block">git submodule init 
git submodule update
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-format-a-number-with-commas-as-thousands-separators/" class="u-url">How to format a number with commas as thousands separators?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-format-a-number-with-commas-as-thousands-separators/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T21:10:45+08:00" itemprop="datePublished" title="2023-02-16 21:10">2023-02-16 21:10</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am trying to print an integer in JavaScript with commas as thousands
separators. For example, I want to show the number 1234567 as "1,234,567". How
would I go about doing this?</p>
<p>Here is how I am doing it:</p>
<div class="code"><pre class="code literal-block"><span class="n">function</span><span class="w"> </span><span class="n">numberWithCommas</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="o">.</span><span class="n">toString</span><span class="p">();</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">pattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">/</span><span class="p">(</span><span class="o">-</span><span class="err">?</span>\<span class="n">d</span><span class="o">+</span><span class="p">)(</span>\<span class="n">d</span><span class="p">{</span><span class="mi">3</span><span class="p">})</span><span class="o">/</span><span class="p">;</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">pattern</span><span class="o">.</span><span class="n">test</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="w">        </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span><span class="w"> </span><span class="s2">"$1,$2"</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">numberWithCommas</span><span class="p">(</span><span class="mi">1000</span><span class="p">))</span>
</pre></div>

<p>Is there a simpler or more elegant way to do it? It would be nice if it works
with floats also, but that is not necessary. It does not need to be locale-
specific to decide between periods and commas.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>I used the idea from Kerry's answer, but simplified it since I was just
looking for something simple for my specific purpose. Here is what I have:</p>
<div class="code"><pre class="code literal-block"><span class="nv">function</span><span class="w"> </span><span class="nv">numberWithCommas</span><span class="ss">(</span><span class="nv">x</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">x</span>.<span class="nv">toString</span><span class="ss">()</span>.<span class="nv">replace</span><span class="ss">(</span><span class="o">/</span>\<span class="nv">B</span><span class="ss">(</span>?<span class="o">=</span><span class="ss">(</span>\<span class="nv">d</span>{<span class="mi">3</span>}<span class="ss">)</span><span class="o">+</span><span class="ss">(</span>?<span class="o">!</span>\<span class="nv">d</span><span class="ss">))</span><span class="o">/</span><span class="nv">g</span>,<span class="w"> </span><span class="s2">","</span><span class="ss">)</span><span class="c1">;</span>
}
</pre></div>

<p>Show code snippet</p>
<div class="code"><pre class="code literal-block"><span class="n">function</span><span class="w"> </span><span class="n">numberWithCommas</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">x</span><span class="o">.</span><span class="n">toString</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="o">/</span>\<span class="n">B</span><span class="p">(</span><span class="err">?</span><span class="o">&lt;!</span>\<span class="o">.</span>\<span class="n">d</span><span class="o">*</span><span class="p">)(</span><span class="err">?</span><span class="o">=</span><span class="p">(</span>\<span class="n">d</span><span class="p">{</span><span class="mi">3</span><span class="p">})</span><span class="o">+</span><span class="p">(</span><span class="err">?</span><span class="o">!</span>\<span class="n">d</span><span class="p">))</span><span class="o">/</span><span class="n">g</span><span class="p">,</span><span class="w"> </span><span class="s2">","</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">function</span><span class="w"> </span><span class="n">test</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">expect</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">numberWithCommas</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="k">pass</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="n">expect</span><span class="p">;</span>
<span class="w">    </span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="err">`</span><span class="o">$</span><span class="p">{</span><span class="k">pass</span><span class="w"> </span><span class="err">?</span><span class="w"> </span><span class="s2">"✓"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ERROR ====&gt;"</span><span class="p">}</span><span class="w"> </span><span class="o">$</span><span class="p">{</span><span class="n">x</span><span class="p">}</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="o">$</span><span class="p">{</span><span class="n">result</span><span class="p">}</span><span class="err">`</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">pass</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">let</span><span class="w"> </span><span class="n">failures</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="n">failures</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">!</span><span class="n">test</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w">        </span><span class="s2">"0"</span><span class="p">);</span>
<span class="n">failures</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">!</span><span class="n">test</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w">      </span><span class="s2">"100"</span><span class="p">);</span>
<span class="n">failures</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">!</span><span class="n">test</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span><span class="w">     </span><span class="s2">"1,000"</span><span class="p">);</span>
<span class="n">failures</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">!</span><span class="n">test</span><span class="p">(</span><span class="mi">10000</span><span class="p">,</span><span class="w">    </span><span class="s2">"10,000"</span><span class="p">);</span>
<span class="n">failures</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">!</span><span class="n">test</span><span class="p">(</span><span class="mi">100000</span><span class="p">,</span><span class="w">   </span><span class="s2">"100,000"</span><span class="p">);</span>
<span class="n">failures</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">!</span><span class="n">test</span><span class="p">(</span><span class="mi">1000000</span><span class="p">,</span><span class="w">  </span><span class="s2">"1,000,000"</span><span class="p">);</span>
<span class="n">failures</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">!</span><span class="n">test</span><span class="p">(</span><span class="mi">10000000</span><span class="p">,</span><span class="w"> </span><span class="s2">"10,000,000"</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">failures</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="err">`</span><span class="o">$</span><span class="p">{</span><span class="n">failures</span><span class="p">}</span><span class="w"> </span><span class="n">test</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="n">failed</span><span class="err">`</span><span class="p">);</span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s2">"All tests passed"</span><span class="p">);</span>
<span class="p">}</span>


<span class="o">.</span><span class="k">as</span><span class="o">-</span><span class="n">console</span><span class="o">-</span><span class="n">wrapper</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nb">max</span><span class="o">-</span><span class="n">height</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="o">%</span><span class="w"> </span><span class="o">!</span><span class="n">important</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<hr>
<p>The regex uses 2 lookahead assertions:</p>
<ul>
<li>a positive one to look for any point in the string that has a multiple of 3 digits in a row after it,</li>
<li>a negative assertion to make sure that point only has exactly a multiple of 3 digits. The replacement expression puts a comma there.</li>
</ul>
<p>For example, if you pass it <code>123456789.01</code>, the positive assertion will match
every spot to the left of the 7 (since <code>789</code> is a multiple of 3 digits, <code>678</code>
is a multiple of 3 digits, <code>567</code>, etc.). The negative assertion checks that
the multiple of 3 digits does not have any digits after it. <code>789</code> has a period
after it so it is exactly a multiple of 3 digits, so a comma goes there. <code>678</code>
is a multiple of 3 digits but it has a <code>9</code> after it, so those 3 digits are
part of a group of 4, and a comma does not go there. Similarly for <code>567</code>.
<code>456789</code> is 6 digits, which is a multiple of 3, so a comma goes before that.
<code>345678</code> is a multiple of 3, but it has a <code>9</code> after it, so no comma goes
there. And so on. The <code>\B</code> keeps the regex from putting a comma at the
beginning of the string.</p>
<p>@neu-rah mentioned that this function adds commas in undesirable places if
there are more than 3 digits after the decimal point. If this is a problem,
you can use this function:</p>
<div class="code"><pre class="code literal-block"><span class="n">function</span><span class="w"> </span><span class="n">numberWithCommas</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">parts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="o">.</span><span class="n">toString</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">"."</span><span class="p">);</span>
<span class="w">    </span><span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="o">/</span>\<span class="n">B</span><span class="p">(</span><span class="err">?</span><span class="o">=</span><span class="p">(</span>\<span class="n">d</span><span class="p">{</span><span class="mi">3</span><span class="p">})</span><span class="o">+</span><span class="p">(</span><span class="err">?</span><span class="o">!</span>\<span class="n">d</span><span class="p">))</span><span class="o">/</span><span class="n">g</span><span class="p">,</span><span class="w"> </span><span class="s2">","</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">parts</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">"."</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

<p>Show code snippet</p>
<div class="code"><pre class="code literal-block"><span class="n">function</span><span class="w"> </span><span class="n">numberWithCommas</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">parts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="o">.</span><span class="n">toString</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">"."</span><span class="p">);</span>
<span class="w">    </span><span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="o">/</span>\<span class="n">B</span><span class="p">(</span><span class="err">?</span><span class="o">=</span><span class="p">(</span>\<span class="n">d</span><span class="p">{</span><span class="mi">3</span><span class="p">})</span><span class="o">+</span><span class="p">(</span><span class="err">?</span><span class="o">!</span>\<span class="n">d</span><span class="p">))</span><span class="o">/</span><span class="n">g</span><span class="p">,</span><span class="w"> </span><span class="s2">","</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">parts</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">"."</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">function</span><span class="w"> </span><span class="n">test</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">expect</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">numberWithCommas</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="k">pass</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="n">expect</span><span class="p">;</span>
<span class="w">    </span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="err">`</span><span class="o">$</span><span class="p">{</span><span class="k">pass</span><span class="w"> </span><span class="err">?</span><span class="w"> </span><span class="s2">"✓"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ERROR ====&gt;"</span><span class="p">}</span><span class="w"> </span><span class="o">$</span><span class="p">{</span><span class="n">x</span><span class="p">}</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="o">$</span><span class="p">{</span><span class="n">result</span><span class="p">}</span><span class="err">`</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">pass</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">let</span><span class="w"> </span><span class="n">failures</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="n">failures</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">!</span><span class="n">test</span><span class="p">(</span><span class="mi">0</span><span class="w">              </span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">);</span>
<span class="n">failures</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">!</span><span class="n">test</span><span class="p">(</span><span class="mf">0.123456</span><span class="w">       </span><span class="p">,</span><span class="w"> </span><span class="s2">"0.123456"</span><span class="p">);</span>
<span class="n">failures</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">!</span><span class="n">test</span><span class="p">(</span><span class="mi">100</span><span class="w">            </span><span class="p">,</span><span class="w"> </span><span class="s2">"100"</span><span class="p">);</span>
<span class="n">failures</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">!</span><span class="n">test</span><span class="p">(</span><span class="mf">100.123456</span><span class="w">     </span><span class="p">,</span><span class="w"> </span><span class="s2">"100.123456"</span><span class="p">);</span>
<span class="n">failures</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">!</span><span class="n">test</span><span class="p">(</span><span class="mi">1000</span><span class="w">           </span><span class="p">,</span><span class="w"> </span><span class="s2">"1,000"</span><span class="p">);</span>
<span class="n">failures</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">!</span><span class="n">test</span><span class="p">(</span><span class="mf">1000.123456</span><span class="w">    </span><span class="p">,</span><span class="w"> </span><span class="s2">"1,000.123456"</span><span class="p">);</span>
<span class="n">failures</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">!</span><span class="n">test</span><span class="p">(</span><span class="mi">10000</span><span class="w">          </span><span class="p">,</span><span class="w"> </span><span class="s2">"10,000"</span><span class="p">);</span>
<span class="n">failures</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">!</span><span class="n">test</span><span class="p">(</span><span class="mf">10000.123456</span><span class="w">   </span><span class="p">,</span><span class="w"> </span><span class="s2">"10,000.123456"</span><span class="p">);</span>
<span class="n">failures</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">!</span><span class="n">test</span><span class="p">(</span><span class="mi">100000</span><span class="w">         </span><span class="p">,</span><span class="w"> </span><span class="s2">"100,000"</span><span class="p">);</span>
<span class="n">failures</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">!</span><span class="n">test</span><span class="p">(</span><span class="mf">100000.123456</span><span class="w">  </span><span class="p">,</span><span class="w"> </span><span class="s2">"100,000.123456"</span><span class="p">);</span>
<span class="n">failures</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">!</span><span class="n">test</span><span class="p">(</span><span class="mi">1000000</span><span class="w">        </span><span class="p">,</span><span class="w"> </span><span class="s2">"1,000,000"</span><span class="p">);</span>
<span class="n">failures</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">!</span><span class="n">test</span><span class="p">(</span><span class="mf">1000000.123456</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="s2">"1,000,000.123456"</span><span class="p">);</span>
<span class="n">failures</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">!</span><span class="n">test</span><span class="p">(</span><span class="mi">10000000</span><span class="w">       </span><span class="p">,</span><span class="w"> </span><span class="s2">"10,000,000"</span><span class="p">);</span>
<span class="n">failures</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">!</span><span class="n">test</span><span class="p">(</span><span class="mf">10000000.123456</span><span class="p">,</span><span class="w"> </span><span class="s2">"10,000,000.123456"</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">failures</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="err">`</span><span class="o">$</span><span class="p">{</span><span class="n">failures</span><span class="p">}</span><span class="w"> </span><span class="n">test</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="n">failed</span><span class="err">`</span><span class="p">);</span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s2">"All tests passed"</span><span class="p">);</span>
<span class="p">}</span>


<span class="o">.</span><span class="k">as</span><span class="o">-</span><span class="n">console</span><span class="o">-</span><span class="n">wrapper</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nb">max</span><span class="o">-</span><span class="n">height</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="o">%</span><span class="w"> </span><span class="o">!</span><span class="n">important</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>@t.j.crowder pointed out that now that JavaScript has lookbehind (support
info), it can be solved in the regular expression itself:</p>
<div class="code"><pre class="code literal-block"><span class="nv">function</span><span class="w"> </span><span class="nv">numberWithCommas</span><span class="ss">(</span><span class="nv">x</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">x</span>.<span class="nv">toString</span><span class="ss">()</span>.<span class="nv">replace</span><span class="ss">(</span><span class="o">/</span>\<span class="nv">B</span><span class="ss">(</span>?<span class="o">&lt;!</span>\.\<span class="nv">d</span><span class="o">*</span><span class="ss">)(</span>?<span class="o">=</span><span class="ss">(</span>\<span class="nv">d</span>{<span class="mi">3</span>}<span class="ss">)</span><span class="o">+</span><span class="ss">(</span>?<span class="o">!</span>\<span class="nv">d</span><span class="ss">))</span><span class="o">/</span><span class="nv">g</span>,<span class="w"> </span><span class="s2">","</span><span class="ss">)</span><span class="c1">;</span>
}
</pre></div>

<p>Show code snippet</p>
<div class="code"><pre class="code literal-block"><span class="n">function</span><span class="w"> </span><span class="n">numberWithCommas</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">x</span><span class="o">.</span><span class="n">toString</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="o">/</span>\<span class="n">B</span><span class="p">(</span><span class="err">?</span><span class="o">&lt;!</span>\<span class="o">.</span>\<span class="n">d</span><span class="o">*</span><span class="p">)(</span><span class="err">?</span><span class="o">=</span><span class="p">(</span>\<span class="n">d</span><span class="p">{</span><span class="mi">3</span><span class="p">})</span><span class="o">+</span><span class="p">(</span><span class="err">?</span><span class="o">!</span>\<span class="n">d</span><span class="p">))</span><span class="o">/</span><span class="n">g</span><span class="p">,</span><span class="w"> </span><span class="s2">","</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">function</span><span class="w"> </span><span class="n">test</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">expect</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">numberWithCommas</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="k">pass</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="n">expect</span><span class="p">;</span>
<span class="w">    </span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="err">`</span><span class="o">$</span><span class="p">{</span><span class="k">pass</span><span class="w"> </span><span class="err">?</span><span class="w"> </span><span class="s2">"✓"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ERROR ====&gt;"</span><span class="p">}</span><span class="w"> </span><span class="o">$</span><span class="p">{</span><span class="n">x</span><span class="p">}</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="o">$</span><span class="p">{</span><span class="n">result</span><span class="p">}</span><span class="err">`</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">pass</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">let</span><span class="w"> </span><span class="n">failures</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="n">failures</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">!</span><span class="n">test</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w">               </span><span class="s2">"0"</span><span class="p">);</span>
<span class="n">failures</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">!</span><span class="n">test</span><span class="p">(</span><span class="mf">0.123456</span><span class="p">,</span><span class="w">        </span><span class="s2">"0.123456"</span><span class="p">);</span>
<span class="n">failures</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">!</span><span class="n">test</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="w">             </span><span class="s2">"100"</span><span class="p">);</span>
<span class="n">failures</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">!</span><span class="n">test</span><span class="p">(</span><span class="mf">100.123456</span><span class="p">,</span><span class="w">      </span><span class="s2">"100.123456"</span><span class="p">);</span>
<span class="n">failures</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">!</span><span class="n">test</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span><span class="w">            </span><span class="s2">"1,000"</span><span class="p">);</span>
<span class="n">failures</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">!</span><span class="n">test</span><span class="p">(</span><span class="mf">1000.123456</span><span class="p">,</span><span class="w">     </span><span class="s2">"1,000.123456"</span><span class="p">);</span>
<span class="n">failures</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">!</span><span class="n">test</span><span class="p">(</span><span class="mi">10000</span><span class="p">,</span><span class="w">           </span><span class="s2">"10,000"</span><span class="p">);</span>
<span class="n">failures</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">!</span><span class="n">test</span><span class="p">(</span><span class="mf">10000.123456</span><span class="p">,</span><span class="w">    </span><span class="s2">"10,000.123456"</span><span class="p">);</span>
<span class="n">failures</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">!</span><span class="n">test</span><span class="p">(</span><span class="mi">100000</span><span class="p">,</span><span class="w">          </span><span class="s2">"100,000"</span><span class="p">);</span>
<span class="n">failures</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">!</span><span class="n">test</span><span class="p">(</span><span class="mf">100000.123456</span><span class="p">,</span><span class="w">   </span><span class="s2">"100,000.123456"</span><span class="p">);</span>
<span class="n">failures</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">!</span><span class="n">test</span><span class="p">(</span><span class="mi">1000000</span><span class="p">,</span><span class="w">         </span><span class="s2">"1,000,000"</span><span class="p">);</span>
<span class="n">failures</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">!</span><span class="n">test</span><span class="p">(</span><span class="mf">1000000.123456</span><span class="p">,</span><span class="w">  </span><span class="s2">"1,000,000.123456"</span><span class="p">);</span>
<span class="n">failures</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">!</span><span class="n">test</span><span class="p">(</span><span class="mi">10000000</span><span class="p">,</span><span class="w">        </span><span class="s2">"10,000,000"</span><span class="p">);</span>
<span class="n">failures</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">!</span><span class="n">test</span><span class="p">(</span><span class="mf">10000000.123456</span><span class="p">,</span><span class="w"> </span><span class="s2">"10,000,000.123456"</span><span class="p">);</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">failures</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="err">`</span><span class="o">$</span><span class="p">{</span><span class="n">failures</span><span class="p">}</span><span class="w"> </span><span class="n">test</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="n">failed</span><span class="err">`</span><span class="p">);</span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s2">"All tests passed"</span><span class="p">);</span>
<span class="p">}</span>


<span class="o">.</span><span class="k">as</span><span class="o">-</span><span class="n">console</span><span class="o">-</span><span class="n">wrapper</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nb">max</span><span class="o">-</span><span class="n">height</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="o">%</span><span class="w"> </span><span class="o">!</span><span class="n">important</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p><code>(?&lt;!\.\d*)</code> is a negative lookbehind that says the match can't be preceded by
a <code>.</code> followed by zero or more digits. The negative lookbehind is faster than
the <code>split</code> and <code>join</code> solution (comparison), at least in V8.</p>
<p><br></p>
<h3>Suggest</h3>
<p>I'm surprised nobody mentioned Number.prototype.toLocaleString. It's
implemented in JavaScript 1.5 (which was introduced in 1999) so it's basically
supported across all major browsers.</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">34523453.345</span><span class="p">;</span>
<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">n</span><span class="o">.</span><span class="n">toLocaleString</span><span class="p">());</span><span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="s2">"34,523,453.345"</span>
</pre></div>

<p>It also works in Node.js as of v0.12 via inclusion of Intl</p>
<p>If you want something different, Numeral.js might be interesting.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-the-difference-between-cmd-and-entrypoint-in-a-dockerfile/" class="u-url">What is the difference between CMD and ENTRYPOINT in a Dockerfile?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-the-difference-between-cmd-and-entrypoint-in-a-dockerfile/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T21:10:03+08:00" itemprop="datePublished" title="2023-02-16 21:10">2023-02-16 21:10</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>In Dockerfiles there are two commands that look similar to me: <code>CMD</code> and
<code>ENTRYPOINT</code>. But I guess that there is a (subtle?) difference between them -
otherwise it would not make any sense to have two commands for the very same
thing.</p>
<p>The documentation states for <code>CMD</code>-</p>
<blockquote>
<p>The main purpose of a CMD is to provide defaults for an executing container.</p>
</blockquote>
<p>and for <code>ENTRYPOINT</code>:</p>
<blockquote>
<p>An ENTRYPOINT helps you to configure a container that you can run as an
executable.</p>
</blockquote>
<p>So, what's the difference between those two commands?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Docker has a default entrypoint which is <code>/bin/sh -c</code> but does not have a
default command.</p>
<p>When you run docker like this: <code>docker run -i -t ubuntu bash</code> the entrypoint
is the default <code>/bin/sh -c</code>, the image is <code>ubuntu</code> and the command is <code>bash</code>.</p>
<p>The command is run via the entrypoint. i.e., the actual thing that gets
executed is <code>/bin/sh -c bash</code>. This allowed Docker to implement <code>RUN</code> quickly
by relying on the shell's parser.</p>
<p>Later on, people asked to be able to customize this, so <code>ENTRYPOINT</code> and
<code>--entrypoint</code> were introduced.</p>
<p>Everything after the image name, <code>ubuntu</code> in the example above, is the command
and is passed to the entrypoint. When using the <code>CMD</code> instruction, it is
exactly as if you were executing<br><code>docker run -i -t ubuntu &lt;cmd&gt;</code><br>
The parameter of the entrypoint is <code>&lt;cmd&gt;</code>.</p>
<p>You will also get the same result if you instead type this command <code>docker run
-i -t ubuntu</code>: a bash shell will start in the container because in the ubuntu
Dockerfile a default <code>CMD</code> is specified:<br><code>CMD ["bash"]</code>.</p>
<p>As everything is passed to the entrypoint, you can have a very nice behavior
from your images. @Jiri example is good, it shows how to use an image as a
"binary". When using <code>["/bin/cat"]</code> as entrypoint and then doing <code>docker run
img /etc/passwd</code>, you get it, <code>/etc/passwd</code> is the command and is passed to
the entrypoint so the end result execution is simply <code>/bin/cat /etc/passwd</code>.</p>
<p>Another example would be to have any cli as entrypoint. For instance, if you
have a redis image, instead of running <code>docker run redisimg redis -H something
-u toto get key</code>, you can simply have <code>ENTRYPOINT ["redis", "-H", "something",
"-u", "toto"]</code> and then run like this for the same result: <code>docker run
redisimg get key</code>.</p>
<p><br></p>
<h3>Suggest</h3>
<p>The <code>ENTRYPOINT</code> specifies a command that will always be executed when the
container starts.</p>
<p>The <code>CMD</code> specifies arguments that will be fed to the <code>ENTRYPOINT</code>.</p>
<p>If you want to make an image dedicated to a specific command you will use
<code>ENTRYPOINT ["/path/dedicated_command"]</code></p>
<p>Otherwise, if you want to make an image for general purpose, you can leave
<code>ENTRYPOINT</code> unspecified and use <code>CMD ["/path/dedicated_command"]</code> as you will
be able to override the setting by supplying arguments to <code>docker run</code>.</p>
<p>For example, if your Dockerfile is:</p>
<div class="code"><pre class="code literal-block">FROM debian:wheezy
ENTRYPOINT ["/bin/ping"]
CMD ["localhost"]
</pre></div>

<p>Running the image without any argument will ping the localhost:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span><span class="nb">test</span>
PING<span class="w"> </span>localhost<span class="w"> </span><span class="o">(</span><span class="m">127</span>.0.0.1<span class="o">)</span>:<span class="w"> </span><span class="m">48</span><span class="w"> </span>data<span class="w"> </span>bytes
<span class="m">56</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">127</span>.0.0.1:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">0</span>.096<span class="w"> </span>ms
<span class="m">56</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">127</span>.0.0.1:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">0</span>.088<span class="w"> </span>ms
<span class="m">56</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">127</span>.0.0.1:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">2</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">0</span>.088<span class="w"> </span>ms
^C---<span class="w"> </span>localhost<span class="w"> </span>ping<span class="w"> </span>statistics<span class="w"> </span>---
<span class="m">3</span><span class="w"> </span>packets<span class="w"> </span>transmitted,<span class="w"> </span><span class="m">3</span><span class="w"> </span>packets<span class="w"> </span>received,<span class="w"> </span><span class="m">0</span>%<span class="w"> </span>packet<span class="w"> </span>loss
round-trip<span class="w"> </span>min/avg/max/stddev<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.088/0.091/0.096/0.000<span class="w"> </span>ms
</pre></div>

<p>Now, running the image with an argument will ping the argument:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span><span class="nb">test</span><span class="w"> </span>google.com
PING<span class="w"> </span>google.com<span class="w"> </span><span class="o">(</span><span class="m">173</span>.194.45.70<span class="o">)</span>:<span class="w"> </span><span class="m">48</span><span class="w"> </span>data<span class="w"> </span>bytes
<span class="m">56</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">173</span>.194.45.70:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">55</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">32</span>.583<span class="w"> </span>ms
<span class="m">56</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">173</span>.194.45.70:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">2</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">55</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">30</span>.327<span class="w"> </span>ms
<span class="m">56</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">173</span>.194.45.70:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">4</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">55</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">46</span>.379<span class="w"> </span>ms
^C---<span class="w"> </span>google.com<span class="w"> </span>ping<span class="w"> </span>statistics<span class="w"> </span>---
<span class="m">5</span><span class="w"> </span>packets<span class="w"> </span>transmitted,<span class="w"> </span><span class="m">3</span><span class="w"> </span>packets<span class="w"> </span>received,<span class="w"> </span><span class="m">40</span>%<span class="w"> </span>packet<span class="w"> </span>loss
round-trip<span class="w"> </span>min/avg/max/stddev<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">30</span>.327/36.430/46.379/7.095<span class="w"> </span>ms
</pre></div>

<p>For comparison, if your Dockerfile is:</p>
<div class="code"><pre class="code literal-block">FROM debian:wheezy
CMD ["/bin/ping", "localhost"]
</pre></div>

<p>Running the image without any argument will ping the localhost:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span><span class="nb">test</span>
PING<span class="w"> </span>localhost<span class="w"> </span><span class="o">(</span><span class="m">127</span>.0.0.1<span class="o">)</span>:<span class="w"> </span><span class="m">48</span><span class="w"> </span>data<span class="w"> </span>bytes
<span class="m">56</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">127</span>.0.0.1:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">0</span>.076<span class="w"> </span>ms
<span class="m">56</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">127</span>.0.0.1:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">0</span>.087<span class="w"> </span>ms
<span class="m">56</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">127</span>.0.0.1:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">2</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">0</span>.090<span class="w"> </span>ms
^C---<span class="w"> </span>localhost<span class="w"> </span>ping<span class="w"> </span>statistics<span class="w"> </span>---
<span class="m">3</span><span class="w"> </span>packets<span class="w"> </span>transmitted,<span class="w"> </span><span class="m">3</span><span class="w"> </span>packets<span class="w"> </span>received,<span class="w"> </span><span class="m">0</span>%<span class="w"> </span>packet<span class="w"> </span>loss
round-trip<span class="w"> </span>min/avg/max/stddev<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.076/0.084/0.090/0.000<span class="w"> </span>ms
</pre></div>

<p>But running the image with an argument will run the argument:</p>
<div class="code"><pre class="code literal-block"><span class="n">docker</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="o">-</span><span class="n">it</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="n">bash</span>
<span class="n">root</span><span class="nv">@e8bb7249b843</span><span class="err">:</span><span class="o">/</span><span class="err">#</span>
</pre></div>

<p>See this article from Brian DeHamer for even more details:
https://www.ctl.io/developers/blog/post/dockerfile-entrypoint-vs-cmd/</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-98.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-96.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

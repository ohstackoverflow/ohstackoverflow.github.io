<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 210) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-210.html">
<link rel="prev" href="index-211.html" type="text/html">
<link rel="next" href="index-209.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/sorting-an-array-of-objects-by-property-values/" class="u-url">Sorting an array of objects by property values</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/sorting-an-array-of-objects-by-property-values/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T00:56:16+08:00" itemprop="datePublished" title="2023-02-17 00:56">2023-02-17 00:56</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I've got the following objects using AJAX and stored them in an array:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">homes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="s2">"h_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dallas"</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TX"</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"75201"</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"162500"</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="s2">"h_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bevery Hills"</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"90210"</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"319250"</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="s2">"h_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New York"</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NY"</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00010"</span><span class="p">,</span>
<span class="w">        </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"962500"</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">];</span>
</pre></div>

<p>How do I create a function to sort the objects by the <code>price</code> property in
<em>ascending</em> <strong>or</strong> <em>descending</em> order using JavaScript only?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Sort homes by price in ascending order:</p>
<div class="code"><pre class="code literal-block"><span class="nv">homes</span>.<span class="nv">sort</span><span class="ss">(</span><span class="nv">function</span><span class="ss">(</span><span class="nv">a</span>,<span class="w"> </span><span class="nv">b</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">parseFloat</span><span class="ss">(</span><span class="nv">a</span>.<span class="nv">price</span><span class="ss">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nv">parseFloat</span><span class="ss">(</span><span class="nv">b</span>.<span class="nv">price</span><span class="ss">)</span><span class="c1">;</span>
}<span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p>Or after ES6 version:</p>
<div class="code"><pre class="code literal-block">homes.sort((a, b) =&gt; parseFloat(a.price) - parseFloat(b.price));
</pre></div>

<p>Some documentation can be found here.</p>
<p>For descending order, you may use</p>
<div class="code"><pre class="code literal-block">homes.sort((a, b) =&gt; parseFloat(b.price) - parseFloat(a.price));
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Here's a more flexible version, which allows you to create reusable sort
functions, and sort by any field.</p>
<div class="code"><pre class="code literal-block"><span class="n">const</span><span class="w"> </span><span class="n">sort_by</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="nf">reverse</span><span class="p">,</span><span class="w"> </span><span class="n">primer</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="err">{</span>

<span class="w">  </span><span class="n">const</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">primer</span><span class="w"> </span><span class="vm">?</span>
<span class="w">    </span><span class="k">function</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">primer</span><span class="p">(</span><span class="n">x</span><span class="o">[</span><span class="n">field</span><span class="o">]</span><span class="p">)</span>
<span class="w">    </span><span class="err">}</span><span class="w"> </span><span class="err">:</span>
<span class="w">    </span><span class="k">function</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">x</span><span class="o">[</span><span class="n">field</span><span class="o">]</span>
<span class="w">    </span><span class="err">}</span><span class="p">;</span>

<span class="w">  </span><span class="nf">reverse</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">!</span><span class="nf">reverse</span><span class="w"> </span><span class="vm">?</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">;</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">key</span><span class="p">(</span><span class="n">a</span><span class="p">),</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">key</span><span class="p">(</span><span class="n">b</span><span class="p">),</span><span class="w"> </span><span class="nf">reverse</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">((</span><span class="n">a</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="n">b</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">));</span>
<span class="w">  </span><span class="err">}</span>
<span class="err">}</span>


<span class="o">//</span><span class="n">Now</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">sort</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="ow">any</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="n">will</span><span class="p">...</span>

<span class="n">const</span><span class="w"> </span><span class="n">homes</span><span class="o">=[</span><span class="n">{h_id:"3",city:"Dallas",state:"TX",zip:"75201",price:"162500"},{h_id:"4",city:"Bevery Hills",state:"CA",zip:"90210",price:"319250"},{h_id:"5",city:"New York",state:"NY",zip:"00010",price:"962500"}</span><span class="o">]</span><span class="p">;</span>

<span class="o">//</span><span class="w"> </span><span class="n">Sort</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">price</span><span class="w"> </span><span class="n">high</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">low</span>
<span class="n">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="n">homes</span><span class="p">.</span><span class="n">sort</span><span class="p">(</span><span class="n">sort_by</span><span class="p">(</span><span class="s1">'price'</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="n">parseInt</span><span class="p">)));</span>

<span class="o">//</span><span class="w"> </span><span class="n">Sort</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">city</span><span class="p">,</span><span class="w"> </span><span class="k">case</span><span class="o">-</span><span class="k">insensitive</span><span class="p">,</span><span class="w"> </span><span class="n">A</span><span class="o">-</span><span class="n">Z</span>
<span class="n">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="n">homes</span><span class="p">.</span><span class="n">sort</span><span class="p">(</span><span class="n">sort_by</span><span class="p">(</span><span class="s1">'city'</span><span class="p">,</span><span class="w"> </span><span class="k">false</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w">  </span><span class="n">a</span><span class="p">.</span><span class="n">toUpperCase</span><span class="p">()</span>
<span class="p">)));</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/selecting-multiple-columns-in-a-pandas-dataframe/" class="u-url">Selecting multiple columns in a Pandas dataframe</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/selecting-multiple-columns-in-a-pandas-dataframe/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T00:55:48+08:00" itemprop="datePublished" title="2023-02-17 00:55">2023-02-17 00:55</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How do I select columns <code>a</code> and <code>b</code> from <code>df</code>, and save them into a new
dataframe <code>df1</code>?</p>
<div class="code"><pre class="code literal-block">index  a   b   c
1      2   3   4
2      3   4   5
</pre></div>

<p>Unsuccessful attempt:</p>
<div class="code"><pre class="code literal-block">df1 = df['a':'b']
df1 = df.ix[:, 'a':'b']
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>The column names (which are strings) cannot be sliced in the manner you tried.</p>
<p>Here you have a couple of options. If you know from context which variables
you want to slice out, you can just return a view of only those columns by
passing a list into the <code>__getitem__</code> syntax (the []'s).</p>
<div class="code"><pre class="code literal-block">df1 = df[['a', 'b']]
</pre></div>

<p>Alternatively, if it matters to index them numerically and not by their name
(say your code should automatically do this without knowing the names of the
first two columns) then you can do this instead:</p>
<div class="code"><pre class="code literal-block">df1 = df.iloc[:, 0:2] # Remember that Python does not slice inclusive of the ending index.
</pre></div>

<p>Additionally, you should familiarize yourself with the idea of a view into a
Pandas object vs. a copy of that object. The first of the above methods will
return a new copy in memory of the desired sub-object (the desired slices).</p>
<p>Sometimes, however, there are indexing conventions in Pandas that don't do
this and instead give you a new variable that just refers to the same chunk of
memory as the sub-object or slice in the original object. This will happen
with the second way of indexing, so you can modify it with the <code>.copy()</code>
method to get a regular copy. When this happens, changing what you think is
the sliced object can sometimes alter the original object. Always good to be
on the look out for this.</p>
<div class="code"><pre class="code literal-block">df1 = df.iloc[0, 0:2].copy() # To avoid the case where changing df1 also changes df
</pre></div>

<p>To use <code>iloc</code>, you need to know the column positions (or indices). As the
column positions may change, instead of hard-coding indices, you can use
<code>iloc</code> along with <code>get_loc</code> function of <code>columns</code> method of dataframe object
to obtain column indices.</p>
<div class="code"><pre class="code literal-block"><span class="p">{</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">c</span><span class="p">):</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">idx</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">enumerate</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">)}</span>
</pre></div>

<p>Now you can use this dictionary to access columns through names and using
<code>iloc</code>.</p>
<p><br></p>
<h3>Suggest</h3>
<p>As of version 0.11.0, columns <em>can be</em> sliced in the manner you tried using
the <code>.loc</code> indexer:</p>
<div class="code"><pre class="code literal-block">df.loc[:, 'C':'E']
</pre></div>

<p>is equivalent to</p>
<div class="code"><pre class="code literal-block">df[['C', 'D', 'E']]  # or df.loc[:, ['C', 'D', 'E']]
</pre></div>

<p>and returns columns <code>C</code> through <code>E</code>.</p>
<hr>
<p>A demo on a randomly generated DataFrame:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="kp">seed</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="kp">randint</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="kp">size</span><span class="o">=</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">6</span><span class="p">)),</span>
                  <span class="n">columns</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">'ABCDEF'</span><span class="p">),</span>
                  <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">'R</span><span class="si">{}</span><span class="s1">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)])</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>

<span class="n">Out</span><span class="p">:</span>
     <span class="n">A</span>   <span class="n">B</span>   <span class="n">C</span>   <span class="n">D</span>   <span class="n">E</span>   <span class="n">F</span>
<span class="n">R0</span>  <span class="mi">99</span>  <span class="mi">78</span>  <span class="mi">61</span>  <span class="mi">16</span>  <span class="mi">73</span>   <span class="mi">8</span>
<span class="n">R1</span>  <span class="mi">62</span>  <span class="mi">27</span>  <span class="mi">30</span>  <span class="mi">80</span>   <span class="mi">7</span>  <span class="mi">76</span>
<span class="n">R2</span>  <span class="mi">15</span>  <span class="mi">53</span>  <span class="mi">80</span>  <span class="mi">27</span>  <span class="mi">44</span>  <span class="mi">77</span>
<span class="n">R3</span>  <span class="mi">75</span>  <span class="mi">65</span>  <span class="mi">47</span>  <span class="mi">30</span>  <span class="mi">84</span>  <span class="mi">86</span>
<span class="n">R4</span>  <span class="mi">18</span>   <span class="mi">9</span>  <span class="mi">41</span>  <span class="mi">62</span>   <span class="mi">1</span>  <span class="mi">82</span>
</pre></div>

<p>To get the columns from <code>C</code> to <code>E</code> (note that unlike integer slicing, <code>E</code> is
included in the columns):</p>
<div class="code"><pre class="code literal-block">df.loc[:, 'C':'E']

Out:
      C   D   E
R0   61  16  73
R1   30  80   7
R2   80  27  44
R3   47  30  84
R4   41  62   1
R5    5  58   0
...
</pre></div>

<p>The same works for selecting rows based on labels. Get the rows <code>R6</code> to <code>R10</code>
from those columns:</p>
<div class="code"><pre class="code literal-block">df.loc['R6':'R10', 'C':'E']

Out:
      C   D   E
R6   51  27  31
R7   83  19  18
R8   11  67  65
R9   78  27  29
R10   7  16  94
</pre></div>

<p><code>.loc</code> also accepts a Boolean array so you can select the columns whose
corresponding entry in the array is <code>True</code>. For example,
<code>df.columns.isin(list('BCD'))</code> returns <code>array([False, True, True, True, False,
False], dtype=bool)</code> - True if the column name is in the list <code>['B', 'C',
'D']</code>; False, otherwise.</p>
<div class="code"><pre class="code literal-block">df.loc[:, df.columns.isin(list('BCD'))]

Out:
      B   C   D
R0   78  61  16
R1   27  30  80
R2   53  80  27
R3   65  47  30
R4    9  41  62
R5   78   5  58
...
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-the-difference-between-const-and-readonly-in-c/" class="u-url">What is the difference between const and readonly in C#?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-the-difference-between-const-and-readonly-in-c/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T00:55:19+08:00" itemprop="datePublished" title="2023-02-17 00:55">2023-02-17 00:55</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What is the difference between <strong><code>const</code></strong> and <strong><code>readonly</code></strong> in C#?</p>
<p>When would you use one over the other?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Apart from the apparent difference of</p>
<ul>
<li>having to declare the value at the time of a definition for a <code>const</code> VS <code>readonly</code> values can be computed dynamically but need to be assigned before the constructor exits. After that it is frozen.</li>
<li>
<code>const</code>'s are implicitly <code>static</code>. You use a <code>ClassName.ConstantName</code> notation to access them.</li>
</ul>
<p>There is a subtle difference. Consider a class defined in <code>AssemblyA</code>.</p>
<div class="code"><pre class="code literal-block"><span class="n">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">Const_V_Readonly</span>
<span class="p">{</span>
<span class="w">  </span><span class="n">public</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="nb nb-Type">int</span><span class="w"> </span><span class="n">I_CONST_VALUE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="w">  </span><span class="n">public</span><span class="w"> </span><span class="n">readonly</span><span class="w"> </span><span class="nb nb-Type">int</span><span class="w"> </span><span class="n">I_RO_VALUE</span><span class="p">;</span>
<span class="w">  </span><span class="n">public</span><span class="w"> </span><span class="n">Const_V_Readonly</span><span class="p">()</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">     </span><span class="n">I_RO_VALUE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p><code>AssemblyB</code> references <code>AssemblyA</code> and uses these values in code. When this is
compiled:</p>
<ul>
<li>in the case of the <code>const</code> value, it is like a find-replace. The value 2 is 'baked into' the <code>AssemblyB</code>'s IL. This means that if tomorrow I update <code>I_CONST_VALUE</code> to 20, <em><code>AssemblyB</code> would still have 2 till I recompile it</em>.</li>
<li>in the case of the <code>readonly</code> value, it is like a <code>ref</code> to a memory location. The value is not baked into <code>AssemblyB</code>'s IL. This means that if the memory location is updated, <code>AssemblyB</code> gets the new value without recompilation. So if <code>I_RO_VALUE</code> is updated to 30, you only need to build <code>AssemblyA</code> and all clients do not need to be recompiled.</li>
</ul>
<p>So if you are confident that the value of the constant won't change, use a
<code>const</code>.</p>
<div class="code"><pre class="code literal-block"><span class="n">public</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="nb nb-Type">int</span><span class="w"> </span><span class="n">CM_IN_A_METER</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span>
</pre></div>

<p>But if you have a constant that may change (e.g. w.r.t. precision) or when in
doubt, use a <code>readonly</code>.</p>
<div class="code"><pre class="code literal-block">public readonly float PI = 3.14;
</pre></div>

<p><em>Update: Aku needs to get a mention because he pointed this out first. Also I
need to plug where I learned this: Effective C# - Bill Wagner</em></p>
<p><br></p>
<h3>Suggest</h3>
<p>There is a gotcha with consts! If you reference a constant from another
assembly, its value will be compiled right into the calling assembly. That way
when you update the constant in the referenced assembly it won't change in the
calling assembly!</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-211.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-209.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1206) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1206.html">
<link rel="prev" href="index-1207.html" type="text/html">
<link rel="next" href="index-1205.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/git-pull-all-ke-yi-geng-xin-wo-suo-you-de-ben-di-fen-zhi-ma/" class="u-url">“git pull --all”可以更新我所有的本地分支吗？</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/git-pull-all-ke-yi-geng-xin-wo-suo-you-de-ben-di-fen-zhi-ma/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T04:01:57+08:00" itemprop="datePublished" title="2023-02-18 04:01">2023-02-18 04:01</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>我通常至少有 3 个远程分支：master、staging 和 production。我有 3 个本地分支机构跟踪那些远程分支机构。</p>
<p>更新我所有的本地分支机构很乏味：</p>
<div class="code"><pre class="code literal-block">git fetch --all
git rebase origin/master
git checkout staging
git rebase origin/staging
git checkout production
git rebase origin/production
</pre></div>

<p>我很想能够只做一个“git pull -all”，但我还没能让它工作。它似乎执行“fetch
--all”，然后更新（快进或合并）当前工作分支，但不更新其他本地分支。</p>
<p>我仍然坚持手动切换到每个本地分支并进行更新。</p>
<p><br><br></p>
<h2>解答</h2>
<p>您描述的行为<code>pull --all</code>完全符合预期，但不一定有用。该选项被传递给 git
fetch，然后它从所有远程获取所有引用，而不仅仅是需要的引用；<code>pull</code>然后合并（或者在你的情况下，rebases）适当的单个分支。</p>
<p>如果你想检查其他分支，你将不得不检查它们。是的，合并（和变基） <em>绝对</em>
需要一个工作树，所以如果不检查其他分支就无法完成。如果愿意，您可以将描述的步骤包装到脚本/别名中，但我建议加入命令，这样<code>&amp;&amp;</code>如果其中一个失败，它就不会继续努力。</p>
<p><br></p>
<h3>更多建议</h3>
<p>您描述的行为<code>pull --all</code>完全符合预期，但不一定有用。该选项被传递给 git
fetch，然后它从所有远程获取所有引用，而不仅仅是需要的引用；<code>pull</code>然后合并（或者在你的情况下，rebases）适当的单个分支。</p>
<p>如果你想检查其他分支，你将不得不检查它们。是的，合并（和变基） <em>绝对</em>
需要一个工作树，所以如果不检查其他分支就无法完成。如果愿意，您可以将描述的步骤包装到脚本/别名中，但我建议加入命令，这样<code>&amp;&amp;</code>如果其中一个失败，它就不会继续努力。</p>
<p><br><br><a href="posts/can-git-pull-all-update-all-my-local-branches/">查看原文</a></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/ru-he-fu-gai-qian-tao-de-npm-yi-lai-ban-ben/" class="u-url">如何覆盖嵌套的 NPM 依赖版本？</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/ru-he-fu-gai-qian-tao-de-npm-yi-lai-ban-ben/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T04:01:25+08:00" itemprop="datePublished" title="2023-02-18 04:01">2023-02-18 04:01</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>我想使用<code>grunt-contrib-jasmine</code>NPM 包。它具有各种依赖性。部分依赖图如下所示：</p>
<div class="code"><pre class="code literal-block"><span class="err">─┬</span><span class="w"> </span><span class="n">grunt</span><span class="o">-</span><span class="n">contrib</span><span class="o">-</span><span class="n">jasmine</span><span class="mf">@0.4.1</span>
<span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="err">├─┬</span><span class="w"> </span><span class="n">grunt</span><span class="o">-</span><span class="n">lib</span><span class="o">-</span><span class="n">phantomjs</span><span class="mf">@0.2.0</span>
<span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="err">├─┬</span><span class="w"> </span><span class="n">phantomjs</span><span class="mf">@1.8.2</span><span class="mi">-2</span>
</pre></div>

<p>不幸的是，此版本中存在一个错误<code>phantomjs</code>，无法在 Mac OS X 上正确安装。此问题已在最新版本中修复。</p>
<p><strong>我怎样才能<code>grunt-lib-phantomjs</code>使用更新版本的<code>phantomjs</code>？</strong></p>
<p>一些额外的背景：</p>
<ul>
<li>
<code>grunt-contrib-jasmine</code>显式需要 的版本<code>"~0.2.0"</code>，<code>grunt-lib-phantomjs</code>它显式需要<code>"~1.8.1"</code>的版本<code>phantomjs</code>。</li>
<li>首先添加<code>phantomjs</code>到我的包的依赖项没有效果；两个版本都已安装并且<code>grunt-contrib-jasmine</code>仍然使用旧版本（请参阅：使用 NPM 安装软件包时，你能告诉它使用其依赖项之一的不同版本吗？）。</li>
</ul>
<p><br><br></p>
<h2>解答</h2>
<p>从 NPM v8.3开始，处理此问题的正确方法是通过文件<code>overrides</code>的部分<code>package.json</code>。</p>
<blockquote>
<p>如果您需要对依赖项的依赖项进行特定更改，例如用已知的安全问题替换依赖项的版本，用 fork
替换现有的依赖项，或者确保在所有地方都使用相同版本的包，那么您可以添加覆盖。</p>
<p>覆盖提供了一种将依赖树中的包替换为另一个版本或完全替换另一个包的方法。这些更改的范围可以根据需要确定为具体或模糊。</p>
<p>To make sure the package foo is always installed as version 1.0.0 no matter
what version your dependencies rely on:</p>
<div class="code"><pre class="code literal-block">{
  "overrides": {
    "foo": "1.0.0"
  }
}
</pre></div>

</blockquote>
<p>There are a variety of other, more nuanced configurations allowing you to only
override a package when it's a dependency of a particular package hierarchy.
For more details, check out https://docs.npmjs.com/cli/v8/configuring-
npm/package-json#overrides</p>
<p><br></p>
<h3>更多建议</h3>
<p><strong>从 npm cli v8.3.0 (2021-12-09) 开始，这可以使用package.json 的<code>overrides</code>字段来解决</strong>。
<em>如StriplingWarrior 的回答</em> <em>中所述</em></p>
<p>例如，该项目将<code>typescript</code>版本<code>4.6.2</code>作为 <em>直接</em> 开发依赖项，并且<code>awesome-typescript-
loader</code>使用旧版本<code>2.7</code>的<code>typescript</code>.
以下是如何判断<code>npm</code>使用for版本<code>4.6.2</code>的方法：<code>typescript``awesome-typescript-loader</code></p>
<div class="code"><pre class="code literal-block"><span class="p">{</span>
<span class="w">  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"myproject"</span><span class="p">,</span>
<span class="w">  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0.0"</span><span class="p">,</span>
<span class="w">  </span><span class="s2">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="o">...</span>
<span class="w">  </span><span class="s2">"dependencies"</span><span class="p">:</span><span class="w"> </span><span class="o">...</span>
<span class="w">  </span><span class="s2">"devDependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s2">"typescript"</span><span class="p">:</span><span class="w"> </span><span class="s2">"~4.6.2"</span><span class="p">,</span>
<span class="w">    </span><span class="s2">"awesome-typescript-loader"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^5.2.1"</span><span class="p">,</span>
<span class="w">    </span><span class="o">...</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="s2">"overrides"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s2">"awesome-typescript-loader"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="s2">"typescript"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$typescript"</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>如果您不使用<code>typescript</code>as <em>直接</em> 开发依赖项，那么您必须编写<code>4.6.2</code>而不是<code>$typescript</code>在<code>overrides</code>部分中：</p>
<div class="code"><pre class="code literal-block"><span class="p">{</span>
<span class="w">  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"myproject"</span><span class="p">,</span>
<span class="w">  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0.0"</span><span class="p">,</span>
<span class="w">  </span><span class="s2">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="o">...</span>
<span class="w">  </span><span class="s2">"dependencies"</span><span class="p">:</span><span class="w"> </span><span class="o">...</span>
<span class="w">  </span><span class="s2">"devDependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s2">"awesome-typescript-loader"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^5.2.1"</span><span class="p">,</span>
<span class="w">    </span><span class="o">...</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="s2">"overrides"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s2">"awesome-typescript-loader"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="s2">"typescript"</span><span class="p">:</span><span class="w"> </span><span class="s2">"~4.6.2"</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>使用最新版本的依赖项：</p>
<div class="code"><pre class="code literal-block"><span class="p">{</span>
<span class="w">  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"myproject"</span><span class="p">,</span>
<span class="w">  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0.0"</span><span class="p">,</span>
<span class="w">  </span><span class="s2">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="o">...</span>
<span class="w">  </span><span class="s2">"dependencies"</span><span class="p">:</span><span class="w"> </span><span class="o">...</span>
<span class="w">  </span><span class="s2">"devDependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s2">"awesome-typescript-loader"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^5.2.1"</span><span class="p">,</span>
<span class="w">    </span><span class="o">...</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="s2">"overrides"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s2">"awesome-typescript-loader"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="s2">"typescript"</span><span class="p">:</span><span class="w"> </span><span class="s2">"latest"</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>Same<code>overrides</code>可用于<code>dependencies</code>和<code>devDependencies</code>。</p>
<hr>
<p>如果您使用的 npm 版本 &gt;5 但 &lt;8.3.0：编辑您的<code>package-lock.json</code>:
从部分中删除库<code>"requires"</code>并将其添加到“依赖项”下。</p>
<p>例如，您希望<code>deglob</code>包使用<code>glob</code>包版本<code>3.2.11</code>而不是当前版本。你打开<code>package-lock.json</code>看看：</p>
<div class="code"><pre class="code literal-block"><span class="s">"deglob"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s">"version"</span><span class="o">:</span><span class="w"> </span><span class="s">"2.1.0"</span><span class="p">,</span>
<span class="w">  </span><span class="s">"resolved"</span><span class="o">:</span><span class="w"> </span><span class="s">"https://registry.npmjs.org/deglob/-/deglob-2.1.0.tgz"</span><span class="p">,</span>
<span class="w">  </span><span class="s">"integrity"</span><span class="o">:</span><span class="w"> </span><span class="s">"sha1-TUSr4W7zLHebSXK9FBqAMlApoUo="</span><span class="p">,</span>
<span class="w">  </span><span class="s">"requires"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s">"find-root"</span><span class="o">:</span><span class="w"> </span><span class="s">"1.1.0"</span><span class="p">,</span>
<span class="w">    </span><span class="s">"glob"</span><span class="o">:</span><span class="w"> </span><span class="s">"7.1.2"</span><span class="p">,</span>
<span class="w">    </span><span class="s">"ignore"</span><span class="o">:</span><span class="w"> </span><span class="s">"3.3.5"</span><span class="p">,</span>
<span class="w">    </span><span class="s">"pkg-config"</span><span class="o">:</span><span class="w"> </span><span class="s">"1.1.1"</span><span class="p">,</span>
<span class="w">    </span><span class="s">"run-parallel"</span><span class="o">:</span><span class="w"> </span><span class="s">"1.1.6"</span><span class="p">,</span>
<span class="w">    </span><span class="s">"uniq"</span><span class="o">:</span><span class="w"> </span><span class="s">"1.0.1"</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">},</span>
</pre></div>

<p><code>"glob": "7.1.2",</code>从中删除<code>"requires"</code>，添加<code>"dependencies"</code>正确的版本：</p>
<div class="code"><pre class="code literal-block"><span class="s">"deglob"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s">"version"</span><span class="o">:</span><span class="w"> </span><span class="s">"2.1.0"</span><span class="p">,</span>
<span class="w">  </span><span class="s">"resolved"</span><span class="o">:</span><span class="w"> </span><span class="s">"https://registry.npmjs.org/deglob/-/deglob-2.1.0.tgz"</span><span class="p">,</span>
<span class="w">  </span><span class="s">"integrity"</span><span class="o">:</span><span class="w"> </span><span class="s">"sha1-TUSr4W7zLHebSXK9FBqAMlApoUo="</span><span class="p">,</span>
<span class="w">  </span><span class="s">"requires"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s">"find-root"</span><span class="o">:</span><span class="w"> </span><span class="s">"1.1.0"</span><span class="p">,</span>
<span class="w">    </span><span class="s">"ignore"</span><span class="o">:</span><span class="w"> </span><span class="s">"3.3.5"</span><span class="p">,</span>
<span class="w">    </span><span class="s">"pkg-config"</span><span class="o">:</span><span class="w"> </span><span class="s">"1.1.1"</span><span class="p">,</span>
<span class="w">    </span><span class="s">"run-parallel"</span><span class="o">:</span><span class="w"> </span><span class="s">"1.1.6"</span><span class="p">,</span>
<span class="w">    </span><span class="s">"uniq"</span><span class="o">:</span><span class="w"> </span><span class="s">"1.0.1"</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="s">"dependencies"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s">"glob"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="s">"version"</span><span class="o">:</span><span class="w"> </span><span class="s">"3.2.11"</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">},</span>
</pre></div>

<p>现在删除您的<code>node_modules</code>文件夹，运行<code>npm ci</code>（或<code>npm
install</code>对于旧版本的节点/npm），它将向该部分添加缺失的部分<code>"dependencies"</code>。</p>
<hr>
<p><br><br><a href="posts/how-do-i-override-nested-npm-dependency-versions/">查看原文</a></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/shi-yao-shi-json-ta-de-yong-tu-shi-shi-yao/" class="u-url">什么是 JSON，它的用途是什么？</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/shi-yao-shi-json-ta-de-yong-tu-shi-shi-yao/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T04:00:59+08:00" itemprop="datePublished" title="2023-02-18 04:00">2023-02-18 04:00</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>我查看了维基百科并用谷歌搜索并阅读了官方文档，但我仍然没有真正理解什么是 JSON 以及我为什么要使用它。</p>
<p>我已经使用 PHP、MySQL 和 JavaScript / HTML 构建应用程序一段时间了，如果 JSON
可以做些什么来让我的生活更轻松或者我的代码更好或者我的用户界面更好，那么我想知道它。有人可以给我一个简洁的解释吗？</p>
<p><br><br></p>
<h2>解答</h2>
<p><strong>JSON（JavaScript 对象表示法）是一种用于数据交换的轻量级格式。</strong> 它基于 JavaScript 语言的一个子集（在 JavaScript
中构建对象的方式）。如MDN 中所述，有些 JavaScript 不是 JSON，有些 JSON 不是 JavaScript。</p>
<p>使用它的一个示例是 Web 服务响应。在过去，Web 服务使用 XML 作为其传输回数据的主要数据格式，但自从 JSON 出现（ JSON 格式在
<em>Douglas Crockford 的</em> <em>RFC 4627</em> <em>中指定</em> ），它一直是首选格式，因为它比 <strong>轻的</strong></p>
<p>您可以在官方JSON 网站上找到更多信息。</p>
<p>JSON 建立在两种结构之上：</p>
<ul>
<li>名称/值对的集合。在各种语言中，这被实现为对象、记录、结构、字典、哈希表、键控列表或关联数组。</li>
<li>有序的值列表。在大多数语言中，这被实现为数组、向量、列表或序列。</li>
</ul>
<hr>
<h3>JSON结构</h3>
<p><img alt="JSON 对象图" src="images/VHjrV.gif"></p>
<p><img alt="JSON数组图" src="images/OCsS0.gif"></p>
<p><img alt="JSON值图" src="images/7zOHB.gif"></p>
<p><img alt="JSON字符串图" src="images/pzAPZ.gif"></p>
<p><img alt="JSON数字图" src="images/EK6wD.gif"></p>
<p>以下是 JSON 数据的示例：</p>
<div class="code"><pre class="code literal-block">{
     "firstName": "John",
     "lastName": "Smith",
     "address": {
         "streetAddress": "21 2nd Street",
         "city": "New York",
         "state": "NY",
         "postalCode": 10021
     },
     "phoneNumbers": [
         "212 555-1234",
         "646 555-4567"
     ]
 }
</pre></div>

<hr>
<h2>JavaScript 中的 JSON</h2>
<p><strong>JSON（在 Javascript 中）是一个字符串！</strong></p>
<p>人们通常假设所有 Javascript 对象都是 JSON，而 JSON 是一个 Javascript 对象。这是不正确的。</p>
<p>在 Javascript 中<code>var x = {x:y}</code>不是 <strong>JSON</strong> ，这是一个 <strong>Javascript 对象</strong> 。两者不是一回事。等效的
JSON（以 Javascript 语言表示）将是<code>var x = '{"x":"y"}'</code>.
<strong>是一个字符串</strong><code>x</code>类型的对象，它本身不是一个对象。要将它变成一个完全成熟的 Javascript
对象，您必须首先解析它，,现在是一个对象，但这不再是 JSON。 ****<code>var x = JSON.parse('{"x":"y"}');``x</code></p>
<p>请参阅Javascript 对象与 JSON</p>
<hr>
<p>使用 JSON 和 JavaScript 时，您可能会想使用该<code>eval</code>函数来评估回调中返回的结果，但不建议这样做，因为有两个字符（U+2028 和
U+2029）在 JSON 中有效但在 JavaScript 中无效（在此处阅读更多内容）。</p>
<p>因此，必须始终尝试使用 Crockford 的脚本在评估之前检查有效的 JSON。可以在此处找到脚本说明的链接，这里是js
文件的直接链接。现在每个主要的浏览器都有自己的实现。</p>
<p>关于如何使用 JSON 解析器的示例（使用上述代码片段中的 json）：</p>
<div class="code"><pre class="code literal-block"><span class="o">//</span><span class="n">The</span><span class="w"> </span><span class="n">callback</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">executed</span><span class="w"> </span><span class="n">once</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span>
<span class="k">var</span><span class="w"> </span><span class="n">callback</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">johnny</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JSON</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="w">    </span><span class="o">//</span><span class="n">Now</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="s1">'johnny'</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">object</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">contains</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">properties</span><span class="w"> </span>
<span class="w">    </span><span class="o">//</span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">above</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="n">snippet</span><span class="w"> </span><span class="p">(</span><span class="n">the</span><span class="w"> </span><span class="n">json</span><span class="w"> </span><span class="n">example</span><span class="p">)</span>
<span class="w">    </span><span class="n">alert</span><span class="p">(</span><span class="n">johnny</span><span class="o">.</span><span class="n">firstName</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">' '</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">johnny</span><span class="o">.</span><span class="n">lastName</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="n">Will</span><span class="w"> </span><span class="n">alert</span><span class="w"> </span><span class="s1">'John Smith'</span>
<span class="p">};</span>
</pre></div>

<p>JSON 解析器还提供了另一种非常有用的方法，<code>stringify</code>. 该方法接受一个 JavaScript 对象作为参数，并输出一个 JSON
格式的字符串。 <em>当您要将数据发送回服务器</em> 时，这很有用： __</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">anObject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s2">"Andreas"</span><span class="p">,</span><span class="w"> </span><span class="n">surname</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Grech"</span><span class="p">,</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">};</span>
<span class="k">var</span><span class="w"> </span><span class="n">jsonFormat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JSON</span><span class="o">.</span><span class="n">stringify</span><span class="p">(</span><span class="n">anObject</span><span class="p">);</span>
<span class="o">//</span><span class="n">The</span><span class="w"> </span><span class="n">above</span><span class="w"> </span><span class="n">method</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">output</span><span class="w"> </span><span class="n">this</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Andreas"</span><span class="p">,</span><span class="s2">"surname"</span><span class="p">:</span><span class="s2">"Grech"</span><span class="p">,</span><span class="s2">"age"</span><span class="p">:</span><span class="mi">20</span><span class="p">}</span>
</pre></div>

<p>The above two methods (<code>parse</code> and <code>stringify</code>) also take a second parameter,
which is a function that will be called for every key and value at every level
of the final result, and each value will be replaced by result of your
inputted function. (More on this here)</p>
<p>Btw, for all of you out there who think JSON is just for JavaScript, check out
this post that explains and confirms otherwise.</p>
<hr>
<h3>References</h3>
<ul>
<li>JSON.org</li>
<li>Wikipedia</li>
<li>Json in 3 minutes (Thanks mson)</li>
<li>Using JSON with Yahoo! Web Services (Thanks gljivar)</li>
<li>JSON to CSV Converter</li>
<li>Alternative JSON to CSV Converter</li>
<li>JSON Lint (JSON validator)</li>
</ul>
<p><br></p>
<h3>更多建议</h3>
<h3>概念解释 - 无代码或技术术语</h3>
<p><strong>什么是 JSON？ – 我是如何向我的妻子TM解释的</strong></p>
<p><strong>我：</strong> “这基本上是一种与某人进行书面交流的方式……但有非常具体的规则。</p>
<p><strong>妻子：</strong> 是吗……？</p>
<p><strong>我：</strong> 在平淡无奇的英语中，规则很松散：就像笼斗一样。JSON 不是这样。描述事物的方式有很多种：</p>
<p>• 示例1：我们家有4 口人：你、我和2 个孩子。</p>
<p>• 示例2：我们的家庭：你、我、kid1 和kid2。</p>
<p>• 示例 3：家庭：[ 你、我、孩子 1、孩子 2]</p>
<p>• 示例 4：我们家有 4 口人：妈妈、爸爸、孩子 1 和孩子 2。</p>
<p><strong>妻子：</strong> 他们为什么不用简单的英语呢？</p>
<p><strong>我：</strong>
他们会的，但请记住我们是在和电脑打交道。计算机是愚蠢的，无法理解句子。因此，当涉及计算机时，我们必须非常具体，否则他们会感到困惑。此外，JSON
是一种相当有效的通信方式，因此大部分不相关的内容都被删除了，这非常好。如果你想用电脑与我们的家人交流，你可以这样做的一种方式是这样的：</p>
<div class="code"><pre class="code literal-block">{
    "Family": ["Me", "Wife", "Kid1", "Kid2"] 
}
</pre></div>

<p>……那基本上就是 JSON。但请记住，您必须遵守 JSON 语法规则。如果您违反这些规则，那么计算机将根本无法理解（即解析）您所写的内容。</p>
<p><strong>老婆：</strong> 那我Json怎么写呢？</p>
<p>一个好方法是使用 json 序列化程序——这是一个为您完成繁重工作的库。</p>
<p><strong>概括</strong></p>
<blockquote>
<p><strong>JSON 基本上是一种与某人交流数据的方式，具有非常非常具体的规则。 使用键值对和数组。</strong>这是解释的概念，在这一点上值得阅读上面的具体规则。</p>
</blockquote>
<p><br><br><a href="posts/what-is-json-and-what-is-it-used-for/">查看原文</a></p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1207.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1205.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

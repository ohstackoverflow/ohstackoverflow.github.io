<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 360) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-360.html">
<link rel="prev" href="index-361.html" type="text/html">
<link rel="next" href="index-359.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-sort-an-object-array-by-date-property/" class="u-url">How to sort an object array by date property?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-sort-an-object-array-by-date-property/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T04:52:29+08:00" itemprop="datePublished" title="2023-02-17 04:52">2023-02-17 04:52</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Say I have an array of a few objects:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">array</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[{</span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">date</span><span class="p">:</span><span class="w"> </span><span class="n">Mar</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="mi">2012</span><span class="w"> </span><span class="mi">10</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="n">AM</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">date</span><span class="p">:</span><span class="w"> </span><span class="n">Mar</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="mi">2012</span><span class="w"> </span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="n">AM</span><span class="p">}];</span>
</pre></div>

<p>How can I sort this array by the date element in order from the date closest
to the current date and time down? Keep in mind that the array may have many
objects, but for the sake of simplicity I used 2.</p>
<p>Would I use the sort function and a custom comparator?</p>
<p><br><br></p>
<h2>Answer</h2>
<h3>Simplest Answer</h3>
<div class="code"><pre class="code literal-block"><span class="nv">array</span>.<span class="nv">sort</span><span class="ss">(</span><span class="nv">function</span><span class="ss">(</span><span class="nv">a</span>,<span class="nv">b</span><span class="ss">)</span>{
<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="nv">Turn</span><span class="w"> </span><span class="nv">your</span><span class="w"> </span><span class="nv">strings</span><span class="w"> </span><span class="nv">into</span><span class="w"> </span><span class="nv">dates</span>,<span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="nv">subtract</span><span class="w"> </span><span class="nv">them</span>
<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">get</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="nv">that</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">either</span><span class="w"> </span><span class="nv">negative</span>,<span class="w"> </span><span class="nv">positive</span>,<span class="w"> </span><span class="nv">or</span><span class="w"> </span><span class="nv">zero</span>.
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">Date</span><span class="ss">(</span><span class="nv">b</span>.<span class="nv">date</span><span class="ss">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">Date</span><span class="ss">(</span><span class="nv">a</span>.<span class="nv">date</span><span class="ss">)</span><span class="c1">;</span>
}<span class="ss">)</span><span class="c1">;</span>
</pre></div>

<h3>More Generic Answer</h3>
<div class="code"><pre class="code literal-block"><span class="nv">array</span>.<span class="nv">sort</span><span class="ss">(</span><span class="nv">function</span><span class="ss">(</span><span class="nv">o1</span>,<span class="nv">o2</span><span class="ss">)</span>{
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">sort_o1_before_o2</span><span class="ss">)</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="c1">;</span>
<span class="w">  </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="ss">(</span><span class="nv">sort_o1_after_o2</span><span class="ss">)</span><span class="w"> </span><span class="k">return</span><span class="w">  </span><span class="mi">1</span><span class="c1">;</span>
<span class="w">  </span><span class="k">else</span><span class="w">                      </span><span class="k">return</span><span class="w">  </span><span class="mi">0</span><span class="c1">;</span>
}<span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p>Or more tersely:</p>
<div class="code"><pre class="code literal-block"><span class="nv">array</span>.<span class="nv">sort</span><span class="ss">(</span><span class="nv">function</span><span class="ss">(</span><span class="nv">o1</span>,<span class="nv">o2</span><span class="ss">)</span>{
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nv">sort_o1_before_o2</span><span class="w"> </span>?<span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span>:<span class="w"> </span><span class="nv">sort_o1_after_o2</span><span class="w"> </span>?<span class="w"> </span><span class="mi">1</span><span class="w"> </span>:<span class="w"> </span><span class="mi">0</span><span class="c1">;</span>
}<span class="ss">)</span><span class="c1">;</span>
</pre></div>

<h3>Generic, Powerful Answer</h3>
<p>Define a custom non-enumerable <code>sortBy</code> function using a Schwartzian transform
on all arrays :</p>
<div class="code"><pre class="code literal-block"><span class="p">(</span><span class="k">function</span><span class="p">()</span><span class="err">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">typeof</span><span class="w"> </span><span class="k">Object</span><span class="p">.</span><span class="n">defineProperty</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">'function'</span><span class="p">)</span><span class="err">{</span>
<span class="w">    </span><span class="k">try</span><span class="err">{</span><span class="k">Object</span><span class="p">.</span><span class="n">defineProperty</span><span class="p">(</span><span class="k">Array</span><span class="p">.</span><span class="n">prototype</span><span class="p">,</span><span class="s1">'sortBy'</span><span class="p">,</span><span class="err">{</span><span class="k">value</span><span class="err">:</span><span class="n">sb</span><span class="err">}</span><span class="p">);</span><span class="w"> </span><span class="err">}</span><span class="k">catch</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="err">{}</span>
<span class="w">  </span><span class="err">}</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="err">!</span><span class="k">Array</span><span class="p">.</span><span class="n">prototype</span><span class="p">.</span><span class="n">sortBy</span><span class="p">)</span><span class="w"> </span><span class="k">Array</span><span class="p">.</span><span class="n">prototype</span><span class="p">.</span><span class="n">sortBy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sb</span><span class="p">;</span>

<span class="w">  </span><span class="k">function</span><span class="w"> </span><span class="n">sb</span><span class="p">(</span><span class="n">f</span><span class="p">)</span><span class="err">{</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="nf">var</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="n">this</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="n">i</span><span class="p">;)</span><span class="err">{</span>
<span class="w">      </span><span class="nf">var</span><span class="w"> </span><span class="n">o</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">this</span><span class="o">[</span><span class="n">--i</span><span class="o">]</span><span class="p">;</span>
<span class="w">      </span><span class="n">this</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">[]</span><span class="p">.</span><span class="nf">concat</span><span class="p">(</span><span class="n">f</span><span class="p">.</span><span class="k">call</span><span class="p">(</span><span class="n">o</span><span class="p">,</span><span class="n">o</span><span class="p">,</span><span class="n">i</span><span class="p">),</span><span class="n">o</span><span class="p">);</span>
<span class="w">    </span><span class="err">}</span>
<span class="w">    </span><span class="n">this</span><span class="p">.</span><span class="n">sort</span><span class="p">(</span><span class="k">function</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span><span class="err">{</span>
<span class="w">      </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="nf">var</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nf">len</span><span class="o">=</span><span class="n">a</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="nf">len</span><span class="p">;</span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="err">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="o">[</span><span class="n">i</span><span class="o">]!=</span><span class="n">b</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="o">[</span><span class="n">i</span><span class="o">]&lt;</span><span class="n">b</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="vm">?</span><span class="o">-</span><span class="mi">1</span><span class="err">:</span><span class="mi">1</span><span class="p">;</span>
<span class="w">      </span><span class="err">}</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="err">}</span><span class="p">);</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="nf">var</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="n">this</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="n">i</span><span class="p">;)</span><span class="err">{</span>
<span class="w">      </span><span class="n">this</span><span class="o">[</span><span class="n">--i</span><span class="o">]=</span><span class="n">this</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">this[i</span><span class="o">]</span><span class="p">.</span><span class="n">length</span><span class="o">-</span><span class="mi">1</span><span class="err">]</span><span class="p">;</span>
<span class="w">    </span><span class="err">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">this</span><span class="p">;</span>
<span class="w">  </span><span class="err">}</span>
<span class="err">}</span><span class="p">)();</span>
</pre></div>

<p>Use it like so:</p>
<div class="code"><pre class="code literal-block"><span class="nv">array</span>.<span class="nv">sortBy</span><span class="ss">(</span><span class="nv">function</span><span class="ss">(</span><span class="nv">o</span><span class="ss">)</span>{<span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="nv">o</span>.<span class="nv">date</span><span class="w"> </span>}<span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p>If your date is not directly comparable, make a comparable date out of it,
e.g.</p>
<div class="code"><pre class="code literal-block"><span class="nv">array</span>.<span class="nv">sortBy</span><span class="ss">(</span><span class="nv">function</span><span class="ss">(</span><span class="nv">o</span><span class="ss">)</span>{<span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">Date</span><span class="ss">(</span><span class="w"> </span><span class="nv">o</span>.<span class="nv">date</span><span class="w"> </span><span class="ss">)</span><span class="w"> </span>}<span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p>You can also use this to sort by multiple criteria if you return an array of
values:</p>
<div class="code"><pre class="code literal-block"><span class="c1">// Sort by date, then score (reversed), then name</span>
<span class="n">array</span><span class="p">.</span><span class="n">sortBy</span><span class="p">(</span><span class="k">function</span><span class="p">(</span><span class="n">o</span><span class="p">){</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="n">o</span><span class="p">.</span><span class="nb">date</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="n">o</span><span class="p">.</span><span class="n">score</span><span class="p">,</span><span class="w"> </span><span class="n">o</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">};</span>
</pre></div>

<p><em>See http://phrogz.net/JS/Array.prototype.sortBy.js for more details.</em></p>
<p><br></p>
<h3>Suggest</h3>
<p>@Phrogz answers are both great, but here is a great, more concise answer:</p>
<div class="code"><pre class="code literal-block"><span class="nv">array</span>.<span class="nv">sort</span><span class="ss">(</span><span class="nv">function</span><span class="ss">(</span><span class="nv">a</span>,<span class="nv">b</span><span class="ss">)</span>{<span class="k">return</span><span class="w"> </span><span class="nv">a</span>.<span class="k">getTime</span><span class="ss">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nv">b</span>.<span class="k">getTime</span><span class="ss">()</span>}<span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p>Using the arrow function way</p>
<div class="code"><pre class="code literal-block"><span class="nv">array</span>.<span class="nv">sort</span><span class="ss">((</span><span class="nv">a</span>,<span class="nv">b</span><span class="ss">)</span><span class="o">=&gt;</span><span class="nv">a</span>.<span class="k">getTime</span><span class="ss">()</span><span class="o">-</span><span class="nv">b</span>.<span class="k">getTime</span><span class="ss">())</span><span class="c1">;</span>
</pre></div>

<p>found here: Sort date in Javascript</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-do-base64-encoding-in-node-js/" class="u-url">How can I do Base64 encoding in Node.js?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-do-base64-encoding-in-node-js/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T04:52:03+08:00" itemprop="datePublished" title="2023-02-17 04:52">2023-02-17 04:52</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Does Node.js have built-in Base64 encoding yet?</p>
<p>The reason why I ask this is that <code>final()</code> from <code>crypto</code> can only output
hexadecimal, binary or ASCII data. For example:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">cipher</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">crypto</span><span class="o">.</span><span class="n">createCipheriv</span><span class="p">(</span><span class="s1">'des-ede3-cbc'</span><span class="p">,</span><span class="w"> </span><span class="n">encryption_key</span><span class="p">,</span><span class="w"> </span><span class="n">iv</span><span class="p">);</span>
<span class="k">var</span><span class="w"> </span><span class="n">ciph</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cipher</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">plaintext</span><span class="p">,</span><span class="w"> </span><span class="s1">'utf8'</span><span class="p">,</span><span class="w"> </span><span class="s1">'hex'</span><span class="p">);</span>
<span class="n">ciph</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">cipher</span><span class="o">.</span><span class="n">final</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>

<span class="k">var</span><span class="w"> </span><span class="n">decipher</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">crypto</span><span class="o">.</span><span class="n">createDecipheriv</span><span class="p">(</span><span class="s1">'des-ede3-cbc'</span><span class="p">,</span><span class="w"> </span><span class="n">encryption_key</span><span class="p">,</span><span class="w"> </span><span class="n">iv</span><span class="p">);</span>
<span class="k">var</span><span class="w"> </span><span class="n">txt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">decipher</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">ciph</span><span class="p">,</span><span class="w"> </span><span class="s1">'hex'</span><span class="p">,</span><span class="w"> </span><span class="s1">'utf8'</span><span class="p">);</span>
<span class="n">txt</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">decipher</span><span class="o">.</span><span class="n">final</span><span class="p">(</span><span class="s1">'utf8'</span><span class="p">);</span>
</pre></div>

<p>According to the documentation, <code>update()</code> can output Base64-encoded data.
However, <code>final()</code> doesn't support Base64. I tried and it will break.</p>
<p>If I do this:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">ciph</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cipher</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">plaintext</span><span class="p">,</span><span class="w"> </span><span class="s1">'utf8'</span><span class="p">,</span><span class="w"> </span><span class="s1">'base64'</span><span class="p">);</span>
<span class="w">    </span><span class="n">ciph</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">cipher</span><span class="o">.</span><span class="n">final</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
</pre></div>

<p>Then what should I use for decryption? Hexadecimal or Base64?</p>
<p>Therefore, I'm looking for a function to Base64-encode my encrypted
hexadecimal output.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Buffers can be used for taking a string or piece of data and doing Base64
encoding of the result. For example:</p>
<div class="code"><pre class="code literal-block">&gt; console.log(Buffer.from("Hello World").toString('base64'));
SGVsbG8gV29ybGQ=
&gt; console.log(Buffer.from("SGVsbG8gV29ybGQ=", 'base64').toString('ascii'))
Hello World
</pre></div>

<p>Buffers are a global object, so no require is needed. Buffers created with
strings can take an optional encoding parameter to specify what encoding the
string is in. The available <code>toString</code> and <code>Buffer</code> constructor encodings are
as follows:</p>
<blockquote>
<p>'ascii' - for 7 bit ASCII data only. This encoding method is very fast, and
will strip the high bit if set.</p>
<p>'utf8' - Multi byte encoded Unicode characters. Many web pages and other
document formats use UTF-8.</p>
<p>'ucs2' - 2-bytes, little endian encoded Unicode characters. It can encode
only BMP(Basic Multilingual Plane, U+0000 - U+FFFF).</p>
<p>'base64' - Base64 string encoding.</p>
<p>'binary' - A way of encoding raw binary data into strings by using only the
first 8 bits of each character. This encoding method is deprecated and
should be avoided in favor of Buffer objects where possible. This encoding
will be removed in future versions of Node.</p>
</blockquote>
<p><br></p>
<h3>Suggest</h3>
<p>The accepted answer previously contained <code>new Buffer()</code>, which is considered a
security issue in Node.js versions greater than 6 (although it seems likely
for this use case that the input can always be coerced to a string).</p>
<p>The <code>Buffer</code> constructor is deprecated according to the documentation.</p>
<p>The code snippets should read:</p>
<div class="code"><pre class="code literal-block">console.log(Buffer.from("Hello World").toString('base64'));
console.log(Buffer.from("SGVsbG8gV29ybGQ=", 'base64').toString('ascii'));
</pre></div>

<p>After this answer was written, it has been updated and now matches this.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-the-maximum-length-of-a-valid-email-address/" class="u-url">What is the maximum length of a valid email address?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-the-maximum-length-of-a-valid-email-address/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T04:51:39+08:00" itemprop="datePublished" title="2023-02-17 04:51">2023-02-17 04:51</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What is the maximum length of a valid email address? Is it defined by any
standard?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>An email address must not exceed <strong>254</strong> characters.</p>
<p>This was accepted by the IETF following submitted erratum. A full diagnosis of
any given address is available online. The original version of RFC 3696
described 320 as the maximum length, but John Klensin subsequently accepted an
incorrect value, since a Path is defined as</p>
<div class="code"><pre class="code literal-block">Path = "&lt;" [ A-d-l ":" ] Mailbox "&gt;"
</pre></div>

<p>So the Mailbox element (i.e., the email address) has angle brackets around it
to form a Path, which a maximum length of 254 characters to restrict the Path
length to 256 characters or fewer.</p>
<p>The maximum length specified in RFC 5321 states:</p>
<blockquote>
<p>The maximum total length of a reverse-path or forward-path is 256
characters.</p>
</blockquote>
<p>RFC 3696 was corrected here.</p>
<p>People should be aware of the errata against RFC 3696 in particular. Three of
the canonical examples are in fact invalid addresses.</p>
<p>I've collated a couple hundred test addresses, which you can find at
http://www.dominicsayers.com/isemail</p>
<p><br></p>
<h3>Suggest</h3>
<p>320</p>
<p>And the segments look like this</p>
<p>{64}@{255}</p>
<p>64 + 1 + 255 = 320</p>
<p>You should also read this if you are validating emails: I Knew How To Validate
An Email Address Until I Read The RFC</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-361.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-359.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

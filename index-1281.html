<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1281) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1281.html">
<link rel="prev" href="index-1282.html" type="text/html">
<link rel="next" href="index-1280.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/use-database-name-command-in-postgresql/" class="u-url">"use database_name" command in PostgreSQL</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/use-database-name-command-in-postgresql/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T05:36:43+08:00" itemprop="datePublished" title="2023-02-18 05:36">2023-02-18 05:36</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am beginner to PostgreSQL.</p>
<p>I want to connect to another database from the query editor of Postgres - like
the <code>USE</code> command of MySQL or MS SQL Server.</p>
<p>I found <code>\c databasename</code> by searching the Internet, but its runs only on
psql. When I try it from the PostgreSQL query editor I get a syntax error.</p>
<p>I have to change the database by pgscripting. Does anyone know how to do it?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>When you get a connection to PostgreSQL it is always to a particular database.
To access a different database, you must get a new connection.</p>
<p>Using <code>\c</code> in psql closes the old connection and acquires a new one, using the
specified database and/or credentials. You get a whole new back-end process
and everything.</p>
<p><br></p>
<h3>Suggest</h3>
<p>You must specify the database to use on connect; if you want to use psql for
your script, you can use "\c name_database"</p>
<div class="code"><pre class="code literal-block">user_name=# CREATE DATABASE testdatabase; 
user_name=# \c testdatabase
</pre></div>

<p>At this point you might see the following output</p>
<div class="code"><pre class="code literal-block">You are now connected to database "testdatabase" as user "user_name".
testdatabase=#
</pre></div>

<p>Notice how the prompt changes. Cheers, have just been hustling looking for
this too, too little information on postgreSQL compared to MySQL and the rest
in my view.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/reimport-a-module-while-interactive/" class="u-url">Reimport a module while interactive</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/reimport-a-module-while-interactive/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T05:36:20+08:00" itemprop="datePublished" title="2023-02-18 05:36">2023-02-18 05:36</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How do I reimport a module? I want to reimport a module after making changes
to its .py file.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>For <strong>Python 3.4+</strong> :</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">importlib</span>
<span class="n">importlib</span><span class="o">.</span><span class="n">reload</span><span class="p">(</span><span class="n">nameOfModule</span><span class="p">)</span>
</pre></div>

<p>For <strong>Python &lt; 3.4</strong>:</p>
<div class="code"><pre class="code literal-block"><span class="n">reload</span><span class="p">(</span><span class="n">my</span><span class="o">.</span><span class="n">module</span><span class="p">)</span>
</pre></div>

<p>From the Python docs</p>
<blockquote>
<p>Reload a previously imported module. The argument must be a module object,
so it must have been successfully imported before. This is useful if you
have edited the module source file using an external editor and want to try
out the new version without leaving the Python interpreter.</p>
</blockquote>
<p>Don't forget the caveats of using this method:</p>
<ul>
<li>
<p>When a module is reloaded, its dictionary (containing the module’s global variables) is retained. Redefinitions of names will override the old definitions, so this is generally not a problem, but if the new version of a module does not define a name that was defined by the old version, the old definition is not removed.</p>
</li>
<li>
<p>If a module imports objects from another module using <code>from ... import ...</code>, calling <code>reload()</code> for the other module does not redefine the objects imported from it — one way around this is to re-execute the <code>from</code> statement, another is to use <code>import</code> and qualified names (<code>module.*name*</code>) instead.</p>
</li>
<li>
<p>If a module instantiates instances of a class, reloading the module that defines the class does not affect the method definitions of the instances — they continue to use the old class definition. The same is true for derived classes.</p>
</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<p>In python 3, <code>reload</code> is no longer a built in function.</p>
<p>If you are using python 3.4+ you should use <code>reload</code> from the <code>importlib</code>
library instead:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">importlib</span>
<span class="n">importlib</span><span class="o">.</span><span class="n">reload</span><span class="p">(</span><span class="n">some_module</span><span class="p">)</span>
</pre></div>

<p>If you are using python 3.2 or 3.3 you should:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">imp</span>  
<span class="n">imp</span><span class="o">.</span><span class="n">reload</span><span class="p">(</span><span class="n">module</span><span class="p">)</span>
</pre></div>

<p>instead. See http://docs.python.org/3.0/library/imp.html#imp.reload</p>
<p>If you are using <code>ipython</code>, definitely consider using the <code>autoreload</code>
extension:</p>
<div class="code"><pre class="code literal-block"><span class="nf">%load_ext</span><span class="w"> </span><span class="n">autoreload</span>
<span class="nf">%autoreload</span><span class="w"> </span><span class="mi">2</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-the-difference-between-dao-and-repository-patterns/" class="u-url">What is the difference between DAO and Repository patterns?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-the-difference-between-dao-and-repository-patterns/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T05:35:55+08:00" itemprop="datePublished" title="2023-02-18 05:35">2023-02-18 05:35</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What is the difference between Data Access Objects (DAO) and Repository
patterns? I am developing an application using Enterprise Java Beans (EJB3),
Hibernate ORM as infrastructure, and Domain-Driven Design (DDD) and Test-
Driven Development (TDD) as design techniques.</p>
<p><br><br></p>
<h2>Answer</h2>
<p><code>DAO</code> is an abstraction of <strong>data persistence</strong>.<br><code>Repository</code> is an abstraction of <strong>a collection of objects</strong>.</p>
<p><code>DAO</code> would be considered closer to the database, often table-centric.<br><code>Repository</code> would be considered closer to the Domain, dealing only in
Aggregate Roots.</p>
<p><code>Repository</code> could be implemented using <code>DAO</code>'s, but you wouldn't do the
opposite.</p>
<p>Also, a <code>Repository</code> is generally a narrower interface. It should be simply a
collection of objects, with a <code>Get(id)</code>, <code>Find(ISpecification)</code>,
<code>Add(Entity)</code>.</p>
<p>A method like <code>Update</code> is appropriate on a <code>DAO</code>, but not a <code>Repository</code> -
when using a <code>Repository</code>, changes to entities would usually be tracked by
separate UnitOfWork.</p>
<p>It does seem common to see implementations called a <code>Repository</code> that is
really more of a <code>DAO</code>, and hence I think there is some confusion about the
difference between them.</p>
<p><br></p>
<h3>Suggest</h3>
<p>OK, think I can explain better what I've put in comments :). So, basically,
you can see both those as the same, though DAO is a more flexible pattern than
Repository. If you want to use both, you would use the Repository in your
DAO-s. I'll explain each of them below:</p>
<h4>REPOSITORY:</h4>
<p>It's a repository of a specific type of objects - it allows you to search for
a specific type of objects as well as store them. Usually it will ONLY handle
one type of objects. E.g. <code>AppleRepository</code> would allow you to do
<code>AppleRepository.findAll(criteria)</code> or <code>AppleRepository.save(juicyApple)</code>.
Note that the Repository is using Domain Model terms (not DB terms - nothing
related to how data is persisted anywhere).</p>
<p>A repository will most likely store all data in the same table, whereas the
pattern doesn't require that. The fact that it only handles one type of data
though, makes it logically connected to one main table (if used for DB
persistence).</p>
<h4>DAO - data access object (in other words - object used to access data)</h4>
<p>A DAO is a class that locates data for you (it is mostly a finder, but it's
commonly used to also store the data). The pattern doesn't restrict you to
store data of the same type, thus you can easily have a DAO that
locates/stores related objects.</p>
<p>E.g. you can easily have UserDao that exposes methods like</p>
<div class="code"><pre class="code literal-block">Collection&lt;Permission&gt; findPermissionsForUser(String userId)
User findUser(String userId)
Collection&lt;User&gt; findUsersForPermission(Permission permission)
</pre></div>

<p>All those are related to User (and security) and can be specified under then
same DAO. This is not the case for Repository.</p>
<h4>Finally</h4>
<p>Note that both patterns really mean the same (they store data and they
abstract the access to it and they are both expressed closer to the domain
model and hardly contain any DB reference), but the way they are used can be
slightly different, DAO being a bit more flexible/generic, while Repository is
a bit more specific and restrictive to a type only.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1282.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1280.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

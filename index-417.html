<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 417) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-417.html">
<link rel="prev" href="index-418.html" type="text/html">
<link rel="next" href="index-416.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-does-the-tilde-squiggle-twiddle-css-selector-mean/" class="u-url">What does the "~" (tilde/squiggle/twiddle) CSS selector mean?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-does-the-tilde-squiggle-twiddle-css-selector-mean/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T06:19:24+08:00" itemprop="datePublished" title="2023-02-17 06:19">2023-02-17 06:19</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Searching for the <code>~</code> character isn't easy. I was looking over some CSS and
found this</p>
<div class="code"><pre class="code literal-block"><span class="nl">.check:</span><span class="nf">checked</span><span class="w"> </span><span class="err">~</span><span class="w"> </span><span class="no">.content</span><span class="w"> </span><span class="p">{</span>
<span class="err">}</span>
</pre></div>

<p>What does it mean?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The <code>~</code> selector is in fact the subsequent-sibling combinator (previously
called general sibling combinator until 2017):</p>
<blockquote>
<p>The subsequent-sibling combinator is made of the "tilde" (U+007E, ~)
character that separates two sequences of simple selectors. The elements
represented by the two sequences share the same parent in the document tree
and the element represented by the first sequence precedes (not necessarily
immediately) the element represented by the second one.</p>
</blockquote>
<p>Consider the following example:</p>
<div class="code"><pre class="code literal-block">.a<span class="w"> </span>~<span class="w"> </span>.b<span class="w"> </span>{
<span class="w">  </span>background-color:<span class="w"> </span>powderblue;
}


<span class="nt">&lt;ul&gt;</span>
<span class="w">  </span><span class="nt">&lt;li</span><span class="w"> </span><span class="na">class=</span><span class="s">"b"</span><span class="nt">&gt;</span>1st<span class="nt">&lt;/li&gt;</span>
<span class="w">  </span><span class="nt">&lt;li</span><span class="w"> </span><span class="na">class=</span><span class="s">"a"</span><span class="nt">&gt;</span>2nd<span class="nt">&lt;/li&gt;</span>
<span class="w">  </span><span class="nt">&lt;li&gt;</span>3rd<span class="nt">&lt;/li&gt;</span>
<span class="w">  </span><span class="nt">&lt;li</span><span class="w"> </span><span class="na">class=</span><span class="s">"b"</span><span class="nt">&gt;</span>4th<span class="nt">&lt;/li&gt;</span>
<span class="w">  </span><span class="nt">&lt;li</span><span class="w"> </span><span class="na">class=</span><span class="s">"b"</span><span class="nt">&gt;</span>5th<span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span>
</pre></div>

<p><code>.a ~ .b</code> matches the 4th and 5th list item because they:</p>
<ul>
<li>Are <code>.b</code> elements</li>
<li>Are siblings of <code>.a</code>
</li>
<li>Appear after <code>.a</code> in HTML source order.</li>
</ul>
<p>Likewise, <code>.check:checked ~ .content</code> matches all <code>.content</code> elements that are
siblings of <code>.check:checked</code> and appear after it.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Good to also check the other combinators in the family and to get back to what
is this specific one.</p>
<ul>
<li><code>ul li</code></li>
<li><code>ul &gt; li</code></li>
<li><code>ul + ul</code></li>
<li><code>ul ~ ul</code></li>
</ul>
<p>Example checklist:</p>
<ul>
<li>
<code>ul li</code> - <em><strong>Looking inside</strong></em> - Selects <strong>all</strong> the <code>li</code> elements placed (anywhere) inside the <code>ul</code>; <strong>Descendant combinator</strong>
</li>
<li>
<code>ul &gt; li</code> - <em><strong>Looking inside</strong></em> - Selects <strong>only the direct</strong> <code>li</code> elements of <code>ul</code>; i.e. it will only select direct children <code>li</code> of <code>ul</code>; <strong>Child combinator</strong>
</li>
<li>
<code>ul + ul</code> - <em><strong>Looking outside</strong></em> - Selects the <code>ul</code> <strong>immediately following</strong> the <code>ul</code>; It is not looking inside, but looking outside for the immediately following element; <strong>Adjacent sibling combinator</strong> / <strong>Next-sibling combinator</strong>
</li>
<li>
<code>ul ~ ul</code> - <em><strong>Looking outside</strong></em> - Selects <strong>all the following</strong> <code>ul</code>'s, but both <code>ul</code>'s should be having the same parent; <strong>General sibling combinator</strong> / <strong>Subsequent-sibling combinator</strong>
</li>
</ul>
<hr>
<p>The one we are looking at here is the <strong>General sibling combinator</strong> /
<strong>Subsequent-sibling combinator</strong></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/get-current-directory-or-folder-name-without-the-full-path/" class="u-url">Get current directory or folder name (without the full path)</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/get-current-directory-or-folder-name-without-the-full-path/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T06:18:59+08:00" itemprop="datePublished" title="2023-02-17 06:18">2023-02-17 06:18</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How could I retrieve the current working directory/folder name in a bash
script, or even better, just a terminal command.</p>
<p><code>pwd</code> gives the full path of the current working directory, e.g.
<code>/opt/local/bin</code> but I only want <code>bin</code>.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>No need for basename, and especially no need for a subshell running pwd (which
adds an extra, and expensive, fork operation); the shell can do this
internally using parameter expansion:</p>
<div class="code"><pre class="code literal-block"><span class="s s-Atom">result=</span><span class="err">$</span><span class="p">{</span><span class="nv">PWD</span><span class="s s-Atom">##*/</span><span class="p">}</span>          <span class="s s-Atom">#</span> <span class="s s-Atom">to</span> <span class="s s-Atom">assign</span> <span class="s s-Atom">to</span> <span class="s s-Atom">a</span> <span class="s s-Atom">variable</span>
<span class="s s-Atom">result=</span><span class="err">$</span><span class="p">{</span><span class="s s-Atom">result</span><span class="p">:</span><span class="s s-Atom">-/</span><span class="p">}</span>        <span class="s s-Atom">#</span> <span class="s s-Atom">to</span> <span class="s s-Atom">correct</span> <span class="s s-Atom">for</span> <span class="s s-Atom">the</span> <span class="s s-Atom">case</span> <span class="s s-Atom">where</span> <span class="nv">PWD</span><span class="s s-Atom">=/</span>

<span class="s s-Atom">printf</span> <span class="s s-Atom">'%s\n'</span> <span class="s2">"${PWD##*/}"</span> <span class="s s-Atom">#</span> <span class="s s-Atom">to</span> <span class="s s-Atom">print</span> <span class="s s-Atom">to</span> <span class="s s-Atom">stdout</span>
                           <span class="s s-Atom">#</span> <span class="p">...</span><span class="s s-Atom">more</span> <span class="s s-Atom">robust</span> <span class="s s-Atom">than</span> <span class="s s-Atom">echo</span> <span class="s s-Atom">for</span> <span class="s s-Atom">unusual</span> <span class="s s-Atom">names</span>
                           <span class="s s-Atom">#</span>    <span class="p">(</span><span class="s s-Atom">consider</span> <span class="s s-Atom">a</span> <span class="s s-Atom">directory</span> <span class="s s-Atom">named</span> <span class="o">-</span><span class="s s-Atom">e</span> <span class="s s-Atom">or</span> <span class="o">-</span><span class="s s-Atom">n</span><span class="p">)</span>

<span class="s s-Atom">printf</span> <span class="s s-Atom">'%q\n'</span> <span class="s2">"${PWD##*/}"</span> <span class="s s-Atom">#</span> <span class="s s-Atom">to</span> <span class="s s-Atom">print</span> <span class="s s-Atom">to</span> <span class="s s-Atom">stdout</span><span class="p">,</span> <span class="s s-Atom">quoted</span> <span class="s s-Atom">for</span> <span class="s s-Atom">use</span> <span class="s s-Atom">as</span> <span class="s s-Atom">shell</span> <span class="s s-Atom">input</span>
                           <span class="s s-Atom">#</span> <span class="p">...</span><span class="s s-Atom">useful</span> <span class="s s-Atom">to</span> <span class="s s-Atom">make</span> <span class="s s-Atom">hidden</span> <span class="s s-Atom">characters</span> <span class="s s-Atom">readable</span><span class="p">.</span>
</pre></div>

<hr>
<p>Note that if you're applying this technique in other circumstances (not <code>PWD</code>,
but some other variable holding a directory name), you might need to trim any
trailing slashes. The below uses bash's extglob support to work even with
multiple trailing slashes:</p>
<div class="code"><pre class="code literal-block"><span class="s s-Atom">dirname=/path</span><span class="o">/</span><span class="s s-Atom">to</span><span class="o">/</span><span class="s s-Atom">somewhere</span><span class="o">//</span>
<span class="s s-Atom">shopt</span> <span class="o">-</span><span class="s s-Atom">s</span> <span class="s s-Atom">extglob</span>           <span class="s s-Atom">#</span> <span class="s s-Atom">enable</span> <span class="s s-Atom">+</span><span class="p">(...)</span> <span class="s s-Atom">glob</span> <span class="s s-Atom">syntax</span>
<span class="s s-Atom">result=</span><span class="err">$</span><span class="p">{</span><span class="s s-Atom">dirname</span><span class="c1">%%+(/)}    # trim however many trailing slashes exist</span>
<span class="s s-Atom">result=</span><span class="err">$</span><span class="p">{</span><span class="s s-Atom">result##*/</span><span class="p">}</span>       <span class="s s-Atom">#</span> <span class="s s-Atom">remove</span> <span class="s s-Atom">everything</span> <span class="s s-Atom">before</span> <span class="s s-Atom">the</span> <span class="s s-Atom">last</span> <span class="o">/</span> <span class="s s-Atom">that</span> <span class="s s-Atom">still</span> <span class="s s-Atom">remains</span>
<span class="s s-Atom">result=</span><span class="err">$</span><span class="p">{</span><span class="s s-Atom">result</span><span class="p">:</span><span class="s s-Atom">-/</span><span class="p">}</span>        <span class="s s-Atom">#</span> <span class="s s-Atom">correct</span> <span class="s s-Atom">for</span> <span class="s s-Atom">dirname=/</span> <span class="s s-Atom">case</span>
<span class="s s-Atom">printf</span> <span class="s s-Atom">'%s\n'</span> <span class="s2">"$result"</span>
</pre></div>

<p>Alternatively, without <code>extglob</code>:</p>
<div class="code"><pre class="code literal-block"><span class="s s-Atom">dirname=</span><span class="s2">"/path/to/somewhere//"</span>
<span class="s s-Atom">result=</span><span class="s2">"${dirname%"</span><span class="err">$</span><span class="p">{</span><span class="s s-Atom">dirname##*</span><span class="p">[!</span><span class="s s-Atom">/</span><span class="p">]}</span><span class="s2">"}"</span> <span class="s s-Atom">#</span> <span class="s s-Atom">extglob</span><span class="o">-</span><span class="s s-Atom">free</span> <span class="s s-Atom">multi</span><span class="o">-</span><span class="s s-Atom">trailing-/</span> <span class="s s-Atom">trim</span>
<span class="s s-Atom">result=</span><span class="s2">"${result##*/}"</span>                  <span class="s s-Atom">#</span> <span class="s s-Atom">remove</span> <span class="s s-Atom">everything</span> <span class="s s-Atom">before</span> <span class="s s-Atom">the</span> <span class="s s-Atom">last</span> <span class="o">/</span>
<span class="s s-Atom">result=</span><span class="err">$</span><span class="p">{</span><span class="s s-Atom">result</span><span class="p">:</span><span class="s s-Atom">-/</span><span class="p">}</span>                     <span class="s s-Atom">#</span> <span class="s s-Atom">correct</span> <span class="s s-Atom">for</span> <span class="s s-Atom">dirname=/</span> <span class="s s-Atom">case</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Use the <code>basename</code> program. For your case:</p>
<div class="code"><pre class="code literal-block"><span class="c">% basename "$PWD"</span>
<span class="n">bin</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-s-the-difference-between-event-stoppropagation-and-event-preventdefault/" class="u-url">What's the difference between event.stopPropagation and event.preventDefault?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-s-the-difference-between-event-stoppropagation-and-event-preventdefault/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T06:18:32+08:00" itemprop="datePublished" title="2023-02-17 06:18">2023-02-17 06:18</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>They seem to be doing the same thing...<br>
Is one modern and one old? Or are they supported by different browsers?</p>
<p>When I handle events myself (without framework) I just always check for both
and execute both if present. (I also <code>return false</code>, but I have the feeling
that doesn't work with events attached with <code>node.addEventListener</code>).</p>
<blockquote>
<p>So why both? Should I keep checking for both? Or is there actually a
difference?</p>
</blockquote>
<p>(I know, a lot of questions, but they're all sort of the same =))</p>
<p><br><br></p>
<h2>Answer</h2>
<p><code>stopPropagation</code> prevents further propagation of the current event in the
capturing and bubbling phases.</p>
<p><code>preventDefault</code> prevents the default action the browser makes on that event.</p>
<h3>Examples</h3>
<p><strong>preventDefault</strong></p>
<div class="code"><pre class="code literal-block">$("#but").click(function<span class="w"> </span>(event)<span class="w"> </span>{
<span class="w">  </span>event.preventDefault()
})
$("#foo").click(function<span class="w"> </span>()<span class="w"> </span>{
<span class="w">  </span>alert("parent<span class="w"> </span>click<span class="w"> </span>event<span class="w"> </span>fired!")
})


<span class="nt">&lt;script</span><span class="w"> </span><span class="na">src=</span><span class="s">"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;div</span><span class="w"> </span><span class="na">id=</span><span class="s">"foo"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;button</span><span class="w"> </span><span class="na">id=</span><span class="s">"but"</span><span class="nt">&gt;</span>button<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p><strong>stopPropagation</strong></p>
<div class="code"><pre class="code literal-block">$("#but").click(function<span class="w"> </span>(event)<span class="w"> </span>{
<span class="w">  </span>event.stopPropagation()
})
$("#foo").click(function<span class="w"> </span>()<span class="w"> </span>{
<span class="w">  </span>alert("parent<span class="w"> </span>click<span class="w"> </span>event<span class="w"> </span>fired!")
})


<span class="nt">&lt;script</span><span class="w"> </span><span class="na">src=</span><span class="s">"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;div</span><span class="w"> </span><span class="na">id=</span><span class="s">"foo"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;button</span><span class="w"> </span><span class="na">id=</span><span class="s">"but"</span><span class="nt">&gt;</span>button<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p>With <code>stopPropagation</code>, only the <strong><code>button</code>'s click handler</strong> is called while
the <strong><code>div</code>'s click handler</strong> never fires.</p>
<p>Where as if you use <code>preventDefault</code>, only the browser's default action is
stopped but the div's click handler still fires.</p>
<p>Below are some docs on the DOM event properties and methods from MDN:</p>
<ul>
<li><code>event.cancelBubble</code></li>
<li><code>event.preventDefault()</code></li>
<li><code>event.returnValue</code></li>
<li><code>event.stopPropagation()</code></li>
</ul>
<p>For IE9 and FF you can just use preventDefault &amp; stopPropagation.</p>
<p>To support IE8 and lower replace <code>stopPropagation</code> with <code>cancelBubble</code> and
replace <code>preventDefault</code> with <code>returnValue</code></p>
<p><br></p>
<h3>Suggest</h3>
<h2>Terminology</h2>
<p>From quirksmode.org:</p>
<blockquote>
<h4>Event capturing</h4>
<p>When you use event capturing</p>
<div class="code"><pre class="code literal-block"><span class="c">               | |</span>
<span class="nb">---------------</span><span class="c">| |</span><span class="nb">-----------------</span>
<span class="c">| element1     | |                |</span>
<span class="c">|   </span><span class="nb">-----------</span><span class="c">| |</span><span class="nb">-----------</span><span class="c">     |</span>
<span class="c">|   |element2  \ /          |     |</span>
<span class="c">|   </span><span class="nb">-------------------------</span><span class="c">     |</span>
<span class="c">|        Event CAPTURING          |</span>
<span class="nb">-----------------------------------</span>
</pre></div>

<p>the event handler of element1 fires first, the event handler of element2
fires last.</p>
<h4>Event bubbling</h4>
<p>When you use event bubbling</p>
<div class="code"><pre class="code literal-block"><span class="c">               / \</span>
<span class="nb">---------------</span><span class="c">| |</span><span class="nb">-----------------</span>
<span class="c">| element1     | |                |</span>
<span class="c">|   </span><span class="nb">-----------</span><span class="c">| |</span><span class="nb">-----------</span><span class="c">     |</span>
<span class="c">|   |element2  | |          |     |</span>
<span class="c">|   </span><span class="nb">-------------------------</span><span class="c">     |</span>
<span class="c">|        Event BUBBLING           |</span>
<span class="nb">-----------------------------------</span>
</pre></div>

<p>the event handler of element2 fires first, the event handler of element1
fires last.</p>
<p><em>Any event taking place in the W3C event model is first captured until it
reaches the target element and then bubbles up again</em>.</p>
<div class="code"><pre class="code literal-block"><span class="c">                 | |  / \</span>
<span class="nb">-----------------</span><span class="c">| |</span><span class="nb">--</span><span class="c">| |</span><span class="nb">-----------------</span>
<span class="c">| element1       | |  | |                |</span>
<span class="c">|   </span><span class="nb">-------------</span><span class="c">| |</span><span class="nb">--</span><span class="c">| |</span><span class="nb">-----------</span><span class="c">     |</span>
<span class="c">|   |element2    \ /  | |          |     |</span>
<span class="c">|   </span><span class="nb">--------------------------------</span><span class="c">     |</span>
<span class="c">|        W3C event model                 |</span>
<span class="nb">------------------------------------------</span>
</pre></div>

</blockquote>
<h2>Interface</h2>
<p>From w3.org, for <em>event capture</em> :</p>
<blockquote>
<p>If the capturing <code>EventListener</code> wishes to prevent further processing of the
event from occurring it may call the <code>stopPropagation</code> method of the <code>Event</code>
interface. This will prevent further dispatch of the event, although
additional <code>EventListeners</code> registered at the same hierarchy level will
still receive the event. Once an event's <code>stopPropagation</code> method has been
called, further calls to that method have no additional effect. If no
additional capturers exist and <code>stopPropagation</code> has not been called, the
event triggers the appropriate <code>EventListeners</code> on the target itself.</p>
</blockquote>
<p>For <em>event bubbling</em> :</p>
<blockquote>
<p>Any event handler may choose to prevent further event propagation by calling
the <code>stopPropagation</code> method of the <code>Event</code> interface. If any
<code>EventListener</code> calls this method, all additional <code>EventListeners</code> on the
current <code>EventTarget</code> will be triggered but bubbling will cease at that
level. Only one call to <code>stopPropagation</code> is required to prevent further
bubbling.</p>
</blockquote>
<p>For <em>event cancelation</em> :</p>
<blockquote>
<p>Cancelation is accomplished by calling the <code>Event</code>'s <code>preventDefault</code>
method. If one or more <code>EventListeners</code> call <code>preventDefault</code> during any
phase of event flow the default action will be canceled.</p>
</blockquote>
<h2>Examples</h2>
<p>In the following examples, a click on the hyperlink in the web browser
triggers the event's flow (the event listeners are executed) and the event
target's default action (a new tab is opened).</p>
<p>HTML:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;div</span><span class="w"> </span><span class="na">id=</span><span class="s">"a"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;a</span><span class="w"> </span><span class="na">id=</span><span class="s">"b"</span><span class="w"> </span><span class="na">href=</span><span class="s">"http://www.google.com/"</span><span class="w"> </span><span class="na">target=</span><span class="s">"_blank"</span><span class="nt">&gt;</span>Google<span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;p</span><span class="w"> </span><span class="na">id=</span><span class="s">"c"</span><span class="nt">&gt;&lt;/p&gt;</span>
</pre></div>

<p>JavaScript:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">el</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">document</span><span class="o">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s2">"c"</span><span class="p">);</span>

<span class="n">function</span><span class="w"> </span><span class="n">capturingOnClick1</span><span class="p">(</span><span class="n">ev</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">el</span><span class="o">.</span><span class="n">innerHTML</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s2">"DIV event capture&lt;br&gt;"</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">function</span><span class="w"> </span><span class="n">capturingOnClick2</span><span class="p">(</span><span class="n">ev</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">el</span><span class="o">.</span><span class="n">innerHTML</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s2">"A event capture&lt;br&gt;"</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">function</span><span class="w"> </span><span class="n">bubblingOnClick1</span><span class="p">(</span><span class="n">ev</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">el</span><span class="o">.</span><span class="n">innerHTML</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s2">"DIV event bubbling&lt;br&gt;"</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">function</span><span class="w"> </span><span class="n">bubblingOnClick2</span><span class="p">(</span><span class="n">ev</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">el</span><span class="o">.</span><span class="n">innerHTML</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s2">"A event bubbling&lt;br&gt;"</span><span class="p">;</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="mi">3</span><span class="n">rd</span><span class="w"> </span><span class="n">parameter</span><span class="w"> </span><span class="n">useCapture</span><span class="w"> </span><span class="n">makes</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">event</span><span class="w"> </span><span class="n">listener</span><span class="w"> </span><span class="n">capturing</span><span class="w"> </span><span class="p">(</span><span class="bp">false</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">default</span><span class="p">)</span>
<span class="n">document</span><span class="o">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s2">"a"</span><span class="p">)</span><span class="o">.</span><span class="n">addEventListener</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="w"> </span><span class="n">capturingOnClick1</span><span class="p">,</span><span class="w"> </span><span class="bp">true</span><span class="p">);</span>
<span class="n">document</span><span class="o">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s2">"b"</span><span class="p">)</span><span class="o">.</span><span class="n">addEventListener</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="w"> </span><span class="n">capturingOnClick2</span><span class="p">,</span><span class="w"> </span><span class="bp">true</span><span class="p">);</span>
<span class="n">document</span><span class="o">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s2">"a"</span><span class="p">)</span><span class="o">.</span><span class="n">addEventListener</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="w"> </span><span class="n">bubblingOnClick1</span><span class="p">,</span><span class="w"> </span><span class="bp">false</span><span class="p">);</span>
<span class="n">document</span><span class="o">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s2">"b"</span><span class="p">)</span><span class="o">.</span><span class="n">addEventListener</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="w"> </span><span class="n">bubblingOnClick2</span><span class="p">,</span><span class="w"> </span><span class="bp">false</span><span class="p">);</span>
</pre></div>

<p>Example 1: it results in the output</p>
<div class="code"><pre class="code literal-block">DIV event capture
A event capture
A event bubbling
DIV event bubbling
</pre></div>

<p>Example 2: adding <code>stopPropagation()</code> to the function</p>
<div class="code"><pre class="code literal-block">function capturingOnClick1(ev) {
    el.innerHTML += "DIV event capture&lt;br&gt;";
    ev.stopPropagation();
}
</pre></div>

<p>results in the output</p>
<div class="code"><pre class="code literal-block">DIV event capture
</pre></div>

<p>The event listener prevented further downward and upward propagation of the
event. However it did not prevent the default action (a new tab opening).</p>
<p>Example 3: adding <code>stopPropagation()</code> to the function</p>
<div class="code"><pre class="code literal-block">function capturingOnClick2(ev) {
    el.innerHTML += "A event capture&lt;br&gt;";
    ev.stopPropagation();
}
</pre></div>

<p>or the function</p>
<div class="code"><pre class="code literal-block">function bubblingOnClick2(ev) {
    el.innerHTML += "A event bubbling&lt;br&gt;";
    ev.stopPropagation();
}
</pre></div>

<p>results in the output</p>
<div class="code"><pre class="code literal-block">DIV event capture
A event capture
A event bubbling
</pre></div>

<p>This is because both event listeners are registered on the same event target.
The event listeners prevented further upward propagation of the event. However
they did not prevent the default action (a new tab opening).</p>
<p>Example 4: adding <code>preventDefault()</code> to any function, for instance</p>
<div class="code"><pre class="code literal-block">function capturingOnClick1(ev) {
    el.innerHTML += "DIV event capture&lt;br&gt;";
    ev.preventDefault();
}
</pre></div>

<p>prevents a new tab from opening.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-418.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-416.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 128) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-128.html">
<link rel="prev" href="index-129.html" type="text/html">
<link rel="next" href="index-127.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/when-should-i-use-self-over-this/" class="u-url">When should I use 'self' over '$this'?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/when-should-i-use-self-over-this/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T22:15:59+08:00" itemprop="datePublished" title="2023-02-16 22:15">2023-02-16 22:15</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>In PHP 5, what is the difference between using <code>self</code> and <code>$this</code>?</p>
<p>When is each appropriate?</p>
<p><br><br></p>
<h2>Answer</h2>
<h2>Short Answer</h2>
<blockquote>
<p>Use <code>$this</code> to refer to the current object. Use <code>self</code> to refer to the
current class. In other words, use <code>$this-&gt;member</code> for non-static members,
use <code>self::$member</code> for static members.</p>
</blockquote>
<h2>Full Answer</h2>
<p>Here is an example of <strong>correct</strong> usage of <code>$this</code> and <code>self</code> for non-static
and static member variables:</p>
<div class="code"><pre class="code literal-block"><span class="cp">&lt;?php</span>
<span class="k">class</span> <span class="nc">X</span> <span class="p">{</span>
    <span class="k">private</span> <span class="nv">$non_static_member</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">private</span> <span class="k">static</span> <span class="nv">$static_member</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>

    <span class="k">function</span> <span class="fm">__construct</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">non_static_member</span> <span class="o">.</span> <span class="s1">' '</span>
           <span class="o">.</span> <span class="nx">self</span><span class="o">::</span><span class="nv">$static_member</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">new</span> <span class="nx">X</span><span class="p">();</span>
<span class="cp">?&gt;</span>
</pre></div>

<p>Here is an example of <strong>incorrect</strong> usage of <code>$this</code> and <code>self</code> for non-static
and static member variables:</p>
<div class="code"><pre class="code literal-block"><span class="cp">&lt;?php</span>
<span class="k">class</span> <span class="nc">X</span> <span class="p">{</span>
    <span class="k">private</span> <span class="nv">$non_static_member</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">private</span> <span class="k">static</span> <span class="nv">$static_member</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>

    <span class="k">function</span> <span class="fm">__construct</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="nx">self</span><span class="o">::</span><span class="nv">$non_static_member</span> <span class="o">.</span> <span class="s1">' '</span>
           <span class="o">.</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">static_member</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">new</span> <span class="nx">X</span><span class="p">();</span>
<span class="cp">?&gt;</span>
</pre></div>

<p>Here is an example of <strong>polymorphism</strong> with <code>$this</code> for member functions:</p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;</span><span class="err">?</span><span class="n">php</span>
<span class="k">class</span><span class="w"> </span><span class="n">X</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">function</span><span class="w"> </span><span class="n">foo</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">echo</span><span class="w"> </span><span class="s1">'X::foo()'</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">function</span><span class="w"> </span><span class="n">bar</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="o">$</span><span class="n">this</span><span class="o">-&gt;</span><span class="n">foo</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span><span class="w"> </span><span class="n">Y</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="n">X</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">function</span><span class="w"> </span><span class="n">foo</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">echo</span><span class="w"> </span><span class="s1">'Y::foo()'</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="o">$</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Y</span><span class="p">();</span>
<span class="o">$</span><span class="n">x</span><span class="o">-&gt;</span><span class="n">bar</span><span class="p">();</span>
<span class="err">?</span><span class="o">&gt;</span>
</pre></div>

<p>Here is an example of <strong>suppressing polymorphic behaviour</strong> by using <code>self</code>
for member functions:</p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;</span><span class="err">?</span><span class="n">php</span>
<span class="k">class</span><span class="w"> </span><span class="n">X</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">function</span><span class="w"> </span><span class="n">foo</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">echo</span><span class="w"> </span><span class="s1">'X::foo()'</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">function</span><span class="w"> </span><span class="n">bar</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="bp">self</span><span class="p">::</span><span class="n">foo</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span><span class="w"> </span><span class="n">Y</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="n">X</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">function</span><span class="w"> </span><span class="n">foo</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">echo</span><span class="w"> </span><span class="s1">'Y::foo()'</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="o">$</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Y</span><span class="p">();</span>
<span class="o">$</span><span class="n">x</span><span class="o">-&gt;</span><span class="n">bar</span><span class="p">();</span>
<span class="err">?</span><span class="o">&gt;</span>
</pre></div>

<blockquote>
<p>The idea is that <code>$this-&gt;foo()</code> calls the <code>foo()</code> member function of
whatever is the exact type of the current object. If the object is of <code>type
X</code>, it thus calls <code>X::foo()</code>. If the object is of <code>type Y</code>, it calls
<code>Y::foo()</code>. But with self::foo(), <code>X::foo()</code> is always called.</p>
</blockquote>
<p>From http://www.phpbuilder.com/board/showthread.php?t=10354489:</p>
<p>By http://board.phpbuilder.com/member.php?145249-laserlight</p>
<p><br></p>
<h3>Suggest</h3>
<p>The keyword self does <strong>NOT</strong> refer merely to the 'current class', at least
not in a way that restricts you to static members. Within the context of a
non-static member, <code>self</code> also provides a way of bypassing the vtable (see
wiki on vtable) for the current object. Just as you can use
<code>parent::methodName()</code> to call the parents version of a function, so you can
call <code>self::methodName()</code> to call the current classes implementation of a
method.</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span><span class="w"> </span><span class="n">Person</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">private</span><span class="w"> </span><span class="o">$</span><span class="n">name</span><span class="p">;</span>

<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">__construct</span><span class="p">(</span><span class="o">$</span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="o">$</span><span class="n">this</span><span class="o">-&gt;</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">$</span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">getName</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="o">$</span><span class="n">this</span><span class="o">-&gt;</span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">getTitle</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="o">$</span><span class="n">this</span><span class="o">-&gt;</span><span class="n">getName</span><span class="p">()</span><span class="o">.</span><span class="s2">" the person"</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">sayHello</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">echo</span><span class="w"> </span><span class="s2">"Hello, I'm "</span><span class="o">.$</span><span class="n">this</span><span class="o">-&gt;</span><span class="n">getTitle</span><span class="p">()</span><span class="o">.</span><span class="s2">"&lt;br/&gt;"</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">sayGoodbye</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">echo</span><span class="w"> </span><span class="s2">"Goodbye from "</span><span class="o">.</span><span class="n">self</span><span class="p">::</span><span class="n">getTitle</span><span class="p">()</span><span class="o">.</span><span class="s2">"&lt;br/&gt;"</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span><span class="w"> </span><span class="n">Geek</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="n">Person</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">__construct</span><span class="p">(</span><span class="o">$</span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">parent</span><span class="p">::</span><span class="n">__construct</span><span class="p">(</span><span class="o">$</span><span class="n">name</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">getTitle</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="o">$</span><span class="n">this</span><span class="o">-&gt;</span><span class="n">getName</span><span class="p">()</span><span class="o">.</span><span class="s2">" the geek"</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="o">$</span><span class="n">geekObj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Geek</span><span class="p">(</span><span class="s2">"Ludwig"</span><span class="p">);</span>
<span class="o">$</span><span class="n">geekObj</span><span class="o">-&gt;</span><span class="n">sayHello</span><span class="p">();</span>
<span class="o">$</span><span class="n">geekObj</span><span class="o">-&gt;</span><span class="n">sayGoodbye</span><span class="p">();</span>
</pre></div>

<p>This will output:</p>
<blockquote>
<p>Hello, I'm Ludwig the geek<br>
 Goodbye from Ludwig the person</p>
</blockquote>
<p><code>sayHello()</code> uses the <code>$this</code> pointer, so the vtable is invoked to call
<code>Geek::getTitle()</code>. <code>sayGoodbye()</code> uses <code>self::getTitle()</code>, so the vtable is
not used, and <code>Person::getTitle()</code> is called. In both cases, we are dealing
with the method of an instantiated object, and have access to the <code>$this</code>
pointer within the called functions.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-calculate-someone-s-age-based-on-a-datetime-type-birthday/" class="u-url">How do I calculate someone's age based on a DateTime type birthday?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-calculate-someone-s-age-based-on-a-datetime-type-birthday/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T22:15:03+08:00" itemprop="datePublished" title="2023-02-16 22:15">2023-02-16 22:15</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Given a <code>DateTime</code> representing a person's birthday, how do I calculate their
age in years?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>An easy to understand and simple solution.</p>
<div class="code"><pre class="code literal-block"><span class="o">//</span><span class="w"> </span><span class="n">Save</span><span class="w"> </span><span class="n">today</span><span class="s1">'s date.</span>
<span class="k">var</span><span class="w"> </span><span class="n">today</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DateTime</span><span class="o">.</span><span class="n">Today</span><span class="p">;</span>

<span class="o">//</span><span class="w"> </span><span class="n">Calculate</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">age</span><span class="o">.</span>
<span class="k">var</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">today</span><span class="o">.</span><span class="n">Year</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">birthdate</span><span class="o">.</span><span class="n">Year</span><span class="p">;</span>

<span class="o">//</span><span class="w"> </span><span class="n">Go</span><span class="w"> </span><span class="n">back</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">year</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">born</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">case</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">leap</span><span class="w"> </span><span class="n">year</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">birthdate</span><span class="o">.</span><span class="n">Date</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">today</span><span class="o">.</span><span class="n">AddYears</span><span class="p">(</span><span class="o">-</span><span class="n">age</span><span class="p">))</span><span class="w"> </span><span class="n">age</span><span class="o">--</span><span class="p">;</span>
</pre></div>

<p>However, this assumes you are looking for the <em>western</em> idea of the age and
not using <em>East Asian reckoning</em>.</p>
<p><br></p>
<h3>Suggest</h3>
<p>This is a strange way to do it, but if you format the date to <code>yyyymmdd</code> and
subtract the date of birth from the current date then drop the last 4 digits
you've got the age :)</p>
<p>I don't know C#, but I believe this will work in any language.</p>
<div class="code"><pre class="code literal-block"><span class="mf">20080814</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">19800703</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">280111</span>
</pre></div>

<p>Drop the last 4 digits = <code>28</code>.</p>
<p>C# Code:</p>
<div class="code"><pre class="code literal-block">int now = int.Parse(DateTime.Now.ToString("yyyyMMdd"));
int dob = int.Parse(dateOfBirth.ToString("yyyyMMdd"));
int age = (now - dob) / 10000;
</pre></div>

<p>Or alternatively without all the type conversion in the form of an extension
method. Error checking omitted:</p>
<div class="code"><pre class="code literal-block"><span class="n">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">Int32</span><span class="w"> </span><span class="n">GetAge</span><span class="p">(</span><span class="n">this</span><span class="w"> </span><span class="n">DateTime</span><span class="w"> </span><span class="n">dateOfBirth</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">today</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DateTime</span><span class="o">.</span><span class="n">Today</span><span class="p">;</span>

<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">today</span><span class="o">.</span><span class="n">Year</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">today</span><span class="o">.</span><span class="n">Month</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">today</span><span class="o">.</span><span class="n">Day</span><span class="p">;</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">dateOfBirth</span><span class="o">.</span><span class="n">Year</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">dateOfBirth</span><span class="o">.</span><span class="n">Month</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">dateOfBirth</span><span class="o">.</span><span class="n">Day</span><span class="p">;</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">10000</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/html-5-is-it-br-br-or-br/" class="u-url">HTML 5: Is it &lt;br&gt;, &lt;br/&gt;, or &lt;br /&gt;?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/html-5-is-it-br-br-or-br/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T22:14:21+08:00" itemprop="datePublished" title="2023-02-16 22:14">2023-02-16 22:14</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p><strong>This question's answers are a community effort</strong>. Edit existing answers to
improve this post. It is not currently accepting new answers or interactions.</p>
<p>I've tried checking other answers, but I'm still confused — especially after
seeing W3schools HTML 5 reference.</p>
<p>I thought HTML 4.01 was supposed to "allow" single-tags to just be <code>&lt;img&gt;</code> and
<code>&lt;br&gt;</code>. Then XHTML came along with <code>&lt;img /&gt;</code> and <code>&lt;br /&gt;</code> (where someone said
that the space is there for older browsers).</p>
<p>Now I'm wondering how I'm supposed to format my code when practicing HTML 5.</p>
<p>Is it <code>&lt;br&gt;</code>, <code>&lt;br/&gt;</code> or <code>&lt;br /&gt;</code>?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Simply <code>&lt;br&gt;</code> is sufficient.</p>
<p>The other forms are there for compatibility with XHTML; to make it possible to
write the same code as XHTML, and have it also work as HTML. Some systems that
generate HTML may be based on XML generators, and thus do not have the ability
to output just a bare <code>&lt;br&gt;</code> tag; if you're using such a system, it's fine to
use <code>&lt;br/&gt;</code>, it's just not necessary if you don't need to do it.</p>
<p>Very few people actually use XHTML, however. You need to serve your content as
<code>application/xhtml+xml</code> for it to be interpreted as XHTML, and that will not
work in old versions of IE - it will also mean that any small error you make
will prevent your page from being displayed in browsers that do support XHTML.
So, most of what looks like XHTML on the web is actually being served, and
interpreted, as HTML. See Serving XHTML as text/html Considered Harmful for
some more information.</p>
<p><br></p>
<h3>Suggest</h3>
<p>I think this quote from the HTML 5 Reference Draft provides the answer:</p>
<blockquote>
<p><em>3.2.2.2 Void Elements</em></p>
<p>The term <strong>void elements</strong> is used to designate elements that must be empty.
These requirements only apply to the HTML syntax. In XHTML, all such
elements are treated as normal elements, but must be marked up as empty
elements.</p>
<p>These elements are forbidden from containing any content at all. In HTML,
these elements have a start tag only. The self-closing tag syntax may be
used. The end tag must be omitted because the element is automatically
closed by the parser.</p>
<p>HTML Example:<br>
 A void element in the HTML syntax. This is not permitted in the XHTML
syntax.</p>
<div class="code"><pre class="code literal-block">&lt;hr&gt;
</pre></div>

<p>Example:<br>
 A void element using the HTML- and XHTML-compatible self-closing tag
syntax.</p>
<div class="code"><pre class="code literal-block">&lt;hr/&gt;
</pre></div>

<p>XHTML Example:<br>
 A void element using the XHTML-only syntax with an explicit end tag. This
is not permitted for void elements in the HTML syntax.</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;hr&gt;&lt;/hr&gt;</span>
</pre></div>

</blockquote>
<p>In other words:</p>
<ul>
<li>
<strong>Invalid HTML 5</strong> : <code>&lt;IMG&gt;&lt;/IMG&gt;</code>
</li>
<li>
<strong>Valid HTML 5</strong> : <code>&lt;IMG&gt;</code>, <code>&lt;IMG/&gt;</code>
</li>
</ul>
<p>And while HTML <strong>forbids</strong> certain closing tags, xhtml <strong>requires</strong> them:</p>
<ul>
<li>
<strong>Invalid xhtml</strong> : <code>&lt;img&gt;</code>
</li>
<li>
<strong>Valid xhtml</strong> : <code>&lt;img&gt;&lt;/img&gt;</code> or <code>&lt;img/&gt;</code>
</li>
</ul>
<p>Other elements that are <strong>forbidden</strong> from having a closing tag in HTML:</p>
<table>
<thead><tr>
<th>Element</th>
<th>Valid HTML</th>
<th>Valid xhtml</th>
</tr></thead>
<tbody>
<tr>
<td><strong>AREA</strong></td>
<td><code>&lt;AREA&gt;</code></td>
<td><code>&lt;AREA&gt;&lt;/AREA&gt;</code></td>
</tr>
<tr>
<td><strong>BASE</strong></td>
<td><code>&lt;BASE&gt;</code></td>
<td><code>&lt;BASE&gt;&lt;/BASE&gt;</code></td>
</tr>
<tr>
<td><strong>BASEFONT</strong></td>
<td><code>&lt;BASEFONT&gt;</code></td>
<td><code>&lt;BASEFONT&gt;&lt;/BASEFONT&gt;</code></td>
</tr>
<tr>
<td><strong>BR</strong></td>
<td><code>&lt;BR&gt;</code></td>
<td><code>&lt;BR&gt;&lt;/BR&gt;</code></td>
</tr>
<tr>
<td><strong>COL</strong></td>
<td><code>&lt;COL&gt;</code></td>
<td><code>&lt;COL&gt;&lt;/COL&gt;</code></td>
</tr>
<tr>
<td><strong>FRAME</strong></td>
<td><code>&lt;FRAME&gt;</code></td>
<td><code>&lt;FRAME&gt;&lt;/FRAME&gt;</code></td>
</tr>
<tr>
<td><strong>HR</strong></td>
<td><code>&lt;HR&gt;</code></td>
<td><code>&lt;HR&gt;&lt;/HR&gt;</code></td>
</tr>
<tr>
<td><strong>IMG</strong></td>
<td><code>&lt;IMG&gt;</code></td>
<td><code>&lt;IMG&gt;&lt;/IMG&gt;</code></td>
</tr>
<tr>
<td><strong>INPUT</strong></td>
<td><code>&lt;INPUT&gt;</code></td>
<td><code>&lt;INPUT&gt;&lt;/INPUT&gt;</code></td>
</tr>
<tr>
<td><strong>ISINDEX</strong></td>
<td><code>&lt;ISINDEX&gt;</code></td>
<td><code>&lt;ISINDEX&gt;&lt;/ISINDEX&gt;</code></td>
</tr>
<tr>
<td><strong>LINK</strong></td>
<td><code>&lt;LINK&gt;</code></td>
<td><code>&lt;LINK&gt;&lt;/LINK&gt;</code></td>
</tr>
<tr>
<td><strong>META</strong></td>
<td><code>&lt;META&gt;</code></td>
<td><code>&lt;META&gt;&lt;/META&gt;</code></td>
</tr>
<tr>
<td><strong>PARAM</strong></td>
<td><code>&lt;PARAM&gt;</code></td>
<td><code>&lt;PARAM&gt;&lt;/PARAM&gt;</code></td>
</tr>
</tbody>
</table>
<p>The fact that HTML <em>forbids</em> certain closing tags, while xhtml <em>requires</em> them
is xhtml's problem. If you're writing HTML, you follow the HTML rules.</p>
<p>At the same time, browers gave up trying to enforce the standards, because
everyone gets it wrong. It's not obvious:</p>
<ul>
<li>that <code>&lt;/BR&gt;</code> is <strong>forbidden</strong>
</li>
<li>that <code>&lt;/P&gt;</code> is <strong>optional</strong>
</li>
<li>and <code>&lt;/SPAN&gt;</code> is <strong>required</strong>
</li>
</ul>
<p>And then xhtml came along, with its XML rule that <strong>every</strong> element must have
a closing tag, and people just assumed that HTML was the same thing. So the
standards gave up, and were later revised to throw up their hands to the
reality.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-129.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-127.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

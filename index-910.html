<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 910) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-910.html">
<link rel="prev" href="index-911.html" type="text/html">
<link rel="next" href="index-909.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-convert-byte-size-into-a-human-readable-format-in-java/" class="u-url">How can I convert byte size into a human-readable format in Java?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-convert-byte-size-into-a-human-readable-format-in-java/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T19:16:43+08:00" itemprop="datePublished" title="2023-02-17 19:16">2023-02-17 19:16</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How can I convert byte size into a human-readable format in Java?</p>
<p>Like 1024 should become "1 Kb" and 1024*1024 should become "1 Mb".</p>
<p>I am kind of sick of writing this utility method for each project. Is there a
static method in Apache Commons for this?</p>
<p><br><br></p>
<h2>Answer</h2>
<blockquote>
<p><strong>Fun fact:</strong> The original snippet posted here was the most copied Java
snippet of all time on Stack Overflow, and it was flawed. It was fixed, but
it got messy.</p>
<p>Full story in this article: The most copied Stack Overflow snippet of all
time is flawed!</p>
</blockquote>
<p>Source: Formatting byte size to human readable format | Programming.Guide</p>
<h2>SI (1 k = 1,000)</h2>
<div class="code"><pre class="code literal-block"><span class="nv">public</span><span class="w"> </span><span class="nv">static</span><span class="w"> </span><span class="nv">String</span><span class="w"> </span><span class="nv">humanReadableByteCountSI</span><span class="ss">(</span><span class="nv">long</span><span class="w"> </span><span class="nv">bytes</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="o">-</span><span class="mi">1000</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nv">bytes</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nv">bytes</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">1000</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nv">bytes</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">" B"</span><span class="c1">;</span>
<span class="w">    </span>}
<span class="w">    </span><span class="nv">CharacterIterator</span><span class="w"> </span><span class="nv">ci</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">StringCharacterIterator</span><span class="ss">(</span><span class="s2">"kMGTPE"</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="ss">(</span><span class="nv">bytes</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="o">-</span><span class="mi">999</span><span class="nv">_950</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nv">bytes</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">999</span><span class="nv">_950</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">        </span><span class="nv">bytes</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="mi">1000</span><span class="c1">;</span>
<span class="w">        </span><span class="nv">ci</span>.<span class="k">next</span><span class="ss">()</span><span class="c1">;</span>
<span class="w">    </span>}
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">String</span>.<span class="nv">format</span><span class="ss">(</span><span class="s2">"%.1f %cB"</span>,<span class="w"> </span><span class="nv">bytes</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1000</span>.<span class="mi">0</span>,<span class="w"> </span><span class="nv">ci</span>.<span class="nv">current</span><span class="ss">())</span><span class="c1">;</span>
}
</pre></div>

<h2>Binary (1 Ki = 1,024)</h2>
<div class="code"><pre class="code literal-block"><span class="nv">public</span><span class="w"> </span><span class="nv">static</span><span class="w"> </span><span class="nv">String</span><span class="w"> </span><span class="nv">humanReadableByteCountBin</span><span class="ss">(</span><span class="nv">long</span><span class="w"> </span><span class="nv">bytes</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="nv">long</span><span class="w"> </span><span class="nv">absB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">bytes</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">Long</span>.<span class="nv">MIN_VALUE</span><span class="w"> </span>?<span class="w"> </span><span class="nv">Long</span>.<span class="nv">MAX_VALUE</span><span class="w"> </span>:<span class="w"> </span><span class="nv">Math</span>.<span class="nv">abs</span><span class="ss">(</span><span class="nv">bytes</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">absB</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">1024</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nv">bytes</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">" B"</span><span class="c1">;</span>
<span class="w">    </span>}
<span class="w">    </span><span class="nv">long</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">absB</span><span class="c1">;</span>
<span class="w">    </span><span class="nv">CharacterIterator</span><span class="w"> </span><span class="nv">ci</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">StringCharacterIterator</span><span class="ss">(</span><span class="s2">"KMGTPE"</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="ss">(</span><span class="nv">int</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">40</span><span class="c1">; i &gt;= 0 &amp;&amp; absB &gt; 0xfffccccccccccccL &gt;&gt; i; i -= 10) {</span>
<span class="w">        </span><span class="nv">value</span><span class="w"> </span><span class="o">&gt;&gt;=</span><span class="w"> </span><span class="mi">10</span><span class="c1">;</span>
<span class="w">        </span><span class="nv">ci</span>.<span class="k">next</span><span class="ss">()</span><span class="c1">;</span>
<span class="w">    </span>}
<span class="w">    </span><span class="nv">value</span><span class="w"> </span><span class="o">*=</span><span class="w"> </span><span class="nv">Long</span>.<span class="nv">signum</span><span class="ss">(</span><span class="nv">bytes</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">String</span>.<span class="nv">format</span><span class="ss">(</span><span class="s2">"%.1f %ciB"</span>,<span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1024</span>.<span class="mi">0</span>,<span class="w"> </span><span class="nv">ci</span>.<span class="nv">current</span><span class="ss">())</span><span class="c1">;</span>
}
</pre></div>

<h2>Example output:</h2>
<div class="code"><pre class="code literal-block">                             SI     BINARY

                  0:        0 B        0 B
                 27:       27 B       27 B
                999:      999 B      999 B
               1000:     1.0 kB     1000 B
               1023:     1.0 kB     1023 B
               1024:     1.0 kB    1.0 KiB
               1728:     1.7 kB    1.7 KiB
             110592:   110.6 kB  108.0 KiB
            7077888:     7.1 MB    6.8 MiB
          452984832:   453.0 MB  432.0 MiB
        28991029248:    29.0 GB   27.0 GiB
      1855425871872:     1.9 TB    1.7 TiB
9223372036854775807:     9.2 EB    8.0 EiB   (Long.MAX_VALUE)
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p><code>FileUtils.byteCountToDisplaySize(long size)</code> would work if your project can
depend on <code>org.apache.commons.io</code>.</p>
<p>JavaDoc for this method</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-open-the-google-play-store-directly-from-my-android-application/" class="u-url">How to open the Google Play Store directly from my Android application?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-open-the-google-play-store-directly-from-my-android-application/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T19:16:11+08:00" itemprop="datePublished" title="2023-02-17 19:16">2023-02-17 19:16</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have open the Google Play store using the following code</p>
<div class="code"><pre class="code literal-block"><span class="nt">Intent</span><span class="w"> </span><span class="nt">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">new</span><span class="w"> </span><span class="nt">Intent</span><span class="o">(</span><span class="nt">android</span><span class="p">.</span><span class="nc">content</span><span class="p">.</span><span class="nc">Intent</span><span class="p">.</span><span class="nc">ACTION_VIEW</span><span class="o">);</span>
<span class="nt">i</span><span class="p">.</span><span class="nc">setData</span><span class="o">(</span><span class="nt">Uri</span><span class="p">.</span><span class="nc">parse</span><span class="o">(</span><span class="s2">"https://play.google.com/store/apps/details?id=my packagename "</span><span class="o">));</span>
<span class="nt">startActivity</span><span class="o">(</span><span class="nt">i</span><span class="o">);.</span>
</pre></div>

<p>But it shows me a Complete Action View as to select the option (browser/play
store). I need to open the application in Play Store directly.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can do this using the <code>market://</code> prefix.</p>
<h3>Java</h3>
<div class="code"><pre class="code literal-block"><span class="nt">final</span><span class="w"> </span><span class="nt">String</span><span class="w"> </span><span class="nt">appPackageName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">getPackageName</span><span class="o">();</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="nt">getPackageName</span><span class="o">()</span><span class="w"> </span><span class="nt">from</span><span class="w"> </span><span class="nt">Context</span><span class="w"> </span><span class="nt">or</span><span class="w"> </span><span class="nt">Activity</span><span class="w"> </span><span class="nt">object</span>
<span class="nt">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">startActivity(new</span><span class="w"> </span><span class="err">Intent(Intent.ACTION_VIEW,</span><span class="w"> </span><span class="err">Uri.parse("</span><span class="n">market</span><span class="p">:</span><span class="o">//</span><span class="n">details</span><span class="o">?</span><span class="n">id</span><span class="o">=</span><span class="s2">" + appPackageName)));</span>
<span class="s2">} catch (android.content.ActivityNotFoundException anfe) {</span>
<span class="s2">    startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse("</span><span class="n">https</span><span class="o">://</span><span class="n">play</span><span class="o">.</span><span class="n">google</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">store</span><span class="o">/</span><span class="n">apps</span><span class="o">/</span><span class="n">details</span><span class="o">?</span><span class="n">id</span><span class="o">=</span><span class="err">"</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">appPackageName</span><span class="p">)));</span>
<span class="p">}</span>
</pre></div>

<h3>Kotlin</h3>
<div class="code"><pre class="code literal-block">try {
    startActivity(Intent(Intent.ACTION_VIEW, Uri.parse("market://details?id=$packageName")))
} catch (e: ActivityNotFoundException) {
    startActivity(Intent(Intent.ACTION_VIEW, Uri.parse("https://play.google.com/store/apps/details?id=$packageName")))
}
</pre></div>

<p>We use a <code>try/catch</code> block here because an <code>Exception</code> will be thrown if the
Play Store is not installed on the target device.</p>
<p><strong>NOTE</strong> : Any app can register as capable of handling the
<code>market://details?id=&lt;appId&gt;</code> URI. If you want to specifically target Google
Play, the solution in <em>Berťák</em> 's answer is a good alternative.</p>
<p><br></p>
<h3>Suggest</h3>
<p><strong>Many answers here suggest to use</strong> <code>Uri.parse("market://details?id=" +
appPackageName))</code> <strong>to open Google Play, but I think it is insufficient</strong> in
fact:</p>
<p><strong>Some third-party applications can use its own intent-filters
with<code>"market://"</code> scheme defined</strong>, thus they can process supplied Uri instead
of Google Play (I experienced this situation with e.g.SnapPea application).
The question is "How to open the Google Play Store?", so I assume, that you do
not want to open any other application. Please also note, that e.g. app rating
is only relevant in GP Store app etc...</p>
<p><strong>To open Google Play AND ONLY Google Play I use this method:</strong></p>
<div class="code"><pre class="code literal-block"><span class="k">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">void</span><span class="w"> </span><span class="n">openAppRating</span><span class="p">(</span><span class="n">Context</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="k">use</span><span class="w"> </span><span class="n">BuildConfig</span><span class="p">.</span><span class="n">APPLICATION_ID</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">appId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="n">getPackageName</span><span class="p">();</span>
<span class="w">    </span><span class="n">Intent</span><span class="w"> </span><span class="n">rateIntent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Intent</span><span class="p">(</span><span class="n">Intent</span><span class="p">.</span><span class="n">ACTION_VIEW</span><span class="p">,</span>
<span class="w">        </span><span class="n">Uri</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="ss">"market://details?id="</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">appId</span><span class="p">));</span>
<span class="w">    </span><span class="k">boolean</span><span class="w"> </span><span class="n">marketFound</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">false</span><span class="p">;</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">find</span><span class="w"> </span><span class="ow">all</span><span class="w"> </span><span class="n">applications</span><span class="w"> </span><span class="n">able</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">handle</span><span class="w"> </span><span class="n">our</span><span class="w"> </span><span class="n">rateIntent</span>
<span class="w">    </span><span class="n">final</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">ResolveInfo</span><span class="o">&gt;</span><span class="w"> </span><span class="n">otherApps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="n">getPackageManager</span><span class="p">()</span>
<span class="w">        </span><span class="p">.</span><span class="n">queryIntentActivities</span><span class="p">(</span><span class="n">rateIntent</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">ResolveInfo</span><span class="w"> </span><span class="nl">otherApp</span><span class="p">:</span><span class="w"> </span><span class="n">otherApps</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="n">look</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">Google</span><span class="w"> </span><span class="n">Play</span><span class="w"> </span><span class="n">application</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">otherApp</span><span class="p">.</span><span class="n">activityInfo</span><span class="p">.</span><span class="n">applicationInfo</span><span class="p">.</span><span class="n">packageName</span>
<span class="w">                </span><span class="p">.</span><span class="k">equals</span><span class="p">(</span><span class="ss">"com.android.vending"</span><span class="p">))</span><span class="w"> </span><span class="err">{</span>

<span class="w">            </span><span class="n">ActivityInfo</span><span class="w"> </span><span class="n">otherAppActivity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">otherApp</span><span class="p">.</span><span class="n">activityInfo</span><span class="p">;</span>
<span class="w">            </span><span class="n">ComponentName</span><span class="w"> </span><span class="n">componentName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ComponentName</span><span class="p">(</span>
<span class="w">                    </span><span class="n">otherAppActivity</span><span class="p">.</span><span class="n">applicationInfo</span><span class="p">.</span><span class="n">packageName</span><span class="p">,</span>
<span class="w">                    </span><span class="n">otherAppActivity</span><span class="p">.</span><span class="n">name</span>
<span class="w">                    </span><span class="p">);</span>
<span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">sure</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">NOT</span><span class="w"> </span><span class="k">open</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">stack</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">activity</span>
<span class="w">            </span><span class="n">rateIntent</span><span class="p">.</span><span class="n">addFlags</span><span class="p">(</span><span class="n">Intent</span><span class="p">.</span><span class="n">FLAG_ACTIVITY_NEW_TASK</span><span class="p">);</span>
<span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="n">task</span><span class="w"> </span><span class="n">reparenting</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">needed</span>
<span class="w">            </span><span class="n">rateIntent</span><span class="p">.</span><span class="n">addFlags</span><span class="p">(</span><span class="n">Intent</span><span class="p">.</span><span class="n">FLAG_ACTIVITY_RESET_TASK_IF_NEEDED</span><span class="p">);</span>
<span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">Google</span><span class="w"> </span><span class="n">Play</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">already</span><span class="w"> </span><span class="k">open</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">search</span><span class="w"> </span><span class="k">result</span>
<span class="w">            </span><span class="o">//</span><span class="w">  </span><span class="n">this</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">sure</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">still</span><span class="w"> </span><span class="k">go</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">app</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">requested</span>
<span class="w">            </span><span class="n">rateIntent</span><span class="p">.</span><span class="n">addFlags</span><span class="p">(</span><span class="n">Intent</span><span class="p">.</span><span class="n">FLAG_ACTIVITY_CLEAR_TOP</span><span class="p">);</span>
<span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">sure</span><span class="w"> </span><span class="k">only</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">Google</span><span class="w"> </span><span class="n">Play</span><span class="w"> </span><span class="n">app</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="k">to</span>
<span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="n">intercept</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">intent</span>
<span class="w">            </span><span class="n">rateIntent</span><span class="p">.</span><span class="n">setComponent</span><span class="p">(</span><span class="n">componentName</span><span class="p">);</span>
<span class="w">            </span><span class="n">context</span><span class="p">.</span><span class="n">startActivity</span><span class="p">(</span><span class="n">rateIntent</span><span class="p">);</span>
<span class="w">            </span><span class="n">marketFound</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">true</span><span class="p">;</span>
<span class="w">            </span><span class="k">break</span><span class="p">;</span>

<span class="w">        </span><span class="err">}</span>
<span class="w">    </span><span class="err">}</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">GP</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">present</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">device</span><span class="p">,</span><span class="w"> </span><span class="k">open</span><span class="w"> </span><span class="n">web</span><span class="w"> </span><span class="n">browser</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="err">!</span><span class="n">marketFound</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">Intent</span><span class="w"> </span><span class="n">webIntent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Intent</span><span class="p">(</span><span class="n">Intent</span><span class="p">.</span><span class="n">ACTION_VIEW</span><span class="p">,</span>
<span class="w">            </span><span class="n">Uri</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="ss">"https://play.google.com/store/apps/details?id="</span><span class="o">+</span><span class="n">appId</span><span class="p">));</span>
<span class="w">        </span><span class="n">context</span><span class="p">.</span><span class="n">startActivity</span><span class="p">(</span><span class="n">webIntent</span><span class="p">);</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>
</pre></div>

<p>The point is that when more applications beside Google Play can open our
intent, app-chooser dialog is skipped and GP app is started directly.</p>
<p><strong>UPDATE:</strong> Sometimes it seems that it opens GP app only, without opening the
app's profile. As TrevorWiley suggested in his comment,
<code>Intent.FLAG_ACTIVITY_CLEAR_TOP</code> could fix the problem. (I didn't test it
myself yet...)</p>
<p>See this answer for understanding what
<code>Intent.FLAG_ACTIVITY_RESET_TASK_IF_NEEDED</code> does.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-update-a-pull-request-from-forked-repo/" class="u-url">How to update a pull request from forked repo?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-update-a-pull-request-from-forked-repo/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T19:15:47+08:00" itemprop="datePublished" title="2023-02-17 19:15">2023-02-17 19:15</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>So I first forked a repo and then made a commit to that forked repo. I then
opened a pull request. The pull request listed all the changes I wanted.</p>
<p>After reviewing my pull request, there were a number of changes that the repo
owner wanted me to make before he accepted it. I have made those changes in my
fork, now how do I update the pull request with those changes (or is this not
how I should handle it)?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You have done it correctly. The pull request will automatically update. The
process is:</p>
<ol>
<li>Open pull request</li>
<li>Commit changes based on feedback in your local repo</li>
<li>Push to the relevant branch of your fork</li>
</ol>
<p>The pull request will automatically add the new commits to the <code>Commits</code> tab
of the PR.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Updating a pull request in GitHub is as easy as committing the wanted changes
into existing branch (that was used with pull request), but often it is also
wanted to squash the changes into single commit:</p>
<div class="code"><pre class="code literal-block">git checkout yourbranch
git rebase -i origin/master

# Edit command names accordingly
  pick   1fc6c95 My pull request
  squash 6b2481b Hack hack - will be discarded
  squash dd1475d Also discarded

git push -f origin yourbranch
</pre></div>

<p>...and now the pull request contains only one commit.</p>
<hr>
<p>Related links about rebasing:</p>
<ul>
<li>https://help.github.com/articles/about-git-rebase</li>
<li>Squash all my commits into one for GitHub pull request</li>
</ul>
</div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-911.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-909.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

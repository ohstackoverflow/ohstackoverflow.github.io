<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1313) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1313.html">
<link rel="prev" href="index-1314.html" type="text/html">
<link rel="next" href="index-1312.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/flatten-an-irregular-arbitrarily-nested-list-of-lists/" class="u-url">Flatten an irregular (arbitrarily nested) list of lists</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/flatten-an-irregular-arbitrarily-nested-list-of-lists/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T06:24:26+08:00" itemprop="datePublished" title="2023-02-18 06:24">2023-02-18 06:24</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Yes, I know this subject has been covered before:</p>
<ul>
<li>Python idiom to chain (flatten) an infinite iterable of finite iterables?</li>
<li>Flattening a shallow list in Python</li>
<li>Comprehension for flattening a sequence of sequences?</li>
<li>How do I make a flat list out of a list of lists?</li>
</ul>
<p>but as far as I know, all solutions, except for one, fail on a list like
<code>[[[1, 2, 3], [4, 5]], 6]</code>, where the desired output is <code>[1, 2, 3, 4, 5, 6]</code>
(or perhaps even better, an iterator).</p>
<p>The only solution I saw that works for an arbitrary nesting is found in this
question:</p>
<div class="code"><pre class="code literal-block"><span class="nv">def</span><span class="w"> </span><span class="nv">flatten</span><span class="ss">(</span><span class="nv">x</span><span class="ss">)</span>:
<span class="w">    </span><span class="nb">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[]
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="nv">el</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">x</span>:
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nv">hasattr</span><span class="ss">(</span><span class="nv">el</span>,<span class="w"> </span><span class="s2">"__iter__"</span><span class="ss">)</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="nv">not</span><span class="w"> </span><span class="nv">isinstance</span><span class="ss">(</span><span class="nv">el</span>,<span class="w"> </span><span class="nv">basestring</span><span class="ss">)</span>:
<span class="w">            </span><span class="nb">result</span>.<span class="nv">extend</span><span class="ss">(</span><span class="nv">flatten</span><span class="ss">(</span><span class="nv">el</span><span class="ss">))</span>
<span class="w">        </span><span class="k">else</span>:
<span class="w">            </span><span class="nb">result</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">el</span><span class="ss">)</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">result</span>
</pre></div>

<p>Is this the best approach? Did I overlook something? Any problems?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Using generator functions can make your example easier to read and improve
performance.</p>
<h4>Python 2</h4>
<p>Using the <code>Iterable</code> ABC added in 2.6:</p>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Iterable</span>

<span class="k">def</span> <span class="nf">flatten</span><span class="p">(</span><span class="n">xs</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">xs</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">basestring</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">flatten</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
                <span class="k">yield</span> <span class="n">item</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">x</span>
</pre></div>

<h4>Python 3</h4>
<p>In Python 3, <code>basestring</code> is no more, but the tuple <code>(str, bytes)</code> gives the
same effect. Also, the <code>yield from</code> operator returns an item from a generator
one at a time.</p>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">collections.abc</span> <span class="kn">import</span> <span class="n">Iterable</span>

<span class="k">def</span> <span class="nf">flatten</span><span class="p">(</span><span class="n">xs</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">xs</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">)):</span>
            <span class="k">yield from</span> <span class="n">flatten</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">x</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>My solution:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">collections</span>


<span class="k">def</span> <span class="nf">flatten</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Iterable</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">a</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">flatten</span><span class="p">(</span><span class="n">i</span><span class="p">)]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">x</span><span class="p">]</span>
</pre></div>

<p>A little more concise, but pretty much the same.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-apply-unmerged-upstream-pull-requests-from-other-forks-into-my-fork/" class="u-url">How to apply unmerged upstream pull requests from other forks into my fork?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-apply-unmerged-upstream-pull-requests-from-other-forks-into-my-fork/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T06:24:01+08:00" itemprop="datePublished" title="2023-02-18 06:24">2023-02-18 06:24</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>A project on GitHub that I have a fork of has a new pull requests that I want
to pull into my fork that the author has not pulled in yet.</p>
<p>Is there a simple way to apply pull request from other forks into my fork? Is
there something else here that I am missing?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can do it manually quite easily:</p>
<ul>
<li>
<p>add the other fork as a remote of your repo: </p>
<div class="code"><pre class="code literal-block">git remote add otherfork git://github.com/request-author/project.git
</pre></div>

</li>
<li>
<p>fetch his repo's commits</p>
<div class="code"><pre class="code literal-block">git fetch otherfork
</pre></div>

</li>
<li>
<p>You have then two options to apply the pull request (if you don't want to choose pick 1.)</p>
<ol>
<li>
<p>If you don't care about applying also the eventual commits that have been added between the origin and the pull request, you can just rebase the branch on which the pull request was formed</p>
<div class="code"><pre class="code literal-block">    git rebase master otherfork/pullrequest-branch
</pre></div>

</li>
<li>
<p>If you only want the commits in the pull request, identify their SHA1 and do</p>
<div class="code"><pre class="code literal-block">    git cherry-pick &lt;first-SHA1&gt; &lt;second-SHA1&gt; &lt;etc.&gt;
</pre></div>

</li>
</ol>
</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<p>You can do it manually quite easily:</p>
<ul>
<li>
<p>add the other fork as a remote of your repo: </p>
<div class="code"><pre class="code literal-block">git remote add otherfork git://github.com/request-author/project.git
</pre></div>

</li>
<li>
<p>fetch his repo's commits</p>
<div class="code"><pre class="code literal-block">git fetch otherfork
</pre></div>

</li>
<li>
<p>You have then two options to apply the pull request (if you don't want to choose pick 1.)</p>
<ol>
<li>
<p>If you don't care about applying also the eventual commits that have been added between the origin and the pull request, you can just rebase the branch on which the pull request was formed</p>
<div class="code"><pre class="code literal-block">    git rebase master otherfork/pullrequest-branch
</pre></div>

</li>
<li>
<p>If you only want the commits in the pull request, identify their SHA1 and do</p>
<div class="code"><pre class="code literal-block">    git cherry-pick &lt;first-SHA1&gt; &lt;second-SHA1&gt; &lt;etc.&gt;
</pre></div>

</li>
</ol>
</li>
</ul>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/tricks-to-manage-the-available-memory-in-an-r-session/" class="u-url">Tricks to manage the available memory in an R session</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/tricks-to-manage-the-available-memory-in-an-r-session/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T06:23:32+08:00" itemprop="datePublished" title="2023-02-18 06:23">2023-02-18 06:23</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What tricks do people use to manage the available memory of an interactive R
session? I use the functions below [based on postings by Petr Pikal and David
Hinds to the r-help list in 2004] to list (and/or sort) the largest objects
and to occassionally <code>rm()</code> some of them. But by far the most effective
solution was ... to run under 64-bit Linux with ample memory.</p>
<p>Any other nice tricks folks want to share? One per post, please.</p>
<div class="code"><pre class="code literal-block"><span class="err">#</span><span class="w"> </span><span class="n">improved</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">objects</span>
<span class="p">.</span><span class="n">ls</span><span class="p">.</span><span class="n">objects</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="p">(</span><span class="n">pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">pattern</span><span class="p">,</span><span class="w"> </span><span class="k">order</span><span class="p">.</span><span class="k">by</span><span class="p">,</span>
<span class="w">                        </span><span class="n">decreasing</span><span class="o">=</span><span class="k">FALSE</span><span class="p">,</span><span class="w"> </span><span class="n">head</span><span class="o">=</span><span class="k">FALSE</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">napply</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="k">names</span><span class="p">,</span><span class="w"> </span><span class="n">fn</span><span class="p">)</span><span class="w"> </span><span class="n">sapply</span><span class="p">(</span><span class="k">names</span><span class="p">,</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="w">                                         </span><span class="n">fn</span><span class="p">(</span><span class="k">get</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pos</span><span class="p">)))</span>
<span class="w">    </span><span class="k">names</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ls</span><span class="p">(</span><span class="n">pos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pos</span><span class="p">,</span><span class="w"> </span><span class="n">pattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pattern</span><span class="p">)</span>
<span class="w">    </span><span class="n">obj</span><span class="p">.</span><span class="k">class</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">napply</span><span class="p">(</span><span class="k">names</span><span class="p">,</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="p">.</span><span class="k">character</span><span class="p">(</span><span class="k">class</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">[</span><span class="n">1</span><span class="o">]</span><span class="p">)</span>
<span class="w">    </span><span class="n">obj</span><span class="p">.</span><span class="n">mode</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">napply</span><span class="p">(</span><span class="k">names</span><span class="p">,</span><span class="w"> </span><span class="n">mode</span><span class="p">)</span>
<span class="w">    </span><span class="n">obj</span><span class="p">.</span><span class="n">type</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ifelse</span><span class="p">(</span><span class="k">is</span><span class="p">.</span><span class="n">na</span><span class="p">(</span><span class="n">obj</span><span class="p">.</span><span class="k">class</span><span class="p">),</span><span class="w"> </span><span class="n">obj</span><span class="p">.</span><span class="n">mode</span><span class="p">,</span><span class="w"> </span><span class="n">obj</span><span class="p">.</span><span class="k">class</span><span class="p">)</span>
<span class="w">    </span><span class="n">obj</span><span class="p">.</span><span class="k">size</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">napply</span><span class="p">(</span><span class="k">names</span><span class="p">,</span><span class="w"> </span><span class="k">object</span><span class="p">.</span><span class="k">size</span><span class="p">)</span>
<span class="w">    </span><span class="n">obj</span><span class="p">.</span><span class="n">dim</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">t</span><span class="p">(</span><span class="n">napply</span><span class="p">(</span><span class="k">names</span><span class="p">,</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="w">                        </span><span class="k">as</span><span class="p">.</span><span class="nc">numeric</span><span class="p">(</span><span class="n">dim</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">[</span><span class="n">1:2</span><span class="o">]</span><span class="p">))</span>
<span class="w">    </span><span class="n">vec</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">is</span><span class="p">.</span><span class="n">na</span><span class="p">(</span><span class="n">obj</span><span class="p">.</span><span class="n">dim</span><span class="p">)</span><span class="o">[</span><span class="n">, 1</span><span class="o">]</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">obj</span><span class="p">.</span><span class="n">type</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="ss">"function"</span><span class="p">)</span>
<span class="w">    </span><span class="n">obj</span><span class="p">.</span><span class="n">dim</span><span class="o">[</span><span class="n">vec, 1</span><span class="o">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">napply</span><span class="p">(</span><span class="k">names</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="p">)</span><span class="o">[</span><span class="n">vec</span><span class="o">]</span>
<span class="w">    </span><span class="k">out</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">data</span><span class="p">.</span><span class="n">frame</span><span class="p">(</span><span class="n">obj</span><span class="p">.</span><span class="n">type</span><span class="p">,</span><span class="w"> </span><span class="n">obj</span><span class="p">.</span><span class="k">size</span><span class="p">,</span><span class="w"> </span><span class="n">obj</span><span class="p">.</span><span class="n">dim</span><span class="p">)</span>
<span class="w">    </span><span class="k">names</span><span class="p">(</span><span class="k">out</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">c</span><span class="p">(</span><span class="ss">"Type"</span><span class="p">,</span><span class="w"> </span><span class="ss">"Size"</span><span class="p">,</span><span class="w"> </span><span class="ss">"Rows"</span><span class="p">,</span><span class="w"> </span><span class="ss">"Columns"</span><span class="p">)</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="err">!</span><span class="n">missing</span><span class="p">(</span><span class="k">order</span><span class="p">.</span><span class="k">by</span><span class="p">))</span>
<span class="w">        </span><span class="k">out</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">out</span><span class="o">[</span><span class="n">order(out[[order.by</span><span class="o">]</span><span class="err">]</span><span class="p">,</span><span class="w"> </span><span class="n">decreasing</span><span class="o">=</span><span class="n">decreasing</span><span class="p">),</span><span class="w"> </span><span class="err">]</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">head</span><span class="p">)</span>
<span class="w">        </span><span class="k">out</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">head</span><span class="p">(</span><span class="k">out</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">)</span>
<span class="w">    </span><span class="k">out</span>
<span class="err">}</span>
<span class="err">#</span><span class="w"> </span><span class="n">shorthand</span>
<span class="n">lsos</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(...,</span><span class="w"> </span><span class="n">n</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="p">.</span><span class="n">ls</span><span class="p">.</span><span class="n">objects</span><span class="p">(...,</span><span class="w"> </span><span class="k">order</span><span class="p">.</span><span class="k">by</span><span class="o">=</span><span class="ss">"Size"</span><span class="p">,</span><span class="w"> </span><span class="n">decreasing</span><span class="o">=</span><span class="k">TRUE</span><span class="p">,</span><span class="w"> </span><span class="n">head</span><span class="o">=</span><span class="k">TRUE</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">)</span>
<span class="err">}</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>To further illustrate the common strategy of frequent restarts, we can use
littler which allows us to run simple expressions directly from the command-
line. Here is an example I sometimes use to time different BLAS for a simple
crossprod.</p>
<div class="code"><pre class="code literal-block"> r -e'N&lt;-3*10^3; M&lt;-matrix(rnorm(N*N),ncol=N); print(system.time(crossprod(M)))'
</pre></div>

<p>Likewise,</p>
<div class="code"><pre class="code literal-block"> r -lMatrix -e'example(spMatrix)'
</pre></div>

<p>loads the Matrix package (via the --packages | -l switch) and runs the
examples of the spMatrix function. As r always starts 'fresh', this method is
also a good test during package development.</p>
<p>Last but not least r also work great for automated batch mode in scripts using
the '#!/usr/bin/r' shebang-header. Rscript is an alternative where littler is
unavailable (e.g. on Windows).</p>
<p><br></p>
<h3>Suggest</h3>
<p>I use the data.table package. With its <code>:=</code> operator you can :</p>
<ul>
<li>Add columns by reference</li>
<li>Modify subsets of existing columns by reference, and by group by reference</li>
<li>Delete columns by reference</li>
</ul>
<p>None of these operations copy the (potentially large) <code>data.table</code> at all, not
even once.</p>
<ul>
<li>Aggregation is also particularly fast because <code>data.table</code> uses much less working memory.</li>
</ul>
<p>Related links :</p>
<ul>
<li>News from data.table, London R presentation, 2012</li>
<li>When should I use the <code>:=</code> operator in data.table?</li>
</ul>
</div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1314.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1312.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

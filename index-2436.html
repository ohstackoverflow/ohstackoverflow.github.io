<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2436) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2436.html">
<link rel="prev" href="index-2437.html" type="text/html">
<link rel="next" href="index-2435.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-underlies-this-javascript-idiom-var-self-this/" class="u-url">What underlies this JavaScript idiom: var self = this?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-underlies-this-javascript-idiom-var-self-this/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T16:01:30+08:00" itemprop="datePublished" title="2023-03-04 16:01">2023-03-04 16:01</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I saw the following in the source for WebKit HTML 5 SQL Storage Notes Demo:</p>
<div class="code"><pre class="code literal-block"><span class="n">function</span><span class="w"> </span><span class="n">Note</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="bp">self</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">this</span><span class="p">;</span>

<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">note</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">document</span><span class="o">.</span><span class="n">createElement</span><span class="p">(</span><span class="s1">'div'</span><span class="p">);</span>
<span class="w">  </span><span class="n">note</span><span class="o">.</span><span class="n">className</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'note'</span><span class="p">;</span>
<span class="w">  </span><span class="n">note</span><span class="o">.</span><span class="n">addEventListener</span><span class="p">(</span><span class="s1">'mousedown'</span><span class="p">,</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">onMouseDown</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="bp">false</span><span class="p">);</span>
<span class="w">  </span><span class="n">note</span><span class="o">.</span><span class="n">addEventListener</span><span class="p">(</span><span class="s1">'click'</span><span class="p">,</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">onNoteClick</span><span class="p">()</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="bp">false</span><span class="p">);</span>
<span class="w">  </span><span class="n">this</span><span class="o">.</span><span class="n">note</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">note</span><span class="p">;</span>
<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="o">...</span>
<span class="p">}</span>
</pre></div>

<p>The author uses <em>self</em> in some places (the function body) and <em>this</em> in other
places (the bodies of functions defined in the argument list of methods).
What's going on? Now that I've noticed it once, will I start seeing it
everywhere?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>See this article on alistapart.com. (Ed: The article has been updated since
originally linked)</p>
<p><code>self</code> is being used to maintain a reference to the original <code>this</code> even as
the context is changing. It's a technique often used in event handlers
(especially in closures).</p>
<p><strong>Edit:</strong> Note that using <code>self</code> is now discouraged as <code>window.self</code> exists
and has the potential to cause errors if you are not careful.</p>
<p>What you call the variable doesn't particularly matter. <code>var that = this;</code> is
fine, but there's nothing magic about the name.</p>
<p>Functions declared inside a context (e.g. callbacks, closures) will have
access to the variables/function declared in the same scope or above.</p>
<p>For example, a simple event callback:</p>
<div class="code"><pre class="code literal-block"><span class="nt">function</span><span class="w"> </span><span class="nt">MyConstructor</span><span class="o">(</span><span class="nt">options</span><span class="o">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="err">let</span><span class="w"> </span><span class="err">that</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">this</span><span class="p">;</span>

<span class="w">  </span><span class="err">this.someprop</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">options.someprop</span><span class="w"> </span><span class="err">||</span><span class="w"> </span><span class="err">'defaultprop'</span><span class="p">;</span>

<span class="w">  </span><span class="err">document.addEventListener('click',</span><span class="w"> </span><span class="err">(event)</span><span class="w"> </span><span class="err">=&gt;</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="err">alert(that.someprop)</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span><span class="o">);</span>
<span class="err">}</span>

<span class="nt">new</span><span class="w"> </span><span class="nt">MyConstructor</span><span class="o">(</span><span class="p">{</span>
<span class="w">  </span><span class="n">someprop</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello World"</span>
<span class="p">}</span><span class="o">);</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>I think the variable name 'self' should not be used this way anymore, since
modern browsers provide a global variable <code>self</code> pointing to the global object
of either a normal window or a WebWorker.</p>
<p>To avoid confusion and potential conflicts, you can write <code>var thiz = this</code> or
<code>var that = this</code> instead.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/fit-cell-width-to-content/" class="u-url">Fit cell width to content</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/fit-cell-width-to-content/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T16:00:11+08:00" itemprop="datePublished" title="2023-03-04 16:00">2023-03-04 16:00</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Given the following markup, how could I use CSS to force one cell (all cells
in column) to fit to the width of the content within it rather than stretch
(which is the default behaviour)?</p>
<div class="code"><pre class="code literal-block">td.block<span class="w"> </span>{
<span class="w">  </span>border:<span class="w"> </span>1px<span class="w"> </span>solid<span class="w"> </span>black;
}


<span class="nt">&lt;table</span><span class="w"> </span><span class="na">style=</span><span class="s">"width: 100%;"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;tr&gt;</span>
<span class="w">    </span><span class="nt">&lt;td</span><span class="w"> </span><span class="na">class=</span><span class="s">"block"</span><span class="nt">&gt;</span>this<span class="w"> </span>should<span class="w"> </span>stretch<span class="nt">&lt;/td&gt;</span>
<span class="w">    </span><span class="nt">&lt;td</span><span class="w"> </span><span class="na">class=</span><span class="s">"block"</span><span class="nt">&gt;</span>this<span class="w"> </span>should<span class="w"> </span>stretch<span class="nt">&lt;/td&gt;</span>
<span class="w">    </span><span class="nt">&lt;td</span><span class="w"> </span><span class="na">class=</span><span class="s">"block"</span><span class="nt">&gt;</span>this<span class="w"> </span>should<span class="w"> </span>be<span class="w"> </span>the<span class="w"> </span>content<span class="w"> </span>width<span class="nt">&lt;/td&gt;</span>
<span class="w">  </span><span class="nt">&lt;/tr&gt;</span>
<span class="nt">&lt;/table&gt;</span>
</pre></div>

<p>I realize I could hard code the width, but I'd rather not do that, as the
content which will go in that column is dynamic.</p>
<p>Looking at the image below, the first image is what the markup produces. The
second image is what I want.</p>
<p><img alt="enter image description here" src="images/stdKt.png"></p>
<p><br><br></p>
<h2>Answer</h2>
<p>I'm not sure if I understand your question, but I'll take a stab at it:</p>
<div class="code"><pre class="code literal-block">td<span class="w"> </span>{
<span class="w">    </span>border:<span class="w"> </span>1px<span class="w"> </span>solid<span class="w"> </span>#000;
}

tr<span class="w"> </span>td:last-child<span class="w"> </span>{
<span class="w">    </span>width:<span class="w"> </span>1%;
<span class="w">    </span>white-space:<span class="w"> </span>nowrap;
}


<span class="nt">&lt;table</span><span class="w"> </span><span class="na">style=</span><span class="s">"width: 100%;"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;tr&gt;</span>
<span class="w">        </span><span class="nt">&lt;td</span><span class="w"> </span><span class="na">class=</span><span class="s">"block"</span><span class="nt">&gt;</span>this<span class="w"> </span>should<span class="w"> </span>stretch<span class="nt">&lt;/td&gt;</span>
<span class="w">        </span><span class="nt">&lt;td</span><span class="w"> </span><span class="na">class=</span><span class="s">"block"</span><span class="nt">&gt;</span>this<span class="w"> </span>should<span class="w"> </span>stretch<span class="nt">&lt;/td&gt;</span>
<span class="w">        </span><span class="nt">&lt;td</span><span class="w"> </span><span class="na">class=</span><span class="s">"block"</span><span class="nt">&gt;</span>this<span class="w"> </span>should<span class="w"> </span>be<span class="w"> </span>the<span class="w"> </span>content<span class="w"> </span>width<span class="nt">&lt;/td&gt;</span>
<span class="w">    </span><span class="nt">&lt;/tr&gt;</span>
<span class="nt">&lt;/table&gt;</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Setting</p>
<div class="code"><pre class="code literal-block"><span class="nt">max-width</span><span class="p">:</span><span class="nd">100</span><span class="o">%;</span>
<span class="nt">white-space</span><span class="p">:</span><span class="nd">nowrap</span><span class="o">;</span>
</pre></div>

<p>will solve your problem.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-keep-a-branch-synchronized-updated-with-master/" class="u-url">How to keep a branch synchronized/updated with master?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-keep-a-branch-synchronized-updated-with-master/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T15:58:48+08:00" itemprop="datePublished" title="2023-03-04 15:58">2023-03-04 15:58</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>At the moment git is doing my head in, I cannot come up with the best solution
for the following.</p>
<p>There are two branches, one called <strong>master</strong> and one called
<strong>mobiledevicesupport</strong>. I want to keep mobiledevicesupport as a continuous
branch that will be merged/synced with the master branch whenever
mobiledevicesupport is stable. This would merge changes from
mobiledevicesupport into master but also bring all the changes from master
into mobiledevicesupport so that branch can continue to be worked on and the
features improved or amended. This needs to work with a central repository and
multiple developers.</p>
<p>Please an example of similar workflows other people use or just tell me if
this idea is stupid and I should consider other options. At the moment the
workflow seems sound, but I just don't know how I can make git work this way.</p>
<p>Thanks, all help much appreciated.</p>
<p>Update 1: If I was to merge master into mobiledevicesupport and mobiledevice
support into master, do I get replicated commits across both branches. Or is
git smart enough to work out that I have pulled the latest changes from branch
A into branch B and add merge commit C to branch B. And I have pulled the
latest changes from branch B into branch A and add merge commit D to branch A?</p>
<p>I was going to post an image but I don't have enough reputation for it, so I
guess the following illustration will have to do. Two branches continuously
running with merges going both directions often. The key thing I am not sure
about is how git will play out the commits and will it fill either branch with
the commits from the other branch on merges or will it stay clean. I have used
rebase before but it seems to end the branch and put all the commits into the
master, or I did it wrong. Thanks for the help so far.</p>
<div class="code"><pre class="code literal-block">master
A--B--C-----H--I--J--M--N
       \   /    \
mobile  \ /      \
D--E--F--G--------K--L
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>Yes, just do:</p>
<div class="code"><pre class="code literal-block">git checkout master
git pull
git checkout mobiledevicesupport
git merge master
</pre></div>

<p>to keep mobiledevicesupport in sync with master.</p>
<p>Then, when you're ready to put mobiledevicesupport into master, first, merge
in master like above, then:</p>
<div class="code"><pre class="code literal-block">git checkout master
git merge mobiledevicesupport
git push origin master
</pre></div>

<p>and that's it.</p>
<p>The assumption here is that mobilexxx is a topic branch with work that isn't
ready to go into your main branch yet. So only merge into master when
mobiledevicesupport is in a good place.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Whenever you want to get the changes from master into your work branch, do a
<code>git rebase &lt;remote&gt;/master</code>. If there are any conflicts. resolve them.</p>
<p>When your work branch is ready, rebase again and then do <code>git push &lt;remote&gt;
HEAD:master</code>. This will update the master branch on remote (central repo).</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2437.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2435.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

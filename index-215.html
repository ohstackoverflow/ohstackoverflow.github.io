<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 215) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-215.html">
<link rel="prev" href="index-216.html" type="text/html">
<link rel="next" href="index-214.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/why-do-python-classes-inherit-object/" class="u-url">Why do Python classes inherit object?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/why-do-python-classes-inherit-object/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T01:06:39+08:00" itemprop="datePublished" title="2023-02-17 01:06">2023-02-17 01:06</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Why does the following class declaration inherit from <code>object</code>?</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span> <span class="n">MyClass</span>(<span class="n">object</span>):
    ...
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<blockquote>
<h4>Is there any reason for a class declaration to inherit from <code>object</code>?</h4>
</blockquote>
<p>In Python 3, apart from compatibility between Python 2 and 3, <em>no reason</em>. In
Python 2, <em>many reasons</em>.</p>
<hr>
<h4>Python 2.x story:</h4>
<p>In Python 2.x (from 2.2 onwards) there's two styles of classes depending on
the presence or absence of <code>object</code> as a base-class:</p>
<ol>
<li>
<p><strong>"classic" style</strong> classes: they don't have <code>object</code> as a base class:</p>
<div class="code"><pre class="code literal-block">&gt;&gt;&gt; class ClassicSpam:      # no base class
</pre></div>

<p>...     pass</p>
<blockquote>
<blockquote>
<blockquote>
<p>ClassicSpam.<strong>bases</strong>
()</p>
</blockquote>
</blockquote>
</blockquote>
</li>
<li>
<p><strong>"new" style</strong> classes: they have, directly <em>or indirectly</em> (e.g inherit from a built-in type), <code>object</code> as a base class:</p>
<div class="code"><pre class="code literal-block">&gt;&gt;&gt; class NewSpam(object):           # directly inherit from object
</pre></div>

<p>...    pass</p>
<blockquote>
<blockquote>
<blockquote>
<p>NewSpam.<strong>bases</strong>
(<type>,)
class IntSpam(int):              # indirectly inherit from object...
...    pass
IntSpam.<strong>bases</strong>
(<type>,) 
IntSpam.<strong>bases</strong>[0].<strong>bases</strong>   # ... because int inherits from object<br>
(<type>,)</type></type></type></p>
</blockquote>
</blockquote>
</blockquote>
</li>
</ol>
<p>Without a doubt, when writing a class you'll <em>always</em> want to go for new-style
classes. The perks of doing so are numerous, to list some of them:</p>
<ul>
<li>
<p>Support for descriptors. Specifically, the following constructs are made possible with descriptors: </p>
<ol>
<li>
<code>classmethod</code>: A method that receives the class as an implicit argument instead of the instance.</li>
<li>
<code>staticmethod</code>: A method that does not receive the implicit argument <code>self</code> as a first argument.</li>
<li>properties with <code>property</code>: Create functions for managing the getting, setting and deleting of an attribute. </li>
<li>
<code>__slots__</code>: Saves memory consumptions of a class and also results in faster attribute access. Of course, it does impose limitations.</li>
<li>The <code>__new__</code> static method: lets you customize how new class instances are created. </li>
</ol>
</li>
<li>
<p>Method resolution order (MRO): in what order the base classes of a class will be searched when trying to resolve which method to call. </p>
</li>
<li>
<p>Related to MRO, <code>super</code> calls. Also see, <code>super()</code> considered super.</p>
</li>
</ul>
<p>If you don't inherit from <code>object</code>, forget these. A more exhaustive
description of the previous bullet points along with other perks of "new"
style classes can be found here.</p>
<p>One of the downsides of new-style classes is that the class itself is more
memory demanding. Unless you're creating many class objects, though, I doubt
this would be an issue and it's a negative sinking in a sea of positives.</p>
<hr>
<h4>Python 3.x story:</h4>
<p>In Python 3, things are simplified. Only new-style classes exist (referred to
plainly as classes) so, the only difference in adding <code>object</code> is requiring
you to type in 8 more characters. This:</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span> <span class="n">ClassicSpam:</span>
    <span class="nb">pass</span>
</pre></div>

<p>is completely equivalent (apart from their name :-) to this:</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span> <span class="n">NewSpam</span>(<span class="n">object</span>):
     <span class="nb">pass</span>
</pre></div>

<p>and to this:</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span> <span class="n">Spam</span>():
    <span class="nb">pass</span>
</pre></div>

<p>All have <code>object</code> in their <code>__bases__</code>.</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span><span class="w"> </span>[<span class="nv">object</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">cls</span>.<span class="nv">__bases__</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">cls</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span>{<span class="nv">Spam</span>,<span class="w"> </span><span class="nv">NewSpam</span>,<span class="w"> </span><span class="nv">ClassicSpam</span>}]
[<span class="nv">True</span>,<span class="w"> </span><span class="nv">True</span>,<span class="w"> </span><span class="nv">True</span>]
</pre></div>

<hr>
<h3>So, what should you do?</h3>
<p><strong>In Python 2:</strong> <em>always inherit from<code>object</code> explicitly</em>. Get the perks.</p>
<p><strong>In Python 3:</strong> inherit from <code>object</code> if you are writing code that tries to
be Python agnostic, that is, it needs to work both in Python 2 and in Python
3. Otherwise don't, it really makes no difference since Python inserts it for
you behind the scenes.</p>
<p><br></p>
<h3>Suggest</h3>
<p><strong>Python 3</strong></p>
<ul>
<li>
<code>class MyClass(object):</code> = New-style class</li>
<li>
<code>class MyClass:</code> = New-style class (implicitly inherits from <code>object</code>)</li>
</ul>
<p><strong>Python 2</strong></p>
<ul>
<li>
<code>class MyClass(object):</code> = New-style class</li>
<li>
<code>class MyClass:</code> = <em>OLD-STYLE CLASS</em>
</li>
</ul>
<hr>
<p><strong>Explanation</strong> :</p>
<p>When defining base classes in Python 3.x, you’re allowed to drop the <code>object</code>
from the definition. However, this can open the door for a seriously hard to
track problem…</p>
<p>Python introduced new-style classes back in Python 2.2, and by now old-style
classes are really quite old. Discussion of old-style classes is buried in the
2.x docs, and non-existent in the 3.x docs.</p>
<p>The problem is, <strong>the syntax for old-style classes in Python 2.x is the same
as the alternative syntax for new-style classes in Python 3.x</strong>. Python 2.x is
still very widely used (e.g. GAE, Web2Py), and any code (or coder) unwittingly
bringing 3.x-style class definitions into 2.x code is going to end up with
some seriously outdated base objects. And because old-style classes aren’t on
anyone’s radar, they likely won’t know what hit them.</p>
<p>So just spell it out the long way and save some 2.x developer the tears.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-vertically-center-a-div-element-for-all-browsers-using-css/" class="u-url">How can I vertically center a div element for all browsers using CSS?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-vertically-center-a-div-element-for-all-browsers-using-css/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T01:06:09+08:00" itemprop="datePublished" title="2023-02-17 01:06">2023-02-17 01:06</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I want to center a <code>div</code> vertically with CSS. I don't want tables or
JavaScript, but only pure CSS. I found some solutions, but all of them are
missing Internet Explorer 6 support.</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;body&gt;</span>
<span class="w">    </span><span class="nt">&lt;div&gt;</span>Div<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>aligned<span class="w"> </span>vertically<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>
</pre></div>

<p>How can I center a <code>div</code> vertically in all major browsers, including Internet
Explorer 6?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Below is the best all-around solution I could build to vertically and
horizontally center a fixed-width, <strong>flexible height</strong> content box. It was
tested and worked for recent versions of Firefox, Opera, Chrome, and Safari.</p>
<div class="code"><pre class="code literal-block"><span class="sx">.outer</span><span class="w"> </span><span class="sx">{</span>
<span class="w">  </span><span class="nl">display</span><span class="p">:</span><span class="w"> </span><span class="sx">table;</span>
<span class="w">  </span><span class="nl">position</span><span class="p">:</span><span class="w"> </span><span class="sx">absolute;</span>
<span class="w">  </span><span class="nl">top</span><span class="p">:</span><span class="w"> </span><span class="sx">0;</span>
<span class="w">  </span><span class="nl">left</span><span class="p">:</span><span class="w"> </span><span class="sx">0;</span>
<span class="w">  </span><span class="nl">height</span><span class="p">:</span><span class="w"> </span><span class="sx">100%;</span>
<span class="w">  </span><span class="nl">width</span><span class="p">:</span><span class="w"> </span><span class="sx">100%;</span>
<span class="sx">}</span>

<span class="sx">.middle</span><span class="w"> </span><span class="sx">{</span>
<span class="w">  </span><span class="nl">display</span><span class="p">:</span><span class="w"> </span><span class="sx">table-cell;</span>
<span class="w">  </span><span class="nl">vertical-align</span><span class="p">:</span><span class="w"> </span><span class="sx">middle;</span>
<span class="sx">}</span>

<span class="kr">.inner</span><span class="w"> </span><span class="nc">{</span>
<span class="w">  </span><span class="nl">margin-left</span><span class="p">:</span><span class="w"> </span><span class="sx">auto;</span>
<span class="w">  </span><span class="nl">margin-right</span><span class="p">:</span><span class="w"> </span><span class="sx">auto;</span>
<span class="w">  </span><span class="nl">width</span><span class="p">:</span><span class="w"> </span><span class="sx">400px;</span>
<span class="w">  </span><span class="sx">/*</span><span class="w"> </span><span class="sx">Whatever</span><span class="w"> </span><span class="sx">width</span><span class="w"> </span><span class="sx">you</span><span class="w"> </span><span class="sx">want</span><span class="w"> </span><span class="sx">*/</span>
<span class="sx">}</span>


<span class="sx">&lt;div</span><span class="w"> </span><span class="kr">class</span><span class="p">=</span><span class="s2">"outer"</span><span class="sx">&gt;</span>
<span class="w">  </span><span class="sx">&lt;div</span><span class="w"> </span><span class="kr">class</span><span class="p">=</span><span class="s2">"middle"</span><span class="sx">&gt;</span>
<span class="w">    </span><span class="sx">&lt;div</span><span class="w"> </span><span class="kr">class</span><span class="p">=</span><span class="s2">"inner"</span><span class="sx">&gt;</span>
<span class="w">      </span><span class="sx">&lt;h1&gt;The</span><span class="w"> </span><span class="sx">Content&lt;/h1&gt;</span>
<span class="w">      </span><span class="sx">&lt;p&gt;Once</span><span class="w"> </span><span class="sx">upon</span><span class="w"> </span><span class="sx">a</span><span class="w"> </span><span class="sx">midnight</span><span class="w"> </span><span class="sx">dreary...&lt;/p&gt;</span>
<span class="w">    </span><span class="sx">&lt;/div&gt;</span>
<span class="w">  </span><span class="sx">&lt;/div&gt;</span>
<span class="sx">&lt;/div&gt;</span>
</pre></div>

<p>View A Working Example With Dynamic Content</p>
<p>I built in some dynamic content to test the flexibility and would love to know
if anyone sees any problems with it. It should work well for centered overlays
also -- lightbox, pop-up, etc.</p>
<p><br></p>
<h3>Suggest</h3>
<p>The simplest way would be the following <strong>three lines</strong> of CSS:</p>
<p><strong>1) position: relative;</strong></p>
<p><strong>2) top: 50%;</strong></p>
<p><strong>3) transform: translateY(-50%);</strong></p>
<p>Following is an <strong>example</strong> :</p>
<div class="code"><pre class="code literal-block">div.outer-div<span class="w"> </span>{
<span class="w">  </span>height:<span class="w"> </span>170px;
<span class="w">  </span>width:<span class="w"> </span>300px;
<span class="w">  </span>background-color:<span class="w"> </span>lightgray;
}

div.middle-div<span class="w"> </span>{
<span class="w">  </span>position:<span class="w"> </span>relative;
<span class="w">  </span>top:<span class="w"> </span>50%;
<span class="w">  </span>-webkit-transform:<span class="w"> </span>translateY(-50%);
<span class="w">  </span>-ms-transform:<span class="w"> </span>translateY(-50%);
<span class="w">  </span>transform:<span class="w"> </span>translateY(-50%);
}


<span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">'outer-div'</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">'middle-div'</span><span class="nt">&gt;</span>
<span class="w">    </span>Test<span class="w"> </span>text
<span class="w">  </span><span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/why-is-it-important-to-override-gethashcode-when-equals-method-is-overridden/" class="u-url">Why is it important to override GetHashCode when Equals method is overridden?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/why-is-it-important-to-override-gethashcode-when-equals-method-is-overridden/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T01:05:24+08:00" itemprop="datePublished" title="2023-02-17 01:05">2023-02-17 01:05</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Given the following class</p>
<div class="code"><pre class="code literal-block"><span class="nv">public</span><span class="w"> </span><span class="nv">class</span><span class="w"> </span><span class="nv">Foo</span>
{
<span class="w">    </span><span class="nv">public</span><span class="w"> </span><span class="nv">int</span><span class="w"> </span><span class="nv">FooId</span><span class="w"> </span>{<span class="w"> </span><span class="nv">get</span><span class="c1">; set; }</span>
<span class="w">    </span><span class="nv">public</span><span class="w"> </span><span class="nv">string</span><span class="w"> </span><span class="nv">FooName</span><span class="w"> </span>{<span class="w"> </span><span class="nv">get</span><span class="c1">; set; }</span>

<span class="w">    </span><span class="nv">public</span><span class="w"> </span><span class="nv">override</span><span class="w"> </span><span class="nv">bool</span><span class="w"> </span><span class="nv">Equals</span><span class="ss">(</span><span class="nv">object</span><span class="w"> </span><span class="nv">obj</span><span class="ss">)</span>
<span class="w">    </span>{
<span class="w">        </span><span class="nv">Foo</span><span class="w"> </span><span class="nv">fooItem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">obj</span><span class="w"> </span><span class="nv">as</span><span class="w"> </span><span class="nv">Foo</span><span class="c1">;</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">fooItem</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">null</span><span class="ss">)</span><span class="w"> </span>
<span class="w">        </span>{
<span class="w">           </span><span class="k">return</span><span class="w"> </span><span class="nv">false</span><span class="c1">;</span>
<span class="w">        </span>}

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nv">fooItem</span>.<span class="nv">FooId</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">this</span>.<span class="nv">FooId</span><span class="c1">;</span>
<span class="w">    </span>}

<span class="w">    </span><span class="nv">public</span><span class="w"> </span><span class="nv">override</span><span class="w"> </span><span class="nv">int</span><span class="w"> </span><span class="nv">GetHashCode</span><span class="ss">()</span>
<span class="w">    </span>{
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="nv">Which</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">preferred</span>?

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nv">base</span>.<span class="nv">GetHashCode</span><span class="ss">()</span><span class="c1">;</span>

<span class="w">        </span><span class="o">//</span><span class="k">return</span><span class="w"> </span><span class="nv">this</span>.<span class="nv">FooId</span>.<span class="nv">GetHashCode</span><span class="ss">()</span><span class="c1">;</span>
<span class="w">    </span>}
}
</pre></div>

<p>I have overridden the <code>Equals</code> method because <code>Foo</code> represent a row for the
<code>Foo</code>s table. Which is the preferred method for overriding the <code>GetHashCode</code>?</p>
<p>Why is it important to override <code>GetHashCode</code>?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Yes, it is important if your item will be used as a key in a dictionary, or
<code>HashSet&lt;T&gt;</code>, etc - since this is used (in the absence of a custom
<code>IEqualityComparer&lt;T&gt;</code>) to group items into buckets. If the hash-code for two
items does not match, they may <em>never</em> be considered equal (Equals will simply
never be called).</p>
<p>The GetHashCode() method should reflect the <code>Equals</code> logic; the rules are:</p>
<ul>
<li>if two things are equal (<code>Equals(...) == true</code>) then they <em>must</em> return the same value for <code>GetHashCode()</code>
</li>
<li>if the <code>GetHashCode()</code> is equal, it is <em>not</em> necessary for them to be the same; this is a collision, and <code>Equals</code> will be called to see if it is a real equality or not.</li>
</ul>
<p>In this case, it looks like "<code>return FooId;</code>" is a suitable <code>GetHashCode()</code>
implementation. If you are testing multiple properties, it is common to
combine them using code like below, to reduce diagonal collisions (i.e. so
that <code>new Foo(3,5)</code> has a different hash-code to <code>new Foo(5,3)</code>):</p>
<p>In modern frameworks, the <code>HashCode</code> type has methods to help you create a
hashcode from multiple values; on older frameworks, you'd need to go without,
so something like:</p>
<div class="code"><pre class="code literal-block"><span class="nv">unchecked</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="nv">only</span><span class="w"> </span><span class="nv">needed</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">you</span><span class="err">'re compiling with arithmetic checks enabled</span>
{<span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="ss">(</span><span class="nv">the</span><span class="w"> </span><span class="nv">default</span><span class="w"> </span><span class="nv">compiler</span><span class="w"> </span><span class="nv">behaviour</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="o">*</span><span class="nv">disabled</span><span class="o">*</span>,<span class="w"> </span><span class="nv">so</span><span class="w"> </span><span class="nv">most</span><span class="w"> </span><span class="nv">folks</span><span class="w"> </span><span class="nv">won</span><span class="err">'t need this)</span>
<span class="err">    int hash = 13;</span>
<span class="err">    hash = (hash * 7) + field1.GetHashCode();</span>
<span class="err">    hash = (hash * 7) + field2.GetHashCode();</span>
<span class="err">    ...</span>
<span class="err">    return hash;</span>
<span class="err">}</span>
</pre></div>

<p>Oh - for convenience, you might also consider providing <code>==</code> and <code>!=</code>
operators when overriding <code>Equals</code> and <code>GetHashCode</code>.</p>
<hr>
<p>A demonstration of what happens when you get this wrong is here.</p>
<p><br></p>
<h3>Suggest</h3>
<p>It's actually very hard to implement <code>GetHashCode()</code> correctly because, in
addition to the rules Marc already mentioned, the hash code should not change
during the lifetime of an object. Therefore the fields which are used to
calculate the hash code must be immutable.</p>
<p>I finally found a solution to this problem when I was working with NHibernate.
My approach is to calculate the hash code from the ID of the object. The ID
can only be set though the constructor so if you want to change the ID, which
is very unlikely, you have to create a new object which has a new ID and
therefore a new hash code. This approach works best with GUIDs because you can
provide a parameterless constructor which randomly generates an ID.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-216.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-214.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

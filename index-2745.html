<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2745) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2745.html">
<link rel="prev" href="index-2746.html" type="text/html">
<link rel="next" href="index-2744.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/understanding-spring-autowired-usage/" class="u-url">Understanding Spring @Autowired usage</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/understanding-spring-autowired-usage/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T14:43:14+08:00" itemprop="datePublished" title="2023-03-05 14:43">2023-03-05 14:43</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am reading the spring 3.0.x reference documentation to understand Spring
Autowired annotation:</p>
<p>3.9.2 @Autowired and @Inject</p>
<p>I am not able to understand the below examples. Do we need to do something in
the XML for it to work?</p>
<p>EXAMPLE 1</p>
<div class="code"><pre class="code literal-block"><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">SimpleMovieLister</span><span class="w"> </span><span class="err">{</span>

<span class="w">    </span><span class="n">private</span><span class="w"> </span><span class="n">MovieFinder</span><span class="w"> </span><span class="n">movieFinder</span><span class="p">;</span>

<span class="w">    </span><span class="nv">@Autowired</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">void</span><span class="w"> </span><span class="n">setMovieFinder</span><span class="p">(</span><span class="n">MovieFinder</span><span class="w"> </span><span class="n">movieFinder</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">this</span><span class="p">.</span><span class="n">movieFinder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">movieFinder</span><span class="p">;</span>
<span class="w">    </span><span class="err">}</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="p">...</span>
<span class="err">}</span>
</pre></div>

<p>EXAMPLE 2</p>
<div class="code"><pre class="code literal-block"><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">MovieRecommender</span><span class="w"> </span><span class="err">{</span>

<span class="w">    </span><span class="n">private</span><span class="w"> </span><span class="n">MovieCatalog</span><span class="w"> </span><span class="n">movieCatalog</span><span class="p">;</span>

<span class="w">    </span><span class="n">private</span><span class="w"> </span><span class="n">CustomerPreferenceDao</span><span class="w"> </span><span class="n">customerPreferenceDao</span><span class="p">;</span>

<span class="w">    </span><span class="nv">@Autowired</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">void</span><span class="w"> </span><span class="k">prepare</span><span class="p">(</span><span class="n">MovieCatalog</span><span class="w"> </span><span class="n">movieCatalog</span><span class="p">,</span>
<span class="w">                    </span><span class="n">CustomerPreferenceDao</span><span class="w"> </span><span class="n">customerPreferenceDao</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">this</span><span class="p">.</span><span class="n">movieCatalog</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">movieCatalog</span><span class="p">;</span>
<span class="w">        </span><span class="n">this</span><span class="p">.</span><span class="n">customerPreferenceDao</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">customerPreferenceDao</span><span class="p">;</span>
<span class="w">    </span><span class="err">}</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="p">...</span>
<span class="err">}</span>
</pre></div>

<p>How can the two classes be autowired implementing the same interface and using
the same class?</p>
<p>Example:</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span><span class="w"> </span><span class="n">Red</span><span class="w"> </span><span class="n">implements</span><span class="w"> </span><span class="n">Color</span>
<span class="k">class</span><span class="w"> </span><span class="n">Blue</span><span class="w"> </span><span class="n">implements</span><span class="w"> </span><span class="n">Color</span>

<span class="k">class</span><span class="w"> </span><span class="n">myMainClass</span><span class="err">{</span>
<span class="w">    </span><span class="nv">@Autowired</span><span class="w"> </span>
<span class="w">    </span><span class="n">private</span><span class="w"> </span><span class="n">Color</span><span class="w"> </span><span class="n">color</span><span class="p">;</span>

<span class="w">    </span><span class="n">draw</span><span class="p">()</span><span class="err">{</span>
<span class="w">        </span><span class="n">color</span><span class="p">.</span><span class="n">design</span><span class="p">();</span><span class="w"> </span>
<span class="w">    </span><span class="err">}</span><span class="w"> </span>
<span class="err">}</span>
</pre></div>

<p>Which design method will be called? How do I make sure the design method of
Red class will be called and not Blue?</p>
<p><br><br></p>
<h2>Answer</h2>
<p><strong>TL;DR</strong></p>
<p>The <code>@Autowired</code> annotation spares you the need to do the wiring by yourself
in the XML file (or any other way) and just finds for you what needs to be
injected where and does that for you.</p>
<p><strong>Full explanation</strong></p>
<p>The <code>@Autowired</code> annotation allows you to skip configurations elsewhere of
what to inject and just does it for you. Assuming your package is
<code>com.mycompany.movies</code> you have to put this tag in your XML (application
context file):</p>
<div class="code"><pre class="code literal-block">&lt;context:component-scan base-package="com.mycompany.movies" /&gt;
</pre></div>

<p>This tag will do an auto-scanning. Assuming each class that has to become a
bean is annotated with a correct annotation like <code>@Component</code> (for simple
bean) or <code>@Controller</code> (for a servlet control) or <code>@Repository</code> (for <code>DAO</code>
classes) and these classes are somewhere under the package
<code>com.mycompany.movies</code>, Spring will find all of these and create a bean for
each one. This is done in 2 scans of the classes - the first time it just
searches for classes that need to become a bean and maps the injections it
needs to be doing, and on the second scan it injects the beans. Of course, you
can define your beans in the more traditional XML file or with an
<code>@Configuration</code> class (or any combination of the three).</p>
<p>The <code>@Autowired</code> annotation tells Spring where an injection needs to occur. If
you put it on a method <code>setMovieFinder</code> it understands (by the prefix <code>set</code> +
the <code>@Autowired</code> annotation) that a bean needs to be injected. In the second
scan, Spring searches for a bean of type <code>MovieFinder</code>, and if it finds such
bean, it injects it to this method. If it finds two such beans you will get an
<code>Exception</code>. To avoid the <code>Exception</code>, you can use the <code>@Qualifier</code> annotation
and tell it which of the two beans to inject in the following manner:</p>
<div class="code"><pre class="code literal-block"><span class="nv">@Qualifier</span><span class="p">(</span><span class="ss">"redBean"</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="n">Red</span><span class="w"> </span><span class="n">implements</span><span class="w"> </span><span class="n">Color</span><span class="w"> </span><span class="err">{</span>
<span class="w">   </span><span class="o">//</span><span class="w"> </span><span class="k">Class</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="n">here</span>
<span class="err">}</span>

<span class="nv">@Qualifier</span><span class="p">(</span><span class="ss">"blueBean"</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="n">Blue</span><span class="w"> </span><span class="n">implements</span><span class="w"> </span><span class="n">Color</span><span class="w"> </span><span class="err">{</span>
<span class="w">   </span><span class="o">//</span><span class="w"> </span><span class="k">Class</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="n">here</span>
<span class="err">}</span>
</pre></div>

<p>Or if you prefer to declare the beans in your XML, it would look something
like this:</p>
<div class="code"><pre class="code literal-block">&lt;bean id="redBean" class="com.mycompany.movies.Red"/&gt;

&lt;bean id="blueBean" class="com.mycompany.movies.Blue"/&gt;
</pre></div>

<p>In the <code>@Autowired</code> declaration, you need to also add the <code>@Qualifier</code> to tell
which of the two color beans to inject:</p>
<div class="code"><pre class="code literal-block"><span class="nv">@Autowired</span>
<span class="nv">@Qualifier</span><span class="p">(</span><span class="ss">"redBean"</span><span class="p">)</span>
<span class="k">public</span><span class="w"> </span><span class="n">void</span><span class="w"> </span><span class="n">setColor</span><span class="p">(</span><span class="n">Color</span><span class="w"> </span><span class="n">color</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">  </span><span class="n">this</span><span class="p">.</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">color</span><span class="p">;</span>
<span class="err">}</span>
</pre></div>

<p>If you don't want to use two annotations (the <code>@Autowired</code> and <code>@Qualifier</code>)
you can use <code>@Resource</code> to combine these two:</p>
<div class="code"><pre class="code literal-block"><span class="nv">@Resource</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="ss">"redBean"</span><span class="p">)</span>
<span class="k">public</span><span class="w"> </span><span class="n">void</span><span class="w"> </span><span class="n">setColor</span><span class="p">(</span><span class="n">Color</span><span class="w"> </span><span class="n">color</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">  </span><span class="n">this</span><span class="p">.</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">color</span><span class="p">;</span>
<span class="err">}</span>
</pre></div>

<p>The <code>@Resource</code> (you can read some extra data about it in the first comment on
this answer) spares you the use of two annotations and instead, you only use
one.</p>
<p>I'll just add two more comments:</p>
<ol>
<li>Good practice would be to use <code>@Inject</code> instead of <code>@Autowired</code> because it is not Spring-specific and is part of the <code>JSR-330</code> standard.</li>
<li>Another good practice would be to put the <code>@Inject</code> / <code>@Autowired</code> on a constructor instead of a method. If you put it on a constructor, you can validate that the injected beans are not null and fail fast when you try to start the application and avoid a <code>NullPointerException</code> when you need to actually use the bean.</li>
</ol>
<p><strong>Update</strong> : To complete the picture, I created a new question about the
<code>@Configuration</code> class.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Nothing in the example says that the "classes implementing the same
interface". <code>MovieCatalog</code> is a type and <code>CustomerPreferenceDao</code> is another
type. Spring can easily tell them apart.</p>
<p>In Spring 2.x, wiring of beans mostly happened via bean IDs or names. This is
still supported by Spring 3.x but often, you will have one instance of a bean
with a certain type - most services are singletons. Creating names for those
is tedious. So Spring started to support "autowire by type".</p>
<p>What the examples show is various ways that you can use to inject beans into
fields, methods and constructors.</p>
<p>The XML already contains all the information that Spring needs since you have
to specify the fully qualified class name in each bean. You need to be a bit
careful with interfaces, though:</p>
<p>This autowiring will fail:</p>
<div class="code"><pre class="code literal-block"><span class="w"> </span><span class="nv">@Autowired</span>
<span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">void</span><span class="w"> </span><span class="k">prepare</span><span class="p">(</span><span class="w"> </span><span class="n">Interface1</span><span class="w"> </span><span class="n">bean1</span><span class="p">,</span><span class="w"> </span><span class="n">Interface1</span><span class="w"> </span><span class="n">bean2</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="err">}</span>
</pre></div>

<p>Since Java doesn't keep the parameter names in the byte code, Spring can't
distinguish between the two beans anymore. The fix is to use <code>@Qualifier</code>:</p>
<div class="code"><pre class="code literal-block"><span class="w"> </span><span class="nv">@Autowired</span>
<span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">void</span><span class="w"> </span><span class="k">prepare</span><span class="p">(</span><span class="w"> </span><span class="nv">@Qualifier</span><span class="p">(</span><span class="ss">"bean1"</span><span class="p">)</span><span class="w"> </span><span class="n">Interface1</span><span class="w"> </span><span class="n">bean1</span><span class="p">,</span>
<span class="w">     </span><span class="nv">@Qualifier</span><span class="p">(</span><span class="ss">"bean2"</span><span class="p">)</span><span class="w">  </span><span class="n">Interface1</span><span class="w"> </span><span class="n">bean2</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="err">}</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-pass-json-post-data-to-web-api-method-as-an-object/" class="u-url">How to pass json POST data to Web API method as an object?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-pass-json-post-data-to-web-api-method-as-an-object/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T14:41:35+08:00" itemprop="datePublished" title="2023-03-05 14:41">2023-03-05 14:41</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>ASP.NET MVC4 Web API application defines post method to save customer.
Customer is passed in json format in POST request body. Customer parameter in
post method contains null values for properties.</p>
<p>How to fix this so that posted data will passed as customer object ?</p>
<p>If possible Content-Type: application/x-www-form-urlencoded should used since
I dont know how to change it in javascript method which posts form.</p>
<p>Controller:</p>
<div class="code"><pre class="code literal-block"><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">CustomersController</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="n">ApiController</span><span class="w"> </span><span class="err">{</span>

<span class="w">  </span><span class="k">public</span><span class="w"> </span><span class="k">object</span><span class="w"> </span><span class="n">Post</span><span class="p">(</span><span class="o">[</span><span class="n">FromBody</span><span class="o">]</span><span class="w"> </span><span class="n">Customer</span><span class="w"> </span><span class="n">customer</span><span class="p">)</span>
<span class="w">        </span><span class="err">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">Request</span><span class="p">.</span><span class="n">CreateResponse</span><span class="p">(</span><span class="n">HttpStatusCode</span><span class="p">.</span><span class="n">OK</span><span class="p">,</span>
<span class="w">            </span><span class="k">new</span>
<span class="w">            </span><span class="err">{</span>
<span class="w">                </span><span class="n">customer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">customer</span>
<span class="w">            </span><span class="err">}</span><span class="p">);</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>

<span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">Customer</span>
<span class="w">    </span><span class="err">{</span>
<span class="w">        </span><span class="k">public</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="n">company_name</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="k">get</span><span class="p">;</span><span class="w"> </span><span class="k">set</span><span class="p">;</span><span class="w"> </span><span class="err">}</span>
<span class="w">        </span><span class="k">public</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="n">contact_name</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="k">get</span><span class="p">;</span><span class="w"> </span><span class="k">set</span><span class="p">;</span><span class="w"> </span><span class="err">}</span>
<span class="w">     </span><span class="err">}</span>
</pre></div>

<p>Request:</p>
<div class="code"><pre class="code literal-block"><span class="nt">POST</span><span class="w"> </span><span class="nt">http</span><span class="o">://</span><span class="nt">localhost</span><span class="p">:</span><span class="nd">52216</span><span class="o">/</span><span class="nt">api</span><span class="o">/</span><span class="nt">customers</span><span class="w"> </span><span class="nt">HTTP</span><span class="o">/</span><span class="nt">1</span><span class="p">.</span><span class="nc">1</span>
<span class="nt">Accept</span><span class="o">:</span><span class="w"> </span><span class="nt">application</span><span class="o">/</span><span class="nt">json</span><span class="o">,</span><span class="w"> </span><span class="nt">text</span><span class="o">/</span><span class="nt">javascript</span><span class="o">,</span><span class="w"> </span><span class="o">*/*;</span><span class="w"> </span><span class="nt">q</span><span class="o">=</span><span class="nt">0</span><span class="p">.</span><span class="nc">01</span>
<span class="nt">X-Requested-With</span><span class="o">:</span><span class="w"> </span><span class="nt">XMLHttpRequest</span>
<span class="nt">Content-Type</span><span class="o">:</span><span class="w"> </span><span class="nt">application</span><span class="o">/</span><span class="nt">x-www-form-urlencoded</span><span class="o">;</span><span class="w"> </span><span class="nt">charset</span><span class="o">=</span><span class="nt">UTF-8</span>

<span class="p">{</span><span class="err">"contact_name":"sdfsd","company_name":"ssssd"</span><span class="p">}</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p><strong>EDIT</strong> : 31/10/2017</p>
<p>The same code/approach will work for <strong>Asp.Net Core 2.0</strong> as well. The major
difference is, In asp.net core, both web api controllers and Mvc controllers
are merged together to single controller model. So your return type might be
<code>IActionResult</code> or one of it's implementation (Ex :<code>OkObjectResult</code>)</p>
<hr>
<p>Use</p>
<div class="code"><pre class="code literal-block">contentType:"application/json"
</pre></div>

<p>You need to use <code>JSON.stringify</code> method to convert it to JSON string when you
send it,</p>
<p>And the model binder will bind the json data to your class object.</p>
<p>The below code will work fine (tested)</p>
<div class="code"><pre class="code literal-block"><span class="o">$</span><span class="p">(</span><span class="n">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">customer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">contact_name</span><span class="w"> </span><span class="p">:</span><span class="s2">"Scott"</span><span class="p">,</span><span class="n">company_name</span><span class="p">:</span><span class="s2">"HP"</span><span class="p">};</span>
<span class="w">    </span><span class="o">$.</span><span class="n">ajax</span><span class="p">({</span>
<span class="w">        </span><span class="n">type</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="p">,</span>
<span class="w">        </span><span class="n">data</span><span class="w"> </span><span class="p">:</span><span class="n">JSON</span><span class="o">.</span><span class="n">stringify</span><span class="p">(</span><span class="n">customer</span><span class="p">),</span>
<span class="w">        </span><span class="n">url</span><span class="p">:</span><span class="w"> </span><span class="s2">"api/Customer"</span><span class="p">,</span>
<span class="w">        </span><span class="n">contentType</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span>
<span class="w">    </span><span class="p">});</span>
<span class="p">});</span>
</pre></div>

<p><strong>Result</strong></p>
<p><img alt="enter image description here" src="images/69yQt.png"></p>
<p><code>contentType</code> property tells the server that we are sending the data in JSON
format. Since we sent a JSON data structure,model binding will happen
properly.</p>
<p>If you inspect the ajax request's headers, you can see that the <code>Content-Type</code>
value is set as <code>application/json</code>.</p>
<p>If you do not specify contentType explicitly, It will use the default content
type which is <code>application/x-www-form-urlencoded;</code></p>
<hr>
<p><em>Edit on Nov 2015 to address other possible issues raised in comments</em></p>
<h3>Posting a complex object</h3>
<p>Let's say you have a complex view model class as your web api action method
parameter like this</p>
<div class="code"><pre class="code literal-block">public class CreateUserViewModel
{
   public int Id {set;get;}
   public string Name {set;get;}  
   public List&lt;TagViewModel&gt; Tags {set;get;}
}
public class TagViewModel
{
  public int Id {set;get;}
  public string Code {set;get;}
}
</pre></div>

<p>and your web api end point is like</p>
<div class="code"><pre class="code literal-block"><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">ProductController</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="n">Controller</span>
<span class="err">{</span>
<span class="w">    </span><span class="o">[</span><span class="n">HttpPost</span><span class="o">]</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">CreateUserViewModel</span><span class="w"> </span><span class="k">Save</span><span class="p">(</span><span class="o">[</span><span class="n">FromBody</span><span class="o">]</span><span class="w"> </span><span class="n">CreateUserViewModel</span><span class="w"> </span><span class="n">m</span><span class="p">)</span>
<span class="w">    </span><span class="err">{</span>
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="n">am</span><span class="w"> </span><span class="n">just</span><span class="w"> </span><span class="n">returning</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">posted</span><span class="w"> </span><span class="n">model</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="k">is</span><span class="p">.</span><span class="w"> </span>
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="n">You</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">do</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="nf">stuff</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="n">response</span><span class="p">.</span>
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="n">Ex</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="n">missileService</span><span class="p">.</span><span class="n">LaunchMissile</span><span class="p">(</span><span class="n">m</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">m</span><span class="p">;</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>
</pre></div>

<p><em>At the time of this writing, ASP.NET MVC 6 is the latest stable version and
in MVC6, Both Web api controllers and MVC controllers are inheriting
from<code>Microsoft.AspNet.Mvc.Controller</code> base class.</em></p>
<p>To send data to the method from client side, the below code should work fine</p>
<div class="code"><pre class="code literal-block"><span class="o">//</span><span class="n">Build</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">object</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">matches</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">structure</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">our</span><span class="w"> </span><span class="n">view</span><span class="w"> </span><span class="n">model</span><span class="w"> </span><span class="k">class</span>
<span class="k">var</span><span class="w"> </span><span class="n">model</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Name</span><span class="p">:</span><span class="w"> </span><span class="s2">"Shyju"</span><span class="p">,</span>
<span class="w">    </span><span class="n">Id</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span>
<span class="w">    </span><span class="n">Tags</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="n">Id</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="n">Code</span><span class="p">:</span><span class="w"> </span><span class="s2">"C"</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Id</span><span class="p">:</span><span class="w"> </span><span class="mi">33</span><span class="p">,</span><span class="w"> </span><span class="n">Code</span><span class="p">:</span><span class="w"> </span><span class="s2">"Swift"</span><span class="w"> </span><span class="p">}]</span>
<span class="p">};</span>

<span class="o">$.</span><span class="n">ajax</span><span class="p">({</span>
<span class="w">    </span><span class="n">type</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="p">,</span>
<span class="w">    </span><span class="n">data</span><span class="p">:</span><span class="w"> </span><span class="n">JSON</span><span class="o">.</span><span class="n">stringify</span><span class="p">(</span><span class="n">model</span><span class="p">),</span>
<span class="w">    </span><span class="n">url</span><span class="p">:</span><span class="w"> </span><span class="s2">"../product/save"</span><span class="p">,</span>
<span class="w">    </span><span class="n">contentType</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span>
<span class="p">})</span><span class="o">.</span><span class="n">done</span><span class="p">(</span><span class="n">function</span><span class="p">(</span><span class="n">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">       </span>
<span class="w">    </span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s1">'res'</span><span class="p">,</span><span class="w"> </span><span class="n">res</span><span class="p">);</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Do</span><span class="w"> </span><span class="n">something</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="p">:)</span>
<span class="p">});</span>
</pre></div>

<h3>Model binding works for some properties, but not all ! Why ?</h3>
<p>If you do not decorate the web api method parameter with <code>[FromBody]</code>
attribute</p>
<div class="code"><pre class="code literal-block"><span class="k">[HttpPost]</span>
<span class="na">public CreateUserViewModel Save(CreateUserViewModel m)</span>
<span class="na">{</span>
<span class="w">    </span><span class="na">return m;</span>
<span class="na">}</span>
</pre></div>

<p>And send the model(raw javascript object, not in JSON format) without
specifying the contentType property value</p>
<div class="code"><pre class="code literal-block"><span class="o">$</span><span class="p">.</span><span class="nc">ajax</span><span class="o">(</span><span class="p">{</span>
<span class="w">    </span><span class="n">type</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="p">,</span>
<span class="w">    </span><span class="n">data</span><span class="o">:</span><span class="w"> </span><span class="n">model</span><span class="p">,</span>
<span class="w">    </span><span class="n">url</span><span class="o">:</span><span class="w"> </span><span class="s2">"../product/save"</span>
<span class="p">}</span><span class="o">)</span><span class="p">.</span><span class="nc">done</span><span class="o">(</span><span class="nt">function</span><span class="w"> </span><span class="o">(</span><span class="nt">res</span><span class="o">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">     </span><span class="err">console.log('res',</span><span class="w"> </span><span class="err">res)</span><span class="p">;</span>
<span class="p">}</span><span class="o">);</span>
</pre></div>

<p>Model binding will work for the flat properties on the model, not the
properties where the type is complex/another type. In our case, <code>Id</code> and
<code>Name</code> properties will be properly bound to the parameter <code>m</code>, But the <code>Tags</code>
property will be an empty list.</p>
<p>The same problem will occur if you are using the short version, <code>$.post</code> which
will use the default Content-Type when sending the request.</p>
<div class="code"><pre class="code literal-block">$.post("../product/save", model, function (res) {
    //res contains the markup returned by the partial view
    console.log('res', res);
});
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Working with POST in webapi can be tricky! Would like to add to the already
correct answer..</p>
<p>Will focus specifically on POST as dealing with GET is trivial. I don't think
many would be searching around for resolving an issue with GET with webapis.
Anyways..</p>
<p>If your question is - In MVC Web Api, how to- - Use custom action method names
other than the generic HTTP verbs? - Perform multiple posts? - Post multiple
simple types? - Post complex types via jQuery?</p>
<p>Then the following solutions may help:</p>
<p>First, to use <strong>Custom</strong> Action Methods in Web API, add a web api route as:</p>
<div class="code"><pre class="code literal-block"><span class="nt">public</span><span class="w"> </span><span class="nt">static</span><span class="w"> </span><span class="nt">void</span><span class="w"> </span><span class="nt">Register</span><span class="o">(</span><span class="nt">HttpConfiguration</span><span class="w"> </span><span class="nt">config</span><span class="o">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="err">config.Routes.MapHttpRoute(</span>
<span class="w">        </span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s2">"ActionApi"</span><span class="p">,</span>
<span class="w">        </span><span class="n">routeTemplate</span><span class="o">:</span><span class="w"> </span><span class="s2">"api/{controller}/{action}"</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

<p>And then you may create action methods like:</p>
<div class="code"><pre class="code literal-block"><span class="k">[HttpPost]</span>
<span class="na">public string TestMethod([FromBody]string value)</span>
<span class="na">{</span>
<span class="w">    </span><span class="na">return "Hello from http post web api controller</span><span class="o">:</span><span class="w"> </span><span class="s">" + value</span><span class="c1">;</span>
<span class="na">}</span>
</pre></div>

<p>Now, fire the following jQuery from your browser console</p>
<div class="code"><pre class="code literal-block"><span class="o">$</span><span class="p">.</span><span class="nc">ajax</span><span class="o">(</span><span class="p">{</span>
<span class="w">    </span><span class="n">type</span><span class="p">:</span><span class="w"> </span><span class="s1">'POST'</span><span class="p">,</span>
<span class="w">    </span><span class="n">url</span><span class="o">:</span><span class="w"> </span><span class="s1">'http://localhost:33649/api/TestApi/TestMethod'</span><span class="p">,</span>
<span class="w">    </span><span class="n">data</span><span class="o">:</span><span class="w"> </span><span class="err">{</span><span class="s1">''</span><span class="o">:</span><span class="s1">'hello'</span><span class="p">}</span><span class="o">,</span>
<span class="w">    </span><span class="nt">contentType</span><span class="o">:</span><span class="w"> </span><span class="s1">'application/x-www-form-urlencoded'</span><span class="o">,</span>
<span class="w">    </span><span class="nt">dataType</span><span class="o">:</span><span class="w"> </span><span class="s1">'json'</span><span class="o">,</span>
<span class="w">    </span><span class="nt">success</span><span class="o">:</span><span class="w"> </span><span class="nt">function</span><span class="o">(</span><span class="nt">data</span><span class="o">)</span><span class="p">{</span><span class="w"> </span><span class="err">console.log(data)</span><span class="w"> </span><span class="p">}</span>
<span class="err">}</span><span class="o">);</span>
</pre></div>

<p>Second, to <strong>perform multiple posts</strong> , It is simple, create multiple action
methods and decorate with the [HttpPost] attrib. Use the
[ActionName("MyAction")] to assign custom names, etc. Will come to jQuery in
the fourth point below</p>
<p>Third, First of all, posting multiple <strong>SIMPLE</strong> types in a single action is
not possible. Moreover, there is a <strong>special format</strong> to post even a <strong>single
simple type</strong> (apart from passing the parameter in the query string or REST
style). This was the point that had me banging my head with Rest Clients (like
Fiddler and Chrome's Advanced REST client extension) and hunting around the
web for almost 5 hours when eventually, the following URL proved to be of
help. Will quote the relevant content for the link might turn dead!</p>
<div class="code"><pre class="code literal-block"><span class="n">Content</span><span class="o">-</span><span class="nl">Type</span><span class="p">:</span><span class="w"> </span><span class="n">application</span><span class="o">/</span><span class="n">x</span><span class="o">-</span><span class="n">www</span><span class="o">-</span><span class="n">form</span><span class="o">-</span><span class="n">urlencoded</span>
<span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">header</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">before</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">JSON</span><span class="w"> </span><span class="k">statement</span><span class="err">:</span>
<span class="o">=</span><span class="err">{</span><span class="ss">"Name"</span><span class="err">:</span><span class="ss">"Turbo Tina"</span><span class="p">,</span><span class="ss">"Email"</span><span class="err">:</span><span class="ss">"na@Turbo.Tina"</span><span class="err">}</span>
</pre></div>

<p>PS: Noticed the <em>peculiar syntax</em>?</p>
<p>http://forums.asp.net/t/1883467.aspx?The+received+value+is+null+when+I+try+to+Post+to+my+Web+Api</p>
<p>Anyways, let us get over that story. Moving on:</p>
<p>Fourth, <strong>posting complex types</strong> via jQuery, ofcourse, $.ajax() is going to
promptly come in the role:</p>
<p>Let us say the action method accepts a Person object which has an id and a
name. So, from javascript:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">PersonId</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">Name</span><span class="p">:</span><span class="s2">"James"</span><span class="w"> </span><span class="p">}</span>
<span class="o">$.</span><span class="n">ajax</span><span class="p">({</span>
<span class="w">    </span><span class="n">type</span><span class="p">:</span><span class="w"> </span><span class="s1">'POST'</span><span class="p">,</span>
<span class="w">    </span><span class="n">url</span><span class="p">:</span><span class="w"> </span><span class="s1">'http://mydomain/api/TestApi/TestMethod'</span><span class="p">,</span>
<span class="w">    </span><span class="n">data</span><span class="p">:</span><span class="w"> </span><span class="n">JSON</span><span class="o">.</span><span class="n">stringify</span><span class="p">(</span><span class="n">person</span><span class="p">),</span>
<span class="w">    </span><span class="n">contentType</span><span class="p">:</span><span class="w"> </span><span class="s1">'application/json; charset=utf-8'</span><span class="p">,</span>
<span class="w">    </span><span class="n">dataType</span><span class="p">:</span><span class="w"> </span><span class="s1">'json'</span><span class="p">,</span>
<span class="w">    </span><span class="n">success</span><span class="p">:</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="n">data</span><span class="p">){</span><span class="w"> </span><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="p">}</span>
<span class="p">});</span>
</pre></div>

<p>And the action will look like:</p>
<div class="code"><pre class="code literal-block"><span class="k">[HttpPost]</span>
<span class="na">public string TestMethod(Person person)</span>
<span class="na">{</span>
<span class="w">    </span><span class="na">return "Hello from http post web api controller</span><span class="o">:</span><span class="w"> </span><span class="s">" + person.Name</span><span class="c1">;</span>
<span class="na">}</span>
</pre></div>

<p>All of the above, worked for me!! Cheers!</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/can-i-set-variables-to-undefined-or-pass-undefined-as-an-argument/" class="u-url">Can I set variables to undefined or pass undefined as an argument?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/can-i-set-variables-to-undefined-or-pass-undefined-as-an-argument/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T14:39:59+08:00" itemprop="datePublished" title="2023-03-05 14:39">2023-03-05 14:39</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I’m a bit confused about JavaScript’s <code>undefined</code> and <code>null</code> values.</p>
<p>What does <code>if (!testvar)</code> actually do? Does it test for <code>undefined</code> and <code>null</code>
or just <code>undefined</code>?</p>
<p>Once a variable is defined can I clear it back to <code>undefined</code> (therefore
deleting the variable)?</p>
<p>Can I pass <code>undefined</code> as a parameter? E.g.:</p>
<div class="code"><pre class="code literal-block"><span class="n">function</span><span class="w"> </span><span class="n">test</span><span class="p">(</span><span class="n">var1</span><span class="p">,</span><span class="w"> </span><span class="n">var2</span><span class="p">,</span><span class="w"> </span><span class="n">var3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="p">}</span>

<span class="n">test</span><span class="p">(</span><span class="s2">"value1"</span><span class="p">,</span><span class="w"> </span><span class="n">undefined</span><span class="p">,</span><span class="w"> </span><span class="s2">"value2"</span><span class="p">);</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<blockquote>
<p>I'm a bit confused about Javascript undefined &amp; null.</p>
</blockquote>
<p><code>null</code> generally behaves similarly to other scripting languages' concepts of
the out-of-band ‘null’, ‘nil’ or ‘None’ objects.</p>
<p><code>undefined</code>, on the other hand, is a weird JavaScript quirk. It's a singleton
object that represents out-of-band values, essentially a second similar-but-
different <code>null</code>. It comes up:</p>
<ol>
<li>When you call a function with fewer arguments than the arguments list in the <code>function</code> statement lists, the unpassed arguments are set to <code>undefined</code>. You can test for that with eg.:<div class="code"><pre class="code literal-block"><span class="nv">function</span><span class="w"> </span><span class="nv">dosomething</span><span class="ss">(</span><span class="nv">arg1</span>,<span class="w"> </span><span class="nv">arg2</span><span class="ss">)</span><span class="w"> </span>{
<span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">arg2</span><span class="o">===</span><span class="nv">undefined</span><span class="ss">)</span>
<span class="nv">arg2</span><span class="o">=</span><span class="w"> </span><span class="nv">DEFAULT_VALUE_FOR_ARG2</span><span class="c1">;</span>
...
</pre></div>

<p>}</p>
</li>
</ol>
<p>With this method you can't tell the difference between <code>dosomething(1)</code> and
<code>dosomething(1, undefined)</code>; <code>arg2</code> will be the same value in both. If you
need to tell the difference you can look at <code>arguments.length</code>, but doing
optional arguments like that isn't generally very readable.</p>
<ol>
<li>
<p>When a function has no <code>return value;</code>, it returns <code>undefined</code>. There's generally no need to use such a return result.</p>
</li>
<li>
<p>When you declare a variable by having a <code>var a</code> statement in a block, but haven't yet assigned a value to it, it is <code>undefined</code>. Again, you shouldn't really ever need to rely on that.</p>
</li>
<li>
<p>The spooky <code>typeof</code> operator returns <code>'undefined'</code> when its operand is a simple variable that does not exist, instead of throwing an error as would normally happen if you tried to refer to it. (You can also give it a simple variable wrapped in parentheses, but <em>not</em> a full expression involving a non-existant variable.) Not much use for that, either.</p>
</li>
<li>
<p>This is the controversial one. When you access a property of an object which doesn't exist, you don't immediately get an error like in every other language. Instead you get an <code>undefined</code> object. (And then when you try to use that <code>undefined</code> object later on in the script it'll go wrong in a weird way that's much more difficult to track down than if JavaScript had just thrown an error straight away.)</p>
</li>
</ol>
<p>This is often used to check for the existence of properties:</p>
<div class="code"><pre class="code literal-block"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">o</span>.<span class="nv">prop</span><span class="o">!==</span><span class="nv">undefined</span><span class="ss">)</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="nv">or</span><span class="w"> </span><span class="nv">often</span><span class="w"> </span><span class="nv">as</span><span class="w"> </span><span class="nv">truthiness</span><span class="w"> </span><span class="nv">test</span>,<span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">o</span>.<span class="nv">prop</span><span class="ss">)</span>
<span class="w">   </span>...<span class="k">do</span><span class="w"> </span><span class="nv">something</span>...
</pre></div>

<p>However, because you can assign <code>undefined</code> like any other value:</p>
<div class="code"><pre class="code literal-block">    o.prop= undefined;
</pre></div>

<p>that doesn't actually detect whether the property is there reliably. Better to
use the <code>in</code> operator, which wasn't in the original Netscape version of
JavaScript, but is available everywhere now:</p>
<div class="code"><pre class="code literal-block"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="s1">'prop'</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">o</span><span class="ss">)</span>
<span class="w">    </span>...
</pre></div>

<p>In summary, <code>undefined</code> is a JavaScript-specific mess, which confuses
everyone. Apart from optional function arguments, where JS has no other more
elegant mechanism, <code>undefined</code> should be avoided. It should never have been
part of the language; <code>null</code> would have worked just fine for (2) and (3), and
(4) is a misfeature that only exists because in the beginning JavaScript had
no exceptions.</p>
<blockquote>
<p>what does <code>if (!testvar)</code> actually do? Does it test for undefined and null
or just undefined?</p>
</blockquote>
<p>Such a ‘truthiness’ test checks against <code>false</code>, <code>undefined</code>, <code>null</code>, <code>0</code>,
<code>NaN</code> and empty strings. But in this case, yes, it is really <code>undefined</code> it is
concerned with. IMO, it should be more explicit about that and say <code>if
(testvar!==undefined)</code>.</p>
<blockquote>
<p>once a variable is defined can I clear it back to undefined (therefore
deleting the variable).</p>
</blockquote>
<p>You can certainly assign <code>undefined</code> to it, but that won't delete the
variable. Only the <code>delete object.property</code> operator really removes things.</p>
<p><code>delete</code> is really meant for properties rather than variables as such.
Browsers will let you get away with straight <code>delete variable</code>, but it's not a
good idea and won't work in ECMAScript Fifth Edition's strict mode. If you
want to free up a reference to something so it can be garbage-collected, it
would be more usual to say <code>variable= null</code>.</p>
<blockquote>
<p>can I pass undefined as a parameter?</p>
</blockquote>
<p>Yes.</p>
<p><br></p>
<h3>Suggest</h3>
<p>You cannot (should not?) define anything as undefined, as the variable would
no longer be undefined – you just <em>defined</em> it to something.</p>
<p>You cannot (should not?) pass <code>undefined</code> to a function. If you want to pass
an empty value, use <code>null</code> instead.</p>
<p>The statement <code>if(!testvar)</code> checks for boolean true/false values, this
particular one tests whether <code>testvar</code> evaluates to <code>false</code>. By definition,
<code>null</code> and <code>undefined</code> shouldn't be evaluated neither as <code>true</code> or <code>false</code>,
but JavaScript evaluates <code>null</code> as <code>false</code>, and gives an error if you try to
evaluate an undefined variable.</p>
<p>To properly test for <code>undefined</code> or <code>null</code>, use these:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="p">(</span><span class="nb">typeof</span><span class="p">(</span><span class="n">testvar</span><span class="p">)</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">"undefined"</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">...</span><span class="w"> </span><span class="p">}</span>

<span class="k">if</span><span class="p">(</span><span class="n">testvar</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">...</span><span class="w"> </span><span class="p">}</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2746.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2744.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 841) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-841.html">
<link rel="prev" href="index-842.html" type="text/html">
<link rel="next" href="index-840.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-the-difference-between-using-constructor-vs-getinitialstate-in-react-react-native/" class="u-url">What is the difference between using constructor vs getInitialState in React / React Native?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-the-difference-between-using-constructor-vs-getinitialstate-in-react-react-native/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T17:24:52+08:00" itemprop="datePublished" title="2023-02-17 17:24">2023-02-17 17:24</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I've seen both used interchangeably.</p>
<p>What are the main use cases for both? Are there advantages / disadvantages? Is
one a better practice?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The two approaches are not interchangeable. You should initialize state in the
constructor when using ES6 classes, and define the <code>getInitialState</code> method
when using <code>React.createClass</code>.</p>
<p>See the official React doc on the subject of ES6 classes.</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span><span class="w"> </span><span class="n">MyComponent</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="n">React</span><span class="o">.</span><span class="n">Component</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">constructor</span><span class="p">(</span><span class="n">props</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">super</span><span class="p">(</span><span class="n">props</span><span class="p">);</span>
<span class="w">    </span><span class="n">this</span><span class="o">.</span><span class="n">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">/*</span><span class="w"> </span><span class="n">initial</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="o">*/</span><span class="w"> </span><span class="p">};</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>is equivalent to</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">MyComponent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">React</span><span class="o">.</span><span class="n">createClass</span><span class="p">({</span>
<span class="w">  </span><span class="n">getInitialState</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">/*</span><span class="w"> </span><span class="n">initial</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="o">*/</span><span class="w"> </span><span class="p">};</span>
<span class="w">  </span><span class="p">},</span>
<span class="p">});</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>The difference between <code>constructor</code> and <code>getInitialState</code> is the difference
between <strong>ES6</strong> and <strong>ES5</strong> itself.<br><code>getInitialState</code> is used with <code>React.createClass</code> and<br><code>constructor</code> is used with <code>React.Component</code>.</p>
<p>Hence the question boils down to advantages/disadvantages of using <strong>ES6</strong> or
<strong>ES5</strong>.</p>
<p>Let's look at the difference in code</p>
<p><strong>ES5</strong></p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">TodoApp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">React</span><span class="o">.</span><span class="n">createClass</span><span class="p">({</span><span class="w"> </span>
<span class="w">  </span><span class="n">propTypes</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">title</span><span class="p">:</span><span class="w"> </span><span class="n">PropTypes</span><span class="o">.</span><span class="n">string</span><span class="o">.</span><span class="n">isRequired</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="n">getInitialState</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">items</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span>
<span class="w">    </span><span class="p">};</span><span class="w"> </span>
<span class="w">  </span><span class="p">}</span>
<span class="p">});</span>
</pre></div>

<p><strong>ES6</strong></p>
<div class="code"><pre class="code literal-block"><span class="k">class</span><span class="w"> </span><span class="n">TodoApp</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="n">React</span><span class="o">.</span><span class="n">Component</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">constructor</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">super</span><span class="p">()</span>
<span class="w">    </span><span class="n">this</span><span class="o">.</span><span class="n">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">items</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">};</span>
</pre></div>

<p>There is an interesting reddit thread regarding this.</p>
<p>React community is moving closer to <strong>ES6</strong>. Also it is considered as the best
practice.</p>
<p>There are some differences between <code>React.createClass</code> and <code>React.Component</code>.
For instance, how <code>this</code> is handled in these cases. Read more about such
differences in this blogpost and facebook's content on autobinding</p>
<p><code>constructor</code> can also be used to handle such situations. To bind methods to a
component instance, it can be pre-bonded in the <code>constructor</code>. This is a good
material to do such cool stuff.</p>
<p>Some more good material on best practices<br>
Best Practices for Component State in React.js<br>
Converting React project from ES5 to ES6</p>
<p><strong>Update: April 9, 2019,</strong> :</p>
<p>With the new changes in Javascript class API, you don't need a constructor.</p>
<p>You could do</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span><span class="w"> </span><span class="n">TodoApp</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="n">React</span><span class="o">.</span><span class="n">Component</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="n">this</span><span class="o">.</span><span class="n">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">items</span><span class="p">:</span><span class="w"> </span><span class="p">[]}</span>
<span class="p">};</span>
</pre></div>

<p>This will still get transpiled to constructor format, but you won't have to
worry about it. you can use this format that is more readable.</p>
<p><img alt="react hooks
image" src="https://pbs.twimg.com/profile_images/1055697320673595393/5ufJKreq_bigger.jpg"><strong>With React Hooks</strong></p>
<p>From React version 16.8, there's a new API Called hooks.</p>
<p>Now, you don't even need a class component to have a state. It can even be
done in a functional component.</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">React</span><span class="o">,</span> <span class="p">{</span> <span class="n">useState</span> <span class="p">}</span> <span class="kn">from</span> <span class="s1">'react'</span><span class="p">;</span>

<span class="n">function</span> <span class="n">TodoApp</span> <span class="p">()</span> <span class="p">{</span>
  <span class="n">const</span> <span class="n">items</span> <span class="o">=</span> <span class="n">useState</span><span class="p">([]);</span>
</pre></div>

<p>Note that the initial state is passed as an argument to <code>useState</code>;
<code>useState([])</code></p>
<p>Read more about react hooks from the official docs</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-techniques-can-be-used-to-define-a-class-in-javascript-and-what-are-their-trade-offs/" class="u-url">What techniques can be used to define a class in JavaScript, and what are their trade-offs?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-techniques-can-be-used-to-define-a-class-in-javascript-and-what-are-their-trade-offs/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T17:24:21+08:00" itemprop="datePublished" title="2023-02-17 17:24">2023-02-17 17:24</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I prefer to use OOP in large scale projects like the one I'm working on right
now. I need to create several classes in JavaScript but, if I'm not mistaken,
there are at least a couple of ways to go about doing that. What would be the
syntax and why would it be done in that way?</p>
<p>I would like to avoid using third-party libraries - at least at first.<br>
Looking for other answers, I found the article <em>Object-Oriented Programming
with JavaScript, Part I: Inheritance - Doc JavaScript</em> that discusses object-
oriented programming in JavaScript. Is there a better way to do inheritance?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Here's the way to do it without using any external libraries:</p>
<div class="code"><pre class="code literal-block"><span class="o">//</span><span class="w"> </span><span class="n">Define</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">like</span><span class="w"> </span><span class="n">this</span>
<span class="n">function</span><span class="w"> </span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">gender</span><span class="p">){</span>

<span class="w">   </span><span class="o">//</span><span class="w"> </span><span class="n">Add</span><span class="w"> </span><span class="n">object</span><span class="w"> </span><span class="n">properties</span><span class="w"> </span><span class="n">like</span><span class="w"> </span><span class="n">this</span>
<span class="w">   </span><span class="n">this</span><span class="o">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">   </span><span class="n">this</span><span class="o">.</span><span class="n">gender</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gender</span><span class="p">;</span>
<span class="p">}</span>

<span class="o">//</span><span class="w"> </span><span class="n">Add</span><span class="w"> </span><span class="n">methods</span><span class="w"> </span><span class="n">like</span><span class="w"> </span><span class="n">this</span><span class="o">.</span><span class="w">  </span><span class="n">All</span><span class="w"> </span><span class="n">Person</span><span class="w"> </span><span class="n">objects</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">able</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">invoke</span><span class="w"> </span><span class="n">this</span>
<span class="n">Person</span><span class="o">.</span><span class="n">prototype</span><span class="o">.</span><span class="n">speak</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">(){</span>
<span class="w">    </span><span class="n">alert</span><span class="p">(</span><span class="s2">"Howdy, my name is"</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">this</span><span class="o">.</span><span class="n">name</span><span class="p">);</span>
<span class="p">};</span>

<span class="o">//</span><span class="w"> </span><span class="n">Instantiate</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">objects</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="s1">'new'</span>
<span class="k">var</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Person</span><span class="p">(</span><span class="s2">"Bob"</span><span class="p">,</span><span class="w"> </span><span class="s2">"M"</span><span class="p">);</span>

<span class="o">//</span><span class="w"> </span><span class="n">Invoke</span><span class="w"> </span><span class="n">methods</span><span class="w"> </span><span class="n">like</span><span class="w"> </span><span class="n">this</span>
<span class="n">person</span><span class="o">.</span><span class="n">speak</span><span class="p">();</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">alerts</span><span class="w"> </span><span class="s2">"Howdy, my name is Bob"</span>
</pre></div>

<p>Now the real answer is a whole lot more complex than that. For instance, there
is no such thing as classes in JavaScript. JavaScript uses a <code>prototype</code>-based
inheritance scheme.</p>
<p>In addition, there are numerous popular JavaScript libraries that have their
own style of approximating class-like functionality in JavaScript. You'll want
to check out at least Prototype and jQuery.</p>
<p>Deciding which of these is the "best" is a great way to start a holy war on
Stack Overflow. If you're embarking on a larger JavaScript-heavy project, it's
definitely worth learning a popular library and doing it their way. I'm a
Prototype guy, but Stack Overflow seems to lean towards jQuery.</p>
<p>As far as there being only "one way to do it", without any dependencies on
external libraries, the way I wrote is pretty much it.</p>
<p><br></p>
<h3>Suggest</h3>
<p>The best way to define a class in JavaScript is to not define a class.</p>
<p>Seriously.</p>
<p>There are several different flavors of object-orientation, some of them are:</p>
<ul>
<li>class-based OO (first introduced by Smalltalk)</li>
<li>prototype-based OO (first introduced by Self)</li>
<li>multimethod-based OO (first introduced by CommonLoops, I think)</li>
<li>predicate-based OO (no idea)</li>
</ul>
<p>And probably others I don't know about.</p>
<p>JavaScript implements prototype-based OO. In prototype-based OO, new objects
are created by copying other objects (instead of being instantiated from a
class template) and methods live directly in objects instead of in classes.
Inheritance is done via delegation: if an object doesn't have a method or
property, it is looked up on its prototype(s) (i.e. the object it was cloned
from), then the prototype's prototypes and so on.</p>
<p>In other words: there are no classes.</p>
<p>JavaScript actually has a nice tweak of that model: constructors. Not only can
you create objects by copying existing ones, you can also construct them "out
of thin air", so to speak. If you call a function with the <code>new</code> keyword, that
function becomes a constructor and the <code>this</code> keyword will not point to the
current object but instead to a newly created "empty" one. So, you can
configure an object any way you like. In that way, JavaScript constructors can
take on one of the roles of classes in traditional class-based OO: serving as
a template or blueprint for new objects.</p>
<p>Now, JavaScript is a very powerful language, so it is quite easy to implement
a class-based OO system <em>within JavaScript</em> if you want to. However, you
should only do this if you really have a need for it and not just because
that's the way Java does it.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/remove-blue-underline-from-link/" class="u-url">Remove blue underline from link</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/remove-blue-underline-from-link/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T17:23:51+08:00" itemprop="datePublished" title="2023-02-17 17:23">2023-02-17 17:23</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am attempting to have a link show up in white, without an underline. The
text color shows up correctly as white, but the blue underline is stubbornly
persisting. I tried <code>text-decoration: none;</code> and <code>text-decoration: none
!important;</code> in the CSS to remove the link underline. Neither worked.</p>
<div class="code"><pre class="code literal-block">.boxhead<span class="w"> </span>.otherPage<span class="w"> </span>{
<span class="w">  </span>color:<span class="w"> </span>#FFFFFF;
<span class="w">  </span>text-decoration:<span class="w"> </span>none;
}


<span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"boxhead"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;h2&gt;</span>
<span class="w">    </span><span class="nt">&lt;span</span><span class="w"> </span><span class="na">class=</span><span class="s">"thisPage"</span><span class="nt">&gt;</span>Current<span class="w"> </span>Page<span class="nt">&lt;/span&gt;</span>
<span class="w">    </span><span class="nt">&lt;a</span><span class="w"> </span><span class="na">href=</span><span class="s">"myLink"</span><span class="nt">&gt;&lt;span</span><span class="w"> </span><span class="na">class=</span><span class="s">"otherPage"</span><span class="nt">&gt;</span>Different<span class="w"> </span>Page<span class="nt">&lt;/span&gt;&lt;/a&gt;</span>
<span class="w">  </span><span class="nt">&lt;/h2&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p>How can I remove the blue underline from the link?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You are not applying <code>text-decoration: none;</code> to an anchor (<code>.boxhead a</code>) but
to a span element (<code>.boxhead</code>).</p>
<p>Try this:</p>
<div class="code"><pre class="code literal-block"><span class="na">.boxhead</span><span class="w"> </span><span class="no">a</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nl">color:</span><span class="w"> </span><span class="c1">#FFFFFF;</span>
<span class="w">    </span><span class="nl">text-decoration:</span><span class="w"> </span><span class="nf">none</span><span class="c1">;</span>
<span class="err">}</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>The anchor tag (link) also has pseudo-classes such as visited, hover, link and
active. Make sure your style is applied to the state(s) in question and that
no other styles are conflicting.</p>
<p>For example:</p>
<div class="code"><pre class="code literal-block"><span class="n">a</span><span class="o">:</span><span class="n">hover</span><span class="o">,</span><span class="w"> </span><span class="n">a</span><span class="o">:</span><span class="n">visited</span><span class="o">,</span><span class="w"> </span><span class="n">a</span><span class="o">:</span><span class="n">link</span><span class="o">,</span><span class="w"> </span><span class="n">a</span><span class="o">:</span><span class="n">active</span>
<span class="o">{</span>
<span class="w">    </span><span class="n">text</span><span class="o">-</span><span class="n">decoration</span><span class="o">:</span><span class="w"> </span><span class="n">none</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>

<p>See W3.org for more information on <strong>user action pseudo-classes :hover,
:active, and :focus.</strong></p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-842.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-840.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

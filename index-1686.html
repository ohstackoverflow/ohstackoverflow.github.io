<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1686) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1686.html">
<link rel="prev" href="index-1687.html" type="text/html">
<link rel="next" href="index-1685.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/your-configuration-specifies-to-merge-with-the-branch-name-from-the-remote-but-no-such-ref-was-fetched/" class="u-url">Your configuration specifies to merge with the &lt;branch name&gt; from the remote, but no such ref was fetched.?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/your-configuration-specifies-to-merge-with-the-branch-name-from-the-remote-but-no-such-ref-was-fetched/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T06:57:30+08:00" itemprop="datePublished" title="2023-03-03 06:57">2023-03-03 06:57</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am getting this error for pull:</p>
<blockquote>
<p>Your configuration specifies to merge with the ref
'refs/heads/feature/Sprint4/ABC-123-Branch' from the remote, but no such ref
was fetched.</p>
</blockquote>
<p>This error is not coming for any other branch.<br>
The special thing about this branch is that it is created from the previous
commit of another branch.  </p>
<p>My config file looks like:</p>
<div class="code"><pre class="code literal-block"><span class="k">[core]</span>
<span class="w">    </span><span class="na">repositoryformatversion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">0</span>
<span class="w">    </span><span class="na">filemode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">false</span>
<span class="w">    </span><span class="na">bare</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">false</span>
<span class="w">    </span><span class="na">logallrefupdates</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">true</span>
<span class="w">    </span><span class="na">symlinks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">false</span>
<span class="w">    </span><span class="na">ignorecase</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">true</span>
<span class="w">    </span><span class="na">hideDotFiles</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">dotGitOnly</span>
<span class="k">[remote "origin"]</span>
<span class="w">    </span><span class="na">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&lt;url here&gt;</span>
<span class="w">    </span><span class="na">fetch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">+refs/heads/*:refs/remotes/origin/*</span>
<span class="k">[branch "master"]</span>
<span class="w">    </span><span class="na">remote</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">origin</span>
<span class="w">    </span><span class="na">merge</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">refs/heads/master</span>
<span class="k">[branch "new-develop"]</span>
<span class="w">    </span><span class="na">remote</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">origin</span>
<span class="w">    </span><span class="na">merge</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">refs/heads/new-develop</span>
<span class="k">[branch "feature/Sprint4/ABC-123-Branch"]</span>
<span class="w">    </span><span class="na">remote</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">origin</span>
<span class="w">    </span><span class="na">merge</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">refs/heads/feature/Sprint4/ABC-123-Branch</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<h4>What this means</h4>
<p>Your upstream—the remote you call <code>origin</code>—no longer has, or maybe never had
(it's impossible to tell from this information alone) a branch named
<code>feature/Sprint4/ABC-123-Branch</code>. There's one particularly common reason for
that: someone (probably not you, or you'd remember) deleted the branch in that
other Git repository.</p>
<h4>What to do</h4>
<p>This depends on what you <em>want</em>. See the discussion section below. You can:</p>
<ul>
<li>create or re-create the branch on the remote, or</li>
<li>delete your local branch, or</li>
<li>anything else you can think of.</li>
</ul>
<h4>Discussion</h4>
<p>You must be running <code>git pull</code> (if you were running <code>git merge</code> you would get
a different error message or no error message at all).</p>
<p>When you run <code>git fetch</code>, your Git contacts another Git, based on the <code>url</code>
line under the <code>[remote "origin"]</code> section of your configuration. That Git
runs a command (<code>upload-pack</code>) that, among other things, sends <em>your</em> Git a
list of all branches. You can use <code>git ls-remote</code> to see how this works (try
it, it is educational). Here is a snippet of what I get when running this on a
Git repository for <code>git</code> itself:</p>
<div class="code"><pre class="code literal-block"><span class="err">$</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="n">ls</span><span class="o">-</span><span class="n">remote</span><span class="w"> </span><span class="n">origin</span>
<span class="k">From</span><span class="w"> </span><span class="o">[</span><span class="n">url</span><span class="o">]</span>
<span class="n">bbc61680168542cf6fd3ae637bde395c73b76f0f</span><span class="w">    </span><span class="n">HEAD</span>
<span class="mi">60115</span><span class="n">f54bda3a127ed3cc8ffc6ab6c771cbceb1b</span><span class="w">    </span><span class="n">refs</span><span class="o">/</span><span class="n">heads</span><span class="o">/</span><span class="n">maint</span>
<span class="n">bbc61680168542cf6fd3ae637bde395c73b76f0f</span><span class="w">    </span><span class="n">refs</span><span class="o">/</span><span class="n">heads</span><span class="o">/</span><span class="n">master</span>
<span class="mi">5</span><span class="n">ace31314f460db9aef2f1e2e1bd58016b1541f1</span><span class="w">    </span><span class="n">refs</span><span class="o">/</span><span class="n">heads</span><span class="o">/</span><span class="k">next</span>
<span class="mf">9e085</span><span class="n">c5399f8c1883cc8cdf175b107a4959d8fa6</span><span class="w">    </span><span class="n">refs</span><span class="o">/</span><span class="n">heads</span><span class="o">/</span><span class="n">pu</span>
<span class="n">dd9985bd6dca5602cb461c4b4987466fa2f31638</span><span class="w">    </span><span class="n">refs</span><span class="o">/</span><span class="n">heads</span><span class="o">/</span><span class="n">todo</span>
<span class="o">[</span><span class="n">snip</span><span class="o">]</span>
</pre></div>

<p>The <code>refs/heads/</code> entries list all of the branches that exist on the remote,1
along with the corresponding commit IDs (for <code>refs/tags/</code> entries the IDs may
point to tag objects rather than commits).</p>
<p>Your Git takes each of these branch names and <em>changes</em> it according to the
<code>fetch</code> line(s) in that same <code>remote</code> section. In this case, your Git replaces
<code>refs/heads/master</code> with <code>refs/remotes/origin/master</code>, for instance. Your Git
does this with every branch name that comes across.</p>
<p>It also records the original names in the special file <code>FETCH_HEAD</code> (you can
see this file if you peek into your own <code>.git</code> directory). This file saves the
fetched names and IDs.</p>
<p>The <code>git pull</code> command is meant as a convenience short-cut: it runs <code>git
fetch</code> on the appropriate remote, and then <code>git merge</code> (or, if so instructed,
<code>git rebase</code>) with whatever arguments are needed to merge (or rebase) as
directed by the <code>[branch ...]</code> section. In this case, your <code>[branch
"feature/Sprint4/ABC-123-Branch"]</code> section says to fetch from <code>origin</code>, then
merge with whatever ID was found under the name
<code>refs/heads/feature/Sprint4/ABC-123-Branch</code>.</p>
<p>Since nothing was found under that name, <code>git pull</code> complains and stops.</p>
<p>If you run this as two separate steps, <code>git fetch</code> and then <code>git merge</code> (or
<code>git rebase</code>), your Git would look at your cached <code>remotes/origin/</code> remote-
tracking branches to see what to merge with or rebase onto. If there <em>was</em>
such a branch at one time, you may still have the remote-tracking branch. In
this case, you would not get an error message. If there was never such a
branch, or if you have run <code>git fetch</code> with <code>--prune</code> (which removes dead
remote-tracking branches), so that you have no corresponding remote-tracking
branch, you would get a complaint, but it would refer to
<code>origin/feature/Sprint4/ABC-123-Branch</code> instead.</p>
<p><strong>In either case</strong> , we can conclude that <code>feature/Sprint4/ABC-123-Branch</code>
does not exist now on the remote named <code>origin</code>.</p>
<p>It probably did exist at one time, and you probably created your local branch
from the remote-tracking branch. If so, you probably still have the remote-
tracking branch. You might investigate to see who removed the branch from the
remote, and why, or you might just push something to re-create it, or delete
your remote-tracking branch and/or your local branch.</p>
<hr>
<p>1Well, all that it is going to <em>admit</em> to, at least. But unless they have
specifically hidden some refs, the list includes everything.</p>
<p><strong>Edit, Jul 2020:</strong> There's a new fetch protocol that can avoid listing
<em>everything</em> , and only list names that your Git says it's looking for. This
can help with repositories that have huge numbers of branches and/or tags.
However, if your Git is interested in all possible names, you'll still get all
the names here.</p>
<p><br></p>
<h3>Suggest</h3>
<p>This can also happen if you/someone renamed the branch. So follow these steps
(if you know that branch name is renamed) Assuming earlier branch name as
<strong><code>wrong-branch-name</code></strong> and someone renamed it to <strong><code>correct-branch-name</code></strong>
So.</p>
<div class="code"><pre class="code literal-block">git checkout correct-branch-name
</pre></div>

<p><code>git pull</code> (you'll see this "Your configuration specifies..")</p>
<div class="code"><pre class="code literal-block">git branch --unset-upstream

git branch --set-upstream-to=origin/correct-branch-name
</pre></div>

<p>for older git versions <code>git push --set-upstream origin correct-branch-name</code></p>
<p><code>git pull</code> (you'll not get the earlier message )</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-extract-a-substring-using-regex/" class="u-url">How to extract a substring using regex</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-extract-a-substring-using-regex/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T06:57:05+08:00" itemprop="datePublished" title="2023-03-03 06:57">2023-03-03 06:57</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a string that has two single quotes in it, the <code>'</code> character. In
between the single quotes is the data I want.</p>
<p>How can I write a regex to extract "the data i want" from the following text?</p>
<div class="code"><pre class="code literal-block">mydata = "some string with 'the data i want' inside";
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>Assuming you want the part between single quotes, use this regular expression
with a <code>Matcher</code>:</p>
<div class="code"><pre class="code literal-block">"'(.*?)'"
</pre></div>

<p>Example:</p>
<div class="code"><pre class="code literal-block"><span class="nv">String</span><span class="w"> </span><span class="nv">mydata</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"some string with 'the data i want' inside"</span><span class="c1">;</span>
<span class="nv">Pattern</span><span class="w"> </span><span class="nv">pattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Pattern</span>.<span class="nv">compile</span><span class="ss">(</span><span class="s2">"'(.*?)'"</span><span class="ss">)</span><span class="c1">;</span>
<span class="nv">Matcher</span><span class="w"> </span><span class="nv">matcher</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">pattern</span>.<span class="nv">matcher</span><span class="ss">(</span><span class="nv">mydata</span><span class="ss">)</span><span class="c1">;</span>
<span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">matcher</span>.<span class="nv">find</span><span class="ss">())</span>
{
<span class="w">    </span><span class="nv">System</span>.<span class="nv">out</span>.<span class="nv">println</span><span class="ss">(</span><span class="nv">matcher</span>.<span class="nv">group</span><span class="ss">(</span><span class="mi">1</span><span class="ss">))</span><span class="c1">;</span>
}
</pre></div>

<p>Result:</p>
<div class="code"><pre class="code literal-block">the data i want
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>You don't need regex for this.</p>
<p>Add apache commons lang to your project
(http://commons.apache.org/proper/commons-lang/), then use:</p>
<div class="code"><pre class="code literal-block">String dataYouWant = StringUtils.substringBetween(mydata, "'");
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/using-openssl-to-get-the-certificate-from-a-server/" class="u-url">Using openssl to get the certificate from a server</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/using-openssl-to-get-the-certificate-from-a-server/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T06:56:41+08:00" itemprop="datePublished" title="2023-03-03 06:56">2023-03-03 06:56</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am trying to get the certificate of a remote server, which I can then use to
add to my keystore and use within my Java application.</p>
<p>A senior dev (who is on holidays :( ) informed me I can run this:</p>
<div class="code"><pre class="code literal-block"><span class="nv">openssl</span><span class="w"> </span><span class="nv">s_client</span><span class="w"> </span><span class="o">-</span><span class="k">connect</span><span class="w"> </span><span class="nv">host</span>.<span class="nv">host</span>:<span class="mi">9999</span>
</pre></div>

<p>to get a raw certificate dumped out, which I can then copy and export. I
receive the following output:</p>
<div class="code"><pre class="code literal-block"><span class="nv">depth</span><span class="o">=</span><span class="mi">1</span><span class="w"> </span><span class="o">/</span><span class="nv">C</span><span class="o">=</span><span class="nv">NZ</span><span class="o">/</span><span class="nv">ST</span><span class="o">=</span><span class="nv">Test</span><span class="w"> </span><span class="nv">State</span><span class="w"> </span><span class="nv">or</span><span class="w"> </span><span class="nv">Province</span><span class="o">/</span><span class="nv">O</span><span class="o">=</span><span class="nv">Organization</span><span class="w"> </span><span class="nv">Name</span><span class="o">/</span><span class="nv">OU</span><span class="o">=</span><span class="nv">Organizational</span><span class="w"> </span><span class="nv">Unit</span><span class="w"> </span><span class="nv">Name</span><span class="o">/</span><span class="nv">CN</span><span class="o">=</span><span class="nv">Test</span><span class="w"> </span><span class="nv">CA</span>
<span class="nv">verify</span><span class="w"> </span><span class="nv">error</span>:<span class="nv">num</span><span class="o">=</span><span class="mi">19</span>:<span class="nv">self</span><span class="w"> </span><span class="nv">signed</span><span class="w"> </span><span class="nv">certificate</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">certificate</span><span class="w"> </span><span class="nv">chain</span>
<span class="nv">verify</span><span class="w"> </span><span class="k">return</span>:<span class="mi">0</span>
<span class="mi">23177</span>:<span class="nv">error</span>:<span class="mi">14094410</span>:<span class="nv">SSL</span><span class="w"> </span><span class="nv">routines</span>:<span class="nv">SSL3_READ_BYTES</span>:<span class="nv">sslv3</span><span class="w"> </span><span class="nv">alert</span><span class="w"> </span><span class="nv">handshake</span><span class="w"> </span><span class="nv">failure</span>:<span class="nv">s3_pkt</span>.<span class="nv">c</span>:<span class="mi">1086</span>:<span class="nv">SSL</span><span class="w"> </span><span class="nv">alert</span><span class="w"> </span><span class="nv">number</span><span class="w"> </span><span class="mi">40</span>
<span class="mi">23177</span>:<span class="nv">error</span>:<span class="mi">140790</span><span class="nv">E5</span>:<span class="nv">SSL</span><span class="w"> </span><span class="nv">routines</span>:<span class="nv">SSL23_WRITE</span>:<span class="nv">ssl</span><span class="w"> </span><span class="nv">handshake</span><span class="w"> </span><span class="nv">failure</span>:<span class="nv">s23_lib</span>.<span class="nv">c</span>:<span class="mi">188</span>:
</pre></div>

<p>I have also tried it with this option:</p>
<div class="code"><pre class="code literal-block">-showcerts
</pre></div>

<p>and this one (running on Debian mind you):</p>
<div class="code"><pre class="code literal-block">-CApath /etc/ssl/certs/
</pre></div>

<p>But I get the same error.</p>
<p>This source says I can use that CApath flag but it doesn't seem to help. I
tried multiple paths to no avail.</p>
<p>Please let me know where I'm going wrong.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>It turns out there is more complexity here: I needed to provide many more
details to get this rolling. I think its something to do with the fact that
its a connection that needs client authentication, and the hankshake needed
more info to continue to the stage where the certificates were dumped.</p>
<p>Here is my working command:</p>
<div class="code"><pre class="code literal-block"><span class="nv">openssl</span><span class="w"> </span><span class="nv">s_client</span><span class="w"> </span><span class="o">-</span><span class="k">connect</span><span class="w"> </span><span class="nv">host</span>:<span class="nv">port</span><span class="w"> </span><span class="o">-</span><span class="nv">key</span><span class="w"> </span><span class="nv">our_private_key</span>.<span class="nv">pem</span><span class="w"> </span><span class="o">-</span><span class="nv">showcerts</span><span class="w"> </span>\
<span class="w">                 </span><span class="o">-</span><span class="nv">cert</span><span class="w"> </span><span class="nv">our_server</span><span class="o">-</span><span class="nv">signed_cert</span>.<span class="nv">pem</span>
</pre></div>

<p>Hopefully this is a nudge in the right direction for anyone who could do with
some more info.</p>
<p><br></p>
<h3>Suggest</h3>
<p>A one-liner to extract the certificate from a remote server in PEM format,
this time using <code>sed</code>:</p>
<div class="code"><pre class="code literal-block"><span class="n">openssl</span> <span class="n">s_client</span> <span class="o">-</span><span class="n">connect</span> <span class="n">www</span><span class="p">.</span><span class="n">google</span><span class="p">.</span><span class="n">com</span><span class="p">:</span><span class="mi">443</span> <span class="mi">2</span><span class="o">&gt;/</span><span class="n">dev</span><span class="o">/</span><span class="n">null</span> <span class="o">&lt;/</span><span class="n">dev</span><span class="o">/</span><span class="n">null</span> <span class="p">|</span>  <span class="n">sed</span> <span class="o">-</span><span class="n">ne</span> <span class="s">'/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p'</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1687.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1685.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

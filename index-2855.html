<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2855) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2855.html">
<link rel="prev" href="index-2856.html" type="text/html">
<link rel="next" href="index-2854.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/org-hibernate-hibernateexception-access-to-dialectresolutioninfo-cannot-be-null-when-hibernate-dialect-not-set/" class="u-url">org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when 'hibernate.dialect' not set</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/org-hibernate-hibernateexception-access-to-dialectresolutioninfo-cannot-be-null-when-hibernate-dialect-not-set/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T23:01:50+08:00" itemprop="datePublished" title="2023-03-05 23:01">2023-03-05 23:01</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am trying run a spring-boot application which uses hibernate via spring-jpa,
but i am getting this error:</p>
<div class="code"><pre class="code literal-block"><span class="n">Caused</span><span class="w"> </span><span class="n">by</span><span class="p">:</span><span class="w"> </span><span class="n">org</span><span class="o">.</span><span class="n">hibernate</span><span class="o">.</span><span class="n">HibernateException</span><span class="p">:</span><span class="w"> </span><span class="n">Access</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">DialectResolutionInfo</span><span class="w"> </span><span class="n">cannot</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="w"> </span><span class="n">when</span><span class="w"> </span><span class="s1">'hibernate.dialect'</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">set</span>
<span class="w">        </span><span class="n">at</span><span class="w"> </span><span class="n">org</span><span class="o">.</span><span class="n">hibernate</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">jdbc</span><span class="o">.</span><span class="n">dialect</span><span class="o">.</span><span class="n">internal</span><span class="o">.</span><span class="n">DialectFactoryImpl</span><span class="o">.</span><span class="n">determineDialect</span><span class="p">(</span><span class="n">DialectFactoryImpl</span><span class="o">.</span><span class="n">java</span><span class="p">:</span><span class="mi">104</span><span class="p">)</span>
<span class="w">        </span><span class="n">at</span><span class="w"> </span><span class="n">org</span><span class="o">.</span><span class="n">hibernate</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">jdbc</span><span class="o">.</span><span class="n">dialect</span><span class="o">.</span><span class="n">internal</span><span class="o">.</span><span class="n">DialectFactoryImpl</span><span class="o">.</span><span class="n">buildDialect</span><span class="p">(</span><span class="n">DialectFactoryImpl</span><span class="o">.</span><span class="n">java</span><span class="p">:</span><span class="mi">71</span><span class="p">)</span>
<span class="w">        </span><span class="n">at</span><span class="w"> </span><span class="n">org</span><span class="o">.</span><span class="n">hibernate</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">jdbc</span><span class="o">.</span><span class="n">internal</span><span class="o">.</span><span class="n">JdbcServicesImpl</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">JdbcServicesImpl</span><span class="o">.</span><span class="n">java</span><span class="p">:</span><span class="mi">205</span><span class="p">)</span>
<span class="w">        </span><span class="n">at</span><span class="w"> </span><span class="n">org</span><span class="o">.</span><span class="n">hibernate</span><span class="o">.</span><span class="n">boot</span><span class="o">.</span><span class="n">registry</span><span class="o">.</span><span class="n">internal</span><span class="o">.</span><span class="n">StandardServiceRegistryImpl</span><span class="o">.</span><span class="n">configureService</span><span class="p">(</span><span class="n">StandardServiceRegistryImpl</span><span class="o">.</span><span class="n">java</span><span class="p">:</span><span class="mi">111</span><span class="p">)</span>
<span class="w">        </span><span class="n">at</span><span class="w"> </span><span class="n">org</span><span class="o">.</span><span class="n">hibernate</span><span class="o">.</span><span class="n">service</span><span class="o">.</span><span class="n">internal</span><span class="o">.</span><span class="n">AbstractServiceRegistryImpl</span><span class="o">.</span><span class="n">initializeService</span><span class="p">(</span><span class="n">AbstractServiceRegistryImpl</span><span class="o">.</span><span class="n">java</span><span class="p">:</span><span class="mi">234</span><span class="p">)</span>
<span class="w">        </span><span class="n">at</span><span class="w"> </span><span class="n">org</span><span class="o">.</span><span class="n">hibernate</span><span class="o">.</span><span class="n">service</span><span class="o">.</span><span class="n">internal</span><span class="o">.</span><span class="n">AbstractServiceRegistryImpl</span><span class="o">.</span><span class="n">getService</span><span class="p">(</span><span class="n">AbstractServiceRegistryImpl</span><span class="o">.</span><span class="n">java</span><span class="p">:</span><span class="mi">206</span><span class="p">)</span>
<span class="w">        </span><span class="n">at</span><span class="w"> </span><span class="n">org</span><span class="o">.</span><span class="n">hibernate</span><span class="o">.</span><span class="n">cfg</span><span class="o">.</span><span class="n">Configuration</span><span class="o">.</span><span class="n">buildTypeRegistrations</span><span class="p">(</span><span class="n">Configuration</span><span class="o">.</span><span class="n">java</span><span class="p">:</span><span class="mi">1885</span><span class="p">)</span>
<span class="w">        </span><span class="n">at</span><span class="w"> </span><span class="n">org</span><span class="o">.</span><span class="n">hibernate</span><span class="o">.</span><span class="n">cfg</span><span class="o">.</span><span class="n">Configuration</span><span class="o">.</span><span class="n">buildSessionFactory</span><span class="p">(</span><span class="n">Configuration</span><span class="o">.</span><span class="n">java</span><span class="p">:</span><span class="mi">1843</span><span class="p">)</span>
<span class="w">        </span><span class="n">at</span><span class="w"> </span><span class="n">org</span><span class="o">.</span><span class="n">hibernate</span><span class="o">.</span><span class="n">jpa</span><span class="o">.</span><span class="n">boot</span><span class="o">.</span><span class="n">internal</span><span class="o">.</span><span class="n">EntityManagerFactoryBuilderImpl</span><span class="o">$</span><span class="mf">4.</span><span class="n">perform</span><span class="p">(</span><span class="n">EntityManagerFactoryBuilderImpl</span><span class="o">.</span><span class="n">java</span><span class="p">:</span><span class="mi">850</span><span class="p">)</span>
<span class="w">        </span><span class="n">at</span><span class="w"> </span><span class="n">org</span><span class="o">.</span><span class="n">hibernate</span><span class="o">.</span><span class="n">jpa</span><span class="o">.</span><span class="n">boot</span><span class="o">.</span><span class="n">internal</span><span class="o">.</span><span class="n">EntityManagerFactoryBuilderImpl</span><span class="o">$</span><span class="mf">4.</span><span class="n">perform</span><span class="p">(</span><span class="n">EntityManagerFactoryBuilderImpl</span><span class="o">.</span><span class="n">java</span><span class="p">:</span><span class="mi">843</span><span class="p">)</span>
<span class="w">        </span><span class="n">at</span><span class="w"> </span><span class="n">org</span><span class="o">.</span><span class="n">hibernate</span><span class="o">.</span><span class="n">boot</span><span class="o">.</span><span class="n">registry</span><span class="o">.</span><span class="n">classloading</span><span class="o">.</span><span class="n">internal</span><span class="o">.</span><span class="n">ClassLoaderServiceImpl</span><span class="o">.</span><span class="n">withTccl</span><span class="p">(</span><span class="n">ClassLoaderServiceImpl</span><span class="o">.</span><span class="n">java</span><span class="p">:</span><span class="mi">398</span><span class="p">)</span>
<span class="w">        </span><span class="n">at</span><span class="w"> </span><span class="n">org</span><span class="o">.</span><span class="n">hibernate</span><span class="o">.</span><span class="n">jpa</span><span class="o">.</span><span class="n">boot</span><span class="o">.</span><span class="n">internal</span><span class="o">.</span><span class="n">EntityManagerFactoryBuilderImpl</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="n">EntityManagerFactoryBuilderImpl</span><span class="o">.</span><span class="n">java</span><span class="p">:</span><span class="mi">842</span><span class="p">)</span>
<span class="w">        </span><span class="n">at</span><span class="w"> </span><span class="n">org</span><span class="o">.</span><span class="n">hibernate</span><span class="o">.</span><span class="n">jpa</span><span class="o">.</span><span class="n">HibernatePersistenceProvider</span><span class="o">.</span><span class="n">createContainerEntityManagerFactory</span><span class="p">(</span><span class="n">HibernatePersistenceProvider</span><span class="o">.</span><span class="n">java</span><span class="p">:</span><span class="mi">152</span><span class="p">)</span>
<span class="w">        </span><span class="n">at</span><span class="w"> </span><span class="n">org</span><span class="o">.</span><span class="n">springframework</span><span class="o">.</span><span class="n">orm</span><span class="o">.</span><span class="n">jpa</span><span class="o">.</span><span class="n">LocalContainerEntityManagerFactoryBean</span><span class="o">.</span><span class="n">createNativeEntityManagerFactory</span><span class="p">(</span><span class="n">LocalContainerEntityManagerFactoryBean</span><span class="o">.</span><span class="n">java</span><span class="p">:</span><span class="mi">336</span><span class="p">)</span>
<span class="w">        </span><span class="n">at</span><span class="w"> </span><span class="n">org</span><span class="o">.</span><span class="n">springframework</span><span class="o">.</span><span class="n">orm</span><span class="o">.</span><span class="n">jpa</span><span class="o">.</span><span class="n">AbstractEntityManagerFactoryBean</span><span class="o">.</span><span class="n">afterPropertiesSet</span><span class="p">(</span><span class="n">AbstractEntityManagerFactoryBean</span><span class="o">.</span><span class="n">java</span><span class="p">:</span><span class="mi">318</span><span class="p">)</span>
<span class="w">        </span><span class="n">at</span><span class="w"> </span><span class="n">org</span><span class="o">.</span><span class="n">springframework</span><span class="o">.</span><span class="n">beans</span><span class="o">.</span><span class="n">factory</span><span class="o">.</span><span class="n">support</span><span class="o">.</span><span class="n">AbstractAutowireCapableBeanFactory</span><span class="o">.</span><span class="n">invokeInitMethods</span><span class="p">(</span><span class="n">AbstractAutowireCapableBeanFactory</span><span class="o">.</span><span class="n">java</span><span class="p">:</span><span class="mi">1613</span><span class="p">)</span>
<span class="w">        </span><span class="n">at</span><span class="w"> </span><span class="n">org</span><span class="o">.</span><span class="n">springframework</span><span class="o">.</span><span class="n">beans</span><span class="o">.</span><span class="n">factory</span><span class="o">.</span><span class="n">support</span><span class="o">.</span><span class="n">AbstractAutowireCapableBeanFactory</span><span class="o">.</span><span class="n">initializeBean</span><span class="p">(</span><span class="n">AbstractAutowireCapableBeanFactory</span><span class="o">.</span><span class="n">java</span><span class="p">:</span><span class="mi">1550</span><span class="p">)</span>
<span class="w">        </span><span class="o">...</span><span class="w"> </span><span class="mi">21</span><span class="w"> </span><span class="n">more</span>
</pre></div>

<p>my pom.xml file is this:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;parent&gt;</span>
<span class="w">    </span><span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
<span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-parent<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">    </span><span class="nt">&lt;version&gt;</span>1.1.8.RELEASE<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/parent&gt;</span>

<span class="nt">&lt;dependencies&gt;</span>
<span class="w">    </span><span class="nt">&lt;dependency&gt;</span>
<span class="w">        </span><span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
<span class="w">        </span><span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-web<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">    </span><span class="nt">&lt;/dependency&gt;</span>
<span class="w">    </span><span class="nt">&lt;dependency&gt;</span>
<span class="w">        </span><span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
<span class="w">        </span><span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-actuator<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">    </span><span class="nt">&lt;/dependency&gt;</span>
<span class="w">    </span><span class="nt">&lt;dependency&gt;</span>
<span class="w">        </span><span class="nt">&lt;groupId&gt;</span>org.springframework.security<span class="nt">&lt;/groupId&gt;</span>
<span class="w">        </span><span class="nt">&lt;artifactId&gt;</span>spring-security-web<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">       </span><span class="nt">&lt;/dependency&gt;</span>
<span class="w">    </span><span class="nt">&lt;dependency&gt;</span>
<span class="w">        </span><span class="nt">&lt;groupId&gt;</span>org.springframework.security<span class="nt">&lt;/groupId&gt;</span>
<span class="w">        </span><span class="nt">&lt;artifactId&gt;</span>spring-security-config<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">    </span><span class="nt">&lt;/dependency&gt;</span>
<span class="w">    </span><span class="nt">&lt;dependency&gt;</span>
<span class="w">        </span><span class="nt">&lt;groupId&gt;</span>org.springframework.security<span class="nt">&lt;/groupId&gt;</span>
<span class="w">        </span><span class="nt">&lt;artifactId&gt;</span>spring-security-taglibs<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">    </span><span class="nt">&lt;/dependency&gt;</span>
<span class="w">    </span><span class="nt">&lt;dependency&gt;</span>
<span class="w">        </span><span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
<span class="w">        </span><span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-data-jpa<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">    </span><span class="nt">&lt;/dependency&gt;</span>
<span class="w">    </span><span class="nt">&lt;dependency&gt;</span>
<span class="w">        </span><span class="nt">&lt;groupId&gt;</span>commons-dbcp<span class="nt">&lt;/groupId&gt;</span>
<span class="w">        </span><span class="nt">&lt;artifactId&gt;</span>commons-dbcp<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">    </span><span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;/dependencies&gt;</span>
</pre></div>

<p>my hibernate configuration is that (the dialect configuration is in the last
method from this class):</p>
<div class="code"><pre class="code literal-block"><span class="nv">@Configuration</span>
<span class="nv">@EnableTransactionManagement</span>
<span class="nv">@ComponentScan</span><span class="p">(</span><span class="err">{</span><span class="w"> </span><span class="ss">"com.spring.app"</span><span class="w"> </span><span class="err">}</span><span class="p">)</span>
<span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">HibernateConfig</span><span class="w"> </span><span class="err">{</span>

<span class="w">   </span><span class="nv">@Bean</span>
<span class="w">   </span><span class="k">public</span><span class="w"> </span><span class="n">LocalSessionFactoryBean</span><span class="w"> </span><span class="n">sessionFactory</span><span class="p">()</span><span class="w"> </span><span class="err">{</span>
<span class="w">      </span><span class="n">LocalSessionFactoryBean</span><span class="w"> </span><span class="n">sessionFactory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">LocalSessionFactoryBean</span><span class="p">();</span>

<span class="w">      </span><span class="n">sessionFactory</span><span class="p">.</span><span class="n">setDataSource</span><span class="p">(</span><span class="n">restDataSource</span><span class="p">());</span>
<span class="w">      </span><span class="n">sessionFactory</span><span class="p">.</span><span class="n">setPackagesToScan</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">String</span><span class="err">[]</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="ss">"com.spring.app.model"</span><span class="w"> </span><span class="err">}</span><span class="p">);</span>
<span class="w">      </span><span class="n">sessionFactory</span><span class="p">.</span><span class="n">setHibernateProperties</span><span class="p">(</span><span class="n">hibernateProperties</span><span class="p">());</span>

<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">sessionFactory</span><span class="p">;</span>
<span class="w">   </span><span class="err">}</span>

<span class="w">   </span><span class="nv">@Bean</span>
<span class="w">   </span><span class="k">public</span><span class="w"> </span><span class="n">DataSource</span><span class="w"> </span><span class="n">restDataSource</span><span class="p">()</span><span class="w"> </span><span class="err">{</span>
<span class="w">      </span><span class="n">BasicDataSource</span><span class="w"> </span><span class="n">dataSource</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BasicDataSource</span><span class="p">();</span>

<span class="w">      </span><span class="n">dataSource</span><span class="p">.</span><span class="n">setDriverClassName</span><span class="p">(</span><span class="ss">"org.postgresql.Driver"</span><span class="p">);</span>
<span class="w">      </span><span class="n">dataSource</span><span class="p">.</span><span class="n">setUrl</span><span class="p">(</span><span class="ss">"jdbc:postgresql://localhost:5432/teste?charSet=LATIN1"</span><span class="p">);</span>
<span class="w">      </span><span class="n">dataSource</span><span class="p">.</span><span class="n">setUsername</span><span class="p">(</span><span class="ss">"klebermo"</span><span class="p">);</span>
<span class="w">      </span><span class="n">dataSource</span><span class="p">.</span><span class="n">setPassword</span><span class="p">(</span><span class="ss">"123"</span><span class="p">);</span>

<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">dataSource</span><span class="p">;</span>
<span class="w">   </span><span class="err">}</span>

<span class="w">   </span><span class="nv">@Bean</span>
<span class="w">   </span><span class="nv">@Autowired</span>
<span class="w">   </span><span class="k">public</span><span class="w"> </span><span class="n">HibernateTransactionManager</span><span class="w"> </span><span class="n">transactionManager</span><span class="p">(</span><span class="n">SessionFactory</span><span class="w"> </span><span class="n">sessionFactory</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">      </span><span class="n">HibernateTransactionManager</span><span class="w"> </span><span class="n">txManager</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HibernateTransactionManager</span><span class="p">();</span>
<span class="w">      </span><span class="n">txManager</span><span class="p">.</span><span class="n">setSessionFactory</span><span class="p">(</span><span class="n">sessionFactory</span><span class="p">);</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">txManager</span><span class="p">;</span>
<span class="w">   </span><span class="err">}</span>

<span class="w">   </span><span class="nv">@Bean</span>
<span class="w">   </span><span class="k">public</span><span class="w"> </span><span class="n">PersistenceExceptionTranslationPostProcessor</span><span class="w"> </span><span class="n">exceptionTranslation</span><span class="p">()</span><span class="w"> </span><span class="err">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PersistenceExceptionTranslationPostProcessor</span><span class="p">();</span>
<span class="w">   </span><span class="err">}</span>

<span class="w">   </span><span class="n">Properties</span><span class="w"> </span><span class="n">hibernateProperties</span><span class="p">()</span><span class="w"> </span><span class="err">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Properties</span><span class="p">()</span><span class="w"> </span><span class="err">{</span>
<span class="w">         </span><span class="cm">/**</span>
<span class="cm">         * </span>
<span class="cm">         */</span>
<span class="w">        </span><span class="n">private</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">final</span><span class="w"> </span><span class="n">long</span><span class="w"> </span><span class="n">serialVersionUID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="n">L</span><span class="p">;</span>

<span class="w">        </span><span class="err">{</span>
<span class="w">            </span><span class="n">setProperty</span><span class="p">(</span><span class="ss">"hibernate.hbm2ddl.auto"</span><span class="p">,</span><span class="w"> </span><span class="ss">"create"</span><span class="p">);</span>
<span class="w">            </span><span class="n">setProperty</span><span class="p">(</span><span class="ss">"hibernate.show_sql"</span><span class="p">,</span><span class="w"> </span><span class="ss">"false"</span><span class="p">);</span>
<span class="w">            </span><span class="n">setProperty</span><span class="p">(</span><span class="ss">"hibernate.dialect"</span><span class="p">,</span><span class="w"> </span><span class="ss">"org.hibernate.dialect.PostgreSQLDialect"</span><span class="p">);</span>
<span class="w">         </span><span class="err">}</span>
<span class="w">      </span><span class="err">}</span><span class="p">;</span>
<span class="w">   </span><span class="err">}</span>
<span class="err">}</span>
</pre></div>

<p>what I am doing wrong here?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>First remove all of your configuration Spring Boot will start it for you.</p>
<p>Make sure you have an <code>application.properties</code> in your classpath and add the
following properties.</p>
<div class="code"><pre class="code literal-block"><span class="nv">spring</span>.<span class="nv">datasource</span>.<span class="nv">url</span><span class="o">=</span><span class="nv">jdbc</span>:<span class="nv">postgresql</span>:<span class="o">//</span><span class="nv">localhost</span>:<span class="mi">5432</span><span class="o">/</span><span class="nv">teste</span>?<span class="nv">charSet</span><span class="o">=</span><span class="nv">LATIN1</span>
<span class="nv">spring</span>.<span class="nv">datasource</span>.<span class="nv">username</span><span class="o">=</span><span class="nv">klebermo</span>
<span class="nv">spring</span>.<span class="nv">datasource</span>.<span class="nv">password</span><span class="o">=</span><span class="mi">123</span>

<span class="nv">spring</span>.<span class="nv">jpa</span>.<span class="nv">database</span><span class="o">-</span><span class="nv">platform</span><span class="o">=</span><span class="nv">org</span>.<span class="nv">hibernate</span>.<span class="nv">dialect</span>.<span class="nv">PostgreSQLDialect</span>
<span class="nv">spring</span>.<span class="nv">jpa</span>.<span class="k">show</span><span class="o">-</span><span class="nv">sql</span><span class="o">=</span><span class="nv">false</span>
<span class="nv">spring</span>.<span class="nv">jpa</span>.<span class="nv">hibernate</span>.<span class="nv">ddl</span><span class="o">-</span><span class="nv">auto</span><span class="o">=</span><span class="nv">create</span>
</pre></div>

<p>If you really need access to a <code>SessionFactory</code> and that is basically for the
same datasource, then you can do the following (which is also documented here
although for XML, not JavaConfig).</p>
<div class="code"><pre class="code literal-block"><span class="nv">@Configuration</span><span class="w">        </span>
<span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">HibernateConfig</span><span class="w"> </span><span class="err">{</span>

<span class="w">    </span><span class="nv">@Bean</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">HibernateJpaSessionFactoryBean</span><span class="w"> </span><span class="n">sessionFactory</span><span class="p">(</span><span class="n">EntityManagerFactory</span><span class="w"> </span><span class="n">emf</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">         </span><span class="n">HibernateJpaSessionFactoryBean</span><span class="w"> </span><span class="n">factory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HibernateJpaSessionFactoryBean</span><span class="p">();</span>
<span class="w">         </span><span class="n">factory</span><span class="p">.</span><span class="n">setEntityManagerFactory</span><span class="p">(</span><span class="n">emf</span><span class="p">);</span>
<span class="w">         </span><span class="k">return</span><span class="w"> </span><span class="n">factory</span><span class="p">;</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>
</pre></div>

<p>That way you have both an <code>EntityManagerFactory</code> and a <code>SessionFactory</code>.</p>
<p><strong>UPDATE:</strong> As of Hibernate 5 the <code>SessionFactory</code> actually extends the
<code>EntityManagerFactory</code>. So to obtain a <code>SessionFactory</code> you can simply cast
the <code>EntityManagerFactory</code> to it or use the <code>unwrap</code> method to get one.</p>
<div class="code"><pre class="code literal-block"><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">SomeHibernateRepository</span><span class="w"> </span><span class="err">{</span>

<span class="w">  </span><span class="nv">@PersistenceUnit</span>
<span class="w">  </span><span class="n">private</span><span class="w"> </span><span class="n">EntityManagerFactory</span><span class="w"> </span><span class="n">emf</span><span class="p">;</span>

<span class="w">  </span><span class="n">protected</span><span class="w"> </span><span class="n">SessionFactory</span><span class="w"> </span><span class="n">getSessionFactory</span><span class="p">()</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">emf</span><span class="p">.</span><span class="n">unwrap</span><span class="p">(</span><span class="n">SessionFactory</span><span class="p">.</span><span class="k">class</span><span class="p">);</span>
<span class="w">  </span><span class="err">}</span>

<span class="err">}</span>
</pre></div>

<p>Assuming you have a class with a <code>main</code> method with <code>@EnableAutoConfiguration</code>
you don't need the <code>@EnableTransactionManagement</code> annotation, as that will be
enabled by Spring Boot for you. A basic application class in the
<code>com.spring.app</code> package should be enough.</p>
<div class="code"><pre class="code literal-block"><span class="nv">@Configuration</span>
<span class="nv">@EnableAutoConfiguration</span>
<span class="nv">@ComponentScan</span>
<span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">Application</span><span class="w"> </span><span class="err">{</span>


<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">void</span><span class="w"> </span><span class="n">main</span><span class="p">(</span><span class="n">String</span><span class="err">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">throws</span><span class="w"> </span><span class="k">Exception</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">SpringApplication</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">Application</span><span class="p">.</span><span class="k">class</span><span class="p">,</span><span class="w"> </span><span class="n">args</span><span class="p">);</span>
<span class="w">    </span><span class="err">}</span>

<span class="err">}</span>
</pre></div>

<p>Something like that should be enough to have all your classes (including
entities and Spring Data based repositories) detected.</p>
<p><strong>UPDATE:</strong> These annotations can be replaced with a single
<code>@SpringBootApplication</code> in more recent versions of Spring Boot.</p>
<div class="code"><pre class="code literal-block"><span class="nv">@SpringBootApplication</span>
<span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">Application</span><span class="w"> </span><span class="err">{</span>

<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">void</span><span class="w"> </span><span class="n">main</span><span class="p">(</span><span class="n">String</span><span class="err">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">throws</span><span class="w"> </span><span class="k">Exception</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">SpringApplication</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">Application</span><span class="p">.</span><span class="k">class</span><span class="p">,</span><span class="w"> </span><span class="n">args</span><span class="p">);</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>
</pre></div>

<p>I would also suggest removing the <code>commons-dbcp</code> dependency as that would
allow Spring Boot to configure the faster and more robust <code>HikariCP</code>
implementation.</p>
<p><br></p>
<h3>Suggest</h3>
<p>I was facing a similar problem when starting up the application (using Spring
Boot) <em>with the database server down</em>.</p>
<p>Hibernate can determine the correct dialect to use automatically, but in order
to do this, it needs a live connection to the database.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/break-out-of-if-and-foreach/" class="u-url">break out of if and foreach</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/break-out-of-if-and-foreach/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T23:00:53+08:00" itemprop="datePublished" title="2023-03-05 23:00">2023-03-05 23:00</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a foreach loop and an if statement. If a match is found i need to
ultimately break out of the foreach.</p>
<div class="code"><pre class="code literal-block"><span class="n">foreach</span><span class="w"> </span><span class="p">(</span><span class="err">$</span><span class="n">equipxml</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="err">$</span><span class="n">equip</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="err">$</span><span class="n">current_device</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">$</span><span class="n">equip</span><span class="o">-&gt;</span><span class="kr">xpath</span><span class="p">(</span><span class="s">"name"</span><span class="p">);</span>
<span class="w">    </span><span class="nf">if</span><span class="w"> </span><span class="p">(</span><span class="err">$</span><span class="n">current_device</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="err">$</span><span class="n">device</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="c1">// Found a match in the file.</span>
<span class="w">        </span><span class="err">$</span><span class="n">nodeid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">$</span><span class="n">equip</span><span class="o">-&gt;</span><span class="n">id</span><span class="p">;</span>

<span class="w">        </span><span class="o">&lt;</span><span class="n">break</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="kr">of</span><span class="w"> </span><span class="nf">if</span><span class="w"> </span><span class="kr">and</span><span class="w"> </span><span class="n">foreach</span><span class="w"> </span><span class="n">here</span><span class="o">&gt;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p><code>if</code> is not a loop structure, so you cannot "break out of it".</p>
<p>You can, however, break out of the <code>foreach</code> by simply calling <code>break</code>. In
your example it has the desired effect:</p>
<div class="code"><pre class="code literal-block"><span class="err">$</span><span class="n">device</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"wanted"</span><span class="p">;</span>
<span class="n">foreach</span><span class="p">(</span><span class="err">$</span><span class="n">equipxml</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="err">$</span><span class="n">equip</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">$</span><span class="n">current_device</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">$</span><span class="n">equip</span><span class="o">-&gt;</span><span class="kr">xpath</span><span class="p">(</span><span class="s">"name"</span><span class="p">);</span>
<span class="w">    </span><span class="nf">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="err">$</span><span class="n">current_device</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="err">$</span><span class="n">device</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// found a match in the file            </span>
<span class="w">        </span><span class="err">$</span><span class="n">nodeid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">$</span><span class="n">equip</span><span class="o">-&gt;</span><span class="n">id</span><span class="p">;</span>

<span class="w">        </span><span class="c1">// will leave the foreach loop immediately and also the if statement</span>
<span class="w">        </span><span class="n">break</span><span class="p">;</span>
<span class="w">        </span><span class="n">some_function</span><span class="p">();</span><span class="w"> </span><span class="c1">// never reached!</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">another_function</span><span class="p">();</span><span class="w">  </span><span class="c1">// not executed after match/break</span>
<span class="p">}</span>
</pre></div>

<hr>
<p>Just for completeness for others who stumble upon this question looking for an
answer..</p>
<p><code>break</code> takes an optional argument, which defines <em>how many</em> loop structures
it should break. Example:</p>
<div class="code"><pre class="code literal-block"><span class="nv">foreach</span><span class="w"> </span><span class="ss">(</span>[<span class="s1">'1'</span>,<span class="s1">'2'</span>,<span class="s1">'3'</span>]<span class="w"> </span><span class="nv">as</span><span class="w"> </span><span class="mh">$a</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="nv">echo</span><span class="w"> </span><span class="s2">"$a "</span><span class="c1">;</span>
<span class="w">    </span><span class="nv">foreach</span><span class="w"> </span><span class="ss">(</span>[<span class="s1">'3'</span>,<span class="s1">'2'</span>,<span class="s1">'1'</span>]<span class="w"> </span><span class="nv">as</span><span class="w"> </span><span class="mh">$b</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">        </span><span class="nv">echo</span><span class="w"> </span><span class="s2">"$b "</span><span class="c1">;</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="mh">$a</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mh">$b</span><span class="ss">)</span><span class="w"> </span>{<span class="w"> </span>
<span class="w">            </span><span class="k">break</span><span class="w"> </span><span class="mi">2</span><span class="c1">;  // this will break both foreach loops</span>
<span class="w">        </span>}
<span class="w">    </span>}
<span class="w">    </span><span class="nv">echo</span><span class="w"> </span><span class="s2">". "</span><span class="c1">;  // never reached!</span>
}
<span class="nv">echo</span><span class="w"> </span><span class="s2">"!"</span><span class="c1">;</span>
</pre></div>

<p>Resulting output:</p>
<blockquote>
<p>1 3 2 1 !</p>
</blockquote>
<p><br></p>
<h3>Suggest</h3>
<div class="code"><pre class="code literal-block"><span class="n">foreach</span><span class="p">(</span><span class="err">$</span><span class="n">equipxml</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="err">$</span><span class="n">equip</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">$</span><span class="n">current_device</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">$</span><span class="n">equip</span><span class="o">-&gt;</span><span class="kr">xpath</span><span class="p">(</span><span class="s">"name"</span><span class="p">);</span>
<span class="w">    </span><span class="nf">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="err">$</span><span class="n">current_device</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="err">$</span><span class="n">device</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// found a match in the file            </span>
<span class="w">        </span><span class="err">$</span><span class="n">nodeid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">$</span><span class="n">equip</span><span class="o">-&gt;</span><span class="n">id</span><span class="p">;</span>
<span class="w">        </span><span class="n">break</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>Simply use <code>break</code>. That will do it.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/git-merge-errors/" class="u-url">Git merge errors</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/git-merge-errors/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T23:00:31+08:00" itemprop="datePublished" title="2023-03-05 23:00">2023-03-05 23:00</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a git branch called <code>9-sign-in-out</code> with perfectly working code, and I
want to turn it into the master. I'm currently on the master branch.</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>git<span class="w"> </span>branch
<span class="m">9</span>-sign-in-out
*<span class="w"> </span>master
</pre></div>

<p>I'm trying to switch to <code>9-sign-in-out</code> branch, but it doesn't allow me to:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>git<span class="w"> </span>checkout<span class="w"> </span><span class="m">9</span>-sign-in-out
app/helpers/application_helper.rb:<span class="w"> </span>needs<span class="w"> </span>merge
config/routes.rb:<span class="w"> </span>needs<span class="w"> </span>merge
error:<span class="w"> </span>you<span class="w"> </span>need<span class="w"> </span>to<span class="w"> </span>resolve<span class="w"> </span>your<span class="w"> </span>current<span class="w"> </span>index<span class="w"> </span>first
</pre></div>

<p>Any idea how can I ignore all the master branch errors and turn the <code>9-sign-
in-out</code> branch into the master? Maybe git rebase? But I don't want to lose the
code in <code>9-sign-in-out</code> branch.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>It's worth understanding what those error messages mean - <code>needs merge</code> and
<code>error: you need to resolve your current index first</code> indicate that a merge
failed, and that there are conflicts in those files. If you've decided that
whatever merge you were trying to do was a bad idea after all, you can put
things back to normal with:</p>
<div class="code"><pre class="code literal-block">git reset --merge
</pre></div>

<p>However, otherwise you should resolve those merge conflicts, as described in
the git manual.</p>
<hr>
<p>Once you've dealt with that by either technique you should be able to checkout
the <code>9-sign-in-out</code> branch. The problem with just renaming your <code>9-sign-in-
out</code> to <code>master</code>, as suggested in wRAR's answer is that if you've shared your
previous master branch with anyone, this will create problems for them, since
if the history of the two branches diverged, you'll be publishing rewritten
history.</p>
<p>Essentially what you want to do is to merge your topic branch <code>9-sign-in-out</code>
into <code>master</code> but exactly keep the versions of the files in the topic branch.
You could do this with the following steps:</p>
<div class="code"><pre class="code literal-block">#<span class="w"> </span><span class="nv">Switch</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">topic</span><span class="w"> </span><span class="nv">branch</span>:
<span class="nv">git</span><span class="w"> </span><span class="nv">checkout</span><span class="w"> </span><span class="mi">9</span><span class="o">-</span><span class="nv">sign</span><span class="o">-</span><span class="nv">in</span><span class="o">-</span><span class="nv">out</span>

#<span class="w"> </span><span class="nv">Create</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">merge</span><span class="w"> </span><span class="nv">commit</span>,<span class="w"> </span><span class="nv">which</span><span class="w"> </span><span class="nv">looks</span><span class="w"> </span><span class="nv">as</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">it</span><span class="err">'s merging in from master, but is</span>
<span class="err"># actually discarding everything from the master branch and keeping everything</span>
<span class="err"># from 9-sign-in-out:</span>
<span class="err">git merge -s ours master</span>

<span class="err"># Switch back to the master branch:</span>
<span class="err">git checkout master</span>

<span class="err"># Merge the topic branch into master - this should now be a fast-forward</span>
<span class="err"># that leaves you with master exactly as 9-sign-in-out was:</span>
<span class="err">git merge 9-sign-in-out</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Change branch, discarding all local modifications</p>
<div class="code"><pre class="code literal-block">git checkout -f 9-sign-in-out
</pre></div>

<p>Rename the current branch to master, discarding current master</p>
<div class="code"><pre class="code literal-block">git branch -M master
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2856.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2854.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

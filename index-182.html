<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 182) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-182.html">
<link rel="prev" href="index-183.html" type="text/html">
<link rel="next" href="index-181.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-the-difference-between-promises-and-observables/" class="u-url">What is the difference between Promises and Observables?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-the-difference-between-promises-and-observables/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T00:07:09+08:00" itemprop="datePublished" title="2023-02-17 00:07">2023-02-17 00:07</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What is the difference between <code>Promise</code> and <code>Observable</code> in Angular?</p>
<p>An example on each would be helpful in understanding both the cases. In what
scenario can we use each case?</p>
<p><br><br></p>
<h2>Answer</h2>
<p><strong>Promise</strong></p>
<p>A <code>Promise</code> handles a <strong>single event</strong> when an async operation completes or
fails.</p>
<p>Note: There are <code>Promise</code> libraries out there that support cancellation, but
ES6 <code>Promise</code> doesn't so far.</p>
<p><strong>Observable</strong></p>
<p>An <code>Observable</code> is like a <strong><code>Stream</code></strong> (in many languages) and allows to pass
zero or more events where the callback is called for each event.</p>
<p>Often <code>Observable</code> is preferred over <code>Promise</code> because it provides the
features of <code>Promise</code> and more. With <code>Observable</code> it doesn't matter if you
want to handle 0, 1, or multiple events. You can utilize the same API in each
case.</p>
<p><code>Observable</code> also has the advantage over <code>Promise</code> to be <strong>cancellable</strong>. If
the result of an HTTP request to a server or some other expensive async
operation isn't needed anymore, the <code>Subscription</code> of an <code>Observable</code> allows
to cancel the subscription, while a <code>Promise</code> will eventually call the success
or failed callback even when you don't need the notification or the result it
provides anymore.</p>
<p>While a <code>Promise</code> starts immediately, an <code>Observable</code> only starts if you
subscribe to it. This is why Observables are called lazy.</p>
<p>Observable provides <strong>operators</strong> like <code>map</code>, <code>forEach</code>, <code>reduce</code>, ... similar
to an array</p>
<p>There are also powerful operators like <code>retry()</code>, or <code>replay()</code>, ... that are
often quite handy. A list of operators shipped with rxjs</p>
<p>Lazy execution allows to build up a chain of operators before the observable
is executed by subscribing, to do a more declarative kind of programming.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Both <code>Promises</code> and <code>Observables</code> provide us with abstractions that help us
deal with the <strong>asynchronous</strong> nature of our applications. The difference
between them was pointed out clearly by Günter and @Relu.</p>
<p>Since a code snippet is worth a thousand words, let’s go through the below
example to understand them easier.</p>
<blockquote>
<p>Thanks @Christoph Burgdorf for the awesome article</p>
</blockquote>
<hr>
<p>Angular uses Rx.js Observables instead of promises for dealing with HTTP.</p>
<p>Suppose that you are building a <strong>search function</strong> that should instantly show
you results as you type. It sounds familiar, but there are a lot of challenges
that come with that task.</p>
<ul>
<li>We don't want to hit the server endpoint every time user presses a key. It should flood them with a storm of HTTP requests. Basically, we only want to hit it once the user has stopped typing instead of with every keystroke.</li>
<li>Don’t hit the search endpoint with the <strong>same query parameters</strong> for subsequent requests.</li>
<li>Deal with out-of-order responses. When we have multiple requests in-flight at the same time we must account for cases where they come back in unexpected order. Imagine we first type <strong>computer</strong> , stop, a request goes out, we type <strong>car</strong> , stop, a request goes out. Now we have two requests in-flight. Unfortunately, the request that carries the results for <strong>computer</strong> comes back after the request that carries the results for <strong>car</strong>.</li>
</ul>
<p>The demo will simply consist of two files: <code>app.ts</code> and <code>wikipedia-
service.ts</code>. In a real world scenario, we would most likely split things
further up, though.</p>
<hr>
<p>Below is a <strong>Promise-based</strong> implementation that doesn’t handle any of the
described edge cases.</p>
<p><code>wikipedia-service.ts</code></p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="p">{</span> <span class="n">Injectable</span> <span class="p">}</span> <span class="kn">from</span> <span class="s1">'@angular/core'</span><span class="p">;</span>
<span class="kn">import</span> <span class="p">{</span> <span class="n">URLSearchParams</span><span class="p">,</span> <span class="n">Jsonp</span> <span class="p">}</span> <span class="kn">from</span> <span class="s1">'@angular/http'</span><span class="p">;</span>

<span class="nd">@Injectable</span><span class="p">()</span>
<span class="n">export</span> <span class="k">class</span> <span class="nc">WikipediaService</span> <span class="p">{</span>
  <span class="n">constructor</span><span class="p">(</span><span class="n">private</span> <span class="n">jsonp</span><span class="p">:</span> <span class="n">Jsonp</span><span class="p">)</span> <span class="p">{}</span>

  <span class="n">search</span> <span class="p">(</span><span class="n">term</span><span class="p">:</span> <span class="n">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">var</span> <span class="n">search</span> <span class="o">=</span> <span class="n">new</span> <span class="n">URLSearchParams</span><span class="p">()</span>
    <span class="n">search</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">'action'</span><span class="p">,</span> <span class="s1">'opensearch'</span><span class="p">);</span>
    <span class="n">search</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">'search'</span><span class="p">,</span> <span class="n">term</span><span class="p">);</span>
    <span class="n">search</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">'format'</span><span class="p">,</span> <span class="s1">'json'</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">this</span><span class="o">.</span><span class="n">jsonp</span>
                <span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'http://en.wikipedia.org/w/api.php?callback=JSONP_CALLBACK'</span><span class="p">,</span> <span class="p">{</span> <span class="n">search</span> <span class="p">})</span>
                <span class="o">.</span><span class="n">toPromise</span><span class="p">()</span>
                <span class="o">.</span><span class="n">then</span><span class="p">((</span><span class="n">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="mi">1</span><span class="p">]);</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>We are injecting the <code>Jsonp</code> service to make a GET request against the
<strong>Wikipedia API</strong> with a given search term. Notice that we call <code>toPromise</code> in
order to get from an <code>Observable&lt;Response&gt;</code> to a <code>Promise&lt;Response&gt;</code>.
Eventually end up with a <code>Promise&lt;Array&lt;string&gt;&gt;</code> as the return type of our
search method.</p>
<p><code>app.ts</code></p>
<div class="code"><pre class="code literal-block"><span class="o">//</span> <span class="n">check</span> <span class="n">the</span> <span class="n">plnkr</span> <span class="k">for</span> <span class="n">the</span> <span class="n">full</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">imports</span>
<span class="kn">import</span> <span class="p">{</span><span class="o">...</span><span class="p">}</span> <span class="kn">from</span> <span class="s1">'...'</span><span class="p">;</span>

<span class="nd">@Component</span><span class="p">({</span>
  <span class="n">selector</span><span class="p">:</span> <span class="s1">'my-app'</span><span class="p">,</span>
  <span class="n">template</span><span class="p">:</span> <span class="err">`</span>
    <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">h2</span><span class="o">&gt;</span><span class="n">Wikipedia</span> <span class="n">Search</span><span class="o">&lt;/</span><span class="n">h2</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nb">input</span> <span class="c1">#term type="text" (keyup)="search(term.value)"&gt;</span>
      <span class="o">&lt;</span><span class="n">ul</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">li</span> <span class="o">*</span><span class="n">ngFor</span><span class="o">=</span><span class="s2">"let item of items"</span><span class="o">&gt;</span><span class="p">{{</span><span class="n">item</span><span class="p">}}</span><span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
      <span class="o">&lt;/</span><span class="n">ul</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
  <span class="err">`</span>
<span class="p">})</span>
<span class="n">export</span> <span class="k">class</span> <span class="nc">AppComponent</span> <span class="p">{</span>
  <span class="n">items</span><span class="p">:</span> <span class="n">Array</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span><span class="p">;</span>

  <span class="n">constructor</span><span class="p">(</span><span class="n">private</span> <span class="n">wikipediaService</span><span class="p">:</span> <span class="n">WikipediaService</span><span class="p">)</span> <span class="p">{}</span>

  <span class="n">search</span><span class="p">(</span><span class="n">term</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">this</span><span class="o">.</span><span class="n">wikipediaService</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">term</span><span class="p">)</span>
                         <span class="o">.</span><span class="n">then</span><span class="p">(</span><span class="n">items</span> <span class="o">=&gt;</span> <span class="n">this</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="n">items</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>There is not much of a surprise here either. We inject our <code>WikipediaService</code>
and expose its functionality via a search method to the template. The template
simply binds to <strong>keyup</strong> and calls <code>search(term.value)</code>.</p>
<p>We unwrap the result of the <strong>Promise</strong> that the search method of the
WikipediaService returns and expose it as a simple array of strings to the
template so that we can have <code>*ngFor</code> loop through it and build up a list for
us.</p>
<p>See the example of <strong>Promise-based</strong> implementation on Plunker</p>
<hr>
<p>Where <strong>Observables</strong> really shine</p>
<p>Let’s change our code to not hammer the endpoint with every keystroke, but
instead only send a request when the user stopped typing for <strong>400 ms</strong></p>
<p>To unveil such super powers, we first need to get an <code>Observable&lt;string&gt;</code> that
carries the search term that the user types in. Instead of manually binding to
the keyup event, we can take advantage of Angular’s <code>formControl</code> directive.
To use this directive, we first need to import the <code>ReactiveFormsModule</code> into
our application module.</p>
<p><code>app.ts</code></p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="p">{</span> <span class="n">NgModule</span> <span class="p">}</span> <span class="kn">from</span> <span class="s1">'@angular/core'</span><span class="p">;</span>
<span class="kn">import</span> <span class="p">{</span> <span class="n">BrowserModule</span> <span class="p">}</span> <span class="kn">from</span> <span class="s1">'@angular/platform-browser'</span><span class="p">;</span>
<span class="kn">import</span> <span class="p">{</span> <span class="n">JsonpModule</span> <span class="p">}</span> <span class="kn">from</span> <span class="s1">'@angular/http'</span><span class="p">;</span>
<span class="kn">import</span> <span class="p">{</span> <span class="n">ReactiveFormsModule</span> <span class="p">}</span> <span class="kn">from</span> <span class="s1">'@angular/forms'</span><span class="p">;</span>

<span class="nd">@NgModule</span><span class="p">({</span>
  <span class="n">imports</span><span class="p">:</span> <span class="p">[</span><span class="n">BrowserModule</span><span class="p">,</span> <span class="n">JsonpModule</span><span class="p">,</span> <span class="n">ReactiveFormsModule</span><span class="p">]</span>
  <span class="n">declarations</span><span class="p">:</span> <span class="p">[</span><span class="n">AppComponent</span><span class="p">],</span>
  <span class="n">bootstrap</span><span class="p">:</span> <span class="p">[</span><span class="n">AppComponent</span><span class="p">]</span>
<span class="p">})</span>
<span class="n">export</span> <span class="k">class</span> <span class="nc">AppModule</span> <span class="p">{}</span>
</pre></div>

<p>Once imported, we can use formControl from within our template and set it to
the name "term".</p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;</span><span class="k">input</span><span class="w"> </span><span class="n">type</span><span class="o">=</span><span class="ss">"text"</span><span class="w"> </span><span class="o">[</span><span class="n">formControl</span><span class="o">]=</span><span class="ss">"term"</span><span class="o">/&gt;</span>
</pre></div>

<p>In our component, we create an instance of <code>FormControl</code> from <code>@angular/form</code>
and expose it as a field under the name term on our component.</p>
<p>Behind the scenes, <strong>term</strong> automatically exposes an <code>Observable&lt;string&gt;</code> as
property <code>valueChanges</code> that we can subscribe to. Now that we have an
<code>Observable&lt;string&gt;</code>, overcoming the user input is as easy as calling
<code>debounceTime(400)</code> on our <code>Observable</code>. This will return a new
<code>Observable&lt;string&gt;</code> that will only emit a new value when there haven’t been
coming new values for 400 ms.</p>
<div class="code"><pre class="code literal-block"><span class="k">export</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">App</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">items</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">Array</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span><span class="p">;</span>
<span class="w">  </span><span class="n">term</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">FormControl</span><span class="p">();</span>
<span class="w">  </span><span class="n">constructor</span><span class="p">(</span><span class="n">private</span><span class="w"> </span><span class="n">wikipediaService</span><span class="p">:</span><span class="w"> </span><span class="n">WikipediaService</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">this</span><span class="o">.</span><span class="n">term</span><span class="o">.</span><span class="n">valueChanges</span>
<span class="w">              </span><span class="o">.</span><span class="n">debounceTime</span><span class="p">(</span><span class="mi">400</span><span class="p">)</span><span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="n">wait</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="mi">400</span><span class="w"> </span><span class="n">ms</span><span class="w"> </span><span class="n">pause</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">events</span>
<span class="w">              </span><span class="o">.</span><span class="n">distinctUntilChanged</span><span class="p">()</span><span class="w">   </span><span class="o">//</span><span class="w"> </span><span class="n">ignore</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">next</span><span class="w"> </span><span class="n">search</span><span class="w"> </span><span class="n">term</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">previous</span>
<span class="w">              </span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">term</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">this</span><span class="o">.</span><span class="n">wikipediaService</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">term</span><span class="p">)</span><span class="o">.</span><span class="n">then</span><span class="p">(</span><span class="n">items</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">this</span><span class="o">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">items</span><span class="p">));</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>It would be a waste of resources to send out another request for a search term
that our application already shows the results for. All we have to do to
achieve the desired behavior is to call the <code>distinctUntilChanged</code> operator
right after we called <code>debounceTime(400)</code></p>
<p>See the example of <strong>Observable</strong> implementation on Plunker</p>
<blockquote>
<p>For dealing with out-of-order responses, please check the full article
http://blog.thoughtram.io/angular/2016/01/06/taking-advantage-of-
observables-in-angular2.html</p>
</blockquote>
<p>As far as I am using HTTP in Angular, I agree that in the normal use cases
there is not much difference when using Observable over Promise. None of the
advantages are really relevant here in practice. I hope I can see some
advanced use case in the future :)</p>
<hr>
<blockquote>
<p>Learn more</p>
<ul>
<li>https://angular-2-training-book.rangle.io/handout/observables/</li>
<li>https://angular.io/tutorial/toh-pt6#observables
</li>
</ul>
</blockquote>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/can-i-delete-a-git-commit-but-keep-the-changes/" class="u-url">Can I delete a git commit but keep the changes?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/can-i-delete-a-git-commit-but-keep-the-changes/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T00:06:28+08:00" itemprop="datePublished" title="2023-02-17 00:06">2023-02-17 00:06</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>In one of my development branches, I made some changes to my codebase. Before
I was able to complete the features I was working on, I had to switch my
current branch to master to demo some features. But just using a "git checkout
master" preserved the changes I also made in my development branch, thus
breaking some of the functionality in master. So what I did was commit the
changes on my development branch with a commit message "temporary commit" and
then checkout master for the demo.</p>
<p>Now that I'm done with the demo and back to work on my development branch, I
would like to remove the "temporary commit" that I made while still preserving
the changes I made. Is that possible?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>It's as simple as this:</p>
<div class="code"><pre class="code literal-block">git reset HEAD^
</pre></div>

<p>Note: some shells treat <code>^</code> as a special character (for example some Windows
shells or ZSH with globbing enabled), so you may have to quote <code>"HEAD^"</code> or
use <code>HEAD~1</code> in those cases.</p>
<p><code>git reset</code> without a <code>--hard</code> or <code>--soft</code> moves your <code>HEAD</code> to point to the
specified commit, without changing any files. <code>HEAD^</code> refers to the (first)
parent commit of your current commit, which in your case is the commit before
the temporary one.</p>
<p>Note that another option is to carry on as normal, and then at the next commit
point instead run:</p>
<div class="code"><pre class="code literal-block">git commit --amend [-m … etc]
</pre></div>

<p>which will instead <em>edit</em> the most recent commit, having the same effect as
above.</p>
<p>Note that this (as with nearly every git answer) can cause problems if you've
already pushed the bad commit to a place where someone else may have pulled it
from. Try to avoid that</p>
<p><br></p>
<h3>Suggest</h3>
<p>There are two ways of handling this. Which is easier depends on your
situation.</p>
<p><strong>Reset</strong></p>
<p>If the commit you want to get rid of was the last commit, and you have not
done any additional work you can simply use <code>git-reset</code></p>
<div class="code"><pre class="code literal-block">git reset HEAD^
</pre></div>

<p>Takes your branch back to the commit just before your current HEAD. However,
it doesn't actually change the files in your working tree. As a result, the
changes that were in that commit show up as modified - its like an 'uncommit'
command. In fact, I have an alias to do just that.</p>
<div class="code"><pre class="code literal-block">git config --global alias.uncommit 'reset HEAD^'
</pre></div>

<p>Then you can just used <code>git uncommit</code> in the future to back up one commit.</p>
<p><strong>Squashing</strong></p>
<p>Squashing a commit means combining two or more commits into one. I do this
quite often. In your case you have a half done feature commited, and then you
would finish it off and commit again with the proper, permanent commit
message.</p>
<div class="code"><pre class="code literal-block">git rebase -i &lt;ref&gt;
</pre></div>

<p>I say above because I want to make it clear this could be any number of
commits back. Run <code>git log</code> and find the commit you want to get rid of, copy
its SHA1 and use it in place of <code>&lt;ref&gt;</code>. Git will take you into interactive
rebase mode. It will show all the commits between your current state and
whatever you put in place of <code>&lt;ref&gt;</code>. So if <code>&lt;ref&gt;</code> is 10 commits ago, it will
show you all 10 commits.</p>
<p>In front of each commit, it will have the word <code>pick</code>. Find the commit you
want to get rid of and change it from <code>pick</code> to <code>fixup</code> or <code>squash</code>. Using
<code>fixup</code> simply discards that commits message and merges the changes into its
immediate predecessor in the list. The <code>squash</code> keyword does the same thing,
but allows you to edit the commit message of the newly combined commit.</p>
<p>Note that the commits will be re-committed in the order they show up on the
list when you exit the editor. So if you made a temporary commit, then did
other work on the same branch, and completed the feature in a later commit,
then using rebase would allow you to re-sort the commits and squash them.</p>
<p><strong>WARNING:</strong></p>
<p><em>Rebasing modifies history - DONT do this to any commits you have already
shared with other developers.</em></p>
<p><strong>Stashing</strong></p>
<p>In the future, to avoid this problem consider using <code>git stash</code> to temporarily
store uncommitted work.</p>
<div class="code"><pre class="code literal-block">git stash save 'some message'
</pre></div>

<p>This will store your current changes off to the side in your stash list. Above
is the most explicit version of the stash command, allowing for a comment to
describe what you are stashing. You can also simply run <code>git stash</code> and
nothing else, but no message will be stored.</p>
<p>You can browse your stash list with...</p>
<div class="code"><pre class="code literal-block">git stash list
</pre></div>

<p>This will show you all your stashes, what branches they were done on, and the
message and at the beginning of each line, and identifier for that stash which
looks like this <code>stash@{#}</code> where # is its position in the array of stashes.</p>
<p>To restore a stash (which can be done on any branch, regardless of where the
stash was originally created) you simply run...</p>
<div class="code"><pre class="code literal-block">git stash apply stash@{#}
</pre></div>

<p>Again, there # is the position in the array of stashes. If the stash you want
to restore is in the <code>0</code> position - that is, if it was the most recent stash.
Then you can just run the command without specifying the stash position, git
will assume you mean the last one: <code>git stash apply</code>.</p>
<p>So, for example, if I find myself working on the wrong branch - I may run the
following sequence of commands.</p>
<div class="code"><pre class="code literal-block">git stash
git checkout &lt;correct_branch&gt;
git stash apply
</pre></div>

<p>In your case you moved around branches a bit more, but the same idea still
applies.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/turning-off-eslint-rule-for-a-specific-line/" class="u-url">Turning off eslint rule for a specific line</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/turning-off-eslint-rule-for-a-specific-line/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T00:05:55+08:00" itemprop="datePublished" title="2023-02-17 00:05">2023-02-17 00:05</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>In order to turn off linting rule for a particular line in JSHint we use the
following rule:</p>
<div class="code"><pre class="code literal-block"><span class="o">/*</span><span class="w"> </span><span class="n">jshint</span><span class="w"> </span><span class="n">ignore</span><span class="p">:</span><span class="n">start</span><span class="o">*/</span>
<span class="no">$</span><span class="n">scope</span><span class="p">.</span><span class="n">someVar</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">ConstructorFunction</span><span class="p">();</span>
<span class="o">/*</span><span class="w"> </span><span class="n">jshint</span><span class="w"> </span><span class="n">ignore</span><span class="p">:</span><span class="k">end</span><span class="w"> </span><span class="o">*/</span>
</pre></div>

<p>I have been trying to locate the equivalent of the above for eslint.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>To disable next line:</p>
<div class="code"><pre class="code literal-block"><span class="o">//</span><span class="w"> </span><span class="n">eslint</span><span class="o">-</span><span class="n">disable</span><span class="o">-</span><span class="n">next</span><span class="o">-</span><span class="n">line</span><span class="w"> </span><span class="n">no</span><span class="o">-</span><span class="n">use</span><span class="o">-</span><span class="n">before</span><span class="o">-</span><span class="n">define</span>
<span class="k">var</span><span class="w"> </span><span class="n">thing</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Thing</span><span class="p">();</span>
</pre></div>

<p>Or use the single line syntax:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">thing</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Thing</span><span class="p">();</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">eslint</span><span class="o">-</span><span class="n">disable</span><span class="o">-</span><span class="n">line</span><span class="w"> </span><span class="n">no</span><span class="o">-</span><span class="n">use</span><span class="o">-</span><span class="n">before</span><span class="o">-</span><span class="n">define</span>
</pre></div>

<p>See the eslint docs</p>
<p><br></p>
<h3>Suggest</h3>
<h3>Update</h3>
<p>ESlint has now been updated with a better way disable a single line, see
@goofballLogic's excellent answer.</p>
<h3>Old answer:</h3>
<p>You can use the following</p>
<div class="code"><pre class="code literal-block"><span class="o">/*</span><span class="n">eslint</span><span class="o">-</span><span class="n">disable</span><span class="w"> </span><span class="o">*/</span>

<span class="c1">//suppress all warnings between comments</span>
<span class="n">alert</span><span class="p">(</span><span class="s">'foo'</span><span class="p">);</span>

<span class="o">/*</span><span class="n">eslint</span><span class="o">-</span><span class="n">enable</span><span class="w"> </span><span class="o">*/</span>
</pre></div>

<p>Which is slightly buried in the "configuring rules" section of the docs;</p>
<p>To disable a warning for an entire file, you can include a comment at the top
of the file e.g.</p>
<div class="code"><pre class="code literal-block"><span class="o">/*</span><span class="n">eslint</span><span class="w"> </span><span class="n">eqeqeq</span><span class="p">:</span><span class="mi">0</span><span class="o">*/</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-183.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-181.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 475) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-475.html">
<link rel="prev" href="index-476.html" type="text/html">
<link rel="next" href="index-474.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/downloading-an-entire-s3-bucket/" class="u-url">Downloading an entire S3 bucket?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/downloading-an-entire-s3-bucket/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T07:47:29+08:00" itemprop="datePublished" title="2023-02-17 07:47">2023-02-17 07:47</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I noticed that there does not seem to be an option to download an entire <code>s3</code>
bucket from the AWS Management Console.</p>
<p>Is there an easy way to grab everything in one of my buckets? I was thinking
about making the root folder public, using <code>wget</code> to grab it all, and then
making it private again but I don't know if there's an easier way.</p>
<p><br><br></p>
<h2>Answer</h2>
<h3>AWS CLI</h3>
<p>See the "AWS CLI Command Reference" for more information.</p>
<p>AWS recently released their Command Line Tools, which work much like boto and
can be installed using</p>
<div class="code"><pre class="code literal-block">sudo easy_install awscli
</pre></div>

<p>or</p>
<div class="code"><pre class="code literal-block">sudo pip install awscli
</pre></div>

<p>Once installed, you can then simply run:</p>
<div class="code"><pre class="code literal-block">aws s3 sync s3://&lt;source_bucket&gt; &lt;local_destination&gt;
</pre></div>

<p>For example:</p>
<div class="code"><pre class="code literal-block">aws s3 sync s3://mybucket .
</pre></div>

<p>will download all the objects in <code>mybucket</code> to the current directory.</p>
<p>And will output:</p>
<div class="code"><pre class="code literal-block"><span class="n">download</span><span class="p">:</span><span class="w"> </span><span class="n">s3</span><span class="p">:</span><span class="o">//</span><span class="n">mybucket</span><span class="o">/</span><span class="n">test</span><span class="o">.</span><span class="n">txt</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">test</span><span class="o">.</span><span class="n">txt</span>
<span class="n">download</span><span class="p">:</span><span class="w"> </span><span class="n">s3</span><span class="p">:</span><span class="o">//</span><span class="n">mybucket</span><span class="o">/</span><span class="n">test2</span><span class="o">.</span><span class="n">txt</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">test2</span><span class="o">.</span><span class="n">txt</span>
</pre></div>

<p>This will download all of your files using a one-way sync. It will <em>not</em>
delete any existing files in your current directory unless you specify
<code>--delete</code>, and it won't change or delete any files on S3.</p>
<p>You can also do S3 bucket to S3 bucket, or local to S3 bucket sync.</p>
<p>Check out the documentation and other examples.</p>
<p>Whereas the above example is how to download a full bucket, you can also
download a folder recursively by performing</p>
<div class="code"><pre class="code literal-block">aws s3 cp s3://BUCKETNAME/PATH/TO/FOLDER LocalFolderName --recursive
</pre></div>

<p>This will instruct the CLI to download all files and folder keys recursively
within the <code>PATH/TO/FOLDER</code> directory within the <code>BUCKETNAME</code> bucket.</p>
<p><br></p>
<h3>Suggest</h3>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/net-string-format-to-add-commas-in-thousands-place-for-a-number/" class="u-url">.NET String.Format() to add commas in thousands place for a number</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/net-string-format-to-add-commas-in-thousands-place-for-a-number/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T07:47:03+08:00" itemprop="datePublished" title="2023-02-17 07:47">2023-02-17 07:47</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I want to add a comma in the thousands place for a number.</p>
<p>Would <code>String.Format()</code> be the correct path to take? What format would I use?</p>
<p><br><br></p>
<h2>Answer</h2>
<div class="code"><pre class="code literal-block"><span class="o">$</span><span class="s2">"{1234:n}"</span><span class="o">;</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="nt">Output</span><span class="o">:</span><span class="w"> </span><span class="nt">1</span><span class="o">,</span><span class="nt">234</span><span class="p">.</span><span class="nc">00</span>
<span class="o">$</span><span class="s2">"{1234:n0}"</span><span class="o">;</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="nt">No</span><span class="w"> </span><span class="nt">digits</span><span class="w"> </span><span class="nt">after</span><span class="w"> </span><span class="nt">the</span><span class="w"> </span><span class="nt">decimal</span><span class="w"> </span><span class="nt">point</span><span class="o">.</span><span class="w"> </span><span class="nt">Output</span><span class="o">:</span><span class="w"> </span><span class="nt">9</span><span class="o">,</span><span class="nt">876</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>I found this to be the simplest way:</p>
<div class="code"><pre class="code literal-block">myInteger.ToString("N0")
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-the-difference-between-a-symbolic-link-and-a-hard-link/" class="u-url">What is the difference between a symbolic link and a hard link?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-the-difference-between-a-symbolic-link-and-a-hard-link/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T07:46:35+08:00" itemprop="datePublished" title="2023-02-17 07:46">2023-02-17 07:46</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Recently I was asked this during a job interview. I was honest and said I knew
how a symbolic link behaves and how to create one, but do not understand the
use of a hard link and how it differs from a symbolic one.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Underneath the file system, files are represented by inodes. (Or is it
multiple inodes? Not sure.)  </p>
<p>A file in the file system is basically a link to an inode.<br>
A hard link, then, just creates another file with a link to the same
underlying inode.</p>
<p>When you delete a file, it removes one link to the underlying inode. The inode
is only deleted (or deletable/over-writable) when all links to the inode have
been deleted.</p>
<p>A symbolic link is a link to another name in the file system.</p>
<p>Once a hard link has been made the link is to the inode. Deleting, renaming,
or moving the original file will not affect the hard link as it links to the
underlying inode. Any changes to the data on the inode is reflected in all
files that refer to that inode.</p>
<p>Note: Hard links are only valid within the same File System. Symbolic links
can span file systems as they are simply the name of another file.</p>
<p><br></p>
<h3>Suggest</h3>
<p>As the saying goes, a picture is worth a thousand words. Here is how I
visualize it:</p>
<p><img alt="enter image description here" src="images/ka2ab.jpg"></p>
<p>Here is how we get to that picture:</p>
<ol>
<li>
<p>Create a name <code>myfile.txt</code> in the file system that points to a new inode (which contains the metadata for the file and points to the blocks of data that contain its contents, i.e. the text "Hello, World!":</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s1">'Hello, World!'</span><span class="w"> </span>&gt;<span class="w"> </span>myfile.txt
</pre></div>

</li>
<li>
<p>Create a hard link <code>my-hard-link</code> to the file <code>myfile.txt</code>, which means "create a file that should point to the same inode that <code>myfile.txt</code> points to":</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>ln<span class="w"> </span>myfile.txt<span class="w"> </span>my-hard-link
</pre></div>

</li>
<li>
<p>Create a soft link <code>my-soft-link</code> to the file <code>myfile.txt</code>, which means "create a file that should point to the file <code>myfile.txt</code>":</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>ln<span class="w"> </span>-s<span class="w"> </span>myfile.txt<span class="w"> </span>my-soft-link
</pre></div>

</li>
</ol>
<p>Look what will now happen if <code>myfile.txt</code> is deleted (or moved): <code>my-hard-
link</code> still points to the same contents, and is thus unaffected, whereas <code>my-
soft-link</code> now points to nothing. Other answers discuss the pros/cons of each.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-476.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-474.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1056) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1056.html">
<link rel="prev" href="index-1057.html" type="text/html">
<link rel="next" href="index-1055.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-count-the-number-of-occurrences-of-a-char-in-a-string/" class="u-url">How do I count the number of occurrences of a char in a String?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-count-the-number-of-occurrences-of-a-char-in-a-string/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T23:58:50+08:00" itemprop="datePublished" title="2023-02-17 23:58">2023-02-17 23:58</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have the string</p>
<div class="code"><pre class="code literal-block">a.b.c.d
</pre></div>

<p>I want to count the occurrences of '.' in an idiomatic way, preferably a one-
liner.</p>
<p>(Previously I had expressed this constraint as "without a loop", in case
you're wondering why everyone's trying to answer without using a loop).</p>
<p><br><br></p>
<h2>Answer</h2>
<p>My 'idiomatic one-liner' for this is:</p>
<div class="code"><pre class="code literal-block">int count = StringUtils.countMatches("a.b.c.d", ".");
</pre></div>

<p>Why write it yourself when it's already in commons lang?</p>
<p>Spring Framework's oneliner for this is:</p>
<div class="code"><pre class="code literal-block">int occurance = StringUtils.countOccurrencesOf("a.b.c.d", ".");
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>My 'idiomatic one-liner' for this is:</p>
<div class="code"><pre class="code literal-block">int count = StringUtils.countMatches("a.b.c.d", ".");
</pre></div>

<p>Why write it yourself when it's already in commons lang?</p>
<p>Spring Framework's oneliner for this is:</p>
<div class="code"><pre class="code literal-block">int occurance = StringUtils.countOccurrencesOf("a.b.c.d", ".");
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/import-a-file-from-a-subdirectory/" class="u-url">Import a file from a subdirectory?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/import-a-file-from-a-subdirectory/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T23:58:13+08:00" itemprop="datePublished" title="2023-02-17 23:58">2023-02-17 23:58</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a file called <code>tester.py</code>, located on <code>/project</code>.</p>
<p><code>/project</code> has a subdirectory called <code>lib</code>, with a file called <code>BoxTime.py</code>:</p>
<div class="code"><pre class="code literal-block">/project/tester.py
/project/lib/BoxTime.py
</pre></div>

<p>I want to import <code>BoxTime</code> from <code>tester</code>. I have tried this:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">lib.BoxTime</span>
</pre></div>

<p>Which resulted:</p>
<div class="code"><pre class="code literal-block"><span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">"./tester.py"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">3</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="kn">import</span> <span class="nn">lib.BoxTime</span>
<span class="ne">ImportError</span><span class="p">:</span> <span class="n">No</span> <span class="n">module</span> <span class="n">named</span> <span class="n">lib</span><span class="o">.</span><span class="n">BoxTime</span>
</pre></div>

<p>Any ideas how to import <code>BoxTime</code> from the subdirectory?</p>
<p><strong>EDIT</strong></p>
<p>The <code>__init__.py</code> was the problem, but don't forget to refer to <code>BoxTime</code> as
<code>lib.BoxTime</code>, or use:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">lib.BoxTime</span> <span class="k">as</span> <span class="nn">BT</span>
<span class="o">...</span>
<span class="n">BT</span><span class="o">.</span><span class="n">bt_function</span><span class="p">()</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>Take a look at the <strong>Packages documentation (Section 6.4)</strong>.</p>
<p>In short, you need to put a blank file named</p>
<div class="code"><pre class="code literal-block">__init__.py
</pre></div>

<p>in the <code>lib</code> directory.</p>
<p><br></p>
<h3>Suggest</h3>
<ul>
<li>Create a subdirectory named <code>lib</code>.</li>
<li>Create an empty file named <code>lib\__init__.py</code>.</li>
<li>
<p>In <code>lib\BoxTime.py</code>, write a function <code>foo()</code> like this:</p>
<div class="code"><pre class="code literal-block">def foo():
print "foo!"
</pre></div>

</li>
<li>
<p>In your client code in the directory above <code>lib</code>, write:</p>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">lib</span> <span class="kn">import</span> <span class="n">BoxTime</span>
</pre></div>

<p>BoxTime.foo()</p>
</li>
<li>
<p>Run your client code. You will get:</p>
<div class="code"><pre class="code literal-block">foo!
</pre></div>

</li>
</ul>
<hr>
<p>Much later -- in linux, it would look like this:</p>
<div class="code"><pre class="code literal-block"><span class="o">%</span> <span class="n">cd</span> <span class="o">~/</span><span class="n">tmp</span>
<span class="o">%</span> <span class="n">mkdir</span> <span class="n">lib</span>
<span class="o">%</span> <span class="n">touch</span> <span class="n">lib</span><span class="o">/</span><span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>
<span class="o">%</span> <span class="n">cat</span> <span class="o">&gt;</span> <span class="n">lib</span><span class="o">/</span><span class="n">BoxTime</span><span class="o">.</span><span class="n">py</span> <span class="o">&lt;&lt;</span> <span class="n">EOF</span>
<span class="n">heredoc</span><span class="o">&gt;</span> <span class="k">def</span> <span class="nf">foo</span><span class="p">():</span>
<span class="n">heredoc</span><span class="o">&gt;</span>     <span class="nb">print</span> <span class="s2">"foo!"</span>
<span class="n">heredoc</span><span class="o">&gt;</span> <span class="n">EOF</span>
<span class="o">%</span> <span class="n">tree</span> <span class="n">lib</span>
<span class="n">lib</span>
<span class="err">├──</span> <span class="n">BoxTime</span><span class="o">.</span><span class="n">py</span>
<span class="err">└──</span> <span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>

<span class="mi">0</span> <span class="n">directories</span><span class="p">,</span> <span class="mi">2</span> <span class="n">files</span>
<span class="o">%</span> <span class="n">python</span> 
<span class="n">Python</span> <span class="mf">2.7.6</span> <span class="p">(</span><span class="n">default</span><span class="p">,</span> <span class="n">Mar</span> <span class="mi">22</span> <span class="mi">2014</span><span class="p">,</span> <span class="mi">22</span><span class="p">:</span><span class="mi">59</span><span class="p">:</span><span class="mi">56</span><span class="p">)</span> 
<span class="p">[</span><span class="n">GCC</span> <span class="mf">4.8.2</span><span class="p">]</span> <span class="n">on</span> <span class="n">linux2</span>
<span class="n">Type</span> <span class="s2">"help"</span><span class="p">,</span> <span class="s2">"copyright"</span><span class="p">,</span> <span class="s2">"credits"</span> <span class="ow">or</span> <span class="s2">"license"</span> <span class="k">for</span> <span class="n">more</span> <span class="n">information</span><span class="o">.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">lib</span> <span class="kn">import</span> <span class="n">BoxTime</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">BoxTime</span><span class="o">.</span><span class="n">foo</span><span class="p">()</span>
<span class="n">foo</span><span class="err">!</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/javascript-checking-for-null-vs-undefined-and-difference-between-and/" class="u-url">JavaScript checking for null vs. undefined and difference between == and ===</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/javascript-checking-for-null-vs-undefined-and-difference-between-and/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T23:57:44+08:00" itemprop="datePublished" title="2023-02-17 23:57">2023-02-17 23:57</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <ol>
<li>
<p>How do I check a variable if it's <code>null</code> or <code>undefined</code> and what is the difference between the <code>null</code> and <code>undefined</code>?</p>
</li>
<li>
<p>What is the difference between <code>==</code> and <code>===</code> (it's hard to search Google for "===" )?</p>
</li>
</ol>
<p><br><br></p>
<h2>Answer</h2>
<blockquote>
<p>How do I check a variable if it's <code>null</code> or <code>undefined</code>...</p>
</blockquote>
<p>Is the variable <code>null</code>:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">a</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nv">null</span><span class="ss">)</span>
<span class="o">//</span><span class="w"> </span><span class="nv">or</span>
<span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">a</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">null</span><span class="ss">)</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="nv">but</span><span class="w"> </span><span class="nv">see</span><span class="w"> </span><span class="nv">note</span><span class="w"> </span><span class="nv">below</span>
</pre></div>

<p>...but note the latter will also be true if <code>a</code> is <code>undefined</code>.</p>
<p>Is it <code>undefined</code>:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">typeof</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">"undefined"</span><span class="ss">)</span>
<span class="o">//</span><span class="w"> </span><span class="nv">or</span>
<span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">a</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nv">undefined</span><span class="ss">)</span>
<span class="o">//</span><span class="w"> </span><span class="nv">or</span>
<span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">a</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">undefined</span><span class="ss">)</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="nv">but</span><span class="w"> </span><span class="nv">see</span><span class="w"> </span><span class="nv">note</span><span class="w"> </span><span class="nv">below</span>
</pre></div>

<p>...but again, note that the last one is vague; it will also be true if <code>a</code> is
<code>null</code>.</p>
<p>Now, despite the above, the <strong>usual</strong> way to check for those is to use the
fact that they're <em>falsey</em> :</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// `a` is falsey, which includes `undefined` and `null`</span>
<span class="w">    </span><span class="c1">// (and `""`, and `0`, and `NaN`, and [of course] `false`)</span>
<span class="p">}</span>
</pre></div>

<p>This is defined by ToBoolean in the spec.</p>
<blockquote>
<p>...and what is the difference between the <code>null</code> and <code>undefined</code>?</p>
</blockquote>
<p>They're both values usually used to indicate the absence of something.
<code>undefined</code> is the more generic one, used as the default value of variables
until they're assigned some other value, as the value of function arguments
that weren't provided when the function was called, and as the value you get
when you ask an object for a property it doesn't have. But it can also be
explicitly used in all of those situations. (There's a difference between an
object not having a property, and having the property with the value
<code>undefined</code>; there's a difference between calling a function with the value
<code>undefined</code> for an argument, and leaving that argument off entirely.)</p>
<p><code>null</code> is slightly more specific than <code>undefined</code>: It's a blank object
reference. JavaScript is loosely typed, of course, but not all of the things
JavaScript interacts with are loosely typed. If an API like the DOM in
browsers needs an object reference that's blank, we use <code>null</code>, not
<code>undefined</code>. And similarly, the DOM's <code>getElementById</code> operation returns an
object reference — either a valid one (if it found the DOM element), or <code>null</code>
(if it didn't).</p>
<p>Interestingly (or not), they're their own types. Which is to say, <code>null</code> is
the only value in the Null type, and <code>undefined</code> is the only value in the
Undefined type.</p>
<blockquote>
<p>What is the difference between "==" and "==="</p>
</blockquote>
<p>The only difference between them is that <code>==</code> will do type coercion to try to
get the values to match, and <code>===</code> won't. So for instance <code>"1" == 1</code> is true,
because <code>"1"</code> coerces to <code>1</code>. But <code>"1" === 1</code> is <em>false</em> , because the types
don't match. (<code>"1" !== 1</code> is true.) The first (real) step of <code>===</code> is "Are the
types of the operands the same?" and if the answer is "no", the result is
<code>false</code>. If the types are the same, it does exactly what <code>==</code> does.</p>
<p>Type coercion uses quite complex rules and can have surprising results (for
instance, <code>"" == 0</code> is true).</p>
<p>More in the spec:</p>
<ul>
<li>Abstract Equality Comparison (<code>==</code>, also called "loose" equality)</li>
<li>Strict Equality Comparison (<code>===</code>)</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<p>The difference is subtle.</p>
<p>In JavaScript an <code>undefined</code> variable is a variable that as never been
declared, or never assigned a value. Let's say you declare <code>var a;</code> for
instance, then <code>a</code> will be <code>undefined</code>, because it was never assigned any
value.</p>
<p>But if you then assign <code>a = null;</code> then <code>a</code> will now be <code>null</code>. In JavaScript
<code>null</code> is an object (try <code>typeof null</code> in a JavaScript console if you don't
believe me), which means that null is a value (in fact even <code>undefined</code> is a
value).</p>
<p>Example:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<span class="nb">typeof</span><span class="w"> </span><span class="n">a</span><span class="p">;</span><span class="w">     </span><span class="c1"># =&gt; "undefined"</span>

<span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">;</span>
<span class="nb">typeof</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">;</span><span class="w">  </span><span class="c1"># =&gt; "object"</span>
</pre></div>

<p>This can prove useful in function arguments. You may want to have a default
value, but consider null to be acceptable. In which case you may do:</p>
<div class="code"><pre class="code literal-block"><span class="nv">function</span><span class="w"> </span><span class="nv">doSomething</span><span class="ss">(</span><span class="nv">first</span>,<span class="w"> </span><span class="nv">second</span>,<span class="w"> </span><span class="nv">optional</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">typeof</span><span class="w"> </span><span class="nv">optional</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">"undefined"</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">        </span><span class="nv">optional</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"three"</span><span class="c1">;</span>
<span class="w">    </span>}
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="nv">something</span>
}
</pre></div>

<p>If you omit the <code>optional</code> parameter <code>doSomething(1, 2) then</code>optional will be
the <code>"three"</code> string but if you pass <code>doSomething(1, 2, null)</code> then optional
will be <code>null</code>.</p>
<p>As for the equal <code>==</code> and strictly equal <code>===</code> comparators, the first one is
weakly type, while strictly equal also checks for the type of values. That
means that <code>0 == "0"</code> will return true; while <code>0 === "0"</code> will return false,
because a number is not a string.</p>
<p>You may use those operators to check between <code>undefined</code> an <code>null</code>. For
example:</p>
<div class="code"><pre class="code literal-block">null === null            # =&gt; true
undefined === undefined  # =&gt; true
undefined === null       # =&gt; false
undefined == null        # =&gt; true
</pre></div>

<p>The last case is interesting, because it allows you to check if a variable is
either undefined or null and nothing else:</p>
<div class="code"><pre class="code literal-block"><span class="nv">function</span><span class="w"> </span><span class="nv">test</span><span class="ss">(</span><span class="nv">val</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">val</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">null</span><span class="c1">;</span>
}
<span class="nv">test</span><span class="ss">(</span><span class="nv">null</span><span class="ss">)</span><span class="c1">;       # =&gt; true</span>
<span class="nv">test</span><span class="ss">(</span><span class="nv">undefined</span><span class="ss">)</span><span class="c1">;  # =&gt; true</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1057.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1055.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

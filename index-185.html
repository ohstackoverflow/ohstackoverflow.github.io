<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 185) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-185.html">
<link rel="prev" href="index-186.html" type="text/html">
<link rel="next" href="index-184.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-redirect-one-html-page-to-another-on-load/" class="u-url">How to redirect one HTML page to another on load</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-redirect-one-html-page-to-another-on-load/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T00:13:12+08:00" itemprop="datePublished" title="2023-02-17 00:13">2023-02-17 00:13</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is it possible to set up a basic HTML page to redirect to another page on
load?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Try using:</p>
<div class="code"><pre class="code literal-block">&lt;meta http-equiv="refresh" content="0; url=http://example.com/" /&gt;
</pre></div>

<p>Note: Place it in the <code>&lt;head&gt;</code> section.</p>
<p>Additionally for older browsers if you add a quick link in case it doesn't
refresh correctly:</p>
<p><code>&lt;p&gt;&lt;a href="http://example.com/"&gt;Redirect&lt;/a&gt;&lt;/p&gt;</code></p>
<p>Will appear as</p>
<p>Redirect</p>
<p>This will still allow you to get to where you're going with an additional
click.</p>
<p><br></p>
<h3>Suggest</h3>
<p>I would use both <em>meta</em> , and <em>JavaScript code</em> and would have a link just in
case.</p>
<div class="code"><pre class="code literal-block"><span class="cp">&lt;!DOCTYPE HTML&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">"en-US"</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">"UTF-8"</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">"refresh"</span> <span class="na">content</span><span class="o">=</span><span class="s">"0; url=http://example.com"</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/javascript"</span><span class="p">&gt;</span>
<span class="w">            </span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"http://example.com"</span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Page Redirection<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
        <span class="cm">&lt;!-- Note: don't tell people to `click` the link, just tell them that it is a link. --&gt;</span>
        If you are not redirected automatically, follow this <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">'http://example.com'</span><span class="p">&gt;</span>link to example<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>.
    <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>

<p>For completeness, I think the best way, if possible, is to use server
redirects, so send a 301 status code. This is easy to do via <code>.htaccess</code> files
using Apache, or via numerous plugins using WordPress. I am sure there are
also plugins for all the major content management systems. Also, cPanel has
very easy configuration for 301 redirects if you have that installed on your
server.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-check-if-a-string-startswith-another-string/" class="u-url">How to check if a string "StartsWith" another string?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-check-if-a-string-startswith-another-string/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T00:12:41+08:00" itemprop="datePublished" title="2023-02-17 00:12">2023-02-17 00:12</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How would I write the equivalent of C#'s <code>String.StartsWith</code> in JavaScript?</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">haystack</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'hello world'</span><span class="p">;</span>
<span class="k">var</span><span class="w"> </span><span class="n">needle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'he'</span><span class="p">;</span>

<span class="n">haystack</span><span class="o">.</span><span class="n">startsWith</span><span class="p">(</span><span class="n">needle</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="bp">true</span>
</pre></div>

<p>Note: This is an old question, and as pointed out in the comments ECMAScript
2015 (ES6) introduced the <code>.startsWith</code> method. However, at the time of
writing this update (2015) browser support is far from complete.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can use ECMAScript 6's <code>String.prototype.startsWith()</code> method. It's
supported in all major browsers. However, if you want to use it in a browser
that is unsupported you'll want to use a shim/polyfill to add it on those
browsers. Creating an implementation that complies with all the details laid
out in the spec is a little complicated. If you want a faithful shim, use
either:</p>
<ul>
<li>Matthias Bynens's <code>String.prototype.startsWith</code> shim, or</li>
<li>The es6-shim, which shims as much of the ES6 spec as possible, including <code>String.prototype.startsWith</code>.</li>
</ul>
<p>Once you've shimmed the method (or if you're only supporting browsers and
JavaScript engines that already have it), you can use it like this:</p>
<div class="code"><pre class="code literal-block"><span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s2">"Hello World!"</span><span class="o">.</span><span class="n">startsWith</span><span class="p">(</span><span class="s2">"He"</span><span class="p">));</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="bp">true</span>

<span class="k">var</span><span class="w"> </span><span class="n">haystack</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Hello world"</span><span class="p">;</span>
<span class="k">var</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'orl'</span><span class="p">;</span>
<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">haystack</span><span class="o">.</span><span class="n">startsWith</span><span class="p">(</span><span class="n">prefix</span><span class="p">));</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="bp">false</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Another alternative with <code>.lastIndexOf</code>:</p>
<div class="code"><pre class="code literal-block">haystack.lastIndexOf(needle) === 0
</pre></div>

<p>This looks backwards through <code>haystack</code> for an occurrence of <code>needle</code> starting
from index string length of <code>haystack</code> back to zero. In other words, it only
checks if <code>haystack</code> starts with <code>needle</code>. <code>lastIndexOf</code> provides a second
optional parameter 'fromIndex'. If given, the backwards search starts at this
given index position and traverses back to index zero. But we must not specify
any other fromIndex than the very last index, otherwise the search might
overlook something.</p>
<p>In principle, this should have performance advantages over some other
approaches:</p>
<ul>
<li>It doesn't search the entire <code>haystack</code>.</li>
<li>It doesn't create a new temporary string and then immediately discard it.</li>
</ul>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-prettyprint-a-json-file/" class="u-url">How to prettyprint a JSON file?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-prettyprint-a-json-file/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T00:12:09+08:00" itemprop="datePublished" title="2023-02-17 00:12">2023-02-17 00:12</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How do I pretty-print a JSON file in Python?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Use the <code>indent</code> keyword parameter of <code>json.dump()</code> or <code>json.dumps()</code> to
specify the amount of indentation to use:</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">json</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">your_json</span> <span class="o">=</span> <span class="s1">'["foo", {"bar": ["baz", null, 1.0, 2]}]'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">parsed</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">your_json</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">parsed</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="p">[</span>
    <span class="s2">"foo"</span><span class="p">,</span>
    <span class="p">{</span>
        <span class="s2">"bar"</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">"baz"</span><span class="p">,</span>
            <span class="n">null</span><span class="p">,</span>
            <span class="mf">1.0</span><span class="p">,</span>
            <span class="mi">2</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>

<p>To parse a file, use <code>json.load()</code>:</p>
<div class="code"><pre class="code literal-block"><span class="n">with</span><span class="w"> </span><span class="n">open</span><span class="p">(</span><span class="s1">'filename.txt'</span><span class="p">,</span><span class="w"> </span><span class="s1">'r'</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">handle</span><span class="p">:</span>
<span class="w">    </span><span class="n">parsed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">handle</span><span class="p">)</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>You can do this on the command line:</p>
<div class="code"><pre class="code literal-block"><span class="n">python3</span><span class="w"> </span><span class="o">-</span><span class="n">m</span><span class="w"> </span><span class="n">json</span><span class="o">.</span><span class="k">tool</span><span class="w"> </span><span class="n">some</span><span class="o">.</span><span class="n">json</span>
</pre></div>

<p>(as already mentioned in the commentaries to the question, thanks to @Kai
Petzke for the python3 suggestion).</p>
<p>Actually python is not my favourite tool as far as json processing on the
command line is concerned. For simple pretty printing is ok, but if you want
to manipulate the json it can become overcomplicated. You'd soon need to write
a separate script-file, you could end up with maps whose keys are u"some-key"
(python unicode), which makes selecting fields more difficult and doesn't
really go in the direction of pretty-printing.</p>
<p>You can also use jq:</p>
<div class="code"><pre class="code literal-block">jq . some.json
</pre></div>

<p>and you get colors as a bonus (and way easier extendability).</p>
<p>Addendum: There is some confusion in the comments about using jq to process
large JSON files on the one hand, and having a very large jq program on the
other. For pretty-printing a file consisting of a single large JSON entity,
the practical limitation is RAM. For pretty-printing a 2GB file consisting of
a single array of real-world data, the "maximum resident set size" required
for pretty-printing was 5GB (whether using jq 1.5 or 1.6). Note also that jq
can be used from within python after <code>pip install jq</code>.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-186.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-184.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

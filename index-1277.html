<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1277) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1277.html">
<link rel="prev" href="index-1278.html" type="text/html">
<link rel="next" href="index-1276.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-additional-configuration-is-necessary-to-reference-a-net-2-0-mixed-mode-assembly-in-a-net-4-0-project/" class="u-url">What 'additional configuration' is necessary to reference a .NET 2.0 mixed mode assembly in a .NET 4.0 project?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-additional-configuration-is-necessary-to-reference-a-net-2-0-mixed-mode-assembly-in-a-net-4-0-project/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T05:30:13+08:00" itemprop="datePublished" title="2023-02-18 05:30">2023-02-18 05:30</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a project in which I'd like to use some of the .NET 4.0 features but a
core requirement is that I can use the System.Data.SQLite framework which is
compiled against 2.X. I see mention of this being possible such as the
accepted answer here but I don't see how to actually achieve this.</p>
<p>When I just try and run my 4.0 project while referencing the 2.X assembly I
get:</p>
<blockquote>
<p><em>Mixed mode assembly is built against version 'v2.0.50727' of the runtime
and cannot be loaded in the 4.0 runtime without additional configuration
information.</em></p>
</blockquote>
<p>What "additional configuration" is necessary?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>In order to use a CLR 2.0 <em>mixed mode assembly</em> , you need to modify your
App.Config file to include:</p>
<div class="code"><pre class="code literal-block"><span class="cp">&lt;?xml version="1.0"?&gt;</span><span class="nt">&lt;configuration&gt;</span><span class="w">  </span><span class="nt">&lt;startup</span><span class="w"> </span><span class="na">useLegacyV2RuntimeActivationPolicy=</span><span class="s">"true"</span><span class="nt">&gt;</span><span class="w">    </span><span class="nt">&lt;supportedRuntime</span><span class="w"> </span><span class="na">version=</span><span class="s">"v4.0"</span><span class="w"> </span><span class="na">sku=</span><span class="s">".NETFramework,Version=v4.0"</span><span class="nt">/&gt;</span><span class="w">  </span><span class="nt">&lt;/startup&gt;&lt;/configuration&gt;</span>
</pre></div>

<p>The key is the <code>useLegacyV2RuntimeActivationPolicy</code> flag. This causes the CLR
to use the latest version (4.0) to load your mixed mode assembly. Without
this, it will not work.</p>
<p>Note that this only matters for mixed mode (C++/CLI) assemblies. You can load
all managed CLR 2 assemblies without specifying this in <code>app.config</code>.</p>
<p><br></p>
<h3>Suggest</h3>
<p>This forum post on the .NET Framework Developer Center. It might provide some
insight.</p>
<p>(Add to the app's config file.)</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;configuration&gt;</span>
<span class="w">  </span><span class="nt">&lt;startup</span><span class="w"> </span><span class="na">useLegacyV2RuntimeActivationPolicy=</span><span class="s">"true"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;supportedRuntime</span><span class="w"> </span><span class="na">version=</span><span class="s">"v4.0"</span><span class="nt">/&gt;</span>
<span class="w">  </span><span class="nt">&lt;/startup&gt;</span>
<span class="nt">&lt;/configuration&gt;</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-exactly-is-llvm/" class="u-url">What exactly is LLVM?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-exactly-is-llvm/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T05:29:50+08:00" itemprop="datePublished" title="2023-02-18 05:29">2023-02-18 05:29</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I keep hearing about LLVM all the time. It's in Perl, then it's in Haskell,
then someone uses it in some other language? What is it?</p>
<ul>
<li>What exactly distinguishes it from GCC (perspectives = safety etc.)?</li>
</ul>
<p><br><br></p>
<h2>Answer</h2>
<p>LLVM is a library that is used to construct, optimize and produce intermediate
and/or binary machine code.</p>
<p>LLVM can be used as a compiler framework, where you provide the "front end"
(parser and lexer) and the "back end" (code that converts LLVM's
representation to actual machine code).</p>
<p>LLVM can also act as a JIT compiler - it has support for x86/x86_64 and
PPC/PPC64 assembly generation with fast code optimizations aimed for
compilation speed.</p>
<p>Unfortunately disabled since 2013, there was the ability to play with LLVM's
machine code generated from C or C++ code at the demo page.</p>
<p><br></p>
<h3>Suggest</h3>
<p>A good summary of LLVM is this:</p>
<p><img alt="enter image description here" src="images/9xGDe.png"></p>
<p>At the frontend you have Perl, and many other high level languages. At the
backend, you have the natives code that run directly on the machine.</p>
<p>At the centre is your intermediate code representation. If every high level
language can be represented in this LLVM IR format, then analysis tools based
on this IR can be easily reused - that is the basic rationale.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-s-the-difference-between-django-onetoonefield-and-foreignkey/" class="u-url">What's the difference between django OneToOneField and ForeignKey?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-s-the-difference-between-django-onetoonefield-and-foreignkey/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T05:29:17+08:00" itemprop="datePublished" title="2023-02-18 05:29">2023-02-18 05:29</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What's the difference between Django <code>OneToOneField</code> and <code>ForeignKey</code>?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Differences between <code>OneToOneField(SomeModel)</code> and <code>ForeignKey(SomeModel,
unique=True)</code> as stated in <em>The Definitive Guide to Django</em> :</p>
<blockquote>
<p><strong>OneToOneField</strong></p>
<p>A one-to-one relationship. Conceptually, this is similar to a <code>ForeignKey</code>
with <code>unique=True</code>, but the "reverse" side of the relation will directly
return a single object.</p>
</blockquote>
<p>In contrast to the <code>OneToOneField</code> "reverse" relation, a <code>ForeignKey</code>
"reverse" relation returns a <code>QuerySet</code>.</p>
<h3>Example</h3>
<p>For example, if we have the following two models (full model code below):</p>
<ol>
<li>
<code>Car</code> model uses <code>OneToOneField(Engine)</code>
</li>
<li>
<code>Car2</code> model uses <code>ForeignKey(Engine2, unique=True)</code>
</li>
</ol>
<p>From within <code>python manage.py shell</code> execute the following:</p>
<h4>
<code>OneToOneField</code> Example</h4>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">testapp.models</span> <span class="kn">import</span> <span class="n">Car</span><span class="p">,</span> <span class="n">Engine</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">c</span> <span class="o">=</span> <span class="n">Car</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">'Audi'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">e</span> <span class="o">=</span> <span class="n">Engine</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">'Diesel'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">e</span><span class="o">.</span><span class="n">car</span>
<span class="o">&lt;</span><span class="n">Car</span><span class="p">:</span> <span class="n">Audi</span><span class="o">&gt;</span>
</pre></div>

<h4>
<code>ForeignKey</code> with <code>unique=True</code> Example</h4>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">testapp.models</span> <span class="kn">import</span> <span class="n">Car2</span><span class="p">,</span> <span class="n">Engine2</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">c2</span> <span class="o">=</span> <span class="n">Car2</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">'Mazda'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">e2</span> <span class="o">=</span> <span class="n">Engine2</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">'Wankel'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">e2</span><span class="o">.</span><span class="n">car2_set</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
<span class="p">[</span><span class="o">&lt;</span><span class="n">Car2</span><span class="p">:</span> <span class="n">Mazda</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>

<h3>Model Code</h3>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>

<span class="k">class</span> <span class="nc">Engine</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__unicode__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>

<span class="k">class</span> <span class="nc">Car</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
    <span class="n">engine</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">OneToOneField</span><span class="p">(</span><span class="n">Engine</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__unicode__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>

<span class="k">class</span> <span class="nc">Engine2</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__unicode__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>

<span class="k">class</span> <span class="nc">Car2</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
    <span class="n">engine</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Engine2</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__unicode__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>A <code>ForeignKey</code> is a many-to-one relationship. So, a <code>Car</code> object might have
many instances of <code>Wheel</code>. Each <code>Wheel</code> would consequently have a <code>ForeignKey</code>
to the <code>Car</code> it belongs to. A <code>OneToOneField</code> would be like an instance of
<code>Engine</code>, where a <code>Car</code> object has <strong>at most</strong> one and only one.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1278.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1276.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

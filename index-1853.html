<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1853) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1853.html">
<link rel="prev" href="index-1854.html" type="text/html">
<link rel="next" href="index-1852.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-have-a-newline-in-a-string-in-sh/" class="u-url">How can I have a newline in a string in sh?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-have-a-newline-in-a-string-in-sh/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T10:54:28+08:00" itemprop="datePublished" title="2023-03-03 10:54">2023-03-03 10:54</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>This</p>
<div class="code"><pre class="code literal-block">STR="Hello\nWorld"
echo $STR
</pre></div>

<p>produces as output</p>
<div class="code"><pre class="code literal-block">Hello\nWorld
</pre></div>

<p>instead of</p>
<div class="code"><pre class="code literal-block">Hello
World
</pre></div>

<p>What should I do to have a newline in a string?</p>
<p>Note: This question is not about <em>echo</em>. I'm aware of <code>echo -e</code>, but I'm
looking for a solution that allows passing a string (which includes a newline)
as an argument to <em>other</em> commands that do not have a similar option to
interpret <code>\n</code>'s as newlines.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>If you're using Bash, you can use backslash-escapes inside of a specially-
quoted <code>$'string'</code>. For example, adding <code>\n</code>:</p>
<div class="code"><pre class="code literal-block">STR=$'Hello\nWorld'
echo "$STR" # quotes are required here!
</pre></div>

<p>Prints:</p>
<div class="code"><pre class="code literal-block">Hello
World
</pre></div>

<p>If you're using pretty much any other shell, just insert the newline as-is in
the string:</p>
<div class="code"><pre class="code literal-block">STR='Hello
World'
</pre></div>

<p>Bash recognizes a number of other backslash escape sequences in the <code>$''</code>
string. Here is an excerpt from the Bash manual page:</p>
<div class="code"><pre class="code literal-block"><span class="nv">Words</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">form</span><span class="w"> </span>$<span class="s1">'string'</span><span class="w"> </span><span class="nv">are</span><span class="w"> </span><span class="nv">treated</span><span class="w"> </span><span class="nv">specially</span>.<span class="w"> </span><span class="nv">The</span><span class="w"> </span><span class="nv">word</span><span class="w"> </span><span class="nv">expands</span><span class="w"> </span><span class="nv">to</span>
<span class="nv">string</span>,<span class="w"> </span><span class="nv">with</span><span class="w"> </span><span class="nv">backslash</span><span class="o">-</span><span class="nv">escaped</span><span class="w"> </span><span class="nv">characters</span><span class="w"> </span><span class="nv">replaced</span><span class="w"> </span><span class="nv">as</span><span class="w"> </span><span class="nv">specified</span><span class="w"> </span><span class="nv">by</span><span class="w"> </span><span class="nv">the</span>
<span class="nv">ANSI</span><span class="w"> </span><span class="nv">C</span><span class="w"> </span><span class="nv">standard</span>.<span class="w"> </span><span class="nv">Backslash</span><span class="w"> </span><span class="nv">escape</span><span class="w"> </span><span class="nv">sequences</span>,<span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">present</span>,<span class="w"> </span><span class="nv">are</span><span class="w"> </span><span class="nv">decoded</span>
<span class="nv">as</span><span class="w"> </span><span class="nv">follows</span>:
<span class="w">      </span>\<span class="nv">a</span><span class="w">     </span><span class="nv">alert</span><span class="w"> </span><span class="ss">(</span><span class="nv">bell</span><span class="ss">)</span>
<span class="w">      </span>\<span class="nv">b</span><span class="w">     </span><span class="nv">backspace</span>
<span class="w">      </span>\<span class="nv">e</span>
<span class="w">      </span>\<span class="nv">E</span><span class="w">     </span><span class="nv">an</span><span class="w"> </span><span class="nv">escape</span><span class="w"> </span><span class="nv">character</span>
<span class="w">      </span>\<span class="nv">f</span><span class="w">     </span><span class="nv">form</span><span class="w"> </span><span class="nv">feed</span>
<span class="w">      </span>\<span class="nv">n</span><span class="w">     </span><span class="nv">new</span><span class="w"> </span><span class="nv">line</span>
<span class="w">      </span>\<span class="nv">r</span><span class="w">     </span><span class="nv">carriage</span><span class="w"> </span><span class="k">return</span>
<span class="w">      </span>\<span class="nv">t</span><span class="w">     </span><span class="nv">horizontal</span><span class="w"> </span><span class="nv">tab</span>
<span class="w">      </span>\<span class="nv">v</span><span class="w">     </span><span class="nv">vertical</span><span class="w"> </span><span class="nv">tab</span>
<span class="w">      </span>\\<span class="w">     </span><span class="nv">backslash</span>
<span class="w">      </span>\<span class="err">'     single quote</span>
<span class="err">      \"     double quote</span>
<span class="err">      \nnn   the eight-bit character whose value is the octal value</span>
<span class="err">             nnn (one to three digits)</span>
<span class="err">      \xHH   the eight-bit character whose value is the hexadecimal</span>
<span class="err">             value HH (one or two hex digits)</span>
<span class="err">      \cx    a control-x character</span>

<span class="err">The expanded result is single-quoted, as if the dollar sign had not</span>
<span class="err">been present.</span>

<span class="err">A double-quoted string preceded by a dollar sign ($"string") will cause</span>
<span class="err">the string to be translated according to the current locale. If the</span>
<span class="err">current locale is C or POSIX, the dollar sign is ignored. If the</span>
<span class="err">string is translated and replaced, the replacement is double-quoted.</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Echo is so nineties and so fraught with perils that its use should result in
core dumps no less than 4GB. Seriously, echo's problems were the reason why
the Unix Standardization process finally invented the <code>printf</code> utility, doing
away with all the problems.</p>
<p>So to get a newline in a string, there are two ways:</p>
<div class="code"><pre class="code literal-block"><span class="p">#</span><span class="w"> </span><span class="mh">1</span><span class="p">)</span><span class="w"> </span><span class="n">Literal</span><span class="w"> </span><span class="n">newline</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">assignment</span><span class="p">.</span>
<span class="n">FOO</span><span class="o">=</span><span class="s">"hello</span>
<span class="n">world</span><span class="s">"</span>
<span class="p">#</span><span class="w"> </span><span class="mh">2</span><span class="p">)</span><span class="w"> </span><span class="n">Command</span><span class="w"> </span><span class="n">substitution</span><span class="p">.</span>
<span class="n">BAR</span><span class="o">=</span><span class="err">$</span><span class="p">(</span><span class="n">printf</span><span class="w"> </span><span class="s">"hello</span><span class="se">\n</span><span class="s">world</span><span class="se">\n</span><span class="s">"</span><span class="p">)</span><span class="w"> </span><span class="p">#</span><span class="w"> </span><span class="n">Alternative</span><span class="p">;</span><span class="w"> </span><span class="nl">note:</span><span class="w"> </span><span class="k">final</span><span class="w"> </span><span class="n">newline</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">deleted</span>
<span class="n">printf</span><span class="w"> </span><span class="p">'</span><span class="o">&lt;%</span><span class="n">s</span><span class="o">&gt;</span><span class="n">\n'</span><span class="w"> </span><span class="s">"$FOO"</span>
<span class="n">printf</span><span class="w"> </span><span class="p">'</span><span class="o">&lt;%</span><span class="n">s</span><span class="o">&gt;</span><span class="n">\n'</span><span class="w"> </span><span class="s">"$BAR"</span>
</pre></div>

<p>There! No SYSV vs BSD echo madness, everything gets neatly printed and fully
portable support for C escape sequences. Everybody please use <code>printf</code> now for
all your output needs and never look back.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-check-that-an-element-is-in-a-std-set/" class="u-url">How to check that an element is in a std::set?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-check-that-an-element-is-in-a-std-set/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T10:54:02+08:00" itemprop="datePublished" title="2023-03-03 10:54">2023-03-03 10:54</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How do you check that an element is in a set?</p>
<p>Is there a simpler equivalent of the following code:</p>
<div class="code"><pre class="code literal-block"><span class="nv">myset</span>.<span class="nv">find</span><span class="ss">(</span><span class="nv">x</span><span class="ss">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nv">myset</span>.<span class="k">end</span><span class="ss">()</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>The typical way to check for existence in many STL containers such as
<code>std::map</code>, <code>std::set</code>, ... is:</p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="nb nb-Type">bool</span><span class="w"> </span><span class="n">is_in</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">container</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">element</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">container</span><span class="o">.</span><span class="n">end</span><span class="p">();</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Another way of simply telling if an element exists is to check the <code>count()</code></p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">myset</span>.<span class="nv">count</span><span class="ss">(</span><span class="nv">x</span><span class="ss">))</span><span class="w"> </span>{
<span class="w">   </span><span class="o">//</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">set</span>,<span class="w"> </span><span class="nv">count</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="mi">1</span>
}<span class="w"> </span><span class="k">else</span><span class="w"> </span>{
<span class="w">   </span><span class="o">//</span><span class="w"> </span><span class="nv">count</span><span class="w"> </span><span class="nv">zero</span>,<span class="w"> </span><span class="nv">i</span>.<span class="nv">e</span>.<span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">not</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">set</span>
}
</pre></div>

<p>Most of the times, however, I find myself needing access to the element
wherever I check for its existence.</p>
<p>So I'd have to find the iterator anyway. Then, of course, it's better to
simply compare it to <code>end</code> too.</p>
<div class="code"><pre class="code literal-block"><span class="nv">set</span><span class="o">&lt;</span><span class="w"> </span><span class="nv">X</span><span class="w"> </span><span class="o">&gt;</span>::<span class="nv">iterator</span><span class="w"> </span><span class="nv">it</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">myset</span>.<span class="nv">find</span><span class="ss">(</span><span class="nv">x</span><span class="ss">)</span><span class="c1">;</span>
<span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">it</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nv">myset</span>.<span class="k">end</span><span class="ss">())</span><span class="w"> </span>{
<span class="w">   </span><span class="o">//</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="nv">something</span><span class="w"> </span><span class="nv">with</span><span class="w"> </span><span class="o">*</span><span class="nv">it</span>
}
</pre></div>

<p><strong>C++ 20</strong></p>
<p>In C++20 set gets a <code>contains</code> function, so the following becomes possible as
mentioned at: https://stackoverflow.com/a/54197839/895245</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">myset</span>.<span class="nv">contains</span><span class="ss">(</span><span class="nv">x</span><span class="ss">))</span><span class="w"> </span>{
<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">set</span>
}<span class="w"> </span><span class="k">else</span><span class="w"> </span>{
<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="nv">no</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span>
}
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-refresh-android-listview/" class="u-url">How to refresh Android listview?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-refresh-android-listview/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T10:53:35+08:00" itemprop="datePublished" title="2023-03-03 10:53">2023-03-03 10:53</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How to refresh an Android <code>ListView</code> after adding/deleting dynamic data?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Call <code>notifyDataSetChanged()</code> on your <code>Adapter</code> object once you've modified
the data in that adapter.</p>
<p>Some additional specifics on how/when to call <code>notifyDataSetChanged()</code> can be
viewed in this Google I/O video.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Also you can use this:</p>
<div class="code"><pre class="code literal-block">myListView.invalidateViews();
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1854.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1852.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

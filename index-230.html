<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 230) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-230.html">
<link rel="prev" href="index-231.html" type="text/html">
<link rel="next" href="index-229.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/if-else-in-a-list-comprehension/" class="u-url">if/else in a list comprehension</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/if-else-in-a-list-comprehension/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T01:32:12+08:00" itemprop="datePublished" title="2023-02-17 01:32">2023-02-17 01:32</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a list <code>xs</code> containing a mixture of strings and <code>None</code> values. How can
I use a list comprehension to call a function on each string, but convert the
<code>None</code> values to <code>''</code> (rather than passing them to the function)?</p>
<p>I tried:</p>
<div class="code"><pre class="code literal-block">[<span class="nv">f</span><span class="ss">(</span><span class="nv">x</span><span class="ss">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">xs</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">not</span><span class="w"> </span><span class="nv">None</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">''</span>]
</pre></div>

<p>but it gives a <code>SyntaxError</code>. What is the correct syntax?</p>
<hr>
<p>See List comprehension with condition if you are trying to make a list
comprehension that <em>omits</em> values based on a condition.</p>
<p>If you need to consider more than two conditional outcomes, beware that
Python's conditional expressions do not support <code>elif</code>. Instead, it is
necessary to nest <code>if</code>/<code>else</code> conditionals. See <code>elif</code> in list comprehension
conditionals for details.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can totally do that. It's just an ordering issue:</p>
<div class="code"><pre class="code literal-block">[<span class="nv">f</span><span class="ss">(</span><span class="nv">x</span><span class="ss">)</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">not</span><span class="w"> </span><span class="nv">None</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">''</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">xs</span>]
</pre></div>

<p>In general,</p>
<div class="code"><pre class="code literal-block">[<span class="nv">f</span><span class="ss">(</span><span class="nv">x</span><span class="ss">)</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">condition</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="nv">g</span><span class="ss">(</span><span class="nv">x</span><span class="ss">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">sequence</span>]
</pre></div>

<p>And, for list comprehensions with <code>if</code> conditions only,</p>
<div class="code"><pre class="code literal-block">[<span class="nv">f</span><span class="ss">(</span><span class="nv">x</span><span class="ss">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">sequence</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">condition</span>]
</pre></div>

<p>Note that this actually uses a different language construct, a conditional
expression, which itself is not part of the comprehension syntax, while the
<code>if</code> after the <code>for…in</code> is part of list comprehensions and used to <em>filter</em>
elements from the source iterable.</p>
<hr>
<p>Conditional expressions can be used in all kinds of situations where you want
to choose between two expression values based on some condition. This does the
same as the ternary operator <code>?:</code> that exists in other languages. For example:</p>
<div class="code"><pre class="code literal-block"><span class="nv">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">123</span>
<span class="nv">print</span><span class="ss">(</span><span class="nv">value</span>,<span class="w"> </span><span class="s1">'is'</span>,<span class="w"> </span><span class="s1">'even'</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">'odd'</span><span class="ss">)</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Let's use this question to review some concepts. I think it's good to first
see the fundamentals so you can extrapolate to different cases.</p>
<p>Other answers provide the specific answer to your question. I'll first give
some general context and then I'll answer the question.</p>
<h2>Fundamentals</h2>
<p><code>if/else</code> statements in list comprehensions involve two things:</p>
<ul>
<li>List comprehensions</li>
<li>Conditional expressions (Ternary operators)</li>
</ul>
<h3>1. List comprehensions</h3>
<p>They provide a concise way to create lists.</p>
<p>Its structure consists of: " <em>brackets containing an expression followed by a
for clause, then zero or more for or if clauses</em> ".</p>
<h4>Case 1</h4>
<p>Here we have no condition. Each item from the iterable is added to <code>new_list</code>.</p>
<div class="code"><pre class="code literal-block"><span class="nv">new_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="nv">expression</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">iterable</span>]
<span class="nv">new_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="nv">x</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">range</span><span class="ss">(</span><span class="mi">1</span>,<span class="w"> </span><span class="mi">10</span><span class="ss">)</span>]
<span class="o">&gt;</span><span class="w"> </span>[<span class="mi">1</span>,<span class="w"> </span><span class="mi">2</span>,<span class="w"> </span><span class="mi">3</span>,<span class="w"> </span><span class="mi">4</span>,<span class="w"> </span><span class="mi">5</span>,<span class="w"> </span><span class="mi">6</span>,<span class="w"> </span><span class="mi">7</span>,<span class="w"> </span><span class="mi">8</span>,<span class="w"> </span><span class="mi">9</span>]
</pre></div>

<h4>Case 2</h4>
<p>Here we have one condition.</p>
<p><strong>Example 1</strong></p>
<p>Condition: only <em>even</em> numbers will be added to <code>new_list</code>.</p>
<div class="code"><pre class="code literal-block"><span class="nv">new_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="nv">expression</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">iterable</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">condition</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">True</span>]
<span class="nv">new_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="nv">x</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">range</span><span class="ss">(</span><span class="mi">1</span>,<span class="w"> </span><span class="mi">10</span><span class="ss">)</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span>]
<span class="o">&gt;</span><span class="w"> </span>[<span class="mi">2</span>,<span class="w"> </span><span class="mi">4</span>,<span class="w"> </span><span class="mi">6</span>,<span class="w"> </span><span class="mi">8</span>]
</pre></div>

<p><strong>Example 2</strong></p>
<p>Condition: only <em>even</em> numbers that are multiple of 3 will be added to
<code>new_list</code>.</p>
<div class="code"><pre class="code literal-block"><span class="nv">new_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="nv">expression</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">iterable</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">condition</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">True</span>]
<span class="nv">new_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="nv">x</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">range</span><span class="ss">(</span><span class="mi">1</span>,<span class="w"> </span><span class="mi">10</span><span class="ss">)</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span>]
<span class="o">&gt;</span><span class="w"> </span>[<span class="mi">6</span>]
</pre></div>

<p>But howcome we have one condition if we use two <code>if</code> in <code>new_list</code>?</p>
<p>The prior expression could be written as:</p>
<div class="code"><pre class="code literal-block"><span class="nv">new_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="nv">x</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">range</span><span class="ss">(</span><span class="mi">1</span>,<span class="w"> </span><span class="mi">10</span><span class="ss">)</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span>]
<span class="o">&gt;</span><span class="w"> </span>[<span class="mi">6</span>]
</pre></div>

<p>We only use one <code>if</code> statement.</p>
<p>This is like doing:</p>
<div class="code"><pre class="code literal-block"><span class="nv">new_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[]
<span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">range</span><span class="ss">(</span><span class="mi">1</span>,<span class="w"> </span><span class="mi">10</span><span class="ss">)</span>:
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span>:
<span class="w">        </span><span class="nv">new_list</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">x</span><span class="ss">)</span>
<span class="o">&gt;</span><span class="w"> </span>[<span class="mi">6</span>]
</pre></div>

<p><strong>Example 3</strong></p>
<p>Just for the sake of argument, you can also use <code>or</code>.</p>
<p>Condition: <em>even</em> numbers or numbers multiple of 3 will be added to
<code>new_list</code>.</p>
<div class="code"><pre class="code literal-block"><span class="nv">new_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="nv">x</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">range</span><span class="ss">(</span><span class="mi">1</span>,<span class="w"> </span><span class="mi">10</span><span class="ss">)</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="nv">or</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span>]
<span class="o">&gt;</span><span class="w"> </span>[<span class="mi">2</span>,<span class="w"> </span><span class="mi">3</span>,<span class="w"> </span><span class="mi">4</span>,<span class="w"> </span><span class="mi">6</span>,<span class="w"> </span><span class="mi">8</span>,<span class="w"> </span><span class="mi">9</span>]
</pre></div>

<h4>Case 3</h4>
<p>More than one condition:</p>
<p>Here we need the help of conditional expressions (Ternary operators).</p>
<h3>2.Conditional Expressions</h3>
<p>What are conditional expressions? What the name says: a Python expression that
has some condition.</p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;</span><span class="nv">Exp1</span><span class="o">&gt;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">condition</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="o">&lt;</span><span class="nv">Exp2</span><span class="o">&gt;</span>
</pre></div>

<p>First the <code>condition</code> is evaluated. If <code>condition</code> is <code>True</code>, then <code>&lt;Exp1&gt;</code> is
evaluated and returned. If <code>condition</code> is <code>False</code>, then <code>&lt;Exp2&gt;</code> is evaluated
and returned.</p>
<p>A conditional expression with more than one condition:</p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;</span><span class="nv">Exp1</span><span class="o">&gt;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">condition</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="o">&lt;</span><span class="nv">Exp2</span><span class="o">&gt;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">condition</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="o">&lt;</span><span class="nv">Exp3</span><span class="o">&gt;</span>...
</pre></div>

<p>An example from Real Python:</p>
<div class="code"><pre class="code literal-block"><span class="nv">age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">12</span>
<span class="nv">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'minor'</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">age</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">21</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">'adult'</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nv">minor</span>
</pre></div>

<p>The value of <code>s</code> is conditioned to <code>age</code> value.</p>
<h3>3.List Comprehensions with Conditionals</h3>
<p>We put list comprehensions and conditionals together like this.</p>
<div class="code"><pre class="code literal-block"><span class="nv">new_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="o">&lt;</span><span class="nv">Conditional</span><span class="w"> </span><span class="nv">Expression</span><span class="o">&gt;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="o">&lt;</span><span class="nv">item</span><span class="o">&gt;</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="o">&lt;</span><span class="nv">iterable</span><span class="o">&gt;</span>]

<span class="nv">new_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="o">&lt;</span><span class="nv">Exp1</span><span class="o">&gt;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">condition</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="o">&lt;</span><span class="nv">Exp2</span><span class="o">&gt;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">condition</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="o">&lt;</span><span class="nv">Exp3</span><span class="o">&gt;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="o">&lt;</span><span class="nv">item</span><span class="o">&gt;</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="o">&lt;</span><span class="nv">iterable</span><span class="o">&gt;</span>]
</pre></div>

<p>Condition: <em>even</em> numbers will be added as <code>'even'</code>, the number three will be
added as <code>'number three'</code> and the rest will be added as <code>'odd'</code>.</p>
<div class="code"><pre class="code literal-block"><span class="nv">new_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="s1">'even'</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">'number three'</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">'odd'</span><span class="w"> </span>
<span class="w">             </span><span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">range</span><span class="ss">(</span><span class="mi">1</span>,<span class="w"> </span><span class="mi">10</span><span class="ss">)</span>]
<span class="o">&gt;</span><span class="w"> </span>[<span class="s1">'odd'</span>,<span class="w"> </span><span class="s1">'even'</span>,<span class="w"> </span><span class="s1">'number three'</span>,<span class="w"> </span><span class="s1">'even'</span>,<span class="w"> </span><span class="s1">'odd'</span>,<span class="w"> </span><span class="s1">'even'</span>,<span class="w"> </span><span class="s1">'odd'</span>,<span class="w"> </span><span class="s1">'even'</span>,<span class="w"> </span><span class="s1">'odd'</span>]
</pre></div>

<hr>
<h2>The answer to the question</h2>
<div class="code"><pre class="code literal-block">[<span class="nv">f</span><span class="ss">(</span><span class="nv">x</span><span class="ss">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">xs</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">not</span><span class="w"> </span><span class="nv">None</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">''</span>]
</pre></div>

<p>Here we have a problem with the structure of the list: <code>for x in xs</code> should be
at the end of the expression.</p>
<p>Correct way:</p>
<div class="code"><pre class="code literal-block">[<span class="nv">f</span><span class="ss">(</span><span class="nv">x</span><span class="ss">)</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">not</span><span class="w"> </span><span class="nv">None</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">''</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">xs</span>]
</pre></div>

<hr>
<p>Further reading:</p>
<p>Does Python have a ternary conditional operator?</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/determine-whether-two-date-ranges-overlap/" class="u-url">Determine Whether Two Date Ranges Overlap</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/determine-whether-two-date-ranges-overlap/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T01:31:42+08:00" itemprop="datePublished" title="2023-02-17 01:31">2023-02-17 01:31</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Given two date ranges, what is the simplest or most efficient way to determine
whether the two date ranges overlap?</p>
<p>As an example, suppose we have ranges denoted by DateTime variables
<code>StartDate1</code> to <code>EndDate1</code> <em>and</em> <code>StartDate2</code> to <code>EndDate2</code>.</p>
<p><br><br></p>
<h2>Answer</h2>
<p><strong>(StartA &lt;= EndB) and (EndA &gt;= StartB)</strong></p>
<p><em>Proof:</em><br>
Let ConditionA Mean that DateRange A Completely After DateRange B</p>
<div class="code"><pre class="code literal-block">_                        |---- DateRange A ------|
|---Date Range B -----|                          _
</pre></div>

<p>(True if <code>StartA &gt; EndB</code>)</p>
<p>Let ConditionB Mean that DateRange A is Completely Before DateRange B</p>
<div class="code"><pre class="code literal-block">|---- DateRange A -----|                        _ 
_                          |---Date Range B ----|
</pre></div>

<p>(True if <code>EndA &lt; StartB</code>)</p>
<p>Then Overlap exists if Neither A Nor B is true -<br>
(If one range is neither completely after the other,<br>
nor completely before the other, then they must overlap.)</p>
<p>Now one of De Morgan's laws says that:</p>
<p><code>Not (A Or B)</code> &lt;=&gt; <code>Not A And Not B</code></p>
<p>Which translates to: <code>(StartA &lt;= EndB) and (EndA &gt;= StartB)</code></p>
<hr>
<p>NOTE: This includes conditions where the edges overlap exactly. If you wish to
exclude that,<br>
change the <code>&gt;=</code> operators to <code>&gt;</code>, and <code>&lt;=</code> to <code>&lt;</code></p>
<hr>
<p>NOTE2. Thanks to @Baodad, see this blog, the actual overlap is least of:<br>
{ <code>endA-startA</code>, <code>endA - startB</code>, <code>endB-startA</code>, <code>endB - startB</code> }</p>
<p><code>(StartA &lt;= EndB) and (EndA &gt;= StartB)</code> <code>(StartA &lt;= EndB) and (StartB &lt;=
EndA)</code></p>
<hr>
<p>NOTE3. Thanks to @tomosius, a shorter version reads:<br><code>DateRangesOverlap = max(start1, start2) &lt; min(end1, end2)</code><br>
This is actually a syntactical shortcut for what is a longer implementation,
which includes extra checks to verify that the start dates are on or before
the endDates. Deriving this from above:</p>
<p>If start and end dates can be out of order, i.e., if it is possible that
<code>startA &gt; endA</code> or <code>startB &gt; endB</code>, then you also have to check that they are
in order, so that means you have to add two additional validity rules:<br><code>(StartA &lt;= EndB) and (StartB &lt;= EndA) and (StartA &lt;= EndA) and (StartB &lt;=
EndB)</code> or:<br><code>(StartA &lt;= EndB) and (StartA &lt;= EndA) and (StartB &lt;= EndA) and (StartB &lt;=
EndB)</code> or,<br><code>(StartA &lt;= Min(EndA, EndB) and (StartB &lt;= Min(EndA, EndB))</code> or:<br><code>(Max(StartA, StartB) &lt;= Min(EndA, EndB)</code></p>
<p>But to implement <code>Min()</code> and <code>Max()</code>, you have to code, (using C ternary for
terseness),:<br><code>((StartA &gt; StartB) ? StartA : StartB) &lt;= ((EndA &lt; EndB) ? EndA : EndB)</code></p>
<p><br></p>
<h3>Suggest</h3>
<p>I believe that it is sufficient to say that the two ranges overlap if:</p>
<div class="code"><pre class="code literal-block">(StartDate1 &lt;= EndDate2) and (StartDate2 &lt;= EndDate1)
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/convert-integer-to-string-in-python/" class="u-url">Convert integer to string in Python</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/convert-integer-to-string-in-python/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T01:31:11+08:00" itemprop="datePublished" title="2023-02-17 01:31">2023-02-17 01:31</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How do I convert an integer to a string?</p>
<div class="code"><pre class="code literal-block"><span class="mf">42</span><span class="w">   </span><span class="err">⟶</span><span class="w">   </span><span class="s">"42"</span>
</pre></div>

<hr>
<p>For the reverse, see How do I parse a string to a float or int?. <code>float</code>s can
be handled similarly, but handling the decimal points can be tricky because
floating-point values are not precise. See Converting a float to a string
without rounding it for more specific advice.</p>
<p><br><br></p>
<h2>Answer</h2>
<div class="code"><pre class="code literal-block">&gt;&gt;&gt; str(42)
'42'

&gt;&gt;&gt; int('42')
42
</pre></div>

<p>Links to the documentation:</p>
<ul>
<li><code>int()</code></li>
<li><code>str()</code></li>
</ul>
<p><code>str(x)</code> converts any object <code>x</code> to a string by calling <code>x.__str__()</code>, or
<code>repr(x)</code> if <code>x</code> doesn't have a <code>__str__()</code> method.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Try this:</p>
<div class="code"><pre class="code literal-block">str(i)
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-231.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-229.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2755) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2755.html">
<link rel="prev" href="index-2756.html" type="text/html">
<link rel="next" href="index-2754.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/argparse-required-arguments-listed-under-optional-arguments/" class="u-url">Argparse: Required arguments listed under "optional arguments"?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/argparse-required-arguments-listed-under-optional-arguments/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T15:32:30+08:00" itemprop="datePublished" title="2023-03-05 15:32">2023-03-05 15:32</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I use the following simple code to parse some arguments; note that one of them
is required. Unfortunately, when the user runs the script without providing
the argument, the displayed usage/help text does not indicate that there is a
non-optional argument, which I find very confusing. How can I get python to
indicate that an argument is not optional?</p>
<p>Here is the code:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">argparse</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">'__main__'</span><span class="p">:</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s1">'Foo'</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">'-i'</span><span class="p">,</span><span class="s1">'--input'</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s1">'Input file name'</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">'-o'</span><span class="p">,</span><span class="s1">'--output'</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s1">'Output file name'</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s2">"stdout"</span><span class="p">)</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>
    <span class="nb">print</span> <span class="p">(</span><span class="s2">"Input file: </span><span class="si">%s</span><span class="s2">"</span> <span class="o">%</span> <span class="n">args</span><span class="o">.</span><span class="n">input</span> <span class="p">)</span>
    <span class="nb">print</span> <span class="p">(</span><span class="s2">"Output file: </span><span class="si">%s</span><span class="s2">"</span> <span class="o">%</span> <span class="n">args</span><span class="o">.</span><span class="n">output</span> <span class="p">)</span>
</pre></div>

<p>When running above code without providing the required argument, I get the
following output:</p>
<div class="code"><pre class="code literal-block"><span class="n">usage</span><span class="o">:</span><span class="w"> </span><span class="n">foo</span><span class="o">.</span><span class="na">py</span><span class="w"> </span><span class="o">[-</span><span class="n">h</span><span class="o">]</span><span class="w"> </span><span class="o">-</span><span class="n">i</span><span class="w"> </span><span class="n">INPUT</span><span class="w"> </span><span class="o">[-</span><span class="n">o</span><span class="w"> </span><span class="n">OUTPUT</span><span class="o">]</span>

<span class="n">Foo</span>

<span class="n">optional</span><span class="w"> </span><span class="k">arguments</span><span class="o">:</span>
<span class="w">    </span><span class="o">-</span><span class="n">h</span><span class="o">,</span><span class="w"> </span><span class="o">--</span><span class="n">help</span><span class="w">            </span><span class="n">show</span><span class="w"> </span><span class="k">this</span><span class="w"> </span><span class="n">help</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">exit</span>
<span class="w">    </span><span class="o">-</span><span class="n">i</span><span class="w"> </span><span class="n">INPUT</span><span class="o">,</span><span class="w"> </span><span class="o">--</span><span class="n">input</span><span class="w"> </span><span class="n">INPUT</span>
<span class="w">                          </span><span class="n">Input</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">name</span>
<span class="w">    </span><span class="o">-</span><span class="n">o</span><span class="w"> </span><span class="n">OUTPUT</span><span class="o">,</span><span class="w"> </span><span class="o">--</span><span class="n">output</span><span class="w"> </span><span class="n">OUTPUT</span>
<span class="w">                          </span><span class="n">Output</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">name</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>Parameters starting with <code>-</code> or <code>--</code> are usually considered optional. All
other parameters are positional parameters and as such required by design
(like positional function arguments). It is possible to require optional
arguments, but this is a bit against their design. Since they are still part
of the non-positional arguments, they will still be listed under the confusing
header “optional arguments” even if they are required. The missing square
brackets in the usage part however show that they are indeed required.</p>
<p>See also the documentation:</p>
<blockquote>
<p>In general, the argparse module assumes that flags like -f and --bar
indicate optional arguments, which can always be omitted at the command
line.</p>
<p><strong>Note:</strong> Required options are generally considered bad form because users
expect options to be optional, and thus they should be avoided when
possible.</p>
</blockquote>
<p>That being said, the headers <em>“positional arguments”</em> and <em>“optional
arguments”</em> in the help are generated by two argument groups in which the
arguments are automatically separated into. Now, you could “hack into it” and
change the name of the optional ones, but a far more elegant solution would be
to create another group for “required named arguments” (or whatever you want
to call them):</p>
<div class="code"><pre class="code literal-block"><span class="nv">parser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">argparse</span>.<span class="nv">ArgumentParser</span><span class="ss">(</span><span class="nv">description</span><span class="o">=</span><span class="s1">'Foo'</span><span class="ss">)</span>
<span class="nv">parser</span>.<span class="nv">add_argument</span><span class="ss">(</span><span class="s1">'-o'</span>,<span class="w"> </span><span class="s1">'--output'</span>,<span class="w"> </span><span class="nv">help</span><span class="o">=</span><span class="s1">'Output file name'</span>,<span class="w"> </span><span class="nv">default</span><span class="o">=</span><span class="s1">'stdout'</span><span class="ss">)</span>
<span class="nv">requiredNamed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">parser</span>.<span class="nv">add_argument_group</span><span class="ss">(</span><span class="s1">'required named arguments'</span><span class="ss">)</span>
<span class="nv">requiredNamed</span>.<span class="nv">add_argument</span><span class="ss">(</span><span class="s1">'-i'</span>,<span class="w"> </span><span class="s1">'--input'</span>,<span class="w"> </span><span class="nv">help</span><span class="o">=</span><span class="s1">'Input file name'</span>,<span class="w"> </span><span class="nv">required</span><span class="o">=</span><span class="nv">True</span><span class="ss">)</span>
<span class="nv">parser</span>.<span class="nv">parse_args</span><span class="ss">(</span>[<span class="s1">'-h'</span>]<span class="ss">)</span>



<span class="nv">usage</span>:<span class="w"> </span>[<span class="o">-</span><span class="nv">h</span>]<span class="w"> </span>[<span class="o">-</span><span class="nv">o</span><span class="w"> </span><span class="nv">OUTPUT</span>]<span class="w"> </span><span class="o">-</span><span class="nv">i</span><span class="w"> </span><span class="nv">INPUT</span>

<span class="nv">Foo</span>

<span class="nv">optional</span><span class="w"> </span><span class="nv">arguments</span>:
<span class="w">  </span><span class="o">-</span><span class="nv">h</span>,<span class="w"> </span><span class="o">--</span><span class="nv">help</span><span class="w">            </span><span class="k">show</span><span class="w"> </span><span class="nv">this</span><span class="w"> </span><span class="nv">help</span><span class="w"> </span><span class="nv">message</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="k">exit</span>
<span class="w">  </span><span class="o">-</span><span class="nv">o</span><span class="w"> </span><span class="nv">OUTPUT</span>,<span class="w"> </span><span class="o">--</span><span class="nv">output</span><span class="w"> </span><span class="nv">OUTPUT</span>
<span class="w">                        </span><span class="nv">Output</span><span class="w"> </span><span class="nv">file</span><span class="w"> </span><span class="nv">name</span>

<span class="nv">required</span><span class="w"> </span><span class="nv">named</span><span class="w"> </span><span class="nv">arguments</span>:
<span class="w">  </span><span class="o">-</span><span class="nv">i</span><span class="w"> </span><span class="nv">INPUT</span>,<span class="w"> </span><span class="o">--</span><span class="nv">input</span><span class="w"> </span><span class="nv">INPUT</span>
<span class="w">                        </span><span class="nv">Input</span><span class="w"> </span><span class="nv">file</span><span class="w"> </span><span class="nv">name</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Since I prefer to list required arguments before optional, I hack around it
via:</p>
<div class="code"><pre class="code literal-block"><span class="nv">parser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">argparse</span>.<span class="nv">ArgumentParser</span><span class="ss">()</span>
<span class="nv">parser</span>.<span class="nv">_action_groups</span>.<span class="nv">pop</span><span class="ss">()</span>
<span class="nv">required</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">parser</span>.<span class="nv">add_argument_group</span><span class="ss">(</span><span class="s1">'required arguments'</span><span class="ss">)</span>
<span class="nv">optional</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">parser</span>.<span class="nv">add_argument_group</span><span class="ss">(</span><span class="s1">'optional arguments'</span><span class="ss">)</span>
<span class="nv">required</span>.<span class="nv">add_argument</span><span class="ss">(</span><span class="s1">'--required_arg'</span>,<span class="w"> </span><span class="nv">required</span><span class="o">=</span><span class="nv">True</span><span class="ss">)</span>
<span class="nv">optional</span>.<span class="nv">add_argument</span><span class="ss">(</span><span class="s1">'--optional_arg'</span><span class="ss">)</span>
<span class="k">return</span><span class="w"> </span><span class="nv">parser</span>.<span class="nv">parse_args</span><span class="ss">()</span>
</pre></div>

<p>and this outputs:</p>
<div class="code"><pre class="code literal-block"><span class="n">usage</span><span class="o">:</span><span class="w"> </span><span class="n">main</span><span class="o">.</span><span class="na">py</span><span class="w"> </span><span class="o">[-</span><span class="n">h</span><span class="o">]</span><span class="w"> </span><span class="o">--</span><span class="n">required_arg</span><span class="w"> </span><span class="n">REQUIRED_ARG</span><span class="w"> </span><span class="o">[--</span><span class="n">optional_arg</span><span class="w"> </span><span class="n">OPTIONAL_ARG</span><span class="o">]</span>

<span class="n">required</span><span class="w"> </span><span class="k">arguments</span><span class="o">:</span>
<span class="w">  </span><span class="o">--</span><span class="n">required_arg</span><span class="w"> </span><span class="n">REQUIRED_ARG</span>

<span class="n">optional</span><span class="w"> </span><span class="k">arguments</span><span class="o">:</span>
<span class="w">  </span><span class="o">--</span><span class="n">optional_arg</span><span class="w"> </span><span class="n">OPTIONAL_ARG</span>
</pre></div>

<p>I can live without <code>-h, --help</code> showing up in the optional arguments group.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-the-best-method-of-handling-currency-money/" class="u-url">What is the best method of handling currency/money?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-the-best-method-of-handling-currency-money/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T15:31:03+08:00" itemprop="datePublished" title="2023-03-05 15:31">2023-03-05 15:31</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm working on a very basic shopping cart system.</p>
<p>I have a table <code>items</code> that has a column <code>price</code> of type <code>integer</code>.</p>
<p>I'm having trouble displaying the price value in my views for prices that
include both Euros and cents. Am I missing something obvious as far as
handling currency in the Rails framework is concerned?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You'll probably want to use a <code>DECIMAL</code> type in your database. In your
migration, do something like this:</p>
<div class="code"><pre class="code literal-block"># precision is the total number of digits
# scale is the number of digits to the right of the decimal point
add_column :items, :price, :decimal, :precision =&gt; 8, :scale =&gt; 2
</pre></div>

<p>In Rails, the <code>:decimal</code> type is returned as <code>BigDecimal</code>, which is great for
price calculation.</p>
<p>If you insist on using integers, you will have to manually convert to and from
<code>BigDecimal</code>s everywhere, which will probably just become a pain.</p>
<p>As pointed out by mcl, to print the price, use:</p>
<div class="code"><pre class="code literal-block">number_to_currency(price, :unit =&gt; "€")
#=&gt; €1,234.01
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Here's a fine, simple approach that leverages <code>composed_of</code> (part of
ActiveRecord, using the ValueObject pattern) and the Money gem</p>
<p>You'll need</p>
<ul>
<li>The Money gem (version 4.1.0) </li>
<li>A model, for example <code>Product</code>
</li>
<li>An <code>integer</code> column in your model (and database), for example <code>:price</code>
</li>
</ul>
<p>Write this in your <code>product.rb</code> file:</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span><span class="w"> </span><span class="n">Product</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">ActiveRecord</span><span class="p">::</span><span class="n">Base</span>

<span class="w">  </span><span class="n">composed_of</span><span class="w"> </span><span class="p">:</span><span class="n">price</span><span class="p">,</span>
<span class="w">              </span><span class="p">:</span><span class="k">class_name</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">'Money'</span><span class="p">,</span>
<span class="w">              </span><span class="p">:</span><span class="n">mapping</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="o">%</span><span class="n">w</span><span class="p">(</span><span class="n">price</span><span class="w"> </span><span class="n">cents</span><span class="p">),</span>
<span class="w">              </span><span class="p">:</span><span class="n">converter</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">Proc</span><span class="o">.</span><span class="n">new</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">|</span><span class="n">value</span><span class="o">|</span><span class="w"> </span><span class="n">Money</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">}</span>
<span class="w">  </span><span class="c1"># ...</span>
</pre></div>

<p>What you'll get:</p>
<ul>
<li>Without any extra changes, all of your forms will show dollars and cents, but the internal representation is still just cents. The forms will accept values like "$12,034.95" and convert it for you. There's no need to add extra handlers or attributes to your model, or helpers in your view.</li>
<li>
<code>product.price = "$12.00"</code> automatically converts to the Money class</li>
<li>
<code>product.price.to_s</code> displays a decimal formatted number ("1234.00")</li>
<li>
<code>product.price.format</code> displays a properly formatted string for the currency</li>
<li>If you need to send cents (to a payment gateway that wants pennies), <code>product.price.cents.to_s</code>
</li>
<li>Currency conversion for free</li>
</ul>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/still-getting-warning-configuration-compile-is-obsolete-and-has-been-replaced-with-implementation/" class="u-url">Still getting warning : Configuration 'compile' is obsolete and has been replaced with 'implementation'</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/still-getting-warning-configuration-compile-is-obsolete-and-has-been-replaced-with-implementation/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T15:29:28+08:00" itemprop="datePublished" title="2023-03-05 15:29">2023-03-05 15:29</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have replaced every occurrence of <code>compile</code> by <code>implementation</code> in my
project's <code>build.gradle</code>, but I'm still getting this warning :</p>
<p><img alt="enter image description here" src="images/rXimx.png"></p>
<p>I tried to look for "compile " in the whole project but no match was found. So
what could be the cause?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>I've updated <code>com.google.gms:google-services</code> from <code>3.1.1</code> to <code>3.2.0</code> and the
warning stopped appearing.</p>
<div class="code"><pre class="code literal-block"><span class="n">buildscript</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="n">repositories</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">google</span><span class="p">()</span>
<span class="w">        </span><span class="n">jcenter</span><span class="p">()</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">dependencies</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">classpath</span><span class="p">(</span><span class="s2">"com.android.tools.build:gradle:3.1.0"</span><span class="p">)</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">NOTE</span><span class="p">:</span><span class="w"> </span><span class="n">Do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">place</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">application</span><span class="w"> </span><span class="n">dependencies</span><span class="w"> </span><span class="n">here</span><span class="p">;</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">belong</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">individual</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="n">build</span><span class="o">.</span><span class="n">gradle</span><span class="w"> </span><span class="n">files</span>

<span class="w">    </span><span class="n">classpath</span><span class="p">(</span><span class="s2">"com.google.gms:google-services:3.2.0"</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>I have one same Warning caused to com.google.gms:google-services.</p>
<p>The solution is to <strong>upgrade classpath com.google.gms:google-services to
classpath 'com.google.gms:google-services:3.2.0' in file in build.gradle
Project:</strong></p>
<p><img alt="enter image description here" src="images/N9S5z.png"></p>
<div class="code"><pre class="code literal-block"><span class="n">buildscript</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">repositories</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">jcenter</span><span class="p">()</span>
<span class="w">        </span><span class="n">google</span><span class="p">()</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">dependencies</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">classpath</span><span class="w"> </span><span class="s1">'com.android.tools.build:gradle:3.1.0'</span>

<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="n">NOTE</span><span class="p">:</span><span class="w"> </span><span class="n">Do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">place</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">application</span><span class="w"> </span><span class="n">dependencies</span><span class="w"> </span><span class="n">here</span><span class="p">;</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">belong</span>
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">individual</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="n">build</span><span class="o">.</span><span class="n">gradle</span><span class="w"> </span><span class="n">files</span>
<span class="w">        </span><span class="n">classpath</span><span class="w"> </span><span class="s1">'com.google.gms:google-services:3.2.0'</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="n">allprojects</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">repositories</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">jcenter</span><span class="p">()</span>
<span class="w">        </span><span class="n">google</span><span class="p">()</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="n">task</span><span class="w"> </span><span class="n">clean</span><span class="p">(</span><span class="n">type</span><span class="p">:</span><span class="w"> </span><span class="n">Delete</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">delete</span><span class="w"> </span><span class="n">rootProject</span><span class="o">.</span><span class="n">buildDir</span>
<span class="p">}</span>
</pre></div>

<p>In Android Studio verion 3.1 dependencies complie word is replaced to
implementation</p>
<p><strong>dependencies with Warning</strong> in android studio 3.1</p>
<div class="code"><pre class="code literal-block"><span class="n">dependencies</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">compile</span><span class="w"> </span><span class="n">fileTree</span><span class="p">(</span><span class="n">dir</span><span class="p">:</span><span class="w"> </span><span class="s1">'libs'</span><span class="p">,</span><span class="w"> </span><span class="n">include</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s1">'*.jar'</span><span class="p">])</span>
<span class="w">            </span><span class="n">compile</span><span class="w"> </span><span class="s1">'com.android.support:appcompat-v7:27.1.0'</span>
<span class="w">            </span><span class="n">compile</span><span class="w"> </span><span class="s1">'com.android.support.constraint:constraint-layout:1.0.2'</span>
<span class="w">            </span><span class="n">testImplementation</span><span class="w"> </span><span class="s1">'junit:junit:4.12'</span>
<span class="w">            </span><span class="n">androidTestImplementation</span><span class="w"> </span><span class="s1">'com.android.support.test:runner:1.0.1'</span>
<span class="w">            </span><span class="n">androidTestImplementation</span><span class="w"> </span><span class="s1">'com.android.support.test.espresso:espresso-core:3.0.1'</span>
<span class="w">    </span><span class="p">}</span>
</pre></div>

<p><strong>dependencies OK</strong> in android studio 3.1</p>
<div class="code"><pre class="code literal-block"><span class="w">    </span><span class="n">dependencies</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">implementation</span><span class="w"> </span><span class="n">fileTree</span><span class="p">(</span><span class="n">dir</span><span class="p">:</span><span class="w"> </span><span class="s1">'libs'</span><span class="p">,</span><span class="w"> </span><span class="n">include</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s1">'*.jar'</span><span class="p">])</span>
<span class="w">            </span><span class="n">implementation</span><span class="w"> </span><span class="s1">'com.android.support:appcompat-v7:27.1.0'</span>
<span class="w">            </span><span class="n">implementation</span><span class="w"> </span><span class="s1">'com.android.support.constraint:constraint-layout:1.0.2'</span>
<span class="w">            </span><span class="n">testImplementation</span><span class="w"> </span><span class="s1">'junit:junit:4.12'</span>
<span class="w">            </span><span class="n">androidTestImplementation</span><span class="w"> </span><span class="s1">'com.android.support.test:runner:1.0.1'</span>
<span class="w">            </span><span class="n">androidTestImplementation</span><span class="w"> </span><span class="s1">'com.android.support.test.espresso:espresso-core:3.0.1'</span>

<span class="w">    </span><span class="p">}</span>
</pre></div>

<p>Gradel generate by Android Studio 3.1 for new project.</p>
<p><img alt="Gradel generate by Android Studio 3.1 for new project." src="images/k98p5.png"></p>
<p>Visit
https://docs.gradle.org/current/userguide/dependency_management_for_java_projects.html</p>
<p>For details
https://docs.gradle.org/current/userguide/declaring_dependencies.html</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2756.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2754.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

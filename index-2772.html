<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2772) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2772.html">
<link rel="prev" href="index-2773.html" type="text/html">
<link rel="next" href="index-2771.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/python-truncate-a-long-string/" class="u-url">Python truncate a long string</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/python-truncate-a-long-string/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T16:48:01+08:00" itemprop="datePublished" title="2023-03-05 16:48">2023-03-05 16:48</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How does one truncate a string to 75 characters in Python?</p>
<p>This is how it is done in JavaScript:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">data</span><span class="o">=</span><span class="s2">"saddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddsaddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddsadddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd"</span>
<span class="k">var</span><span class="w"> </span><span class="n">info</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">length</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">75</span><span class="p">)</span><span class="w"> </span><span class="err">?</span><span class="w"> </span><span class="n">data</span><span class="o">.</span><span class="n">substring</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">75</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">'..'</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">data</span><span class="p">;</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<div class="code"><pre class="code literal-block"><span class="nv">info</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">(</span><span class="nv">data</span>[:<span class="mi">75</span>]<span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">'..'</span><span class="ss">)</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">len</span><span class="ss">(</span><span class="nv">data</span><span class="ss">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">75</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="nv">data</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Even more concise:</p>
<div class="code"><pre class="code literal-block">data = data[:75]
</pre></div>

<p>If it is less than 75 characters there will be no change.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/comparing-two-dictionaries-and-checking-how-many-key-value-pairs-are-equal/" class="u-url">Comparing two dictionaries and checking how many (key, value) pairs are equal</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/comparing-two-dictionaries-and-checking-how-many-key-value-pairs-are-equal/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T16:46:14+08:00" itemprop="datePublished" title="2023-03-05 16:46">2023-03-05 16:46</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have two dictionaries, but for simplification, I will take these two:</p>
<div class="code"><pre class="code literal-block">&gt;&gt;&gt; x = dict(a=1, b=2)
&gt;&gt;&gt; y = dict(a=2, b=2)
</pre></div>

<p>Now, I want to compare whether each <code>key, value</code> pair in <code>x</code> has the same
corresponding value in <code>y</code>. So I wrote this:</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">x_values</span>,<span class="w"> </span><span class="nv">y_values</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">zip</span><span class="ss">(</span><span class="nv">x</span>.<span class="nv">iteritems</span><span class="ss">()</span>,<span class="w"> </span><span class="nv">y</span>.<span class="nv">iteritems</span><span class="ss">())</span>:
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nv">x_values</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">y_values</span>:
<span class="w">            </span><span class="nv">print</span><span class="w"> </span><span class="s1">'Ok'</span>,<span class="w"> </span><span class="nv">x_values</span>,<span class="w"> </span><span class="nv">y_values</span>
<span class="w">        </span><span class="k">else</span>:
<span class="w">            </span><span class="nv">print</span><span class="w"> </span><span class="s1">'Not'</span>,<span class="w"> </span><span class="nv">x_values</span>,<span class="w"> </span><span class="nv">y_values</span>
</pre></div>

<p>And it works since a <code>tuple</code> is returned and then compared for equality.</p>
<p>My questions:</p>
<p>Is this correct? Is there a <em>better</em> way to do this? Better not in speed, I am
talking about code elegance.</p>
<p>UPDATE: I forgot to mention that I have to check how many <code>key, value</code> pairs
are equal.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>If you want to know how many values match in both the dictionaries, you should
have said that :)</p>
<p>Maybe something like this:</p>
<div class="code"><pre class="code literal-block"><span class="n">shared_items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{</span><span class="nl">k</span><span class="p">:</span><span class="w"> </span><span class="n">x</span><span class="o">[</span><span class="n">k</span><span class="o">]</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">x</span><span class="o">[</span><span class="n">k</span><span class="o">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">y</span><span class="o">[</span><span class="n">k</span><span class="o">]</span><span class="err">}</span>
<span class="k">print</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">shared_items</span><span class="p">))</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<div class="code"><pre class="code literal-block"><span class="n">def</span><span class="w"> </span><span class="n">dict_compare</span><span class="p">(</span><span class="n">d1</span><span class="p">,</span><span class="w"> </span><span class="n">d2</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="n">d1_keys</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">set</span><span class="p">(</span><span class="n">d1</span><span class="p">.</span><span class="n">keys</span><span class="p">())</span>
<span class="w">    </span><span class="n">d2_keys</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">set</span><span class="p">(</span><span class="n">d2</span><span class="p">.</span><span class="n">keys</span><span class="p">())</span>
<span class="w">    </span><span class="n">shared_keys</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d1_keys</span><span class="p">.</span><span class="k">intersection</span><span class="p">(</span><span class="n">d2_keys</span><span class="p">)</span>
<span class="w">    </span><span class="n">added</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d1_keys</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">d2_keys</span>
<span class="w">    </span><span class="n">removed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d2_keys</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">d1_keys</span>
<span class="w">    </span><span class="n">modified</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{</span><span class="n">o</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="p">(</span><span class="n">d1</span><span class="o">[</span><span class="n">o</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">d2</span><span class="o">[</span><span class="n">o</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">o</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">shared_keys</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">d1</span><span class="o">[</span><span class="n">o</span><span class="o">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">d2</span><span class="o">[</span><span class="n">o</span><span class="o">]</span><span class="err">}</span>
<span class="w">    </span><span class="n">same</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">set</span><span class="p">(</span><span class="n">o</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">o</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">shared_keys</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">d1</span><span class="o">[</span><span class="n">o</span><span class="o">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">d2</span><span class="o">[</span><span class="n">o</span><span class="o">]</span><span class="p">)</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">added</span><span class="p">,</span><span class="w"> </span><span class="n">removed</span><span class="p">,</span><span class="w"> </span><span class="n">modified</span><span class="p">,</span><span class="w"> </span><span class="n">same</span>

<span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">added</span><span class="p">,</span><span class="w"> </span><span class="n">removed</span><span class="p">,</span><span class="w"> </span><span class="n">modified</span><span class="p">,</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dict_compare</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">)</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-correctly-use-lists/" class="u-url">How to correctly use lists?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-correctly-use-lists/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T16:45:09+08:00" itemprop="datePublished" title="2023-03-05 16:45">2023-03-05 16:45</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Brief background: Many (most?) contemporary programming languages in
widespread use have at least a handful of ADTs [abstract data types] in
common, in particular,</p>
<ul>
<li>
<p><strong>string</strong> (a sequence comprised of characters)</p>
</li>
<li>
<p><strong>list</strong> (an ordered collection of values), and</p>
</li>
<li>
<p><strong>map-based type</strong> (an unordered array that maps keys to values)</p>
</li>
</ul>
<p>In the R programming language, the first two are implemented as <code>character</code>
and <code>vector</code>, respectively.</p>
<p>When I began learning R, two things were obvious almost from the start: <code>list</code>
is the most important data type in R (because it is the parent class for the R
<code>data.frame</code>), and second, I just couldn't understand how they worked, at
least not well enough to use them correctly in my code.</p>
<p>For one thing, it seemed to me that R's <code>list</code> data type was a straightforward
implementation of the map ADT (<code>dictionary</code> in Python, <code>NSMutableDictionary</code>
in Objective C, <code>hash</code> in Perl and Ruby, <code>object literal</code> in Javascript, and
so forth).</p>
<p>For instance, you create them just like you would a Python dictionary, by
passing key-value pairs to a constructor (which in Python is <code>dict</code> not
<code>list</code>):</p>
<div class="code"><pre class="code literal-block">x = list("ev1"=10, "ev2"=15, "rv"="Group 1")
</pre></div>

<p>And you access the items of an R List just like you would those of a Python
dictionary, e.g., <code>x['ev1']</code>. Likewise, you can retrieve just the <em>'keys'</em> or
just the <em>'values'</em> by:</p>
<div class="code"><pre class="code literal-block">names(x)    # fetch just the 'keys' of an R list
# [1] "ev1" "ev2" "rv"

unlist(x)   # fetch just the 'values' of an R list
#   ev1       ev2        rv 
#  "10"      "15" "Group 1"

x = list("a"=6, "b"=9, "c"=3)

sum(unlist(x))
# [1] 18
</pre></div>

<p>but R <code>list</code>s are also <strong><em>unlike</em></strong> other map-type ADTs (from among the
languages I've learned anyway). My guess is that this is a consequence of the
initial spec for S, i.e., an intention to design a data/statistics DSL
[domain-specific language] from the ground-up.</p>
<p><em>three</em> significant differences between R <code>list</code>s and mapping types in other
languages in widespread use (e.g,. Python, Perl, JavaScript):</p>
<p><em>first</em> , <code>list</code>s in R are an <em>ordered</em> collection, just like vectors, even
though the values are keyed (ie, the keys can be any hashable value not just
sequential integers). Nearly always, the mapping data type in other languages
is <em>unordered</em>.</p>
<p><em>second</em> , <code>list</code>s can be returned from functions even though you never passed
in a <code>list</code> when you called the function, and <em>even though</em> the function that
returned the <code>list</code> doesn't contain an (explicit) <code>list</code> constructor (Of
course, you can deal with this in practice by wrapping the returned result in
a call to <code>unlist</code>):</p>
<div class="code"><pre class="code literal-block"><span class="nv">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">strsplit</span><span class="ss">(</span><span class="nv">LETTERS</span>[<span class="mi">1</span>:<span class="mi">10</span>],<span class="w"> </span><span class="s2">""</span><span class="ss">)</span><span class="w">     </span>#<span class="w"> </span><span class="nv">passing</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">an</span><span class="w"> </span><span class="nv">object</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">type</span><span class="w"> </span><span class="s1">'character'</span>

<span class="nv">class</span><span class="ss">(</span><span class="nv">x</span><span class="ss">)</span><span class="w">                            </span>#<span class="w"> </span><span class="nv">returns</span><span class="w"> </span><span class="s1">'list'</span>,<span class="w"> </span><span class="nv">not</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">vector</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">length</span><span class="w"> </span><span class="mi">2</span>
#<span class="w"> </span>[<span class="mi">1</span>]<span class="w"> </span><span class="nv">list</span>
</pre></div>

<p>A <em>third</em> peculiar feature of R's <code>list</code>s: it doesn't seem that they can be
members of another ADT, and if you try to do that then the primary container
is coerced to a <code>list</code>. E.g.,</p>
<div class="code"><pre class="code literal-block">x = c(0.5, 0.8, 0.23, list(0.5, 0.2, 0.9), recursive=TRUE)

class(x)
# [1] list
</pre></div>

<p>my intention here is not to criticize the language or how it is documented;
likewise, I'm not suggesting there is anything wrong with the <code>list</code> data
structure or how it behaves. All I'm after is to correct is my understanding
of how they work so I can correctly use them in my code.</p>
<p>Here are the sorts of things I'd like to better understand:</p>
<ul>
<li>
<p>What are the rules which determine when a function call will return a <code>list</code> (e.g., <code>strsplit</code> expression recited above)?</p>
</li>
<li>
<p>If I don't explicitly assign names to a <code>list</code> (e.g., <code>list(10,20,30,40)</code>) are the default names just sequential integers beginning with 1? (I assume, but I am far from certain that the answer is yes, otherwise we wouldn't be able to coerce this type of <code>list</code> to a vector w/ a call to <code>unlist</code>.)</p>
</li>
<li>
<p>Why do these two different operators, <code>[]</code>, and <code>[[]]</code>, return the <em>same</em> result?</p>
</li>
</ul>
<p><code>x = list(1, 2, 3, 4)</code></p>
<p>both expressions return "1":</p>
<p><code>x[1]</code></p>
<p><code>x[[1]]</code></p>
<ul>
<li>why do these two expressions <strong>not</strong> return the same result?</li>
</ul>
<p><code>x = list(1, 2, 3, 4)</code></p>
<p><code>x2 = list(1:4)</code></p>
<p>Please don't point me to the R Documentation (<code>?list</code>, <code>R-intro</code>)--I have read
it carefully and it does not help me answer the type of questions I recited
just above.</p>
<p>(lastly, I recently learned of and began using an R Package (available on
CRAN) called <code>hash</code> which implements <em>conventional</em> map-type behavior via an
S4 class; I can certainly recommend this Package.)</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Just to address the last part of your question, since that really points out
the difference between a <code>list</code> and <code>vector</code> in R:</p>
<blockquote>
<p>Why do these two expressions not return the same result?</p>
<p>x = list(1, 2, 3, 4); x2 = list(1:4)</p>
</blockquote>
<p>A list can contain any other class as each element. So you can have a list
where the first element is a character vector, the second is a data frame,
etc. In this case, you have created two different lists. <code>x</code> has four vectors,
each of length 1. <code>x2</code> has 1 vector of length 4:</p>
<div class="code"><pre class="code literal-block">&gt; length(x[[1]])
[1] 1
&gt; length(x2[[1]])
[1] 4
</pre></div>

<p>So these are completely different lists.</p>
<p>R lists are very much like a hash map data structure in that each index value
can be associated with any object. Here's a simple example of a list that
contains 3 different classes (including a function):</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;</span><span class="w"> </span><span class="n">complicated.list</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="s">"a"</span><span class="o">=</span><span class="m">1</span><span class="o">:</span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="s">"b"</span><span class="o">=</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="s">"c"</span><span class="o">=</span><span class="nf">matrix</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="n">nrow</span><span class="o">=</span><span class="m">2</span><span class="p">),</span><span class="w"> </span><span class="s">"d"</span><span class="o">=</span><span class="n">search</span><span class="p">)</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">lapply</span><span class="p">(</span><span class="n">complicated.list</span><span class="p">,</span><span class="w"> </span><span class="n">class</span><span class="p">)</span>
<span class="o">$</span><span class="n">a</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">"integer"</span>
<span class="o">$</span><span class="n">b</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">"integer"</span>
<span class="o">$</span><span class="n">c</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">"matrix"</span>
<span class="o">$</span><span class="n">d</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">"function"</span>
</pre></div>

<p>Given that the last element is the search function, I can call it like so:</p>
<div class="code"><pre class="code literal-block">&gt; complicated.list[["d"]]()
[1] ".GlobalEnv" ...
</pre></div>

<p>As a final comment on this: it should be noted that a <code>data.frame</code> is really a
list (from the <code>data.frame</code> documentation):</p>
<blockquote>
<p>A data frame is a list of variables of the same number of rows with unique
row names, given class ‘"data.frame"’</p>
</blockquote>
<p>That's why columns in a <code>data.frame</code> can have different data types, while
columns in a matrix cannot. As an example, here I try to create a matrix with
numbers and characters:</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">4</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">class</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">"integer"</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">"a"</span><span class="p">,</span><span class="s">"b"</span><span class="p">,</span><span class="s">"c"</span><span class="p">,</span><span class="s">"d"</span><span class="p">)</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">cbind</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">d</span>
<span class="w"> </span><span class="n">a</span><span class="w">   </span><span class="n">b</span><span class="w">  </span>
<span class="p">[</span><span class="m">1</span><span class="p">,]</span><span class="w"> </span><span class="s">"1"</span><span class="w"> </span><span class="s">"a"</span>
<span class="p">[</span><span class="m">2</span><span class="p">,]</span><span class="w"> </span><span class="s">"2"</span><span class="w"> </span><span class="s">"b"</span>
<span class="p">[</span><span class="m">3</span><span class="p">,]</span><span class="w"> </span><span class="s">"3"</span><span class="w"> </span><span class="s">"c"</span>
<span class="p">[</span><span class="m">4</span><span class="p">,]</span><span class="w"> </span><span class="s">"4"</span><span class="w"> </span><span class="s">"d"</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">class</span><span class="p">(</span><span class="n">d</span><span class="p">[,</span><span class="m">1</span><span class="p">])</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">"character"</span>
</pre></div>

<p>Note how I cannot change the data type in the first column to numeric because
the second column has characters:</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;</span><span class="w"> </span><span class="n">d</span><span class="p">[,</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span><span class="n">d</span><span class="p">[,</span><span class="m">1</span><span class="p">])</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">class</span><span class="p">(</span><span class="n">d</span><span class="p">[,</span><span class="m">1</span><span class="p">])</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">"character"</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2773.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2771.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

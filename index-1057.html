<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1057) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1057.html">
<link rel="prev" href="index-1058.html" type="text/html">
<link rel="next" href="index-1056.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-push-a-docker-image-to-a-private-repository/" class="u-url">How to push a docker image to a private repository</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-push-a-docker-image-to-a-private-repository/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T00:02:14+08:00" itemprop="datePublished" title="2023-02-18 00:02">2023-02-18 00:02</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a docker image tagged as <code>me/my-image</code>, and I have a private repo on
the dockerhub named <code>me-private</code>.<br>
When I push my <code>me/my-image</code>, I end up always hitting the public repo.</p>
<p>What is the exact syntax to specifically push my image to my private repo?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You need to tag your image correctly first with your <code>registryhost</code>:</p>
<div class="code"><pre class="code literal-block"><span class="n">docker</span><span class="w"> </span><span class="n">tag</span><span class="w"> </span><span class="o">[</span><span class="n">OPTIONS</span><span class="o">]</span><span class="w"> </span><span class="nc">IMAGE</span><span class="o">[</span><span class="n">:TAG</span><span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="n">REGISTRYHOST/</span><span class="o">][</span><span class="n">USERNAME/</span><span class="o">]</span><span class="n">NAME</span><span class="o">[</span><span class="n">:TAG</span><span class="o">]</span>
</pre></div>

<p>Then docker push using that same tag.</p>
<div class="code"><pre class="code literal-block">docker push NAME[:TAG]
</pre></div>

<p>Example:</p>
<div class="code"><pre class="code literal-block">docker tag 518a41981a6a myRegistry.com/myImage
docker push myRegistry.com/myImage
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Just three simple steps:</p>
<ol>
<li>
<p><code>docker login --username username</code></p>
<ul>
<li>prompts for password if you omit <code>--password</code> which is recommended as it doesn't store it in your command history</li>
<li><code>docker tag my-image username/my-repo</code></li>
</ul>
</li>
<li>
<p><code>docker push username/my-repo</code></p>
</li>
</ol>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/get-name-of-current-script-in-python/" class="u-url">Get name of current script in Python</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/get-name-of-current-script-in-python/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T00:01:37+08:00" itemprop="datePublished" title="2023-02-18 00:01">2023-02-18 00:01</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm trying to get the name of the Python script that is currently running.</p>
<p>I have a script called <code>foo.py</code> and I'd like to do something like this in
order to get the script name:</p>
<div class="code"><pre class="code literal-block">print(Scriptname)
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>You can use <code>__file__</code> to get the name of the current file. When used in the
main module, this is the name of the script that was originally invoked.</p>
<p>If you want to omit the directory part (which might be present), you can use
<code>os.path.basename(__file__)</code>.</p>
<p><br></p>
<h3>Suggest</h3>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">sys</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>

<p>This will print <code>foo.py</code> for <code>python foo.py</code>, <code>dir/foo.py</code> for <code>python
dir/foo.py</code>, etc. It's the first argument to <code>python</code>. (Note that after py2exe
it would be <code>foo.exe</code>.)</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/uiscrollview-scrollable-content-size-ambiguity/" class="u-url">UIScrollView Scrollable Content Size Ambiguity</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/uiscrollview-scrollable-content-size-ambiguity/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T00:00:57+08:00" itemprop="datePublished" title="2023-02-18 00:00">2023-02-18 00:00</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Fellow devs, I am having trouble with AutoLayout in Interface Builder (Xcode 5
/ iOS 7). It's very basic and important so I think everyone should know how
this properly works. If this is a bug in Xcode, it is a critical one!</p>
<p>So, whenever I have a view hierarchy such as this I run into trouble:</p>
<div class="code"><pre class="code literal-block">&gt;UIViewController
&gt;&gt; UIView
&gt;&gt;&gt;UIScrollView
&gt;&gt;&gt;&gt;UILabel (or any other comparable UIKit Element)
</pre></div>

<p>The UIScrollView has solid constraints, e.g., 50 px from every side (no
problem). Then I add a Top Space constraint to the UILabel (no problem) (and I
can even pin height / width of the label, changes nothing, but should be
unneccessary due to the Label's intrinsic size)</p>
<p><strong>The trouble starts when I add a trailing constraint to the UILabel:</strong></p>
<p>E.g., Trailing Space to: Superview Equals: 25</p>
<p>Now two warnings occur - and I don't understand why:</p>
<p><strong>A)</strong> Scrollable Content Size Ambiguity (Scroll View has ambiguous scrollable
content height/width)</p>
<p><strong>B)</strong> Misplaced Views (Label Expected: x= -67 Actual: x= 207</p>
<p>I did this minimal example in a freshly new project which you can download and
I attached a screenshot. As you can see, Interface Builder expects the Label
to sit outside of the UIScrollView's boundary (the orange dashed rectangle).
Updating the Label's frame with the Resolve Issues Tool moves it right there.</p>
<p>Please note: If you replace the UIScrollView with a UIView, the behaviour is
as expected (the Label's frame is correct and according to the constraint). So
there seems to either be an issue with UIScrollView or I am missing out on
something important.</p>
<p>When I run the App without updating the Label's frame as suggested by IB it is
positioned just fine, exactly where it's supposed to be and the UIScrollView
is scrollable. If I DO update the frame the Label is out of sight and the
UIScrollView does not scroll.</p>
<p><strong>Help me Obi-Wan Kenobi! Why the ambiguous layout? Why the misplaced view?</strong></p>
<p>You can download the sample project here and try if you can figure out what's
going on: https://github.com/Wirsing84/AutoLayoutProblem</p>
<p><img alt="Illustration of the problem in Interface Builder" src="images/eqoUh.png"></p>
<p><br><br></p>
<h2>Answer</h2>
<h3>Updated</h3>
<p>Nowadays, Apple realized the problem we solved many years ago (lol_face) and
provides <em>Content Layout Guide</em> and <em>Frame Layout Guide</em> as part of the
<code>UIScrollView</code>. Therefore you need to go through the following steps:</p>
<ol>
<li>
<p>Same as original response below;</p>
</li>
<li>
<p>For this <code>contentView</code>, <strong>set top, bottom, left, and right margins to 0</strong> pinning them to the <em>Content Layout Guide</em> of the scroll view;</p>
</li>
<li>
<p>Now set the <code>contentView</code>'s height equal to the <em>Frame Layout Guide</em> 's height. Do the same for the width;</p>
</li>
<li>
<p>Finally, set the priority of the equal height constraints to <em>250</em> (if you need the view to scroll vertically, the width to scroll horizzontally).</p>
</li>
</ol>
<p><strong>Finished</strong>.</p>
<p>Now you can add all your views in that <code>contentView</code>, and the <code>contentSize</code> of
the <code>scrollView</code> will be automatically resized according with the
<code>contentView</code>.</p>
<p><strong>Don't forget to set the constraint from the bottom of the last object in
your<code>contentView</code> to the <code>contentView</code>'s margin.</strong></p>
<h3>Original [Deprecated]</h3>
<p>So I just sorted out in this way:</p>
<ol>
<li>
<p>Inside the <code>UIScrollView</code> <strong>add</strong> a <code>UIView</code> (we can call that <code>contentView</code>);</p>
</li>
<li>
<p>In this <code>contentView</code>, <strong>set top, bottom, left and right margins to 0</strong> (of course from the <code>scrollView</code> which is the <code>superView</code>); <strong>Set also align center horizontally and vertically</strong> ;</p>
</li>
</ol>
<p><br></p>
<h3>Suggest</h3>
<p><strong>Xcode 11+</strong></p>
<p>The simplest way using <code>autolayout</code>:</p>
<ol>
<li>Add <code>UIScrollView</code> and pin it <code>0,0,0,0</code> to superview (or your desired size)</li>
<li>Add container of <code>UIView</code> type inside ScrollView, pin it <code>0,0,0,0</code> to all 4 sides and center it <code>horizontally</code> and <code>vertically</code>.</li>
<li>In size inspector of container, change <code>bottom</code> and <code>align center Y</code> priority to 250. (for horizontal scroll change <code>trailing</code> and <code>align center X</code>)</li>
<li>Add all views that you need into said container (UIView). <strong>Don't forget</strong> to set the bottom constraint on the lowest view.</li>
<li>Select the <code>UIScrollView</code>, select the size inspector and deselect <code>Content Layout Guides</code>.</li>
</ol>
</div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1058.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1056.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

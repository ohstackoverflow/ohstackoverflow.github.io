<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2235) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2235.html">
<link rel="prev" href="index-2236.html" type="text/html">
<link rel="next" href="index-2234.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/python-dictionary-are-keys-and-values-always-the-same-order/" class="u-url">Python dictionary: are keys() and values() always the same order?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/python-dictionary-are-keys-and-values-always-the-same-order/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T00:55:22+08:00" itemprop="datePublished" title="2023-03-04 00:55">2023-03-04 00:55</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>It looks like the lists returned by <code>keys()</code> and <code>values()</code> methods of a
dictionary are always a 1-to-1 mapping (assuming the dictionary is not altered
between calling the 2 methods).</p>
<p>For example:</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{</span><span class="s1">'one'</span><span class="err">:</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span><span class="err">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">'three'</span><span class="err">:</span><span class="w"> </span><span class="mi">3</span><span class="err">}</span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">k</span><span class="p">,</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="n">keys</span><span class="p">(),</span><span class="w"> </span><span class="n">d</span><span class="p">.</span><span class="k">values</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="k">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">k</span><span class="p">))</span><span class="err">:</span>
<span class="w">    </span><span class="k">print</span><span class="w"> </span><span class="n">d</span><span class="o">[</span><span class="n">k[i</span><span class="o">]</span><span class="err">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">v</span><span class="o">[</span><span class="n">i</span><span class="o">]</span>

<span class="k">True</span>
<span class="k">True</span>
<span class="k">True</span>
</pre></div>

<p>If you do not alter the dictionary between calling <code>keys()</code> and calling
<code>values()</code>, is it wrong to assume the above for-loop will always print True? I
could not find any documentation confirming this.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Found this:</p>
<blockquote>
<p>If <code>items()</code>, <code>keys()</code>, <code>values()</code>, <code>iteritems()</code>, <code>iterkeys()</code>, and
<code>itervalues()</code> are called with no intervening modifications to the
dictionary, the lists will directly correspond.</p>
</blockquote>
<p>On 2.x documentation and 3.x documentation.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Yes, what you observed is indeed a guaranteed property -- <code>keys()</code>, <code>values()</code>
and <code>items()</code> return lists in congruent order if the dict is not altered.
<code>iterkeys()</code> &amp;c also iterate in the same order as the corresponding lists.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-use-regex-with-find-command/" class="u-url">How to use regex with find command?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-use-regex-with-find-command/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T00:54:00+08:00" itemprop="datePublished" title="2023-03-04 00:54">2023-03-04 00:54</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have some images named with generated uuid1 string. For example
81397018-b84a-11e0-9d2a-001b77dc0bed.jpg. I want to find out all these images
using "find" command:</p>
<div class="code"><pre class="code literal-block"><span class="n">find</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">-</span><span class="n">regex</span><span class="w"> </span><span class="s">"[a-f0-9\-]\{36\}\.jpg"</span><span class="p">.</span>
</pre></div>

<p>But it doesn't work. Something wrong with the regex? Could someone help me
with this?</p>
<p><br><br></p>
<h2>Answer</h2>
<div class="code"><pre class="code literal-block"><span class="n">find</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">-</span><span class="n">regextype</span><span class="w"> </span><span class="n">sed</span><span class="w"> </span><span class="o">-</span><span class="n">regex</span><span class="w"> </span><span class="s">".*/[a-f0-9\-]\{36\}\.jpg"</span>
</pre></div>

<p>Note that you need to specify <code>.*/</code> in the beginning because <code>find</code> matches
the whole path.</p>
<p>Example:</p>
<div class="code"><pre class="code literal-block"><span class="n">susam</span><span class="nv">@nifty</span><span class="err">:</span><span class="o">~/</span><span class="n">so</span><span class="err">$</span><span class="w"> </span><span class="n">find</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">-</span><span class="n">name</span><span class="w"> </span><span class="ss">"*.jpg"</span>
<span class="p">.</span><span class="o">/</span><span class="n">foo</span><span class="o">-</span><span class="mf">111.</span><span class="n">jpg</span>
<span class="p">.</span><span class="o">/</span><span class="n">test</span><span class="o">/</span><span class="mi">81397018</span><span class="o">-</span><span class="n">b84a</span><span class="o">-</span><span class="mf">11e0</span><span class="o">-</span><span class="mi">9</span><span class="n">d2a</span><span class="o">-</span><span class="mi">001</span><span class="n">b77dc0bed</span><span class="p">.</span><span class="n">jpg</span>
<span class="p">.</span><span class="o">/</span><span class="mi">81397018</span><span class="o">-</span><span class="n">b84a</span><span class="o">-</span><span class="mf">11e0</span><span class="o">-</span><span class="mi">9</span><span class="n">d2a</span><span class="o">-</span><span class="mi">001</span><span class="n">b77dc0bed</span><span class="p">.</span><span class="n">jpg</span>
<span class="n">susam</span><span class="nv">@nifty</span><span class="err">:</span><span class="o">~/</span><span class="n">so</span><span class="err">$</span><span class="w"> </span>
<span class="n">susam</span><span class="nv">@nifty</span><span class="err">:</span><span class="o">~/</span><span class="n">so</span><span class="err">$</span><span class="w"> </span><span class="n">find</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">-</span><span class="n">regextype</span><span class="w"> </span><span class="n">sed</span><span class="w"> </span><span class="o">-</span><span class="n">regex</span><span class="w"> </span><span class="ss">".*/[a-f0-9\-]\{36\}\.jpg"</span>
<span class="p">.</span><span class="o">/</span><span class="n">test</span><span class="o">/</span><span class="mi">81397018</span><span class="o">-</span><span class="n">b84a</span><span class="o">-</span><span class="mf">11e0</span><span class="o">-</span><span class="mi">9</span><span class="n">d2a</span><span class="o">-</span><span class="mi">001</span><span class="n">b77dc0bed</span><span class="p">.</span><span class="n">jpg</span>
<span class="p">.</span><span class="o">/</span><span class="mi">81397018</span><span class="o">-</span><span class="n">b84a</span><span class="o">-</span><span class="mf">11e0</span><span class="o">-</span><span class="mi">9</span><span class="n">d2a</span><span class="o">-</span><span class="mi">001</span><span class="n">b77dc0bed</span><span class="p">.</span><span class="n">jpg</span>
</pre></div>

<p>My version of find:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>find<span class="w"> </span>--version
find<span class="w"> </span><span class="o">(</span>GNU<span class="w"> </span>findutils<span class="o">)</span><span class="w"> </span><span class="m">4</span>.4.2
Copyright<span class="w"> </span><span class="o">(</span>C<span class="o">)</span><span class="w"> </span><span class="m">2007</span><span class="w"> </span>Free<span class="w"> </span>Software<span class="w"> </span>Foundation,<span class="w"> </span>Inc.
License<span class="w"> </span>GPLv3+:<span class="w"> </span>GNU<span class="w"> </span>GPL<span class="w"> </span>version<span class="w"> </span><span class="m">3</span><span class="w"> </span>or<span class="w"> </span>later<span class="w"> </span>&lt;http://gnu.org/licenses/gpl.html&gt;
This<span class="w"> </span>is<span class="w"> </span>free<span class="w"> </span>software:<span class="w"> </span>you<span class="w"> </span>are<span class="w"> </span>free<span class="w"> </span>to<span class="w"> </span>change<span class="w"> </span>and<span class="w"> </span>redistribute<span class="w"> </span>it.
There<span class="w"> </span>is<span class="w"> </span>NO<span class="w"> </span>WARRANTY,<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>extent<span class="w"> </span>permitted<span class="w"> </span>by<span class="w"> </span>law.

Written<span class="w"> </span>by<span class="w"> </span>Eric<span class="w"> </span>B.<span class="w"> </span>Decker,<span class="w"> </span>James<span class="w"> </span>Youngman,<span class="w"> </span>and<span class="w"> </span>Kevin<span class="w"> </span>Dalley.
Built<span class="w"> </span>using<span class="w"> </span>GNU<span class="w"> </span>gnulib<span class="w"> </span>version<span class="w"> </span>e5573b1bad88bfabcda181b9e0125fb0c52b7d3b
Features<span class="w"> </span>enabled:<span class="w"> </span>D_TYPE<span class="w"> </span>O_NOFOLLOW<span class="o">(</span>enabled<span class="o">)</span><span class="w"> </span>LEAF_OPTIMISATION<span class="w"> </span>FTS<span class="o">()</span><span class="w"> </span>CBO<span class="o">(</span><span class="nv">level</span><span class="o">=</span><span class="m">0</span><span class="o">)</span><span class="w"> </span>
susam@nifty:~/so$<span class="w"> </span>
susam@nifty:~/so$<span class="w"> </span>find<span class="w"> </span>.<span class="w"> </span>-regextype<span class="w"> </span>foo<span class="w"> </span>-regex<span class="w"> </span><span class="s2">".*/[a-f0-9\-]\{36\}\.jpg"</span>
find:<span class="w"> </span>Unknown<span class="w"> </span>regular<span class="w"> </span>expression<span class="w"> </span><span class="nb">type</span><span class="w"> </span><span class="sb">`</span>foo<span class="s1">'; valid types are `findutils-default'</span>,<span class="w"> </span><span class="sb">`</span>awk<span class="s1">', `egrep'</span>,<span class="w"> </span><span class="sb">`</span>ed<span class="s1">', `emacs'</span>,<span class="w"> </span><span class="sb">`</span>gnu-awk<span class="s1">', `grep'</span>,<span class="w"> </span><span class="sb">`</span>posix-awk<span class="s1">', `posix-basic'</span>,<span class="w"> </span><span class="sb">`</span>posix-egrep<span class="s1">', `posix-extended'</span>,<span class="w"> </span><span class="sb">`</span>posix-minimal-basic<span class="s1">', `sed'</span>.
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>The <code>-regex</code> find expression matches the <strong>whole name</strong> , including the
relative path from the current directory. For <code>find .</code> this always starts with
<code>./</code>, then any directories.</p>
<p>Also, these are <code>emacs</code> regular expressions, which have other escaping rules
than the usual egrep regular expressions.</p>
<p>If these are all directly in the current directory, then</p>
<div class="code"><pre class="code literal-block"><span class="n">find</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">-</span><span class="n">regex</span><span class="w"> </span><span class="p">'</span><span class="n">\./[a-f0-9\-]\{36\}\.jpg'</span>
</pre></div>

<p>should work. (I'm not really sure - I can't get the counted repetition to work
here.) You can switch to egrep expressions by <code>-regextype posix-egrep</code>:</p>
<div class="code"><pre class="code literal-block"><span class="n">find</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">-</span><span class="n">regextype</span><span class="w"> </span><span class="n">posix</span><span class="o">-</span><span class="n">egrep</span><span class="w"> </span><span class="o">-</span><span class="n">regex</span><span class="w"> </span><span class="p">'</span><span class="n">\./[a-f0-9\-]{36}\.jpg'</span>
</pre></div>

<p>(Note that everything said here is for GNU find, I don't know anything about
the BSD one which is also the default on Mac.)</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/regular-expression-to-match-dns-hostname-or-ip-address/" class="u-url">Regular expression to match DNS hostname or IP Address?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/regular-expression-to-match-dns-hostname-or-ip-address/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T00:52:31+08:00" itemprop="datePublished" title="2023-03-04 00:52">2023-03-04 00:52</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Does anyone have a regular expression handy that will match any legal DNS
hostname or IP address?</p>
<p>It's easy to write one that works 95% of the time, but I'm hoping to get
something that's well tested to exactly match the latest RFC specs for DNS
hostnames.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can use the following regular expressions separately or by combining them
in a joint OR expression.</p>
<div class="code"><pre class="code literal-block">ValidIpAddressRegex = "^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$";

ValidHostnameRegex = "^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])$";
</pre></div>

<p><strong>ValidIpAddressRegex</strong> matches valid IP addresses and <strong>ValidHostnameRegex</strong>
valid host names. Depending on the language you use \ could have to be escaped
with \.</p>
<hr>
<p><strong>ValidHostnameRegex</strong> is valid as per RFC 1123. Originally, RFC 952 specified
that hostname segments could not start with a digit.</p>
<p>http://en.wikipedia.org/wiki/Hostname</p>
<blockquote>
<p>The original specification of hostnames in RFC 952, mandated that labels
could not start with a digit or with a hyphen, and must not end with a
hyphen. However, a subsequent specification (RFC 1123) permitted hostname
labels to start with digits.</p>
</blockquote>
<div class="code"><pre class="code literal-block">Valid952HostnameRegex = "^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\-]*[A-Za-z0-9])$";
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>The hostname regex of <em>smink</em> does not observe the limitation on the length of
individual labels within a hostname. <strong>Each label within a valid hostname may
be no more than 63 octets long.</strong></p>
<div class="code"><pre class="code literal-block">ValidHostnameRegex="^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])\
(\.([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]{0,61}[a-zA-Z0-9]))*$"
</pre></div>

<p>Note that the backslash at the end of the first line (above) is Unix shell
syntax for splitting the long line. It's not a part of the regular expression
itself.</p>
<p>Here's just the regular expression alone on a single line:</p>
<div class="code"><pre class="code literal-block"><span class="o">^</span><span class="p">([</span><span class="nv">a</span><span class="o">-</span><span class="nv">zA</span><span class="o">-</span><span class="nv">Z0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">|</span><span class="p">[</span><span class="nv">a</span><span class="o">-</span><span class="nv">zA</span><span class="o">-</span><span class="nv">Z0</span><span class="o">-</span><span class="mi">9</span><span class="p">][</span><span class="nv">a</span><span class="o">-</span><span class="nv">zA</span><span class="o">-</span><span class="nv">Z0</span><span class="o">-</span><span class="mi">9</span>\<span class="o">-</span><span class="p">]{</span><span class="mi">0</span><span class="p">,</span><span class="mi">61</span><span class="p">}[</span><span class="nv">a</span><span class="o">-</span><span class="nv">zA</span><span class="o">-</span><span class="nv">Z0</span><span class="o">-</span><span class="mi">9</span><span class="p">])(</span>\<span class="o">.</span><span class="p">([</span><span class="nv">a</span><span class="o">-</span><span class="nv">zA</span><span class="o">-</span><span class="nv">Z0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">|</span><span class="p">[</span><span class="nv">a</span><span class="o">-</span><span class="nv">zA</span><span class="o">-</span><span class="nv">Z0</span><span class="o">-</span><span class="mi">9</span><span class="p">][</span><span class="nv">a</span><span class="o">-</span><span class="nv">zA</span><span class="o">-</span><span class="nv">Z0</span><span class="o">-</span><span class="mi">9</span>\<span class="o">-</span><span class="p">]{</span><span class="mi">0</span><span class="p">,</span><span class="mi">61</span><span class="p">}[</span><span class="nv">a</span><span class="o">-</span><span class="nv">zA</span><span class="o">-</span><span class="nv">Z0</span><span class="o">-</span><span class="mi">9</span><span class="p">]))</span><span class="o">*</span><span class="p">$</span>
</pre></div>

<p>You should also check separately that <strong>the total length of the hostname must
not exceed 255 characters</strong>. For more information, please consult RFC-952 and
RFC-1123.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2236.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2234.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

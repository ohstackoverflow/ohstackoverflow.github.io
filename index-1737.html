<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1737) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1737.html">
<link rel="prev" href="index-1738.html" type="text/html">
<link rel="next" href="index-1736.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-does-numpy-random-seed-0-do/" class="u-url">What does numpy.random.seed(0) do?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-does-numpy-random-seed-0-do/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T08:09:04+08:00" itemprop="datePublished" title="2023-03-03 08:09">2023-03-03 08:09</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What does <code>np.random.seed</code> do?</p>
<div class="code"><pre class="code literal-block"><span class="nv">np</span>.<span class="k">random</span>.<span class="nv">seed</span><span class="ss">(</span><span class="mi">0</span><span class="ss">)</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p><code>np.random.seed(0)</code> makes the random numbers predictable</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="nv">numpy</span>.<span class="k">random</span>.<span class="nv">seed</span><span class="ss">(</span><span class="mi">0</span><span class="ss">)</span><span class="w"> </span><span class="c1">; numpy.random.rand(4)</span>
<span class="nv">array</span><span class="ss">(</span>[<span class="w"> </span><span class="mi">0</span>.<span class="mi">55</span>,<span class="w">  </span><span class="mi">0</span>.<span class="mi">72</span>,<span class="w">  </span><span class="mi">0</span>.<span class="mi">6</span><span class="w"> </span>,<span class="w">  </span><span class="mi">0</span>.<span class="mi">54</span>]<span class="ss">)</span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="nv">numpy</span>.<span class="k">random</span>.<span class="nv">seed</span><span class="ss">(</span><span class="mi">0</span><span class="ss">)</span><span class="w"> </span><span class="c1">; numpy.random.rand(4)</span>
<span class="nv">array</span><span class="ss">(</span>[<span class="w"> </span><span class="mi">0</span>.<span class="mi">55</span>,<span class="w">  </span><span class="mi">0</span>.<span class="mi">72</span>,<span class="w">  </span><span class="mi">0</span>.<span class="mi">6</span><span class="w"> </span>,<span class="w">  </span><span class="mi">0</span>.<span class="mi">54</span>]<span class="ss">)</span>
</pre></div>

<p>With the seed reset (every time), the <em>same</em> set of numbers will appear every
time.</p>
<p>If the random seed is not reset, <em>different</em> numbers appear with every
invocation:</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="nv">numpy</span>.<span class="k">random</span>.<span class="nv">rand</span><span class="ss">(</span><span class="mi">4</span><span class="ss">)</span>
<span class="nv">array</span><span class="ss">(</span>[<span class="w"> </span><span class="mi">0</span>.<span class="mi">42</span>,<span class="w">  </span><span class="mi">0</span>.<span class="mi">65</span>,<span class="w">  </span><span class="mi">0</span>.<span class="mi">44</span>,<span class="w">  </span><span class="mi">0</span>.<span class="mi">89</span>]<span class="ss">)</span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="nv">numpy</span>.<span class="k">random</span>.<span class="nv">rand</span><span class="ss">(</span><span class="mi">4</span><span class="ss">)</span>
<span class="nv">array</span><span class="ss">(</span>[<span class="w"> </span><span class="mi">0</span>.<span class="mi">96</span>,<span class="w">  </span><span class="mi">0</span>.<span class="mi">38</span>,<span class="w">  </span><span class="mi">0</span>.<span class="mi">79</span>,<span class="w">  </span><span class="mi">0</span>.<span class="mi">53</span>]<span class="ss">)</span>
</pre></div>

<p>(pseudo-)random numbers work by starting with a number (the seed), multiplying
it by a large number, adding an offset, then taking modulo of that sum. The
resulting number is then used as the seed to generate the next "random"
number. When you set the seed (every time), it does the same thing every time,
giving you the same numbers.</p>
<p>If you want seemingly random numbers, do not set the seed. If you have code
that uses random numbers that you want to debug, however, it can be very
helpful to set the seed before each run so that the code does the same thing
every time you run it.</p>
<p>To get the most random numbers for each run, call <code>numpy.random.seed()</code>. This
will cause numpy to set the seed to a random number obtained from
<code>/dev/urandom</code> or its Windows analog or, if neither of those is available, it
will use the clock.</p>
<p>For more information on using seeds to generate pseudo-random numbers, see
wikipedia.</p>
<p><br></p>
<h3>Suggest</h3>
<p>If you set the <code>np.random.seed(a_fixed_number)</code> every time you call the
numpy's other random function, the result will be the same:</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="kp">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="n">perm</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="kp">permutation</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span> <span class="n">perm</span> 
<span class="p">[</span><span class="mi">2</span> <span class="mi">8</span> <span class="mi">4</span> <span class="mi">9</span> <span class="mi">1</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">3</span> <span class="mi">0</span> <span class="mi">5</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="kp">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="kp">permutation</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> 
<span class="p">[</span><span class="mi">2</span> <span class="mi">8</span> <span class="mi">4</span> <span class="mi">9</span> <span class="mi">1</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">3</span> <span class="mi">0</span> <span class="mi">5</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="kp">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="kp">permutation</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> 
<span class="p">[</span><span class="mi">2</span> <span class="mi">8</span> <span class="mi">4</span> <span class="mi">9</span> <span class="mi">1</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">3</span> <span class="mi">0</span> <span class="mi">5</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="kp">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="kp">permutation</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> 
<span class="p">[</span><span class="mi">2</span> <span class="mi">8</span> <span class="mi">4</span> <span class="mi">9</span> <span class="mi">1</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">3</span> <span class="mi">0</span> <span class="mi">5</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="kp">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> 
<span class="p">[</span><span class="mf">0.5488135</span>  <span class="mf">0.71518937</span> <span class="mf">0.60276338</span> <span class="mf">0.54488318</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="kp">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> 
<span class="p">[</span><span class="mf">0.5488135</span>  <span class="mf">0.71518937</span> <span class="mf">0.60276338</span> <span class="mf">0.54488318</span><span class="p">]</span>
</pre></div>

<p>However, if you just call it once and use various random functions, the
results will still be different:</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="kp">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="n">perm</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="kp">permutation</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span> <span class="n">perm</span> 
<span class="p">[</span><span class="mi">2</span> <span class="mi">8</span> <span class="mi">4</span> <span class="mi">9</span> <span class="mi">1</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">3</span> <span class="mi">0</span> <span class="mi">5</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="kp">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="kp">permutation</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2</span> <span class="mi">8</span> <span class="mi">4</span> <span class="mi">9</span> <span class="mi">1</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">3</span> <span class="mi">0</span> <span class="mi">5</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="kp">permutation</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> 
<span class="p">[</span><span class="mi">3</span> <span class="mi">5</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">9</span> <span class="mi">8</span> <span class="mi">0</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">4</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="kp">permutation</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> 
<span class="p">[</span><span class="mi">2</span> <span class="mi">3</span> <span class="mi">8</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">6</span> <span class="mi">9</span> <span class="mi">7</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> 
<span class="p">[</span><span class="mf">0.64817187</span> <span class="mf">0.36824154</span> <span class="mf">0.95715516</span> <span class="mf">0.14035078</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> 
<span class="p">[</span><span class="mf">0.87008726</span> <span class="mf">0.47360805</span> <span class="mf">0.80091075</span> <span class="mf">0.52047748</span><span class="p">]</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-write-the-cd-command-in-a-makefile/" class="u-url">How do I write the 'cd' command in a makefile?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-write-the-cd-command-in-a-makefile/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T08:08:38+08:00" itemprop="datePublished" title="2023-03-03 08:08">2023-03-03 08:08</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>For example, I have something like this in my makefile:</p>
<div class="code"><pre class="code literal-block"><span class="n">all</span><span class="o">:</span>
<span class="w">     </span><span class="n">cd</span><span class="w"> </span><span class="n">some_directory</span>
</pre></div>

<p>But when I typed <code>make</code> I saw only 'cd some_directory', like in the <code>echo</code>
command.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>It is actually executing the command, changing the directory to
<code>some_directory</code>, however, this is performed in a sub-process shell, and
affects neither make nor the shell you're working from.</p>
<p>If you're looking to perform more tasks within <code>some_directory</code>, <strong>you need to
add a semi-colon and append the other commands as well</strong>. Note that you cannot
use new lines as they are interpreted by make as the end of the rule, so any
new lines you use for clarity need to be escaped by a backslash.</p>
<p>For example:</p>
<div class="code"><pre class="code literal-block"><span class="n">all</span><span class="o">:</span>
<span class="w">        </span><span class="n">cd</span><span class="w"> </span><span class="n">some_dir</span><span class="o">;</span><span class="w"> </span><span class="n">echo</span><span class="w"> </span><span class="s2">"I'm in some_dir"</span><span class="o">;</span><span class="w"> </span><span class="o">\</span>
<span class="w">          </span><span class="n">gcc</span><span class="w"> </span><span class="o">-</span><span class="n">Wall</span><span class="w"> </span><span class="o">-</span><span class="n">o</span><span class="w"> </span><span class="n">myTest</span><span class="w"> </span><span class="n">myTest</span><span class="o">.</span><span class="na">c</span>
</pre></div>

<p>Note also that the semicolon is necessary between every command even though
you add a backslash and a newline. This is due to the fact that the entire
string is parsed as a single line by the shell. As noted in the comments, you
should use '&amp;&amp;' to join commands, which means they only get executed if the
preceding command was successful.</p>
<div class="code"><pre class="code literal-block"><span class="n">all</span><span class="o">:</span>
<span class="w">        </span><span class="n">cd</span><span class="w"> </span><span class="n">some_dir</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">echo</span><span class="w"> </span><span class="s2">"I'm in some_dir"</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">\</span>
<span class="w">          </span><span class="n">gcc</span><span class="w"> </span><span class="o">-</span><span class="n">Wall</span><span class="w"> </span><span class="o">-</span><span class="n">o</span><span class="w"> </span><span class="n">myTest</span><span class="w"> </span><span class="n">myTest</span><span class="o">.</span><span class="na">c</span>
</pre></div>

<p>This is especially crucial when doing destructive work, such as clean-up, as
you'll otherwise destroy the wrong stuff, should the <code>cd</code> fail for whatever
reason.</p>
<p>A common usage, though, is to call make in the subdirectory, which you might
want to look into. There's a command-line option for this, so you don't have
to call <code>cd</code> yourself, so your rule would look like this</p>
<div class="code"><pre class="code literal-block"><span class="nf">all</span><span class="o">:</span>
<span class="w">        </span><span class="k">$(</span>MAKE<span class="k">)</span><span class="w"> </span>-C<span class="w"> </span>some_dir<span class="w"> </span>all
</pre></div>

<p>which will change into <code>some_dir</code> and execute the <code>Makefile</code> in that
directory, with the target "all". As a best practice, use <code>$(MAKE)</code> instead of
calling <code>make</code> directly, as it'll take care to call the right make instance
(if you, for example, use a special make version for your build environment),
as well as provide slightly different behavior when running using certain
switches, such as <code>-t</code>.</p>
<p>For the record, make <em>always</em> echos the command it executes (unless explicitly
suppressed), even if it has no output, which is what you're seeing.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Starting from GNU make 3.82 (July 2010), you can use the <code>.ONESHELL</code> special
target to run all recipes in a single instantiation of the shell (bold
emphasis mine):</p>
<blockquote>
<ul>
<li>New special target: <code>.ONESHELL</code> instructs <em>make</em> to invoke <strong>a single
instance of the shell</strong> and provide it with <strong>the entire recipe</strong> ,
regardless of how many lines it contains.
</li>
</ul>
</blockquote>
<div class="code"><pre class="code literal-block"><span class="nl">.ONESHELL:</span><span class="w"> </span><span class="c1"># Applies to every targets in the file!</span>

<span class="nl">all:</span>
<span class="w">    </span><span class="nf">cd</span><span class="w"> </span><span class="err">~/</span><span class="no">some_dir</span>
<span class="w">    </span><span class="nf">pwd</span><span class="w"> </span><span class="c1"># Prints ~/some_dir if cd succeeded</span>

<span class="nl">another_rule:</span>
<span class="w">    </span><span class="nf">cd</span><span class="w"> </span><span class="err">~/</span><span class="no">some_dir</span>
<span class="w">    </span><span class="nf">pwd</span><span class="w"> </span><span class="c1"># Prints ~/some_dir if cd succeeded</span>
</pre></div>

<p>Note that this will be equivalent to manually running</p>
<div class="code"><pre class="code literal-block"><span class="k">$(</span><span class="nv">SHELL</span><span class="k">)</span><span class="w"> </span><span class="k">$(</span><span class="nv">.SHELLFLAGS</span><span class="k">)</span><span class="w"> </span><span class="s2">"cd ~/some_dir; pwd"</span>
<span class="c"># Which gets replaced to this, most of the time:</span>
<span class="err">/bin/sh</span><span class="w"> </span><span class="err">-c</span><span class="w"> </span><span class="s2">"cd ~/some_dir; pwd"</span>
</pre></div>

<p>Commands are not linked with <code>&amp;&amp;</code> so if you want to stop at the first one that
fails, you should also add the <code>-e</code> flag to your <code>.SHELLFLAGS</code>:</p>
<div class="code"><pre class="code literal-block"><span class="na">.SHELLFLAGS</span><span class="w"> </span><span class="err">+=</span><span class="w"> </span><span class="p">-</span><span class="no">e</span>
</pre></div>

<p>Also the <code>-o pipefail</code> flag might be of interest:</p>
<blockquote>
<p>If set, the return value of a pipeline is the value of the last (rightmost)
command to exit with a non-zero status, or zero if all commands in the
pipeline exit successfully. This option is disabled by default.</p>
</blockquote>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/static-vs-class-functions-variables-in-swift-classes/" class="u-url">Static vs class functions/variables in Swift classes?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/static-vs-class-functions-variables-in-swift-classes/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T08:08:14+08:00" itemprop="datePublished" title="2023-03-03 08:08">2023-03-03 08:08</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>The following code compiles in Swift 1.2:</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span><span class="w"> </span><span class="n">myClass</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="k">func</span><span class="w"> </span><span class="n">myMethod1</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">class</span><span class="w"> </span><span class="k">func</span><span class="w"> </span><span class="n">myMethod2</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="k">var</span><span class="w"> </span><span class="n">myVar1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">""</span>
<span class="p">}</span>

<span class="k">func</span><span class="w"> </span><span class="n">doSomething</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">myClass</span><span class="o">.</span><span class="n">myMethod1</span><span class="p">()</span>
<span class="w">    </span><span class="n">myClass</span><span class="o">.</span><span class="n">myMethod2</span><span class="p">()</span>
<span class="w">    </span><span class="n">myClass</span><span class="o">.</span><span class="n">myVar1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"abc"</span>
<span class="p">}</span>
</pre></div>

<p>What is the difference between a <strong>static</strong> function and a <strong>class</strong> function?
Which one should I use, and when?</p>
<p>If I try to define another variable <code>class var myVar2 = ""</code>, it says:</p>
<blockquote>
<p>Class stored properties not yet supported in classes; did you mean 'static'?</p>
</blockquote>
<p>When this feature is supported, what will the difference be between a
<strong>static</strong> variable and a <strong>class</strong> variable (i.e. when both are defined in a
class)? Which one should I use, and when?</p>
<p>(Xcode 6.3)</p>
<p><br><br></p>
<h2>Answer</h2>
<p><code>static</code> and <code>class</code> both associate a method with a class, rather than an
instance of a class. The difference is that subclasses can override <code>class</code>
methods; they cannot override <code>static</code> methods.</p>
<p><code>class</code> properties function in the same way (subclasses can override them).</p>
<p><br></p>
<h3>Suggest</h3>
<p>I tried mipadi's answer and comments on playground. And thought of sharing it.
Here you go. I think mipadi's answer should be mark as accepted.</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span><span class="w"> </span><span class="n">A</span><span class="p">{</span>
<span class="w">    </span><span class="k">class</span><span class="w"> </span><span class="k">func</span><span class="w"> </span><span class="n">classFunction</span><span class="p">(){</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="k">func</span><span class="w"> </span><span class="n">staticFunction</span><span class="p">(){</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">class</span><span class="w"> </span><span class="k">func</span><span class="w"> </span><span class="n">classFunctionToBeMakeFinalInImmediateSubclass</span><span class="p">(){</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span><span class="w"> </span><span class="n">B</span><span class="p">:</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">override</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="k">func</span><span class="w"> </span><span class="n">classFunction</span><span class="p">(){</span>

<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="o">//</span><span class="n">Compile</span><span class="w"> </span><span class="n">Error</span><span class="o">.</span><span class="w"> </span><span class="n">Class</span><span class="w"> </span><span class="n">method</span><span class="w"> </span><span class="n">overrides</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s1">'final'</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">method</span>
<span class="w">    </span><span class="n">override</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="k">func</span><span class="w"> </span><span class="n">staticFunction</span><span class="p">(){</span>

<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="o">//</span><span class="n">Let</span><span class="s1">'s avoid the function called '</span><span class="n">classFunctionToBeMakeFinalInImmediateSubclass</span><span class="s1">' being overriden by subclasses</span>

<span class="w">    </span><span class="o">/*</span><span class="w"> </span><span class="n">First</span><span class="w"> </span><span class="n">way</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">doing</span><span class="w"> </span><span class="n">it</span>
<span class="w">    </span><span class="n">override</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="k">func</span><span class="w"> </span><span class="n">classFunctionToBeMakeFinalInImmediateSubclass</span><span class="p">(){</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="o">*/</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Second</span><span class="w"> </span><span class="n">way</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">doing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span>
<span class="w">    </span><span class="n">override</span><span class="w"> </span><span class="n">final</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="k">func</span><span class="w"> </span><span class="n">classFunctionToBeMakeFinalInImmediateSubclass</span><span class="p">(){</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="o">//</span><span class="n">To</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">final</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">choice</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">style</span><span class="o">.</span>
<span class="w">    </span><span class="o">//</span><span class="n">As</span><span class="w"> </span><span class="n">mipadi</span><span class="w"> </span><span class="n">suggests</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">use</span><span class="o">.</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">super</span><span class="w"> </span><span class="k">class</span><span class="o">.</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">final</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">cut</span><span class="w"> </span><span class="n">off</span><span class="w"> </span><span class="n">further</span><span class="w"> </span><span class="n">overrides</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">subclass</span>
<span class="p">}</span>

<span class="k">class</span><span class="w"> </span><span class="n">C</span><span class="p">:</span><span class="w"> </span><span class="n">B</span><span class="p">{</span>
<span class="w">    </span><span class="o">//</span><span class="n">Compile</span><span class="w"> </span><span class="n">Error</span><span class="o">.</span><span class="w"> </span><span class="n">Class</span><span class="w"> </span><span class="n">method</span><span class="w"> </span><span class="n">overrides</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s1">'final'</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">method</span>
<span class="w">    </span><span class="n">override</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="k">func</span><span class="w"> </span><span class="n">classFunctionToBeMakeFinalInImmediateSubclass</span><span class="p">(){</span>

<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1738.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1736.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

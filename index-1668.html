<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1668) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1668.html">
<link rel="prev" href="index-1669.html" type="text/html">
<link rel="next" href="index-1667.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/why-is-there-no-tuple-comprehension-in-python/" class="u-url">Why is there no tuple comprehension in Python?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/why-is-there-no-tuple-comprehension-in-python/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T06:30:34+08:00" itemprop="datePublished" title="2023-03-03 06:30">2023-03-03 06:30</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>As we all know, there's list comprehension, like</p>
<div class="code"><pre class="code literal-block">[<span class="nv">i</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span>[<span class="mi">1</span>,<span class="w"> </span><span class="mi">2</span>,<span class="w"> </span><span class="mi">3</span>,<span class="w"> </span><span class="mi">4</span>]]
</pre></div>

<p>and there is dictionary comprehension, like</p>
<div class="code"><pre class="code literal-block">{<span class="nv">i</span>:<span class="nv">j</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">i</span>,<span class="w"> </span><span class="nv">j</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span>{<span class="mi">1</span>:<span class="w"> </span><span class="s1">'a'</span>,<span class="w"> </span><span class="mi">2</span>:<span class="w"> </span><span class="s1">'b'</span>}.<span class="nv">items</span><span class="ss">()</span>}
</pre></div>

<p>but</p>
<div class="code"><pre class="code literal-block"><span class="ss">(</span><span class="nv">i</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="ss">(</span><span class="mi">1</span>,<span class="w"> </span><span class="mi">2</span>,<span class="w"> </span><span class="mi">3</span><span class="ss">))</span>
</pre></div>

<p>will end up in a generator, not a <code>tuple</code> comprehension. Why is that?</p>
<p>My guess is that a <code>tuple</code> is immutable, but this does not seem to be the
answer.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can use a generator expression:</p>
<div class="code"><pre class="code literal-block"><span class="nv">tuple</span><span class="ss">(</span><span class="nv">i</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="ss">(</span><span class="mi">1</span>,<span class="w"> </span><span class="mi">2</span>,<span class="w"> </span><span class="mi">3</span><span class="ss">))</span>
</pre></div>

<p>but parentheses were already taken for … generator expressions.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Raymond Hettinger (one of the Python core developers) had this to say about
tuples in a recent tweet:</p>
<blockquote>
<h2>python tip: Generally, lists are for looping; tuples for structs. Lists are</h2>
<p>homogeneous; tuples heterogeneous. Lists for variable length.</p>
</blockquote>
<p>This (to me) supports the idea that if the items in a sequence are related
enough to be generated by a, well, generator, then it should be a list.
Although a tuple is iterable and seems like simply a immutable list, it's
really the Python equivalent of a C struct:</p>
<div class="code"><pre class="code literal-block">struct {
    int a;
    char b;
    float c;
} foo;

struct foo x = { 3, 'g', 5.9 };
</pre></div>

<p>becomes in Python</p>
<div class="code"><pre class="code literal-block">x = (3, 'g', 5.9)
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-display-toast-in-android/" class="u-url">How to display Toast in Android?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-display-toast-in-android/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T06:30:08+08:00" itemprop="datePublished" title="2023-03-03 06:30">2023-03-03 06:30</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a slider that can be pulled up and then it shows a map. I can move the
slider up and down to hide or show the map. When the map is on front, I can
handle touch events on that map. Everytime I touch, a <code>AsyncTask</code> is fired up,
it downloads some data and makes a <code>Toast</code> that displays the data. Although I
start the task on touch event no toast is displayed, not till I close the
slider. When the slider is closed and the map is not displayed anymore the
<code>Toast</code> appears.</p>
<p>Any ideas?</p>
<p>Well start the task</p>
<p><strong>EDIT:</strong></p>
<div class="code"><pre class="code literal-block"><span class="nv">public</span><span class="w"> </span><span class="nv">boolean</span><span class="w"> </span><span class="nv">onTouchEvent</span><span class="ss">(</span><span class="nv">MotionEvent</span><span class="w"> </span><span class="nv">event</span>,<span class="w"> </span><span class="nv">MapView</span><span class="w"> </span><span class="nv">mapView</span><span class="ss">)</span>{<span class="w"> </span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">event</span>.<span class="nv">getAction</span><span class="ss">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">        </span><span class="nv">new</span><span class="w"> </span><span class="nv">TestTask</span><span class="ss">(</span><span class="nv">this</span><span class="ss">)</span>.<span class="nv">execute</span><span class="ss">()</span><span class="c1">;</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nv">true</span><span class="c1">;            </span>
<span class="w">    </span>}<span class="k">else</span>{
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nv">false</span><span class="c1">;</span>
<span class="w">    </span>}
<span class="w"> </span>}
</pre></div>

<p>and in <code>onPostExecute</code> make a toast</p>
<div class="code"><pre class="code literal-block"><span class="nv">Toast</span>.<span class="nv">makeText</span><span class="ss">(</span><span class="nv">app</span>.<span class="nv">getBaseContext</span><span class="ss">()</span>,<span class="ss">(</span><span class="nv">String</span><span class="ss">)</span><span class="nv">data</span>.<span class="nb">result</span>,<span class="w"> </span>
<span class="w">                </span><span class="nv">Toast</span>.<span class="nv">LENGTH_SHORT</span><span class="ss">)</span>.<span class="k">show</span><span class="ss">()</span><span class="c1">;</span>
</pre></div>

<p>In new <code>TestTask(this)</code>, this is a reference to <code>MapOverlay</code> and not to
<code>MapActivity</code>, so this was the problem.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>In order to display Toast in your application, try this:</p>
<div class="code"><pre class="code literal-block"><span class="nv">Toast</span>.<span class="nv">makeText</span><span class="ss">(</span><span class="nv">getActivity</span><span class="ss">()</span>,<span class="w"> </span><span class="ss">(</span><span class="nv">String</span><span class="ss">)</span><span class="nv">data</span>.<span class="nb">result</span>,<span class="w"> </span>
<span class="w">   </span><span class="nv">Toast</span>.<span class="nv">LENGTH_LONG</span><span class="ss">)</span>.<span class="k">show</span><span class="ss">()</span><span class="c1">;</span>
</pre></div>

<p>Another example:</p>
<div class="code"><pre class="code literal-block"><span class="nv">Toast</span>.<span class="nv">makeText</span><span class="ss">(</span><span class="nv">getActivity</span><span class="ss">()</span>,<span class="w"> </span><span class="s2">"This is my Toast message!"</span>,
<span class="w">   </span><span class="nv">Toast</span>.<span class="nv">LENGTH_LONG</span><span class="ss">)</span>.<span class="k">show</span><span class="ss">()</span><span class="c1">;</span>
</pre></div>

<p>We can define two constants for duration:</p>
<blockquote>
<p>int <strong>LENGTH_LONG</strong> Show the view or text notification for a long period of
time.</p>
<p>int <strong>LENGTH_SHORT</strong> Show the view or text notification for a short period
of time.</p>
</blockquote>
<h4>Customizing your toast</h4>
<div class="code"><pre class="code literal-block"><span class="nv">LayoutInflater</span><span class="w"> </span><span class="nv">myInflater</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">LayoutInflater</span>.<span class="nv">from</span><span class="ss">(</span><span class="nv">this</span><span class="ss">)</span><span class="c1">;</span>
<span class="nv">View</span><span class="w"> </span><span class="nv">view</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">myInflater</span>.<span class="nv">inflate</span><span class="ss">(</span><span class="nv">R</span>.<span class="nv">layout</span>.<span class="nv">your_custom_layout</span>,<span class="w"> </span><span class="nv">null</span><span class="ss">)</span><span class="c1">;</span>
<span class="nv">Toast</span><span class="w"> </span><span class="nv">mytoast</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">Toast</span><span class="ss">(</span><span class="nv">this</span><span class="ss">)</span><span class="c1">;</span>
<span class="nv">mytoast</span>.<span class="nv">setView</span><span class="ss">(</span><span class="nv">view</span><span class="ss">)</span><span class="c1">;</span>
<span class="nv">mytoast</span>.<span class="nv">setDuration</span><span class="ss">(</span><span class="nv">Toast</span>.<span class="nv">LENGTH_LONG</span><span class="ss">)</span><span class="c1">;</span>
<span class="nv">mytoast</span>.<span class="k">show</span><span class="ss">()</span><span class="c1">;</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Extending activity using <code>baseadapter</code> used this</p>
<div class="code"><pre class="code literal-block"><span class="nv">Toast</span>.<span class="nv">makeText</span><span class="ss">(</span><span class="nv">getActivity</span><span class="ss">()</span>,<span class="w"> </span>
<span class="w">    </span><span class="s2">"Your Message"</span>,<span class="w"> </span><span class="nv">Toast</span>.<span class="nv">LENGTH_LONG</span><span class="ss">)</span>.<span class="k">show</span><span class="ss">()</span><span class="c1">;</span>
</pre></div>

<p>or if you are using activity or <code>mainactivity</code></p>
<div class="code"><pre class="code literal-block"><span class="nv">Toast</span>.<span class="nv">makeText</span><span class="ss">(</span><span class="nv">MainActivity</span>.<span class="nv">this</span>,<span class="w"> </span>
<span class="w">    </span><span class="s2">"Your Message"</span>,<span class="w"> </span><span class="nv">Toast</span>.<span class="nv">LENGTH_LONG</span><span class="ss">)</span>.<span class="k">show</span><span class="ss">()</span><span class="c1">;</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/iteration-over-std-vector-unsigned-vs-signed-index-variable/" class="u-url">Iteration over std::vector: unsigned vs signed index variable</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/iteration-over-std-vector-unsigned-vs-signed-index-variable/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T06:29:42+08:00" itemprop="datePublished" title="2023-03-03 06:29">2023-03-03 06:29</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What is the correct way of iterating over a vector in C++?</p>
<p>Consider these two code fragments, this one works fine:</p>
<div class="code"><pre class="code literal-block"><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">unsigned</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">polygon</span><span class="p">.</span><span class="k">size</span><span class="p">();</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="nf">sum</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">polygon</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">;</span>
<span class="err">}</span>
</pre></div>

<p>and this one:</p>
<div class="code"><pre class="code literal-block"><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="nc">int</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">polygon</span><span class="p">.</span><span class="k">size</span><span class="p">();</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="nf">sum</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">polygon</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">;</span>
<span class="err">}</span>
</pre></div>

<p>which generates <code>warning: comparison between signed and unsigned integer
expressions</code>.</p>
<p>The <code>unsigned</code> variable looks a bit frightening to me and I know <code>unsigned</code>
variables can be dangerous if not used correctly, so - is this correct?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>For iterating backwards see this answer.</p>
<p>Iterating forwards is almost identical. Just change the iterators / swap
decrement by increment. You should prefer iterators. Some people tell you to
use <code>std::size_t</code> as the index variable type. However, that is not portable.
Always use the <code>size_type</code> typedef of the container (While you could get away
with only a conversion in the forward iterating case, it could actually go
wrong all the way in the backward iterating case when using <code>std::size_t</code>, in
case <code>std::size_t</code> is wider than what is the typedef of <code>size_type</code>):</p>
<hr>
<h2>Using std::vector</h2>
<h3>Using iterators</h3>
<div class="code"><pre class="code literal-block"><span class="nt">for</span><span class="o">(</span><span class="nt">std</span><span class="p">::</span><span class="nd">vector</span><span class="o">&lt;</span><span class="nt">T</span><span class="o">&gt;</span><span class="p">::</span><span class="nd">iterator</span><span class="w"> </span><span class="nt">it</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">v</span><span class="p">.</span><span class="nc">begin</span><span class="o">();</span><span class="w"> </span><span class="nt">it</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nt">v</span><span class="p">.</span><span class="nc">end</span><span class="o">();</span><span class="w"> </span><span class="o">++</span><span class="nt">it</span><span class="o">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c">/* std::cout &lt;&lt; *it; ... */</span>
<span class="p">}</span>
</pre></div>

<p>Important is, always use the prefix increment form for iterators whose
definitions you don't know. That will ensure your code runs as generic as
possible.</p>
<h4>Using Range C++11</h4>
<div class="code"><pre class="code literal-block"><span class="k">for</span><span class="p">(</span><span class="n">auto</span><span class="w"> </span><span class="k">const</span><span class="o">&amp;</span><span class="w"> </span><span class="n">value</span><span class="p">:</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">     </span><span class="o">/*</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">value</span><span class="p">;</span><span class="w"> </span><span class="o">...</span><span class="w"> </span><span class="o">*/</span>
</pre></div>

<h4>Using indices</h4>
<div class="code"><pre class="code literal-block"><span class="k">for</span><span class="p">(</span><span class="nl">std</span><span class="p">:</span><span class="err">:</span><span class="n">vector</span><span class="o">&lt;</span><span class="nc">int</span><span class="o">&gt;::</span><span class="n">size_type</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">v</span><span class="p">.</span><span class="k">size</span><span class="p">();</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="cm">/* std::cout &lt;&lt; v[i]; ... */</span>
<span class="err">}</span>
</pre></div>

<hr>
<h2>Using arrays</h2>
<h3>Using iterators</h3>
<div class="code"><pre class="code literal-block"><span class="nt">for</span><span class="o">(</span><span class="nt">element_type</span><span class="o">*</span><span class="w"> </span><span class="nt">it</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">a</span><span class="o">;</span><span class="w"> </span><span class="nt">it</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="o">(</span><span class="nt">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">(</span><span class="nt">sizeof</span><span class="w"> </span><span class="nt">a</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nt">sizeof</span><span class="w"> </span><span class="o">*</span><span class="nt">a</span><span class="o">));</span><span class="w"> </span><span class="nt">it</span><span class="o">++)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c">/* std::cout &lt;&lt; *it; ... */</span>
<span class="p">}</span>
</pre></div>

<h4>Using Range C++11</h4>
<div class="code"><pre class="code literal-block"><span class="k">for</span><span class="p">(</span><span class="n">auto</span><span class="w"> </span><span class="k">const</span><span class="o">&amp;</span><span class="w"> </span><span class="n">value</span><span class="p">:</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">     </span><span class="o">/*</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">value</span><span class="p">;</span><span class="w"> </span><span class="o">...</span><span class="w"> </span><span class="o">*/</span>
</pre></div>

<h4>Using indices</h4>
<div class="code"><pre class="code literal-block"><span class="k">for</span><span class="p">(</span><span class="nl">std</span><span class="p">:</span><span class="err">:</span><span class="n">size_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="p">(</span><span class="n">sizeof</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">sizeof</span><span class="w"> </span><span class="o">*</span><span class="n">a</span><span class="p">);</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="cm">/* std::cout &lt;&lt; a[i]; ... */</span>
<span class="err">}</span>
</pre></div>

<p>Read in the backward iterating answer what problem the <code>sizeof</code> approach can
yield to, though.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Four years passed, <em>Google</em> gave me this answer. With the standard <em>C++11</em>
(aka <em>C++0x</em> ) there is actually a new pleasant way of doing this (at the
price of breaking backward compatibility): the new <code>auto</code> keyword. It saves
you the pain of having to explicitly specify the type of the iterator to use
(repeating the vector type again), when it is obvious (to the compiler), which
type to use. With <code>v</code> being your <code>vector</code>, you can do something like this:</p>
<div class="code"><pre class="code literal-block"><span class="nt">for</span><span class="w"> </span><span class="o">(</span><span class="w"> </span><span class="nt">auto</span><span class="w"> </span><span class="nt">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">v</span><span class="p">.</span><span class="nc">begin</span><span class="o">();</span><span class="w"> </span><span class="nt">i</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nt">v</span><span class="p">.</span><span class="nc">end</span><span class="o">();</span><span class="w"> </span><span class="nt">i</span><span class="o">++</span><span class="w"> </span><span class="o">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">std</span><span class="p">:</span><span class="o">:</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="o">*</span><span class="n">i</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p><em>C++11</em> goes even further and gives you a special syntax for iterating over
collections like vectors. It removes the necessity of writing things that are
always the same:</p>
<div class="code"><pre class="code literal-block"><span class="nt">for</span><span class="w"> </span><span class="o">(</span><span class="w"> </span><span class="nt">auto</span><span class="w"> </span><span class="o">&amp;</span><span class="nt">i</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nt">v</span><span class="w"> </span><span class="o">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">std</span><span class="p">:</span><span class="o">:</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>To see it in a working program, build a file <code>auto.cpp</code>:</p>
<div class="code"><pre class="code literal-block"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;vector&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>

<span class="kr">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kr">void</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kr">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kr">int</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w">    </span><span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">17</span><span class="p">);</span>
<span class="w">    </span><span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">12</span><span class="p">);</span>
<span class="w">    </span><span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">23</span><span class="p">);</span>
<span class="w">    </span><span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">42</span><span class="p">);</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="kr">auto</span><span class="w"> </span><span class="o">&amp;</span><span class="n">i</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>As of writing this, when you compile this with <em>g++</em> , you normally need to
set it to work with the new standard by giving an extra flag:</p>
<div class="code"><pre class="code literal-block">g++ -std=c++0x -o auto auto.cpp
</pre></div>

<p>Now you can run the example:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>./auto
<span class="m">17</span>
<span class="m">12</span>
<span class="m">23</span>
<span class="m">42</span>
</pre></div>

<p><em>Please note</em> that the instructions on compiling and running are specific to
<em>gnu c++</em> compiler on <em>Linux</em> , the program should be platform (and compiler)
independent.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1669.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1667.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

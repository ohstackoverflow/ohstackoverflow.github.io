<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1203) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1203.html">
<link rel="prev" href="index-1204.html" type="text/html">
<link rel="next" href="index-1202.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-find-all-occurrences-of-an-element-in-a-list/" class="u-url">How to find all occurrences of an element in a list</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-find-all-occurrences-of-an-element-in-a-list/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T03:43:56+08:00" itemprop="datePublished" title="2023-02-18 03:43">2023-02-18 03:43</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p><code>index()</code> will give the first occurrence of an item in a list. Is there a neat
trick which returns all indices in a list for an element?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can use a list comprehension with <code>enumerate</code>:</p>
<div class="code"><pre class="code literal-block"><span class="n">indices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">enumerate</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"whatever"</span><span class="p">]</span>
</pre></div>

<p>The iterator <code>enumerate(my_list)</code> yields pairs <code>(index, item)</code> for each item
in the list. Using <code>i, x</code> as loop variable target unpacks these pairs into the
index <code>i</code> and the list item <code>x</code>. We filter down to all <code>x</code> that match our
criterion, and select the indices <code>i</code> of these elements.</p>
<p><br></p>
<h3>Suggest</h3>
<p>While not a solution for lists directly, <code>numpy</code> really shines for this sort
of thing:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="n">searchval</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">ii</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">where</span><span class="p">(</span><span class="n">values</span> <span class="o">==</span> <span class="n">searchval</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>

<p>returns:</p>
<div class="code"><pre class="code literal-block">ii ==&gt;array([2, 8])
</pre></div>

<p>This can be significantly faster for lists (arrays) with a large number of
elements vs some of the other solutions.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/git-add-and-commit-in-one-command/" class="u-url">Git add and commit in one command</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/git-add-and-commit-in-one-command/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T03:43:30+08:00" itemprop="datePublished" title="2023-02-18 03:43">2023-02-18 03:43</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is there any way I can do</p>
<div class="code"><pre class="code literal-block">git add -A
git commit -m "commit message"
</pre></div>

<p>in one command?</p>
<p>I seem to be doing those two commands a lot, and if Git had an option like
<code>git commit -Am "commit message"</code>, it would make life that much more
convenient.</p>
<p><code>git commit</code> has the <code>-a</code> modifier, but it doesn't quite do the same as doing
<code>git add -A</code> before committing. <code>git add -A</code> adds newly created files, but
<code>git commit -am</code> does not. What does?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can use git aliases, e.g.</p>
<div class="code"><pre class="code literal-block">git config --global alias.add-commit '!git add -A &amp;&amp; git commit'
</pre></div>

<p>and use it with</p>
<div class="code"><pre class="code literal-block">git add-commit -m 'My commit message'
</pre></div>

<hr>
<p><strong>EDIT:</strong> Reverted back to ticks ('), as otherwise it will fail for shell
expansion on Linux. <strong>On Windows</strong> , one should use <strong>double-quotes (")</strong>
instead (pointed out in the comments, did not verify).</p>
<p><br></p>
<h3>Suggest</h3>
<div class="code"><pre class="code literal-block">git commit -am "message"
</pre></div>

<p>is an easy way to tell git to delete files you have deleted, but I generally
don't recommend such catch-all workflows. Git commits should in best practice
be fairly atomic and only affect a few files.</p>
<div class="code"><pre class="code literal-block">git add .
git commit -m "message"
</pre></div>

<p>is an easy way to add all files new or modified. Also, the catch-all
qualification applies. The above commands will not delete files deleted
without the <code>git rm</code> command.</p>
<div class="code"><pre class="code literal-block">git add app
git commit -m "message"
</pre></div>

<p>is an easy way to add all files to the index from a single dir, in this case
the <code>app</code> dir.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-are-the-differences-between-double-dot-and-triple-dot-in-git-commit-ranges/" class="u-url">What are the differences between double-dot ".." and triple-dot "..." in Git commit ranges?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-are-the-differences-between-double-dot-and-triple-dot-in-git-commit-ranges/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T03:43:04+08:00" itemprop="datePublished" title="2023-02-18 03:43">2023-02-18 03:43</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Some Git commands take commit ranges and one valid syntax is to separate two
commit names with two dots <code>..</code>, and another syntax uses three dots <code>...</code>.</p>
<p>What are the differences between the two?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>It depends on whether you're using a <code>log</code> command or a <code>diff</code> command. In the
<code>log</code> case, it's in the <code>man git-rev-parse</code> documentation:</p>
<blockquote>
<p>To exclude commits reachable from a commit, a prefix ^ notation is used.
E.g. ^r1 r2 means commits reachable from r2 but exclude the ones reachable
from r1.</p>
<p>This set operation appears so often that there is a shorthand for it. When
you have two commits r1 and r2 (named according to the syntax explained in
SPECIFYING REVISIONS above), you can ask for commits that are reachable from
r2 excluding those that are reachable from r1 by "^r1 r2" and it can be
written as "r1..r2".</p>
<p>A similar notation "r1...r2" is called symmetric difference of r1 and r2 and
is defined as "r1 r2 --not $(git merge-base --all r1 r2)". It is the set of
commits that are reachable from either one of r1 or r2 but not from both.</p>
</blockquote>
<p>Which basically means that you'll get all commits that are in either of the
two branches, but not in both.</p>
<p>In the <code>diff</code> case, it's in the <code>man git-diff</code> documentation:</p>
<blockquote>
<div class="code"><pre class="code literal-block">  git diff [--options] &lt;commit&gt;...&lt;commit&gt; [--] [&lt;path&gt;...]

      This form is to view the changes on the branch containing and up
</pre></div>

<p>to
          the second <commit>, starting at a common ancestor of both
          <commit>. "git diff A...B" is equivalent to "git diff
          $(git-merge-base A B) B". You can omit any one of <commit>, which
          has the same effect as using HEAD instead.
</commit></commit></commit></p>
</blockquote>
<p>Which is a bit fuzzy. Basically it means it shows only the differences in that
branch compared to another branch: it looks for the last common commit with
the first committish you gave it, and then diffs the second committish to
that. It's an easy way to see what changes are made in that branch, compared
to this branch, without taking notice of changes in this branch only.</p>
<p>The <code>..</code> is somewhat simpler: In the <code>git-diff</code> case, it's the same as a <code>git
diff A B</code> and just diffs A against B. In the <code>log</code> case, it shows all commits
that are in B but not in A.</p>
<p><br></p>
<h3>Suggest</h3>
<p>It depends on whether you're using a <code>log</code> command or a <code>diff</code> command. In the
<code>log</code> case, it's in the <code>man git-rev-parse</code> documentation:</p>
<blockquote>
<p>To exclude commits reachable from a commit, a prefix ^ notation is used.
E.g. ^r1 r2 means commits reachable from r2 but exclude the ones reachable
from r1.</p>
<p>This set operation appears so often that there is a shorthand for it. When
you have two commits r1 and r2 (named according to the syntax explained in
SPECIFYING REVISIONS above), you can ask for commits that are reachable from
r2 excluding those that are reachable from r1 by "^r1 r2" and it can be
written as "r1..r2".</p>
<p>A similar notation "r1...r2" is called symmetric difference of r1 and r2 and
is defined as "r1 r2 --not $(git merge-base --all r1 r2)". It is the set of
commits that are reachable from either one of r1 or r2 but not from both.</p>
</blockquote>
<p>Which basically means that you'll get all commits that are in either of the
two branches, but not in both.</p>
<p>In the <code>diff</code> case, it's in the <code>man git-diff</code> documentation:</p>
<blockquote>
<div class="code"><pre class="code literal-block">  git diff [--options] &lt;commit&gt;...&lt;commit&gt; [--] [&lt;path&gt;...]

      This form is to view the changes on the branch containing and up
</pre></div>

<p>to
          the second <commit>, starting at a common ancestor of both
          <commit>. "git diff A...B" is equivalent to "git diff
          $(git-merge-base A B) B". You can omit any one of <commit>, which
          has the same effect as using HEAD instead.
</commit></commit></commit></p>
</blockquote>
<p>Which is a bit fuzzy. Basically it means it shows only the differences in that
branch compared to another branch: it looks for the last common commit with
the first committish you gave it, and then diffs the second committish to
that. It's an easy way to see what changes are made in that branch, compared
to this branch, without taking notice of changes in this branch only.</p>
<p>The <code>..</code> is somewhat simpler: In the <code>git-diff</code> case, it's the same as a <code>git
diff A B</code> and just diffs A against B. In the <code>log</code> case, it shows all commits
that are in B but not in A.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1204.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1202.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 211) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-211.html">
<link rel="prev" href="index-212.html" type="text/html">
<link rel="next" href="index-210.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-the-purpose-of-the-var-keyword-and-when-should-i-use-it-or-omit-it/" class="u-url">What is the purpose of the var keyword and when should I use it (or omit it)?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-the-purpose-of-the-var-keyword-and-when-should-i-use-it-or-omit-it/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T00:58:50+08:00" itemprop="datePublished" title="2023-02-17 00:58">2023-02-17 00:58</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <blockquote>
<p><strong><em>NOTE</em></strong> <em>: This question was asked from the viewpoint of ECMAScript
version 3 or 5. The answers might become outdated with the introduction of
new features in the release of ECMAScript 6.</em></p>
</blockquote>
<p>What exactly is the function of the <code>var</code> keyword in JavaScript, and what is
the difference between</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">someNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="k">var</span><span class="w"> </span><span class="n">someFunction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">doSomething</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="k">var</span><span class="w"> </span><span class="n">someObject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<span class="k">var</span><span class="w"> </span><span class="n">someObject</span><span class="o">.</span><span class="n">someProperty</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
</pre></div>

<p>and</p>
<div class="code"><pre class="code literal-block">someNumber = 2;
someFunction = function() { doSomething; }
someObject = { }
someObject.someProperty = 5;
</pre></div>

<p>?</p>
<p>When would you use either one, and why/what does it do?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>If you're in the global scope then there's not much difference. Read Kangax's
answer for explanation</p>
<p>If you're in a function then <strong><code>var</code></strong> will create a local variable, "no var"
will look up the scope chain until it finds the variable or hits the global
scope (at which point it will create it):</p>
<div class="code"><pre class="code literal-block"><span class="o">//</span><span class="w"> </span><span class="n">These</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">globals</span>
<span class="k">var</span><span class="w"> </span><span class="n">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="n">bar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>

<span class="n">function</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">Local</span>
<span class="w">    </span><span class="n">bar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w">     </span><span class="o">//</span><span class="w"> </span><span class="n">Global</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Execute</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">anonymous</span><span class="w"> </span><span class="n">function</span>
<span class="w">    </span><span class="p">(</span><span class="n">function</span><span class="p">()</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">var</span><span class="w"> </span><span class="n">wibble</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">Local</span>
<span class="w">        </span><span class="n">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">Inherits</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">scope</span><span class="w"> </span><span class="n">above</span><span class="w"> </span><span class="p">(</span><span class="n">creating</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">closure</span><span class="p">)</span>
<span class="w">        </span><span class="n">moo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">Global</span>
<span class="w">    </span><span class="p">}())</span>
<span class="p">}</span>
</pre></div>

<p>If you're not doing an assignment then you need to use <code>var</code>:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">x</span><span class="p">;</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">Declare</span><span class="w"> </span><span class="n">x</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p><strong>There's a difference</strong>.</p>
<p><code>var x = 1</code> <strong>declares variable</strong> <code>x</code> in current scope (aka execution
context). If the declaration appears in a function - a local variable is
declared; if it's in global scope - a global variable is declared.</p>
<p><code>x = 1</code>, on the other hand, is merely a property assignment. It first tries to
resolve <code>x</code> against scope chain. If it finds it anywhere in that scope chain,
it performs assignment; if it doesn't find <code>x</code>, only then does <strong>it creates<code>x</code>
property on a global object</strong> (which is a top level object in a scope chain).</p>
<p>Now, notice that it doesn't declare a global variable, it creates a global
property.</p>
<p>The difference between the two is subtle and might be confusing unless you
understand that <strong>variable declarations also create properties</strong> (only on a
Variable Object) and that every property in Javascript (well, ECMAScript) have
certain flags that describe their properties - ReadOnly, DontEnum and
DontDelete.</p>
<p>Since variable declaration creates property with the DontDelete flag, the
difference between <code>var x = 1</code> and <code>x = 1</code> (when executed in global scope) is
that the former one - variable declaration - creates the DontDelete'able
property, and latter one doesn't. As a consequence, the property created via
this implicit assignment can then be deleted from the global object, and the
former one - the one created via variable declaration - cannot be deleted.</p>
<p>But this is just theory of course, and <strong>in practice there are even more
differences between the two</strong> , due to various bugs in implementations (such
as those from IE).</p>
<p>Hope it all makes sense : )</p>
<hr>
<p><strong>[Update 2010/12/16]</strong></p>
<p>In ES5 (ECMAScript 5; recently standardized, 5th edition of the language)
there's a so-called "strict mode" — an opt-in language mode, which slightly
changes the behavior of undeclared assignments. In strict mode, assignment to
an undeclared identifier is a <strong>ReferenceError</strong>. The rationale for this was
to catch accidental assignments, preventing creation of undesired global
properties. Some of the newer browsers have already started rolling support
for strict mode. See, for example, my compat table.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-the-best-algorithm-for-overriding-gethashcode/" class="u-url">What is the best algorithm for overriding GetHashCode?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-the-best-algorithm-for-overriding-gethashcode/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T00:58:20+08:00" itemprop="datePublished" title="2023-02-17 00:58">2023-02-17 00:58</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>In .NET, the <code>GetHashCode</code> method is used in a lot of places throughout the
.NET base class libraries. Implementing it properly is especially important to
find items quickly in a collection or when determining equality.</p>
<p>Is there a standard algorithm or best practice on how to implement
<code>GetHashCode</code> for my custom classes so I don't degrade performance?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>I usually go with something like the implementation given in Josh Bloch's
<em>fabulous</em> Effective Java. It's fast and creates a pretty good hash which is
unlikely to cause collisions. Pick two different prime numbers, e.g. 17 and
23, and do:</p>
<div class="code"><pre class="code literal-block"><span class="nv">public</span><span class="w"> </span><span class="nv">override</span><span class="w"> </span><span class="nv">int</span><span class="w"> </span><span class="nv">GetHashCode</span><span class="ss">()</span>
{
<span class="w">    </span><span class="nv">unchecked</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="nv">Overflow</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">fine</span>,<span class="w"> </span><span class="nv">just</span><span class="w"> </span><span class="nv">wrap</span>
<span class="w">    </span>{
<span class="w">        </span><span class="nv">int</span><span class="w"> </span><span class="nv">hash</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">17</span><span class="c1">;</span>
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="nv">Suitable</span><span class="w"> </span><span class="nv">nullity</span><span class="w"> </span><span class="nv">checks</span><span class="w"> </span><span class="nv">etc</span>,<span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">course</span><span class="w"> </span>:<span class="ss">)</span>
<span class="w">        </span><span class="nv">hash</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">hash</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">23</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">field1</span>.<span class="nv">GetHashCode</span><span class="ss">()</span><span class="c1">;</span>
<span class="w">        </span><span class="nv">hash</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">hash</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">23</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">field2</span>.<span class="nv">GetHashCode</span><span class="ss">()</span><span class="c1">;</span>
<span class="w">        </span><span class="nv">hash</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">hash</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">23</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">field3</span>.<span class="nv">GetHashCode</span><span class="ss">()</span><span class="c1">;</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nv">hash</span><span class="c1">;</span>
<span class="w">    </span>}
}
</pre></div>

<p>As noted in comments, you may find it's better to pick a large prime to
multiply by instead. Apparently 486187739 is good... and although most
examples I've seen with small numbers tend to use primes, there are at least
similar algorithms where non-prime numbers are often used. In the not-quite-
FNV example later, for example, I've used numbers which apparently work well -
but the initial value isn't a prime. (The multiplication constant <em>is</em> prime
though. I don't know quite how important that is.)</p>
<p>This is better than the common practice of <code>XOR</code>ing hashcodes for two main
reasons. Suppose we have a type with two <code>int</code> fields:</p>
<div class="code"><pre class="code literal-block"><span class="nv">XorHash</span><span class="ss">(</span><span class="nv">x</span>,<span class="w"> </span><span class="nv">x</span><span class="ss">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">XorHash</span><span class="ss">(</span><span class="nv">y</span>,<span class="w"> </span><span class="nv">y</span><span class="ss">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">all</span><span class="w"> </span><span class="nv">x</span>,<span class="w"> </span><span class="nv">y</span>
<span class="nv">XorHash</span><span class="ss">(</span><span class="nv">x</span>,<span class="w"> </span><span class="nv">y</span><span class="ss">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">XorHash</span><span class="ss">(</span><span class="nv">y</span>,<span class="w"> </span><span class="nv">x</span><span class="ss">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">all</span><span class="w"> </span><span class="nv">x</span>,<span class="w"> </span><span class="nv">y</span>
</pre></div>

<p>By the way, the earlier algorithm is the one currently used by the C# compiler
for anonymous types.</p>
<p>This page gives quite a few options. I think for most cases the above is "good
enough" and it's incredibly easy to remember and get right. The FNV
alternative is similarly simple, but uses different constants and <code>XOR</code>
instead of <code>ADD</code> as a combining operation. It looks <em>something</em> like the code
below, but the normal FNV algorithm operates on individual bytes, so this
would require modifying to perform one iteration per byte, instead of per
32-bit hash value. FNV is also designed for variable lengths of data, whereas
the way we're using it here is always for the same number of field values.
Comments on this answer suggest that the code here doesn't actually work as
well (in the sample case tested) as the addition approach above.</p>
<div class="code"><pre class="code literal-block"><span class="c1">// Note: Not quite FNV!</span>
<span class="n">public</span><span class="w"> </span><span class="n">override</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="n">GetHashCode</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">unchecked</span><span class="w"> </span><span class="c1">// Overflow is fine, just wrap</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="nb">int</span><span class="w"> </span><span class="n">hash</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="w"> </span><span class="mi">2166136261</span><span class="p">;</span>
<span class="w">        </span><span class="c1">// Suitable nullity checks etc, of course :)</span>
<span class="w">        </span><span class="n">hash</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">(</span><span class="n">hash</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">16777619</span><span class="p">)</span><span class="w"> </span>^<span class="w"> </span><span class="n">field1</span><span class="p">.</span><span class="n">GetHashCode</span><span class="p">();</span>
<span class="w">        </span><span class="n">hash</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">(</span><span class="n">hash</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">16777619</span><span class="p">)</span><span class="w"> </span>^<span class="w"> </span><span class="n">field2</span><span class="p">.</span><span class="n">GetHashCode</span><span class="p">();</span>
<span class="w">        </span><span class="n">hash</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">(</span><span class="n">hash</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">16777619</span><span class="p">)</span><span class="w"> </span>^<span class="w"> </span><span class="n">field3</span><span class="p">.</span><span class="n">GetHashCode</span><span class="p">();</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">hash</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>Note that one thing to be aware of is that ideally you should prevent your
equality-sensitive (and thus hashcode-sensitive) state from changing after
adding it to a collection that depends on the hash code.</p>
<p>As per the documentation:</p>
<blockquote>
<p>You can override GetHashCode for immutable reference types. In general, for
mutable reference types, you should override GetHashCode only if:</p>
<ul>
<li>You can compute the hash code from fields that are not mutable; or</li>
<li>You can ensure that the hash code of a mutable object does not change
while the object is contained in a collection that relies on its hash code.
</li>
</ul>
</blockquote>
<p>The link to the FNV article is broken but here is a copy in the Internet
Archive: Eternally Confuzzled - The Art of Hashing</p>
<p><br></p>
<h3>Suggest</h3>
<h2>ValueTuple - Update for C# 7</h2>
<p>As @cactuaroid mentions in the comments, a value tuple can be used. This saves
a few keystrokes and more importantly executes purely on the stack (no
Garbage):</p>
<div class="code"><pre class="code literal-block">(PropA, PropB, PropC, PropD).GetHashCode();
</pre></div>

<p>(Note: The original technique using anonymous types seems to create an object
on the heap, i.e. garbage, since anonymous types are implemented as classes,
though this might be optimized out by the compiler. It would be interesting to
benchmark these options, but the tuple option should be superior.)</p>
<h2>Anonymous Type (Original Answer)</h2>
<p>Microsoft already provides a good generic HashCode generator: Just copy your
property/field values to an anonymous type and hash it:</p>
<div class="code"><pre class="code literal-block">new { PropA, PropB, PropC, PropD }.GetHashCode();
</pre></div>

<p>This will work for any number of properties. It does not use boxing. It just
uses the algorithm already implemented in the framework for anonymous types.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/break-a-previous-commit-into-multiple-commits/" class="u-url">Break a previous commit into multiple commits</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/break-a-previous-commit-into-multiple-commits/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T00:56:45+08:00" itemprop="datePublished" title="2023-02-17 00:56">2023-02-17 00:56</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Without creating a branch and doing a bunch of funky work on a new branch, is
it possible to break a single commit into a few different commits after it's
been committed to the local repository?</p>
<p><br><br></p>
<h2>Answer</h2>
<p><code>git rebase -i</code> will do it.</p>
<p>First, start with a clean working directory: <code>git status</code> should show no
pending modifications, deletions, or additions.</p>
<p>Now, you have to decide which commit(s) you want to split.</p>
<h4>A) Splitting the most recent commit</h4>
<p>To split apart your most recent commit, first:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>git<span class="w"> </span>reset<span class="w"> </span>HEAD~
</pre></div>

<p>Now commit the pieces individually in the usual way, producing as many commits
as you need.</p>
<h4>B) Splitting a commit farther back</h4>
<p>This requires <em>rebasing</em> , that is, rewriting history. To specify the correct
commit, you have several choices:</p>
<ul>
<li>If it is three commits back, then<div class="code"><pre class="code literal-block">  $ git rebase -i HEAD~3
</pre></div>

</li>
</ul>
<p>where <code>3</code> is how many commits back it is.</p>
<ul>
<li>If it is farther back in the tree than you want to count, then<div class="code"><pre class="code literal-block">  $ git rebase -i 123abcd~
</pre></div>

</li>
</ul>
<p>where <code>123abcd</code> is the SHA1 of the commit you want to split up.</p>
<ul>
<li>If you are on a different branch (e.g., a feature branch) that you want to merge into <code>master</code>:<div class="code"><pre class="code literal-block">  $ git rebase -i master
</pre></div>

</li>
</ul>
<p>When you get the rebase edit screen, find the commit you want to break apart.
At the beginning of that line, replace <code>pick</code> with <code>edit</code> (<code>e</code> for short).
Save the buffer and exit. Rebase will now stop just after the commit you want
to edit. Then:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>git<span class="w"> </span>reset<span class="w"> </span>HEAD~
</pre></div>

<p>Commit the pieces individually in the usual way, producing as many commits as
you need.</p>
<p>Finally</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>git<span class="w"> </span>rebase<span class="w"> </span>--continue
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>From git-rebase manual (SPLITTING COMMITS section)</p>
<blockquote>
<p>In interactive mode, you can mark commits with the action "edit". However,
this does not necessarily mean that git rebase expects the result of this
edit to be exactly one commit. Indeed, you can undo the commit, or you can
add other commits. This can be used to split a commit into two:</p>
<ul>
<li>
<p>Start an interactive rebase with <code>git rebase -i &lt;commit&gt;^</code>, where
<code>&lt;commit&gt;</code> is the commit you want to split. In fact, any commit range will
do, as long as it contains that commit.</p>
</li>
<li>
<p>Mark the commit you want to split with the action "edit".</p>
</li>
<li>
<p>When it comes to editing that commit, execute <code>git reset HEAD^</code>. The
effect is that the HEAD is rewound by one, and the index follows suit.
However, the working tree stays the same.</p>
</li>
<li>
<p>Now add the changes to the index that you want to have in the first
commit. You can use <code>git add</code> (possibly interactively) or <code>git gui</code> (or
both) to do that.</p>
</li>
<li>
<p>Commit the now-current index with whatever commit message is appropriate
now.</p>
</li>
<li>
<p>Repeat the last two steps until your working tree is clean.</p>
</li>
<li>
<p>Continue the rebase with <code>git rebase --continue</code>.</p>
</li>
</ul>
</blockquote>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-212.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-210.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

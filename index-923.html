<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 923) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-923.html">
<link rel="prev" href="index-924.html" type="text/html">
<link rel="next" href="index-922.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/differences-between-socket-io-and-websockets/" class="u-url">Differences between socket.io and websockets</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/differences-between-socket-io-and-websockets/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T19:37:23+08:00" itemprop="datePublished" title="2023-02-17 19:37">2023-02-17 19:37</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What are the differences between socket.io and websockets in node.js?<br>
Are they both server push technologies? The only differences I felt was,</p>
<ol>
<li>
<p>socket.io allowed me to send/emit messages by specifying an event name.</p>
</li>
<li>
<p>In the case of socket.io a message from server will reach on all clients, but for the same in websockets I was forced to keep an array of all connections and loop through it to send messages to all clients.</p>
</li>
</ol>
<p>Also, I wonder why web inspectors (like Chrome/firebug/fiddler) are unable to
catch these messages (from socket.io/websocket) from server?</p>
<p>Please clarify this.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Its advantages are that it simplifies the usage of WebSockets as you described
in #2, and probably more importantly it provides fail-overs to other protocols
in the event that WebSockets are not supported on the browser or server. I
would avoid using WebSockets directly unless you are very familiar with what
environments they don't work and you are capable of working around those
limitations.</p>
<p>This is a good read on both WebSockets and Socket.IO.</p>
<p>http://davidwalsh.name/websocket</p>
<p><br></p>
<h3>Suggest</h3>
<p>Its advantages are that it simplifies the usage of WebSockets as you described
in #2, and probably more importantly it provides fail-overs to other protocols
in the event that WebSockets are not supported on the browser or server. I
would avoid using WebSockets directly unless you are very familiar with what
environments they don't work and you are capable of working around those
limitations.</p>
<p>This is a good read on both WebSockets and Socket.IO.</p>
<p>http://davidwalsh.name/websocket</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-detect-escape-key-press-with-pure-js-or-jquery/" class="u-url">How to detect escape key press with pure JS or jQuery?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-detect-escape-key-press-with-pure-js-or-jquery/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T19:36:55+08:00" itemprop="datePublished" title="2023-02-17 19:36">2023-02-17 19:36</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <blockquote>
<p><strong>Possible Duplicate:</strong><br>
 Which keycode for escape key with jQuery</p>
</blockquote>
<p>How to detect escape key press in IE, Firefox and Chrome? Below code works in
IE and alerts <code>27</code>, but in Firefox it alerts <code>0</code></p>
<div class="code"><pre class="code literal-block">$<span class="ss">(</span><span class="s1">'body'</span><span class="ss">)</span>.<span class="nv">keypress</span><span class="ss">(</span><span class="nv">function</span><span class="ss">(</span><span class="nv">e</span><span class="ss">)</span>{
<span class="w">    </span><span class="nv">alert</span><span class="ss">(</span><span class="nv">e</span>.<span class="nv">which</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span><span class="k">if</span><span class="ss">(</span><span class="nv">e</span>.<span class="nv">which</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">27</span><span class="ss">)</span>{
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="nv">Close</span><span class="w"> </span><span class="nv">my</span><span class="w"> </span><span class="nv">modal</span><span class="w"> </span><span class="nv">window</span>
<span class="w">    </span>}
}<span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>Note: <code>keyCode</code> is becoming deprecated, use <code>key</code> instead.</p>
<div class="code"><pre class="code literal-block"><span class="nv">function</span><span class="w"> </span><span class="nv">keyPress</span><span class="w"> </span><span class="ss">(</span><span class="nv">e</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="k">if</span><span class="ss">(</span><span class="nv">e</span>.<span class="nv">key</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">"Escape"</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="nv">write</span><span class="w"> </span><span class="nv">your</span><span class="w"> </span><span class="nv">logic</span><span class="w"> </span><span class="nv">here</span>.
<span class="w">    </span>}
}
</pre></div>

<p><strong>Code Snippet:</strong></p>
<p>Show code snippet</p>
<div class="code"><pre class="code literal-block">var<span class="w"> </span>msg<span class="w"> </span>=<span class="w"> </span>document.getElementById('state-msg');

document.body.addEventListener('keypress',<span class="w"> </span>function(e)<span class="w"> </span>{
<span class="w">  </span>if<span class="w"> </span>(e.key<span class="w"> </span>==<span class="w"> </span>"Escape")<span class="w"> </span>{
<span class="w">    </span>msg.textContent<span class="w"> </span>+=<span class="w"> </span>'Escape<span class="w"> </span>pressed:'
<span class="w">  </span>}
});


Press<span class="w"> </span>ESC<span class="w"> </span>key<span class="w"> </span><span class="nt">&lt;span</span><span class="w"> </span><span class="na">id=</span><span class="s">"state-msg"</span><span class="nt">&gt;&lt;/span&gt;</span>
</pre></div>

<hr>
<p><code>keyCode</code> is becoming deprecated</p>
<blockquote>
<p>It seems <code>keydown</code> and <code>keyup</code> work, even though <code>keypress</code> may not</p>
</blockquote>
<hr>
<div class="code"><pre class="code literal-block">$<span class="ss">(</span><span class="nv">document</span><span class="ss">)</span>.<span class="nv">keyup</span><span class="ss">(</span><span class="nv">function</span><span class="ss">(</span><span class="nv">e</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">     </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">e</span>.<span class="nv">key</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">"Escape"</span><span class="ss">)</span><span class="w"> </span>{<span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="nv">escape</span><span class="w"> </span><span class="nv">key</span><span class="w"> </span><span class="nv">maps</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">keycode</span><span class="w"> </span>`<span class="mi">27</span>`
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="o">&lt;</span><span class="k">DO</span><span class="w"> </span><span class="nv">YOUR</span><span class="w"> </span><span class="nv">WORK</span><span class="w"> </span><span class="nv">HERE</span><span class="o">&gt;</span>
<span class="w">    </span>}
}<span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p>Which keycode for escape key with jQuery</p>
<p><br></p>
<h3>Suggest</h3>
<p>The <code>keydown</code> event will work fine for Escape and has the benefit of allowing
you to use <code>keyCode</code> in all browsers. Also, you need to attach the listener to
<code>document</code> rather than the body.</p>
<p><strong>Update May 2016</strong></p>
<p><code>keyCode</code> is now in the process of being deprecated and most modern browsers
offer the <code>key</code> property now, although you'll still need a fallback for decent
browser support for now (at time of writing the current releases of Chrome and
Safari don't support it).</p>
<p><strong>Update September 2018</strong> <code>evt.key</code> is now supported by all modern browsers.</p>
<div class="code"><pre class="code literal-block"><span class="n">document</span><span class="o">.</span><span class="n">onkeydown</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="n">evt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">evt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">evt</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">window</span><span class="o">.</span><span class="n">event</span><span class="p">;</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">isEscape</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">false</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="s2">"key"</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">evt</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">isEscape</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">evt</span><span class="o">.</span><span class="n">key</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">"Escape"</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">evt</span><span class="o">.</span><span class="n">key</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">"Esc"</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">isEscape</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">evt</span><span class="o">.</span><span class="n">keyCode</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mi">27</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">isEscape</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">alert</span><span class="p">(</span><span class="s2">"Escape"</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">};</span>


<span class="n">Click</span><span class="w"> </span><span class="n">me</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="n">press</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">Escape</span><span class="w"> </span><span class="n">key</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-completely-rename-an-xcode-project-i-e-inclusive-of-folders/" class="u-url">How do I completely rename an Xcode project (i.e. inclusive of folders)?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-completely-rename-an-xcode-project-i-e-inclusive-of-folders/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T19:36:23+08:00" itemprop="datePublished" title="2023-02-17 19:36">2023-02-17 19:36</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a project named <code>XXX</code>. I want to rename this project to <code>YYY</code>.</p>
<p>Note that <code>XXX</code> is an extremely common term (for e.g. "data", or simply
"project"), and thus a simple RegEx search-and-replace is not possible, out of
risk of corrupting the project configuration files.</p>
<p>My current project directory contains the following items:</p>
<ul>
<li><code>XXX</code></li>
<li><code>XXXTests</code></li>
<li><code>XXX.xcodeproj</code></li>
</ul>
<p>and I want to rename them to:</p>
<ul>
<li><code>YYY</code></li>
<li><code>YYYTests</code></li>
<li><code>YYY.xcodeproj</code></li>
</ul>
<p>... respectively, with the necessary changes being reflected in my project
file.</p>
<p>How can I accomplish this without having to manually create and populate a new
project?</p>
<p><br><br></p>
<h2>Answer</h2>
<h4>Step 1 - Rename the project</h4>
<ol>
<li>Click on the project you want to rename in the "Project navigator" in the left panel of the Xcode window.</li>
<li>In the right panel, select the "File inspector", and the name of your project should be found under "Identity and Type". Change it to your new name.</li>
<li>When the dialog asks whether to rename or not rename the project's content items, click "Rename". Say yes to any warning about uncommitted changes.</li>
</ol>
<h4>Step 2 - Rename the scheme</h4>
<p><em>Note: for <strong>Xcode 14</strong> , Sept. 2022: in some cases Xcode now automatically
renames the scheme, when Xcode performs Step 1 above. If so, there is nothing
to do in Step 2.</em></p>
<ol>
<li>At the top middle of the window, to the left of the active device/simulator, there is a scheme for your product under its old name; click &amp; hold on it, then choose "Manage Schemes…".</li>
<li>Click on the old name in the scheme (similar to renaming files in Xcode) and it will become editable; change the name and click "Close".</li>
</ol>
<h4>Step 3 - Rename the folder with your assets</h4>
<ol>
<li>Quit Xcode. Rename the master folder that contains all your project files.</li>
<li>In the correctly-named master folder, beside your newly-named .xcodeproj file, there is probably a wrongly-named OLD folder containing your source files. Rename the OLD folder to your new name. {If you use git you could use <code>git mv oldname newname</code>. Note that when using <code>git mv old new</code> you generally must (i) completely commit all other changes (ii) only then <code>git mv old new</code> (iii) commit that (iv) only then make further changes. If steps i-ii-iii-iv are followed, git will maintain history through the rename.}</li>
<li>Re-open the project in Xcode. If you see a warning "The folder OLD does not exist", dismiss the warning. The source files in the renamed folder will have red names because the path to them has broken.</li>
<li>In the "Project navigator" in the left-hand panel, click on the top-level folder representing the OLD folder you renamed.</li>
<li>In the right-hand panel, under "Identity and Type", change the "Name" field from the OLD name to the new name.</li>
<li>Just below that field is a "Location" menu. If the full path has not corrected itself, click on the nearby folder icon and choose the renamed folder. You may have to perform this fix for each source file if the links to them remain broken.</li>
</ol>
<h4>Step 4 - Rename the Build plist data</h4>
<ol>
<li>Click on the project in the "Project navigator" on the left, and in the main panel select "Build Settings".</li>
<li>Search for "plist" in the settings.</li>
<li>In the Packaging section, you will see fields for <code>Info.plist</code> and <code>Product Bundle Identifier</code>.</li>
<li>If there is a file name entered in <code>Info.plist</code>, update it (it may have been updated automatically in Step 1).</li>
<li>Do the same for <code>Product Bundle Identifier</code>, unless it is utilizing the ${PRODUCT_NAME} variable. In that case, search for "product" in the settings and update <code>Product Name</code>. If <code>Product Name</code> is based on ${TARGET_NAME}, click on the actual target item in the TARGETS list on the left of the settings pane and edit it, and all related settings will update immediately.</li>
<li>Search the settings for "prefix" and ensure that <code>Prefix Header</code>'s path is also updated to the new name.</li>
<li>If you use SwiftUI, search for "Development Assets" and update the path. Enclose in double-quotes (<code>""</code>) quotes if the path contains a space (<code></code>).</li>
<li>If you have an entitlements file, search for "signing" and update <code>Code Signing Entitlements</code>. Accordingly, rename the actual entitlements file in the Project Navigator also. (Side note: In Xcode 13 entitlements files have a yellow checkmark icon in the Project Navigator; you may have created one if e.g. you use shared containers/App Groups.)</li>
</ol>
<h4>Step 5 - Repeat step 3 for tests (if you have them)</h4>
<h4>Step 6 - Repeat step 3 for core data if its name matches project name (if</h4>
<p>you have it)</p>
<h4>Step 7 - Clean and rebuild your project</h4>
<ol>
<li>
<code>Command</code> + <code>Shift</code> + <code>K</code> to clean</li>
<li>
<code>Command</code> + <code>B</code> to build</li>
</ol>
<p><strong>Further points.</strong></p>
<ul>
<li>If the project has <strong>storyboards</strong>.</li>
</ul>
<p>At this stage, open the overall folder simply in the Mac finder. Type the old
name in the file text search. You will see that the old name appears very
often as <code>customModule="OldName"</code> in all storyboard files. (Explanation.)
These can be fixed, in Xcode, one by one, on each storyboard: Tap on the view
controller in the file inspector, and be sure to tap on the actual storyboard
in the white column on the left of the actual storyboard panel. Tap on the
Identity Inspector (4th small button) in the right hand panel. Look at the
Custom Class -&gt; Module field. <strong>Notice it <em>seemingly</em> shows NewName in gray</strong>.
However (still as of Xcode14.2) <em><strong>it is incorrect</strong></em>. Simply tap the drop-
down, and explicitly select the new name. (If you now review that storyboard
file with a text editor, you will see it is fixed.) You may prefer to change
them all just using a plain text editor.</p>
<p><br></p>
<h3>Suggest</h3>
<p>To add to luke-west's excellent answer:</p>
<h2>When using CocoaPods</h2>
<h3>After step 2:</h3>
<ol>
<li>Quit Xcode.</li>
<li>In the master folder, rename <code>OLD.xcworkspace</code> to <code>NEW.xcworkspace</code>.</li>
</ol>
<h3>After step 4:</h3>
<ol>
<li>In Xcode: choose and edit <code>Podfile</code> from the project navigator. You should see a <code>target</code> clause with the OLD name. Change it to NEW.</li>
<li>Quit Xcode.</li>
<li>In the project folder, delete the <code>OLD.podspec</code> file.</li>
<li><code>rm -rf Pods/</code></li>
<li>Run <code>pod install</code>.</li>
<li>Open Xcode.</li>
<li>Click on your project name in the project navigator.</li>
<li>In the main pane, switch to the <code>Build Phases</code> tab.</li>
<li>Under <code>Link Binary With Libraries</code>, look for <code>libPods-OLD.a</code> and delete it.</li>
<li>If you have an objective-c Bridging header go to Build settings and change the location of the header from OLD/OLD-Bridging-Header.h to NEW/NEW-Bridging-Header.h</li>
<li>Clean and run.</li>
</ol>
</div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-924.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-922.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

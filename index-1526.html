<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1526) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1526.html">
<link rel="prev" href="index-1527.html" type="text/html">
<link rel="next" href="index-1525.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/using-relative-url-in-css-file-what-location-is-it-relative-to/" class="u-url">Using relative URL in CSS file, what location is it relative to?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/using-relative-url-in-css-file-what-location-is-it-relative-to/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T03:07:05+08:00" itemprop="datePublished" title="2023-03-03 03:07">2023-03-03 03:07</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>When defining something like a background image URL in a CSS file, when using
a relative URL, where is it relative to? For example:</p>
<p>Suppose the file <code>/stylesheets/base-styles.css</code> contains:</p>
<div class="code"><pre class="code literal-block"><span class="nt">div</span><span class="p">#</span><span class="nn">header</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<span class="w">    </span><span class="k">background-image</span><span class="p">:</span><span class="w"> </span><span class="nb">url</span><span class="p">(</span><span class="s1">'images/header-background.jpg'</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

<p>If I include this style-sheet into different documents via <code>&lt;link ... /&gt;</code> will
the relative URL in the CSS file be <strong>relative to the stylesheet document</strong> in
<code>/stylesheets/</code> or <strong>relative to the current document</strong> it's included to?
Possible paths like:</p>
<div class="code"><pre class="code literal-block">/item/details.html
/about/index.html
/about/extra/other.html
/index.html
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>According to W3:</p>
<blockquote>
<p>Partial URLs are interpreted relative to the source of the style sheet, not
relative to the document</p>
</blockquote>
<p>Therefore, in answer to your question, it will be relative to <code>/stylesheets/</code>.</p>
<p>If you think about this, this makes sense, since the CSS file could be added
to pages in different directories, so standardising it to the CSS file means
that the URLs will work wherever the stylesheets are linked.</p>
<p><br></p>
<h3>Suggest</h3>
<p>It's relative to the CSS file.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/typeof-undefined-vs-null/" class="u-url">typeof !== "undefined" vs. != null</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/typeof-undefined-vs-null/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T03:06:40+08:00" itemprop="datePublished" title="2023-03-03 03:06">2023-03-03 03:06</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I often see JavaScript code which checks for undefined parameters etc. this
way:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">typeof</span><span class="w"> </span><span class="nv">input</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="s2">"undefined"</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="nv">stuff</span>
}
</pre></div>

<p>This seems kind of wasteful, since it involves both a type lookup and a string
comparison, not to mention its verbosity. It's needed because <code>undefined</code>
could be renamed, though.</p>
<p>My question is:<br>
How is that code any better than this approach:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">null</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nv">input</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="nv">stuff</span>
}
</pre></div>

<p>As far as I know, you can't redefine <code>null</code>, so it's not going to break
unexpectedly. And, because of the type-coercion of the <code>!=</code> operator, this
checks for both <code>undefined</code> and <code>null</code>... which is often exactly what you want
(e.g. for optional function parameters).</p>
<p>Yet this form does not seem widespread, and it even causes JSLint to yell at
you for using the evil <code>!=</code> operator.</p>
<p>Why is this considered bad style?</p>
<p><br><br></p>
<h2>Answer</h2>
<p><code>typeof</code> is safer as it allows the identifier to never have been declared
before:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="ss">(</span><span class="nv">typeof</span><span class="w"> </span><span class="nv">neverDeclared</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">"undefined"</span><span class="ss">)</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="nv">no</span><span class="w"> </span><span class="nv">errors</span>

<span class="k">if</span><span class="ss">(</span><span class="nv">neverDeclared</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nv">null</span><span class="ss">)</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="nv">throws</span><span class="w"> </span><span class="nv">ReferenceError</span>:<span class="w"> </span><span class="nv">neverDeclared</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">not</span><span class="w"> </span><span class="nv">defined</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>If the variable is declared (either with the <code>var</code> keyword, as a function
argument, or as a global variable), I think the best way to do it is:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">my_variable</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="n">undefined</span><span class="p">)</span>
</pre></div>

<p>jQuery does it, so it's good enough for me :-)</p>
<p>Otherwise, you'll have to use <code>typeof</code> to avoid a <code>ReferenceError</code>.</p>
<p>If you expect undefined to be redefined, you could wrap your code like this:</p>
<div class="code"><pre class="code literal-block">(function(undefined){
    // undefined is now what it's supposed to be
})();
</pre></div>

<p>Or obtain it via the <code>void</code> operator:</p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="n">undefined</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb nb-Type">void</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="o">//</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">safe</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/copy-with-docker-but-with-exclusion/" class="u-url">COPY with docker but with exclusion</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/copy-with-docker-but-with-exclusion/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T03:06:16+08:00" itemprop="datePublished" title="2023-03-03 03:06">2023-03-03 03:06</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>In a Dockerfile, I have</p>
<div class="code"><pre class="code literal-block">COPY . .
</pre></div>

<p>I want to exclude an entire directory, in my case, node_modules directory.</p>
<p>Something like this:</p>
<div class="code"><pre class="code literal-block">   COPY [all but **/node_modules/**] .
</pre></div>

<p>Is this possible with Docker?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Create file <code>.dockerignore</code> in your docker build context directory (so in this
case, most likely a directory that is a parent to node_modules) with one line
in it:</p>
<div class="code"><pre class="code literal-block">**/node_modules
</pre></div>

<p>although you probably just want:</p>
<div class="code"><pre class="code literal-block">node_modules
</pre></div>

<p>Info about dockerignore:
https://docs.docker.com/engine/reference/builder/#dockerignore-file</p>
<p><br></p>
<h3>Suggest</h3>
<p>For those who can't use a .dockerignore file (e.g. if you need the file in one
COPY but not another):</p>
<p>Yes, but you need multiple COPY instructions. Specifically, you need a COPY
for each letter in the filename you wish to exclude.</p>
<div class="code"><pre class="code literal-block">COPY [^n]*    # All files that don't start with 'n'
COPY n[^o]*   # All files that start with 'n', but not 'no'
COPY no[^d]*  # All files that start with 'no', but not 'nod'
</pre></div>

<p>Continuing until you have the full file name, or just the prefix you're
reasonably sure won't have any other files.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1527.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1525.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

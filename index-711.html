<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 711) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-711.html">
<link rel="prev" href="index-712.html" type="text/html">
<link rel="next" href="index-710.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/pkix-path-building-failed-and-unable-to-find-valid-certification-path-to-requested-target/" class="u-url">"PKIX path building failed" and "unable to find valid certification path to requested target"</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/pkix-path-building-failed-and-unable-to-find-valid-certification-path-to-requested-target/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T13:57:37+08:00" itemprop="datePublished" title="2023-02-17 13:57">2023-02-17 13:57</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm trying to get tweets using twitter4j library for my java project which
uses under the covers <code>java.net.HttpURLConnection</code> (as can be seen in stack
trace). On my first run I got an error about certificate
<code>sun.security.validator.ValidatorException</code> and
<code>sun.security.provider.certpath.SunCertPathBuilderException</code>. Then I added
twitter certificate by:</p>
<div class="code"><pre class="code literal-block"><span class="n">C</span><span class="p">:</span>\<span class="n">Program</span><span class="w"> </span><span class="n">Files</span>\<span class="n">Java</span>\<span class="n">jdk1</span><span class="o">.</span><span class="mf">7.0</span><span class="n">_45</span>\<span class="n">jre</span>\<span class="n">lib</span>\<span class="n">security</span><span class="o">&gt;</span><span class="n">keytool</span><span class="w"> </span><span class="o">-</span><span class="n">importcert</span><span class="w"> </span><span class="o">-</span><span class="n">trustcacerts</span><span class="w"> </span><span class="o">-</span><span class="n">file</span><span class="w"> </span><span class="n">PathToCert</span><span class="w"> </span><span class="o">-</span><span class="n">alias</span><span class="w"> </span><span class="n">ca_alias</span><span class="w"> </span><span class="o">-</span><span class="n">keystore</span><span class="w"> </span><span class="s2">"C:\Program Files\Java\jdk1.7.0_45\jre\lib\security\cacerts"</span>
</pre></div>

<p>But without success. Here is the procedure to get tweets:</p>
<div class="code"><pre class="code literal-block"><span class="n">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">(</span><span class="n">String</span><span class="p">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">throws</span><span class="w"> </span><span class="n">TwitterException</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">ConfigurationBuilder</span><span class="w"> </span><span class="n">cb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">ConfigurationBuilder</span><span class="p">();</span>
<span class="w">    </span><span class="n">cb</span><span class="p">.</span><span class="n">setDebugEnabled</span><span class="p">(</span><span class="nb">true</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="n">setOAuthConsumerKey</span><span class="p">(</span><span class="s">"myConsumerKey"</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="n">setOAuthConsumerSecret</span><span class="p">(</span><span class="s">"myConsumerSecret"</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="n">setOAuthAccessToken</span><span class="p">(</span><span class="s">"myAccessToken"</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="n">setOAuthAccessTokenSecret</span><span class="p">(</span><span class="s">"myAccessTokenSecret"</span><span class="p">);</span>

<span class="w">    </span><span class="n">TwitterFactory</span><span class="w"> </span><span class="n">tf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">TwitterFactory</span><span class="p">(</span><span class="n">cb</span><span class="p">.</span><span class="n">build</span><span class="p">());</span>
<span class="w">    </span><span class="n">Twitter</span><span class="w"> </span><span class="n">twitter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tf</span><span class="p">.</span><span class="n">getInstance</span><span class="p">();</span>

<span class="w">    </span><span class="n">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Query</span><span class="w"> </span><span class="n">query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Query</span><span class="p">(</span><span class="s">"iphone"</span><span class="p">);</span>
<span class="w">        </span><span class="n">QueryResult</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="w">        </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">twitter</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="n">query</span><span class="p">);</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="k">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">"Total amount of tweets: "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">result</span><span class="p">.</span><span class="n">getTweets</span><span class="p">().</span><span class="n">size</span><span class="p">());</span>
<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Status</span><span class="o">&gt;</span><span class="w"> </span><span class="n">tweets</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">result</span><span class="p">.</span><span class="n">getTweets</span><span class="p">();</span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">Status</span><span class="w"> </span><span class="n">tweet</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">tweets</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="k">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">"@"</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">tweet</span><span class="p">.</span><span class="n">getUser</span><span class="p">().</span><span class="n">getScreenName</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">" : "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">tweet</span><span class="p">.</span><span class="n">getText</span><span class="p">());</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="n">catch</span><span class="w"> </span><span class="p">(</span><span class="n">TwitterException</span><span class="w"> </span><span class="n">te</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">te</span><span class="p">.</span><span class="n">printStackTrace</span><span class="p">();</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="k">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">"Failed to search tweets: "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">te</span><span class="p">.</span><span class="n">getMessage</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
</pre></div>

<p>And here is the error:</p>
<div class="code"><pre class="code literal-block"><span class="nv">sun</span>.<span class="nv">security</span>.<span class="nv">validator</span>.<span class="nv">ValidatorException</span>:<span class="w"> </span><span class="nv">PKIX</span><span class="w"> </span><span class="nv">path</span><span class="w"> </span><span class="nv">building</span><span class="w"> </span><span class="nv">failed</span>:<span class="w"> </span><span class="nv">sun</span>.<span class="nv">security</span>.<span class="nv">provider</span>.<span class="nv">certpath</span>.<span class="nv">SunCertPathBuilderException</span>:<span class="w"> </span><span class="nv">unable</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">find</span><span class="w"> </span><span class="nv">valid</span><span class="w"> </span><span class="nv">certification</span><span class="w"> </span><span class="nv">path</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">requested</span><span class="w"> </span><span class="nv">target</span>
<span class="nv">Relevant</span><span class="w"> </span><span class="nv">discussions</span><span class="w"> </span><span class="nv">can</span><span class="w"> </span><span class="nv">be</span><span class="w"> </span><span class="nv">found</span><span class="w"> </span><span class="nv">on</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">Internet</span><span class="w"> </span><span class="nv">at</span>:
<span class="w">    </span><span class="nv">http</span>:<span class="o">//</span><span class="nv">www</span>.<span class="nv">google</span>.<span class="nv">co</span>.<span class="nv">jp</span><span class="o">/</span><span class="nv">search</span>?<span class="nv">q</span><span class="o">=</span><span class="nv">d35baff5</span><span class="w"> </span><span class="nv">or</span>
<span class="w">    </span><span class="nv">http</span>:<span class="o">//</span><span class="nv">www</span>.<span class="nv">google</span>.<span class="nv">co</span>.<span class="nv">jp</span><span class="o">/</span><span class="nv">search</span>?<span class="nv">q</span><span class="o">=</span><span class="mi">1446302</span><span class="nv">e</span>
<span class="nv">TwitterException</span>{<span class="nv">exceptionCode</span><span class="o">=</span>[<span class="nv">d35baff5</span><span class="o">-</span><span class="mi">1446302</span><span class="nv">e</span><span class="w"> </span><span class="mi">43208640</span><span class="o">-</span><span class="mi">747</span><span class="nv">fd158</span><span class="w"> </span><span class="mi">43208640</span><span class="o">-</span><span class="mi">747</span><span class="nv">fd158</span><span class="w"> </span><span class="mi">43208640</span><span class="o">-</span><span class="mi">747</span><span class="nv">fd158</span>],<span class="w"> </span><span class="nv">statusCode</span><span class="o">=-</span><span class="mi">1</span>,<span class="w"> </span><span class="nv">message</span><span class="o">=</span><span class="nv">null</span>,<span class="w"> </span><span class="nv">code</span><span class="o">=-</span><span class="mi">1</span>,<span class="w"> </span><span class="nv">retryAfter</span><span class="o">=-</span><span class="mi">1</span>,<span class="w"> </span><span class="nv">rateLimitStatus</span><span class="o">=</span><span class="nv">null</span>,<span class="w"> </span><span class="nv">version</span><span class="o">=</span><span class="mi">3</span>.<span class="mi">0</span>.<span class="mi">5</span>}
<span class="w">    </span><span class="nv">at</span><span class="w"> </span><span class="nv">twitter4j</span>.<span class="nv">internal</span>.<span class="nv">http</span>.<span class="nv">HttpClientImpl</span>.<span class="nv">request</span><span class="ss">(</span><span class="nv">HttpClientImpl</span>.<span class="nv">java</span>:<span class="mi">177</span><span class="ss">)</span>
<span class="w">    </span><span class="nv">at</span><span class="w"> </span><span class="nv">twitter4j</span>.<span class="nv">internal</span>.<span class="nv">http</span>.<span class="nv">HttpClientWrapper</span>.<span class="nv">request</span><span class="ss">(</span><span class="nv">HttpClientWrapper</span>.<span class="nv">java</span>:<span class="mi">61</span><span class="ss">)</span>
<span class="w">    </span><span class="nv">at</span><span class="w"> </span><span class="nv">twitter4j</span>.<span class="nv">internal</span>.<span class="nv">http</span>.<span class="nv">HttpClientWrapper</span>.<span class="nv">get</span><span class="ss">(</span><span class="nv">HttpClientWrapper</span>.<span class="nv">java</span>:<span class="mi">81</span><span class="ss">)</span>
<span class="w">    </span><span class="nv">at</span><span class="w"> </span><span class="nv">twitter4j</span>.<span class="nv">TwitterImpl</span>.<span class="nv">get</span><span class="ss">(</span><span class="nv">TwitterImpl</span>.<span class="nv">java</span>:<span class="mi">1929</span><span class="ss">)</span>
<span class="w">    </span><span class="nv">at</span><span class="w"> </span><span class="nv">twitter4j</span>.<span class="nv">TwitterImpl</span>.<span class="nv">search</span><span class="ss">(</span><span class="nv">TwitterImpl</span>.<span class="nv">java</span>:<span class="mi">306</span><span class="ss">)</span>
<span class="w">    </span><span class="nv">at</span><span class="w"> </span><span class="nv">jku</span>.<span class="nv">cc</span>.<span class="nv">servlets</span>.<span class="nv">TweetsAnalyzer</span>.<span class="nv">main</span><span class="ss">(</span><span class="nv">TweetsAnalyzer</span>.<span class="nv">java</span>:<span class="mi">38</span><span class="ss">)</span>
<span class="nv">Caused</span><span class="w"> </span><span class="nv">by</span>:<span class="w"> </span><span class="nv">javax</span>.<span class="nv">net</span>.<span class="nv">ssl</span>.<span class="nv">SSLHandshakeException</span>:<span class="w"> </span><span class="nv">sun</span>.<span class="nv">security</span>.<span class="nv">validator</span>.<span class="nv">ValidatorException</span>:<span class="w"> </span><span class="nv">PKIX</span><span class="w"> </span><span class="nv">path</span><span class="w"> </span><span class="nv">building</span><span class="w"> </span><span class="nv">failed</span>:<span class="w"> </span><span class="nv">sun</span>.<span class="nv">security</span>.<span class="nv">provider</span>.<span class="nv">certpath</span>.<span class="nv">SunCertPathBuilderException</span>:<span class="w"> </span><span class="nv">unable</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">find</span><span class="w"> </span><span class="nv">valid</span><span class="w"> </span><span class="nv">certification</span><span class="w"> </span><span class="nv">path</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">requested</span><span class="w"> </span><span class="nv">target</span>
<span class="w">    </span><span class="nv">at</span><span class="w"> </span><span class="nv">sun</span>.<span class="nv">security</span>.<span class="nv">ssl</span>.<span class="nv">Alerts</span>.<span class="nv">getSSLException</span><span class="ss">(</span><span class="nv">Unknown</span><span class="w"> </span><span class="nv">Source</span><span class="ss">)</span>
<span class="w">    </span><span class="nv">at</span><span class="w"> </span><span class="nv">sun</span>.<span class="nv">security</span>.<span class="nv">ssl</span>.<span class="nv">SSLSocketImpl</span>.<span class="nv">fatal</span><span class="ss">(</span><span class="nv">Unknown</span><span class="w"> </span><span class="nv">Source</span><span class="ss">)</span>
<span class="w">    </span><span class="nv">at</span><span class="w"> </span><span class="nv">sun</span>.<span class="nv">security</span>.<span class="nv">ssl</span>.<span class="nv">Handshaker</span>.<span class="nv">fatalSE</span><span class="ss">(</span><span class="nv">Unknown</span><span class="w"> </span><span class="nv">Source</span><span class="ss">)</span>
<span class="w">    </span><span class="nv">at</span><span class="w"> </span><span class="nv">sun</span>.<span class="nv">security</span>.<span class="nv">ssl</span>.<span class="nv">Handshaker</span>.<span class="nv">fatalSE</span><span class="ss">(</span><span class="nv">Unknown</span><span class="w"> </span><span class="nv">Source</span><span class="ss">)</span>
<span class="w">    </span><span class="nv">at</span><span class="w"> </span><span class="nv">sun</span>.<span class="nv">security</span>.<span class="nv">ssl</span>.<span class="nv">ClientHandshaker</span>.<span class="nv">serverCertificate</span><span class="ss">(</span><span class="nv">Unknown</span><span class="w"> </span><span class="nv">Source</span><span class="ss">)</span>
<span class="w">    </span><span class="nv">at</span><span class="w"> </span><span class="nv">sun</span>.<span class="nv">security</span>.<span class="nv">ssl</span>.<span class="nv">ClientHandshaker</span>.<span class="nv">processMessage</span><span class="ss">(</span><span class="nv">Unknown</span><span class="w"> </span><span class="nv">Source</span><span class="ss">)</span>
<span class="w">    </span><span class="nv">at</span><span class="w"> </span><span class="nv">sun</span>.<span class="nv">security</span>.<span class="nv">ssl</span>.<span class="nv">Handshaker</span>.<span class="nv">processLoop</span><span class="ss">(</span><span class="nv">Unknown</span><span class="w"> </span><span class="nv">Source</span><span class="ss">)</span>
<span class="w">    </span><span class="nv">at</span><span class="w"> </span><span class="nv">sun</span>.<span class="nv">security</span>.<span class="nv">ssl</span>.<span class="nv">Handshaker</span>.<span class="nv">process_record</span><span class="ss">(</span><span class="nv">Unknown</span><span class="w"> </span><span class="nv">Source</span><span class="ss">)</span>
<span class="w">    </span><span class="nv">at</span><span class="w"> </span><span class="nv">sun</span>.<span class="nv">security</span>.<span class="nv">ssl</span>.<span class="nv">SSLSocketImpl</span>.<span class="nv">readRecord</span><span class="ss">(</span><span class="nv">Unknown</span><span class="w"> </span><span class="nv">Source</span><span class="ss">)</span>
<span class="w">    </span><span class="nv">at</span><span class="w"> </span><span class="nv">sun</span>.<span class="nv">security</span>.<span class="nv">ssl</span>.<span class="nv">SSLSocketImpl</span>.<span class="nv">performInitialHandshake</span><span class="ss">(</span><span class="nv">Unknown</span><span class="w"> </span><span class="nv">Source</span><span class="ss">)</span>
<span class="w">    </span><span class="nv">at</span><span class="w"> </span><span class="nv">sun</span>.<span class="nv">security</span>.<span class="nv">ssl</span>.<span class="nv">SSLSocketImpl</span>.<span class="nv">startHandshake</span><span class="ss">(</span><span class="nv">Unknown</span><span class="w"> </span><span class="nv">Source</span><span class="ss">)</span>
<span class="w">    </span><span class="nv">at</span><span class="w"> </span><span class="nv">sun</span>.<span class="nv">security</span>.<span class="nv">ssl</span>.<span class="nv">SSLSocketImpl</span>.<span class="nv">startHandshake</span><span class="ss">(</span><span class="nv">Unknown</span><span class="w"> </span><span class="nv">Source</span><span class="ss">)</span>
<span class="w">    </span><span class="nv">at</span><span class="w"> </span><span class="nv">sun</span>.<span class="nv">net</span>.<span class="nv">www</span>.<span class="nv">protocol</span>.<span class="nv">https</span>.<span class="nv">HttpsClient</span>.<span class="nv">afterConnect</span><span class="ss">(</span><span class="nv">Unknown</span><span class="w"> </span><span class="nv">Source</span><span class="ss">)</span>
<span class="w">    </span><span class="nv">at</span><span class="w"> </span><span class="nv">sun</span>.<span class="nv">net</span>.<span class="nv">www</span>.<span class="nv">protocol</span>.<span class="nv">https</span>.<span class="nv">AbstractDelegateHttpsURLConnection</span>.<span class="k">connect</span><span class="ss">(</span><span class="nv">Unknown</span><span class="w"> </span><span class="nv">Source</span><span class="ss">)</span>
<span class="w">    </span><span class="nv">at</span><span class="w"> </span><span class="nv">sun</span>.<span class="nv">net</span>.<span class="nv">www</span>.<span class="nv">protocol</span>.<span class="nv">http</span>.<span class="nv">HttpURLConnection</span>.<span class="nv">getInputStream</span><span class="ss">(</span><span class="nv">Unknown</span><span class="w"> </span><span class="nv">Source</span><span class="ss">)</span>
<span class="w">    </span><span class="nv">at</span><span class="w"> </span><span class="nv">java</span>.<span class="nv">net</span>.<span class="nv">HttpURLConnection</span>.<span class="nv">getResponseCode</span><span class="ss">(</span><span class="nv">Unknown</span><span class="w"> </span><span class="nv">Source</span><span class="ss">)</span>
<span class="w">    </span><span class="nv">at</span><span class="w"> </span><span class="nv">sun</span>.<span class="nv">net</span>.<span class="nv">www</span>.<span class="nv">protocol</span>.<span class="nv">https</span>.<span class="nv">HttpsURLConnectionImpl</span>.<span class="nv">getResponseCode</span><span class="ss">(</span><span class="nv">Unknown</span><span class="w"> </span><span class="nv">Source</span><span class="ss">)</span>
<span class="w">    </span><span class="nv">at</span><span class="w"> </span><span class="nv">twitter4j</span>.<span class="nv">internal</span>.<span class="nv">http</span>.<span class="nv">HttpResponseImpl</span>.<span class="o">&lt;</span><span class="nv">init</span><span class="o">&gt;</span><span class="ss">(</span><span class="nv">HttpResponseImpl</span>.<span class="nv">java</span>:<span class="mi">34</span><span class="ss">)</span>
<span class="w">    </span><span class="nv">at</span><span class="w"> </span><span class="nv">twitter4j</span>.<span class="nv">internal</span>.<span class="nv">http</span>.<span class="nv">HttpClientImpl</span>.<span class="nv">request</span><span class="ss">(</span><span class="nv">HttpClientImpl</span>.<span class="nv">java</span>:<span class="mi">141</span><span class="ss">)</span>
<span class="w">    </span>...<span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="nv">more</span>
<span class="nv">Caused</span><span class="w"> </span><span class="nv">by</span>:<span class="w"> </span><span class="nv">sun</span>.<span class="nv">security</span>.<span class="nv">validator</span>.<span class="nv">ValidatorException</span>:<span class="w"> </span><span class="nv">PKIX</span><span class="w"> </span><span class="nv">path</span><span class="w"> </span><span class="nv">building</span><span class="w"> </span><span class="nv">failed</span>:<span class="w"> </span><span class="nv">sun</span>.<span class="nv">security</span>.<span class="nv">provider</span>.<span class="nv">certpath</span>.<span class="nv">SunCertPathBuilderException</span>:<span class="w"> </span><span class="nv">unable</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">find</span><span class="w"> </span><span class="nv">valid</span><span class="w"> </span><span class="nv">certification</span><span class="w"> </span><span class="nv">path</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">requested</span><span class="w"> </span><span class="nv">target</span>
<span class="w">    </span><span class="nv">at</span><span class="w"> </span><span class="nv">sun</span>.<span class="nv">security</span>.<span class="nv">validator</span>.<span class="nv">PKIXValidator</span>.<span class="nv">doBuild</span><span class="ss">(</span><span class="nv">Unknown</span><span class="w"> </span><span class="nv">Source</span><span class="ss">)</span>
<span class="w">    </span><span class="nv">at</span><span class="w"> </span><span class="nv">sun</span>.<span class="nv">security</span>.<span class="nv">validator</span>.<span class="nv">PKIXValidator</span>.<span class="nv">engineValidate</span><span class="ss">(</span><span class="nv">Unknown</span><span class="w"> </span><span class="nv">Source</span><span class="ss">)</span>
<span class="w">    </span><span class="nv">at</span><span class="w"> </span><span class="nv">sun</span>.<span class="nv">security</span>.<span class="nv">validator</span>.<span class="nv">Validator</span>.<span class="nv">validate</span><span class="ss">(</span><span class="nv">Unknown</span><span class="w"> </span><span class="nv">Source</span><span class="ss">)</span>
<span class="w">    </span><span class="nv">at</span><span class="w"> </span><span class="nv">sun</span>.<span class="nv">security</span>.<span class="nv">ssl</span>.<span class="nv">X509TrustManagerImpl</span>.<span class="nv">validate</span><span class="ss">(</span><span class="nv">Unknown</span><span class="w"> </span><span class="nv">Source</span><span class="ss">)</span>
<span class="w">    </span><span class="nv">at</span><span class="w"> </span><span class="nv">sun</span>.<span class="nv">security</span>.<span class="nv">ssl</span>.<span class="nv">X509TrustManagerImpl</span>.<span class="nv">checkTrusted</span><span class="ss">(</span><span class="nv">Unknown</span><span class="w"> </span><span class="nv">Source</span><span class="ss">)</span>
<span class="w">    </span><span class="nv">at</span><span class="w"> </span><span class="nv">sun</span>.<span class="nv">security</span>.<span class="nv">ssl</span>.<span class="nv">X509TrustManagerImpl</span>.<span class="nv">checkServerTrusted</span><span class="ss">(</span><span class="nv">Unknown</span><span class="w"> </span><span class="nv">Source</span><span class="ss">)</span>
<span class="w">    </span>...<span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="nv">more</span>
<span class="nv">Caused</span><span class="w"> </span><span class="nv">by</span>:<span class="w"> </span><span class="nv">sun</span>.<span class="nv">security</span>.<span class="nv">provider</span>.<span class="nv">certpath</span>.<span class="nv">SunCertPathBuilderException</span>:<span class="w"> </span><span class="nv">unable</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">find</span><span class="w"> </span><span class="nv">valid</span><span class="w"> </span><span class="nv">certification</span><span class="w"> </span><span class="nv">path</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">requested</span><span class="w"> </span><span class="nv">target</span>
<span class="w">    </span><span class="nv">at</span><span class="w"> </span><span class="nv">sun</span>.<span class="nv">security</span>.<span class="nv">provider</span>.<span class="nv">certpath</span>.<span class="nv">SunCertPathBuilder</span>.<span class="nv">engineBuild</span><span class="ss">(</span><span class="nv">Unknown</span><span class="w"> </span><span class="nv">Source</span><span class="ss">)</span>
<span class="w">    </span><span class="nv">at</span><span class="w"> </span><span class="nv">java</span>.<span class="nv">security</span>.<span class="nv">cert</span>.<span class="nv">CertPathBuilder</span>.<span class="nv">build</span><span class="ss">(</span><span class="nv">Unknown</span><span class="w"> </span><span class="nv">Source</span><span class="ss">)</span>
<span class="w">    </span>...<span class="w"> </span><span class="mi">26</span><span class="w"> </span><span class="nv">more</span>
<span class="nv">Failed</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">search</span><span class="w"> </span><span class="nv">tweets</span>:<span class="w"> </span><span class="nv">sun</span>.<span class="nv">security</span>.<span class="nv">validator</span>.<span class="nv">ValidatorException</span>:<span class="w"> </span><span class="nv">PKIX</span><span class="w"> </span><span class="nv">path</span><span class="w"> </span><span class="nv">building</span><span class="w"> </span><span class="nv">failed</span>:<span class="w"> </span><span class="nv">sun</span>.<span class="nv">security</span>.<span class="nv">provider</span>.<span class="nv">certpath</span>.<span class="nv">SunCertPathBuilderException</span>:<span class="w"> </span><span class="nv">unable</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">find</span><span class="w"> </span><span class="nv">valid</span><span class="w"> </span><span class="nv">certification</span><span class="w"> </span><span class="nv">path</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">requested</span><span class="w"> </span><span class="nv">target</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<ol>
<li>
<p>Go to URL in your browser:</p>
</li>
<li>
<p>firefox - click on HTTPS certificate chain (the lock icon right next to URL address). Click <code>"more info" &gt; "security" &gt; "show certificate" &gt; "details" &gt; "export.."</code>. Pickup the name and choose file type example.cer</p>
</li>
<li>
<p>chrome - click on site icon left to address in address bar, select "Certificate" -&gt; "Details" -&gt; "Export" and save in format "Der-encoded binary, single certificate".</p>
</li>
<li>
<p>Now you have file with keystore and you have to add it to your JVM. Determine location of cacerts files, eg. <code>C:\Program Files (x86)\Java\jre1.6.0_22\lib\security\cacerts.</code></p>
</li>
<li>
<p>Next import the <code>example.cer</code> file into cacerts in command line (may need administrator command prompt):</p>
</li>
</ol>
<p><code>keytool -import -alias example -keystore "C:\Program Files
(x86)\Java\jre1.6.0_22\lib\security\cacerts" -file example.cer</code></p>
<p>You will be asked for password which default is <code>changeit</code></p>
<p>Restart your JVM/PC.</p>
<p>source: http://magicmonster.com/kb/prg/java/ssl/pkix_path_building_failed.html</p>
<p><br></p>
<h3>Suggest</h3>
<p>After many hours trying to build cert files to get my Java 6 installation
working with the new twitter cert's, I finally stumbled onto an incredibly
simple solution buried in a comment in one of the message boards. Just copy
the cacerts file from a Java 7 installation and overwrite the one in your Java
6 installation. Probably best to make a backup of the cacerts file first, but
then you just copy the new one in and BOOM! it just works.</p>
<p>Note that I actually copied a Windows cacerts file onto a Linux installation
and it worked just fine.</p>
<p>The file is located in <code>jre/lib/security/cacerts</code> in both the old and new Java
jdk installations.</p>
<p>Hope this saves someone else hours of aggravation.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/check-uncheck-checkbox-with-javascript/" class="u-url">Check/Uncheck checkbox with JavaScript</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/check-uncheck-checkbox-with-javascript/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T13:57:11+08:00" itemprop="datePublished" title="2023-02-17 13:57">2023-02-17 13:57</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How can a checkbox be checked/unchecked using JavaScript?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Javascript:</p>
<div class="code"><pre class="code literal-block"><span class="c1">// Check</span>
<span class="n">document</span><span class="p">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s">"checkbox"</span><span class="p">).</span><span class="n">checked</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">true</span><span class="p">;</span>

<span class="c1">// Uncheck</span>
<span class="n">document</span><span class="p">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s">"checkbox"</span><span class="p">).</span><span class="n">checked</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">false</span><span class="p">;</span>
</pre></div>

<p>jQuery (1.6+):</p>
<div class="code"><pre class="code literal-block"><span class="c1">// Check</span>
$<span class="p">(</span><span class="s">"#checkbox"</span><span class="p">).</span><span class="n">prop</span><span class="p">(</span><span class="s">"checked"</span><span class="p">,</span><span class="w"> </span><span class="n">true</span><span class="p">);</span>

<span class="c1">// Uncheck</span>
$<span class="p">(</span><span class="s">"#checkbox"</span><span class="p">).</span><span class="n">prop</span><span class="p">(</span><span class="s">"checked"</span><span class="p">,</span><span class="w"> </span><span class="n">false</span><span class="p">);</span>
</pre></div>

<p>jQuery (1.5-):</p>
<div class="code"><pre class="code literal-block"><span class="c1">// Check</span>
$<span class="p">(</span><span class="s">"#checkbox"</span><span class="p">).</span><span class="n">attr</span><span class="p">(</span><span class="s">"checked"</span><span class="p">,</span><span class="w"> </span><span class="n">true</span><span class="p">);</span>

<span class="c1">// Uncheck</span>
$<span class="p">(</span><span class="s">"#checkbox"</span><span class="p">).</span><span class="n">attr</span><span class="p">(</span><span class="s">"checked"</span><span class="p">,</span><span class="w"> </span><span class="n">false</span><span class="p">);</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p><em>Important behaviour that has not yet been mentioned:</em></p>
<p><strong>Programmatically setting the <em>checked</em> attribute, does not fire the <code>change</code>
event of the checkbox</strong>.</p>
<p>See for yourself in this fiddle:<br>
http://jsfiddle.net/fjaeger/L9z9t04p/4/</p>
<p><em>(Fiddle tested in Chrome 46, Firefox 41 and IE 11)</em></p>
<h2>The <code>click()</code> method</h2>
<p>Some day you might find yourself writing code, which relies on the event being
fired. To make sure the event fires, call the <code>click()</code> method of the checkbox
element, like this:</p>
<div class="code"><pre class="code literal-block">document.getElementById('checkbox').click();
</pre></div>

<p>However, this toggles the checked status of the checkbox, instead of
specifically setting it to <code>true</code> or <code>false</code>. Remember that the <code>change</code> event
should only fire, when the checked attribute actually changes.</p>
<p><em>It also applies to the jQuery way: setting the attribute using<code>prop</code> or
<code>attr</code>, does not fire the <code>change</code> event.</em></p>
<h2>Setting <code>checked</code> to a specific value</h2>
<p>You could test the <code>checked</code> attribute, before calling the <code>click()</code> method.
Example:</p>
<div class="code"><pre class="code literal-block"><span class="n">function</span><span class="w"> </span><span class="n">toggle</span><span class="p">(</span><span class="n">checked</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">elm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">document</span><span class="o">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s1">'checkbox'</span><span class="p">);</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">checked</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">elm</span><span class="o">.</span><span class="n">checked</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">elm</span><span class="o">.</span><span class="n">click</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>Read more about the click method here:<br>
https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/click</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/securityerror-blocked-a-frame-with-origin-from-accessing-a-cross-origin-frame/" class="u-url">SecurityError: Blocked a frame with origin from accessing a cross-origin frame</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/securityerror-blocked-a-frame-with-origin-from-accessing-a-cross-origin-frame/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T13:56:46+08:00" itemprop="datePublished" title="2023-02-17 13:56">2023-02-17 13:56</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am loading an <code>&lt;iframe&gt;</code> in my HTML page and trying to access the elements
within it using JavaScript, but when I try to execute my code, I get the
following error:</p>
<blockquote>
<p>SecurityError: Blocked a frame with origin "http://www.example.com" from
accessing a cross-origin frame.</p>
</blockquote>
<p>How can I access the elements in the frame?</p>
<p>I am using this code for testing, but in vain:</p>
<div class="code"><pre class="code literal-block"><span class="o">$</span><span class="p">(</span><span class="n">document</span><span class="p">)</span><span class="o">.</span><span class="n">ready</span><span class="p">(</span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">iframeWindow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">document</span><span class="o">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s2">"my-iframe-id"</span><span class="p">)</span><span class="o">.</span><span class="n">contentWindow</span><span class="p">;</span>

<span class="w">    </span><span class="n">iframeWindow</span><span class="o">.</span><span class="n">addEventListener</span><span class="p">(</span><span class="s2">"load"</span><span class="p">,</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">var</span><span class="w"> </span><span class="n">doc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iframe</span><span class="o">.</span><span class="n">contentDocument</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">iframe</span><span class="o">.</span><span class="n">contentWindow</span><span class="o">.</span><span class="n">document</span><span class="p">;</span>
<span class="w">        </span><span class="k">var</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">doc</span><span class="o">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s2">"my-target-id"</span><span class="p">);</span>

<span class="w">        </span><span class="n">target</span><span class="o">.</span><span class="n">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Found it!"</span><span class="p">;</span>
<span class="w">    </span><span class="p">});</span>
<span class="p">});</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<h3>Same-origin policy</h3>
<p>You <strong>can't</strong> access an <code>&lt;iframe&gt;</code> with different origin using JavaScript, it
would be a huge security flaw if you could do it. For the same-origin policy
<strong>browsers block scripts trying to access a frame with a different origin</strong>.</p>
<p>Origin is considered different if at least one of the following parts of the
address isn't maintained:</p>
<div class="code"><pre class="code literal-block">**protocol** :// **hostname** : **port** /...
</pre></div>

<p>Protocol, hostname and port must be the same of your domain if you want to
access a frame.</p>
<p>NOTE: Internet Explorer is known to not strictly follow this rule, see here
for details.</p>
<h4>Examples</h4>
<p>Here's what would happen trying to access the following URLs from
<code>http://www.example.com/home/index.html</code></p>
<div class="code"><pre class="code literal-block"><span class="n">URL</span><span class="w">                                             </span><span class="n">RESULT</span>
<span class="n">http</span><span class="o">://</span><span class="n">www</span><span class="p">.</span><span class="n">example</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">other</span><span class="p">.</span><span class="n">html</span><span class="w">       </span><span class="o">-&gt;</span><span class="w"> </span><span class="kr">Success</span>
<span class="n">http</span><span class="o">://</span><span class="n">www</span><span class="p">.</span><span class="n">example</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">dir</span><span class="o">/</span><span class="n">inner</span><span class="o">/</span><span class="n">another</span><span class="p">.</span><span class="n">php</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kr">Success</span>
<span class="n">http</span><span class="o">://</span><span class="n">www</span><span class="p">.</span><span class="n">example</span><span class="p">.</span><span class="n">com</span><span class="o">:</span><span class="mi">80</span><span class="w">                    </span><span class="o">-&gt;</span><span class="w"> </span><span class="kr">Success</span><span class="w"> </span><span class="p">(</span><span class="n">default</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">HTTP</span><span class="p">)</span>
<span class="n">http</span><span class="o">://</span><span class="n">www</span><span class="p">.</span><span class="n">example</span><span class="p">.</span><span class="n">com</span><span class="o">:</span><span class="mi">2251</span><span class="w">                  </span><span class="o">-&gt;</span><span class="w"> </span><span class="kr">Failure</span><span class="o">:</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="n">port</span>
<span class="n">http</span><span class="o">://</span><span class="n">data</span><span class="p">.</span><span class="n">example</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">dir</span><span class="o">/</span><span class="n">other</span><span class="p">.</span><span class="n">html</span><span class="w">       </span><span class="o">-&gt;</span><span class="w"> </span><span class="kr">Failure</span><span class="o">:</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="n">hostname</span>
<span class="n">https</span><span class="o">://</span><span class="n">www</span><span class="p">.</span><span class="n">example</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="nf">index</span><span class="p">.</span><span class="n">html</span><span class="o">:</span><span class="mi">80</span><span class="w">   </span><span class="o">-&gt;</span><span class="w"> </span><span class="kr">Failure</span><span class="o">:</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="n">protocol</span>
<span class="n">ftp</span><span class="o">://</span><span class="n">www</span><span class="p">.</span><span class="n">example</span><span class="p">.</span><span class="n">com</span><span class="o">:</span><span class="mi">21</span><span class="w">                     </span><span class="o">-&gt;</span><span class="w"> </span><span class="kr">Failure</span><span class="o">:</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">port</span>
<span class="n">https</span><span class="o">://</span><span class="n">google</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">search</span><span class="o">?</span><span class="n">q</span><span class="o">=</span><span class="n">james</span><span class="o">+</span><span class="n">bond</span><span class="w">       </span><span class="o">-&gt;</span><span class="w"> </span><span class="kr">Failure</span><span class="o">:</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="n">protocol</span><span class="p">,</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">hostname</span>
</pre></div>

<h3>Workaround</h3>
<p>Even though same-origin policy blocks scripts from accessing the content of
sites with a different origin, <strong>if you own both the pages, you can work
around this problem using<code>window.postMessage</code> and its relative <code>message</code>
event</strong> to send messages between the two pages, like this:</p>
<ul>
<li>In your main page:<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="n">frame</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">document</span><span class="o">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s1">'your-frame-id'</span><span class="p">);</span>
</pre></div>

<p>frame.contentWindow.postMessage(/<em>any variable or object here</em>/, 'https://your-second-site.example');</p>
</li>
</ul>
<p>The second argument to <code>postMessage()</code> can be <code>'*'</code> to indicate no preference
about the origin of the destination. A target origin should always be provided
when possible, to avoid disclosing the data you send to any other site.</p>
<ul>
<li>In your <code>&lt;iframe&gt;</code> (contained in the main page):<div class="code"><pre class="code literal-block"><span class="nt">window</span><span class="p">.</span><span class="nc">addEventListener</span><span class="o">(</span><span class="s1">'message'</span><span class="o">,</span><span class="w"> </span><span class="nt">event</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="err">//</span><span class="w"> </span><span class="n">IMPORTANT</span><span class="p">:</span><span class="w"> </span><span class="n">check</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">origin</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">data</span><span class="o">!</span>
<span class="n">if</span><span class="w"> </span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">origin</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">'https://your-first-site.example'</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">site</span><span class="o">.</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Data</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">postMessage</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">stored</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">event</span><span class="o">.</span><span class="n">data</span><span class="o">:</span>
<span class="w">    </span><span class="n">console</span><span class="o">.</span><span class="nf">log</span><span class="p">(</span><span class="n">event</span><span class="err">.</span><span class="n">data</span><span class="p">);</span>
<span class="p">}</span><span class="w"> </span><span class="nt">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">The</span><span class="w"> </span><span class="err">data</span><span class="w"> </span><span class="err">was</span><span class="w"> </span><span class="err">NOT</span><span class="w"> </span><span class="err">sent</span><span class="w"> </span><span class="err">from</span><span class="w"> </span><span class="err">your</span><span class="w"> </span><span class="err">site!</span>
<span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">Be</span><span class="w"> </span><span class="err">careful!</span><span class="w"> </span><span class="err">Do</span><span class="w"> </span><span class="err">not</span><span class="w"> </span><span class="err">use</span><span class="w"> </span><span class="err">it.</span><span class="w"> </span><span class="err">This</span><span class="w"> </span><span class="err">else</span><span class="w"> </span><span class="err">branch</span><span class="w"> </span><span class="err">is</span>
<span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">here</span><span class="w"> </span><span class="err">just</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">clarity,</span><span class="w"> </span><span class="err">you</span><span class="w"> </span><span class="err">usually</span><span class="w"> </span><span class="err">shouldn't</span><span class="w"> </span><span class="err">need</span><span class="w"> </span><span class="err">it.</span>
<span class="w">    </span><span class="err">return</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>});</p>
</li>
</ul>
<p>This method can be applied in <strong>both directions</strong> , creating a listener in the
main page too, and receiving responses from the frame. The same logic can also
be implemented in pop-ups and basically any new window generated by the main
page (e.g. using <code>window.open()</code>) as well, without any difference.</p>
<h3>Disabling same-origin policy in <em>your</em> browser</h3>
<p>There already are some good answers about this topic (I just found them
googling), so, for the browsers where this is possible, I'll link the relative
answer. However, please remember that <strong>disabling the same-origin policy will
only affect <em>your</em> browser</strong>. Also, running a browser with same-origin
security settings disabled grants <em>any</em> website access to cross-origin
resources, so <strong>it's very unsafe and should NEVER be done if you do not know
exactly what you are doing (e.g. development purposes)</strong>.</p>
<ul>
<li>Google Chrome</li>
<li>Mozilla Firefox</li>
<li>Safari</li>
<li>Opera: same as Chrome</li>
<li>Microsoft Edge: same as Chrome</li>
<li>Brave: same as Chrome</li>
<li>Microsoft Edge (old non-Chromium version): not possible</li>
<li>Microsoft Internet Explorer</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<p>Complementing Marco Bonelli's answer: the best current way of interacting
between frames/iframes is using <code>window.postMessage</code>, supported by all
browsers</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-712.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-710.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

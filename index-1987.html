<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1987) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1987.html">
<link rel="prev" href="index-1988.html" type="text/html">
<link rel="next" href="index-1986.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/including-dependencies-in-a-jar-with-maven/" class="u-url">Including dependencies in a jar with Maven</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/including-dependencies-in-a-jar-with-maven/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T14:09:23+08:00" itemprop="datePublished" title="2023-03-03 14:09">2023-03-03 14:09</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is there a way to force maven(2.0.9) to include all the dependencies in a
single jar file?</p>
<p>I have a project the builds into a single jar file. I want the classes from
dependencies to be copied into the jar as well.</p>
<p><strong>Update:</strong> I know that I cant just include a jar file in a jar file. I'm
searching for a way to unpack the jars that are specified as dependencies, and
package the class files into my jar.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can do this using the maven-assembly plugin with the "jar-with-
dependencies" descriptor. Here's the relevant chunk from one of our pom.xml's
that does this:</p>
<div class="code"><pre class="code literal-block"><span class="w">  </span><span class="nt">&lt;build&gt;</span>
<span class="w">    </span><span class="nt">&lt;plugins&gt;</span>
<span class="w">      </span><span class="cm">&lt;!-- any other plugins --&gt;</span>
<span class="w">      </span><span class="nt">&lt;plugin&gt;</span>
<span class="w">        </span><span class="nt">&lt;artifactId&gt;</span>maven-assembly-plugin<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">        </span><span class="nt">&lt;executions&gt;</span>
<span class="w">          </span><span class="nt">&lt;execution&gt;</span>
<span class="w">            </span><span class="nt">&lt;phase&gt;</span>package<span class="nt">&lt;/phase&gt;</span>
<span class="w">            </span><span class="nt">&lt;goals&gt;</span>
<span class="w">              </span><span class="nt">&lt;goal&gt;</span>single<span class="nt">&lt;/goal&gt;</span>
<span class="w">            </span><span class="nt">&lt;/goals&gt;</span>
<span class="w">          </span><span class="nt">&lt;/execution&gt;</span>
<span class="w">        </span><span class="nt">&lt;/executions&gt;</span>
<span class="w">        </span><span class="nt">&lt;configuration&gt;</span>
<span class="w">          </span><span class="nt">&lt;descriptorRefs&gt;</span>
<span class="w">            </span><span class="nt">&lt;descriptorRef&gt;</span>jar-with-dependencies<span class="nt">&lt;/descriptorRef&gt;</span>
<span class="w">          </span><span class="nt">&lt;/descriptorRefs&gt;</span>
<span class="w">        </span><span class="nt">&lt;/configuration&gt;</span>
<span class="w">      </span><span class="nt">&lt;/plugin&gt;</span>
<span class="w">    </span><span class="nt">&lt;/plugins&gt;</span>
<span class="w">  </span><span class="nt">&lt;/build&gt;</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>With Maven 2, the right way to do this is to use the Maven2 Assembly Plugin
which has a pre-defined descriptor file for this purpose and that you could
just use on the command line:</p>
<div class="code"><pre class="code literal-block">mvn assembly:assembly -DdescriptorId=jar-with-dependencies
</pre></div>

<p>If you want to make this jar executable, just add the main class to be run to
the plugin configuration:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;plugin&gt;</span>
<span class="w">  </span><span class="nt">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="nt">&lt;/groupId&gt;</span>
<span class="w">  </span><span class="nt">&lt;artifactId&gt;</span>maven-assembly-plugin<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">  </span><span class="nt">&lt;configuration&gt;</span>
<span class="w">    </span><span class="nt">&lt;archive&gt;</span>
<span class="w">      </span><span class="nt">&lt;manifest&gt;</span>
<span class="w">        </span><span class="nt">&lt;mainClass&gt;</span>my.package.to.my.MainClass<span class="nt">&lt;/mainClass&gt;</span>
<span class="w">      </span><span class="nt">&lt;/manifest&gt;</span>
<span class="w">    </span><span class="nt">&lt;/archive&gt;</span>
<span class="w">  </span><span class="nt">&lt;/configuration&gt;</span>
<span class="nt">&lt;/plugin&gt;</span>
</pre></div>

<p>If you want to create that assembly as part of the normal build process, you
should bind the single or directory-single goal (the <code>assembly</code> goal should
ONLY be run from the command line) to a lifecycle phase (<code>package</code> makes
sense), something like this:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;plugin&gt;</span>
<span class="w">  </span><span class="nt">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="nt">&lt;/groupId&gt;</span>
<span class="w">  </span><span class="nt">&lt;artifactId&gt;</span>maven-assembly-plugin<span class="nt">&lt;/artifactId&gt;</span>
<span class="w">  </span><span class="nt">&lt;executions&gt;</span>
<span class="w">    </span><span class="nt">&lt;execution&gt;</span>
<span class="w">      </span><span class="nt">&lt;id&gt;</span>create-my-bundle<span class="nt">&lt;/id&gt;</span>
<span class="w">      </span><span class="nt">&lt;phase&gt;</span>package<span class="nt">&lt;/phase&gt;</span>
<span class="w">      </span><span class="nt">&lt;goals&gt;</span>
<span class="w">        </span><span class="nt">&lt;goal&gt;</span>single<span class="nt">&lt;/goal&gt;</span>
<span class="w">      </span><span class="nt">&lt;/goals&gt;</span>
<span class="w">      </span><span class="nt">&lt;configuration&gt;</span>
<span class="w">        </span><span class="nt">&lt;descriptorRefs&gt;</span>
<span class="w">          </span><span class="nt">&lt;descriptorRef&gt;</span>jar-with-dependencies<span class="nt">&lt;/descriptorRef&gt;</span>
<span class="w">        </span><span class="nt">&lt;/descriptorRefs&gt;</span>
<span class="w">        </span>...
<span class="w">      </span><span class="nt">&lt;/configuration&gt;</span>
<span class="w">    </span><span class="nt">&lt;/execution&gt;</span>
<span class="w">  </span><span class="nt">&lt;/executions&gt;</span>
<span class="nt">&lt;/plugin&gt;</span>
</pre></div>

<p>Adapt the <code>configuration</code> element to suit your needs (for example with the
manifest stuff as spoken).</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/get-file-name-from-absolute-path-in-nodejs/" class="u-url">Get file name from absolute path in Nodejs?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/get-file-name-from-absolute-path-in-nodejs/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T14:09:01+08:00" itemprop="datePublished" title="2023-03-03 14:09">2023-03-03 14:09</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How can I get the file name from an absolute path in Nodejs?</p>
<p>e.g. <code>"foo.txt"</code> from <code>"/var/www/foo.txt"</code></p>
<p>I know it works with a string operation, like <code>fullpath.replace(/.+\//, '')</code>,
but I want to know is there an explicit way, like <code>file.getName()</code> in Java?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Use the <code>basename</code> method of the <code>path</code> module:</p>
<div class="code"><pre class="code literal-block"><span class="nv">path</span>.<span class="k">basename</span><span class="ss">(</span><span class="s1">'/foo/bar/baz/asdf/quux.html'</span><span class="ss">)</span>
<span class="o">//</span><span class="w"> </span><span class="nv">returns</span>
<span class="s1">'quux.html'</span>
</pre></div>

<p>Here is the documentation the above example is taken from.</p>
<p><br></p>
<h3>Suggest</h3>
<p>To get the file name portion of the file name, the basename method is used:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">require</span><span class="p">(</span><span class="s2">"path"</span><span class="p">);</span>
<span class="k">var</span><span class="w"> </span><span class="n">fileName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"C:</span><span class="se">\\</span><span class="s2">Python27</span><span class="se">\\</span><span class="s2">ArcGIS10.2</span><span class="se">\\</span><span class="s2">python.exe"</span><span class="p">;</span>
<span class="k">var</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">fileName</span><span class="p">);</span>

<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">file</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="s1">'python.exe'</span>
</pre></div>

<p>If you want the file name without the extension, you can pass the extension
variable (containing the extension name) to the basename method telling Node
to return only the name without the extension:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">require</span><span class="p">(</span><span class="s2">"path"</span><span class="p">);</span>
<span class="k">var</span><span class="w"> </span><span class="n">fileName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"C:</span><span class="se">\\</span><span class="s2">Python27</span><span class="se">\\</span><span class="s2">ArcGIS10.2</span><span class="se">\\</span><span class="s2">python.exe"</span><span class="p">;</span>
<span class="k">var</span><span class="w"> </span><span class="n">extension</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">path</span><span class="o">.</span><span class="n">extname</span><span class="p">(</span><span class="n">fileName</span><span class="p">);</span>
<span class="k">var</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">fileName</span><span class="p">,</span><span class="n">extension</span><span class="p">);</span>

<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">file</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="s1">'python'</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/sql-statement-to-get-column-type/" class="u-url">SQL statement to get column type</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/sql-statement-to-get-column-type/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T14:08:35+08:00" itemprop="datePublished" title="2023-03-03 14:08">2023-03-03 14:08</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is there a SQL statement that can return the type of a column in a table?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Using SQL Server:</p>
<div class="code"><pre class="code literal-block">SELECT DATA_TYPE 
FROM INFORMATION_SCHEMA.COLUMNS
WHERE 
     TABLE_SCHEMA = 'yourSchemaName' AND
     TABLE_NAME   = 'yourTableName' AND 
     COLUMN_NAME  = 'yourColumnName'
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>The easiest way in TSQL is:</p>
<div class="code"><pre class="code literal-block">SELECT COLUMN_NAME, DATA_TYPE 
FROM INFORMATION_SCHEMA.COLUMNS 
WHERE TABLE_NAME = 'yourTableName'
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1988.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1986.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

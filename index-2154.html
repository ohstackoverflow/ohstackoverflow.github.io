<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2154) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2154.html">
<link rel="prev" href="index-2155.html" type="text/html">
<link rel="next" href="index-2153.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/defining-array-with-multiple-types-in-typescript/" class="u-url">Defining array with multiple types in TypeScript</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/defining-array-with-multiple-types-in-typescript/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T19:01:27+08:00" itemprop="datePublished" title="2023-03-03 19:01">2023-03-03 19:01</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have an array of the form: <code>[ 1, "message" ]</code>.</p>
<p>How would I define this in TypeScript?</p>
<p><br><br></p>
<h2>Answer</h2>
<blockquote>
<p>Defining array with multiple types in TypeScript</p>
</blockquote>
<p>Use a union type <code>(string|number)[]</code> demo:</p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="n">foo</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">string</span><span class="o">|</span><span class="n">number</span><span class="p">)[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s2">"message"</span><span class="w"> </span><span class="p">];</span>
</pre></div>

<blockquote>
<p>I have an array of the form: [ 1, "message" ].</p>
</blockquote>
<p>If you are sure that there are always only two elements <code>[number, string]</code>
then you can declare it as a tuple:</p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="n">foo</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="n">number</span><span class="p">,</span><span class="w"> </span><span class="n">string</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s2">"message"</span><span class="w"> </span><span class="p">];</span>
</pre></div>

<p>And you can even provide meaningful names for the tuple members e.g. <code>id</code> and
<code>text</code>:</p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="n">foo</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="n">number</span><span class="p">,</span><span class="w"> </span><span class="n">text</span><span class="p">:</span><span class="w"> </span><span class="n">string</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s2">"message"</span><span class="w"> </span><span class="p">];</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>If you're treating it as a tuple (see section 3.3.3 of the language spec),
then:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">t</span><span class="p">:[</span><span class="n">number</span><span class="p">,</span><span class="w"> </span><span class="n">string</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s2">"message"</span><span class="p">]</span>
</pre></div>

<p>or</p>
<div class="code"><pre class="code literal-block"><span class="n">interface</span><span class="w"> </span><span class="n">NumberStringTuple</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nb nb-Type">Array</span><span class="o">&lt;</span><span class="n">string</span><span class="o">|</span><span class="n">number</span><span class="o">&gt;</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span><span class="n">number</span><span class="p">;</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span><span class="n">string</span><span class="p">}</span>
<span class="k">var</span><span class="w"> </span><span class="n">t</span><span class="p">:</span><span class="n">NumberStringTuple</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s2">"message"</span><span class="p">];</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-use-the-nohup-command-without-getting-nohup-out/" class="u-url">How do I use the nohup command without getting nohup.out?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-use-the-nohup-command-without-getting-nohup-out/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T19:00:10+08:00" itemprop="datePublished" title="2023-03-03 19:00">2023-03-03 19:00</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a problem with the nohup command.</p>
<p>When I run my job, I have a lot of data. The output nohup.out becomes too
large and my process slows down. How can I run this command without getting
nohup.out?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The <code>nohup</code> command only writes to <code>nohup.out</code> if the output would otherwise
go to the terminal. If you have redirected the output of the command somewhere
else - including <code>/dev/null</code> - that's where it goes instead.</p>
<div class="code"><pre class="code literal-block"> nohup command &gt;/dev/null 2&gt;&amp;1   # doesn't create nohup.out
</pre></div>

<p>Note that the <code>&gt;/dev/null 2&gt;&amp;1</code> sequence can be abbreviated to just
<code>&gt;&amp;/dev/null</code> in most (but not all) shells.</p>
<p>If you're using <code>nohup</code>, that probably means you want to run the command in
the background by putting another <code>&amp;</code> on the end of the whole thing:</p>
<div class="code"><pre class="code literal-block"> nohup command &gt;/dev/null 2&gt;&amp;1 &amp; # runs in background, still doesn't create nohup.out
</pre></div>

<p>On Linux, running a job with <code>nohup</code> automatically closes its input as well.
On other systems, notably BSD and macOS, that is not the case, so when running
in the background, you might want to close input manually. While closing input
has no effect on the creation or not of <code>nohup.out</code>, it avoids another
problem: if a background process tries to read anything from standard input,
it will pause, waiting for you to bring it back to the foreground and type
something. So the extra-safe version looks like this:</p>
<div class="code"><pre class="code literal-block">nohup command &lt;/dev/null &gt;/dev/null 2&gt;&amp;1 &amp; # completely detached from terminal
</pre></div>

<p>Note, however, that this does not prevent the command from accessing the
terminal directly, nor does it remove it from your shell's process group. If
you want to do the latter, and you are running bash, ksh, or zsh, you can do
so by running <code>disown</code> with no argument as the next command. That will mean
the background process is no longer associated with a shell "job" and will not
have any signals forwarded to it from the shell. (A <code>disown</code>ed process gets no
signals forwarded to it automatically by its parent shell - but without
<code>nohup</code>, it will still receive a <code>HUP</code> signal sent via other means, such as a
manual <code>kill</code> command. A <code>nohup</code>'ed process ignores any and all <code>HUP</code> signals,
no matter how they are sent.)</p>
<p>Explanation:</p>
<p>In Unixy systems, every source of input or target of output has a number
associated with it called a "file descriptor", or "fd" for short. Every
running program ("process") has its own set of these, and when a new process
starts up it has three of them already open: "standard input", which is fd 0,
is open for the process to read from, while "standard output" (fd 1) and
"standard error" (fd 2) are open for it to write to. If you just run a command
in a terminal window, then by default, anything you type goes to its standard
input, while both its standard output and standard error get sent to that
window.</p>
<p>But you can ask the shell to change where any or all of those file descriptors
point before launching the command; that's what the redirection (<code>&lt;</code>, <code>&lt;&lt;</code>,
<code>&gt;</code>, <code>&gt;&gt;</code>) and pipe (<code>|</code>) operators do.</p>
<p>The pipe is the simplest of these... <code>command1 | command2</code> arranges for the
standard output of <code>command1</code> to feed directly into the standard input of
<code>command2</code>. This is a very handy arrangement that has led to a particular
design pattern in UNIX tools (and explains the existence of standard error,
which allows a program to send messages to the user even though its output is
going into the next program in the pipeline). But you can only pipe standard
output to standard input; you can't send any other file descriptors to a pipe
without some juggling.</p>
<p>The redirection operators are friendlier in that they let you specify which
file descriptor to redirect. So <code>0&lt;infile</code> reads standard input from the file
named <code>infile</code>, while <code>2&gt;&gt;logfile</code> appends standard error to the end of the
file named <code>logfile</code>. If you don't specify a number, then input redirection
defaults to fd 0 (<code>&lt;</code> is the same as <code>0&lt;</code>), while output redirection defaults
to fd 1 (<code>&gt;</code> is the same as <code>1&gt;</code>).</p>
<p>Also, you can combine file descriptors together: <code>2&gt;&amp;1</code> means "send standard
error wherever standard output is going". That means that you get a single
stream of output that includes both standard out and standard error intermixed
with no way to separate them anymore, but it also means that you can include
standard error in a pipe.</p>
<p>So the sequence <code>&gt;/dev/null 2&gt;&amp;1</code> means "send standard output to <code>/dev/null</code>"
(which is a special device that just throws away whatever you write to it)
"and then send standard error to wherever standard output is going" (which we
just made sure was <code>/dev/null</code>). Basically, "throw away whatever this command
writes to either file descriptor".</p>
<p>When <code>nohup</code> detects that neither its standard error nor output is attached to
a terminal, it doesn't bother to create <code>nohup.out</code>, but assumes that the
output is already redirected where the user wants it to go.</p>
<p>The <code>/dev/null</code> device works for input, too; if you run a command with
<code>&lt;/dev/null</code>, then any attempt by that command to read from standard input
will instantly encounter end-of-file. Note that the merge syntax won't have
the same effect here; it only works to point a file descriptor to another one
that's open in the same direction (input or output). The shell will let you do
<code>&gt;/dev/null &lt;&amp;1</code>, but that winds up creating a process with an input file
descriptor open on an output stream, so instead of just hitting end-of-file,
any read attempt will trigger a fatal "invalid file descriptor" error.</p>
<p><br></p>
<h3>Suggest</h3>
<div class="code"><pre class="code literal-block">nohup some_command &gt; /dev/null 2&gt;&amp;1&amp;
</pre></div>

<p>That's all you need to do!</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/jquery-removeclass-wildcard/" class="u-url">jQuery removeClass wildcard</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/jquery-removeclass-wildcard/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T18:58:33+08:00" itemprop="datePublished" title="2023-03-03 18:58">2023-03-03 18:58</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is there any easy way to remove all classes matching, for example,</p>
<div class="code"><pre class="code literal-block">color-*
</pre></div>

<p>so if I have an element:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;div</span><span class="w"> </span><span class="na">id=</span><span class="s">"hello"</span><span class="w"> </span><span class="na">class=</span><span class="s">"color-red color-brown foo bar"</span><span class="nt">&gt;&lt;/div&gt;</span>
</pre></div>

<p>after removing, it would be</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;div</span><span class="w"> </span><span class="na">id=</span><span class="s">"hello"</span><span class="w"> </span><span class="na">class=</span><span class="s">"foo bar"</span><span class="nt">&gt;&lt;/div&gt;</span>
</pre></div>

<p>Thanks!</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The removeClass function takes a function argument since jQuery 1.4.</p>
<div class="code"><pre class="code literal-block">$<span class="ss">(</span><span class="s2">"#hello"</span><span class="ss">)</span>.<span class="nv">removeClass</span><span class="w"> </span><span class="ss">(</span><span class="nv">function</span><span class="w"> </span><span class="ss">(</span><span class="nv">index</span>,<span class="w"> </span><span class="nv">className</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="ss">(</span><span class="nv">className</span>.<span class="nv">match</span><span class="w"> </span><span class="ss">(</span><span class="o">/</span><span class="ss">(</span><span class="o">^|</span>\<span class="nv">s</span><span class="ss">)</span><span class="nv">color</span><span class="o">-</span>\<span class="nv">S</span><span class="o">+/</span><span class="nv">g</span><span class="ss">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span>[]<span class="ss">)</span>.<span class="nv">join</span><span class="ss">(</span><span class="s1">' '</span><span class="ss">)</span><span class="c1">;</span>
}<span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p>Live example: http://jsfiddle.net/xa9xS/1409/</p>
<p><br></p>
<h3>Suggest</h3>
<div class="code"><pre class="code literal-block">$<span class="ss">(</span><span class="s1">'div'</span><span class="ss">)</span>.<span class="nv">attr</span><span class="ss">(</span><span class="s1">'class'</span>,<span class="w"> </span><span class="nv">function</span><span class="ss">(</span><span class="nv">i</span>,<span class="w"> </span><span class="nv">c</span><span class="ss">)</span>{
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">c</span>.<span class="nv">replace</span><span class="ss">(</span><span class="o">/</span><span class="ss">(</span><span class="o">^|</span>\<span class="nv">s</span><span class="ss">)</span><span class="nv">color</span><span class="o">-</span>\<span class="nv">S</span><span class="o">+/</span><span class="nv">g</span>,<span class="w"> </span><span class="s1">''</span><span class="ss">)</span><span class="c1">;</span>
}<span class="ss">)</span><span class="c1">;</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2155.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2153.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

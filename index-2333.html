<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2333) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2333.html">
<link rel="prev" href="index-2334.html" type="text/html">
<link rel="next" href="index-2332.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/set-selected-option-of-select-box/" class="u-url">Set selected option of select box</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/set-selected-option-of-select-box/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T08:23:25+08:00" itemprop="datePublished" title="2023-03-04 08:23">2023-03-04 08:23</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I want to set a option that was selected previously to be displayed on page
load. I tried it with the following code:</p>
<div class="code"><pre class="code literal-block">$("#gate").val('Gateway 2');
</pre></div>

<p>with</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">"gate"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;option</span><span class="w"> </span><span class="na">value=</span><span class="s">'null'</span><span class="nt">&gt;</span>-<span class="w"> </span>choose<span class="w"> </span>-<span class="nt">&lt;/option&gt;</span>
<span class="w">    </span><span class="nt">&lt;option</span><span class="w"> </span><span class="na">value=</span><span class="s">'gateway_1'</span><span class="nt">&gt;</span>Gateway<span class="w"> </span>1<span class="nt">&lt;/option&gt;</span>
<span class="w">    </span><span class="nt">&lt;option</span><span class="w"> </span><span class="na">value=</span><span class="s">'gateway_2'</span><span class="nt">&gt;</span>Gateway<span class="w"> </span>2<span class="nt">&lt;/option&gt;</span>
<span class="nt">&lt;/select&gt;</span>
</pre></div>

<p>But this does not work. Any ideas?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>This definitely should work. Here's a demo. Make sure you have placed your
code into a <code>$(document).ready</code>:</p>
<div class="code"><pre class="code literal-block">$(function() {
    $("#gate").val('gateway_2');
});
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<div class="code"><pre class="code literal-block">$<span class="ss">(</span><span class="nv">document</span><span class="ss">)</span>.<span class="nv">ready</span><span class="ss">(</span><span class="nv">function</span><span class="ss">()</span><span class="w"> </span>{
<span class="w">    </span>$<span class="ss">(</span><span class="s2">"#gate option[value='Gateway 2']"</span><span class="ss">)</span>.<span class="nv">prop</span><span class="ss">(</span><span class="s1">'selected'</span>,<span class="w"> </span><span class="nv">true</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="nv">you</span><span class="w"> </span><span class="nv">need</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">specify</span><span class="w"> </span><span class="nv">id</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">combo</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">set</span><span class="w"> </span><span class="nv">right</span><span class="w"> </span><span class="nv">combo</span>,<span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">more</span><span class="w"> </span><span class="nv">than</span><span class="w"> </span><span class="nv">one</span><span class="w"> </span><span class="nv">combo</span>
}<span class="ss">)</span><span class="c1">;</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/define-preprocessor-macro-through-cmake/" class="u-url">Define preprocessor macro through CMake?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/define-preprocessor-macro-through-cmake/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T08:21:54+08:00" itemprop="datePublished" title="2023-03-04 08:21">2023-03-04 08:21</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How do I define a preprocessor variable through CMake?</p>
<p>The equivalent code would be <code>#define foo</code>.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>For a long time, CMake had the <code>add_definitions</code> command for this purpose.
However, recently the command has been superseded by a more fine grained
approach (separate commands for compile definitions, include directories, and
compiler options).</p>
<p>An example using the new add_compile_definitions:</p>
<div class="code"><pre class="code literal-block">add_compile_definitions(OPENCV_VERSION=<span class="cp">${</span><span class="n">OpenCV_VERSION</span><span class="cp">}</span>)
add_compile_definitions(WITH_OPENCV2)
</pre></div>

<p>Or:</p>
<div class="code"><pre class="code literal-block">add_compile_definitions(OPENCV_VERSION=<span class="cp">${</span><span class="n">OpenCV_VERSION</span><span class="cp">}</span><span class="w"> </span>WITH_OPENCV2)
</pre></div>

<p>The good part about this is that it circumvents the shabby trickery CMake has
in place for <code>add_definitions</code>. CMake is such a shabby system, but they are
finally finding some sanity.</p>
<p>Find more explanation on which commands to use for compiler flags here:
https://cmake.org/cmake/help/latest/command/add_definitions.html</p>
<p>Likewise, you can do this per-target as explained in Jim Hunziker's answer.</p>
<p><br></p>
<h3>Suggest</h3>
<p>To do this for a specific target, you can do the following:</p>
<div class="code"><pre class="code literal-block">target_compile_definitions(my_target PRIVATE FOO=1 BAR=1)
</pre></div>

<p>You should do this if you have more than one target that you're building and
you don't want them all to use the same flags. Also see the official
documentation on target_compile_definitions.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-do-url-decoding-in-java/" class="u-url">How to do URL decoding in Java?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-do-url-decoding-in-java/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T08:20:34+08:00" itemprop="datePublished" title="2023-03-04 08:20">2023-03-04 08:20</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p><strong>In Java, I want to convert this:</strong></p>
<div class="code"><pre class="code literal-block"><span class="nv">https</span><span class="o">%</span><span class="mi">3</span><span class="nv">A</span><span class="o">%</span><span class="mi">2</span><span class="nv">F</span><span class="o">%</span><span class="mi">2</span><span class="nv">Fmywebsite</span><span class="o">%</span><span class="mi">2</span><span class="nv">Fdocs</span><span class="o">%</span><span class="mi">2</span><span class="nv">Fenglish</span><span class="o">%</span><span class="mi">2</span><span class="nv">Fsite</span><span class="o">%</span><span class="mi">2</span><span class="nv">Fmybook</span>.<span class="k">do</span><span class="o">%</span><span class="mi">3</span><span class="nv">Frequest_type</span>
</pre></div>

<p><strong>To this:</strong></p>
<div class="code"><pre class="code literal-block"><span class="nv">https</span>:<span class="o">//</span><span class="nv">mywebsite</span><span class="o">/</span><span class="nv">docs</span><span class="o">/</span><span class="nv">english</span><span class="o">/</span><span class="nv">site</span><span class="o">/</span><span class="nv">mybook</span>.<span class="k">do</span><span class="o">&amp;</span><span class="nv">request_type</span>
</pre></div>

<p><strong>This is what I have so far:</strong></p>
<div class="code"><pre class="code literal-block"><span class="k">class</span> <span class="n">StringUTF</span> 
{
    <span class="n">public</span> <span class="n">static</span> <span class="n">void</span> <span class="n">main</span>(<span class="n">String</span>[] <span class="nb">args</span>) 
    {
        <span class="k">try</span>{
            <span class="n">String</span> <span class="n">url</span> = 
               <span class="s">"https%3A%2F%2Fmywebsite%2Fdocs%2Fenglish%2Fsite%2Fmybook.do"</span> +
               <span class="s">"%3Frequest_type%3D%26type%3Dprivate"</span>;

            <span class="n">System</span>.<span class="n">out</span>.<span class="n">println</span>(<span class="n">url</span>+<span class="s">"Hello World!-------&gt;"</span> +
                <span class="nb">new</span> <span class="n">String</span>(<span class="n">url</span>.<span class="n">getBytes</span>(<span class="s">"UTF-8"</span>),<span class="s">"ASCII"</span>));
        }
        <span class="n">catch</span>(<span class="nb">Exception</span> <span class="n">E</span>){
        }
    }
}
</pre></div>

<p>But it doesn't work right. What are these <code>%3A</code> and <code>%2F</code> formats called and
how do I convert them?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>This does not have anything to do with character encodings such as UTF-8 or
ASCII. The string you have there is <em>URL encoded</em>. This kind of encoding is
something entirely different than character encoding.</p>
<p>Try something like this:</p>
<div class="code"><pre class="code literal-block">try {
    String result = java.net.URLDecoder.decode(url, StandardCharsets.UTF_8.name());
} catch (UnsupportedEncodingException e) {
    // not going to happen - value came from JDK's own StandardCharsets
}
</pre></div>

<p>Java 10 added direct support for <code>Charset</code> to the API, meaning there's no need
to catch UnsupportedEncodingException:</p>
<div class="code"><pre class="code literal-block">String result = java.net.URLDecoder.decode(url, StandardCharsets.UTF_8);
</pre></div>

<p>Note that a <em>character encoding</em> (such as UTF-8 or ASCII) is what determines
the mapping of characters to raw bytes. For a good intro to character
encodings, see this article.</p>
<p><br></p>
<h3>Suggest</h3>
<p>The string you've got is in <code>application/x-www-form-urlencoded</code> encoding.</p>
<p>Use URLDecoder to convert it to Java String.</p>
<div class="code"><pre class="code literal-block">URLDecoder.decode( url, "UTF-8" );
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2334.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2332.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2485) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2485.html">
<link rel="prev" href="index-2486.html" type="text/html">
<link rel="next" href="index-2484.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/running-a-single-test-from-unittest-testcase-via-the-command-line/" class="u-url">Running a single test from unittest.TestCase via the command line</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/running-a-single-test-from-unittest-testcase-via-the-command-line/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T19:38:31+08:00" itemprop="datePublished" title="2023-03-04 19:38">2023-03-04 19:38</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>In our team, we define most test cases like this:</p>
<p>One "framework" class <code>ourtcfw.py</code>:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">unittest</span>

<span class="k">class</span> <span class="nc">OurTcFw</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">setUp</span><span class="p">:</span>
        <span class="c1"># Something</span>

    <span class="c1"># Other stuff that we want to use everywhere</span>
</pre></div>

<p>And a lot of test cases like testMyCase.py:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">localweather</span>

<span class="k">class</span> <span class="nc">MyCase</span><span class="p">(</span><span class="n">OurTcFw</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">testItIsSunny</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">localweather</span><span class="o">.</span><span class="n">sunny</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">testItIsHot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">localweather</span><span class="o">.</span><span class="n">temperature</span> <span class="o">&gt;</span> <span class="mi">20</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">"__main__"</span><span class="p">:</span>
    <span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
</pre></div>

<p>When I'm writing new test code and want to run it often, and save time, I do
put "__" in front of all other tests. But it's cumbersome, distracts me from
the code I'm writing, and the commit noise this creates is plain annoying.</p>
<p>So, for example, when making changes to <code>testItIsHot()</code>, I want to be able to
do this:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>python<span class="w"> </span>testMyCase.py<span class="w"> </span>testItIsHot
</pre></div>

<p>and have <code>unittest</code> run <em>only</em> <code>testItIsHot()</code></p>
<p>How can I achieve that?</p>
<p>I tried to rewrite the <code>if __name__ == "__main__":</code> part, but since I'm new to
Python, I'm feeling lost and keep bashing into everything else than the
methods.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>This works as you suggest - you just have to specify the class name as well:</p>
<div class="code"><pre class="code literal-block">python testMyCase.py MyCase.testItIsHot
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>If you organize your test cases, that is, follow the same organization like
the actual code and also use relative imports for modules in the same package,
you can also use the following command format:</p>
<div class="code"><pre class="code literal-block">python -m unittest mypkg.tests.test_module.TestClass.test_method

# In your case, this would be:
python -m unittest testMyCase.MyCase.testItIsHot
</pre></div>

<p>Python 3 documentation for this: <em>Command-Line Interface</em></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-the-difference-between-a-pod-and-a-deployment/" class="u-url">What is the difference between a pod and a deployment?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-the-difference-between-a-pod-and-a-deployment/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T19:37:04+08:00" itemprop="datePublished" title="2023-03-04 19:37">2023-03-04 19:37</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have been creating pods with <code>type:deployment</code> but I see that some
documentation uses <code>type:pod</code>, more specifically the documentation for multi-
container pods:</p>
<div class="code"><pre class="code literal-block"><span class="n">apiVersion</span><span class="o">:</span><span class="w"> </span><span class="n">v1</span>
<span class="n">kind</span><span class="o">:</span><span class="w"> </span><span class="n">Pod</span>
<span class="n">metadata</span><span class="o">:</span>
<span class="w">  </span><span class="n">name</span><span class="o">:</span><span class="w"> </span><span class="s2">""</span>
<span class="w">  </span><span class="n">labels</span><span class="o">:</span>
<span class="w">    </span><span class="n">name</span><span class="o">:</span><span class="w"> </span><span class="s2">""</span>
<span class="w">  </span><span class="kd">namespace</span><span class="o">:</span><span class="w"> </span><span class="s2">""</span>
<span class="w">  </span><span class="n">annotations</span><span class="o">:</span><span class="w"> </span><span class="o">[]</span>
<span class="w">  </span><span class="n">generateName</span><span class="o">:</span><span class="w"> </span><span class="s2">""</span>
<span class="n">spec</span><span class="o">:</span>
<span class="w">  </span><span class="o">?</span><span class="w"> </span><span class="s2">"// See 'The spec schema' for details."</span>
<span class="w">  </span><span class="o">:</span><span class="w"> </span><span class="o">~</span>
</pre></div>

<p>But to create pods I can just use a deployment type:</p>
<div class="code"><pre class="code literal-block"><span class="n">apiVersion</span><span class="o">:</span><span class="w"> </span><span class="n">extensions</span><span class="o">/</span><span class="n">v1beta1</span>
<span class="n">kind</span><span class="o">:</span><span class="w"> </span><span class="n">Deployment</span>
<span class="n">metadata</span><span class="o">:</span>
<span class="w">  </span><span class="n">name</span><span class="o">:</span><span class="w"> </span><span class="s2">""</span>
<span class="n">spec</span><span class="o">:</span>
<span class="w">  </span><span class="n">replicas</span><span class="o">:</span><span class="w"> </span><span class="mi">3</span>
<span class="w">  </span><span class="n">template</span><span class="o">:</span>
<span class="w">    </span><span class="n">metadata</span><span class="o">:</span>
<span class="w">      </span><span class="n">labels</span><span class="o">:</span>
<span class="w">        </span><span class="n">app</span><span class="o">:</span><span class="w"> </span><span class="s2">""</span>
<span class="w">    </span><span class="n">spec</span><span class="o">:</span>
<span class="w">      </span><span class="n">containers</span><span class="o">:</span>
<span class="w">        </span><span class="n">etc</span>
</pre></div>

<p>I noticed the pod documentation says:</p>
<blockquote>
<p>The create command can be used to create a pod directly, or it can create a
pod or pods through a Deployment. It is highly recommended that you use a
Deployment to create your pods. It watches for failed pods and will start up
new pods as required to maintain the specified number. If you don’t want a
Deployment to monitor your pod (e.g. your pod is writing non-persistent data
which won’t survive a restart, or your pod is intended to be very short-
lived), you can create a pod directly with the create command.</p>
<p>Note: We recommend using a Deployment to create pods. You should use the
instructions below only if you don’t want to create a Deployment.</p>
</blockquote>
<p>But this raises the question of what <code>kind:pod</code> is good for? Can you somehow
reference pods in a deployment? I didn't see a way. It looks like what you get
with pods is some extra metadata but none of the deployment options such as
<code>replica</code> or a restart policy. What good is a pod that doesn't persist data,
survives a restart? I think I'd be able to create a multi-container pod with a
deployment as well.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Both Pod and Deployment are full-fledged objects in the Kubernetes API.
Deployment manages creating Pods by means of ReplicaSets. What it boils down
to is that Deployment will create Pods with spec taken from the template. It
is rather unlikely that you will ever need to create Pods directly for a
production use-case.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Both Pod and Deployment are full-fledged objects in the Kubernetes API.
Deployment manages creating Pods by means of ReplicaSets. What it boils down
to is that Deployment will create Pods with spec taken from the template. It
is rather unlikely that you will ever need to create Pods directly for a
production use-case.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/android-show-soft-keyboard-automatically-when-focus-is-on-an-edittext/" class="u-url">Android: show soft keyboard automatically when focus is on an EditText</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/android-show-soft-keyboard-automatically-when-focus-is-on-an-edittext/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T19:35:09+08:00" itemprop="datePublished" title="2023-03-04 19:35">2023-03-04 19:35</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm showing an input box using <code>AlertDialog</code>. The <code>EditText</code> inside the dialog
itself is automatically focused when I call <code>AlertDialog.show()</code>, but the soft
keyboard is not automatically shown.</p>
<p>How do I make the soft keyboard automatically show when the dialog is shown?
(and there is no physical/hardware keyboard). Similar to how when I press the
Search button to invoke the global search, the soft keyboard is automatically
shown.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can create a focus listener on the <code>EditText</code> on the <code>AlertDialog</code>, then
get the <code>AlertDialog</code>'s <code>Window</code>. From there you can make the soft keyboard
show by calling <code>setSoftInputMode</code>.</p>
<div class="code"><pre class="code literal-block"><span class="n">final</span><span class="w"> </span><span class="n">AlertDialog</span><span class="w"> </span><span class="n">dialog</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">...;</span>

<span class="n">editText</span><span class="p">.</span><span class="n">setOnFocusChangeListener</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="k">View</span><span class="p">.</span><span class="n">OnFocusChangeListener</span><span class="p">()</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="nv">@Override</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">void</span><span class="w"> </span><span class="n">onFocusChange</span><span class="p">(</span><span class="k">View</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="k">boolean</span><span class="w"> </span><span class="n">hasFocus</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hasFocus</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="n">dialog</span><span class="p">.</span><span class="n">getWindow</span><span class="p">().</span><span class="n">setSoftInputMode</span><span class="p">(</span><span class="n">WindowManager</span><span class="p">.</span><span class="n">LayoutParams</span><span class="p">.</span><span class="n">SOFT_INPUT_STATE_ALWAYS_VISIBLE</span><span class="p">);</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span><span class="p">);</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>For showing keyboard use:</p>
<div class="code"><pre class="code literal-block">InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);
imm.toggleSoftInput(InputMethodManager.SHOW_FORCED,0);
</pre></div>

<p>For hiding keyboard use:</p>
<div class="code"><pre class="code literal-block">InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);
imm.hideSoftInputFromWindow(view.getWindowToken(),0);
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2486.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2484.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

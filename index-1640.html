<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1640) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1640.html">
<link rel="prev" href="index-1641.html" type="text/html">
<link rel="next" href="index-1639.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/getting-error-no-such-module-using-xcode-but-the-framework-is-there/" class="u-url">Getting error "No such module" using Xcode, but the framework is there</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/getting-error-no-such-module-using-xcode-but-the-framework-is-there/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T05:50:08+08:00" itemprop="datePublished" title="2023-03-03 05:50">2023-03-03 05:50</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm currently coding in Swift, and I've got an error:</p>
<blockquote>
<p>No such module Social</p>
</blockquote>
<p>But I don't understand, because the module is in my project, declared in
"Linked frameworks and Libraries" and in "Embedded Binaries".</p>
<p>The frameworks is in Objective-C, so I wrote a Bridge Header for it.</p>
<p>Please, how can I make Xcode recognize the framework?</p>
<p><img alt="Error module" src="images/iTrwX.png"></p>
<p><img alt="Project" src="images/H8YhB.png"></p>
<p><img alt="Linkes Frameworks, Libraries" src="images/PSwr3.png"></p>
<p><img alt="Header bridge" src="images/PkXX5.png"></p>
<p><br><br></p>
<h2>Answer</h2>
<p>I'm not sure why this happens, but one way to solve your issue is to go into
your <strong>build settings</strong> and defining the <strong>Framework Search Paths</strong> to a
folder which contains the frameworks in question. If the frameworks are placed
in your project directory, simply set the framework search path to
<code>$(SRCROOT)</code> and set it to recursive.</p>
<p><br></p>
<h3>Suggest</h3>
<p>I'm not sure why this happens, but one way to solve your issue is to go into
your <strong>build settings</strong> and defining the <strong>Framework Search Paths</strong> to a
folder which contains the frameworks in question. If the frameworks are placed
in your project directory, simply set the framework search path to
<code>$(SRCROOT)</code> and set it to recursive.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-are-copy-elision-and-return-value-optimization/" class="u-url">What are copy elision and return value optimization?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-are-copy-elision-and-return-value-optimization/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T05:49:43+08:00" itemprop="datePublished" title="2023-03-03 05:49">2023-03-03 05:49</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What is copy elision? What is (named) return value optimization? What do they
imply?</p>
<p>In what situations can they occur? What are limitations?</p>
<ul>
<li>If you were referenced to this question, you're probably looking for <strong>the introduction</strong>.</li>
<li>For a technical overview, see <strong>the standard reference</strong>.</li>
<li>See <strong>common cases</strong> here.</li>
</ul>
<p><br><br></p>
<h2>Answer</h2>
<h3>Introduction</h3>
<p>For a technical overview - skip to this answer.</p>
<p>For common cases where copy elision occurs - skip to this answer.</p>
<p>Copy elision is an optimization implemented by most compilers to prevent extra
(potentially expensive) copies in certain situations. It makes returning by
value or pass-by-value feasible in practice (restrictions apply).</p>
<p>It's the only form of optimization that elides (ha!) the as-if rule - <strong>copy
elision can be applied even if copying/moving the object has side-effects</strong>.</p>
<p>The following example taken from Wikipedia:</p>
<div class="code"><pre class="code literal-block"><span class="n">struct</span><span class="w"> </span><span class="n">C</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">C</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>
<span class="w">  </span><span class="n">C</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">C</span><span class="o">&amp;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s2">"A copy was made.</span><span class="se">\n</span><span class="s2">"</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="p">};</span>

<span class="n">C</span><span class="w"> </span><span class="n">f</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">C</span><span class="p">();</span>
<span class="p">}</span>

<span class="nb nb-Type">int</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">std</span><span class="p">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s2">"Hello World!</span><span class="se">\n</span><span class="s2">"</span><span class="p">;</span>
<span class="w">  </span><span class="n">C</span><span class="w"> </span><span class="n">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>

<p>Depending on the compiler &amp; settings, the following outputs <strong>are all valid</strong>
:</p>
<blockquote>
<p>Hello World!<br>
 A copy was made.<br>
 A copy was made.<br></p>
</blockquote>
<hr>
<blockquote>
<p>Hello World!<br>
 A copy was made.</p>
</blockquote>
<hr>
<blockquote>
<p>Hello World!</p>
</blockquote>
<p>This also means fewer objects can be created, so you also can't rely on a
specific number of destructors being called. You shouldn't have critical logic
inside copy/move-constructors or destructors, as you can't rely on them being
called.</p>
<p>If a call to a copy or move constructor is elided, that constructor must still
exist and must be accessible. This ensures that copy elision does not allow
copying objects which are not normally copyable, e.g. because they have a
private or deleted copy/move constructor.</p>
<p><strong>C++17</strong> : As of C++17, Copy Elision is guaranteed when an object is returned
directly:</p>
<div class="code"><pre class="code literal-block"><span class="n">struct</span><span class="w"> </span><span class="n">C</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">C</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>
<span class="w">  </span><span class="n">C</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">C</span><span class="o">&amp;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s2">"A copy was made.</span><span class="se">\n</span><span class="s2">"</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="p">};</span>

<span class="n">C</span><span class="w"> </span><span class="n">f</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">C</span><span class="p">();</span><span class="w"> </span><span class="o">//</span><span class="n">Definitely</span><span class="w"> </span><span class="n">performs</span><span class="w"> </span><span class="n">copy</span><span class="w"> </span><span class="n">elision</span>
<span class="p">}</span>
<span class="n">C</span><span class="w"> </span><span class="n">g</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">C</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">c</span><span class="p">;</span><span class="w"> </span><span class="o">//</span><span class="n">Maybe</span><span class="w"> </span><span class="n">performs</span><span class="w"> </span><span class="n">copy</span><span class="w"> </span><span class="n">elision</span>
<span class="p">}</span>

<span class="nb nb-Type">int</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">std</span><span class="p">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s2">"Hello World!</span><span class="se">\n</span><span class="s2">"</span><span class="p">;</span>
<span class="w">  </span><span class="n">C</span><span class="w"> </span><span class="n">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="p">();</span><span class="w"> </span><span class="o">//</span><span class="n">Copy</span><span class="w"> </span><span class="n">constructor</span><span class="w"> </span><span class="n">isn</span><span class="s1">'t called</span>
<span class="p">}</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<h3>Common forms of copy elision</h3>
<p>For a technical overview - skip to this answer.</p>
<p>For a less technical view &amp; introduction - skip to this answer.</p>
<p>(Named) Return value optimization is a common form of copy elision. It refers
to the situation where an object returned by value from a method has its copy
elided. The example set forth in the standard illustrates <strong>named return value
optimization</strong> , since the object is named.</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span><span class="w"> </span><span class="n">Thing</span><span class="w"> </span><span class="p">{</span>
<span class="n">public</span><span class="p">:</span>
<span class="w">  </span><span class="n">Thing</span><span class="p">();</span>
<span class="w">  </span><span class="o">~</span><span class="n">Thing</span><span class="p">();</span>
<span class="w">  </span><span class="n">Thing</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">Thing</span><span class="o">&amp;</span><span class="p">);</span>
<span class="p">};</span>
<span class="n">Thing</span><span class="w"> </span><span class="n">f</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">Thing</span><span class="w"> </span><span class="n">t</span><span class="p">;</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">t</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">Thing</span><span class="w"> </span><span class="n">t2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="p">();</span>
</pre></div>

<p>Regular <strong>return value optimization</strong> occurs when a temporary is returned:</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span><span class="w"> </span><span class="n">Thing</span><span class="w"> </span><span class="p">{</span>
<span class="n">public</span><span class="p">:</span>
<span class="w">  </span><span class="n">Thing</span><span class="p">();</span>
<span class="w">  </span><span class="o">~</span><span class="n">Thing</span><span class="p">();</span>
<span class="w">  </span><span class="n">Thing</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">Thing</span><span class="o">&amp;</span><span class="p">);</span>
<span class="p">};</span>
<span class="n">Thing</span><span class="w"> </span><span class="n">f</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">Thing</span><span class="p">();</span>
<span class="p">}</span>
<span class="n">Thing</span><span class="w"> </span><span class="n">t2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="p">();</span>
</pre></div>

<p>Other common places where copy elision takes place is when an object is
<strong>constructed from a temporary</strong> :</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span><span class="w"> </span><span class="n">Thing</span><span class="w"> </span><span class="p">{</span>
<span class="n">public</span><span class="p">:</span>
<span class="w">  </span><span class="n">Thing</span><span class="p">();</span>
<span class="w">  </span><span class="o">~</span><span class="n">Thing</span><span class="p">();</span>
<span class="w">  </span><span class="n">Thing</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">Thing</span><span class="o">&amp;</span><span class="p">);</span>
<span class="p">};</span>
<span class="nb nb-Type">void</span><span class="w"> </span><span class="n">foo</span><span class="p">(</span><span class="n">Thing</span><span class="w"> </span><span class="n">t</span><span class="p">);</span>

<span class="n">Thing</span><span class="w"> </span><span class="n">t2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Thing</span><span class="p">();</span>
<span class="n">Thing</span><span class="w"> </span><span class="n">t3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Thing</span><span class="p">(</span><span class="n">Thing</span><span class="p">());</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">rounds</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">elision</span>
<span class="n">foo</span><span class="p">(</span><span class="n">Thing</span><span class="p">());</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">parameter</span><span class="w"> </span><span class="n">constructed</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">temporary</span>
</pre></div>

<p>or when an <strong>exception is thrown and caught by value</strong> :</p>
<div class="code"><pre class="code literal-block"><span class="n">struct</span><span class="w"> </span><span class="n">Thing</span><span class="p">{</span>
<span class="w">  </span><span class="n">Thing</span><span class="p">();</span>
<span class="w">  </span><span class="n">Thing</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">Thing</span><span class="o">&amp;</span><span class="p">);</span>
<span class="p">};</span>

<span class="nb nb-Type">void</span><span class="w"> </span><span class="n">foo</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">Thing</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>
<span class="w">  </span><span class="n">throw</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>
<span class="p">}</span>

<span class="nb nb-Type">int</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">foo</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="n">catch</span><span class="p">(</span><span class="n">Thing</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span>
<span class="w">  </span><span class="p">}</span><span class="w">             </span>
<span class="p">}</span>
</pre></div>

<p>Common limitations of copy elision are:</p>
<ul>
<li>multiple return points</li>
<li>conditional initialization</li>
</ul>
<p>Most commercial-grade compilers support copy elision &amp; (N)RVO (depending on
optimization settings). C++17 makes many of the above classes of copy elision
mandatory.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/the-difference-between-sys-stdout-write-and-print/" class="u-url">The difference between sys.stdout.write and print?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/the-difference-between-sys-stdout-write-and-print/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T05:49:18+08:00" itemprop="datePublished" title="2023-03-03 05:49">2023-03-03 05:49</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Are there situations in which <code>sys.stdout.write()</code> is preferable to <code>print</code>?</p>
<p>( <strong>Examples:</strong> better performance; code that makes more sense)</p>
<p><br><br></p>
<h2>Answer</h2>
<p><code>print</code> is just a thin wrapper that formats the inputs (modifiable, but by
default with a space between args and newline at the end) and calls the write
function of a given object. By default this object is <code>sys.stdout</code>, but you
can pass a file using the "chevron" form. For example:</p>
<div class="code"><pre class="code literal-block">print &gt;&gt; open('file.txt', 'w'), 'Hello', 'World', 2+3
</pre></div>

<p>See:
https://docs.python.org/2/reference/simple_stmts.html?highlight=print#the-
print-statement</p>
<hr>
<p>In Python 3.x, <code>print</code> becomes a function, but it is still possible to pass
something other than <code>sys.stdout</code> thanks to the <code>file</code>argument.</p>
<div class="code"><pre class="code literal-block">print('Hello', 'World', 2+3, file=open('file.txt', 'w'))
</pre></div>

<p>See https://docs.python.org/3/library/functions.html#print</p>
<hr>
<p>In Python 2.6+, <code>print</code> is still a statement, but it can be used as a function
with</p>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">print_function</span>
</pre></div>

<hr>
<p>Update: Bakuriu commented to point out that there is a small difference
between the print function and the print statement (and more generally between
a function and a statement).</p>
<p>In case of an error when evaluating arguments:</p>
<div class="code"><pre class="code literal-block">print "something", 1/0, "other" #prints only something because 1/0 raise an Exception

print("something", 1/0, "other") #doesn't print anything. The function is not called
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p><code>print</code> first converts the object to a string (if it is not already a string).
It will also put a space before the object if it is not the start of a line
and a newline character at the end.</p>
<p>When using <code>stdout</code>, you need to convert the object to a string yourself (by
calling "str", for example) and there is no newline character.</p>
<p>So</p>
<div class="code"><pre class="code literal-block">print 99
</pre></div>

<p>is equivalent to:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="mi">99</span><span class="p">)</span> <span class="o">+</span> <span class="s1">'</span><span class="se">\n</span><span class="s1">'</span><span class="p">)</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1641.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1639.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

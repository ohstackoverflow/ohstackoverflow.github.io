<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 609) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-609.html">
<link rel="prev" href="index-610.html" type="text/html">
<link rel="next" href="index-608.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/css-force-image-resize-and-keep-aspect-ratio/" class="u-url">CSS force image resize and keep aspect ratio</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/css-force-image-resize-and-keep-aspect-ratio/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T11:15:35+08:00" itemprop="datePublished" title="2023-02-17 11:15">2023-02-17 11:15</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am working with images, and I ran into a problem with aspect ratios.</p>
<div class="code"><pre class="code literal-block">&lt;img src="big_image.jpg" width="900" height="600" alt="" /&gt;
</pre></div>

<p>As you can see, <code>height</code> and <code>width</code> are already specified. I added a CSS rule
for images:</p>
<div class="code"><pre class="code literal-block"><span class="nt">img</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">max-width</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>But for <code>big_image.jpg</code>, I receive <code>width=500</code> and <code>height=600</code>. How do I set
images to be re-sized, whilst keeping their aspect ratios.</p>
<p><br><br></p>
<h2>Answer</h2>
<div class="code"><pre class="code literal-block">img<span class="w"> </span>{
<span class="w">  </span>display:<span class="w"> </span>block;
<span class="w">  </span>max-width:230px;
<span class="w">  </span>max-height:95px;
<span class="w">  </span>width:<span class="w"> </span>auto;
<span class="w">  </span>height:<span class="w"> </span>auto;
}


<span class="nt">&lt;p&gt;</span>This<span class="w"> </span>image<span class="w"> </span>is<span class="w"> </span>originally<span class="w"> </span>400x400<span class="w"> </span>pixels,<span class="w"> </span>but<span class="w"> </span>should<span class="w"> </span>get<span class="w"> </span>resized<span class="w"> </span>by<span class="w"> </span>the<span class="w"> </span>CSS:<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;img</span><span class="w"> </span><span class="na">width=</span><span class="s">"400"</span><span class="w"> </span><span class="na">height=</span><span class="s">"400"</span><span class="w"> </span><span class="na">src=</span><span class="s">"http://i.stack.imgur.com/aEEkn.png"</span><span class="nt">&gt;</span>
</pre></div>

<p>This will make image shrink if it's too big for specified area (as downside,
it will not enlarge image).</p>
<p><br></p>
<h3>Suggest</h3>
<p>Here's a solution:</p>
<div class="code"><pre class="code literal-block"><span class="nt">object-fit</span><span class="o">:</span><span class="w"> </span><span class="nt">cover</span><span class="o">;</span>
<span class="nt">width</span><span class="o">:</span><span class="w"> </span><span class="nt">100</span><span class="o">%;</span>
<span class="nt">height</span><span class="o">:</span><span class="w"> </span><span class="nt">250px</span><span class="o">;</span>
</pre></div>

<p>You can adjust the width and height to fit your needs, and the object-fit
property will do the cropping for you.</p>
<p>More information about the possible values for the <code>object-fit</code> property and a
compatibility table are available here: https://developer.mozilla.org/en-
US/docs/Web/CSS/object-fit</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-list-all-remote-branches-in-git-1-7/" class="u-url">How do I list all remote branches in Git 1.7+?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-list-all-remote-branches-in-git-1-7/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T11:15:09+08:00" itemprop="datePublished" title="2023-02-17 11:15">2023-02-17 11:15</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I've tried <code>git branch -r</code>, but that only lists remote branches that I've
tracked locally. How do I find the list of those that I haven't? (It doesn't
matter to me whether the command lists <em>all</em> remote branches or only those
that are untracked.)</p>
<p><br><br></p>
<h2>Answer</h2>
<p><strong>For the vast majority [1] of visitors here, the correct and simplest answer
to the question "How do I list all remote branches in Git 1.7+?" is:</strong></p>
<div class="code"><pre class="code literal-block">git branch -r
</pre></div>

<p>For a small minority[1] <code>git branch -r</code> does not work. If <code>git branch -r</code> does
not work try:</p>
<div class="code"><pre class="code literal-block">git ls-remote --heads &lt;remote-name&gt;
</pre></div>

<p>If <code>git branch -r</code> does not work, then maybe as Cascabel says "you've modified
the default refspec, so that <code>git fetch</code> and <code>git remote update</code> don't fetch
all the <code>remote</code>'s branches".</p>
<hr>
<p>[1] As of the writing of this footnote 2018-Feb, I looked at the comments and
see that the <code>git branch -r</code> works for the vast majority (about 90% or 125 out
of 140).</p>
<p>If <code>git branch -r</code> does not work, check <code>git config --get remote.origin.fetch</code>
contains a wildcard (<code>*</code>) as per this answer</p>
<p><br></p>
<h3>Suggest</h3>
<p><code>remote show</code> shows all the branches on the remote, including those that are
not tracked locally and even those that have not yet been fetched.</p>
<div class="code"><pre class="code literal-block"><span class="nv">git</span><span class="w"> </span><span class="nv">remote</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="o">&lt;</span><span class="nv">remote</span><span class="o">-</span><span class="nv">name</span><span class="o">&gt;</span>
</pre></div>

<p>It also tries to show the status of the branches relative to your local
repository:</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;</span><span class="w"> </span><span class="nv">git</span><span class="w"> </span><span class="nv">remote</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="nv">origin</span>
<span class="o">*</span><span class="w"> </span><span class="nv">remote</span><span class="w"> </span><span class="nv">origin</span>
<span class="w">  </span><span class="nv">Fetch</span><span class="w"> </span><span class="nv">URL</span>:<span class="w"> </span><span class="nv">C</span>:<span class="o">/</span><span class="nv">git</span><span class="o">/</span>.\<span class="nv">remote_repo</span>.<span class="nv">git</span>
<span class="w">  </span><span class="nv">Push</span><span class="w">  </span><span class="nv">URL</span>:<span class="w"> </span><span class="nv">C</span>:<span class="o">/</span><span class="nv">git</span><span class="o">/</span>.\<span class="nv">remote_repo</span>.<span class="nv">git</span>
<span class="w">  </span><span class="nv">HEAD</span><span class="w"> </span><span class="nv">branch</span>:<span class="w"> </span><span class="nv">master</span>
<span class="w">  </span><span class="nv">Remote</span><span class="w"> </span><span class="nv">branches</span>:
<span class="w">    </span><span class="nv">branch_that_is_not_even_fetched</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="ss">(</span><span class="k">next</span><span class="w"> </span><span class="nv">fetch</span><span class="w"> </span><span class="nv">will</span><span class="w"> </span><span class="nv">store</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">remotes</span><span class="o">/</span><span class="nv">origin</span><span class="ss">)</span>
<span class="w">    </span><span class="nv">branch_that_is_not_tracked</span><span class="w">      </span><span class="nv">tracked</span>
<span class="w">    </span><span class="nv">branch_that_is_tracked</span><span class="w">          </span><span class="nv">tracked</span>
<span class="w">    </span><span class="nv">master</span><span class="w">                          </span><span class="nv">tracked</span>
<span class="w">  </span><span class="nv">Local</span><span class="w"> </span><span class="nv">branches</span><span class="w"> </span><span class="nv">configured</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s1">'git pull'</span>:
<span class="w">    </span><span class="nv">branch_that_is_tracked</span><span class="w"> </span><span class="nv">merges</span><span class="w"> </span><span class="nv">with</span><span class="w"> </span><span class="nv">remote</span><span class="w"> </span><span class="nv">branch_that_is_tracked</span>
<span class="w">    </span><span class="nv">master</span><span class="w">                 </span><span class="nv">merges</span><span class="w"> </span><span class="nv">with</span><span class="w"> </span><span class="nv">remote</span><span class="w"> </span><span class="nv">master</span>
<span class="w">  </span><span class="nv">Local</span><span class="w"> </span><span class="nv">refs</span><span class="w"> </span><span class="nv">configured</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s1">'git push'</span>:
<span class="w">    </span><span class="nv">branch_that_is_tracked</span><span class="w"> </span><span class="nv">pushes</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">branch_that_is_tracked</span><span class="w"> </span><span class="ss">(</span><span class="nv">fast</span><span class="o">-</span><span class="nv">forwardable</span><span class="ss">)</span>
<span class="w">    </span><span class="nv">master</span><span class="w">                 </span><span class="nv">pushes</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">master</span><span class="w">                 </span><span class="ss">(</span><span class="nv">up</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">date</span><span class="ss">)</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/make-the-current-commit-the-only-initial-commit-in-a-git-repository/" class="u-url">Make the current commit the only (initial) commit in a Git repository?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/make-the-current-commit-the-only-initial-commit-in-a-git-repository/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T11:14:42+08:00" itemprop="datePublished" title="2023-02-17 11:14">2023-02-17 11:14</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I currently have a local Git repository, which I push to a Github repository.</p>
<p>The local repository has ~10 commits, and the Github repository is a
synchronised duplicate of this.</p>
<p>What I'd like to do is remove ALL the version history from the local Git
repository, so the current contents of the repository appear as the only
commit (and therefore older versions of files within the repository are not
stored).</p>
<p>I'd then like to push these changes to Github.</p>
<p>I have investigated Git rebase, but this appears to be more suited to removing
specific versions. Another potential solution is to delete the local repo, and
create a new one - though this would probably create a lot of work!</p>
<p>ETA: There are specific directories / files that are untracked - if possible I
would like to maintain the untracking of these files.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Here's the brute-force approach. It also removes the configuration of the
repository.</p>
<p><strong>Note</strong> : This does NOT work if the repository has submodules! If you are
using submodules, you should use e.g. interactive rebase</p>
<p>Step 1: remove all history ( <strong>Make sure you have a backup, this cannot be
reverted</strong> )</p>
<div class="code"><pre class="code literal-block">cat .git/config  # save your &lt;github-uri&gt; somewhere
rm -rf .git
</pre></div>

<p>Step 2: reconstruct the Git repo with only the current content</p>
<p>Before step 2 if you have not set up <code>init.defaultBranch</code> configuration then,
please do it via <code>git config --global init.defaultBranch &lt;branch-name&gt;</code> you
may choose <code>main</code> as <code>&lt;branch-name&gt;</code> in the current example</p>
<div class="code"><pre class="code literal-block">git init
git add .
git commit -m "Initial commit"
</pre></div>

<p>Step 3: push to GitHub.</p>
<div class="code"><pre class="code literal-block">git remote add origin &lt;github-uri&gt;
git push -u --force origin main
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>The only solution that works for me (and keeps submodules working) is</p>
<div class="code"><pre class="code literal-block">git checkout --orphan newBranch
git add -A  # Add all files and commit them
git commit
git branch -D master  # Deletes the master branch
git branch -m master  # Rename the current branch to master
git push -f origin master  # Force push master branch to github
git gc --aggressive --prune=all     # remove the old files
</pre></div>

<p>Deleting <code>.git/</code> always causes huge issues when I have submodules. Using <code>git
rebase --root</code> would somehow cause conflicts for me (and take long since I had
a lot of history).</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-610.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-608.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

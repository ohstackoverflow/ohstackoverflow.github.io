<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1215) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1215.html">
<link rel="prev" href="index-1216.html" type="text/html">
<link rel="next" href="index-1214.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/can-git-pull-all-update-all-my-local-branches/" class="u-url">Can "git pull --all" update all my local branches?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/can-git-pull-all-update-all-my-local-branches/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T04:01:32+08:00" itemprop="datePublished" title="2023-02-18 04:01">2023-02-18 04:01</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I often have at least 3 remote branches: master, staging and production. I
have 3 local branches that track those remote branches.</p>
<p>Updating all my local branches is tedious:</p>
<div class="code"><pre class="code literal-block">git fetch --all
git rebase origin/master
git checkout staging
git rebase origin/staging
git checkout production
git rebase origin/production
</pre></div>

<p>I'd love to be able to just do a "git pull -all", but I haven't been able to
get it to work. It seems to do a "fetch --all", then updates (fast forward or
merges) the current working branch, but not the other local branches.</p>
<p>I'm still stuck manually switching to each local branch and updating.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The behavior you describe for <code>pull --all</code> is exactly as expected, though not
necessarily useful. The option is passed along to git fetch, which then
fetches all refs from all remotes, instead of just the needed one; <code>pull</code> then
merges (or in your case, rebases) the appropriate single branch.</p>
<p>If you want to check out other branches, you're going to have to check them
out. And yes, merging (and rebasing) <em>absolutely</em> require a work tree, so they
cannot be done without checking out the other branches. You could wrap up your
described steps into a script/alias if you like, though I'd suggest joining
the commands with <code>&amp;&amp;</code> so that should one of them fail, it won't try to plow
on.</p>
<p><br></p>
<h3>Suggest</h3>
<p>The behavior you describe for <code>pull --all</code> is exactly as expected, though not
necessarily useful. The option is passed along to git fetch, which then
fetches all refs from all remotes, instead of just the needed one; <code>pull</code> then
merges (or in your case, rebases) the appropriate single branch.</p>
<p>If you want to check out other branches, you're going to have to check them
out. And yes, merging (and rebasing) <em>absolutely</em> require a work tree, so they
cannot be done without checking out the other branches. You could wrap up your
described steps into a script/alias if you like, though I'd suggest joining
the commands with <code>&amp;&amp;</code> so that should one of them fail, it won't try to plow
on.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-override-nested-npm-dependency-versions/" class="u-url">How do I override nested NPM dependency versions?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-override-nested-npm-dependency-versions/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T04:01:04+08:00" itemprop="datePublished" title="2023-02-18 04:01">2023-02-18 04:01</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I would like to use the <code>grunt-contrib-jasmine</code> NPM package. It has various
dependencies. Part of the dependency graph looks like this:</p>
<div class="code"><pre class="code literal-block"><span class="err">─┬</span><span class="w"> </span><span class="n">grunt</span><span class="o">-</span><span class="n">contrib</span><span class="o">-</span><span class="n">jasmine</span><span class="mf">@0.4.1</span>
<span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="err">├─┬</span><span class="w"> </span><span class="n">grunt</span><span class="o">-</span><span class="n">lib</span><span class="o">-</span><span class="n">phantomjs</span><span class="mf">@0.2.0</span>
<span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="err">├─┬</span><span class="w"> </span><span class="n">phantomjs</span><span class="mf">@1.8.2</span><span class="mi">-2</span>
</pre></div>

<p>Unfortunately, there's a bug in this version <code>phantomjs</code> which prevents it
from installing correctly on Mac OS X. This is fixed in the latest version.</p>
<p><strong>How can I get<code>grunt-lib-phantomjs</code> to use a newer version of <code>phantomjs</code>?</strong></p>
<p>Some additional context:</p>
<ul>
<li>
<code>grunt-contrib-jasmine</code> explicitly requires version <code>"~0.2.0"</code> of <code>grunt-lib-phantomjs</code>, which explicitly requires version <code>"~1.8.1"</code> of <code>phantomjs</code>.</li>
<li>Adding <code>phantomjs</code> to my package's dependencies first has no effect; both versions are installed and <code>grunt-contrib-jasmine</code> still uses the older versions (see: When installing a package with NPM, can you tell it to use a different version of one of its dependencies?).</li>
</ul>
<p><br><br></p>
<h2>Answer</h2>
<p>As of NPM v8.3, the correct way to deal with this is via the <code>overrides</code>
section of your <code>package.json</code> file.</p>
<blockquote>
<p>If you need to make specific changes to dependencies of your dependencies,
for example replacing the version of a dependency with a known security
issue, replacing an existing dependency with a fork, or making sure that the
same version of a package is used everywhere, then you may add an override.</p>
<p>Overrides provide a way to replace a package in your dependency tree with
another version, or another package entirely. These changes can be scoped as
specific or as vague as desired.</p>
<p>To make sure the package foo is always installed as version 1.0.0 no matter
what version your dependencies rely on:</p>
<div class="code"><pre class="code literal-block">{
  "overrides": {
    "foo": "1.0.0"
  }
}
</pre></div>

</blockquote>
<p>There are a variety of other, more nuanced configurations allowing you to only
override a package when it's a dependency of a particular package hierarchy.
For more details, check out https://docs.npmjs.com/cli/v8/configuring-
npm/package-json#overrides</p>
<p><br></p>
<h3>Suggest</h3>
<p><strong>As of npm cli v8.3.0 (2021-12-09) this can be solved using the<code>overrides</code>
field of package.json</strong>. <em>As described in StriplingWarrior's answer</em></p>
<p>For example, the project has <code>typescript</code> version <code>4.6.2</code> as <em>direct</em>
development dependency and <code>awesome-typescript-loader</code> that uses old version
<code>2.7</code> of <code>typescript</code>. Here is how you can tell <code>npm</code> to use version <code>4.6.2</code>
of <code>typescript</code> for <code>awesome-typescript-loader</code>:</p>
<div class="code"><pre class="code literal-block"><span class="p">{</span>
<span class="w">  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"myproject"</span><span class="p">,</span>
<span class="w">  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0.0"</span><span class="p">,</span>
<span class="w">  </span><span class="s2">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="o">...</span>
<span class="w">  </span><span class="s2">"dependencies"</span><span class="p">:</span><span class="w"> </span><span class="o">...</span>
<span class="w">  </span><span class="s2">"devDependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s2">"typescript"</span><span class="p">:</span><span class="w"> </span><span class="s2">"~4.6.2"</span><span class="p">,</span>
<span class="w">    </span><span class="s2">"awesome-typescript-loader"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^5.2.1"</span><span class="p">,</span>
<span class="w">    </span><span class="o">...</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="s2">"overrides"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s2">"awesome-typescript-loader"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="s2">"typescript"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$typescript"</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>If you don't use <code>typescript</code> as <em>direct</em> development dependency, then you
have to write <code>4.6.2</code> instead of <code>$typescript</code> in <code>overrides</code> section:</p>
<div class="code"><pre class="code literal-block"><span class="p">{</span>
<span class="w">  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"myproject"</span><span class="p">,</span>
<span class="w">  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0.0"</span><span class="p">,</span>
<span class="w">  </span><span class="s2">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="o">...</span>
<span class="w">  </span><span class="s2">"dependencies"</span><span class="p">:</span><span class="w"> </span><span class="o">...</span>
<span class="w">  </span><span class="s2">"devDependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s2">"awesome-typescript-loader"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^5.2.1"</span><span class="p">,</span>
<span class="w">    </span><span class="o">...</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="s2">"overrides"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s2">"awesome-typescript-loader"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="s2">"typescript"</span><span class="p">:</span><span class="w"> </span><span class="s2">"~4.6.2"</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>For using the latest version of dependency:</p>
<div class="code"><pre class="code literal-block"><span class="p">{</span>
<span class="w">  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"myproject"</span><span class="p">,</span>
<span class="w">  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0.0"</span><span class="p">,</span>
<span class="w">  </span><span class="s2">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="o">...</span>
<span class="w">  </span><span class="s2">"dependencies"</span><span class="p">:</span><span class="w"> </span><span class="o">...</span>
<span class="w">  </span><span class="s2">"devDependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s2">"awesome-typescript-loader"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^5.2.1"</span><span class="p">,</span>
<span class="w">    </span><span class="o">...</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="s2">"overrides"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s2">"awesome-typescript-loader"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="s2">"typescript"</span><span class="p">:</span><span class="w"> </span><span class="s2">"latest"</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>Same <code>overrides</code> can be used for both <code>dependencies</code> and <code>devDependencies</code>.</p>
<hr>
<p>If you're using npm version &gt;5 but &lt;8.3.0: edit your <code>package-lock.json</code>:
remove the library from <code>"requires"</code> section and add it under "dependencies".</p>
<p>For example, you want <code>deglob</code> package to use <code>glob</code> package version <code>3.2.11</code>
instead of its current one. You open <code>package-lock.json</code> and see:</p>
<div class="code"><pre class="code literal-block"><span class="s">"deglob"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s">"version"</span><span class="o">:</span><span class="w"> </span><span class="s">"2.1.0"</span><span class="p">,</span>
<span class="w">  </span><span class="s">"resolved"</span><span class="o">:</span><span class="w"> </span><span class="s">"https://registry.npmjs.org/deglob/-/deglob-2.1.0.tgz"</span><span class="p">,</span>
<span class="w">  </span><span class="s">"integrity"</span><span class="o">:</span><span class="w"> </span><span class="s">"sha1-TUSr4W7zLHebSXK9FBqAMlApoUo="</span><span class="p">,</span>
<span class="w">  </span><span class="s">"requires"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s">"find-root"</span><span class="o">:</span><span class="w"> </span><span class="s">"1.1.0"</span><span class="p">,</span>
<span class="w">    </span><span class="s">"glob"</span><span class="o">:</span><span class="w"> </span><span class="s">"7.1.2"</span><span class="p">,</span>
<span class="w">    </span><span class="s">"ignore"</span><span class="o">:</span><span class="w"> </span><span class="s">"3.3.5"</span><span class="p">,</span>
<span class="w">    </span><span class="s">"pkg-config"</span><span class="o">:</span><span class="w"> </span><span class="s">"1.1.1"</span><span class="p">,</span>
<span class="w">    </span><span class="s">"run-parallel"</span><span class="o">:</span><span class="w"> </span><span class="s">"1.1.6"</span><span class="p">,</span>
<span class="w">    </span><span class="s">"uniq"</span><span class="o">:</span><span class="w"> </span><span class="s">"1.0.1"</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">},</span>
</pre></div>

<p>Remove <code>"glob": "7.1.2",</code> from <code>"requires"</code>, add <code>"dependencies"</code> with proper
version:</p>
<div class="code"><pre class="code literal-block"><span class="s">"deglob"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s">"version"</span><span class="o">:</span><span class="w"> </span><span class="s">"2.1.0"</span><span class="p">,</span>
<span class="w">  </span><span class="s">"resolved"</span><span class="o">:</span><span class="w"> </span><span class="s">"https://registry.npmjs.org/deglob/-/deglob-2.1.0.tgz"</span><span class="p">,</span>
<span class="w">  </span><span class="s">"integrity"</span><span class="o">:</span><span class="w"> </span><span class="s">"sha1-TUSr4W7zLHebSXK9FBqAMlApoUo="</span><span class="p">,</span>
<span class="w">  </span><span class="s">"requires"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s">"find-root"</span><span class="o">:</span><span class="w"> </span><span class="s">"1.1.0"</span><span class="p">,</span>
<span class="w">    </span><span class="s">"ignore"</span><span class="o">:</span><span class="w"> </span><span class="s">"3.3.5"</span><span class="p">,</span>
<span class="w">    </span><span class="s">"pkg-config"</span><span class="o">:</span><span class="w"> </span><span class="s">"1.1.1"</span><span class="p">,</span>
<span class="w">    </span><span class="s">"run-parallel"</span><span class="o">:</span><span class="w"> </span><span class="s">"1.1.6"</span><span class="p">,</span>
<span class="w">    </span><span class="s">"uniq"</span><span class="o">:</span><span class="w"> </span><span class="s">"1.0.1"</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="s">"dependencies"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s">"glob"</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="s">"version"</span><span class="o">:</span><span class="w"> </span><span class="s">"3.2.11"</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">},</span>
</pre></div>

<p>Now remove your <code>node_modules</code> folder, run <code>npm ci</code> (or <code>npm install</code> for old
version of node/npm) and it will add missing parts to the <code>"dependencies"</code>
section.</p>
<hr>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-json-and-what-is-it-used-for/" class="u-url">What is JSON and what is it used for?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-json-and-what-is-it-used-for/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T04:00:38+08:00" itemprop="datePublished" title="2023-02-18 04:00">2023-02-18 04:00</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I've looked on Wikipedia and Googled it and read the official documentation,
but I still haven't got to the point where I really understand what JSON is,
and why I'd use it.</p>
<p>I have been building applications using PHP, MySQL and JavaScript / HTML for a
while, and if JSON can do something to make my life easier or my code better
or my user interface better, then I'd like to know about it. Can someone give
me a succinct explanation?</p>
<p><br><br></p>
<h2>Answer</h2>
<p><strong>JSON (JavaScript Object Notation) is a lightweight format that is used for
data interchanging.</strong> It is based on a subset of JavaScript language (the way
objects are built in JavaScript). As stated in the MDN, some JavaScript is not
JSON, and some JSON is not JavaScript.</p>
<p>An example of where this is used is web services responses. In the 'old' days,
web services used XML as their primary data format for transmitting back data,
but since JSON appeared ( <em>The JSON format is specified in RFC 4627 by Douglas
Crockford</em> ), it has been the preferred format because it is much more
<strong>lightweight</strong></p>
<p>You can find a lot more info on the official JSON web site.</p>
<p>JSON is built on two structures:</p>
<ul>
<li>A collection of name/value pairs. In various languages, this is realized as an object, record, struct, dictionary, hash table, keyed list, or associative array.</li>
<li>An ordered list of values. In most languages, this is realized as an array, vector, list, or sequence.</li>
</ul>
<hr>
<h3>JSON Structure</h3>
<p><img alt="JSON Object diagram" src="images/VHjrV.gif"></p>
<p><img alt="JSON Array diagram" src="images/OCsS0.gif"></p>
<p><img alt="JSON Value diagram" src="images/7zOHB.gif"></p>
<p><img alt="JSON String diagram" src="images/pzAPZ.gif"></p>
<p><img alt="JSON Number diagram" src="images/EK6wD.gif"></p>
<p>Here is an example of JSON data:</p>
<div class="code"><pre class="code literal-block">{
     "firstName": "John",
     "lastName": "Smith",
     "address": {
         "streetAddress": "21 2nd Street",
         "city": "New York",
         "state": "NY",
         "postalCode": 10021
     },
     "phoneNumbers": [
         "212 555-1234",
         "646 555-4567"
     ]
 }
</pre></div>

<hr>
<h2>JSON in JavaScript</h2>
<p><strong>JSON (in Javascript) is a string!</strong></p>
<p>People often assume all Javascript objects are JSON and that JSON is a
Javascript object. This is incorrect.</p>
<p>In Javascript <code>var x = {x:y}</code> is <strong>not JSON</strong> , this is a <strong>Javascript
object</strong>. The two are not the same thing. The JSON equivalent (represented in
the Javascript language) would be <code>var x = '{"x":"y"}'</code>. <code>x</code> is an object of
type <strong>string</strong> not an object in its own right. To turn this into a fully
fledged Javascript object you must first parse it, <code>var x =
JSON.parse('{"x":"y"}');</code>, <code>x</code> is now an object but this is not JSON anymore.</p>
<p>See Javascript object Vs JSON</p>
<hr>
<p>When working with JSON and JavaScript, you may be tempted to use the <code>eval</code>
function to evaluate the result returned in the callback, but this is not
suggested since there are two characters (U+2028 &amp; U+2029) valid in JSON but
not in JavaScript (read more of this here).</p>
<p>Therefore, one must always try to use Crockford's script that checks for a
valid JSON before evaluating it. Link to the script explanation is found here
and here is a direct link to the js file. Every major browser nowadays has its
own implementation for this.</p>
<p>Example on how to use the JSON parser (with the json from the above code
snippet):</p>
<div class="code"><pre class="code literal-block"><span class="o">//</span><span class="n">The</span><span class="w"> </span><span class="n">callback</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">executed</span><span class="w"> </span><span class="n">once</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span>
<span class="k">var</span><span class="w"> </span><span class="n">callback</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">johnny</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JSON</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="w">    </span><span class="o">//</span><span class="n">Now</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="s1">'johnny'</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">object</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">contains</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">properties</span><span class="w"> </span>
<span class="w">    </span><span class="o">//</span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">above</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="n">snippet</span><span class="w"> </span><span class="p">(</span><span class="n">the</span><span class="w"> </span><span class="n">json</span><span class="w"> </span><span class="n">example</span><span class="p">)</span>
<span class="w">    </span><span class="n">alert</span><span class="p">(</span><span class="n">johnny</span><span class="o">.</span><span class="n">firstName</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">' '</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">johnny</span><span class="o">.</span><span class="n">lastName</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="n">Will</span><span class="w"> </span><span class="n">alert</span><span class="w"> </span><span class="s1">'John Smith'</span>
<span class="p">};</span>
</pre></div>

<p>The JSON parser also offers another very useful method, <code>stringify</code>. This
method accepts a JavaScript object as a parameter, and outputs back a string
with JSON format. This is useful for when you want to <em>send data back to the
server:</em></p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">anObject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s2">"Andreas"</span><span class="p">,</span><span class="w"> </span><span class="n">surname</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Grech"</span><span class="p">,</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">};</span>
<span class="k">var</span><span class="w"> </span><span class="n">jsonFormat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JSON</span><span class="o">.</span><span class="n">stringify</span><span class="p">(</span><span class="n">anObject</span><span class="p">);</span>
<span class="o">//</span><span class="n">The</span><span class="w"> </span><span class="n">above</span><span class="w"> </span><span class="n">method</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">output</span><span class="w"> </span><span class="n">this</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Andreas"</span><span class="p">,</span><span class="s2">"surname"</span><span class="p">:</span><span class="s2">"Grech"</span><span class="p">,</span><span class="s2">"age"</span><span class="p">:</span><span class="mi">20</span><span class="p">}</span>
</pre></div>

<p>The above two methods (<code>parse</code> and <code>stringify</code>) also take a second parameter,
which is a function that will be called for every key and value at every level
of the final result, and each value will be replaced by result of your
inputted function. (More on this here)</p>
<p>Btw, for all of you out there who think JSON is just for JavaScript, check out
this post that explains and confirms otherwise.</p>
<hr>
<h3>References</h3>
<ul>
<li>JSON.org</li>
<li>Wikipedia</li>
<li>Json in 3 minutes (Thanks mson)</li>
<li>Using JSON with Yahoo! Web Services (Thanks gljivar)</li>
<li>JSON to CSV Converter</li>
<li>Alternative JSON to CSV Converter</li>
<li>JSON Lint (JSON validator)</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<h3>The Concept Explained - No Code or Technical Jargon</h3>
<p><strong>What is JSON? – How I explained it to my wife TM</strong></p>
<p><strong>Me:</strong> “It’s basically a way of communicating with someone in writing....but
with very specific rules.</p>
<p><strong>Wife:</strong> yeah....?</p>
<p><strong>Me:</strong> In prosaic English, the rules are pretty loose: just like with cage
fighting. Not so with JSON. There are many ways of describing something:</p>
<p>• Example 1: Our family has 4 people: You, me and 2 kids.</p>
<p>• Example 2: Our family: you, me, kid1 and kid2.</p>
<p>• Example 3: Family: [ you, me, kid1, kid2]</p>
<p>• Example 4: we got 4 people in our family: mum, dad, kid1 and kid2.</p>
<p><strong>Wife:</strong> Why don’t they just use plain English instead?</p>
<p><strong>Me:</strong> They would, but remember we’re dealing with computers. A computer is
stupid and is not going to be able to understand sentences. So we gotta be
really specific when computers are involved otherwise they get confused.
Furthermore, JSON is a fairly efficient way of communicating, so most of the
irrelevant stuff is cut out, which is pretty hand. If you wanted to
communicate our family, to a computer, one way you could do so is like this:</p>
<div class="code"><pre class="code literal-block">{
    "Family": ["Me", "Wife", "Kid1", "Kid2"] 
}
</pre></div>

<p>……and that is basically JSON. But remember, you MUST obey the JSON grammar
rules. If you break those rules, then a computer simply will not understand
(i.e. parse) what you are writing.</p>
<p><strong>Wife:</strong> So how do I write in Json?</p>
<p>A good way would be to use a json serialiser - which is a library which does
the heavy lifting for you.</p>
<p><strong>Summary</strong></p>
<blockquote>
<p><strong>JSON is basically a way of communicating data to someone, with very, very
specific rules. Using Key Value Pairs and Arrays.</strong> This is the concept
explained, at this point it is worth reading the specific rules above.</p>
</blockquote>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1216.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1214.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

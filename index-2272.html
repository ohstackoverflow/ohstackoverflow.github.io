<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2272) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2272.html">
<link rel="prev" href="index-2273.html" type="text/html">
<link rel="next" href="index-2271.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-export-settings/" class="u-url">How can I export settings?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-export-settings/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T03:52:23+08:00" itemprop="datePublished" title="2023-03-04 03:52">2023-03-04 03:52</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How is it possible to export all Visual Studio Code settings and plugins and
import them to another machine?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>There is an extension for Visual Studio Code, called <em>Settings Sync</em>.</p>
<p>It synchronises your settings by gist (Gist by GitHub). It works the same as
the Atom.io extension called <em>settings-sync</em>.</p>
<p><strong>UPDATE:</strong></p>
<p>This feature is now build in VS Code, it is worth to switch to official
feature. (https://stackoverflow.com/a/64035356/2029818)</p>
<blockquote>
<p>You can now sync all your settings across devices with VSCode's built-in
Settings Sync. It's found under Code &gt; Preferences &gt; Turn on Settings
Sync...</p>
</blockquote>
<p><br></p>
<h3>Suggest</h3>
<p>There is an extension for Visual Studio Code, called <em>Settings Sync</em>.</p>
<p>It synchronises your settings by gist (Gist by GitHub). It works the same as
the Atom.io extension called <em>settings-sync</em>.</p>
<p><strong>UPDATE:</strong></p>
<p>This feature is now build in VS Code, it is worth to switch to official
feature. (https://stackoverflow.com/a/64035356/2029818)</p>
<blockquote>
<p>You can now sync all your settings across devices with VSCode's built-in
Settings Sync. It's found under Code &gt; Preferences &gt; Turn on Settings
Sync...</p>
</blockquote>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-find-a-stored-procedure-containing-text/" class="u-url">How do I find a stored procedure containing &lt;text&gt;?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-find-a-stored-procedure-containing-text/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T03:50:59+08:00" itemprop="datePublished" title="2023-03-04 03:50">2023-03-04 03:50</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I need to search a SQL server 2008 for stored procedures containing where
maybe the name of a database field or variable name.</p>
<p><br><br></p>
<h2>Answer</h2>
<div class="code"><pre class="code literal-block"><span class="n">SELECT</span> <span class="n">ROUTINE_NAME</span><span class="p">,</span> <span class="n">ROUTINE_DEFINITION</span>
    <span class="n">FROM</span> <span class="n">INFORMATION_SCHEMA</span><span class="p">.</span><span class="n">ROUTINES</span> 
    <span class="n">WHERE</span> <span class="n">ROUTINE_DEFINITION</span> <span class="n">LIKE</span> <span class="s">'%Foo%'</span> 
    <span class="n">AND</span> <span class="n">ROUTINE_TYPE</span><span class="o">=</span><span class="s">'PROCEDURE'</span>
</pre></div>

<hr>
<div class="code"><pre class="code literal-block"><span class="k">SELECT</span><span class="w"> </span><span class="nf">OBJECT_NAME</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="n">SYSCOMMENTS</span><span class="w"> </span>
<span class="w">    </span><span class="k">WHERE</span><span class="w"> </span><span class="o">[</span><span class="n">text</span><span class="o">]</span><span class="w"> </span><span class="ow">LIKE</span><span class="w"> </span><span class="s1">'%Foo%'</span><span class="w"> </span>
<span class="w">    </span><span class="ow">AND</span><span class="w"> </span><span class="nf">OBJECTPROPERTY</span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="s1">'IsProcedure'</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span>
<span class="w">    </span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="nf">OBJECT_NAME</span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
</pre></div>

<hr>
<div class="code"><pre class="code literal-block">SELECT OBJECT_NAME(object_id)
    FROM sys.sql_modules
    WHERE OBJECTPROPERTY(object_id, 'IsProcedure') = 1
    AND definition LIKE '%Foo%'
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Grab yourself a copy of the <strong>free</strong> Red-Gate SQL Search tool and start
enjoying searching in SQL Server! :-)</p>
<p><img alt="enter image description here" src="images/qCjKb.png"></p>
<p>It's a great and very useful tool, and <strong>YES!</strong> it's totally, absolutely FREE
for any kind of use.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/determine-if-string-is-in-list-in-javascript/" class="u-url">Determine if string is in list in JavaScript</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/determine-if-string-is-in-list-in-javascript/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T03:49:31+08:00" itemprop="datePublished" title="2023-03-04 03:49">2023-03-04 03:49</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>In SQL we can see if a string is in a list like so:</p>
<div class="code"><pre class="code literal-block">Column IN ('a', 'b', 'c')
</pre></div>

<p>What's a good way to do this in JavaScript? It's so clunky to do this:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">expression1</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nv">expression2</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nv">str</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">'a'</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nv">str</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">'b'</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nv">str</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">'c'</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">   </span><span class="o">//</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="nv">something</span>
}
</pre></div>

<p>And I'm not sure about the performance or clarity of this:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">expression1</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">expression2</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="err">{</span><span class="nl">a</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nl">b</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nl">c</span><span class="p">:</span><span class="mi">1</span><span class="err">}</span><span class="o">[</span><span class="n">str</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">   </span><span class="o">//</span><span class="w"> </span><span class="n">do</span><span class="w"> </span><span class="n">something</span>
<span class="err">}</span>
</pre></div>

<p>Or one could use the switch function:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="nb">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'a'</span><span class="p">,</span>
<span class="w">   </span><span class="n">flag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">false</span><span class="p">;</span>

<span class="n">switch</span><span class="w"> </span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="n">case</span><span class="w"> </span><span class="s1">'a'</span><span class="p">:</span>
<span class="w">   </span><span class="n">case</span><span class="w"> </span><span class="s1">'b'</span><span class="p">:</span>
<span class="w">   </span><span class="n">case</span><span class="w"> </span><span class="s1">'c'</span><span class="p">:</span>
<span class="w">      </span><span class="n">flag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">true</span><span class="p">;</span>
<span class="w">   </span><span class="n">default</span><span class="p">:</span>
<span class="p">}</span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">expression1</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">expression2</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">flag</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="o">//</span><span class="w"> </span><span class="n">do</span><span class="w"> </span><span class="n">something</span>
<span class="p">}</span>
</pre></div>

<p>But that is a horrible mess. Any ideas?</p>
<p>In this case, I have to use Internet Explorer 7 as it's for a corporate
intranet page. So <code>['a', 'b', 'c'].indexOf(str) !== -1</code> won't work natively
without some syntax sugar.</p>
<p><br><br></p>
<h2>Answer</h2>
<h3>ES6 (ES2015) and up</h3>
<p>If you're using ECMAScript 6 (a.k.a. ES2015) or higher, the cleanest way is to
construct an array of the items and use <code>Array.includes</code>:</p>
<div class="code"><pre class="code literal-block">['a', 'b', 'c'].includes('b')
</pre></div>

<p>This has some inherent benefits over <code>indexOf</code> because it can properly test
for the presence of <code>NaN</code> in the list, and can match missing array elements
such as the middle one in <code>[1, , 2]</code> to <code>undefined</code>. It also treats <code>+0</code> and
<code>-0</code> as equal. <code>includes</code> also works on JavaScript typed arrays such as
<code>Uint8Array</code>.</p>
<p>If you're concerned about browser support (such as for IE or Edge), you can
check <code>Array.includes</code> at CanIUse.Com, and if you want to target a browser or
browser version that's missing <code>includes</code>, you'll need to transpile to a lower
ECMAScript version using a tool such as Babel, or include a polyfill script in
the browser, such as those available at polyfill.io.</p>
<h3>Higher Performance</h3>
<p>Note that there is no guarantee that <code>Array.includes()</code> execution time won't
scale with the number of elements in the array: it can have performance O(n).
If you need higher performance, and won't be constructing the set of items
repeatedly (but will be repeatedly checking if the items contain some
element), you should use a <code>Set</code> because the ES spec requires implementations
of <code>Set</code> (and <code>Map</code> as well) to be sub-linear for reads:</p>
<blockquote>
<p>The specification requires sets to be implemented "that, on average, provide
access times that are sublinear on the number of elements in the
collection". Therefore, it could be represented internally as a hash table
(with O(1) lookup), a search tree (with O(log(N)) lookup), or any other data
structure, as long as the complexity is better than O(N).</p>
</blockquote>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="n">interestingItems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Set</span><span class="p">([</span><span class="s1">'a'</span><span class="p">,</span><span class="w"> </span><span class="s1">'b'</span><span class="p">,</span><span class="w"> </span><span class="s1">'c'</span><span class="p">])</span>
<span class="k">const</span><span class="w"> </span><span class="n">isItemInSet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">interestingItems</span><span class="o">.</span><span class="n">has</span><span class="p">(</span><span class="s1">'b'</span><span class="p">)</span>
</pre></div>

<p>Note that you can pass in any iterable item to the <code>Set</code> constructor (anything
that supports for...of). You can also convert a <code>Set</code> to an array using
<code>Array.from(set)</code> or by spreading it <code>[...set]</code>.</p>
<h3>Without An Array</h3>
<p>This is not really recommended, but you could add a new <code>isInList</code> property to
strings as follows:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="err">!</span><span class="n">String</span><span class="p">.</span><span class="n">prototype</span><span class="p">.</span><span class="n">isInList</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">  </span><span class="k">Object</span><span class="p">.</span><span class="n">defineProperty</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="n">prototype</span><span class="p">,</span><span class="w"> </span><span class="s1">'isInList'</span><span class="p">,</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="k">get</span><span class="err">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="k">function</span><span class="p">(...</span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">      </span><span class="n">let</span><span class="w"> </span><span class="k">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">this</span><span class="p">.</span><span class="n">valueOf</span><span class="p">();</span>
<span class="w">      </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">let</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">args</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">l</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">arguments</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="k">value</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="k">true</span><span class="p">;</span>
<span class="w">      </span><span class="err">}</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="k">false</span><span class="p">;</span>
<span class="w">    </span><span class="err">}</span>
<span class="w">  </span><span class="err">}</span><span class="p">);</span>
<span class="err">}</span>
</pre></div>

<p>Then use it like so:</p>
<div class="code"><pre class="code literal-block">'fox'.isInList('weasel', 'fox', 'stoat') // true
'fox'.isInList('weasel', 'stoat') // false
</pre></div>

<p>You can do the same thing for <code>Number.prototype</code>.</p>
<p>Note that <code>Object.defineProperty</code> cannot be used in IE8 and earlier, or very
old versions of other browsers. However, it is a far superior solution to
<code>String.prototype.isInList = function() { ... }</code> because using simple
assignment like that will create an enumerable property on <code>String.prototype</code>,
which is more likely to break code.</p>
<h3>Array.indexOf</h3>
<p>If you are using a modern browser, <code>indexOf</code> always works. However, for IE8
and earlier you'll need a polyfill.</p>
<p>If <code>indexOf</code> returns -1, the item is not in the list. Be mindful though, that
this method will not properly check for <code>NaN</code>, and while it can match an
explicit <code>undefined</code>, it can’t match a missing element to <code>undefined</code> as in
the array <code>[1, , 2]</code>.</p>
<h3>Polyfill for <code>indexOf</code> or <code>includes</code> in IE, or any other browser/version</h3>
<p>lacking support</p>
<p>If you don't want to use a service like polyfill.io as mentioned above, you
can always include in your own source code standards-compliant custom
polyfills. For example, the CoreJs library has an implementation of <code>indexOf</code>.</p>
<p>In this situation where I had to make a solution for Internet Explorer 7, I
"rolled my own" simpler version of the <code>indexOf()</code> function that is not
standards-compliant:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="err">!</span><span class="k">Array</span><span class="p">.</span><span class="n">prototype</span><span class="p">.</span><span class="n">indexOf</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">   </span><span class="k">Array</span><span class="p">.</span><span class="n">prototype</span><span class="p">.</span><span class="n">indexOf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">item</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">      </span><span class="nf">var</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">this</span><span class="p">.</span><span class="n">length</span><span class="p">;</span>
<span class="w">      </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="o">--</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">         </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">this</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="n">item</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<span class="w">      </span><span class="err">}</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="w">   </span><span class="err">}</span>
<span class="err">}</span>
</pre></div>

<h3>Notes On Modifying Object Prototypes</h3>
<p>However, I don't think modifying <code>String.prototype</code> or <code>Array.prototype</code> is a
good strategy long term. Modifying object prototypes in JavaScript can lead to
serious bugs. You need to decide whether doing so is safe in your own
environment. Of primary note is that iterating an array (when Array.prototype
has added properties) with <code>for ... in</code> will return the new function name as
one of the keys:</p>
<div class="code"><pre class="code literal-block"><span class="nv">Array</span>.<span class="nv">prototype</span>.<span class="nv">blah</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">function</span><span class="ss">()</span><span class="w"> </span>{<span class="w"> </span><span class="nv">console</span>.<span class="nv">log</span><span class="ss">(</span><span class="s1">'blah'</span><span class="ss">)</span><span class="c1">; };</span>
<span class="nv">let</span><span class="w"> </span><span class="nv">arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="mi">1</span>,<span class="w"> </span><span class="mi">2</span>,<span class="w"> </span><span class="mi">3</span>]<span class="c1">;</span>
<span class="k">for</span><span class="w"> </span><span class="ss">(</span><span class="nv">let</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">arr</span><span class="ss">)</span><span class="w"> </span>{<span class="w"> </span><span class="nv">console</span>.<span class="nv">log</span><span class="ss">(</span><span class="nv">x</span><span class="ss">)</span><span class="c1">; }</span>
<span class="o">//</span><span class="w"> </span><span class="nb">Result</span>:
<span class="mi">0</span>
<span class="mi">1</span>
<span class="mi">2</span>
<span class="nv">blah</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="nv">Extra</span><span class="w"> </span><span class="nv">member</span><span class="w"> </span><span class="nv">iterated</span><span class="w"> </span><span class="nv">over</span><span class="o">!</span>
</pre></div>

<p>Your code may work now, but the moment someone in the future adds a third-
party JavaScript library or plugin that isn't zealously guarding against
inherited keys, everything can break.</p>
<p>The old way to avoid that breakage is, during enumeration, to check each value
to see if the object actually has it as a non-inherited property with <code>if
(arr.hasOwnProperty(x))</code> and <em>only then</em> work with that <code>x</code>.</p>
<p>The new ES6 ways to avoid this extra-key problem are:</p>
<ol>
<li>
<p>Use <code>of</code> instead of <code>in</code>, <code>for (let x of arr)</code>. However, depending on the output target and the exact settings/capabilities of your down-leveling transpiler, this may not be reliable. Plus, unless you can guarantee that all of your code and third-party libraries strictly stick to this method, then for the purposes of this question you'll probably just want to use <code>includes</code> as stated above.</p>
</li>
<li>
<p>Define your new properties on the prototype using <code>Object.defineProperty()</code>, as this will make the property (by default) non-enumerable. This only truly solves the problem if all the JavaScript libraries or modules you use also do this.</p>
</li>
</ol>
<h3>Be Aware of One Last Issue</h3>
<p>Last, be aware that while polyfills make sense, and modifying object
prototypes is a useful strategy, there can occasionally still be scoping
problems with that approach.</p>
<p>In a browser, each distinct <code>document</code> object is its own new global scope, and
in browser JS it is possible to create new documents (such as those used for
off-screen rendering or to create document fragments) or to get a reference to
another page's <code>document</code> object (such as via inter-page communication using a
named-target link) so it's possible in certain (rare?) circumstances that
object prototypes won't have the methods you expect them to have—though you
could always run your polyfills again against the new global objects...</p>
<p>In Node.js, modifying prototypes of <code>global</code> objects may be safe, but
modifying the prototypes of non-global, imported objects could lead to
breakage if you ever end up with two versions of the same package being
required/imported, because imports of the two versions will not expose the
same objects, thus won't have the same object prototypes. That is, your code
could work fine until a dependency or sub-dependency uses a different version
from the one you expect, and without any of your own code changing, a simple
<code>npm install</code> or <code>yarn install</code> could trigger this problem. (There are options
to deal with this, such as yarn's <code>resolutions</code> property in the
<code>package.json</code>, but that's not a good thing to rely on if you have other
options.)</p>
<p><br></p>
<h3>Suggest</h3>
<p>You can call <code>indexOf</code>:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span>[<span class="s1">'a'</span>,<span class="w"> </span><span class="s1">'b'</span>,<span class="w"> </span><span class="s1">'c'</span>].<span class="nv">indexOf</span><span class="ss">(</span><span class="nv">str</span><span class="ss">)</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="o">//</span><span class="k">do</span><span class="w"> </span><span class="nv">something</span>
}
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2273.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2271.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

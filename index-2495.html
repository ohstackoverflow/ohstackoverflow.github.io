<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2495) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2495.html">
<link rel="prev" href="index-2496.html" type="text/html">
<link rel="next" href="index-2494.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/pythonic-way-to-combine-for-loop-and-if-statement/" class="u-url">Pythonic way to combine for-loop and if-statement</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/pythonic-way-to-combine-for-loop-and-if-statement/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T20:25:16+08:00" itemprop="datePublished" title="2023-03-04 20:25">2023-03-04 20:25</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I know how to use both for loops and if statements on separate lines, such as:</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="mi">2</span>,<span class="mi">3</span>,<span class="mi">4</span>,<span class="mi">5</span>,<span class="mi">6</span>,<span class="mi">7</span>,<span class="mi">8</span>,<span class="mi">9</span>,<span class="mi">0</span>]
...<span class="w"> </span><span class="nv">xyz</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="mi">0</span>,<span class="mi">12</span>,<span class="mi">4</span>,<span class="mi">6</span>,<span class="mi">242</span>,<span class="mi">7</span>,<span class="mi">9</span>]
...<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">xyz</span>:
...<span class="w">     </span><span class="k">if</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">a</span>:
...<span class="w">         </span><span class="nv">print</span><span class="ss">(</span><span class="nv">x</span><span class="ss">)</span>
<span class="mi">0</span>,<span class="mi">4</span>,<span class="mi">6</span>,<span class="mi">7</span>,<span class="mi">9</span>
</pre></div>

<p>And I know I can use a list comprehension to combine these when the statements
are simple, such as:</p>
<div class="code"><pre class="code literal-block"><span class="nv">print</span><span class="ss">(</span>[<span class="nv">x</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">xyz</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">a</span>]<span class="ss">)</span>
</pre></div>

<p>But what I can't find is a good example anywhere (to copy and learn from)
demonstrating a complex set of commands (not just "print x") that occur
following a combination of a for loop and some if statements. Something that I
would expect looks like:</p>
<div class="code"><pre class="code literal-block"><span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">xyz</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">not</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">a</span>:
<span class="w">    </span><span class="nv">print</span><span class="ss">(</span><span class="nv">x</span>...<span class="ss">)</span>
</pre></div>

<p>Is this just not the way python is supposed to work?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can use generator expressions like this:</p>
<div class="code"><pre class="code literal-block"><span class="nv">gen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">(</span><span class="nv">x</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">xyz</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">not</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">a</span><span class="ss">)</span>

<span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">gen</span>:
<span class="w">    </span><span class="nv">print</span><span class="ss">(</span><span class="nv">x</span><span class="ss">)</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>As per The Zen of Python (if you are wondering whether your code is
"Pythonic", that's the place to go):</p>
<ul>
<li>Beautiful is better than ugly.</li>
<li>Explicit is better than implicit.</li>
<li>Simple is better than complex.</li>
<li>Flat is better than nested.</li>
<li>Readability counts.</li>
</ul>
<p>The Pythonic way of getting the <code>sorted</code> <code>intersection</code> of two <code>set</code>s is:</p>
<div class="code"><pre class="code literal-block">&gt;&gt;&gt; sorted(set(a).intersection(xyz))
[0, 4, 6, 7, 9]
</pre></div>

<p>Or those elements that are <code>xyz</code> but not in <code>a</code>:</p>
<div class="code"><pre class="code literal-block">&gt;&gt;&gt; sorted(set(xyz).difference(a))
[12, 242]
</pre></div>

<p>But for a more complicated loop you may want to flatten it by iterating over a
well-named generator expression and/or calling out to a well-named function.
Trying to fit everything on one line is rarely "Pythonic".</p>
<hr>
<h3>Update following additional comments on your question and the accepted</h3>
<p>answer</p>
<p>I'm not sure what you are trying to do with <code>enumerate</code>, but if <code>a</code> is a
dictionary, you probably want to use the keys, like this:</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{</span>
<span class="p">...</span><span class="w">     </span><span class="mi">2</span><span class="err">:</span><span class="w"> </span><span class="s1">'Turtle Doves'</span><span class="p">,</span>
<span class="p">...</span><span class="w">     </span><span class="mi">3</span><span class="err">:</span><span class="w"> </span><span class="s1">'French Hens'</span><span class="p">,</span>
<span class="p">...</span><span class="w">     </span><span class="mi">4</span><span class="err">:</span><span class="w"> </span><span class="s1">'Colly Birds'</span><span class="p">,</span>
<span class="p">...</span><span class="w">     </span><span class="mi">5</span><span class="err">:</span><span class="w"> </span><span class="s1">'Gold Rings'</span><span class="p">,</span>
<span class="p">...</span><span class="w">     </span><span class="mi">6</span><span class="err">:</span><span class="w"> </span><span class="s1">'Geese-a-Laying'</span><span class="p">,</span>
<span class="p">...</span><span class="w">     </span><span class="mi">7</span><span class="err">:</span><span class="w"> </span><span class="s1">'Swans-a-Swimming'</span><span class="p">,</span>
<span class="p">...</span><span class="w">     </span><span class="mi">8</span><span class="err">:</span><span class="w"> </span><span class="s1">'Maids-a-Milking'</span><span class="p">,</span>
<span class="p">...</span><span class="w">     </span><span class="mi">9</span><span class="err">:</span><span class="w"> </span><span class="s1">'Ladies Dancing'</span><span class="p">,</span>
<span class="p">...</span><span class="w">     </span><span class="mi">0</span><span class="err">:</span><span class="w"> </span><span class="s1">'Camel Books'</span><span class="p">,</span>
<span class="p">...</span><span class="w"> </span><span class="err">}</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">xyz</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="n">0, 12, 4, 6, 242, 7, 9</span><span class="o">]</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">known_things</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sorted</span><span class="p">(</span><span class="k">set</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">iterkeys</span><span class="p">()).</span><span class="k">intersection</span><span class="p">(</span><span class="n">xyz</span><span class="p">))</span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">unknown_things</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sorted</span><span class="p">(</span><span class="k">set</span><span class="p">(</span><span class="n">xyz</span><span class="p">).</span><span class="nf">difference</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">iterkeys</span><span class="p">()))</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">thing</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nl">known_things</span><span class="p">:</span>
<span class="p">...</span><span class="w">     </span><span class="k">print</span><span class="w"> </span><span class="s1">'I know about'</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="o">[</span><span class="n">thing</span><span class="o">]</span>
<span class="p">...</span>
<span class="n">I</span><span class="w"> </span><span class="n">know</span><span class="w"> </span><span class="n">about</span><span class="w"> </span><span class="n">Camel</span><span class="w"> </span><span class="n">Books</span>
<span class="n">I</span><span class="w"> </span><span class="n">know</span><span class="w"> </span><span class="n">about</span><span class="w"> </span><span class="n">Colly</span><span class="w"> </span><span class="n">Birds</span>
<span class="n">I</span><span class="w"> </span><span class="n">know</span><span class="w"> </span><span class="n">about</span><span class="w"> </span><span class="n">Geese</span><span class="o">-</span><span class="n">a</span><span class="o">-</span><span class="n">Laying</span>
<span class="n">I</span><span class="w"> </span><span class="n">know</span><span class="w"> </span><span class="n">about</span><span class="w"> </span><span class="n">Swans</span><span class="o">-</span><span class="n">a</span><span class="o">-</span><span class="n">Swimming</span>
<span class="n">I</span><span class="w"> </span><span class="n">know</span><span class="w"> </span><span class="n">about</span><span class="w"> </span><span class="n">Ladies</span><span class="w"> </span><span class="n">Dancing</span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="k">print</span><span class="w"> </span><span class="s1">'...but...'</span>
<span class="p">...</span><span class="n">but</span><span class="p">...</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">thing</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nl">unknown_things</span><span class="p">:</span>
<span class="p">...</span><span class="w">     </span><span class="k">print</span><span class="w"> </span><span class="ss">"I don't know what happened on the {0}th day of Christmas"</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">thing</span><span class="p">)</span>
<span class="p">...</span>
<span class="n">I</span><span class="w"> </span><span class="n">don</span><span class="s1">'t know what happened on the 12th day of Christmas</span>
<span class="s1">I don'</span><span class="n">t</span><span class="w"> </span><span class="n">know</span><span class="w"> </span><span class="n">what</span><span class="w"> </span><span class="n">happened</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="mi">242</span><span class="n">th</span><span class="w"> </span><span class="nf">day</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">Christmas</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-are-the-benefits-to-marking-a-field-as-readonly-in-c/" class="u-url">What are the benefits to marking a field as `readonly` in C#?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-are-the-benefits-to-marking-a-field-as-readonly-in-c/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T20:23:54+08:00" itemprop="datePublished" title="2023-03-04 20:23">2023-03-04 20:23</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What are the benefits of having a member variable declared as read only? Is it
just protecting against someone changing its value during the lifecycle of the
class or does using this keyword result in any speed or efficiency
improvements?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The <code>readonly</code> keyword is used to declare a member variable a constant, but
allows the value to be calculated at runtime. This differs from a constant
declared with the <code>const</code> modifier, which must have its value set at compile
time. Using <code>readonly</code> you can set the value of the field either in the
declaration, or in the constructor of the object that the field is a member
of.</p>
<p>Also use it if you don't want to have to recompile external DLLs that
reference the constant (since it gets replaced at compile time).</p>
<p><br></p>
<h3>Suggest</h3>
<p>The <code>readonly</code> keyword is used to declare a member variable a constant, but
allows the value to be calculated at runtime. This differs from a constant
declared with the <code>const</code> modifier, which must have its value set at compile
time. Using <code>readonly</code> you can set the value of the field either in the
declaration, or in the constructor of the object that the field is a member
of.</p>
<p>Also use it if you don't want to have to recompile external DLLs that
reference the constant (since it gets replaced at compile time).</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/failed-to-allocate-memory-8/" class="u-url">Failed to allocate memory: 8</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/failed-to-allocate-memory-8/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T20:22:35+08:00" itemprop="datePublished" title="2023-03-04 20:22">2023-03-04 20:22</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>From today, when I tried to run an app in NetBeans on a 2.3.3 Android
platform, it shows me that:</p>
<blockquote>
<p>Failed to allocate memory: 8</p>
<p>This application has requested the Runtime to terminate it in an unusual
way. Please contact the application's support team for more information.</p>
</blockquote>
<p>and the Emulator doesn't want to start.</p>
<p>This is for the first time when I see it, and google has no asnwers for this,
I tried even with 2 versions of NetBeans 6.9.1 and 7.0.1, still the same
error.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>I figured it out. The problem was in the amount of ram I had specified for the
virtual machine, and it was 1024MB, now I have 512MB and it is ok, now I need
to find how to improve this amount of ram, 512 is not so much, and the machine
is a little bit laggy.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Referring to Android: failed to allocate memory and its first comment under
accepted answer, changing "1024" to "1024MB" helped me. Pathetic, but works.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2496.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2494.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

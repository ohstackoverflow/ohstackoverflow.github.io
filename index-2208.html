<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2208) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2208.html">
<link rel="prev" href="index-2209.html" type="text/html">
<link rel="next" href="index-2207.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-upload-a-file-and-json-data-in-postman/" class="u-url">How to upload a file and JSON data in Postman?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-upload-a-file-and-json-data-in-postman/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T22:57:44+08:00" itemprop="datePublished" title="2023-03-03 22:57">2023-03-03 22:57</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am using Spring MVC and this is my method:</p>
<div class="code"><pre class="code literal-block"><span class="o">/**</span>
<span class="o">*</span><span class="w"> </span><span class="n">Upload</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">Spring</span><span class="w"> </span><span class="n">Controller</span><span class="o">.</span>
<span class="o">*/</span>
<span class="err">@</span><span class="n">RequestMapping</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"/uploadFile"</span><span class="p">,</span><span class="w"> </span><span class="n">method</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RequestMethod</span><span class="o">.</span><span class="n">POST</span><span class="p">)</span>
<span class="n">public</span><span class="w"> </span><span class="err">@</span><span class="n">ResponseBody</span><span class="w"> </span><span class="n">ResponseEntity</span><span class="o">&lt;</span><span class="n">GenericResponseVO</span><span class="o">&lt;</span><span class="err">?</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="n">IServiceVO</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">uploadFileHandler</span><span class="p">(</span>
<span class="w">            </span><span class="err">@</span><span class="n">RequestParam</span><span class="p">(</span><span class="s2">"name"</span><span class="p">)</span><span class="w"> </span><span class="nb nb-Type">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span>
<span class="w">            </span><span class="err">@</span><span class="n">RequestParam</span><span class="p">(</span><span class="s2">"file"</span><span class="p">)</span><span class="w"> </span><span class="n">MultipartFile</span><span class="w"> </span><span class="n">file</span><span class="p">,</span>
<span class="w">            </span><span class="n">HttpServletRequest</span><span class="w"> </span><span class="n">request</span><span class="p">,</span>
<span class="w">            </span><span class="n">HttpServletResponse</span><span class="w"> </span><span class="n">response</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">file</span><span class="o">.</span><span class="n">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">byte</span><span class="p">[]</span><span class="w"> </span><span class="n">bytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">file</span><span class="o">.</span><span class="n">getBytes</span><span class="p">();</span>

<span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="n">Creating</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">store</span><span class="w"> </span><span class="n">file</span>
<span class="w">            </span><span class="nb nb-Type">String</span><span class="w"> </span><span class="n">rootPath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">System</span><span class="o">.</span><span class="n">getProperty</span><span class="p">(</span><span class="s2">"catalina.home"</span><span class="p">);</span>
<span class="w">            </span><span class="n">File</span><span class="w"> </span><span class="n">dir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">File</span><span class="p">(</span><span class="n">rootPath</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">File</span><span class="o">.</span><span class="n">separator</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">"tmpFiles"</span><span class="p">);</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">dir</span><span class="o">.</span><span class="n">exists</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">dir</span><span class="o">.</span><span class="n">mkdirs</span><span class="p">();</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="n">Create</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">server</span>
<span class="w">            </span><span class="n">File</span><span class="w"> </span><span class="n">serverFile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">File</span><span class="p">(</span><span class="n">dir</span><span class="o">.</span><span class="n">getAbsolutePath</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">File</span><span class="o">.</span><span class="n">separator</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">name</span><span class="p">);</span>
<span class="w">            </span><span class="n">BufferedOutputStream</span><span class="w"> </span><span class="n">stream</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">BufferedOutputStream</span><span class="p">(</span><span class="n">new</span><span class="w"> </span><span class="n">FileOutputStream</span><span class="p">(</span><span class="n">serverFile</span><span class="p">));</span>
<span class="w">            </span><span class="n">stream</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">bytes</span><span class="p">);</span>
<span class="w">            </span><span class="n">stream</span><span class="o">.</span><span class="n">close</span><span class="p">();</span>

<span class="w">            </span><span class="n">System</span><span class="o">.</span><span class="n">out</span><span class="o">.</span><span class="n">println</span><span class="p">(</span><span class="s2">"Server File Location="</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">serverFile</span><span class="o">.</span><span class="n">getAbsolutePath</span><span class="p">());</span>

<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="n">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>I need to pass the session id in postman and also the file. How can I do that?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>In postman, set method type to <strong>POST</strong>.</p>
<p>Then select Body -&gt; form-data -&gt; Enter your parameter name ( <strong>file</strong>
according to your code)</p>
<p>On the right side of the Key field, while hovering your mouse over it, there
is a <strong>dropdown menu</strong> to select between <strong>Text/File</strong>. Select File, then a
"Select Files" button will appear in the Value field.</p>
<p>For rest of <strong>"text" based parameters</strong> , you can post it like normally you do
with postman. Just enter parameter name and select "text" from that right side
dropdown menu and enter any value for it, hit send button. Your controller
method should get called.</p>
<p><br></p>
<h3>Suggest</h3>
<p><strong>The Missing Visual Guide</strong></p>
<p>You must <em>first</em> find the nearly-invisible pale-grey-on-white dropdown for
<code>File</code> which is the magic key that unlocks the <code>Choose Files</code> button.</p>
<p><em>After</em> you choose <code>POST</code>, <em>then</em> choose <code>Body-&gt;form-data</code>, <em>then</em> find the
File dropdown, and <em>then</em> choose 'File', <em>only then</em> will the 'Choose Files'
button magically appear:</p>
<p><img alt="Postman POST file setup - (Text,File) dropdown
highlighted" src="images/GygPZ.png"></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-program-a-delay-in-swift-3/" class="u-url">How to program a delay in Swift 3</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-program-a-delay-in-swift-3/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T22:56:24+08:00" itemprop="datePublished" title="2023-03-03 22:56">2023-03-03 22:56</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>In earlier versions of Swift, one could create a delay with the following
code:</p>
<div class="code"><pre class="code literal-block">let time = dispatch_time(dispatch_time_t(DISPATCH_TIME_NOW), 4 * Int64(NSEC_PER_SEC))
dispatch_after(time, dispatch_get_main_queue()) {
    //put your code which should be executed with a delay here
}
</pre></div>

<p>But now, in Swift 3, Xcode automatically changes 6 different things but then
the following error appears: "Cannot convert <code>DispatchTime.now</code> to expected
value <code>dispatch_time_t</code> aka <code>UInt64</code>."</p>
<p>How can one create a delay before running a sequence of code in Swift 3?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>After a lot of research, I finally figured this one out.</p>
<div class="code"><pre class="code literal-block">DispatchQueue.main.asyncAfter(deadline: .now() + 2.0) { // Change `2.0` to the desired number of seconds.
   // Code you want to be delayed
}
</pre></div>

<p>This creates the desired "wait" effect in Swift 3 and Swift 4.</p>
<p>Inspired by a part of this answer.</p>
<p><br></p>
<h3>Suggest</h3>
<p>I like one-line notation for GCD, it's more elegant:</p>
<div class="code"><pre class="code literal-block"><span class="w">    </span><span class="nv">DispatchQueue</span>.<span class="nv">main</span>.<span class="nv">asyncAfter</span><span class="ss">(</span><span class="nv">deadline</span>:<span class="w"> </span>.<span class="nv">now</span><span class="ss">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">42</span>.<span class="mi">0</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="nv">stuff</span><span class="w"> </span><span class="mi">42</span><span class="w"> </span><span class="nv">seconds</span><span class="w"> </span><span class="nv">later</span>
<span class="w">    </span>}
</pre></div>

<p>Also, in iOS 10 we have new Timer methods, e.g. block initializer:</p>
<p>(so delayed action may be canceled)</p>
<div class="code"><pre class="code literal-block"><span class="w">    </span><span class="nv">let</span><span class="w"> </span><span class="nv">timer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Timer</span>.<span class="nv">scheduledTimer</span><span class="ss">(</span><span class="nv">withTimeInterval</span>:<span class="w"> </span><span class="mi">42</span>.<span class="mi">0</span>,<span class="w"> </span><span class="nv">repeats</span>:<span class="w"> </span><span class="nv">false</span><span class="ss">)</span><span class="w"> </span>{<span class="w"> </span><span class="ss">(</span><span class="nv">timer</span><span class="ss">)</span><span class="w"> </span><span class="nv">in</span>
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="nv">stuff</span><span class="w"> </span><span class="mi">42</span><span class="w"> </span><span class="nv">seconds</span><span class="w"> </span><span class="nv">later</span>
<span class="w">    </span>}
</pre></div>

<p><em>Btw, keep in mind: by default, timer is added to the default run loop mode.
It means timer may be frozen when the user is interacting with the UI of your
app (for example, when scrolling a UIScrollView) You can solve this issue by
adding the timer to the specific run loop mode:</em></p>
<div class="code"><pre class="code literal-block">RunLoop.current.add(timer, forMode: .common)
</pre></div>

<p><em>At this blog post you can find more details.</em></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/cannot-use-jsx-unless-the-jsx-flag-is-provided/" class="u-url">Cannot use JSX unless the '--jsx' flag is provided</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/cannot-use-jsx-unless-the-jsx-flag-is-provided/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T22:54:56+08:00" itemprop="datePublished" title="2023-03-03 22:54">2023-03-03 22:54</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have looked around a bit for a solution to this problem. All of them suggest
adding <code>"jsx": "react"</code> to your tsconfig.json file. Which I have done. Another
one was to add <code>"include: []"</code>, which I have also done. However, I am still
getting the error when I am trying to edit <code>.tsx</code>files. Below is my tsconfig
file.</p>
<div class="code"><pre class="code literal-block">{
<span class="w">    </span><span class="s2">"compilerOptions"</span>:<span class="w"> </span>{
<span class="w">        </span><span class="s2">"module"</span>:<span class="w"> </span><span class="s2">"commonjs"</span>,
<span class="w">        </span><span class="s2">"target"</span>:<span class="w"> </span><span class="s2">"es5"</span>,
<span class="w">        </span><span class="s2">"allowJs"</span>:<span class="w"> </span><span class="nv">true</span>,
<span class="w">        </span><span class="s2">"checkJs"</span>:<span class="w"> </span><span class="nv">false</span>,
<span class="w">        </span><span class="s2">"jsx"</span>:<span class="w"> </span><span class="s2">"react"</span>,
<span class="w">        </span><span class="s2">"outDir"</span>:<span class="w"> </span><span class="s2">"./build"</span>,
<span class="w">        </span><span class="s2">"rootDir"</span>:<span class="w"> </span><span class="s2">"./lib"</span>,
<span class="w">        </span><span class="s2">"removeComments"</span>:<span class="w"> </span><span class="nv">true</span>,
<span class="w">        </span><span class="s2">"noEmit"</span>:<span class="w"> </span><span class="nv">true</span>,
<span class="w">        </span><span class="s2">"pretty"</span>:<span class="w"> </span><span class="nv">true</span>,
<span class="w">        </span><span class="s2">"skipLibCheck"</span>:<span class="w"> </span><span class="nv">true</span>,
<span class="w">        </span><span class="s2">"strict"</span>:<span class="w"> </span><span class="nv">true</span>,
<span class="w">        </span><span class="s2">"moduleResolution"</span>:<span class="w"> </span><span class="s2">"node"</span>,
<span class="w">        </span><span class="s2">"esModuleInterop"</span>:<span class="w"> </span><span class="nv">true</span>
<span class="w">    </span>},
<span class="w">    </span><span class="s2">"include"</span>:<span class="w"> </span>[
<span class="w">        </span><span class="s2">"./lib/**/*"</span>
<span class="w">    </span>],
<span class="w">    </span><span class="s2">"exclude"</span>:<span class="w"> </span>[
<span class="w">        </span><span class="s2">"node_modules"</span>
<span class="w">    </span>]
}
</pre></div>

<p>Any suggestions would be helpful. I am using babel 7 to compile all the code
with the env, react and typescript presets. If you guys need more files to
help debug this, let me know.</p>
<p><br><br></p>
<h2>Answer</h2>
<blockquote>
<p>Cannot use JSX unless the '--jsx' flag is provided</p>
</blockquote>
<p>Restart your IDE. Sometimes tsconfig.json changes aren't immediately picked up
🌹</p>
<p><br></p>
<h3>Suggest</h3>
<blockquote>
<p>Cannot use JSX unless the '--jsx' flag is provided</p>
</blockquote>
<p>Restart your IDE. Sometimes tsconfig.json changes aren't immediately picked up
🌹</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2209.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2207.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

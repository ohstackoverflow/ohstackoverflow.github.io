<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2564) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2564.html">
<link rel="prev" href="index-2565.html" type="text/html">
<link rel="next" href="index-2563.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-does-sql-clause-group-by-1-mean/" class="u-url">What does SQL clause "GROUP BY 1" mean?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-does-sql-clause-group-by-1-mean/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T01:24:08+08:00" itemprop="datePublished" title="2023-03-05 01:24">2023-03-05 01:24</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Someone sent me a SQL query where the <code>GROUP BY</code> clause consisted of the
statement: <code>GROUP BY 1</code>.</p>
<p>This must be a typo right? No column is given the alias 1. What could this
mean? Am I right to assume that this must be a typo?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>It means to group by the first column of your result set regardless of what
it's called. You can do the same with <code>ORDER BY</code>.</p>
<p><br></p>
<h3>Suggest</h3>
<div class="code"><pre class="code literal-block">SELECT account_id, open_emp_id
         ^^^^        ^^^^
          1           2

FROM account
GROUP BY 1;
</pre></div>

<p>In above query <code>GROUP BY 1</code> refers to the <code>first column in select statement</code>
which is <code>account_id</code>.</p>
<p>You also can specify in <code>ORDER BY</code>.</p>
<blockquote>
<p>Note : The number in ORDER BY and GROUP BY always start with 1 not with 0.</p>
</blockquote>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/detect-changes-in-the-dom/" class="u-url">Detect changes in the DOM</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/detect-changes-in-the-dom/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T01:22:48+08:00" itemprop="datePublished" title="2023-03-05 01:22">2023-03-05 01:22</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I want to execute a function when some div or input are added to the html. Is
this possible?</p>
<p>For example, a text input is added, then the function should be called.</p>
<p><br><br></p>
<h2>Answer</h2>
<h3>2015 update, new <code>MutationObserver</code> is supported by modern browsers:</h3>
<p><em>Chrome 18+, Firefox 14+, IE 11+, Safari 6+</em></p>
<p>If you need to support older ones, you may try to fall back to other
approaches like the ones mentioned in this <em>5</em> (!) year old answer below.
There be dragons. Enjoy :)</p>
<hr>
<p>Someone else is changing the document? Because if you have full control over
the changes you just need to create your own <code>domChanged</code> API - with a
function or custom event - and trigger/call it everywhere you modify things.</p>
<p>The <strong>DOM Level-2 has Mutation event types</strong> , but older version of IE don't
support it. Note that the mutation events are deprecated in the DOM3 Events
spec and have a performance penalty.</p>
<p>You can try to emulate mutation event with <strong><code>onpropertychange</code> in IE</strong> (and
fall back to the brute-force approach if non of them is available).</p>
<p>For a <em>full</em> domChange an interval could be an over-kill. Imagine that you
need to store the current state of the whole document, and examine every
element's every property to be the same.</p>
<p>Maybe if you're only interested in the elements and their order (as you
mentioned in your question), a <code>getElementsByTagName("*")</code> can work. This will
fire automatically if you add an element, remove an element, replace elements
or change the structure of the document.</p>
<p>I wrote a proof of concept:</p>
<div class="code"><pre class="code literal-block"><span class="p">(</span><span class="k">function</span><span class="w"> </span><span class="p">(</span><span class="k">window</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="nf">var</span><span class="w"> </span><span class="k">last</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">+</span><span class="k">new</span><span class="w"> </span><span class="nc">Date</span><span class="p">();</span>
<span class="w">    </span><span class="nf">var</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="n">delay</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Manage</span><span class="w"> </span><span class="n">event</span><span class="w"> </span><span class="n">queue</span>
<span class="w">    </span><span class="nf">var</span><span class="w"> </span><span class="n">stack</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">[]</span><span class="p">;</span>

<span class="w">    </span><span class="k">function</span><span class="w"> </span><span class="n">callback</span><span class="p">()</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="nf">var</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">+</span><span class="k">new</span><span class="w"> </span><span class="nc">Date</span><span class="p">();</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">now</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">last</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">delay</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="nf">var</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">stack</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">                </span><span class="n">stack</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">();</span>
<span class="w">            </span><span class="err">}</span>
<span class="w">            </span><span class="k">last</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">now</span><span class="p">;</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">    </span><span class="err">}</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="k">Public</span><span class="w"> </span><span class="n">interface</span>
<span class="w">    </span><span class="nf">var</span><span class="w"> </span><span class="n">onDomChange</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="p">(</span><span class="n">fn</span><span class="p">,</span><span class="w"> </span><span class="n">newdelay</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">newdelay</span><span class="p">)</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newdelay</span><span class="p">;</span>
<span class="w">        </span><span class="n">stack</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">fn</span><span class="p">);</span>
<span class="w">    </span><span class="err">}</span><span class="p">;</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Naive</span><span class="w"> </span><span class="n">approach</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">compatibility</span>
<span class="w">    </span><span class="k">function</span><span class="w"> </span><span class="n">naive</span><span class="p">()</span><span class="w"> </span><span class="err">{</span>

<span class="w">        </span><span class="nf">var</span><span class="w"> </span><span class="k">last</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">document</span><span class="p">.</span><span class="n">getElementsByTagName</span><span class="p">(</span><span class="s1">'*'</span><span class="p">);</span>
<span class="w">        </span><span class="nf">var</span><span class="w"> </span><span class="n">lastlen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">last</span><span class="p">.</span><span class="n">length</span><span class="p">;</span>
<span class="w">        </span><span class="nf">var</span><span class="w"> </span><span class="n">timer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">setTimeout</span><span class="p">(</span><span class="k">function</span><span class="w"> </span><span class="k">check</span><span class="p">()</span><span class="w"> </span><span class="err">{</span>

<span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="k">get</span><span class="w"> </span><span class="k">current</span><span class="w"> </span><span class="k">state</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">document</span>
<span class="w">            </span><span class="nf">var</span><span class="w"> </span><span class="k">current</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">document</span><span class="p">.</span><span class="n">getElementsByTagName</span><span class="p">(</span><span class="s1">'*'</span><span class="p">);</span>
<span class="w">            </span><span class="nf">var</span><span class="w"> </span><span class="nf">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">current</span><span class="p">.</span><span class="n">length</span><span class="p">;</span>

<span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">different</span>
<span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="n">it</span><span class="s1">'s fairly obvious</span>
<span class="s1">            if (len != lastlen) {</span>
<span class="s1">                // just make sure the loop finishes early</span>
<span class="s1">                last = [];</span>
<span class="s1">            }</span>

<span class="s1">            // go check every element in order</span>
<span class="s1">            for (var i = 0; i &lt; len; i++) {</span>
<span class="s1">                if (current[i] !== last[i]) {</span>
<span class="s1">                    callback();</span>
<span class="s1">                    last = current;</span>
<span class="s1">                    lastlen = len;</span>
<span class="s1">                    break;</span>
<span class="s1">                }</span>
<span class="s1">            }</span>

<span class="s1">            // over, and over, and over again</span>
<span class="s1">            setTimeout(check, delay);</span>

<span class="s1">        }, delay);</span>
<span class="s1">    }</span>

<span class="s1">    //</span>
<span class="s1">    //  Check for mutation events support</span>
<span class="s1">    //</span>

<span class="s1">    var support = {};</span>

<span class="s1">    var el = document.documentElement;</span>
<span class="s1">    var remain = 3;</span>

<span class="s1">    // callback for the tests</span>
<span class="s1">    function decide() {</span>
<span class="s1">        if (support.DOMNodeInserted) {</span>
<span class="s1">            window.addEventListener("DOMContentLoaded", function () {</span>
<span class="s1">                if (support.DOMSubtreeModified) { // for FF 3+, Chrome</span>
<span class="s1">                    el.addEventListener('</span><span class="n">DOMSubtreeModified</span><span class="s1">', callback, false);</span>
<span class="s1">                } else { // for FF 2, Safari, Opera 9.6+</span>
<span class="s1">                    el.addEventListener('</span><span class="n">DOMNodeInserted</span><span class="s1">', callback, false);</span>
<span class="s1">                    el.addEventListener('</span><span class="n">DOMNodeRemoved</span><span class="s1">', callback, false);</span>
<span class="s1">                }</span>
<span class="s1">            }, false);</span>
<span class="s1">        } else if (document.onpropertychange) { // for IE 5.5+</span>
<span class="s1">            document.onpropertychange = callback;</span>
<span class="s1">        } else { // fallback</span>
<span class="s1">            naive();</span>
<span class="s1">        }</span>
<span class="s1">    }</span>

<span class="s1">    // checks a particular event</span>
<span class="s1">    function test(event) {</span>
<span class="s1">        el.addEventListener(event, function fn() {</span>
<span class="s1">            support[event] = true;</span>
<span class="s1">            el.removeEventListener(event, fn, false);</span>
<span class="s1">            if (--remain === 0) decide();</span>
<span class="s1">        }, false);</span>
<span class="s1">    }</span>

<span class="s1">    // attach test events</span>
<span class="s1">    if (window.addEventListener) {</span>
<span class="s1">        test('</span><span class="n">DOMSubtreeModified</span><span class="s1">');</span>
<span class="s1">        test('</span><span class="n">DOMNodeInserted</span><span class="s1">');</span>
<span class="s1">        test('</span><span class="n">DOMNodeRemoved</span><span class="err">'</span><span class="p">);</span>
<span class="w">    </span><span class="err">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">decide</span><span class="p">();</span>
<span class="w">    </span><span class="err">}</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">do</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">dummy</span><span class="w"> </span><span class="n">test</span>
<span class="w">    </span><span class="nf">var</span><span class="w"> </span><span class="n">dummy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">document</span><span class="p">.</span><span class="n">createElement</span><span class="p">(</span><span class="ss">"div"</span><span class="p">);</span>
<span class="w">    </span><span class="n">el</span><span class="p">.</span><span class="n">appendChild</span><span class="p">(</span><span class="n">dummy</span><span class="p">);</span>
<span class="w">    </span><span class="n">el</span><span class="p">.</span><span class="n">removeChild</span><span class="p">(</span><span class="n">dummy</span><span class="p">);</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">expose</span>
<span class="w">    </span><span class="k">window</span><span class="p">.</span><span class="n">onDomChange</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">onDomChange</span><span class="p">;</span>
<span class="err">}</span><span class="p">)(</span><span class="k">window</span><span class="p">);</span>
</pre></div>

<p>Usage:</p>
<div class="code"><pre class="code literal-block">onDomChange(function(){ 
    alert("The Times They Are a-Changin'");
});
</pre></div>

<p>This works on IE 5.5+, FF 2+, Chrome, Safari 3+ and Opera 9.6+</p>
<p><br></p>
<h3>Suggest</h3>
<h3>2015 update, new <code>MutationObserver</code> is supported by modern browsers:</h3>
<p><em>Chrome 18+, Firefox 14+, IE 11+, Safari 6+</em></p>
<p>If you need to support older ones, you may try to fall back to other
approaches like the ones mentioned in this <em>5</em> (!) year old answer below.
There be dragons. Enjoy :)</p>
<hr>
<p>Someone else is changing the document? Because if you have full control over
the changes you just need to create your own <code>domChanged</code> API - with a
function or custom event - and trigger/call it everywhere you modify things.</p>
<p>The <strong>DOM Level-2 has Mutation event types</strong> , but older version of IE don't
support it. Note that the mutation events are deprecated in the DOM3 Events
spec and have a performance penalty.</p>
<p>You can try to emulate mutation event with <strong><code>onpropertychange</code> in IE</strong> (and
fall back to the brute-force approach if non of them is available).</p>
<p>For a <em>full</em> domChange an interval could be an over-kill. Imagine that you
need to store the current state of the whole document, and examine every
element's every property to be the same.</p>
<p>Maybe if you're only interested in the elements and their order (as you
mentioned in your question), a <code>getElementsByTagName("*")</code> can work. This will
fire automatically if you add an element, remove an element, replace elements
or change the structure of the document.</p>
<p>I wrote a proof of concept:</p>
<div class="code"><pre class="code literal-block"><span class="p">(</span><span class="k">function</span><span class="w"> </span><span class="p">(</span><span class="k">window</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="nf">var</span><span class="w"> </span><span class="k">last</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">+</span><span class="k">new</span><span class="w"> </span><span class="nc">Date</span><span class="p">();</span>
<span class="w">    </span><span class="nf">var</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="n">delay</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Manage</span><span class="w"> </span><span class="n">event</span><span class="w"> </span><span class="n">queue</span>
<span class="w">    </span><span class="nf">var</span><span class="w"> </span><span class="n">stack</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">[]</span><span class="p">;</span>

<span class="w">    </span><span class="k">function</span><span class="w"> </span><span class="n">callback</span><span class="p">()</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="nf">var</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">+</span><span class="k">new</span><span class="w"> </span><span class="nc">Date</span><span class="p">();</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">now</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">last</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">delay</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="nf">var</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">stack</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">                </span><span class="n">stack</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">();</span>
<span class="w">            </span><span class="err">}</span>
<span class="w">            </span><span class="k">last</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">now</span><span class="p">;</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">    </span><span class="err">}</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="k">Public</span><span class="w"> </span><span class="n">interface</span>
<span class="w">    </span><span class="nf">var</span><span class="w"> </span><span class="n">onDomChange</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="p">(</span><span class="n">fn</span><span class="p">,</span><span class="w"> </span><span class="n">newdelay</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">newdelay</span><span class="p">)</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newdelay</span><span class="p">;</span>
<span class="w">        </span><span class="n">stack</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">fn</span><span class="p">);</span>
<span class="w">    </span><span class="err">}</span><span class="p">;</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Naive</span><span class="w"> </span><span class="n">approach</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">compatibility</span>
<span class="w">    </span><span class="k">function</span><span class="w"> </span><span class="n">naive</span><span class="p">()</span><span class="w"> </span><span class="err">{</span>

<span class="w">        </span><span class="nf">var</span><span class="w"> </span><span class="k">last</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">document</span><span class="p">.</span><span class="n">getElementsByTagName</span><span class="p">(</span><span class="s1">'*'</span><span class="p">);</span>
<span class="w">        </span><span class="nf">var</span><span class="w"> </span><span class="n">lastlen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">last</span><span class="p">.</span><span class="n">length</span><span class="p">;</span>
<span class="w">        </span><span class="nf">var</span><span class="w"> </span><span class="n">timer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">setTimeout</span><span class="p">(</span><span class="k">function</span><span class="w"> </span><span class="k">check</span><span class="p">()</span><span class="w"> </span><span class="err">{</span>

<span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="k">get</span><span class="w"> </span><span class="k">current</span><span class="w"> </span><span class="k">state</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">document</span>
<span class="w">            </span><span class="nf">var</span><span class="w"> </span><span class="k">current</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">document</span><span class="p">.</span><span class="n">getElementsByTagName</span><span class="p">(</span><span class="s1">'*'</span><span class="p">);</span>
<span class="w">            </span><span class="nf">var</span><span class="w"> </span><span class="nf">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">current</span><span class="p">.</span><span class="n">length</span><span class="p">;</span>

<span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">different</span>
<span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="n">it</span><span class="s1">'s fairly obvious</span>
<span class="s1">            if (len != lastlen) {</span>
<span class="s1">                // just make sure the loop finishes early</span>
<span class="s1">                last = [];</span>
<span class="s1">            }</span>

<span class="s1">            // go check every element in order</span>
<span class="s1">            for (var i = 0; i &lt; len; i++) {</span>
<span class="s1">                if (current[i] !== last[i]) {</span>
<span class="s1">                    callback();</span>
<span class="s1">                    last = current;</span>
<span class="s1">                    lastlen = len;</span>
<span class="s1">                    break;</span>
<span class="s1">                }</span>
<span class="s1">            }</span>

<span class="s1">            // over, and over, and over again</span>
<span class="s1">            setTimeout(check, delay);</span>

<span class="s1">        }, delay);</span>
<span class="s1">    }</span>

<span class="s1">    //</span>
<span class="s1">    //  Check for mutation events support</span>
<span class="s1">    //</span>

<span class="s1">    var support = {};</span>

<span class="s1">    var el = document.documentElement;</span>
<span class="s1">    var remain = 3;</span>

<span class="s1">    // callback for the tests</span>
<span class="s1">    function decide() {</span>
<span class="s1">        if (support.DOMNodeInserted) {</span>
<span class="s1">            window.addEventListener("DOMContentLoaded", function () {</span>
<span class="s1">                if (support.DOMSubtreeModified) { // for FF 3+, Chrome</span>
<span class="s1">                    el.addEventListener('</span><span class="n">DOMSubtreeModified</span><span class="s1">', callback, false);</span>
<span class="s1">                } else { // for FF 2, Safari, Opera 9.6+</span>
<span class="s1">                    el.addEventListener('</span><span class="n">DOMNodeInserted</span><span class="s1">', callback, false);</span>
<span class="s1">                    el.addEventListener('</span><span class="n">DOMNodeRemoved</span><span class="s1">', callback, false);</span>
<span class="s1">                }</span>
<span class="s1">            }, false);</span>
<span class="s1">        } else if (document.onpropertychange) { // for IE 5.5+</span>
<span class="s1">            document.onpropertychange = callback;</span>
<span class="s1">        } else { // fallback</span>
<span class="s1">            naive();</span>
<span class="s1">        }</span>
<span class="s1">    }</span>

<span class="s1">    // checks a particular event</span>
<span class="s1">    function test(event) {</span>
<span class="s1">        el.addEventListener(event, function fn() {</span>
<span class="s1">            support[event] = true;</span>
<span class="s1">            el.removeEventListener(event, fn, false);</span>
<span class="s1">            if (--remain === 0) decide();</span>
<span class="s1">        }, false);</span>
<span class="s1">    }</span>

<span class="s1">    // attach test events</span>
<span class="s1">    if (window.addEventListener) {</span>
<span class="s1">        test('</span><span class="n">DOMSubtreeModified</span><span class="s1">');</span>
<span class="s1">        test('</span><span class="n">DOMNodeInserted</span><span class="s1">');</span>
<span class="s1">        test('</span><span class="n">DOMNodeRemoved</span><span class="err">'</span><span class="p">);</span>
<span class="w">    </span><span class="err">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">decide</span><span class="p">();</span>
<span class="w">    </span><span class="err">}</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">do</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">dummy</span><span class="w"> </span><span class="n">test</span>
<span class="w">    </span><span class="nf">var</span><span class="w"> </span><span class="n">dummy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">document</span><span class="p">.</span><span class="n">createElement</span><span class="p">(</span><span class="ss">"div"</span><span class="p">);</span>
<span class="w">    </span><span class="n">el</span><span class="p">.</span><span class="n">appendChild</span><span class="p">(</span><span class="n">dummy</span><span class="p">);</span>
<span class="w">    </span><span class="n">el</span><span class="p">.</span><span class="n">removeChild</span><span class="p">(</span><span class="n">dummy</span><span class="p">);</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">expose</span>
<span class="w">    </span><span class="k">window</span><span class="p">.</span><span class="n">onDomChange</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">onDomChange</span><span class="p">;</span>
<span class="err">}</span><span class="p">)(</span><span class="k">window</span><span class="p">);</span>
</pre></div>

<p>Usage:</p>
<div class="code"><pre class="code literal-block">onDomChange(function(){ 
    alert("The Times They Are a-Changin'");
});
</pre></div>

<p>This works on IE 5.5+, FF 2+, Chrome, Safari 3+ and Opera 9.6+</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-use-putextra-and-getextra-for-string-data/" class="u-url">How to use putExtra() and getExtra() for string data</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-use-putextra-and-getextra-for-string-data/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T01:21:07+08:00" itemprop="datePublished" title="2023-03-05 01:21">2023-03-05 01:21</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Can someone please tell me how exactly to use <code>getExtra()</code> and <code>putExtra()</code>
for intents? Actually I have a string variable, say str, which stores some
string data. Now, I want to send this data from one activity to another
activity.</p>
<div class="code"><pre class="code literal-block">  Intent i = new Intent(FirstScreen.this, SecondScreen.class);   
  String keyIdentifer  = null;
  i.putExtra(strName, keyIdentifer );
</pre></div>

<p>and then in the SecondScreen.java</p>
<div class="code"><pre class="code literal-block"><span class="w"> </span><span class="n">public</span><span class="w"> </span><span class="nb nb-Type">void</span><span class="w"> </span><span class="n">onCreate</span><span class="p">(</span><span class="n">Bundle</span><span class="w"> </span><span class="n">savedInstanceState</span><span class="p">)</span><span class="w"> </span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">super</span><span class="o">.</span><span class="n">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span>
<span class="w">        </span><span class="n">setContentView</span><span class="p">(</span><span class="n">R</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">table</span><span class="p">);</span>
<span class="w">        </span><span class="n">TextView</span><span class="w"> </span><span class="n">userName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">TextView</span><span class="p">)</span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">userName</span><span class="p">);</span>
<span class="w">        </span><span class="n">Bundle</span><span class="w"> </span><span class="n">bundle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getIntent</span><span class="p">()</span><span class="o">.</span><span class="n">getExtras</span><span class="p">();</span>

<span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">bundle</span><span class="o">.</span><span class="n">getString</span><span class="p">(</span><span class="s2">"strName"</span><span class="p">)</span><span class="o">!=</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">)</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="o">//</span><span class="n">TODO</span><span class="w"> </span><span class="n">here</span><span class="w"> </span><span class="n">get</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="n">stored</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">do</span><span class="w"> </span>
<span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="n">setText</span><span class="p">()</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">userName</span><span class="w"> </span>
<span class="w">        </span><span class="p">}</span>

<span class="w">    </span><span class="p">}</span>
</pre></div>

<p>I know it is very basic question but unfortunately I am stuck here. Please
help.</p>
<p>Thanks,</p>
<p>Edit: Here the string which I am trying to pass from one screen to the other
is dynamic. That is I have an editText where I am getting string whatever user
types. Then with the help of <code>myEditText.getText().toString()</code> . I am getting
the entered value as a string then I have to pass this data.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Use this to "put" the file...</p>
<div class="code"><pre class="code literal-block">Intent i = new Intent(FirstScreen.this, SecondScreen.class);   
String strName = null;
i.putExtra("STRING_I_NEED", strName);
</pre></div>

<p>Then, to retrieve the value try something like:</p>
<div class="code"><pre class="code literal-block"><span class="nv">String</span><span class="w"> </span><span class="nv">newString</span><span class="c1">;</span>
<span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">savedInstanceState</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">null</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="nv">Bundle</span><span class="w"> </span><span class="nv">extras</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">getIntent</span><span class="ss">()</span>.<span class="nv">getExtras</span><span class="ss">()</span><span class="c1">;</span>
<span class="w">    </span><span class="k">if</span><span class="ss">(</span><span class="nv">extras</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">null</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">        </span><span class="nv">newString</span><span class="o">=</span><span class="w"> </span><span class="nv">null</span><span class="c1">;</span>
<span class="w">    </span>}<span class="w"> </span><span class="k">else</span><span class="w"> </span>{
<span class="w">        </span><span class="nv">newString</span><span class="o">=</span><span class="w"> </span><span class="nv">extras</span>.<span class="nv">getString</span><span class="ss">(</span><span class="s2">"STRING_I_NEED"</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">    </span>}
}<span class="w"> </span><span class="k">else</span><span class="w"> </span>{
<span class="w">    </span><span class="nv">newString</span><span class="o">=</span><span class="w"> </span><span class="ss">(</span><span class="nv">String</span><span class="ss">)</span><span class="w"> </span><span class="nv">savedInstanceState</span>.<span class="nv">getSerializable</span><span class="ss">(</span><span class="s2">"STRING_I_NEED"</span><span class="ss">)</span><span class="c1">;</span>
}
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p><strong>first Screen.java</strong></p>
<div class="code"><pre class="code literal-block">text=(TextView)findViewById(R.id.tv1);
edit=(EditText)findViewById(R.id.edit);
button=(Button)findViewById(R.id.bt1);

button.setOnClickListener(new OnClickListener() {
    public void onClick(View arg0) {
        String s=edit.getText().toString();

        Intent ii=new Intent(MainActivity.this, newclass.class);
        ii.putExtra("name", s);
        startActivity(ii);
    }
});
</pre></div>

<p><strong>Second Screen.java</strong></p>
<div class="code"><pre class="code literal-block"><span class="n">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">newclass</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="n">Activity</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">private</span><span class="w"> </span><span class="n">TextView</span><span class="w"> </span><span class="n">Textv</span><span class="p">;</span>

<span class="w">    </span><span class="err">@</span><span class="n">Override</span>
<span class="w">    </span><span class="n">protected</span><span class="w"> </span><span class="nb nb-Type">void</span><span class="w"> </span><span class="n">onCreate</span><span class="p">(</span><span class="n">Bundle</span><span class="w"> </span><span class="n">savedInstanceState</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="n">super</span><span class="o">.</span><span class="n">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span>
<span class="w">        </span><span class="n">setContentView</span><span class="p">(</span><span class="n">R</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">intent</span><span class="p">);</span>
<span class="w">        </span><span class="n">Textv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">TextView</span><span class="p">)</span><span class="n">findViewById</span><span class="p">(</span><span class="n">R</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">tv2</span><span class="p">);</span>
<span class="w">        </span><span class="n">Intent</span><span class="w"> </span><span class="n">iin</span><span class="o">=</span><span class="w"> </span><span class="n">getIntent</span><span class="p">();</span>
<span class="w">        </span><span class="n">Bundle</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iin</span><span class="o">.</span><span class="n">getExtras</span><span class="p">();</span>

<span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">b</span><span class="o">!=</span><span class="nb nb-Type">null</span><span class="p">)</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nb nb-Type">String</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="p">(</span><span class="nb nb-Type">String</span><span class="p">)</span><span class="w"> </span><span class="n">b</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"name"</span><span class="p">);</span>
<span class="w">            </span><span class="n">Textv</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">j</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2565.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2563.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1171) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1171.html">
<link rel="prev" href="index-1172.html" type="text/html">
<link rel="next" href="index-1170.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/ru-he-jiang-bian-liang-yong-zuo-javascript-dui-xiang-wen-zi-zhong-de-jian/" class="u-url">如何将变量用作 JavaScript 对象文字中的键？</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/ru-he-jiang-bian-liang-yong-zuo-javascript-dui-xiang-wen-zi-zhong-de-jian/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T03:10:13+08:00" itemprop="datePublished" title="2023-02-18 03:10">2023-02-18 03:10</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>为什么以下工作？</p>
<div class="code"><pre class="code literal-block">&lt;something&gt;.stop().animate(
    { 'top' : 10 }, 10
);
</pre></div>

<p>而这不起作用：</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">thetop</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'top'</span><span class="p">;</span>
<span class="o">&lt;</span><span class="n">something</span><span class="o">&gt;.</span><span class="n">stop</span><span class="p">()</span><span class="o">.</span><span class="n">animate</span><span class="p">(</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="n">thetop</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="mi">10</span>
<span class="p">);</span>
</pre></div>

<p>为了更清楚：目前我无法将 CSS 属性作为变量传递给动画函数。</p>
<p><br><br></p>
<h2>解答</h2>
<p><code>{ thetop : 10 }</code>是一个有效的对象字面量。该代码将创建一个对象，<code>thetop</code>该对象具有名为 10 的属性。以下两者相同：</p>
<div class="code"><pre class="code literal-block">obj = { thetop : 10 };
obj = { "thetop" : 10 };
</pre></div>

<p>在 ES5 及更早版本中，您不能在对象字面量中使用变量作为属性名称。您唯一的选择是执行以下操作：</p>
<div class="code"><pre class="code literal-block"><span class="nf">var</span><span class="w"> </span><span class="n">thetop</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">"top"</span><span class="p">;</span>

<span class="o">//</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">object</span><span class="w"> </span><span class="n">literal</span>
<span class="nf">var</span><span class="w"> </span><span class="n">aniArgs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{}</span><span class="p">;</span>

<span class="o">//</span><span class="w"> </span><span class="n">Assign</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">variable</span><span class="w"> </span><span class="n">property</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">value</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="mi">10</span>
<span class="n">aniArgs</span><span class="o">[</span><span class="n">thetop</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>

<span class="o">//</span><span class="w"> </span><span class="n">Pass</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">resulting</span><span class="w"> </span><span class="k">object</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">animate</span><span class="w"> </span><span class="k">method</span>
<span class="o">&lt;</span><span class="n">something</span><span class="o">&gt;</span><span class="p">.</span><span class="n">stop</span><span class="p">().</span><span class="n">animate</span><span class="p">(</span>
<span class="w">    </span><span class="n">aniArgs</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="w">  </span>
<span class="p">);</span>
</pre></div>

<p>ES6将 <em>ComputedPropertyName</em> 定义 为对象字面量语法的一部分，它允许您编写如下代码： __</p>
<div class="code"><pre class="code literal-block"><span class="w"> </span><span class="nf">var</span><span class="w"> </span><span class="n">thetop</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">"top"</span><span class="p">,</span>
<span class="w">    </span><span class="n">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="o">[</span><span class="n">thetop</span><span class="o">]</span><span class="err">:</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="err">}</span><span class="p">;</span>

<span class="n">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="n">obj</span><span class="p">.</span><span class="k">top</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">10</span>
</pre></div>

<p>您可以在每个主流浏览器的最新版本中使用这种新语法。</p>
<p><br></p>
<h3>更多建议</h3>
<p>使用ECMAScript 2015，您现在可以在对象声明中使用方括号符号直接执行此操作：</p>
<div class="code"><pre class="code literal-block"><span class="nf">var</span><span class="w"> </span><span class="n">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{</span>
<span class="w">  </span><span class="o">[</span><span class="n">key</span><span class="o">]</span><span class="err">:</span><span class="w"> </span><span class="k">value</span>
<span class="err">}</span>
</pre></div>

<p><code>key</code>返回值的任何类型的表达式（例如变量）都可以在哪里。</p>
<p>所以在这里你的代码看起来像：</p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;</span><span class="n">something</span><span class="o">&gt;</span><span class="p">.</span><span class="n">stop</span><span class="p">().</span><span class="n">animate</span><span class="p">(</span><span class="err">{</span>
<span class="w">  </span><span class="o">[</span><span class="n">thetop</span><span class="o">]</span><span class="err">:</span><span class="w"> </span><span class="mi">10</span>
<span class="err">}</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
</pre></div>

<p><code>thetop</code>在用作键之前将在哪里进行评估。</p>
<p><br><br><a href="posts/how-to-use-a-variable-for-a-key-in-a-javascript-object-literal/">查看原文</a></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/google-oauth-2-shou-quan-cuo-wu-redirect-uri-mismatch/" class="u-url">Google OAuth 2 授权 - 错误：redirect_uri_mismatch</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/google-oauth-2-shou-quan-cuo-wu-redirect-uri-mismatch/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T03:09:46+08:00" itemprop="datePublished" title="2023-02-18 03:09">2023-02-18 03:09</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>在网站https://code.google.com/apis/console上，我已经注册了我的应用程序，为我的应用程序设置了生成的 <strong>客户端
ID：</strong> 和 <strong>客户端密码</strong> ，并尝试使用 Google 登录。不幸的是，我收到错误消息：</p>
<div class="code"><pre class="code literal-block"><span class="n">Error</span><span class="o">:</span><span class="w"> </span><span class="n">redirect_uri_mismatch</span>
<span class="n">The</span><span class="w"> </span><span class="n">redirect</span><span class="w"> </span><span class="n">URI</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">request</span><span class="o">:</span><span class="w"> </span><span class="n">http</span><span class="o">://</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="o">:</span><span class="mi">3000</span><span class="sr">/auth/google_oauth2/</span><span class="n">callback</span><span class="w"> </span><span class="n">did</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">match</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">registered</span><span class="w"> </span><span class="n">redirect</span><span class="w"> </span><span class="n">URI</span>

<span class="n">scope</span><span class="o">=</span><span class="n">https</span><span class="o">://</span><span class="n">www</span><span class="o">.</span><span class="na">googleapis</span><span class="o">.</span><span class="na">com</span><span class="sr">/auth/userinfo.profile https://www.googleapis.com/auth/</span><span class="n">userinfo</span><span class="o">.</span><span class="na">email</span>
<span class="n">response_type</span><span class="o">=</span><span class="n">code</span>
<span class="n">redirect_uri</span><span class="o">=</span><span class="n">http</span><span class="o">://</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="o">:</span><span class="mi">3000</span><span class="sr">/auth/google_oauth2/</span><span class="n">callback</span>
<span class="n">access_type</span><span class="o">=</span><span class="n">offline</span>
<span class="n">approval_prompt</span><span class="o">=</span><span class="n">force</span>
<span class="n">client_id</span><span class="o">=</span><span class="n">generated_id</span>
</pre></div>

<p>此消息是什么意思，我该如何解决？我使用 gem <strong>omniauth-google-oauth2</strong> 。</p>
<p><br><br></p>
<h2>解答</h2>
<p>重定向 URI（响应返回的位置）必须在 API 控制台中注册，错误表明您没有这样做，或者没有正确完成。</p>
<p>转到项目的控制台并查看 API 访问。您应该会看到您的<code>client ID</code>&amp;<code>client secret</code>以及重定向 URI 列表。如果您想要的 URI
未列出，请单击编辑设置并将 URI 添加到列表中。</p>
<p>编辑：（来自下面评价很高的评论）请注意，更新 google api 控制台和存在的更改可能需要一些时间。一般只有几分钟，但有时似乎更长。</p>
<p><br></p>
<h3>更多建议</h3>
<p>在我的例子中是<code>www</code>URL <code>non-www</code>。实际站点有<code>www</code>URL，Google Developer Console 中的 <strong>授权重定向
URI</strong><code>non-www</code>有URL。因此，重定向 URI 不匹配。<code>Authorized Redirect URIs</code>我通过在 Google
Developer Console 中更新为<code>www</code>URL 解决了这个问题。</p>
<p>其他常见的 URI 不匹配是：</p>
<ul>
<li>
<code>http://</code>在授权重定向 URI 中用作<code>https://</code>实际 URL，反之亦然</li>
<li>在授权重定向 URI 中使用尾部斜杠 ( <code>http://example.com/</code>) 而不是使用尾部斜杠 ( <code>http://example.com</code>) 作为实际 URL，反之亦然</li>
</ul>
<p>以下是 Google Developer Console 的分步屏幕截图，这对那些难以找到开发者控制台页面以更新重定向 URI 的人会有所帮助。</p>
<blockquote>
<ol>
<li>
<p>转到https://console.developers.google.com</p>
</li>
<li>
<p>选择您的项目</p>
</li>
</ol>
</blockquote>
<p><img alt="选择您的项目" src="images/RJfZi.png"></p>
<blockquote>
<ol>
<li>单击菜单图标
</li>
</ol>
</blockquote>
<p><img alt="单击菜单图标" src="images/xPR5j.png"></p>
<blockquote>
<ol>
<li>点击<code>API Manager</code>菜单
</li>
</ol>
</blockquote>
<p><img alt="选择 API 管理器菜单" src="images/VQ9la.png"></p>
<blockquote>
<ol>
<li>点击<code>Credentials</code>菜单。在 下<code>OAuth 2.0 Client IDs</code>，您会找到您的客户名称。就我而言，它是<code>Web
Client 1</code>。单击它，将出现一个弹出窗口，您可以在其中编辑 <strong>Authorized Javascript Origin</strong> 和
<strong>Authorized redirect URIs</strong> 。
</li>
</ol>
</blockquote>
<p><img alt="选择凭据菜单" src="images/X6rRh.png"></p>
<p><strong>注意</strong> ：授权 URI
默认包括所有本地主机链接，任何实时版本都需要包括完整路径，而不仅仅是域，例如https://example.com/path/to/oauth/url</p>
<p>这是一篇关于创建项目和客户端 ID的 Google 文章。</p>
<p><br><br><a href="posts/google-oauth-2-authorization-error-redirect-uri-mismatch/">查看原文</a></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/ru-he-shi-yong-laravel-eloquent-chuang-jian-duo-ge-where-zi-ju-cha-xun/" class="u-url">如何使用 Laravel Eloquent 创建多个 Where 子句查询？</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/ru-he-shi-yong-laravel-eloquent-chuang-jian-duo-ge-where-zi-ju-cha-xun/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T03:09:08+08:00" itemprop="datePublished" title="2023-02-18 03:09">2023-02-18 03:09</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>我正在使用 Laravel Eloquent 查询生成器，我有一个查询，我想要一个<code>WHERE</code>针对多个条件的子句。它有效，但并不优雅。</p>
<p>例子：</p>
<div class="code"><pre class="code literal-block"><span class="o">$</span><span class="nt">results</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">User</span><span class="p">::</span><span class="nd">where</span><span class="o">(</span><span class="s1">'this'</span><span class="o">,</span><span class="w"> </span><span class="s1">'='</span><span class="o">,</span><span class="w"> </span><span class="nt">1</span><span class="o">)</span>
<span class="w">    </span><span class="nt">-</span><span class="o">&gt;</span><span class="nt">where</span><span class="o">(</span><span class="s1">'that'</span><span class="o">,</span><span class="w"> </span><span class="s1">'='</span><span class="o">,</span><span class="w"> </span><span class="nt">1</span><span class="o">)</span>
<span class="w">    </span><span class="nt">-</span><span class="o">&gt;</span><span class="nt">where</span><span class="o">(</span><span class="s1">'this_too'</span><span class="o">,</span><span class="w"> </span><span class="s1">'='</span><span class="o">,</span><span class="w"> </span><span class="nt">1</span><span class="o">)</span>
<span class="w">    </span><span class="nt">-</span><span class="o">&gt;</span><span class="nt">where</span><span class="o">(</span><span class="s1">'that_too'</span><span class="o">,</span><span class="w"> </span><span class="s1">'='</span><span class="o">,</span><span class="w"> </span><span class="nt">1</span><span class="o">)</span>
<span class="w">    </span><span class="nt">-</span><span class="o">&gt;</span><span class="nt">where</span><span class="o">(</span><span class="s1">'this_as_well'</span><span class="o">,</span><span class="w"> </span><span class="s1">'='</span><span class="o">,</span><span class="w"> </span><span class="nt">1</span><span class="o">)</span>
<span class="w">    </span><span class="nt">-</span><span class="o">&gt;</span><span class="nt">where</span><span class="o">(</span><span class="s1">'that_as_well'</span><span class="o">,</span><span class="w"> </span><span class="s1">'='</span><span class="o">,</span><span class="w"> </span><span class="nt">1</span><span class="o">)</span>
<span class="w">    </span><span class="nt">-</span><span class="o">&gt;</span><span class="nt">where</span><span class="o">(</span><span class="s1">'this_one_too'</span><span class="o">,</span><span class="w"> </span><span class="s1">'='</span><span class="o">,</span><span class="w"> </span><span class="nt">1</span><span class="o">)</span>
<span class="w">    </span><span class="nt">-</span><span class="o">&gt;</span><span class="nt">where</span><span class="o">(</span><span class="s1">'that_one_too'</span><span class="o">,</span><span class="w"> </span><span class="s1">'='</span><span class="o">,</span><span class="w"> </span><span class="nt">1</span><span class="o">)</span>
<span class="w">    </span><span class="nt">-</span><span class="o">&gt;</span><span class="nt">where</span><span class="o">(</span><span class="s1">'this_one_as_well'</span><span class="o">,</span><span class="w"> </span><span class="s1">'='</span><span class="o">,</span><span class="w"> </span><span class="nt">1</span><span class="o">)</span>
<span class="w">    </span><span class="nt">-</span><span class="o">&gt;</span><span class="nt">where</span><span class="o">(</span><span class="s1">'that_one_as_well'</span><span class="o">,</span><span class="w"> </span><span class="s1">'='</span><span class="o">,</span><span class="w"> </span><span class="nt">1</span><span class="o">)</span>
<span class="w">    </span><span class="nt">-</span><span class="o">&gt;</span><span class="nt">get</span><span class="o">();</span>
</pre></div>

<p>有没有更好的方法来做到这一点，还是我应该坚持使用这种方法？</p>
<p><br><br></p>
<h2>解答</h2>
<p><strong>在 Laravel 5.3</strong>中（从7.x开始仍然如此）你可以使用更细化的 wheres 作为数组传递：</p>
<div class="code"><pre class="code literal-block"><span class="err">$</span><span class="n">query</span><span class="o">-&gt;</span><span class="n">where</span><span class="p">([</span>
<span class="w">    </span><span class="p">[</span><span class="s">'column_1'</span><span class="p">,</span><span class="w"> </span><span class="s">'='</span><span class="p">,</span><span class="w"> </span><span class="s">'value_1'</span><span class="p">],</span>
<span class="w">    </span><span class="p">[</span><span class="s">'column_2'</span><span class="p">,</span><span class="w"> </span><span class="s">'&lt;&gt;'</span><span class="p">,</span><span class="w"> </span><span class="s">'value_2'</span><span class="p">],</span>
<span class="w">    </span><span class="p">[</span><span class="n">COLUMN</span><span class="p">,</span><span class="w"> </span><span class="n">OPERATOR</span><span class="p">,</span><span class="w"> </span><span class="n">VALUE</span><span class="p">],</span>
<span class="w">    </span><span class="p">...</span>
<span class="p">])</span>
</pre></div>

<p><code>where</code>就我个人而言，我还没有通过多次调用找到这个用例，但事实是你可以使用它。</p>
<p><strong>自 2014 年 6 月起，您可以将数组传递给<code>where</code></strong></p>
<p>只要你想要所有的<code>wheres</code>use<code>and</code>运算符，你都可以这样分组：</p>
<div class="code"><pre class="code literal-block"><span class="o">$</span><span class="nt">matchThese</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="cp">[</span><span class="s1">'field'</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">'value'</span><span class="p">,</span><span class="w"> </span><span class="s1">'another_field'</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">'another_value'</span><span class="p">,</span><span class="w"> </span><span class="nx">...</span><span class="cp">]</span><span class="o">;</span>

<span class="o">//</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nt">you</span><span class="w"> </span><span class="nt">need</span><span class="w"> </span><span class="nt">another</span><span class="w"> </span><span class="nt">group</span><span class="w"> </span><span class="nt">of</span><span class="w"> </span><span class="nt">wheres</span><span class="w"> </span><span class="nt">as</span><span class="w"> </span><span class="nt">an</span><span class="w"> </span><span class="nt">alternative</span><span class="o">:</span>
<span class="o">$</span><span class="nt">orThose</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="cp">[</span><span class="s1">'yet_another_field'</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">'yet_another_value'</span><span class="p">,</span><span class="w"> </span><span class="nx">...</span><span class="cp">]</span><span class="o">;</span>
</pre></div>

<p>然后：</p>
<div class="code"><pre class="code literal-block"><span class="o">$</span><span class="nt">results</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">User</span><span class="p">::</span><span class="nd">where</span><span class="o">($</span><span class="nt">matchThese</span><span class="o">)</span><span class="nt">-</span><span class="o">&gt;</span><span class="nt">get</span><span class="o">();</span>

<span class="o">//</span><span class="w"> </span><span class="nt">with</span><span class="w"> </span><span class="nt">another</span><span class="w"> </span><span class="nt">group</span>
<span class="o">$</span><span class="nt">results</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">User</span><span class="p">::</span><span class="nd">where</span><span class="o">($</span><span class="nt">matchThese</span><span class="o">)</span>
<span class="w">    </span><span class="nt">-</span><span class="o">&gt;</span><span class="nt">orWhere</span><span class="o">($</span><span class="nt">orThose</span><span class="o">)</span>
<span class="w">    </span><span class="nt">-</span><span class="o">&gt;</span><span class="nt">get</span><span class="o">();</span>
</pre></div>

<p>以上将导致这样的查询：</p>
<div class="code"><pre class="code literal-block">SELECT * FROM users
  WHERE (field = value AND another_field = another_value AND ...)
  OR (yet_another_field = yet_another_value AND ...)
</pre></div>

<p><br></p>
<h3>更多建议</h3>
<p>您可以像这样在匿名函数中使用子查询：</p>
<div class="code"><pre class="code literal-block"><span class="w"> </span><span class="o">$</span><span class="nt">results</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">User</span><span class="p">::</span><span class="nd">where</span><span class="o">(</span><span class="s1">'this'</span><span class="o">,</span><span class="w"> </span><span class="s1">'='</span><span class="o">,</span><span class="w"> </span><span class="nt">1</span><span class="o">)</span>
<span class="w">       </span><span class="nt">-</span><span class="o">&gt;</span><span class="nt">where</span><span class="o">(</span><span class="s1">'that'</span><span class="o">,</span><span class="w"> </span><span class="s1">'='</span><span class="o">,</span><span class="w"> </span><span class="nt">1</span><span class="o">)</span>
<span class="w">       </span><span class="nt">-</span><span class="o">&gt;</span><span class="nt">where</span><span class="o">(</span>
<span class="w">           </span><span class="nt">function</span><span class="o">($</span><span class="nt">query</span><span class="o">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">             </span><span class="err">return</span><span class="w"> </span><span class="err">$query</span>
<span class="w">                    </span><span class="err">-&gt;where('this_too',</span><span class="w"> </span><span class="err">'LIKE',</span><span class="w"> </span><span class="err">'%fake%')</span>
<span class="w">                    </span><span class="err">-&gt;orWhere('that_too',</span><span class="w"> </span><span class="err">'=',</span><span class="w"> </span><span class="err">1)</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span><span class="o">)</span>
<span class="w">            </span><span class="nt">-</span><span class="o">&gt;</span><span class="nt">get</span><span class="o">();</span>
</pre></div>

<p><br><br><a href="posts/how-to-create-multiple-where-clause-query-using-laravel-eloquent/">查看原文</a></p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1172.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1170.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1063) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1063.html">
<link rel="prev" href="index-1064.html" type="text/html">
<link rel="next" href="index-1062.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-send-a-put-delete-request-in-jquery/" class="u-url">How to send a PUT/DELETE request in jQuery?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-send-a-put-delete-request-in-jquery/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T00:13:20+08:00" itemprop="datePublished" title="2023-02-18 00:13">2023-02-18 00:13</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p><code>GET</code>:<code>$.get(..)</code></p>
<p><code>POST</code>:<code>$.post()..</code></p>
<p>What about <code>PUT/DELETE</code>?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You could use the ajax method:</p>
<div class="code"><pre class="code literal-block"><span class="o">$</span><span class="p">.</span><span class="nc">ajax</span><span class="o">(</span><span class="p">{</span>
<span class="w">    </span><span class="n">url</span><span class="p">:</span><span class="w"> </span><span class="s1">'/script.cgi'</span><span class="p">,</span>
<span class="w">    </span><span class="n">type</span><span class="o">:</span><span class="w"> </span><span class="s1">'DELETE'</span><span class="p">,</span>
<span class="w">    </span><span class="n">success</span><span class="o">:</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">result</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="n">Do</span><span class="w"> </span><span class="n">something</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">result</span>
<span class="w">    </span><span class="p">}</span>
<span class="err">}</span><span class="o">);</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p><code>$.ajax</code> will work.</p>
<div class="code"><pre class="code literal-block"><span class="o">$</span><span class="p">.</span><span class="nc">ajax</span><span class="o">(</span><span class="p">{</span>
<span class="w">   </span><span class="n">url</span><span class="p">:</span><span class="w"> </span><span class="s1">'script.php'</span><span class="p">,</span>
<span class="w">   </span><span class="n">type</span><span class="o">:</span><span class="w"> </span><span class="s1">'PUT'</span><span class="p">,</span>
<span class="w">   </span><span class="n">success</span><span class="o">:</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">response</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">     </span><span class="o">//...</span>
<span class="w">   </span><span class="p">}</span>
<span class="err">}</span><span class="o">);</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-declare-global-variables-in-android/" class="u-url">How to declare global variables in Android?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-declare-global-variables-in-android/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T00:12:50+08:00" itemprop="datePublished" title="2023-02-18 00:12">2023-02-18 00:12</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am creating an application which requires login. I created the main and the
login activity.</p>
<p>In the main activity <code>onCreate</code> method I added the following condition:</p>
<div class="code"><pre class="code literal-block"><span class="n">public</span><span class="w"> </span><span class="nb nb-Type">void</span><span class="w"> </span><span class="n">onCreate</span><span class="p">(</span><span class="n">Bundle</span><span class="w"> </span><span class="n">savedInstanceState</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">super</span><span class="o">.</span><span class="n">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">);</span>
<span class="w">    </span><span class="n">setContentView</span><span class="p">(</span><span class="n">R</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">main</span><span class="p">);</span>

<span class="w">    </span><span class="o">...</span>

<span class="w">    </span><span class="n">loadSettings</span><span class="p">();</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">strSessionString</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">login</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="o">...</span>
<span class="p">}</span>
</pre></div>

<p>The <code>onActivityResult</code> method which is executed when the login form terminates
looks like this:</p>
<div class="code"><pre class="code literal-block"><span class="nv">@Override</span>
<span class="k">public</span><span class="w"> </span><span class="n">void</span><span class="w"> </span><span class="n">onActivityResult</span><span class="p">(</span><span class="nc">int</span><span class="w"> </span><span class="n">requestCode</span><span class="p">,</span>
<span class="w">                             </span><span class="nc">int</span><span class="w"> </span><span class="n">resultCode</span><span class="p">,</span>
<span class="w">                             </span><span class="n">Intent</span><span class="w"> </span><span class="k">data</span><span class="p">)</span>
<span class="err">{</span>
<span class="w">    </span><span class="n">super</span><span class="p">.</span><span class="n">onActivityResult</span><span class="p">(</span><span class="n">requestCode</span><span class="p">,</span><span class="w"> </span><span class="n">resultCode</span><span class="p">,</span><span class="w"> </span><span class="k">data</span><span class="p">);</span>
<span class="w">    </span><span class="n">switch</span><span class="p">(</span><span class="n">requestCode</span><span class="p">)</span>
<span class="w">    </span><span class="err">{</span>
<span class="w">        </span><span class="k">case</span><span class="p">(</span><span class="n">SHOW_SUBACTICITY_LOGIN</span><span class="p">)</span><span class="err">:</span>
<span class="w">        </span><span class="err">{</span>
<span class="w">            </span><span class="k">if</span><span class="p">(</span><span class="n">resultCode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">Activity</span><span class="p">.</span><span class="n">RESULT_OK</span><span class="p">)</span>
<span class="w">            </span><span class="err">{</span>

<span class="w">                </span><span class="n">strSessionString</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">data</span><span class="p">.</span><span class="n">getStringExtra</span><span class="p">(</span><span class="n">Login</span><span class="p">.</span><span class="n">SESSIONSTRING</span><span class="p">);</span>
<span class="w">                </span><span class="n">connectionAvailable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">true</span><span class="p">;</span>
<span class="w">                </span><span class="n">strUsername</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">data</span><span class="p">.</span><span class="n">getStringExtra</span><span class="p">(</span><span class="n">Login</span><span class="p">.</span><span class="n">USERNAME</span><span class="p">);</span>
<span class="w">            </span><span class="err">}</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">    </span><span class="err">}</span>
</pre></div>

<p>The problem is the login form sometimes appears twice (the <code>login()</code> method is
called twice) and also when the phone keyboard slides the login form appears
again and I guess the problem is the variable <code>strSessionString</code>.</p>
<p>Does anyone know how to set the variable global in order to avoid login form
appearing after the user already successfully authenticates?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>I wrote this answer back in '09 when Android was relatively new, and there
were many not well established areas in Android development. I have added a
long addendum at the bottom of this post, addressing some criticism, and
detailing a philosophical disagreement I have with the use of Singletons
rather than subclassing Application. Read it at your own risk.</p>
<p><strong>ORIGINAL ANSWER:</strong></p>
<p>The more general problem you are encountering is how to save state across
several Activities and all parts of your application. A static variable (for
instance, a singleton) is a common Java way of achieving this. I have found
however, that a more elegant way in Android is to associate your state with
the Application context.</p>
<p>As you know, each Activity is also a Context, which is information about its
execution environment in the broadest sense. Your application also has a
context, and Android guarantees that it will exist as a single instance across
your application.</p>
<p>The way to do this is to create your own subclass of android.app.Application,
and then specify that class in the application tag in your manifest. Now
Android will automatically create an instance of that class and make it
available for your entire application. You can access it from any <code>context</code>
using the <code>Context.getApplicationContext()</code> method (<code>Activity</code> also provides a
method <code>getApplication()</code> which has the exact same effect). Following is an
extremely simplified example, with caveats to follow:</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span><span class="w"> </span><span class="n">MyApp</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="n">Application</span><span class="w"> </span><span class="p">{</span>

<span class="w">  </span><span class="n">private</span><span class="w"> </span><span class="nb nb-Type">String</span><span class="w"> </span><span class="n">myState</span><span class="p">;</span>

<span class="w">  </span><span class="n">public</span><span class="w"> </span><span class="nb nb-Type">String</span><span class="w"> </span><span class="n">getState</span><span class="p">(){</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">myState</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="n">public</span><span class="w"> </span><span class="nb nb-Type">void</span><span class="w"> </span><span class="n">setState</span><span class="p">(</span><span class="nb nb-Type">String</span><span class="w"> </span><span class="n">s</span><span class="p">){</span>
<span class="w">    </span><span class="n">myState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span><span class="w"> </span><span class="n">Blah</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="n">Activity</span><span class="w"> </span><span class="p">{</span>

<span class="w">  </span><span class="err">@</span><span class="n">Override</span>
<span class="w">  </span><span class="n">public</span><span class="w"> </span><span class="nb nb-Type">void</span><span class="w"> </span><span class="n">onCreate</span><span class="p">(</span><span class="n">Bundle</span><span class="w"> </span><span class="n">b</span><span class="p">){</span>
<span class="w">    </span><span class="o">...</span>
<span class="w">    </span><span class="n">MyApp</span><span class="w"> </span><span class="n">appState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">((</span><span class="n">MyApp</span><span class="p">)</span><span class="n">getApplicationContext</span><span class="p">());</span>
<span class="w">    </span><span class="nb nb-Type">String</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">appState</span><span class="o">.</span><span class="n">getState</span><span class="p">();</span>
<span class="w">    </span><span class="o">...</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>This has essentially the same effect as using a static variable or singleton,
but integrates quite well into the existing Android framework. Note that this
will not work across processes (should your app be one of the rare ones that
has multiple processes).</p>
<p>Something to note from the example above; suppose we had instead done
something like:</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span><span class="w"> </span><span class="n">MyApp</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="n">Application</span><span class="w"> </span><span class="p">{</span>

<span class="w">  </span><span class="n">private</span><span class="w"> </span><span class="nb nb-Type">String</span><span class="w"> </span><span class="n">myState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">/*</span><span class="w"> </span><span class="n">complicated</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">slow</span><span class="w"> </span><span class="n">initialization</span><span class="w"> </span><span class="o">*/</span><span class="p">;</span>

<span class="w">  </span><span class="n">public</span><span class="w"> </span><span class="nb nb-Type">String</span><span class="w"> </span><span class="n">getState</span><span class="p">(){</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">myState</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>Now this slow initialization (such as hitting disk, hitting network, anything
blocking, etc) will be performed every time Application is instantiated! You
may think, well, this is only once for the process and I'll have to pay the
cost anyways, right? For instance, as Dianne Hackborn mentions below, it is
entirely possible for your process to be instantiated -just- to handle a
background broadcast event. If your broadcast processing has no need for this
state you have potentially just done a whole series of complicated and slow
operations for nothing. Lazy instantiation is the name of the game here. The
following is a slightly more complicated way of using Application which makes
more sense for anything but the simplest of uses:</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span><span class="w"> </span><span class="n">MyApp</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="n">Application</span><span class="w"> </span><span class="p">{</span>

<span class="w">  </span><span class="n">private</span><span class="w"> </span><span class="n">MyStateManager</span><span class="w"> </span><span class="n">myStateManager</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">MyStateManager</span><span class="p">();</span>

<span class="w">  </span><span class="n">public</span><span class="w"> </span><span class="n">MyStateManager</span><span class="w"> </span><span class="n">getStateManager</span><span class="p">(){</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">myStateManager</span><span class="w"> </span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span><span class="w"> </span><span class="n">MyStateManager</span><span class="w"> </span><span class="p">{</span>

<span class="w">  </span><span class="n">MyStateManager</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">/*</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">fast</span><span class="w"> </span><span class="o">*/</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nb nb-Type">String</span><span class="w"> </span><span class="n">getState</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">/*</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">necessary</span><span class="p">,</span><span class="w"> </span><span class="n">perform</span><span class="w"> </span><span class="n">blocking</span><span class="w"> </span><span class="n">calls</span><span class="w"> </span><span class="n">here</span><span class="w"> </span><span class="o">*/</span>
<span class="w">    </span><span class="o">/*</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">sure</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">deal</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">multithreading</span><span class="o">/</span><span class="n">synchronicity</span><span class="w"> </span><span class="n">issues</span><span class="w"> </span><span class="o">*/</span>

<span class="w">    </span><span class="o">...</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">state</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span><span class="w"> </span><span class="n">Blah</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="n">Activity</span><span class="w"> </span><span class="p">{</span>

<span class="w">  </span><span class="err">@</span><span class="n">Override</span>
<span class="w">  </span><span class="n">public</span><span class="w"> </span><span class="nb nb-Type">void</span><span class="w"> </span><span class="n">onCreate</span><span class="p">(</span><span class="n">Bundle</span><span class="w"> </span><span class="n">b</span><span class="p">){</span>
<span class="w">    </span><span class="o">...</span>
<span class="w">    </span><span class="n">MyStateManager</span><span class="w"> </span><span class="n">stateManager</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">((</span><span class="n">MyApp</span><span class="p">)</span><span class="n">getApplicationContext</span><span class="p">())</span><span class="o">.</span><span class="n">getStateManager</span><span class="p">();</span>
<span class="w">    </span><span class="nb nb-Type">String</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">stateManager</span><span class="o">.</span><span class="n">getState</span><span class="p">();</span>
<span class="w">    </span><span class="o">...</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>While I prefer Application subclassing to using singletons here as the more
elegant solution, I would rather developers use singletons if really necessary
over not thinking at all through the performance and multithreading
implications of associating state with the Application subclass.</p>
<p><strong>NOTE 1:</strong> Also as anticafe commented, in order to correctly tie your
Application override to your application a tag is necessary in the manifest
file. Again, see the Android docs for more info. An example:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;application</span>
<span class="w">     </span><span class="na">android:name=</span><span class="s">"my.application.MyApp"</span><span class="w"> </span>
<span class="w">     </span><span class="na">android:icon=</span><span class="s">"..."</span>
<span class="w">     </span><span class="na">android:label=</span><span class="s">"..."</span><span class="nt">&gt;</span>
<span class="nt">&lt;/application&gt;</span>
</pre></div>

<p><strong>NOTE 2:</strong> user608578 asks below how this works with managing native object
lifecycles. I am not up to speed on using native code with Android in the
slightest, and I am not qualified to answer how that would interact with my
solution. If someone does have an answer to this, I am willing to credit them
and put the information in this post for maximum visibility.</p>
<p><strong>ADDENDUM:</strong></p>
<p>As some people have noted, this is <strong>not</strong> a solution for <strong>persistent</strong>
state, something I perhaps should have emphasized more in the original answer.
I.e. this is not meant to be a solution for saving user or other information
that is meant to be persisted across application lifetimes. Thus, I consider
most criticism below related to Applications being killed at any time, etc...,
moot, as anything that ever needed to be persisted to disk should not be
stored through an Application subclass. It is meant to be a solution for
storing temporary, easily re-creatable application state (whether a user is
logged in for example) and components which are single instance (application
network manager for example) ( <strong>NOT</strong> singleton!) in nature.</p>
<p>Dayerman has been kind enough to point out an interesting conversation with
Reto Meier and Dianne Hackborn in which use of Application subclasses is
discouraged in favor of Singleton patterns. Somatik also pointed out something
of this nature earlier, although I didn't see it at the time. Because of Reto
and Dianne's roles in maintaining the Android platform, I cannot in good faith
recommend ignoring their advice. What they say, goes. I do wish to disagree
with the opinions, expressed with regards to preferring Singleton over
Application subclasses. In my disagreement I will be making use of concepts
best explained in this StackExchange explanation of the Singleton design
pattern, so that I do not have to define terms in this answer. I highly
encourage skimming the link before continuing. Point by point:</p>
<p>Dianne states, "There is no reason to subclass from Application. It is no
different than making a singleton..." This first claim is incorrect. There are
two main reasons for this. 1) The Application class provides a better lifetime
guarantee for an application developer; it is guaranteed to have the lifetime
of the application. A singleton is not EXPLICITLY tied to the lifetime of the
application (although it is effectively). This may be a non-issue for your
average application developer, but I would argue this is exactly the type of
contract the Android API should be offering, and it provides much more
flexibility to the Android system as well, by minimizing the lifetime of
associated data. 2) The Application class provides the application developer
with a single instance holder for state, which is very different from a
Singleton holder of state. For a list of the differences, see the Singleton
explanation link above.</p>
<p>Dianne continues, "...just likely to be something you regret in the future as
you find your Application object becoming this big tangled mess of what should
be independent application logic." This is certainly not incorrect, but this
is not a reason for choosing Singleton over Application subclass. None of
Diane's arguments provide a reason that using a Singleton is better than an
Application subclass, all she attempts to establish is that using a Singleton
is no worse than an Application subclass, which I believe is false.</p>
<p>She continues, "And this leads more naturally to how you should be managing
these things -- initializing them on demand." This ignores the fact that there
is no reason you cannot initialize on demand using an Application subclass as
well. Again there is no difference.</p>
<p>Dianne ends with "The framework itself has tons and tons of singletons for all
the little shared data it maintains for the app, such as caches of loaded
resources, pools of objects, etc. It works great." I am not arguing that using
Singletons cannot work fine or are not a legitimate alternative. I am arguing
that Singletons do not provide as strong a contract with the Android system as
using an Application subclass, and further that using Singletons generally
points to inflexible design, which is not easily modified, and leads to many
problems down the road. IMHO, the strong contract the Android API offers to
developer applications is one of the most appealing and pleasing aspects of
programming with Android, and helped lead to early developer adoption which
drove the Android platform to the success it has today. Suggesting using
Singletons is implicitly moving away from a strong API contract, and in my
opinion, weakens the Android framework.</p>
<p>Dianne has commented below as well, mentioning an additional downside to using
Application subclasses, they may encourage or make it easier to write less
performance code. This is very true, and I have edited this answer to
emphasize the importance of considering perf here, and taking the correct
approach if you're using Application subclassing. As Dianne states, it is
important to remember that your Application class will be instantiated every
time your process is loaded (could be multiple times at once if your
application runs in multiple processes!) even if the process is only being
loaded for a background broadcast event. It is therefore important to use the
Application class more as a repository for pointers to shared components of
your application rather than as a place to do any processing!</p>
<p>I leave you with the following list of downsides to Singletons, as stolen from
the earlier StackExchange link:</p>
<ul>
<li>Inability to use abstract or interface classes;</li>
<li>Inability to subclass;</li>
<li>High coupling across the application (difficult to modify);</li>
<li>Difficult to test (can't fake/mock in unit tests);</li>
<li>Difficult to parallelize in the case of mutable state (requires extensive locking);</li>
</ul>
<p>and add my own:</p>
<ul>
<li>Unclear and unmanageable lifetime contract unsuited for Android (or most other) development;</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<p>Create this subclass</p>
<div class="code"><pre class="code literal-block"><span class="n">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">MyApp</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="n">Application</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nb nb-Type">String</span><span class="w"> </span><span class="n">foo</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>In the AndroidManifest.xml add android:name</p>
<p><strong>Example</strong></p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;</span><span class="n">application</span><span class="w"> </span><span class="nl">android</span><span class="p">:</span><span class="n">name</span><span class="o">=</span><span class="ss">".MyApp"</span><span class="w"> </span>
<span class="w">       </span><span class="nl">android</span><span class="p">:</span><span class="n">icon</span><span class="o">=</span><span class="ss">"@drawable/icon"</span><span class="w"> </span>
<span class="w">       </span><span class="nl">android</span><span class="p">:</span><span class="n">label</span><span class="o">=</span><span class="ss">"@string/app_name"</span><span class="o">&gt;</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-install-a-specific-version-of-package-using-composer/" class="u-url">How to install a specific version of package using Composer?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-install-a-specific-version-of-package-using-composer/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T00:12:23+08:00" itemprop="datePublished" title="2023-02-18 00:12">2023-02-18 00:12</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am trying to install a specific version of a package using Composer. I tried
<code>composer install</code> and <code>composer require</code> but they are installing the latest
version of the package. What if I want an older version?</p>
<p><br><br></p>
<h2>Answer</h2>
<p><code>composer require vendor/package:version</code></p>
<p>for example:</p>
<p><code>composer require refinery29/test-util:0.10.2</code></p>
<p><br></p>
<h3>Suggest</h3>
<p>Add double quotes to use <code>"^" caret operator</code> in version number.</p>
<div class="code"><pre class="code literal-block">composer require middlewares/whoops "^0.4"
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1064.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1062.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

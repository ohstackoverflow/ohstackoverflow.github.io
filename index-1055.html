<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1055) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1055.html">
<link rel="prev" href="index-1056.html" type="text/html">
<link rel="next" href="index-1054.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/javascript-checking-for-null-vs-undefined-and-difference-between-and/" class="u-url">JavaScript checking for null vs. undefined and difference between == and ===</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/javascript-checking-for-null-vs-undefined-and-difference-between-and/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T23:57:44+08:00" itemprop="datePublished" title="2023-02-17 23:57">2023-02-17 23:57</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <ol>
<li>
<p>How do I check a variable if it's <code>null</code> or <code>undefined</code> and what is the difference between the <code>null</code> and <code>undefined</code>?</p>
</li>
<li>
<p>What is the difference between <code>==</code> and <code>===</code> (it's hard to search Google for "===" )?</p>
</li>
</ol>
<p><br><br></p>
<h2>Answer</h2>
<blockquote>
<p>How do I check a variable if it's <code>null</code> or <code>undefined</code>...</p>
</blockquote>
<p>Is the variable <code>null</code>:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">a</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nv">null</span><span class="ss">)</span>
<span class="o">//</span><span class="w"> </span><span class="nv">or</span>
<span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">a</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">null</span><span class="ss">)</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="nv">but</span><span class="w"> </span><span class="nv">see</span><span class="w"> </span><span class="nv">note</span><span class="w"> </span><span class="nv">below</span>
</pre></div>

<p>...but note the latter will also be true if <code>a</code> is <code>undefined</code>.</p>
<p>Is it <code>undefined</code>:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">typeof</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">"undefined"</span><span class="ss">)</span>
<span class="o">//</span><span class="w"> </span><span class="nv">or</span>
<span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">a</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nv">undefined</span><span class="ss">)</span>
<span class="o">//</span><span class="w"> </span><span class="nv">or</span>
<span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">a</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">undefined</span><span class="ss">)</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="nv">but</span><span class="w"> </span><span class="nv">see</span><span class="w"> </span><span class="nv">note</span><span class="w"> </span><span class="nv">below</span>
</pre></div>

<p>...but again, note that the last one is vague; it will also be true if <code>a</code> is
<code>null</code>.</p>
<p>Now, despite the above, the <strong>usual</strong> way to check for those is to use the
fact that they're <em>falsey</em> :</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// `a` is falsey, which includes `undefined` and `null`</span>
<span class="w">    </span><span class="c1">// (and `""`, and `0`, and `NaN`, and [of course] `false`)</span>
<span class="p">}</span>
</pre></div>

<p>This is defined by ToBoolean in the spec.</p>
<blockquote>
<p>...and what is the difference between the <code>null</code> and <code>undefined</code>?</p>
</blockquote>
<p>They're both values usually used to indicate the absence of something.
<code>undefined</code> is the more generic one, used as the default value of variables
until they're assigned some other value, as the value of function arguments
that weren't provided when the function was called, and as the value you get
when you ask an object for a property it doesn't have. But it can also be
explicitly used in all of those situations. (There's a difference between an
object not having a property, and having the property with the value
<code>undefined</code>; there's a difference between calling a function with the value
<code>undefined</code> for an argument, and leaving that argument off entirely.)</p>
<p><code>null</code> is slightly more specific than <code>undefined</code>: It's a blank object
reference. JavaScript is loosely typed, of course, but not all of the things
JavaScript interacts with are loosely typed. If an API like the DOM in
browsers needs an object reference that's blank, we use <code>null</code>, not
<code>undefined</code>. And similarly, the DOM's <code>getElementById</code> operation returns an
object reference — either a valid one (if it found the DOM element), or <code>null</code>
(if it didn't).</p>
<p>Interestingly (or not), they're their own types. Which is to say, <code>null</code> is
the only value in the Null type, and <code>undefined</code> is the only value in the
Undefined type.</p>
<blockquote>
<p>What is the difference between "==" and "==="</p>
</blockquote>
<p>The only difference between them is that <code>==</code> will do type coercion to try to
get the values to match, and <code>===</code> won't. So for instance <code>"1" == 1</code> is true,
because <code>"1"</code> coerces to <code>1</code>. But <code>"1" === 1</code> is <em>false</em> , because the types
don't match. (<code>"1" !== 1</code> is true.) The first (real) step of <code>===</code> is "Are the
types of the operands the same?" and if the answer is "no", the result is
<code>false</code>. If the types are the same, it does exactly what <code>==</code> does.</p>
<p>Type coercion uses quite complex rules and can have surprising results (for
instance, <code>"" == 0</code> is true).</p>
<p>More in the spec:</p>
<ul>
<li>Abstract Equality Comparison (<code>==</code>, also called "loose" equality)</li>
<li>Strict Equality Comparison (<code>===</code>)</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<p>The difference is subtle.</p>
<p>In JavaScript an <code>undefined</code> variable is a variable that as never been
declared, or never assigned a value. Let's say you declare <code>var a;</code> for
instance, then <code>a</code> will be <code>undefined</code>, because it was never assigned any
value.</p>
<p>But if you then assign <code>a = null;</code> then <code>a</code> will now be <code>null</code>. In JavaScript
<code>null</code> is an object (try <code>typeof null</code> in a JavaScript console if you don't
believe me), which means that null is a value (in fact even <code>undefined</code> is a
value).</p>
<p>Example:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<span class="nb">typeof</span><span class="w"> </span><span class="n">a</span><span class="p">;</span><span class="w">     </span><span class="c1"># =&gt; "undefined"</span>

<span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">;</span>
<span class="nb">typeof</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">;</span><span class="w">  </span><span class="c1"># =&gt; "object"</span>
</pre></div>

<p>This can prove useful in function arguments. You may want to have a default
value, but consider null to be acceptable. In which case you may do:</p>
<div class="code"><pre class="code literal-block"><span class="nv">function</span><span class="w"> </span><span class="nv">doSomething</span><span class="ss">(</span><span class="nv">first</span>,<span class="w"> </span><span class="nv">second</span>,<span class="w"> </span><span class="nv">optional</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">typeof</span><span class="w"> </span><span class="nv">optional</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">"undefined"</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">        </span><span class="nv">optional</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"three"</span><span class="c1">;</span>
<span class="w">    </span>}
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="nv">something</span>
}
</pre></div>

<p>If you omit the <code>optional</code> parameter <code>doSomething(1, 2) then</code>optional will be
the <code>"three"</code> string but if you pass <code>doSomething(1, 2, null)</code> then optional
will be <code>null</code>.</p>
<p>As for the equal <code>==</code> and strictly equal <code>===</code> comparators, the first one is
weakly type, while strictly equal also checks for the type of values. That
means that <code>0 == "0"</code> will return true; while <code>0 === "0"</code> will return false,
because a number is not a string.</p>
<p>You may use those operators to check between <code>undefined</code> an <code>null</code>. For
example:</p>
<div class="code"><pre class="code literal-block">null === null            # =&gt; true
undefined === undefined  # =&gt; true
undefined === null       # =&gt; false
undefined == null        # =&gt; true
</pre></div>

<p>The last case is interesting, because it allows you to check if a variable is
either undefined or null and nothing else:</p>
<div class="code"><pre class="code literal-block"><span class="nv">function</span><span class="w"> </span><span class="nv">test</span><span class="ss">(</span><span class="nv">val</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">val</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">null</span><span class="c1">;</span>
}
<span class="nv">test</span><span class="ss">(</span><span class="nv">null</span><span class="ss">)</span><span class="c1">;       # =&gt; true</span>
<span class="nv">test</span><span class="ss">(</span><span class="nv">undefined</span><span class="ss">)</span><span class="c1">;  # =&gt; true</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-does-jquery-fn-mean/" class="u-url">What does jQuery.fn mean?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-does-jquery-fn-mean/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T23:57:16+08:00" itemprop="datePublished" title="2023-02-17 23:57">2023-02-17 23:57</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What does the <code>fn</code> here mean?</p>
<div class="code"><pre class="code literal-block">jQuery.fn.jquery
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>In jQuery, the <code>fn</code> property is just an alias to the <code>prototype</code> property.</p>
<p>The <code>jQuery</code> identifier (or <code>$</code>) is just a <em>constructor function</em> , and all
instances created with it, inherit from the constructor's prototype.</p>
<p>A simple constructor function:</p>
<div class="code"><pre class="code literal-block"><span class="n">function</span><span class="w"> </span><span class="n">Test</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">this</span><span class="o">.</span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'a'</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">Test</span><span class="o">.</span><span class="n">prototype</span><span class="o">.</span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'b'</span><span class="p">;</span>

<span class="k">var</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Test</span><span class="p">();</span><span class="w"> </span>
<span class="n">test</span><span class="o">.</span><span class="n">a</span><span class="p">;</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="s2">"a"</span><span class="p">,</span><span class="w"> </span><span class="n">own</span><span class="w"> </span><span class="n">property</span>
<span class="n">test</span><span class="o">.</span><span class="n">b</span><span class="p">;</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="s2">"b"</span><span class="p">,</span><span class="w"> </span><span class="n">inherited</span><span class="w"> </span><span class="n">property</span>
</pre></div>

<p>A simple structure that resembles the architecture of jQuery:</p>
<div class="code"><pre class="code literal-block"><span class="p">(</span><span class="k">function</span><span class="p">()</span><span class="w"> </span><span class="err">{</span>
<span class="w">  </span><span class="n">var</span><span class="w"> </span><span class="n">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span><span class="w"> </span><span class="err">{</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">core</span><span class="w"> </span><span class="n">constructor</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">ensure</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n n-Quoted">`new`</span><span class="w"> </span><span class="n">operator</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">this</span><span class="w"> </span><span class="n">instanceof</span><span class="w"> </span><span class="n">foo</span><span class="p">))</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">foo</span><span class="p">(</span><span class="n">arg</span><span class="p">);</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">store</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">argument</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">example</span>
<span class="w">    </span><span class="n">this</span><span class="p">.</span><span class="n">myArg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">arg</span><span class="p">;</span>
<span class="w">    </span><span class="o">//</span><span class="p">..</span>
<span class="w">  </span><span class="err">}</span><span class="p">;</span>

<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="n n-Quoted">`fn`</span><span class="w"> </span><span class="n">alias</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n n-Quoted">`prototype`</span><span class="w"> </span><span class="n">property</span>
<span class="w">  </span><span class="n">foo</span><span class="p">.</span><span class="n">fn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">foo</span><span class="p">.</span><span class="n">prototype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">init</span><span class="o">:</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="err">{</span><span class="cm">/*...*/</span><span class="err">}</span>
<span class="w">    </span><span class="o">//</span><span class="p">...</span>
<span class="w">  </span><span class="err">}</span><span class="p">;</span>

<span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">expose</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">library</span>
<span class="w">  </span><span class="k">window</span><span class="p">.</span><span class="n">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">foo</span><span class="p">;</span>
<span class="err">}</span><span class="p">)();</span>

<span class="o">//</span><span class="w"> </span><span class="n">Extension</span><span class="o">:</span>

<span class="n">foo</span><span class="p">.</span><span class="n">fn</span><span class="p">.</span><span class="n">myPlugin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="err">{</span>
<span class="w">  </span><span class="n">alert</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">myArg</span><span class="p">);</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">this</span><span class="p">;</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n n-Quoted">`this`</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">chainability</span>
<span class="err">}</span><span class="p">;</span>

<span class="n">foo</span><span class="p">(</span><span class="s2">"bar"</span><span class="p">).</span><span class="n">myPlugin</span><span class="p">();</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">alerts</span><span class="w"> </span><span class="s2">"bar"</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p><code>fn</code> literally refers to the jquery <code>prototype</code>.</p>
<p>This line of code is in the source code:</p>
<div class="code"><pre class="code literal-block">jQuery.fn = jQuery.prototype = {
 //list of functions available to the jQuery api
}
</pre></div>

<p>But the real tool behind <code>fn</code> is its availability to hook your own
functionality into jQuery. Remember that jquery will be the parent scope to
your function, so <code>this</code> will refer to the jquery object.</p>
<div class="code"><pre class="code literal-block"><span class="o">$.</span><span class="n">fn</span><span class="o">.</span><span class="n">myExtension</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">(){</span>
<span class="w"> </span><span class="k">var</span><span class="w"> </span><span class="n">currentjQueryObject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">this</span><span class="p">;</span>
<span class="w"> </span><span class="o">//</span><span class="n">work</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">currentObject</span>
<span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">this</span><span class="p">;</span><span class="o">//</span><span class="n">you</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">include</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">like</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="n">chaining</span>
<span class="p">};</span>
</pre></div>

<p>So here is a simple example of that. Lets say I want to make two extensions,
one which puts a blue border, and which colors the text blue, and I want them
chained.</p>
<h3><strong><em><code>jsFiddle Demo</code></em></strong></h3>
<div class="code"><pre class="code literal-block">$.<span class="nv">fn</span>.<span class="nv">blueBorder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">function</span><span class="ss">()</span>{
<span class="w"> </span><span class="nv">this</span>.<span class="nv">each</span><span class="ss">(</span><span class="nv">function</span><span class="ss">()</span>{
<span class="w">  </span>$<span class="ss">(</span><span class="nv">this</span><span class="ss">)</span>.<span class="nv">css</span><span class="ss">(</span><span class="s2">"border"</span>,<span class="s2">"solid blue 2px"</span><span class="ss">)</span><span class="c1">;</span>
<span class="w"> </span>}<span class="ss">)</span><span class="c1">;</span>
<span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="nv">this</span><span class="c1">;</span>
}<span class="c1">;</span>
$.<span class="nv">fn</span>.<span class="nv">blueText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">function</span><span class="ss">()</span>{
<span class="w"> </span><span class="nv">this</span>.<span class="nv">each</span><span class="ss">(</span><span class="nv">function</span><span class="ss">()</span>{
<span class="w">  </span>$<span class="ss">(</span><span class="nv">this</span><span class="ss">)</span>.<span class="nv">css</span><span class="ss">(</span><span class="s2">"color"</span>,<span class="s2">"blue"</span><span class="ss">)</span><span class="c1">;</span>
<span class="w"> </span>}<span class="ss">)</span><span class="c1">;</span>
<span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="nv">this</span><span class="c1">;</span>
}<span class="c1">;</span>
</pre></div>

<p>Now you can use those against a class like this:</p>
<div class="code"><pre class="code literal-block">$('.blue').blueBorder().blueText();
</pre></div>

<p>(I know this is best done with css such as applying different class names, but
please keep in mind this is just a demo to show the concept)</p>
<p>This answer has a good example of a full fledged extension.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/most-pythonic-way-to-delete-a-file-which-may-not-exist/" class="u-url">Most pythonic way to delete a file which may not exist</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/most-pythonic-way-to-delete-a-file-which-may-not-exist/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T23:56:47+08:00" itemprop="datePublished" title="2023-02-17 23:56">2023-02-17 23:56</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I want to delete the file <code>filename</code> if it exists. Is it proper to say</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="nv">os</span>.<span class="nv">path</span>.<span class="nv">exists</span><span class="ss">(</span><span class="nv">filename</span><span class="ss">)</span>:
<span class="w">    </span><span class="nv">os</span>.<span class="nv">remove</span><span class="ss">(</span><span class="nv">filename</span><span class="ss">)</span>
</pre></div>

<p>Is there a better way? A one-line way?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>A more pythonic way would be:</p>
<div class="code"><pre class="code literal-block"><span class="k">try</span><span class="o">:</span>
<span class="w">    </span><span class="n">os</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">filename</span><span class="o">)</span>
<span class="n">except</span><span class="w"> </span><span class="n">OSError</span><span class="o">:</span>
<span class="w">    </span><span class="n">pass</span>
</pre></div>

<p>Although this takes even more lines and looks very ugly, it avoids the
unnecessary call to <code>os.path.exists()</code> and follows the python convention of
overusing exceptions.</p>
<p>It may be worthwhile to write a function to do this for you:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">errno</span>

<span class="k">def</span> <span class="nf">silentremove</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">OSError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="c1"># this would be "except OSError, e:" before Python 2.6</span>
        <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">errno</span> <span class="o">!=</span> <span class="n">errno</span><span class="o">.</span><span class="n">ENOENT</span><span class="p">:</span> <span class="c1"># errno.ENOENT = no such file or directory</span>
            <span class="k">raise</span> <span class="c1"># re-raise exception if a different error occurred</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>I prefer to suppress an exception rather than checking for the file's
existence, to avoid a TOCTTOU bug. Matt's answer is a good example of this,
but we can simplify it slightly under Python 3, using <code>contextlib.suppress()</code>:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">contextlib</span>

<span class="k">with</span> <span class="n">contextlib</span><span class="o">.</span><span class="n">suppress</span><span class="p">(</span><span class="ne">FileNotFoundError</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</pre></div>

<p>If <code>filename</code> is a <code>pathlib.Path</code> object instead of a string, we can call its
<code>.unlink()</code> method instead of using <code>os.remove()</code>. In my experience, Path
objects are more useful than strings for filesystem manipulation.</p>
<p>Since everything in this answer is exclusive to Python 3, it provides yet
another reason to upgrade.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1056.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1054.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

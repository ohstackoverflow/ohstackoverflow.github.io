<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 359) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-359.html">
<link rel="prev" href="index-360.html" type="text/html">
<link rel="next" href="index-358.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-the-maximum-length-of-a-valid-email-address/" class="u-url">What is the maximum length of a valid email address?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-the-maximum-length-of-a-valid-email-address/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T04:51:39+08:00" itemprop="datePublished" title="2023-02-17 04:51">2023-02-17 04:51</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What is the maximum length of a valid email address? Is it defined by any
standard?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>An email address must not exceed <strong>254</strong> characters.</p>
<p>This was accepted by the IETF following submitted erratum. A full diagnosis of
any given address is available online. The original version of RFC 3696
described 320 as the maximum length, but John Klensin subsequently accepted an
incorrect value, since a Path is defined as</p>
<div class="code"><pre class="code literal-block">Path = "&lt;" [ A-d-l ":" ] Mailbox "&gt;"
</pre></div>

<p>So the Mailbox element (i.e., the email address) has angle brackets around it
to form a Path, which a maximum length of 254 characters to restrict the Path
length to 256 characters or fewer.</p>
<p>The maximum length specified in RFC 5321 states:</p>
<blockquote>
<p>The maximum total length of a reverse-path or forward-path is 256
characters.</p>
</blockquote>
<p>RFC 3696 was corrected here.</p>
<p>People should be aware of the errata against RFC 3696 in particular. Three of
the canonical examples are in fact invalid addresses.</p>
<p>I've collated a couple hundred test addresses, which you can find at
http://www.dominicsayers.com/isemail</p>
<p><br></p>
<h3>Suggest</h3>
<p>320</p>
<p>And the segments look like this</p>
<p>{64}@{255}</p>
<p>64 + 1 + 255 = 320</p>
<p>You should also read this if you are validating emails: I Knew How To Validate
An Email Address Until I Read The RFC</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/global-git-ignore/" class="u-url">Global Git ignore</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/global-git-ignore/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T04:51:14+08:00" itemprop="datePublished" title="2023-02-17 04:51">2023-02-17 04:51</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I want to set up Git to globally ignore certain files.</p>
<p>I have added a <code>.gitignore</code> file to my home directory (<code>/Users/me/</code>) and I
have added the following line to it:</p>
<div class="code"><pre class="code literal-block">*.tmproj
</pre></div>

<p>But it is not ignoring this type of files, any idea what I am doing wrong?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You need to set up your global <code>core.excludesfile</code> configuration file to point
to this global ignore file e.g:</p>
<ul>
<li>
<p><strong>nix or Windows git bash:</strong></p>
<p>git config --global core.excludesFile '~/.gitignore'</p>
</li>
</ul>
<p><strong>Windows cmd:</strong></p>
<div class="code"><pre class="code literal-block">git config --global core.excludesFile "%USERPROFILE%\.gitignore"
</pre></div>

<p><strong>Windows PowerShell:</strong></p>
<div class="code"><pre class="code literal-block">git config --global core.excludesFile "$Env:USERPROFILE\.gitignore"
</pre></div>

<p>For Windows it is set to the location <code>C:\Users\%username%\.gitignore</code>. You
can verify that the config value is correct by doing:</p>
<div class="code"><pre class="code literal-block">git config --global core.excludesFile
</pre></div>

<p>The result should be the expanded path to your user profile's <code>.gitignore</code>.
Ensure that the value does not contain the unexpanded <code>%USERPROFILE%</code> string.</p>
<p><strong>Important</strong> : The above commands will only set the location of the ignore
file that git will use. The file has to still be manually created in that
location and populated with the ignore list. (from muruge's comment)</p>
<p>You can read about the command at https://docs.github.com/en/get-
started/getting-started-with-git/ignoring-files#configuring-ignored-files-for-
all-repositories-on-your-computer</p>
<p><br></p>
<h3>Suggest</h3>
<p>Although other answers are correct they are setting the global config value
whereas there is a default git location for the global git ignore file.</p>
<p>You can check if the global gitignore exists via:</p>
<div class="code"><pre class="code literal-block">git config --get core.excludesfile
</pre></div>

<p>Typically, it is found in these locations on different operating systems:</p>
<p>*nix:</p>
<div class="code"><pre class="code literal-block">~/.config/git/ignore
</pre></div>

<p>Windows:</p>
<div class="code"><pre class="code literal-block"><span class="c">%USERPROFILE%\.config\git\ignore</span>
</pre></div>

<p>You may need to create the <code>git</code> directory and <code>ignore</code> file and tell git the
location via <code>git config --global core.excludesfile ~/.config/git/ignore</code> but
then you can put your global ignores into that file and that's it!</p>
<p>Source</p>
<blockquote>
<p>Which file to place a pattern in depends on how the pattern is meant to be
used.</p>
</blockquote>
<p>…</p>
<blockquote>
<ul>
<li>Patterns which a user wants Git to ignore in all situations (e.g.,
backup or temporary files generated by the user’s editor of choice)
generally go into a file specified by <code>core.excludesFile</code> in the user’s
<code>~/.gitconfig</code>. Its default value is $XDG_CONFIG_HOME/git/ignore. If
$XDG_CONFIG_HOME is either not set or empty, $HOME/.config/git/ignore is
used instead.
</li>
</ul>
</blockquote>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/why-not-use-double-or-float-to-represent-currency/" class="u-url">Why not use Double or Float to represent currency?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/why-not-use-double-or-float-to-represent-currency/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T04:50:48+08:00" itemprop="datePublished" title="2023-02-17 04:50">2023-02-17 04:50</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I've always been told <em>never</em> to represent money with <code>double</code> or <code>float</code>
types, and this time I pose the question to you: why?</p>
<p>I'm sure there is a very good reason, I simply do not know what it is.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Because floats and doubles cannot accurately represent the base 10 multiples
that we use for money. This issue isn't just for Java, it's for any
programming language that uses base 2 floating-point types.</p>
<p>In base 10, you can write 10.25 as 1025 * 10-2 (an integer times a power of
10). IEEE-754 floating-point numbers are different, but a very simple way to
think about them is to multiply by a power of two instead. For instance, you
could be looking at 164 * 2-4 (an integer times a power of two), which is also
equal to 10.25. That's not how the numbers are represented in memory, but the
math implications are the same.</p>
<p>Even in base 10, this notation cannot accurately represent most simple
fractions. For instance, you can't represent 1/3: the decimal representation
is repeating (0.3333...), so there is no finite integer that you can multiply
by a power of 10 to get 1/3. You could settle on a long sequence of 3's and a
small exponent, like 333333333 * 10-10, but it is not accurate: if you
multiply that by 3, you won't get 1.</p>
<p>However, for the purpose of counting money, at least for countries whose money
is valued within an order of magnitude of the US dollar, usually all you need
is to be able to store multiples of 10-2, so it doesn't really matter that 1/3
can't be represented.</p>
<p>The problem with floats and doubles is that the <em>vast majority</em> of money-like
numbers don't have an exact representation as an integer times a power of 2.
In fact, the only multiples of 0.01 between 0 and 1 (which are significant
when dealing with money because they're integer cents) that can be represented
exactly as an IEEE-754 binary floating-point number are 0, 0.25, 0.5, 0.75 and
1. All the others are off by a small amount. As an analogy to the 0.333333
example, if you take the floating-point value for 0.01 and you multiply it by
10, you won't get 0.1. Instead you will get something like 0.099999999786...</p>
<p>Representing money as a <code>double</code> or <code>float</code> will probably look good at first
as the software rounds off the tiny errors, but as you perform more additions,
subtractions, multiplications and divisions on inexact numbers, errors will
compound and you'll end up with values that are visibly not accurate. This
makes floats and doubles inadequate for dealing with money, where perfect
accuracy for multiples of base 10 powers is required.</p>
<p>A solution that works in just about any language is to use integers instead,
and count cents. For instance, 1025 would be $10.25. Several languages also
have built-in types to deal with money. Among others, Java has the
<code>BigDecimal</code> class, and Rust has the <code>rust_decimal</code> crate, and C# has the
<code>decimal</code> type.</p>
<p><br></p>
<h3>Suggest</h3>
<p><strong>From Bloch, J., Effective Java, (2nd ed, Item 48. 3rd ed, Item 60):</strong></p>
<blockquote>
<p>The <code>float</code> and <code>double</code> types are particularly ill-suited for monetary
calculations because it is impossible to represent 0.1 (or any other
negative power of ten) as a <code>float</code> or <code>double</code> exactly.</p>
<p>For example, suppose you have $1.03 and you spend 42c. How much money do you
have left?</p>
<div class="code"><pre class="code literal-block">System.out.println(1.03 - .42);
</pre></div>

<p>prints out <code>0.6100000000000001</code>.</p>
<p>The right way to solve this problem is to use <code>BigDecimal</code>, <code>int</code> or <code>long</code>
for monetary calculations.</p>
</blockquote>
<p>Though <code>BigDecimal</code> has some caveats (please see currently accepted answer).</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-360.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-358.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

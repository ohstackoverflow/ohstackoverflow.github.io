<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2596) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2596.html">
<link rel="prev" href="index-2597.html" type="text/html">
<link rel="next" href="index-2595.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/sql-how-to-make-null-values-come-last-when-sorting-ascending/" class="u-url">SQL how to make null values come last when sorting ascending</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/sql-how-to-make-null-values-come-last-when-sorting-ascending/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T03:40:46+08:00" itemprop="datePublished" title="2023-03-05 03:40">2023-03-05 03:40</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a SQL table with a datetime field. The field in question can be null. I
have a query and I want the results sorted ascendingly by the datetime field,
however I want rows where the datetime field is null at the end of the list,
not at the beginning.</p>
<p>Is there a simple way to accomplish that?</p>
<p><br><br></p>
<h2>Answer</h2>
<div class="code"><pre class="code literal-block"><span class="nv">select</span><span class="w"> </span><span class="nv">MyDate</span>
<span class="nv">from</span><span class="w"> </span><span class="nv">MyTable</span>
<span class="nv">order</span><span class="w"> </span><span class="nv">by</span><span class="w"> </span><span class="nv">case</span><span class="w"> </span><span class="nv">when</span><span class="w"> </span><span class="nv">MyDate</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">null</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">end</span>,<span class="w"> </span><span class="nv">MyDate</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>(A "bit" late, but this hasn't been mentioned at all)</p>
<p>You didn't specify your DBMS.</p>
<p>In standard SQL (and most modern DBMS like Oracle, PostgreSQL, DB2, Firebird,
Apache Derby, HSQLDB and H2) you can specify <code>NULLS LAST</code> or <code>NULLS FIRST</code>:</p>
<p>Use <code>NULLS LAST</code> to sort them to the end:</p>
<div class="code"><pre class="code literal-block">select *
from some_table
order by some_column DESC NULLS LAST
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/javascript-get-clipboard-data-on-paste-event-cross-browser/" class="u-url">JavaScript get clipboard data on paste event (Cross browser)</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/javascript-get-clipboard-data-on-paste-event-cross-browser/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T03:39:08+08:00" itemprop="datePublished" title="2023-03-05 03:39">2023-03-05 03:39</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How can a web application detect a paste event and retrieve the data to be
pasted?</p>
<p>I would like to remove HTML content before the text is pasted into a rich text
editor.</p>
<p>Cleaning the text after being pasted afterwards works, but the problem is that
all previous formatting is lost. For example, I can write a sentence in the
editor and make it bold, but when I paste new text, all formatting is lost. I
want to clean just the text that is pasted, and leave any previous formatting
untouched.</p>
<p>Ideally, the solution should work across all modern browsers (e.g., MSIE,
Gecko, Chrome, and Safari).</p>
<p>Note that MSIE has <code>clipboardData.getData()</code>, but I could not find similar
functionality for other browsers.</p>
<p><br><br></p>
<h2>Answer</h2>
<p><strong>The situation has changed since writing this answer: now that Firefox has
added support in version 22, all major browsers now support accessing the
clipboard data in a paste event. See Nico Burns's answer for an example.</strong></p>
<p>In the past this was not generally possible in a cross-browser way. The ideal
would be to be able to get the pasted content via the <code>paste</code> event, which is
possible in recent browsers but not in some older browsers (in particular,
Firefox &lt; 22).</p>
<p>When you need to support older browsers, what you can do is quite involved and
a bit of a hack that will work in Firefox 2+, IE 5.5+ and WebKit browsers such
as Safari or Chrome. Recent versions of both TinyMCE and CKEditor use this
technique:</p>
<ol>
<li>Detect a ctrl-v / shift-ins event using a keypress event handler</li>
<li>In that handler, save the current user selection, add a textarea element off-screen (say at left -1000px) to the document, turn <code>designMode</code> off and call <code>focus()</code> on the textarea, thus moving the caret and effectively redirecting the paste</li>
<li>Set a very brief timer (say 1 millisecond) in the event handler to call another function that stores the textarea value, removes the textarea from the document, turns <code>designMode</code> back on, restores the user selection and pastes the text in.</li>
</ol>
<p>Note that this will only work for keyboard paste events and not pastes from
the context or edit menus. By the time the paste event fires, it's too late to
redirect the caret into the textarea (in some browsers, at least).</p>
<p>In the unlikely event that you need to support Firefox 2, note that you'll
need to place the textarea in the parent document rather than the WYSIWYG
editor iframe's document in that browser.</p>
<p><br></p>
<h3>Suggest</h3>
<p><strong>The situation has changed since writing this answer: now that Firefox has
added support in version 22, all major browsers now support accessing the
clipboard data in a paste event. See Nico Burns's answer for an example.</strong></p>
<p>In the past this was not generally possible in a cross-browser way. The ideal
would be to be able to get the pasted content via the <code>paste</code> event, which is
possible in recent browsers but not in some older browsers (in particular,
Firefox &lt; 22).</p>
<p>When you need to support older browsers, what you can do is quite involved and
a bit of a hack that will work in Firefox 2+, IE 5.5+ and WebKit browsers such
as Safari or Chrome. Recent versions of both TinyMCE and CKEditor use this
technique:</p>
<ol>
<li>Detect a ctrl-v / shift-ins event using a keypress event handler</li>
<li>In that handler, save the current user selection, add a textarea element off-screen (say at left -1000px) to the document, turn <code>designMode</code> off and call <code>focus()</code> on the textarea, thus moving the caret and effectively redirecting the paste</li>
<li>Set a very brief timer (say 1 millisecond) in the event handler to call another function that stores the textarea value, removes the textarea from the document, turns <code>designMode</code> back on, restores the user selection and pastes the text in.</li>
</ol>
<p>Note that this will only work for keyboard paste events and not pastes from
the context or edit menus. By the time the paste event fires, it's too late to
redirect the caret into the textarea (in some browsers, at least).</p>
<p>In the unlikely event that you need to support Firefox 2, note that you'll
need to place the textarea in the parent document rather than the WYSIWYG
editor iframe's document in that browser.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/extracting-the-last-n-characters-from-a-string-in-r/" class="u-url">Extracting the last n characters from a string in R</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/extracting-the-last-n-characters-from-a-string-in-r/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T03:37:36+08:00" itemprop="datePublished" title="2023-03-05 03:37">2023-03-05 03:37</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How can I get the last n characters from a string in R? Is there a function
like SQL's RIGHT?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>I'm not aware of anything in base R, but it's straight-forward to make a
function to do this using <code>substr</code> and <code>nchar</code>:</p>
<div class="code"><pre class="code literal-block"><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s">"some text in a string"</span>

<span class="n">substrRight</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">){</span>
<span class="w">  </span><span class="nf">substr</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="nf">nchar</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">-</span><span class="n">n</span><span class="m">+1</span><span class="p">,</span><span class="w"> </span><span class="nf">nchar</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="p">}</span>

<span class="nf">substrRight</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="m">6</span><span class="p">)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">"string"</span>

<span class="nf">substrRight</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="m">8</span><span class="p">)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">"a string"</span>
</pre></div>

<hr>
<p>This is vectorised, as @mdsumner points out. Consider:</p>
<div class="code"><pre class="code literal-block"><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">"some text in a string"</span><span class="p">,</span><span class="w"> </span><span class="s">"I really need to learn how to count"</span><span class="p">)</span>
<span class="nf">substrRight</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="m">6</span><span class="p">)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">"string"</span><span class="w"> </span><span class="s">" count"</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2597.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2595.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

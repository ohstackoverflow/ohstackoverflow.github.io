<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 460) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-460.html">
<link rel="prev" href="index-461.html" type="text/html">
<link rel="next" href="index-459.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-would-you-count-occurrences-of-a-string-actually-a-char-within-a-string/" class="u-url">How would you count occurrences of a string (actually a char) within a string?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-would-you-count-occurrences-of-a-string-actually-a-char-within-a-string/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T07:23:39+08:00" itemprop="datePublished" title="2023-02-17 07:23">2023-02-17 07:23</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am doing something where I realised I wanted to count how many <code>/</code>s I could
find in a string, and then it struck me, that there were several ways to do
it, but couldn't decide on what the best (or easiest) was.</p>
<p>At the moment I'm going with something like:</p>
<div class="code"><pre class="code literal-block">string source = "/once/upon/a/time/";
int count = source.Length - source.Replace("/", "").Length;
</pre></div>

<p>But I don't like it at all, any takers?</p>
<p>I don't really want to dig out <code>RegEx</code> for this, do I?</p>
<p>I know my string is going to have the term I'm searching for, so you can
assume that...</p>
<p>Of course for strings <em>where</em> <strong>length &gt; 1</strong>,</p>
<div class="code"><pre class="code literal-block">string haystack = "/once/upon/a/time";
string needle = "/";
int needleCount = ( haystack.Length - haystack.Replace(needle,"").Length ) / needle.Length;
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>If you're using .NET 3.5 you can do this in a one-liner with LINQ:</p>
<div class="code"><pre class="code literal-block">int count = source.Count(f =&gt; f == '/');
</pre></div>

<p>If you don't want to use LINQ you can do it with:</p>
<div class="code"><pre class="code literal-block">int count = source.Split('/').Length - 1;
</pre></div>

<hr>
<p>You might be surprised to learn that your original technique seems to be about
30% faster than either of these! I've just done a quick benchmark with
"/once/upon/a/time/" and the results are as follows:</p>
<blockquote>
<p>Your original = 12s<br>
 source.Count = 19s<br>
 source.Split = 17s<br>
 foreach (from bobwienholt's answer) = 10s</p>
</blockquote>
<p>(The times are for 50,000,000 iterations so you're unlikely to notice much
difference in the real world.)</p>
<p><br></p>
<h3>Suggest</h3>
<div class="code"><pre class="code literal-block"><span class="nv">string</span><span class="w"> </span><span class="nv">source</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"/once/upon/a/time/"</span><span class="c1">;</span>
<span class="nv">int</span><span class="w"> </span><span class="nv">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="c1">;</span>
<span class="nv">foreach</span><span class="w"> </span><span class="ss">(</span><span class="nv">char</span><span class="w"> </span><span class="nv">c</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">source</span><span class="ss">)</span><span class="w"> </span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">c</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'/'</span><span class="ss">)</span><span class="w"> </span><span class="nv">count</span><span class="o">++</span><span class="c1">;</span>
</pre></div>

<p>Has to be faster than the <code>source.Replace()</code> by itself.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/upgrading-node-js-to-latest-version/" class="u-url">Upgrading Node.js to latest version</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/upgrading-node-js-to-latest-version/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T07:23:12+08:00" itemprop="datePublished" title="2023-02-17 07:23">2023-02-17 07:23</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>So, I have Node.js installed and now when I tried to install Mongoosejs I got
an error telling me that I don't have the needed version of Node.js (I have
v0.4.11 and v0.4.12 is needed).</p>
<p>How can I upgrade to this version? I suppose I just could install it again
with the latest version, but I don't want to do it before I'm sure that my
project folders in the folder "node" won't be deleted.</p>
<p><br><br></p>
<h2>Answer</h2>
<h4>Ubuntu Linux/Mac:</h4>
<p>The module <code>n</code> makes version-management easy:</p>
<div class="code"><pre class="code literal-block">npm install n -g
</pre></div>

<p>For the latest stable version:</p>
<div class="code"><pre class="code literal-block">n stable
</pre></div>

<p>For the latest version:</p>
<div class="code"><pre class="code literal-block">n latest
</pre></div>

<h4>Windows:</h4>
<p>just reinstall node from the .msi in Windows from the node website.</p>
<p><br></p>
<h3>Suggest</h3>
<h2>
<em>All Platforms</em> (Mac, Linux &amp; Windows) 2023</h2>
<p>If you just need to upgrade your old version of Node.js to the latest one and
don't need multiple versions, simply <em><strong>over-write</strong></em> your existing executable
with the new one.</p>
<h4>Download the Latest Node.js from nodejs.org/en/download</h4>
<p><img alt="enter image description here" src="images/tPkyX.png"></p>
<p>This <strong>Just Works! TM</strong> on all platforms and is the easiest/fastest method.<br>
When you run <code>node -v</code> in your terminal you will see the the latest version.</p>
<h3>Mac</h3>
<p>If you originally installed Node.js using <strong>brew</strong> then run:</p>
<div class="code"><pre class="code literal-block">brew upgrade node
</pre></div>

<h3>Managing Multiple Versions of Node.js:</h3>
<p>If you need to run multiple versions of Node.js on your machine e.g. if you
have an older project that targets a specific version on AWS Lambda, then
<strong><code>NVM</code></strong> (Node Version Manger) is your friend!</p>
<h5>Step 1 - <em>Get NVM</em>
</h5>
<div class="code"><pre class="code literal-block">curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh | bash
</pre></div>

<blockquote>
<p>If you're <em>curious</em> about the installation command <em>read</em> the source code<br>
 ... its been <em>reviewed</em> by <em>several</em> node.js security experts</p>
</blockquote>
<h5>Step 2 - <em>Install</em> the version of node.js you need</h5>
<p>Once you've got <strong>NVM</strong> you can install a <em>specific</em> version of Node.js using
the nvm command:</p>
<div class="code"><pre class="code literal-block">nvm install v18.12.1
</pre></div>

<p><strong>Note</strong> : you may need to close &amp; re-open your terminal window for <code>nvm</code>
command to be available.</p>
<p>You should expect to see something like this in your terminal:</p>
<div class="code"><pre class="code literal-block">Now using node v18.12.1
</pre></div>

<p>You now have the latest <code>Node.js</code> on your machine.<br>
And if you need to temporarily switch to a different/previous version, you can
do it with a simple <code>nvm</code> command.</p>
<blockquote>
<p>Note: avoid using <strong><code>sudo</code></strong> with Node/NPM as it violates the security
principal of least privilege</p>
</blockquote>
<p><strong><code>NVM</code></strong> is considered " <em>better</em> " than <strong><code>N</code></strong> for managing multiple
Node.js versions because the <em>verbose</em> commands mean it is <em>much</em> easier to
keep track of what you are doing in your Terminal/SSH Log. It is used by the
team at <strong>NPM</strong> the creators/custodians of the Node.js World!</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/is-there-any-way-to-change-input-type-date-format/" class="u-url">Is there any way to change input type="date" format?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/is-there-any-way-to-change-input-type-date-format/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T07:22:41+08:00" itemprop="datePublished" title="2023-02-17 07:22">2023-02-17 07:22</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>By default, the input <code>type="date"</code> shows date as <code>YYYY-MM-DD</code>.</p>
<p>The question is, is it possible to force it's format to something like: <code>DD-
MM-YYYY</code>?</p>
<p><br><br></p>
<h2>Answer</h2>
<p><strong>It is impossible to change the format</strong></p>
<p>We have to differentiate between the over the wire format and the browser's
presentation format.</p>
<h3>Wire format</h3>
<p>The HTML5 date input specification refers to the RFC 3339 specification, which
specifies a full-date format equal to: <code>yyyy-mm-dd</code>. See section 5.6 of the
RFC 3339 specification for more details.</p>
<p>This format is used by the <code>value</code> HTML attribute and DOM property and is the
one used when doing an ordinary form submission.</p>
<h3>Presentation format</h3>
<p>Browsers are unrestricted in how they present a date input. At the time of
writing Chrome, Edge, Firefox, and Opera have date support (see here). They
all display a date picker and format the text in the input field.</p>
<p><strong>Desktop devices</strong></p>
<p>For Chrome, Firefox, and Opera, the formatting of the input field's text is
based on the browser's language setting. For Edge, it is based on the Windows
language setting. Sadly, all web browsers ignore the date formatting
configured in the operating system. To me this is very strange behaviour, and
something to consider when using this input type. For example, Dutch users
that have their operating system or browser language set to <code>en-us</code> will be
shown <code>01/30/2019</code> instead of the format they are accustomed to: <code>30-01-2019</code>.</p>
<p>Internet Explorer 9, 10, and 11 display a text input field with the wire
format.</p>
<p><strong>Mobile devices</strong></p>
<p>Specifically for Chrome on Android, the formatting is based on the Android
display language. I suspect that the same is true for other browsers, though
I've not been able to verify this.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Since this question was asked quite a few things have happened in the web
realm, and one of the most exciting is the landing of web components. Now you
can solve this issue elegantly with a custom HTML5 element designed to suit
your needs. If you wish to override/change the workings of any html tag just
build yours playing with the <em>shadow dom</em>.</p>
<p>The good news is that there’s already a lot of boilerplate available so most
likely you won’t need to come up with a solution from scratch. Just check what
people are building and get ideas from there.</p>
<p>You can start with a simple (and working) solution like datetime-input for
polymer that allows you to use a tag like this one:</p>
<div class="code"><pre class="code literal-block"><span class="w"> </span><span class="o">&lt;</span><span class="nc">date</span><span class="o">-</span><span class="k">input</span><span class="w"> </span><span class="nc">date</span><span class="o">=</span><span class="ss">"{{date}}"</span><span class="w"> </span><span class="n">timezone</span><span class="o">=</span><span class="ss">"[[timezone]]"</span><span class="o">&gt;&lt;/</span><span class="nc">date</span><span class="o">-</span><span class="k">input</span><span class="o">&gt;</span>
</pre></div>

<p>or you can get creative and pop-up complete date-pickers styled as you wish,
with the formatting and locales you desire, callbacks, and your long list of
options (you’ve got a whole custom API at your disposal!)</p>
<p><strong>Standards-compliant, no hacks.</strong></p>
<p>Double-check the available polyfills, what browsers/versions they support, and
if it covers enough % of your user base… It's 2018, so chances are it'll
surely cover most of your users.</p>
<p>Hope it helps!</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-461.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-459.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

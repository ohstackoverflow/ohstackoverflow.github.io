<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 981) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-981.html">
<link rel="prev" href="index-982.html" type="text/html">
<link rel="next" href="index-980.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/jquery-selector-regular-expressions/" class="u-url">jQuery selector regular expressions</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/jquery-selector-regular-expressions/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T21:28:46+08:00" itemprop="datePublished" title="2023-02-17 21:28">2023-02-17 21:28</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am after documentation on using wildcard or regular expressions (not sure on
the exact terminology) with a jQuery selector.</p>
<p>I have looked for this myself but have been unable to find information on the
syntax and how to use it. Does anyone know where the documentation for the
syntax is?</p>
<p>EDIT: The attribute filters allow you to select based on patterns of an
attribute value.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>James Padolsey created a wonderful filter that allows regex to be used for
selection.</p>
<p>Say you have the following <code>div</code>:</p>
<div class="code"><pre class="code literal-block">&lt;div class="asdf"&gt;
</pre></div>

<p>Padolsey's <code>:regex</code> filter can select it like so:</p>
<div class="code"><pre class="code literal-block"><span class="err">$</span><span class="p">(</span><span class="s">"div:regex(class, .*sd.*)"</span><span class="p">)</span>
</pre></div>

<p>Also, check the official documentation on selectors.</p>
<h3>UPDATE: <code>:</code> syntax Deprecation JQuery 3.0</h3>
<p>Since <code>jQuery.expr[':']</code> used in Padolsey's implementation is already
deprecated and will render a syntax error in the latest version of jQuery,
here is his code adapted to jQuery 3+ syntax:</p>
<div class="code"><pre class="code literal-block"><span class="n">jQuery</span><span class="o">.</span><span class="n">expr</span><span class="o">.</span><span class="n">pseudos</span><span class="o">.</span><span class="n">regex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">jQuery</span><span class="o">.</span><span class="n">expr</span><span class="o">.</span><span class="n">createPseudo</span><span class="p">(</span><span class="n">function</span><span class="w"> </span><span class="p">(</span><span class="n">expression</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="p">(</span><span class="n">elem</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">var</span><span class="w"> </span><span class="n">matchParams</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">expression</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">','</span><span class="p">),</span>
<span class="w">            </span><span class="n">validLabels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">/^</span><span class="p">(</span><span class="n">data</span><span class="o">|</span><span class="n">css</span><span class="p">):</span><span class="o">/</span><span class="p">,</span>
<span class="w">            </span><span class="n">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">method</span><span class="p">:</span><span class="w"> </span><span class="n">matchParams</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="k">match</span><span class="p">(</span><span class="n">validLabels</span><span class="p">)</span><span class="w"> </span><span class="err">?</span>
<span class="w">                    </span><span class="n">matchParams</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">':'</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s1">'attr'</span><span class="p">,</span>
<span class="w">                </span><span class="n">property</span><span class="p">:</span><span class="w"> </span><span class="n">matchParams</span><span class="o">.</span><span class="n">shift</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">validLabels</span><span class="p">,</span><span class="w"> </span><span class="s1">''</span><span class="p">)</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="n">regexFlags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'ig'</span><span class="p">,</span>
<span class="w">            </span><span class="n">regex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">RegExp</span><span class="p">(</span><span class="n">matchParams</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">''</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="o">/^</span>\<span class="n">s</span><span class="o">+|</span>\<span class="n">s</span><span class="o">+$/</span><span class="n">g</span><span class="p">,</span><span class="w"> </span><span class="s1">''</span><span class="p">),</span><span class="w"> </span><span class="n">regexFlags</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">regex</span><span class="o">.</span><span class="n">test</span><span class="p">(</span><span class="n">jQuery</span><span class="p">(</span><span class="n">elem</span><span class="p">)[</span><span class="n">attr</span><span class="o">.</span><span class="n">method</span><span class="p">](</span><span class="n">attr</span><span class="o">.</span><span class="n">property</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">});</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>James Padolsey created a wonderful filter that allows regex to be used for
selection.</p>
<p>Say you have the following <code>div</code>:</p>
<div class="code"><pre class="code literal-block">&lt;div class="asdf"&gt;
</pre></div>

<p>Padolsey's <code>:regex</code> filter can select it like so:</p>
<div class="code"><pre class="code literal-block"><span class="err">$</span><span class="p">(</span><span class="s">"div:regex(class, .*sd.*)"</span><span class="p">)</span>
</pre></div>

<p>Also, check the official documentation on selectors.</p>
<h3>UPDATE: <code>:</code> syntax Deprecation JQuery 3.0</h3>
<p>Since <code>jQuery.expr[':']</code> used in Padolsey's implementation is already
deprecated and will render a syntax error in the latest version of jQuery,
here is his code adapted to jQuery 3+ syntax:</p>
<div class="code"><pre class="code literal-block"><span class="n">jQuery</span><span class="o">.</span><span class="n">expr</span><span class="o">.</span><span class="n">pseudos</span><span class="o">.</span><span class="n">regex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">jQuery</span><span class="o">.</span><span class="n">expr</span><span class="o">.</span><span class="n">createPseudo</span><span class="p">(</span><span class="n">function</span><span class="w"> </span><span class="p">(</span><span class="n">expression</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="p">(</span><span class="n">elem</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">var</span><span class="w"> </span><span class="n">matchParams</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">expression</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">','</span><span class="p">),</span>
<span class="w">            </span><span class="n">validLabels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">/^</span><span class="p">(</span><span class="n">data</span><span class="o">|</span><span class="n">css</span><span class="p">):</span><span class="o">/</span><span class="p">,</span>
<span class="w">            </span><span class="n">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">method</span><span class="p">:</span><span class="w"> </span><span class="n">matchParams</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="k">match</span><span class="p">(</span><span class="n">validLabels</span><span class="p">)</span><span class="w"> </span><span class="err">?</span>
<span class="w">                    </span><span class="n">matchParams</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">':'</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s1">'attr'</span><span class="p">,</span>
<span class="w">                </span><span class="n">property</span><span class="p">:</span><span class="w"> </span><span class="n">matchParams</span><span class="o">.</span><span class="n">shift</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">validLabels</span><span class="p">,</span><span class="w"> </span><span class="s1">''</span><span class="p">)</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="n">regexFlags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'ig'</span><span class="p">,</span>
<span class="w">            </span><span class="n">regex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">RegExp</span><span class="p">(</span><span class="n">matchParams</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">''</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="o">/^</span>\<span class="n">s</span><span class="o">+|</span>\<span class="n">s</span><span class="o">+$/</span><span class="n">g</span><span class="p">,</span><span class="w"> </span><span class="s1">''</span><span class="p">),</span><span class="w"> </span><span class="n">regexFlags</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">regex</span><span class="o">.</span><span class="n">test</span><span class="p">(</span><span class="n">jQuery</span><span class="p">(</span><span class="n">elem</span><span class="p">)[</span><span class="n">attr</span><span class="o">.</span><span class="n">method</span><span class="p">](</span><span class="n">attr</span><span class="o">.</span><span class="n">property</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">});</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-convert-comma-separated-string-to-list/" class="u-url">How to convert comma-separated String to List?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-convert-comma-separated-string-to-list/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T21:28:15+08:00" itemprop="datePublished" title="2023-02-17 21:28">2023-02-17 21:28</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is there any built-in method in Java which allows us to convert comma
separated String to some container (e.g array, List or Vector)? Or do I need
to write custom code for that?</p>
<div class="code"><pre class="code literal-block">String commaSeparated = "item1 , item2 , item3";
List&lt;String&gt; items = //method that converts above string into list??
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p><strong>Convert comma separated String to List</strong></p>
<div class="code"><pre class="code literal-block">List&lt;String&gt; items = Arrays.asList(str.split("\\s*,\\s*"));
</pre></div>

<p>The above code splits the string on a delimiter defined as: <code>zero or more
whitespace, a literal comma, zero or more whitespace</code> which will place the
words into the list and collapse any whitespace between the words and commas.</p>
<hr>
<p>Please note that this returns simply a wrapper on an array: you <strong><em>CANNOT</em></strong>
for example <code>.remove()</code> from the resulting <code>List</code>. For an actual <code>ArrayList</code>
you must further use <code>new ArrayList&lt;String&gt;</code>.</p>
<p><br></p>
<h3>Suggest</h3>
<p><code>Arrays.asList</code> returns a fixed-size <code>List</code> backed by the array. If you want a
normal mutable <code>java.util.ArrayList</code> you need to do this:</p>
<div class="code"><pre class="code literal-block">List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(string.split(" , ")));
</pre></div>

<p>Or, using Guava:</p>
<div class="code"><pre class="code literal-block">List&lt;String&gt; list = Lists.newArrayList(Splitter.on(" , ").split(string));
</pre></div>

<p>Using a <code>Splitter</code> gives you more flexibility in how you split the string and
gives you the ability to, for example, skip empty strings in the results and
trim results. It also has less weird behavior than <code>String.split</code> as well as
not requiring you to split by regex (that's just one option).</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/sql-server-database-stuck-in-restoring-state/" class="u-url">SQL Server: Database stuck in "Restoring" state</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/sql-server-database-stuck-in-restoring-state/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T21:27:40+08:00" itemprop="datePublished" title="2023-02-17 21:27">2023-02-17 21:27</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I backed up a database:</p>
<div class="code"><pre class="code literal-block">BACKUP DATABASE MyDatabase
TO DISK = 'MyDatabase.bak'
WITH INIT --overwrite existing
</pre></div>

<p>And then tried to restore it:</p>
<div class="code"><pre class="code literal-block">RESTORE DATABASE MyDatabase
   FROM DISK = 'MyDatabase.bak'
   WITH REPLACE --force restore over specified database
</pre></div>

<p>And now the database is stuck in the restoring state.</p>
<p>Some people have theorized that it's because there was no log file in the
backup, and it needed to be rolled forward using:</p>
<div class="code"><pre class="code literal-block">RESTORE DATABASE MyDatabase
WITH RECOVERY
</pre></div>

<p>Except that, of course, fails:</p>
<div class="code"><pre class="code literal-block">Msg 4333, Level 16, State 1, Line 1
The database cannot be recovered because the log was not restored.
Msg 3013, Level 16, State 1, Line 1
RESTORE DATABASE is terminating abnormally.
</pre></div>

<p>And exactly what you want in a catastrophic situation is a restore that won't
work.</p>
<hr>
<p>The backup contains both a data and log file:</p>
<div class="code"><pre class="code literal-block">RESTORE FILELISTONLY 
FROM DISK = 'MyDatabase.bak'

Logical Name    PhysicalName
=============   ===============
MyDatabase    C:\Program Files\Microsoft SQL Server\MSSQL.1\MSSQL\DATA\MyDatabase.mdf
MyDatabase_log  C:\Program Files\Microsoft SQL Server\MSSQL.1\MSSQL\DATA\MyDatabase_log.LDF
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>You need to use the <code>WITH RECOVERY</code> option, with your database <code>RESTORE</code>
command, to bring your database online as part of the restore process.</p>
<p>This is of course only if you do not intend to restore any transaction log
backups, i.e. you only wish to restore a database backup and then be able to
access the database.</p>
<p>Your command should look like this,</p>
<div class="code"><pre class="code literal-block">RESTORE DATABASE MyDatabase
   FROM DISK = 'MyDatabase.bak'
   WITH REPLACE,RECOVERY
</pre></div>

<p>You may have more sucess using the restore database wizard in SQL Server
Management Studio. This way you can select the specific file locations, the
overwrite option, and the WITH Recovery option.</p>
<p><br></p>
<h3>Suggest</h3>
<p>You need to use the <code>WITH RECOVERY</code> option, with your database <code>RESTORE</code>
command, to bring your database online as part of the restore process.</p>
<p>This is of course only if you do not intend to restore any transaction log
backups, i.e. you only wish to restore a database backup and then be able to
access the database.</p>
<p>Your command should look like this,</p>
<div class="code"><pre class="code literal-block">RESTORE DATABASE MyDatabase
   FROM DISK = 'MyDatabase.bak'
   WITH REPLACE,RECOVERY
</pre></div>

<p>You may have more sucess using the restore database wizard in SQL Server
Management Studio. This way you can select the specific file locations, the
overwrite option, and the WITH Recovery option.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-982.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-980.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

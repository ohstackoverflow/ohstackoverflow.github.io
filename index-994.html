<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 994) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-994.html">
<link rel="prev" href="index-995.html" type="text/html">
<link rel="next" href="index-993.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/unstage-a-deleted-file-in-git/" class="u-url">Unstage a deleted file in git</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/unstage-a-deleted-file-in-git/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T21:56:53+08:00" itemprop="datePublished" title="2023-02-17 21:56">2023-02-17 21:56</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Usually, to discard changes to a file you would do:</p>
<div class="code"><pre class="code literal-block">git checkout -- &lt;file&gt;
</pre></div>

<p>What if the change I want to discard is deleting the file? The above line
would give an error:</p>
<div class="code"><pre class="code literal-block"><span class="n">error</span><span class="o">:</span><span class="w"> </span><span class="n">pathspec</span><span class="w"> </span><span class="s1">'&lt;file&gt;'</span><span class="w"> </span><span class="n">did</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">match</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">file</span><span class="o">(</span><span class="n">s</span><span class="o">)</span><span class="w"> </span><span class="n">known</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">git</span><span class="o">.</span>
</pre></div>

<p>What command will restore that single file without undoing other changes?</p>
<p><strong>bonus point:</strong> Also, what if the change I want to discard is <em>adding</em> a
file? I would like to know how to unstage that change as well.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Assuming you're wanting to undo the effects of <code>git rm &lt;file&gt;</code> or <code>rm &lt;file&gt;</code>
followed by <code>git add -A</code> or something similar:</p>
<div class="code"><pre class="code literal-block">#<span class="w"> </span><span class="nv">this</span><span class="w"> </span><span class="nv">restores</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">file</span><span class="w"> </span><span class="nv">status</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">index</span>
<span class="nv">git</span><span class="w"> </span><span class="nv">reset</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="o">&lt;</span><span class="nv">file</span><span class="o">&gt;</span>
#<span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="nv">check</span><span class="w"> </span><span class="nv">out</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">copy</span><span class="w"> </span><span class="nv">from</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">index</span>
<span class="nv">git</span><span class="w"> </span><span class="nv">checkout</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="o">&lt;</span><span class="nv">file</span><span class="o">&gt;</span>
</pre></div>

<p>To undo <code>git add &lt;file&gt;</code>, the first line above suffices, assuming you haven't
committed yet.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Both questions are answered in <code>git status</code>.</p>
<p>To unstage adding a new file use <code>git rm --cached filename.ext</code></p>
<div class="code"><pre class="code literal-block"># Changes to be committed:
#   (use "git rm --cached &lt;file&gt;..." to unstage)
#
#   new file:   test
</pre></div>

<p>To unstage deleting a file use <code>git reset HEAD filename.ext</code></p>
<div class="code"><pre class="code literal-block"># Changes to be committed:
#   (use "git reset HEAD &lt;file&gt;..." to unstage)
#
#   deleted:    test
</pre></div>

<p>In the other hand, <code>git checkout --</code> never unstage, it just discards non-
staged changes.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/can-you-find-all-classes-in-a-package-using-reflection/" class="u-url">Can you find all classes in a package using reflection?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/can-you-find-all-classes-in-a-package-using-reflection/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T21:56:18+08:00" itemprop="datePublished" title="2023-02-17 21:56">2023-02-17 21:56</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is it possible to find all classes or interfaces in a given package? (Quickly
looking at e.g. <code>Package</code>, it would seem like no.)</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Due to the dynamic nature of class loaders, this is not possible. Class
loaders are not required to tell the VM which classes it can provide, instead
they are just handed requests for classes, and have to return a class or throw
an exception.</p>
<p>However, if you write your own class loaders, or examine the classpaths and
it's jars, it's possible to find this information. This will be via filesystem
operations though, and not reflection. There might even be libraries that can
help you do this.</p>
<p>If there are classes that get generated, or delivered remotely, you will not
be able to discover those classes.</p>
<p>The normal method is instead to somewhere register the classes you need access
to in a file, or reference them in a different class. Or just use convention
when it comes to naming.</p>
<p>Addendum: The Reflections Library will allow you to look up classes in the
current classpath. It can be used to get all classes in a package:</p>
<div class="code"><pre class="code literal-block"><span class="w"> </span><span class="n">Reflections</span><span class="w"> </span><span class="n">reflections</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Reflections</span><span class="p">(</span><span class="s2">"my.project.prefix"</span><span class="p">);</span>

<span class="w"> </span><span class="n">Set</span><span class="o">&lt;</span><span class="n">Class</span><span class="o">&lt;</span><span class="err">?</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nb nb-Type">Object</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">allClasses</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>
<span class="w">     </span><span class="n">reflections</span><span class="o">.</span><span class="n">getSubTypesOf</span><span class="p">(</span><span class="nb nb-Type">Object</span><span class="o">.</span><span class="k">class</span><span class="p">);</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>You should probably take a look at the open source Reflections library. With
it you can easily achieve what you want.</p>
<p>First, setup the reflections index (it's a bit messy since searching for all
classes is disabled by default):</p>
<div class="code"><pre class="code literal-block"><span class="nv">List</span><span class="o">&lt;</span><span class="nv">ClassLoader</span><span class="o">&gt;</span><span class="w"> </span><span class="nv">classLoadersList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">LinkedList</span><span class="o">&lt;</span><span class="nv">ClassLoader</span><span class="o">&gt;</span><span class="ss">()</span><span class="c1">;</span>
<span class="nv">classLoadersList</span>.<span class="nv">add</span><span class="ss">(</span><span class="nv">ClasspathHelper</span>.<span class="nv">contextClassLoader</span><span class="ss">())</span><span class="c1">;</span>
<span class="nv">classLoadersList</span>.<span class="nv">add</span><span class="ss">(</span><span class="nv">ClasspathHelper</span>.<span class="nv">staticClassLoader</span><span class="ss">())</span><span class="c1">;</span>

<span class="nv">Reflections</span><span class="w"> </span><span class="nv">reflections</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">Reflections</span><span class="ss">(</span><span class="nv">new</span><span class="w"> </span><span class="nv">ConfigurationBuilder</span><span class="ss">()</span>
<span class="w">    </span>.<span class="nv">setScanners</span><span class="ss">(</span><span class="nv">new</span><span class="w"> </span><span class="nv">SubTypesScanner</span><span class="ss">(</span><span class="nv">false</span><span class="w"> </span><span class="cm">/* don't exclude Object.class */</span><span class="ss">)</span>,<span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">ResourcesScanner</span><span class="ss">())</span>
<span class="w">    </span>.<span class="nv">setUrls</span><span class="ss">(</span><span class="nv">ClasspathHelper</span>.<span class="nv">forClassLoader</span><span class="ss">(</span><span class="nv">classLoadersList</span>.<span class="nv">toArray</span><span class="ss">(</span><span class="nv">new</span><span class="w"> </span><span class="nv">ClassLoader</span>[<span class="mi">0</span>]<span class="ss">)))</span>
<span class="w">    </span>.<span class="nv">filterInputsBy</span><span class="ss">(</span><span class="nv">new</span><span class="w"> </span><span class="nv">FilterBuilder</span><span class="ss">()</span>.<span class="k">include</span><span class="ss">(</span><span class="nv">FilterBuilder</span>.<span class="nv">prefix</span><span class="ss">(</span><span class="s2">"org.your.package"</span><span class="ss">))))</span><span class="c1">;</span>
</pre></div>

<p>Then you can query for all objects in a given package:</p>
<div class="code"><pre class="code literal-block"><span class="nb">Set</span><span class="o">&lt;</span><span class="nx">Class</span><span class="cp">&lt;?</span><span class="o">&gt;&gt;</span> <span class="nx">classes</span> <span class="o">=</span> <span class="nx">reflections</span><span class="o">.</span><span class="nx">getSubTypesOf</span><span class="p">(</span><span class="nx">Object</span><span class="o">.</span><span class="nx">class</span><span class="p">);</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/install-an-apk-file-from-command-prompt/" class="u-url">Install an apk file from command prompt?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/install-an-apk-file-from-command-prompt/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T21:55:47+08:00" itemprop="datePublished" title="2023-02-17 21:55">2023-02-17 21:55</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I want to install a file using the Windows command line. First I want to build
after compiling all the .jar files to create an .apk file for an Android
application without using Eclipse.</p>
<p>Does anyone know how this can be done without the use of Eclipse &amp; only by
making use of command line.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can use the code below to install application from command line</p>
<div class="code"><pre class="code literal-block">adb install example.apk
</pre></div>

<p>this apk is installed in the internal memory of current opened emulator.</p>
<div class="code"><pre class="code literal-block">adb install -s example.apk
</pre></div>

<p>this apk is installed in the sd-card of current opened emulator.</p>
<p>You can also install an apk to specific device in connected device list to the
adb.</p>
<div class="code"><pre class="code literal-block">adb -s emulator-5554 install myapp.apk
</pre></div>

<p>Refer also to <strong>adb help</strong> for other options.</p>
<p><br></p>
<h3>Suggest</h3>
<p>You can build on the command line with ant. See this guide.</p>
<p>Then, you can install it by using <code>adb</code> on the command line.</p>
<div class="code"><pre class="code literal-block">adb install -r MyApp.apk
</pre></div>

<p>The <code>-r</code> flag is to replace the existing application.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-995.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-993.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2244) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2244.html">
<link rel="prev" href="index-2245.html" type="text/html">
<link rel="next" href="index-2243.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-vertically-center-a-container-in-bootstrap/" class="u-url">How to vertically center a container in Bootstrap?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-vertically-center-a-container-in-bootstrap/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T01:44:53+08:00" itemprop="datePublished" title="2023-03-04 01:44">2023-03-04 01:44</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm looking for a way to vertically center the <code>container</code> div inside the
<code>jumbotron</code> and to set it in the middle of the page.</p>
<p>The <code>.jumbotron</code> has to be adapted to the full height and width of the screen.
The <code>.container</code> div has a width of <code>1025px</code> and should be in the middle of
the page (vertically center).</p>
<p>I want this page to have the jumbotron adapted to the height and width of the
screen along with the container vertically center to the jumbotron. How can I
achieve it?</p>
<div class="code"><pre class="code literal-block"><span class="p">.</span><span class="s s-Atom">jumbotron</span> <span class="p">{</span>
  <span class="s s-Atom">height</span><span class="p">:</span><span class="mi">100</span><span class="c1">%;</span>
  <span class="s s-Atom">width</span><span class="p">:</span><span class="mi">100</span><span class="c1">%;</span>
<span class="p">}</span>
<span class="p">.</span><span class="s s-Atom">container</span> <span class="p">{</span>
  <span class="s s-Atom">width</span><span class="p">:</span><span class="mi">1025</span><span class="s s-Atom">px</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">.</span><span class="s s-Atom">jumbotron</span> <span class="p">.</span><span class="s s-Atom">container</span> <span class="p">{</span>
  <span class="s s-Atom">max</span><span class="o">-</span><span class="s s-Atom">width</span><span class="p">:</span> <span class="mi">100</span><span class="c1">%;</span>
<span class="p">}</span>


<span class="o">&lt;</span><span class="s s-Atom">link</span> <span class="s s-Atom">href=</span><span class="s2">"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.0/css/bootstrap.min.css"</span> <span class="s s-Atom">rel=</span><span class="s2">"stylesheet"</span><span class="s s-Atom">/&gt;</span>
<span class="o">&lt;div</span> <span class="s s-Atom">class=</span><span class="s2">"jumbotron"</span><span class="o">&gt;</span>
    <span class="o">&lt;div</span> <span class="s s-Atom">class=</span><span class="s2">"container text-center"</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="s s-Atom">h1</span><span class="o">&gt;</span><span class="nv">The</span> <span class="s s-Atom">easiest</span> <span class="s s-Atom">and</span> <span class="s s-Atom">powerful</span> <span class="s s-Atom">way&lt;/h1</span><span class="o">&gt;</span>
        <span class="o">&lt;div</span> <span class="s s-Atom">class=</span><span class="s2">"row"</span><span class="o">&gt;</span>
            <span class="o">&lt;div</span> <span class="s s-Atom">class=</span><span class="s2">"col-md-7"</span><span class="o">&gt;</span>
                 <span class="o">&lt;div</span> <span class="s s-Atom">class=</span><span class="s2">"top-bg"</span><span class="s s-Atom">&gt;&lt;/</span><span class="o">div&gt;</span>
            <span class="s s-Atom">&lt;/</span><span class="o">div&gt;</span>

            <span class="o">&lt;div</span> <span class="s s-Atom">class=</span><span class="s2">"col-md-5 iPhone-features"</span> <span class="s s-Atom">style=</span><span class="s2">"margin-left:-25px;"</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="s s-Atom">ul</span> <span class="s s-Atom">class=</span><span class="s2">"top-features"</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="s s-Atom">li</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="s s-Atom">span&gt;&lt;i</span> <span class="s s-Atom">class=</span><span class="s2">"fa fa-random simple_bg top-features-bg"</span><span class="s s-Atom">&gt;&lt;/i&gt;&lt;/span</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="s s-Atom">p&gt;&lt;strong</span><span class="o">&gt;</span><span class="nv">Redirect</span><span class="s s-Atom">&lt;/strong&gt;&lt;br</span><span class="o">&gt;</span><span class="nv">Visitors</span> <span class="s s-Atom">where</span> <span class="s s-Atom">they</span> <span class="s s-Atom">converts</span> <span class="s s-Atom">more</span><span class="p">.</span><span class="s s-Atom">&lt;/p</span><span class="o">&gt;</span>
                    <span class="s s-Atom">&lt;/li</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="s s-Atom">li</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="s s-Atom">span&gt;&lt;i</span> <span class="s s-Atom">class=</span><span class="s2">"fa fa-cogs simple_bg top-features-bg"</span><span class="s s-Atom">&gt;&lt;/i&gt;&lt;/span</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="s s-Atom">p&gt;&lt;strong</span><span class="o">&gt;</span><span class="nv">Track</span><span class="s s-Atom">&lt;/strong&gt;&lt;br</span><span class="o">&gt;</span><span class="nv">Views</span><span class="p">,</span> <span class="nv">Clicks</span> <span class="s s-Atom">and</span> <span class="nv">Conversions</span><span class="p">.</span><span class="s s-Atom">&lt;/p</span><span class="o">&gt;</span>
                    <span class="s s-Atom">&lt;/li</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="s s-Atom">li</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="s s-Atom">span&gt;&lt;i</span> <span class="s s-Atom">class=</span><span class="s2">"fa fa-check simple_bg top-features-bg"</span><span class="s s-Atom">&gt;&lt;/i&gt;&lt;/span</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="s s-Atom">p&gt;&lt;strong</span><span class="o">&gt;</span><span class="nv">Check</span><span class="s s-Atom">&lt;/strong&gt;&lt;br</span><span class="o">&gt;</span><span class="nv">Constantly</span> <span class="s s-Atom">the</span> <span class="s s-Atom">status</span> <span class="s s-Atom">of</span> <span class="s s-Atom">your</span> <span class="s s-Atom">links</span><span class="p">.</span><span class="s s-Atom">&lt;/p</span><span class="o">&gt;</span>
                    <span class="s s-Atom">&lt;/li</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="s s-Atom">li</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="s s-Atom">span&gt;&lt;i</span> <span class="s s-Atom">class=</span><span class="s2">"fa fa-users simple_bg top-features-bg"</span><span class="s s-Atom">&gt;&lt;/i&gt;&lt;/span</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="s s-Atom">p&gt;&lt;strong</span><span class="o">&gt;</span><span class="nv">Collaborate</span><span class="s s-Atom">&lt;/strong&gt;&lt;br</span><span class="o">&gt;</span><span class="nv">With</span> <span class="nv">Customers</span><span class="p">,</span> <span class="nv">Partners</span> <span class="s s-Atom">and</span> <span class="nv">Co</span><span class="o">-</span><span class="nv">Workers</span><span class="p">.</span><span class="s s-Atom">&lt;/p</span><span class="o">&gt;</span>
                    <span class="s s-Atom">&lt;/li</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="s s-Atom">a</span> <span class="s s-Atom">href=</span><span class="s2">"pricing-and-signup.html"</span> <span class="s s-Atom">class=</span><span class="s2">"btn-primary btn h2 lightBlue get-Started-btn"</span><span class="o">&gt;</span><span class="nv">GET</span> <span class="nv">STARTED</span><span class="s s-Atom">&lt;/a</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="s s-Atom">h6</span> <span class="s s-Atom">class=</span><span class="s2">"get-Started-sub-btn"</span><span class="o">&gt;</span><span class="nv">FREE</span> <span class="nv">VERSION</span> <span class="nv">AVAILABLE</span><span class="p">!</span><span class="s s-Atom">&lt;/h6</span><span class="o">&gt;</span>
                <span class="s s-Atom">&lt;/ul</span><span class="o">&gt;</span>
            <span class="s s-Atom">&lt;/</span><span class="o">div&gt;</span>
        <span class="s s-Atom">&lt;/</span><span class="o">div&gt;</span>
    <span class="s s-Atom">&lt;/</span><span class="o">div&gt;</span>
<span class="s s-Atom">&lt;/</span><span class="o">div&gt;</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<h3>The Flexible box way</h3>
<p><strong>Vertical alignment</strong> is now very simple by the use of Flexible box layout.
Nowadays, this method is supported in a wide range of web browsers except
Internet Explorer 8 &amp; 9. Therefore we'd need to use some hacks/polyfills or
different approaches for IE8/9.</p>
<p>In the following I'll show you how to do that in only <strong>3 lines</strong> of text
<em>(regardless of old flexbox syntax)</em>.</p>
<p><strong>Note:</strong> it's better to use an additional class instead of altering
<code>.jumbotron</code> to achieve the vertical alignment. I'd use <code>vertical-center</code>
class name for instance.</p>
<p><strong>Example Here</strong> <em>(A <strong>Mirror</strong> on jsbin)</em>.</p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;div</span> <span class="s s-Atom">class=</span><span class="s2">"jumbotron vertical-center"</span><span class="o">&gt;</span> <span class="s s-Atom">&lt;</span><span class="p">!</span><span class="s s-Atom">--</span> 
                      <span class="s s-Atom">^---</span> <span class="nv">Added</span> <span class="nf">class</span>  <span class="o">--&gt;</span>
  <span class="o">&lt;div</span> <span class="s s-Atom">class=</span><span class="s2">"container"</span><span class="o">&gt;</span>
    <span class="p">...</span>
  <span class="s s-Atom">&lt;/</span><span class="o">div&gt;</span>
<span class="s s-Atom">&lt;/</span><span class="o">div&gt;</span>



<span class="p">.</span><span class="s s-Atom">vertical</span><span class="o">-</span><span class="s s-Atom">center</span> <span class="p">{</span>
  <span class="s s-Atom">min</span><span class="o">-</span><span class="s s-Atom">height</span><span class="p">:</span> <span class="mi">100</span><span class="c1">%;  /* Fallback for browsers do NOT support vh unit */</span>
  <span class="s s-Atom">min</span><span class="o">-</span><span class="s s-Atom">height</span><span class="p">:</span> <span class="mi">100</span><span class="s s-Atom">vh</span><span class="p">;</span> <span class="cm">/* These two lines are counted as one :-)       */</span>

  <span class="s s-Atom">display</span><span class="p">:</span> <span class="s s-Atom">flex</span><span class="p">;</span>
  <span class="s s-Atom">align</span><span class="o">-</span><span class="s s-Atom">items</span><span class="p">:</span> <span class="s s-Atom">center</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p><strong>Important</strong> notes <em>(Considered in the demo)</em> :</p>
<ol>
<li>
<p>A <em>percentage</em> values of <code>height</code> or <code>min-height</code> properties is relative to the <code>height</code> of the parent element, therefore you should specify the <code>height</code> of the parent explicitly.</p>
</li>
<li>
<p>Vendor prefixed / old flexbox syntax omitted in the posted snippet due to brevity, but exist in the online example.</p>
</li>
<li>
<p>In some of old web browsers such as Firefox 9 (in which I've tested), the flex container - <code>.vertical-center</code> in this case - won't take the available space inside the parent, therefore we need to specify the <code>width</code> property like: <code>width: 100%</code>.</p>
</li>
<li>
<p>Also in some of web browsers as mentioned above, the flex item - <code>.container</code> in this case - may not appear at the center horizontally. It seems the applied left/right <code>margin</code> of <code>auto</code> doesn't have any effect on the flex item.<br>
Therefore we need to align it by <code>box-pack / justify-content</code>.</p>
</li>
</ol>
<p>For further details and/or vertical alignment of columns, you could refer to
the topic below:</p>
<ul>
<li>vertical-align with Bootstrap 3</li>
</ul>
<hr>
<h3>The traditional way for legacy web browsers</h3>
<p>This is the old answer I wrote at the time I answered this question. This
method has been discussed <strong>here</strong> and it's supposed to work in Internet
Explorer 8 and 9 as well. I'll explain it in short:</p>
<p>In inline flow, an inline level element can be aligned vertically to the
middle by <code>vertical-align: middle</code> declaration. Spec from W3C:</p>
<blockquote>
<p><strong>middle</strong><br>
 Align the vertical midpoint of the box with the baseline of the parent box
plus half the x-height of the parent.</p>
</blockquote>
<p>In cases that the parent - <code>.vertical-center</code> element in this case - has an
explicit <code>height</code>, by any chance if we could have a child element having the
exact same <code>height</code> of the parent, we would be able to move the baseline of
the parent to the midpoint of the full-height child and surprisingly make our
desired in-flow child - the <code>.container</code> - aligned to the center vertically.</p>
<h4>Getting all together</h4>
<p>That being said, we could create a full-height element within the <code>.vertical-
center</code> by <code>::before</code> or <code>::after</code> pseudo elements and also change the default
<code>display</code> type of it and the other child, the <code>.container</code> to <code>inline-block</code>.</p>
<p>Then use <code>vertical-align: middle;</code> to align the inline elements vertically.</p>
<p>Here you go:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"jumbotron vertical-center"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"container"</span><span class="nt">&gt;</span>
<span class="w">    </span>...
<span class="w">  </span><span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>



.vertical-center<span class="w"> </span>{
<span class="w">  </span>height:100%;
<span class="w">  </span>width:100%;

<span class="w">  </span>text-align:<span class="w"> </span>center;<span class="w">  </span>/*<span class="w"> </span>align<span class="w"> </span>the<span class="w"> </span>inline(-block)<span class="w"> </span>elements<span class="w"> </span>horizontally<span class="w"> </span>*/
<span class="w">  </span>font:<span class="w"> </span>0/0<span class="w"> </span>a;<span class="w">         </span>/*<span class="w"> </span>remove<span class="w"> </span>the<span class="w"> </span>gap<span class="w"> </span>between<span class="w"> </span>inline(-block)<span class="w"> </span>elements<span class="w"> </span>*/
}

.vertical-center:before<span class="w"> </span>{<span class="w">    </span>/*<span class="w"> </span>create<span class="w"> </span>a<span class="w"> </span>full-height<span class="w"> </span>inline<span class="w"> </span>block<span class="w"> </span>pseudo=element<span class="w"> </span>*/
<span class="w">  </span>content:<span class="w"> </span>"<span class="w"> </span>";
<span class="w">  </span>display:<span class="w"> </span>inline-block;
<span class="w">  </span>vertical-align:<span class="w"> </span>middle;<span class="w">    </span>/*<span class="w"> </span>vertical<span class="w"> </span>alignment<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>inline<span class="w"> </span>element<span class="w"> </span>*/
<span class="w">  </span>height:<span class="w"> </span>100%;
}

.vertical-center<span class="w"> </span>&gt;<span class="w"> </span>.container<span class="w"> </span>{
<span class="w">  </span>max-width:<span class="w"> </span>100%;

<span class="w">  </span>display:<span class="w"> </span>inline-block;
<span class="w">  </span>vertical-align:<span class="w"> </span>middle;<span class="w">  </span>/*<span class="w"> </span>vertical<span class="w"> </span>alignment<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>inline<span class="w"> </span>element<span class="w"> </span>*/
<span class="w">                           </span>/*<span class="w"> </span>reset<span class="w"> </span>the<span class="w"> </span>font<span class="w"> </span>property<span class="w"> </span>*/
<span class="w">  </span>font:<span class="w"> </span>16px/1<span class="w"> </span>"Helvetica<span class="w"> </span>Neue",<span class="w"> </span>Helvetica,<span class="w"> </span>Arial,<span class="w"> </span>sans-serif;
}
</pre></div>

<p><strong>WORKING DEMO</strong>.</p>
<p>Also, to prevent unexpected issues in extra small screens, you can reset the
height of the pseudo-element to <code>auto</code> or <code>0</code> or change its <code>display</code> type to
<code>none</code> if needed so:</p>
<div class="code"><pre class="code literal-block"><span class="nv">@media</span><span class="w"> </span><span class="p">(</span><span class="nf">max</span><span class="o">-</span><span class="nl">width</span><span class="p">:</span><span class="w"> </span><span class="mi">768</span><span class="n">px</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">  </span><span class="p">.</span><span class="n">vertical</span><span class="o">-</span><span class="nl">center</span><span class="p">:</span><span class="k">before</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="nl">height</span><span class="p">:</span><span class="w"> </span><span class="n">auto</span><span class="p">;</span>
<span class="w">    </span><span class="cm">/* Or */</span>
<span class="w">    </span><span class="nl">display</span><span class="p">:</span><span class="w"> </span><span class="k">none</span><span class="p">;</span>
<span class="w">  </span><span class="err">}</span>
<span class="err">}</span>
</pre></div>

<p><strong>UPDATED DEMO</strong></p>
<p>And one more thing:</p>
<p>If there are <code>footer</code>/<code>header</code> sections around the container, it's better to
position that elements properly <em>(<code>relative</code>, <code>absolute</code>? up to you.)</em> and add
a higher <code>z-index</code> value (for assurance) to keep them always on the top of the
others.</p>
<p><br></p>
<h3>Suggest</h3>
<h3>Update 2021</h3>
<p><strong>Bootstrap 5</strong> still use flexbox, so the methods of vertical centering are
the same as Bootstrap 4...</p>
<p><strong>Bootstrap 4</strong> use flexbox, so the method of vertical centering is much
easier and <strong>doesn't require extra CSS</strong>.</p>
<p>Just use the <code>d-flex</code> and <code>align-items-center</code> utility classes..</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"jumbotron d-flex align-items-center"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"container"</span><span class="nt">&gt;</span>
<span class="w">    </span>content
<span class="w">  </span><span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p>http://codeply.com/go/ui6ABmMTLv</p>
<p><strong>Important:</strong> Vertical centering is <strong>relative to height</strong>. The parent
container of the items you're attempting to center <em>must</em> have a <strong>defined
height</strong>. If you want the height of the page use <code>vh-100</code> or <code>min-vh-100</code> on
the parent! For example:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"jumbotron d-flex align-items-center min-vh-100"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"container text-center"</span><span class="nt">&gt;</span>
<span class="w">    </span>I<span class="w"> </span>am<span class="w"> </span>centered<span class="w"> </span>vertically
<span class="w">  </span><span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>

<hr>
<p>Also see: https://stackoverflow.com/questions/42252443/vertical-align-center-
in-bootstrap-4</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/spark-repartition-vs-coalesce/" class="u-url">Spark - repartition() vs coalesce()</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/spark-repartition-vs-coalesce/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T01:43:29+08:00" itemprop="datePublished" title="2023-03-04 01:43">2023-03-04 01:43</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>According to Learning Spark</p>
<blockquote>
<p>Keep in mind that repartitioning your data is a fairly expensive operation.
Spark also has an optimized version of <code>repartition()</code> called <code>coalesce()</code>
that allows avoiding data movement, but only if you are decreasing the
number of RDD partitions.</p>
</blockquote>
<p>One difference I get is that with <code>repartition()</code> the number of partitions can
be increased/decreased, but with <code>coalesce()</code> the number of partitions can
only be decreased.</p>
<p>If the partitions are spread across multiple machines and <code>coalesce()</code> is run,
how can it avoid data movement?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>It avoids a <strong>full</strong> shuffle. If it's known that the number is decreasing then
the executor can safely keep data on the minimum number of partitions, only
moving the data off the extra nodes, onto the nodes that we kept.</p>
<p>So, it would go something like this:</p>
<div class="code"><pre class="code literal-block">Node 1 = 1,2,3
Node 2 = 4,5,6
Node 3 = 7,8,9
Node 4 = 10,11,12
</pre></div>

<p>Then <code>coalesce</code> down to 2 partitions:</p>
<div class="code"><pre class="code literal-block">Node 1 = 1,2,3 + (10,11,12)
Node 3 = 7,8,9 + (4,5,6)
</pre></div>

<p>Notice that Node 1 and Node 3 did not require its original data to move.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Justin's answer is awesome and this response goes into more depth.</p>
<p>The <code>repartition</code> algorithm does a full shuffle and creates new partitions
with data that's distributed evenly. Let's create a DataFrame with the numbers
from 1 to 12.</p>
<div class="code"><pre class="code literal-block">val x = (1 to 12).toList
val numbersDf = x.toDF("number")
</pre></div>

<p><code>numbersDf</code> contains 4 partitions on my machine.</p>
<div class="code"><pre class="code literal-block">numbersDf.rdd.partitions.size // =&gt; 4
</pre></div>

<p>Here is how the data is divided on the partitions:</p>
<div class="code"><pre class="code literal-block">Partition 00000: 1, 2, 3
Partition 00001: 4, 5, 6
Partition 00002: 7, 8, 9
Partition 00003: 10, 11, 12
</pre></div>

<p>Let's do a full-shuffle with the <code>repartition</code> method and get this data on two
nodes.</p>
<div class="code"><pre class="code literal-block">val numbersDfR = numbersDf.repartition(2)
</pre></div>

<p>Here is how the <code>numbersDfR</code> data is partitioned on my machine:</p>
<div class="code"><pre class="code literal-block">Partition A: 1, 3, 4, 6, 7, 9, 10, 12
Partition B: 2, 5, 8, 11
</pre></div>

<p>The <code>repartition</code> method makes new partitions and evenly distributes the data
in the new partitions (the data distribution is more even for larger data
sets).</p>
<p><strong>Difference between<code>coalesce</code> and <code>repartition</code></strong></p>
<p><code>coalesce</code> uses existing partitions to minimize the amount of data that's
shuffled. <code>repartition</code> creates new partitions and does a full shuffle.
<code>coalesce</code> results in partitions with different amounts of data (sometimes
partitions that have much different sizes) and <code>repartition</code> results in
roughly equal sized partitions.</p>
<p><strong>Is<code>coalesce</code> or <code>repartition</code> faster?</strong></p>
<p><code>coalesce</code> may run faster than <code>repartition</code>, but unequal sized partitions are
generally slower to work with than equal sized partitions. You'll usually need
to repartition datasets after filtering a large data set. I've found
<code>repartition</code> to be faster overall because Spark is built to work with equal
sized partitions.</p>
<p>N.B. I've curiously observed that repartition can increase the size of data on
disk. Make sure to run tests when you're using repartition / coalesce on large
datasets.</p>
<p>Read this blog post if you'd like even more details.</p>
<p><strong>When you'll use coalesce &amp; repartition in practice</strong></p>
<ul>
<li>See this question on how to use coalesce &amp; repartition to write out a DataFrame to a single file</li>
<li>It's critical to repartition after running filtering queries. The number of partitions does not change after filtering, so if you don't repartition, you'll have way too many memory partitions (the more the filter reduces the dataset size, the bigger the problem). Watch out for the empty partition problem.</li>
<li>partitionBy is used to write out data in partitions on disk. You'll need to use repartition / coalesce to partition your data in memory properly before using partitionBy. </li>
</ul>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/edit-the-root-commit-in-git/" class="u-url">Edit the root commit in Git?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/edit-the-root-commit-in-git/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T01:42:14+08:00" itemprop="datePublished" title="2023-03-04 01:42">2023-03-04 01:42</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>There's ways to change the message from later commits:</p>
<div class="code"><pre class="code literal-block"><span class="nv">git</span><span class="w"> </span><span class="nv">commit</span><span class="w"> </span><span class="o">--</span><span class="nv">amend</span><span class="w">                    </span>#<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">most</span><span class="w"> </span><span class="nv">recent</span><span class="w"> </span><span class="nv">commit</span>
<span class="nv">git</span><span class="w"> </span><span class="nv">rebase</span><span class="w"> </span><span class="o">--</span><span class="nv">interactive</span><span class="w"> </span><span class="nv">master</span><span class="o">~</span><span class="mi">2</span><span class="w">     </span>#<span class="w"> </span><span class="nv">but</span><span class="w"> </span><span class="nv">requires</span><span class="w"> </span><span class="o">*</span><span class="nv">parent</span><span class="o">*</span>
</pre></div>

<p>How can you change the commit message of the very first commit (which has no
parent)?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Assuming that you have a clean working tree, you can do the following.</p>
<div class="code"><pre class="code literal-block"># checkout the root commit
git checkout &lt;sha1-of-root&gt;

# amend the commit
git commit --amend

# rebase all the other commits in master onto the amended root
git rebase --onto HEAD HEAD master
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Assuming that you have a clean working tree, you can do the following.</p>
<div class="code"><pre class="code literal-block"># checkout the root commit
git checkout &lt;sha1-of-root&gt;

# amend the commit
git commit --amend

# rebase all the other commits in master onto the amended root
git rebase --onto HEAD HEAD master
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2245.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2243.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

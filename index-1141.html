<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1141) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1141.html">
<link rel="prev" href="index-1142.html" type="text/html">
<link rel="next" href="index-1140.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-are-the-advantages-of-list-initialization-using-curly-braces/" class="u-url">What are the advantages of list initialization (using curly braces)?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-are-the-advantages-of-list-initialization-using-curly-braces/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T02:14:11+08:00" itemprop="datePublished" title="2023-02-18 02:14">2023-02-18 02:14</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <div class="code"><pre class="code literal-block">MyClass a1 {a};     // clearer and less error-prone than the other three
MyClass a2 = {a};
MyClass a3 = a;
MyClass a4(a);
</pre></div>

<p><strong>Why?</strong></p>
<p><br><br></p>
<h2>Answer</h2>
<p>Basically copying and pasting from Bjarne Stroustrup's <em>"The C++ Programming
Language 4th Edition"</em> :</p>
<p><strong>List initialization</strong> does not allow narrowing (§iso.8.5.4). That is:</p>
<ul>
<li>An integer cannot be converted to another integer that cannot hold its value. For example, char to int is allowed, but not int to char.</li>
<li>A floating-point value cannot be converted to another floating-point type that cannot hold its value. For example, float to double is allowed, but not double to float.</li>
<li>A floating-point value cannot be converted to an integer type.</li>
<li>An integer value cannot be converted to a floating-point type.</li>
</ul>
<p>Example:</p>
<div class="code"><pre class="code literal-block"><span class="nt">void</span><span class="w"> </span><span class="nt">fun</span><span class="o">(</span><span class="nt">double</span><span class="w"> </span><span class="nt">val</span><span class="o">,</span><span class="w"> </span><span class="nt">int</span><span class="w"> </span><span class="nt">val2</span><span class="o">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="err">int</span><span class="w"> </span><span class="err">x2</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">val</span><span class="p">;</span><span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">if</span><span class="w"> </span><span class="err">val</span><span class="w"> </span><span class="err">==</span><span class="w"> </span><span class="err">7.9,</span><span class="w"> </span><span class="err">x2</span><span class="w"> </span><span class="err">becomes</span><span class="w"> </span><span class="err">7</span><span class="w"> </span><span class="err">(bad)</span>

<span class="w">    </span><span class="err">char</span><span class="w"> </span><span class="err">c2</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">val2</span><span class="p">;</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">if</span><span class="w"> </span><span class="err">val2</span><span class="w"> </span><span class="err">==</span><span class="w"> </span><span class="err">1025,</span><span class="w"> </span><span class="err">c2</span><span class="w"> </span><span class="err">becomes</span><span class="w"> </span><span class="err">1</span><span class="w"> </span><span class="err">(bad)</span>

<span class="w">    </span><span class="err">int</span><span class="w"> </span><span class="err">x3</span><span class="w"> </span><span class="err">{val</span><span class="p">}</span><span class="o">;</span><span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="nt">error</span><span class="o">:</span><span class="w"> </span><span class="nt">possible</span><span class="w"> </span><span class="nt">truncation</span><span class="w"> </span><span class="o">(</span><span class="nt">good</span><span class="o">)</span>

<span class="w">    </span><span class="nt">char</span><span class="w"> </span><span class="nt">c3</span><span class="w"> </span><span class="p">{</span><span class="err">val2</span><span class="p">}</span><span class="o">;</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="nt">error</span><span class="o">:</span><span class="w"> </span><span class="nt">possible</span><span class="w"> </span><span class="nt">narrowing</span><span class="w"> </span><span class="o">(</span><span class="nt">good</span><span class="o">)</span>

<span class="w">    </span><span class="nt">char</span><span class="w"> </span><span class="nt">c4</span><span class="w"> </span><span class="p">{</span><span class="err">24</span><span class="p">}</span><span class="o">;</span><span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="nt">OK</span><span class="o">:</span><span class="w"> </span><span class="nt">24</span><span class="w"> </span><span class="nt">can</span><span class="w"> </span><span class="nt">be</span><span class="w"> </span><span class="nt">represented</span><span class="w"> </span><span class="nt">exactly</span><span class="w"> </span><span class="nt">as</span><span class="w"> </span><span class="nt">a</span><span class="w"> </span><span class="nt">char</span><span class="w"> </span><span class="o">(</span><span class="nt">good</span><span class="o">)</span>

<span class="w">    </span><span class="nt">char</span><span class="w"> </span><span class="nt">c5</span><span class="w"> </span><span class="p">{</span><span class="err">264</span><span class="p">}</span><span class="o">;</span><span class="w">   </span><span class="o">//</span><span class="w"> </span><span class="nt">error</span><span class="w"> </span><span class="o">(</span><span class="nt">assuming</span><span class="w"> </span><span class="nt">8-bit</span><span class="w"> </span><span class="nt">chars</span><span class="o">):</span><span class="w"> </span><span class="nt">264</span><span class="w"> </span><span class="nt">cannot</span><span class="w"> </span><span class="nt">be</span><span class="w"> </span>
<span class="w">                     </span><span class="o">//</span><span class="w"> </span><span class="nt">represented</span><span class="w"> </span><span class="nt">as</span><span class="w"> </span><span class="nt">a</span><span class="w"> </span><span class="nt">char</span><span class="w"> </span><span class="o">(</span><span class="nt">good</span><span class="o">)</span>

<span class="w">    </span><span class="nt">int</span><span class="w"> </span><span class="nt">x4</span><span class="w"> </span><span class="p">{</span><span class="err">2.0</span><span class="p">}</span><span class="o">;</span><span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="nt">error</span><span class="o">:</span><span class="w"> </span><span class="nt">no</span><span class="w"> </span><span class="nt">double</span><span class="w"> </span><span class="nt">to</span><span class="w"> </span><span class="nt">int</span><span class="w"> </span><span class="nt">value</span><span class="w"> </span><span class="nt">conversion</span><span class="w"> </span><span class="o">(</span><span class="nt">good</span><span class="o">)</span>

<span class="err">}</span>
</pre></div>

<hr>
<p>The <em>only</em> situation where = is preferred over {} is when using <code>auto</code> keyword
to get the type determined by the initializer.</p>
<p>Example:</p>
<div class="code"><pre class="code literal-block"><span class="nt">auto</span><span class="w"> </span><span class="nt">z1</span><span class="w"> </span><span class="p">{</span><span class="err">99</span><span class="p">}</span><span class="o">;</span><span class="w">   </span><span class="o">//</span><span class="w"> </span><span class="nt">z1</span><span class="w"> </span><span class="nt">is</span><span class="w"> </span><span class="nt">an</span><span class="w"> </span><span class="nt">int</span>
<span class="nt">auto</span><span class="w"> </span><span class="nt">z2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="err">99</span><span class="p">}</span><span class="o">;</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="nt">z2</span><span class="w"> </span><span class="nt">is</span><span class="w"> </span><span class="nt">std</span><span class="p">::</span><span class="nd">initializer_list</span><span class="o">&lt;</span><span class="nt">int</span><span class="o">&gt;</span>
<span class="nt">auto</span><span class="w"> </span><span class="nt">z3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">99</span><span class="o">;</span><span class="w">   </span><span class="o">//</span><span class="w"> </span><span class="nt">z3</span><span class="w"> </span><span class="nt">is</span><span class="w"> </span><span class="nt">an</span><span class="w"> </span><span class="nt">int</span>
</pre></div>

<hr>
<h3>Conclusion</h3>
<p><strong>Prefer {} initialization over alternatives unless you have a strong reason
not to.</strong></p>
<p><br></p>
<h3>Suggest</h3>
<p>There are already great answers about the advantages of using list
initialization, however my personal rule of thumb is NOT to use curly braces
whenever possible, but instead make it dependent on the conceptual meaning:</p>
<ul>
<li>If the object I'm creating conceptually holds the values I'm passing in the constructor (e.g. containers, POD structs, atomics, smart pointers etc.), then I'm using the braces.</li>
<li>If the constructor resembles a normal function call (it performs some more or less complex operations that are parametrized by the arguments) then I'm using the normal function call syntax.</li>
<li>For default initialization I always use curly braces.<br>
For one, that way I'm always sure that the object gets initialized
irrespective of whether it e.g. is a "real" class with a default constructor
that would get called anyway or a builtin / POD type. Second it is - in most
cases - consistent with the first rule, as a default initialized object often
represents an "empty" object.</li>
</ul>
<p>In my experience, this ruleset can be applied much more consistently than
using curly braces by default, but having to explicitly remember all the
exceptions when they can't be used or have a different meaning than the
"normal" function-call syntax with parenthesis (calls a different overload).</p>
<p>It e.g. fits nicely with standard library-types like <code>std::vector</code>:</p>
<div class="code"><pre class="code literal-block"><span class="n">vector</span><span class="o">&lt;</span><span class="nb nb-Type">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">{</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">};</span><span class="w">   </span><span class="o">//</span><span class="n">Curly</span><span class="w"> </span><span class="n">braces</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">fills</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">vector</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">arguments</span>

<span class="n">vector</span><span class="o">&lt;</span><span class="nb nb-Type">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">b</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">);</span><span class="w">   </span><span class="o">//</span><span class="n">Parentheses</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">arguments</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">parametrize</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">functionality</span><span class="p">,</span><span class="w">                          </span>
<span class="n">vector</span><span class="o">&lt;</span><span class="nb nb-Type">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">c</span><span class="p">(</span><span class="n">it1</span><span class="p">,</span><span class="w"> </span><span class="n">it2</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="n">like</span><span class="w"> </span><span class="n">filling</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">vector</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="n">integers</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">copying</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nb">range</span><span class="o">.</span>

<span class="n">vector</span><span class="o">&lt;</span><span class="nb nb-Type">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">d</span><span class="p">{};</span><span class="w">      </span><span class="o">//</span><span class="n">empty</span><span class="w"> </span><span class="n">braces</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">constructs</span><span class="w"> </span><span class="n">vector</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">equivalent</span>
<span class="w">                      </span><span class="o">//</span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">vector</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">filled</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">zero</span><span class="w"> </span><span class="n">elements</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-programmatically-set-the-value-of-a-select-box-element-using-javascript/" class="u-url">How do I programmatically set the value of a select box element using JavaScript?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-programmatically-set-the-value-of-a-select-box-element-using-javascript/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T02:13:44+08:00" itemprop="datePublished" title="2023-02-18 02:13">2023-02-18 02:13</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have the following HTML <code>&lt;select&gt;</code> element:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">"leaveCode"</span><span class="w"> </span><span class="na">name=</span><span class="s">"leaveCode"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;option</span><span class="w"> </span><span class="na">value=</span><span class="s">"10"</span><span class="nt">&gt;</span>Annual<span class="w"> </span>Leave<span class="nt">&lt;/option&gt;</span>
<span class="w">  </span><span class="nt">&lt;option</span><span class="w"> </span><span class="na">value=</span><span class="s">"11"</span><span class="nt">&gt;</span>Medical<span class="w"> </span>Leave<span class="nt">&lt;/option&gt;</span>
<span class="w">  </span><span class="nt">&lt;option</span><span class="w"> </span><span class="na">value=</span><span class="s">"14"</span><span class="nt">&gt;</span>Long<span class="w"> </span>Service<span class="nt">&lt;/option&gt;</span>
<span class="w">  </span><span class="nt">&lt;option</span><span class="w"> </span><span class="na">value=</span><span class="s">"17"</span><span class="nt">&gt;</span>Leave<span class="w"> </span>Without<span class="w"> </span>Pay<span class="nt">&lt;/option&gt;</span>
<span class="nt">&lt;/select&gt;</span>
</pre></div>

<p>Using a JavaScript function with the <code>leaveCode</code> number as a parameter, how do
I select the appropriate option in the list?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can use this function:</p>
<div class="code"><pre class="code literal-block">function<span class="w"> </span>selectElement(id,<span class="w"> </span>valueToSelect)<span class="w"> </span>{<span class="w">    </span>
<span class="w">    </span>let<span class="w"> </span>element<span class="w"> </span>=<span class="w"> </span>document.getElementById(id);
<span class="w">    </span>element.value<span class="w"> </span>=<span class="w"> </span>valueToSelect;
}

selectElement('leaveCode',<span class="w"> </span>'11');


<span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">"leaveCode"</span><span class="w"> </span><span class="na">name=</span><span class="s">"leaveCode"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;option</span><span class="w"> </span><span class="na">value=</span><span class="s">"10"</span><span class="nt">&gt;</span>Annual<span class="w"> </span>Leave<span class="nt">&lt;/option&gt;</span>
<span class="w">  </span><span class="nt">&lt;option</span><span class="w"> </span><span class="na">value=</span><span class="s">"11"</span><span class="nt">&gt;</span>Medical<span class="w"> </span>Leave<span class="nt">&lt;/option&gt;</span>
<span class="w">  </span><span class="nt">&lt;option</span><span class="w"> </span><span class="na">value=</span><span class="s">"14"</span><span class="nt">&gt;</span>Long<span class="w"> </span>Service<span class="nt">&lt;/option&gt;</span>
<span class="w">  </span><span class="nt">&lt;option</span><span class="w"> </span><span class="na">value=</span><span class="s">"17"</span><span class="nt">&gt;</span>Leave<span class="w"> </span>Without<span class="w"> </span>Pay<span class="nt">&lt;/option&gt;</span>
<span class="nt">&lt;/select&gt;</span>
</pre></div>

<p>Optionally if you want to trigger onchange event also, you can use :</p>
<div class="code"><pre class="code literal-block">element.dispatchEvent(new Event('change'))
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>If you are using jQuery you can also do this:</p>
<div class="code"><pre class="code literal-block">$('#leaveCode').val('14');
</pre></div>

<p>This will select the <code>&lt;option&gt;</code> with the value of 14.</p>
<hr>
<p>With plain Javascript, this can also be achieved with two <code>Document</code> methods:</p>
<ul>
<li>
<p>With <code>document.querySelector</code>, you can select an element based on a CSS selector:</p>
<div class="code"><pre class="code literal-block">document.querySelector('#leaveCode').value = '14'
</pre></div>

</li>
<li>
<p>Using the more established approach with <code>document.getElementById()</code>, that will, as the name of the function implies, let you select an element based on its <code>id</code>:</p>
<div class="code"><pre class="code literal-block">document.getElementById('leaveCode').value = '14'
</pre></div>

</li>
</ul>
<p>You can run the below code snipped to see these methods and the jQuery
function in action:</p>
<p>Show code snippet</p>
<div class="code"><pre class="code literal-block">const<span class="w"> </span>jQueryFunction<span class="w"> </span>=<span class="w"> </span>()<span class="w"> </span>=&gt;<span class="w"> </span>{

<span class="w">  </span>$('#leaveCode').val('14');

}

const<span class="w"> </span>querySelectorFunction<span class="w"> </span>=<span class="w"> </span>()<span class="w"> </span>=&gt;<span class="w"> </span>{

<span class="w">  </span>document.querySelector('#leaveCode').value<span class="w"> </span>=<span class="w"> </span>'14'

}

const<span class="w"> </span>getElementByIdFunction<span class="w"> </span>=<span class="w"> </span>()<span class="w"> </span>=&gt;<span class="w"> </span>{

<span class="w">  </span>document.getElementById('leaveCode').value='14'

}


input<span class="w"> </span>{
<span class="w">  </span>display:block;
<span class="w">  </span>margin:<span class="w"> </span>10px;
<span class="w">  </span>padding:<span class="w"> </span>10px
}


<span class="nt">&lt;select</span><span class="w"> </span><span class="na">id=</span><span class="s">"leaveCode"</span><span class="w"> </span><span class="na">name=</span><span class="s">"leaveCode"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;option</span><span class="w"> </span><span class="na">value=</span><span class="s">"10"</span><span class="nt">&gt;</span>Annual<span class="w"> </span>Leave<span class="nt">&lt;/option&gt;</span>
<span class="w">  </span><span class="nt">&lt;option</span><span class="w"> </span><span class="na">value=</span><span class="s">"11"</span><span class="nt">&gt;</span>Medical<span class="w"> </span>Leave<span class="nt">&lt;/option&gt;</span>
<span class="w">  </span><span class="nt">&lt;option</span><span class="w"> </span><span class="na">value=</span><span class="s">"14"</span><span class="nt">&gt;</span>Long<span class="w"> </span>Service<span class="nt">&lt;/option&gt;</span>
<span class="w">  </span><span class="nt">&lt;option</span><span class="w"> </span><span class="na">value=</span><span class="s">"17"</span><span class="nt">&gt;</span>Leave<span class="w"> </span>Without<span class="w"> </span>Pay<span class="nt">&lt;/option&gt;</span>
<span class="nt">&lt;/select&gt;</span>

<span class="nt">&lt;input</span><span class="w"> </span><span class="na">type=</span><span class="s">"button"</span><span class="w"> </span><span class="na">value=</span><span class="s">"$('#leaveCode').val('14');"</span><span class="w"> </span><span class="na">onclick=</span><span class="s">"jQueryFunction()"</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="nt">&lt;input</span><span class="w"> </span><span class="na">type=</span><span class="s">"button"</span><span class="w"> </span><span class="na">value=</span><span class="s">"document.querySelector('#leaveCode').value = '14'"</span><span class="w"> </span><span class="na">onclick=</span><span class="s">"querySelectorFunction()"</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="nt">&lt;input</span><span class="w"> </span><span class="na">type=</span><span class="s">"button"</span><span class="w"> </span><span class="na">value=</span><span class="s">"document.getElementById('leaveCode').value = '14'"</span><span class="w"> </span><span class="na">onclick=</span><span class="s">"getElementByIdFunction()"</span><span class="w"> </span><span class="nt">/&gt;</span>

<span class="nt">&lt;script</span><span class="w"> </span><span class="na">src=</span><span class="s">"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/transpose-unzip-function-inverse-of-zip/" class="u-url">Transpose/Unzip Function (inverse of zip)?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/transpose-unzip-function-inverse-of-zip/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T02:13:17+08:00" itemprop="datePublished" title="2023-02-18 02:13">2023-02-18 02:13</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a list of 2-item tuples and I'd like to convert them to 2 lists where
the first contains the first item in each tuple and the second list holds the
second item.</p>
<p><strong>For example:</strong></p>
<div class="code"><pre class="code literal-block">original = [('a', 1), ('b', 2), ('c', 3), ('d', 4)]
# and I want to become...
result = (['a', 'b', 'c', 'd'], [1, 2, 3, 4])
</pre></div>

<p>Is there a builtin function that does that?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>In 2.x, <code>zip</code> is its own inverse! Provided you use the special * operator.</p>
<div class="code"><pre class="code literal-block">&gt;&gt;&gt; zip(*[('a', 1), ('b', 2), ('c', 3), ('d', 4)])
[('a', 'b', 'c', 'd'), (1, 2, 3, 4)]
</pre></div>

<p>This is equivalent to calling <code>zip</code> with each element of the list as a
separate argument:</p>
<div class="code"><pre class="code literal-block">zip(('a', 1), ('b', 2), ('c', 3), ('d', 4))
</pre></div>

<p>except the arguments are passed to <code>zip</code> directly (after being converted to a
tuple), so there's no need to worry about the number of arguments getting too
big.</p>
<p>In 3.x, <code>zip</code> returns a lazy iterator, but this is trivially converted:</p>
<div class="code"><pre class="code literal-block">&gt;&gt;&gt; list(zip(*[('a', 1), ('b', 2), ('c', 3), ('d', 4)]))
[('a', 'b', 'c', 'd'), (1, 2, 3, 4)]
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>You could also do</p>
<div class="code"><pre class="code literal-block"><span class="nb">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">(</span>[<span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">a</span>,<span class="nv">b</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">original</span><span class="w"> </span>],<span class="w"> </span>[<span class="w"> </span><span class="nv">b</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">a</span>,<span class="nv">b</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">original</span><span class="w"> </span>]<span class="ss">)</span>
</pre></div>

<p>It <em>should</em> scale better. Especially if Python makes good on not expanding the
list comprehensions unless needed.</p>
<p>(Incidentally, it makes a 2-tuple (pair) of lists, rather than a list of
tuples, like <code>zip</code> does.)</p>
<p>If generators instead of actual lists are ok, this would do that:</p>
<div class="code"><pre class="code literal-block"><span class="nb">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">((</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">a</span>,<span class="nv">b</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">original</span><span class="w"> </span><span class="ss">)</span>,<span class="w"> </span><span class="ss">(</span><span class="w"> </span><span class="nv">b</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">a</span>,<span class="nv">b</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">original</span><span class="w"> </span><span class="ss">))</span>
</pre></div>

<p>The generators don't munch through the list until you ask for each element,
but on the other hand, they do keep references to the original list.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1142.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1140.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

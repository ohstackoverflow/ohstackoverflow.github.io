<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2819) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2819.html">
<link rel="prev" href="index-2820.html" type="text/html">
<link rel="next" href="index-2818.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-get-all-values-from-python-enum-class/" class="u-url">How to get all values from python enum class?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-get-all-values-from-python-enum-class/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T20:18:54+08:00" itemprop="datePublished" title="2023-03-05 20:18">2023-03-05 20:18</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm using Enum4 library to create an enum class as follows:</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span> <span class="n">Color</span>(<span class="n">Enum</span>):
    <span class="n">RED</span> = <span class="mi">1</span>
    <span class="n">BLUE</span> = <span class="mi">2</span>
</pre></div>

<p>I want to print <code>[1, 2]</code> as a list somewhere. How can I achieve this?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can use IntEnum:</p>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">enum</span> <span class="kn">import</span> <span class="n">IntEnum</span>

<span class="k">class</span> <span class="nc">Color</span><span class="p">(</span><span class="n">IntEnum</span><span class="p">):</span>
   <span class="n">RED</span> <span class="o">=</span> <span class="mi">1</span>
   <span class="n">BLUE</span> <span class="o">=</span> <span class="mi">2</span>


<span class="nb">print</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">Color</span><span class="o">.</span><span class="n">RED</span><span class="p">))</span>   <span class="c1"># prints 1</span>
</pre></div>

<p>To get list of the ints:</p>
<div class="code"><pre class="code literal-block"><span class="n">enum_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">list</span><span class="p">(</span><span class="n">map</span><span class="p">(</span><span class="nb nb-Type">int</span><span class="p">,</span><span class="w"> </span><span class="nb nb-Type">Color</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">enum_list</span><span class="p">)</span><span class="w"> </span><span class="c1"># prints [1, 2]</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Based on the answer by @Jeff, refactored to use a <code>classmethod</code> so that you
can reuse the same code for any of your enums:</p>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">enum</span> <span class="kn">import</span> <span class="n">Enum</span>

<span class="k">class</span> <span class="nc">ExtendedEnum</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">list</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="bp">cls</span><span class="p">))</span>

<span class="k">class</span> <span class="nc">OperationType</span><span class="p">(</span><span class="n">ExtendedEnum</span><span class="p">):</span>
    <span class="n">CREATE</span> <span class="o">=</span> <span class="s1">'CREATE'</span>
    <span class="n">STATUS</span> <span class="o">=</span> <span class="s1">'STATUS'</span>
    <span class="n">EXPAND</span> <span class="o">=</span> <span class="s1">'EXPAND'</span>
    <span class="n">DELETE</span> <span class="o">=</span> <span class="s1">'DELETE'</span>

<span class="nb">print</span><span class="p">(</span><span class="n">OperationType</span><span class="o">.</span><span class="n">list</span><span class="p">())</span>
</pre></div>

<p>Produces:</p>
<div class="code"><pre class="code literal-block">['CREATE', 'STATUS', 'EXPAND', 'DELETE']
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/api-pagination-best-practices/" class="u-url">API pagination best practices</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/api-pagination-best-practices/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T20:17:32+08:00" itemprop="datePublished" title="2023-03-05 20:17">2023-03-05 20:17</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'd love some some help handling a strange edge case with a paginated API I'm
building.</p>
<p>Like many APIs, this one paginates large results. If you query /foos, you'll
get 100 results (i.e. foo #1-100), and a link to /foos?page=2 which should
return foo #101-200.</p>
<p>Unfortunately, if foo #10 is deleted from the data set before the API consumer
makes the next query, /foos?page=2 will offset by 100 and return foos</p>
<h2>102-201.</h2>
<p>This is a problem for API consumers who are trying to pull all foos - they
will not receive foo #101.</p>
<p>What's the best practice to handle this? We'd like to make it as lightweight
as possible (i.e. avoiding handling sessions for API requests). Examples from
other APIs would be greatly appreciated!</p>
<p><br><br></p>
<h2>Answer</h2>
<p>I'm not completely sure how your data is handled, so this may or may not work,
but have you considered paginating with a timestamp field?</p>
<p>When you query /foos you get 100 results. Your API should then return
something like this (assuming JSON, but if it needs XML the same principles
can be followed):</p>
<div class="code"><pre class="code literal-block">{
<span class="w">    </span><span class="s2">"data"</span><span class="w"> </span>:<span class="w"> </span>[
<span class="w">        </span>{<span class="w">  </span><span class="nv">data</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nv">with</span><span class="w"> </span><span class="nv">all</span><span class="w"> </span><span class="nv">relevant</span><span class="w"> </span><span class="nv">fields</span><span class="w">    </span>},
<span class="w">        </span>{<span class="w">  </span><span class="nv">data</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="mi">2</span><span class="w">   </span>},
<span class="w">        </span>...
<span class="w">        </span>{<span class="w">  </span><span class="nv">data</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span>}
<span class="w">    </span>],
<span class="w">    </span><span class="s2">"paging"</span>:<span class="w">  </span>{
<span class="w">        </span><span class="s2">"previous"</span>:<span class="w">  </span><span class="s2">"http://api.example.com/foo?since=TIMESTAMP1"</span><span class="w"> </span>
<span class="w">        </span><span class="s2">"next"</span>:<span class="w">  </span><span class="s2">"http://api.example.com/foo?since=TIMESTAMP2"</span>
<span class="w">    </span>}

}
</pre></div>

<p>Just a note, only using one timestamp relies on an implicit 'limit' in your
results. You may want to add an explicit limit or also use an <code>until</code>
property.</p>
<p>The timestamp can be dynamically determined using the last data item in the
list. This seems to be more or less how Facebook paginates in its Graph API
(scroll down to the bottom to see the pagination links in the format I gave
above).</p>
<p>One problem may be if you add a data item, but based on your description it
sounds like they would be added to the end (if not, let me know and I'll see
if I can improve on this).</p>
<p><br></p>
<h3>Suggest</h3>
<p>If you've got pagination you also sort the data by some key. Why not let API
clients include the key of the last element of the previously returned
collection in the URL and add a <code>WHERE</code> clause to your SQL query (or something
equivalent, if you're not using SQL) so that it returns only those elements
for which the key is greater than this value?</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/difference-between-domcontentloaded-and-load-events/" class="u-url">Difference between DOMContentLoaded and load events</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/difference-between-domcontentloaded-and-load-events/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T20:16:12+08:00" itemprop="datePublished" title="2023-03-05 20:16">2023-03-05 20:16</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What is the difference between <code>DOMContentLoaded</code> and <code>load</code> events?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>From the Mozilla Developer Center:</p>
<blockquote>
<p>The DOMContentLoaded event is fired when the document has been completely
loaded and parsed, without waiting for stylesheets, images, and subframes to
finish loading (the load event can be used to detect a fully-loaded page).</p>
</blockquote>
<p><br></p>
<h3>Suggest</h3>
<p>The <code>DOMContentLoaded</code> event will fire as soon as the DOM hierarchy has been
fully constructed, the <code>load</code> event will do it when all the images and sub-
frames have finished loading.</p>
<p><code>DOMContentLoaded</code> will work on most modern browsers, <del>but not on IE</del>
including IE9 and above. There are some workarounds to mimic this event on
older versions of IE, like the used on the jQuery library, they attach the <em>IE
specific</em> <code>onreadystatechange</code> event.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2820.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2818.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 649) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-649.html">
<link rel="prev" href="index-650.html" type="text/html">
<link rel="next" href="index-648.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/ru-he-zai-android-zhong-geng-gai-textview-de-fontfamily/" class="u-url">如何在 Android 中更改 TextView 的 fontFamily</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/ru-he-zai-android-zhong-geng-gai-textview-de-fontfamily/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T12:25:08+08:00" itemprop="datePublished" title="2023-02-17 12:25">2023-02-17 12:25</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>所以我想更改<code>android:fontFamily</code>Android 中的，但我在 Android
中看不到任何预定义的字体。如何选择其中一个预定义的？我真的不需要定义我自己的 TypeFace，但我需要的只是与它现在显示的不同的东西。</p>
<div class="code"><pre class="code literal-block">&lt;TextView
    android:id="@+id/HeaderText"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentTop="true"
    android:layout_centerHorizontal="true"
    android:layout_marginTop="52dp"
    android:gravity="center"
    android:text="CallerBlocker"
    android:textSize="40dp"
    android:fontFamily="Arial"
 /&gt;
</pre></div>

<p>看来我在那里所做的不会真正起作用！顺便说一句，<code>android:fontFamily="Arial"</code>这是一次愚蠢的尝试！</p>
<p><br><br></p>
<h2>解答</h2>
<p>从 android 4.1 / 4.2 / 5.0 开始，可以使用以下Roboto字体系列：</p>
<div class="code"><pre class="code literal-block"><span class="n">android</span><span class="o">:</span><span class="n">fontFamily</span><span class="o">=</span><span class="s2">"sans-serif"</span><span class="w">           </span><span class="c1">// roboto regular</span>
<span class="n">android</span><span class="o">:</span><span class="n">fontFamily</span><span class="o">=</span><span class="s2">"sans-serif-light"</span><span class="w">     </span><span class="c1">// roboto light</span>
<span class="n">android</span><span class="o">:</span><span class="n">fontFamily</span><span class="o">=</span><span class="s2">"sans-serif-condensed"</span><span class="w"> </span><span class="c1">// roboto condensed</span>
<span class="n">android</span><span class="o">:</span><span class="n">fontFamily</span><span class="o">=</span><span class="s2">"sans-serif-black"</span><span class="w">     </span><span class="c1">// roboto black</span>
<span class="n">android</span><span class="o">:</span><span class="n">fontFamily</span><span class="o">=</span><span class="s2">"sans-serif-thin"</span><span class="w">      </span><span class="c1">// roboto thin (android 4.2)</span>
<span class="n">android</span><span class="o">:</span><span class="n">fontFamily</span><span class="o">=</span><span class="s2">"sans-serif-medium"</span><span class="w">    </span><span class="c1">// roboto medium (android 5.0)</span>
</pre></div>

<p><img alt="在此处输入图像描述" src="images/M2yxI.png"></p>
<p>结合</p>
<div class="code"><pre class="code literal-block"><span class="n">android</span><span class="o">:</span><span class="n">textStyle</span><span class="o">=</span><span class="s2">"normal|bold|italic"</span>
</pre></div>

<p>这 16 种变体是可能的：</p>
<ul>
<li>机器人常规</li>
<li>机器人斜体</li>
<li>机器人大胆</li>
<li>Roboto 粗斜体</li>
<li>机器人灯</li>
<li>Roboto-Light 斜体</li>
<li>Roboto-Thin</li>
<li>Roboto-Thin 斜体</li>
<li>机器人浓缩</li>
<li>Roboto-Condensed 斜体</li>
<li>Roboto-Condensed 粗体</li>
<li>Roboto-Condensed 粗斜体</li>
<li>机械黑</li>
<li>Roboto-黑色斜体</li>
<li>机器人媒体</li>
<li>Roboto-Medium 斜体</li>
</ul>
<p><code>fonts.xml</code></p>
<div class="code"><pre class="code literal-block"><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;resources&gt;</span>
<span class="w">    </span><span class="nt">&lt;string</span><span class="w"> </span><span class="na">name=</span><span class="s">"font_family_light"</span><span class="nt">&gt;</span>sans-serif-light<span class="nt">&lt;/string&gt;</span>
<span class="w">    </span><span class="nt">&lt;string</span><span class="w"> </span><span class="na">name=</span><span class="s">"font_family_medium"</span><span class="nt">&gt;</span>sans-serif-medium<span class="nt">&lt;/string&gt;</span>
<span class="w">    </span><span class="nt">&lt;string</span><span class="w"> </span><span class="na">name=</span><span class="s">"font_family_regular"</span><span class="nt">&gt;</span>sans-serif<span class="nt">&lt;/string&gt;</span>
<span class="w">    </span><span class="nt">&lt;string</span><span class="w"> </span><span class="na">name=</span><span class="s">"font_family_condensed"</span><span class="nt">&gt;</span>sans-serif-condensed<span class="nt">&lt;/string&gt;</span>
<span class="w">    </span><span class="nt">&lt;string</span><span class="w"> </span><span class="na">name=</span><span class="s">"font_family_black"</span><span class="nt">&gt;</span>sans-serif-black<span class="nt">&lt;/string&gt;</span>
<span class="w">    </span><span class="nt">&lt;string</span><span class="w"> </span><span class="na">name=</span><span class="s">"font_family_thin"</span><span class="nt">&gt;</span>sans-serif-thin<span class="nt">&lt;/string&gt;</span>
<span class="nt">&lt;/resources&gt;</span>
</pre></div>

<p><br></p>
<h3>更多建议</h3>
<p><strong>从Android-Studio 3.0</strong> 开始，更改字体系列非常容易</p>
<p>使用支持库 26，它将在运行 Android API 版本 16 及更高版本的设备上运行</p>
<p><code>font</code>在目录下创建一个文件夹<code>res</code>。下载你想要的字体并将其粘贴到<code>font</code>文件夹中。结构应该像下面这样</p>
<p><img alt="这里" src="images/eiChI.png"></p>
<p><strong>注意：</strong> 从 Android 支持库 26.0 开始，您必须声明两组属性（android: 和 app:）以确保您的字体在运行 Api 26
或更低版本的设备上加载。</p>
<p>现在您可以使用更改 <strong>布局中的字体</strong></p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;</span><span class="n">TextView</span>
<span class="nl">android</span><span class="p">:</span><span class="n">layout_width</span><span class="o">=</span><span class="ss">"wrap_content"</span>
<span class="nl">android</span><span class="p">:</span><span class="n">layout_height</span><span class="o">=</span><span class="ss">"wrap_content"</span>
<span class="nl">android</span><span class="p">:</span><span class="n">fontFamily</span><span class="o">=</span><span class="ss">"@font/dancing_script"</span>
<span class="nl">app</span><span class="p">:</span><span class="n">fontFamily</span><span class="o">=</span><span class="ss">"@font/dancing_script"</span><span class="o">/&gt;</span>
</pre></div>

<p>以 <strong>编程方式更改</strong></p>
<div class="code"><pre class="code literal-block"> Typeface typeface = getResources().getFont(R.font.myfont);
   //or to support all versions use
Typeface typeface = ResourcesCompat.getFont(context, R.font.myfont);
 textView.setTypeface(typeface);
</pre></div>

<p>要使用 <strong>styles.xml</strong> 更改字体，请创建一个样式</p>
<div class="code"><pre class="code literal-block"><span class="w"> </span><span class="nt">&lt;style</span><span class="w"> </span><span class="na">name=</span><span class="s">"Regular"</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;item</span><span class="w"> </span><span class="na">name=</span><span class="s">"android:fontFamily"</span><span class="nt">&gt;</span>@font/dancing_script<span class="nt">&lt;/item&gt;</span>
<span class="w">        </span><span class="nt">&lt;item</span><span class="w"> </span><span class="na">name=</span><span class="s">"fontFamily"</span><span class="nt">&gt;</span>@font/dancing_script<span class="nt">&lt;/item&gt;</span>
<span class="w">        </span><span class="nt">&lt;item</span><span class="w"> </span><span class="na">name=</span><span class="s">"android:textStyle"</span><span class="nt">&gt;</span>normal<span class="nt">&lt;/item&gt;</span>
<span class="w"> </span><span class="nt">&lt;/style&gt;</span>
</pre></div>

<p>并将这种风格应用于<code>TextView</code></p>
<div class="code"><pre class="code literal-block"><span class="w">  </span><span class="o">&lt;</span><span class="n">TextView</span>
<span class="w">    </span><span class="nl">android</span><span class="p">:</span><span class="n">layout_width</span><span class="o">=</span><span class="ss">"wrap_content"</span>
<span class="w">    </span><span class="nl">android</span><span class="p">:</span><span class="n">layout_height</span><span class="o">=</span><span class="ss">"wrap_content"</span>
<span class="w">    </span><span class="n">style</span><span class="o">=</span><span class="ss">"@style/Regular"</span><span class="o">/&gt;</span>
</pre></div>

<p>您还可以创建自己的 <strong>字体系列</strong></p>
<p><strong>-</strong> 右键单击​​字体文件夹并转到 <strong>新建 &gt; 字体资源文件</strong>。出现“新建资源文件”窗口。</p>
<p><strong>-</strong> 输入 <strong>文件名</strong> ，然后单击 <strong>“确定”</strong> 。新字体资源 XML 在编辑器中打开。</p>
<p>例如，在这里编写您自己的字体系列</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;font-family</span><span class="w"> </span><span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;font</span>
<span class="w">        </span><span class="na">android:fontStyle=</span><span class="s">"normal"</span>
<span class="w">        </span><span class="na">android:fontWeight=</span><span class="s">"400"</span>
<span class="w">        </span><span class="na">android:font=</span><span class="s">"@font/lobster_regular"</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;font</span>
<span class="w">        </span><span class="na">android:fontStyle=</span><span class="s">"italic"</span>
<span class="w">        </span><span class="na">android:fontWeight=</span><span class="s">"400"</span>
<span class="w">        </span><span class="na">android:font=</span><span class="s">"@font/lobster_italic"</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="nt">&lt;/font-family&gt;</span>
</pre></div>

<p>这只是将特定的 fontStyle 和 fontWeight 映射到将用于呈现该特定变体的字体资源。fontStyle 的有效值为 normal 或
italic；并且 fontWeight 符合CSS font-weight 规范</p>
<p><strong>1.</strong> 要 <strong>更改</strong> <strong>布局</strong> 中的字体系列，您可以编写</p>
<div class="code"><pre class="code literal-block"><span class="w"> </span><span class="o">&lt;</span><span class="n">TextView</span>
<span class="w">    </span><span class="nl">android</span><span class="p">:</span><span class="n">layout_width</span><span class="o">=</span><span class="ss">"wrap_content"</span>
<span class="w">    </span><span class="nl">android</span><span class="p">:</span><span class="n">layout_height</span><span class="o">=</span><span class="ss">"wrap_content"</span>
<span class="w">    </span><span class="nl">android</span><span class="p">:</span><span class="n">fontFamily</span><span class="o">=</span><span class="ss">"@font/lobster"</span><span class="o">/&gt;</span>
</pre></div>

<p><strong>2.</strong> 以 <strong>编程方式更改</strong></p>
<div class="code"><pre class="code literal-block"> Typeface typeface = getResources().getFont(R.font.lobster);
   //or to support all versions use
Typeface typeface = ResourcesCompat.getFont(context, R.font.lobster);
 textView.setTypeface(typeface);
</pre></div>

<p>改变 <strong>整个 App 的字体</strong> 在 AppTheme 中添加这两行</p>
<div class="code"><pre class="code literal-block"><span class="w"> </span><span class="nt">&lt;style</span><span class="w"> </span><span class="na">name=</span><span class="s">"AppTheme"</span><span class="w"> </span><span class="na">parent=</span><span class="s">"Theme.AppCompat.Light.NoActionBar"</span><span class="nt">&gt;</span>
<span class="w">     </span><span class="nt">&lt;item</span><span class="w"> </span><span class="na">name=</span><span class="s">"android:fontFamily"</span><span class="nt">&gt;</span>@font/your_font<span class="nt">&lt;/item&gt;</span>
<span class="w">     </span><span class="nt">&lt;item</span><span class="w"> </span><span class="na">name=</span><span class="s">"fontFamily"</span><span class="nt">&gt;</span>@font/your_font<span class="nt">&lt;/item&gt;</span>
<span class="w">  </span><span class="nt">&lt;/style&gt;</span>
</pre></div>

<p>请参阅文档，Android 自定义字体教程了解更多信息</p>
<p><br><br><a href="posts/how-to-change-fontfamily-of-textview-in-android/">查看原文</a></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/ru-guo-zi-duan-de-zhi-wei-null-ru-he-gao-su-jackson-zai-xu-lie-hua-qi-jian-hu-lue-gai-zi-duan/" class="u-url">如果字段的值为 null，如何告诉 Jackson 在序列化期间忽略该字段？</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/ru-guo-zi-duan-de-zhi-wei-null-ru-he-gao-su-jackson-zai-xu-lie-hua-qi-jian-hu-lue-gai-zi-duan/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T12:24:31+08:00" itemprop="datePublished" title="2023-02-17 12:24">2023-02-17 12:24</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>如果该字段的值为空，Jackson 如何配置为在序列化期间忽略该字段值。</p>
<p>例如：</p>
<div class="code"><pre class="code literal-block"><span class="nv">public</span><span class="w"> </span><span class="nv">class</span><span class="w"> </span><span class="nv">SomeClass</span><span class="w"> </span>{
<span class="w">   </span><span class="o">//</span><span class="w"> </span><span class="nv">what</span><span class="w"> </span><span class="nv">jackson</span><span class="w"> </span><span class="nv">annotation</span><span class="w"> </span><span class="nv">causes</span><span class="w"> </span><span class="nv">jackson</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">skip</span><span class="w"> </span><span class="nv">over</span><span class="w"> </span><span class="nv">this</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">it</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">null</span><span class="w"> </span><span class="nv">but</span><span class="w"> </span><span class="nv">will</span><span class="w"> </span>
<span class="w">   </span><span class="o">//</span><span class="w"> </span><span class="nv">serialize</span><span class="w"> </span><span class="nv">it</span><span class="w"> </span><span class="nv">otherwise</span><span class="w"> </span>
<span class="w">   </span><span class="nv">private</span><span class="w"> </span><span class="nv">String</span><span class="w"> </span><span class="nv">someValue</span><span class="c1">; </span>
}
</pre></div>

<p><br><br></p>
<h2>解答</h2>
<p>要使用 Jackson &gt;2.0 抑制具有空值的序列化属性，您可以直接配置<code>ObjectMapper</code>，或使用注释<code>@JsonInclude</code>：</p>
<div class="code"><pre class="code literal-block"><span class="nv">mapper</span>.<span class="nv">setSerializationInclusion</span><span class="ss">(</span><span class="k">Include</span>.<span class="nv">NON_NULL</span><span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p>或者：</p>
<div class="code"><pre class="code literal-block"><span class="nv">@JsonInclude</span><span class="p">(</span><span class="k">Include</span><span class="p">.</span><span class="n">NON_NULL</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="n">Foo</span>
<span class="err">{</span>
<span class="w">  </span><span class="n">String</span><span class="w"> </span><span class="n">bar</span><span class="p">;</span>
<span class="err">}</span>
</pre></div>

<p>或者，您可以在 getter 中使用<code>@JsonInclude</code>，以便在值不为 null 时显示该属性。</p>
<p>我对如何防止 Map 中的空值和 bean 中的空字段通过 Jackson 进行序列化的回答中提供了一个更完整的示例。</p>
<p><br></p>
<h3>更多建议</h3>
<p>只是为了扩展其他答案 - 如果您需要在每个字段的基础上控制空值的遗漏，请注释有问题的字段（或者注释字段的“getter”）。</p>
<p><strong>example -</strong> 如果它为 null，这里只会<code>fieldOne</code>从 JSON 中省略。<code>fieldTwo</code>将始终包含在 JSON
中，无论它是否为 null。</p>
<div class="code"><pre class="code literal-block"><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">Foo</span><span class="w"> </span><span class="err">{</span>

<span class="w">    </span><span class="nv">@JsonInclude</span><span class="p">(</span><span class="n">JsonInclude</span><span class="p">.</span><span class="k">Include</span><span class="p">.</span><span class="n">NON_NULL</span><span class="p">)</span><span class="w"> </span>
<span class="w">    </span><span class="n">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">fieldOne</span><span class="p">;</span>

<span class="w">    </span><span class="n">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">fieldTwo</span><span class="p">;</span>
<span class="err">}</span>
</pre></div>

<p>要将类中的所有空值作为默认值省略，请注释该类。如有必要，仍然可以使用每个字段/getter 注释来覆盖此默认值。</p>
<p><strong>example -</strong> 如果它们分别为 null，则此处<code>fieldOne</code>和<code>fieldTwo</code>将从 JSON
中省略，因为这是类注释的默认设置。<code>fieldThree</code>然而，由于字段上的注释，将覆盖默认值并始终包含在内。</p>
<div class="code"><pre class="code literal-block"><span class="nv">@JsonInclude</span><span class="p">(</span><span class="n">JsonInclude</span><span class="p">.</span><span class="k">Include</span><span class="p">.</span><span class="n">NON_NULL</span><span class="p">)</span>
<span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">Foo</span><span class="w"> </span><span class="err">{</span>

<span class="w">    </span><span class="n">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">fieldOne</span><span class="p">;</span>

<span class="w">    </span><span class="n">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">fieldTwo</span><span class="p">;</span>

<span class="w">    </span><span class="nv">@JsonInclude</span><span class="p">(</span><span class="n">JsonInclude</span><span class="p">.</span><span class="k">Include</span><span class="p">.</span><span class="n">ALWAYS</span><span class="p">)</span>
<span class="w">    </span><span class="n">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">fieldThree</span><span class="p">;</span>
<span class="err">}</span>
</pre></div>

<hr>
<p><strong>更新</strong></p>
<p>以上是针对 <strong>杰克逊 2</strong> 的。对于Jackson 的 <strong>早期版本，</strong> 您需要使用：</p>
<div class="code"><pre class="code literal-block"><span class="nv">@JsonSerialize</span><span class="p">(</span><span class="k">include</span><span class="o">=</span><span class="n">JsonSerialize</span><span class="p">.</span><span class="n">Inclusion</span><span class="p">.</span><span class="n">NON_NULL</span><span class="p">)</span>
</pre></div>

<p>代替</p>
<div class="code"><pre class="code literal-block"><span class="nv">@JsonInclude</span><span class="p">(</span><span class="n">JsonInclude</span><span class="p">.</span><span class="k">Include</span><span class="p">.</span><span class="n">NON_NULL</span><span class="p">)</span>
</pre></div>

<p><em>如果此更新有用，请在下面投票给 ZiglioUK 的答案，它在我更新我的答案以使用它之前很久就指出了较新的 Jackson 2 注释！</em></p>
<p><br><br><a href="posts/how-to-tell-jackson-to-ignore-a-field-during-serialization-if-its-value-is-null/">查看原文</a></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/cong-wen-jian-zhong-huo-qu-di-n-xing-de-bash-gong-ju/" class="u-url">从文件中获取第 n 行的 Bash 工具</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/cong-wen-jian-zhong-huo-qu-di-n-xing-de-bash-gong-ju/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T12:24:03+08:00" itemprop="datePublished" title="2023-02-17 12:24">2023-02-17 12:24</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>有这样做的“规范”方式吗？我一直在用<code>head -n | tail -1</code>它来解决问题，但我一直想知道是否有一个 Bash
工具专门从文件中提取一行（或一系列行）。</p>
<p>我所说的“规范”是指一个主要功能就是这样做的程序。</p>
<p><br><br></p>
<h2>解答</h2>
<p><code>head</code>并且管道<code>tail</code>对于一个巨大的文件来说会很慢。我会<code>sed</code>这样建议：</p>
<div class="code"><pre class="code literal-block">sed 'NUMq;d' file
</pre></div>

<p><code>NUM</code>您要打印的行号在哪里；所以，例如，<code>sed '10q;d' file</code>打印第 10 行<code>file</code>。</p>
<p>解释：</p>
<p><code>NUMq</code>当行号为 时将立即退出<code>NUM</code>。</p>
<p><code>d</code>将删除该行而不是打印它；这在最后一行被禁止，因为这<code>q</code>会导致在退出时跳过脚本的其余部分。</p>
<p>如果你有<code>NUM</code>一个变量，你会想要使用双引号而不是单引号：</p>
<div class="code"><pre class="code literal-block">sed<span class="w"> </span>"<span class="cp">${</span><span class="n">NUM</span><span class="cp">}</span>q;d"<span class="w"> </span>file
</pre></div>

<p><br></p>
<h3>更多建议</h3>
<div class="code"><pre class="code literal-block">sed -n '2p' &lt; file.txt
</pre></div>

<p>将打印第二行</p>
<div class="code"><pre class="code literal-block">sed -n '2011p' &lt; file.txt
</pre></div>

<p>2011号线</p>
<div class="code"><pre class="code literal-block">sed -n '10,33p' &lt; file.txt
</pre></div>

<p>第 10 行到第 33 行</p>
<div class="code"><pre class="code literal-block">sed -n '1p;3p' &lt; file.txt
</pre></div>

<p>第一和第三行</p>
<p>等等...</p>
<p>要使用 sed 添加行，您可以检查以下内容：</p>
<p>sed：在某个位置插入一行</p>
<p><br><br><a href="posts/bash-tool-to-get-nth-line-from-a-file/">查看原文</a></p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-650.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-648.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 649) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-649.html">
<link rel="prev" href="index-650.html" type="text/html">
<link rel="next" href="index-648.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-fix-attempted-relative-import-in-non-package-even-with-init-py/" class="u-url">How to fix "Attempted relative import in non-package" even with __init__.py</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-fix-attempted-relative-import-in-non-package-even-with-init-py/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T12:17:42+08:00" itemprop="datePublished" title="2023-02-17 12:17">2023-02-17 12:17</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm trying to follow PEP 328, with the following directory structure:</p>
<div class="code"><pre class="code literal-block">pkg/
  __init__.py
  components/
    core.py
    __init__.py
  tests/
    core_test.py
    __init__.py
</pre></div>

<p>In <code>core_test.py</code> I have the following import statement</p>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">..components.core</span> <span class="kn">import</span> <span class="n">GameLoopEvents</span>
</pre></div>

<p>However, when I run, I get the following error:</p>
<div class="code"><pre class="code literal-block"><span class="n">tests</span><span class="err">$</span> <span class="n">python</span> <span class="n">core_test</span><span class="o">.</span><span class="n">py</span> 
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">"core_test.py"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">3</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="kn">from</span> <span class="nn">..components.core</span> <span class="kn">import</span> <span class="n">GameLoopEvents</span>
<span class="ne">ValueError</span><span class="p">:</span> <span class="n">Attempted</span> <span class="n">relative</span> <span class="kn">import</span> <span class="nn">in</span> <span class="n">non</span><span class="o">-</span><span class="n">package</span>
</pre></div>

<p>Searching around I found "relative path not working even with <strong>init</strong>.py" and
"Import a module from a relative path" but they didn't help.</p>
<p>Is there anything I'm missing here?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Yes. You're not using it as a package.</p>
<div class="code"><pre class="code literal-block">python -m pkg.tests.core_test
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Yes. You're not using it as a package.</p>
<div class="code"><pre class="code literal-block">python -m pkg.tests.core_test
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-add-a-library-project-to-android-studio/" class="u-url">How do I add a library project to Android Studio?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-add-a-library-project-to-android-studio/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T12:17:10+08:00" itemprop="datePublished" title="2023-02-17 12:17">2023-02-17 12:17</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How do I add a library project (such as Sherlock ABS) to Android Studio?</p>
<p>(Not to the old ADT Eclipse-based bundle, but to the new Android Studio.)</p>
<p><br><br></p>
<h2>Answer</h2>
<p><strong>Update for Android Studio 1.0</strong></p>
<p>Since Android Studio 1.0 was released (and a lot of versions between v1.0 and
one of the firsts from the time of my previous answer) some things has
changed.</p>
<p>My description is focused on adding external library project by hand via
Gradle files (for better understanding the process). If you want to add a
library via Android Studio creator just check the answer below with visual
guide (there are some differences between Android Studio 1.0 and those from
screenshots, but the process is very similar).</p>
<p>Before you start adding a library to your project by hand, consider adding the
external dependency. It won’t mess in your project structure. Almost every
well-known Android library is available in a Maven repository and its
installation takes only one line of code in the <code>app/build.gradle</code> file:</p>
<div class="code"><pre class="code literal-block">dependencies {
     implementation 'com.jakewharton:butterknife:6.0.0'
}
</pre></div>

<p><strong>Adding the library</strong></p>
<p>Here is the full process of adding external Android library to our project:</p>
<ol>
<li>Create a new project via Android Studio creator. I named it <em>HelloWorld</em>.</li>
<li>Here is the original project structure created by Android Studio:</li>
</ol>
<blockquote>
<div class="code"><pre class="code literal-block"><span class="nv">HelloWorld</span><span class="o">/</span>
<span class="w">      </span><span class="nv">app</span><span class="o">/</span>
<span class="w">           </span><span class="o">-</span><span class="w"> </span><span class="nv">build</span>.<span class="nv">gradle</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="nv">local</span><span class="w"> </span><span class="nv">Gradle</span><span class="w"> </span><span class="nv">configuration</span><span class="w"> </span><span class="ss">(</span><span class="k">for</span><span class="w"> </span><span class="nv">app</span><span class="w"> </span><span class="nv">only</span><span class="ss">)</span>
<span class="w">           </span>...
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="nv">build</span>.<span class="nv">gradle</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="nv">Global</span><span class="w"> </span><span class="nv">Gradle</span><span class="w"> </span><span class="nv">configuration</span><span class="w"> </span><span class="ss">(</span><span class="k">for</span><span class="w"> </span><span class="nv">whole</span><span class="w"> </span><span class="nv">project</span><span class="ss">)</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="nv">settings</span>.<span class="nv">gradle</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="nv">gradle</span>.<span class="nv">properties</span>
<span class="w">      </span>...
</pre></div>

</blockquote>
<ol>
<li>In the root directory (<code>HelloWorld/</code>), create new folder: <code>/libs</code> in which we’ll place our external libraries (this step is not required - only for keeping a cleaner project structure).</li>
<li>Paste your library in the newly created <code>/libs</code> folder. In this example I used PagerSlidingTabStrip library (just download ZIP from GitHub, rename library directory to „PagerSlidingTabStrip" and copy it). Here is the new structure of our project:</li>
</ol>
<blockquote>
<div class="code"><pre class="code literal-block"><span class="nv">HelloWorld</span><span class="o">/</span>
<span class="w">      </span><span class="nv">app</span><span class="o">/</span>
<span class="w">           </span><span class="o">-</span><span class="w"> </span><span class="nv">build</span>.<span class="nv">gradle</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="nv">Local</span><span class="w"> </span><span class="nv">Gradle</span><span class="w"> </span><span class="nv">configuration</span><span class="w"> </span><span class="ss">(</span><span class="k">for</span><span class="w"> </span><span class="nv">app</span><span class="w"> </span><span class="nv">only</span><span class="ss">)</span>
<span class="w">           </span>...
<span class="w">      </span><span class="nv">libs</span><span class="o">/</span>
<span class="w">           </span><span class="nv">PagerSlidingTabStrip</span><span class="o">/</span>
<span class="w">                </span><span class="o">-</span><span class="w"> </span><span class="nv">build</span>.<span class="nv">gradle</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="nv">Local</span><span class="w"> </span><span class="nv">Gradle</span><span class="w"> </span><span class="nv">configuration</span><span class="w"> </span><span class="ss">(</span><span class="k">for</span>
</pre></div>

<p>library only)
          - build.gradle // Global Gradle configuration (for whole project)
          - settings.gradle
          - gradle.properties
          ...
</p>
</blockquote>
<ol>
<li>Edit settings.gradle by adding your library to <code>include</code>. If you use a custom path like I did, you have also to define the project directory for our library. A whole settings.gradle should look like below:<div class="code"><pre class="code literal-block"><span class="w"> </span><span class="k">include</span><span class="w"> </span><span class="s1">':app'</span>,<span class="w"> </span><span class="s1">':PagerSlidingTabStrip'</span>
</pre></div>

<p>project(':PagerSlidingTabStrip').projectDir = new File('libs/PagerSlidingTabStrip')</p>
</li>
</ol>
<p>5.1 If you face "Default Configuration" error, then try this instead of step
5,</p>
<div class="code"><pre class="code literal-block"><span class="w">    </span><span class="k">include</span><span class="w"> </span><span class="s1">':app'</span>
<span class="w">    </span><span class="k">include</span><span class="w"> </span><span class="s1">':libs:PagerSlidingTabStrip'</span>
</pre></div>

<ol>
<li>In <code>app/build.gradle</code> add our library project as an dependency:<div class="code"><pre class="code literal-block"><span class="w"> </span><span class="nv">dependencies</span><span class="w"> </span>{
<span class="w"> </span><span class="nv">implementation</span><span class="w"> </span><span class="nv">fileTree</span><span class="ss">(</span><span class="nv">dir</span>:<span class="w"> </span><span class="s1">'libs'</span>,<span class="w"> </span><span class="k">include</span>:<span class="w"> </span>[<span class="s1">'*.jar'</span>]<span class="ss">)</span>
<span class="w"> </span><span class="nv">implementation</span><span class="w"> </span><span class="s1">'com.android.support:appcompat-v7:21.0.3'</span>
<span class="w"> </span><span class="nv">implementation</span><span class="w"> </span><span class="nv">project</span><span class="ss">(</span><span class="s2">":PagerSlidingTabStrip"</span><span class="ss">)</span>
</pre></div>

<p>}</p>
</li>
</ol>
<p>6.1. If you followed step 5.1, then follow this instead of 6,</p>
<div class="code"><pre class="code literal-block"><span class="w">    </span><span class="nv">dependencies</span><span class="w"> </span>{
<span class="w">        </span><span class="nv">implementation</span><span class="w"> </span><span class="nv">fileTree</span><span class="ss">(</span><span class="nv">dir</span>:<span class="w"> </span><span class="s1">'libs'</span>,<span class="w"> </span><span class="k">include</span>:<span class="w"> </span>[<span class="s1">'*.jar'</span>]<span class="ss">)</span>
<span class="w">        </span><span class="nv">implementation</span><span class="w"> </span><span class="s1">'com.android.support:appcompat-v7:21.0.3'</span>

<span class="w">        </span><span class="nv">implementation</span><span class="w"> </span><span class="nv">project</span><span class="ss">(</span><span class="s2">":libs:PagerSlidingTabStrip"</span><span class="ss">)</span>
<span class="w">    </span>}
</pre></div>

<ol>
<li>
<p>If your library project doesn’t have <code>build.gradle</code> file you have to create it manually. Here is example of that file:</p>
<div class="code"><pre class="code literal-block"><span class="n">     apply plugin: 'com.android.library'</span>

<span class="n"> dependencies {</span>
<span class="n">     implementation 'com.android.support:support-v4:21.0.3'</span>
<span class="n"> }</span>

<span class="n"> android {</span>
<span class="n">     compileSdkVersion 21</span>
<span class="n">     buildToolsVersion "21.1.2"</span>

<span class="n">     defaultConfig {</span>
<span class="n">         minSdkVersion 14</span>
<span class="n">         targetSdkVersion 21</span>
<span class="n">     }</span>

<span class="n">     sourceSets {</span>
<span class="n">         main {</span>
<span class="n">             manifest.srcFile 'AndroidManifest.xml'</span>
<span class="n">             java.srcDirs = ['src']</span>
<span class="n">             res.srcDirs = ['res']</span>
<span class="n">         }</span>
<span class="n">     }</span>
<span class="n"> }</span>
</pre></div>

</li>
<li>
<p>Additionally you can create a global configuration for your project which will contain SDK versions and build tools version for every module to keep consistency. Just edit <code>gradle.properties</code> file and add lines:</p>
<div class="code"><pre class="code literal-block"> ANDROID_BUILD_MIN_SDK_VERSION=14
</pre></div>

<p>ANDROID_BUILD_TARGET_SDK_VERSION=21
 ANDROID_BUILD_TOOLS_VERSION=21.1.3
 ANDROID_BUILD_SDK_VERSION=21</p>
</li>
</ol>
<p>Now you can use it in your <code>build.gradle</code> files (in app and libraries modules)
like below:</p>
<div class="code"><pre class="code literal-block"><span class="w">     </span><span class="c1">//...</span>
<span class="w"> </span><span class="n">android</span><span class="w"> </span><span class="p">{</span>
<span class="w">     </span><span class="n">compileSdkVersion</span><span class="w"> </span><span class="n">Integer</span><span class="p">.</span><span class="n">parseInt</span><span class="p">(</span><span class="n">project</span><span class="p">.</span><span class="n">ANDROID_BUILD_SDK_VERSION</span><span class="p">)</span>
<span class="w">     </span><span class="n">buildToolsVersion</span><span class="w"> </span><span class="n">project</span><span class="p">.</span><span class="n">ANDROID_BUILD_TOOLS_VERSION</span>

<span class="w">     </span><span class="n">defaultConfig</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="n">minSdkVersion</span><span class="w"> </span><span class="n">Integer</span><span class="p">.</span><span class="n">parseInt</span><span class="p">(</span><span class="n">project</span><span class="p">.</span><span class="n">ANDROID_BUILD_MIN_SDK_VERSION</span><span class="p">)</span>
<span class="w">         </span><span class="n">targetSdkVersion</span><span class="w"> </span><span class="n">Integer</span><span class="p">.</span><span class="n">parseInt</span><span class="p">(</span><span class="n">project</span><span class="p">.</span><span class="n">ANDROID_BUILD_TARGET_SDK_VERSION</span><span class="p">)</span>
<span class="w">     </span><span class="p">}</span>
<span class="w"> </span><span class="p">}</span>
<span class="w"> </span><span class="c1">//...</span>
</pre></div>

<ol>
<li>That’s all. Just click‚ synchronise the project with the Gradle’ icon <img alt="synchronise with Gradle" src="images/QH01w.png">. Your library should be available in your project.</li>
</ol>
<p><em>Google I/O 2013 - The New Android SDK Build System</em> is a great presentation
about building Android apps with Gradle Build System: As Xavier Ducrohet said:</p>
<blockquote>
<p>Android Studio is all about editing, and debugging and profiling. It's not
about building any more.</p>
</blockquote>
<p>At the beginning it may be little bit confusing (especially for those, who
works with Eclipse and have never seen the ant - like me ;) ), but at the end
Gradle gives us some great opportunities and it worth to learn this build
system.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Here is the visual guide:</p>
<p><strong>Update</strong> for Android Studio 0.8.2:</p>
<p>In Android Studio 0.8.2, go to <strong>Project Structure</strong> -&gt; under <strong>Modules</strong> just
hit the plus button and select <strong>Import Existing Project</strong> and import
<code>actionbarsherlock</code>. Then synchronise your Gradle files.</p>
<p>If you face the error</p>
<blockquote>
<p>Error: The SDK Build Tools revision (xx.x.x) is too low. Minimum required is
yy.y.y</p>
</blockquote>
<p>just open the <code>build.gradle</code> file in <code>actionbarsherlock</code> directory and update
the <code>buildToolsVersion</code> to the suggested one.</p>
<div class="code"><pre class="code literal-block">android {
  compileSdkVersion 19
  buildToolsVersion 'yy.y.y'
</pre></div>

<p><img alt="Android Studio 0.8.2" src="images/3AlS8.jpg"></p>
<hr>
<p>Menu <em>File</em> -&gt; <em>Project Structure...</em> :</p>
<p><img alt="First" src="images/Yn3zX.png"></p>
<p><em>Module</em> -&gt; <em>Import Module</em></p>
<p><img alt="Second" src="images/9Efdc.png"></p>
<p>After importing the library module, select <em>your</em> project module and add the
dependency:</p>
<p><img alt="Third" src="images/ISmOJ.png"></p>
<p>And then select the <em>imported module</em> :</p>
<p><img alt="Forth" src="images/JW0yA.png"></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/linq-aggregate-algorithm-explained/" class="u-url">LINQ Aggregate algorithm explained</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/linq-aggregate-algorithm-explained/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T12:16:26+08:00" itemprop="datePublished" title="2023-02-17 12:16">2023-02-17 12:16</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>This might sound lame, but I have not been able to find a really good
explanation of <code>Aggregate</code>.</p>
<p>Good means short, descriptive, comprehensive with a small and clear example.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The easiest-to-understand definition of <code>Aggregate</code> is that it performs an
operation on each element of the list taking into account the operations that
have gone before. That is to say it performs the action on the first and
second element and carries the result forward. Then it operates on the
previous result and the third element and carries forward. etc.</p>
<p><strong>Example 1. Summing numbers</strong></p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">nums</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="p">[]{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">};</span>
<span class="k">var</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nums</span><span class="o">.</span><span class="n">Aggregate</span><span class="p">(</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">);</span>
<span class="n">Console</span><span class="o">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">sum</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">output</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">+</span><span class="mi">3</span><span class="o">+</span><span class="mi">4</span><span class="p">)</span>
</pre></div>

<p>This adds <code>1</code> and <code>2</code> to make <code>3</code>. Then adds <code>3</code> (result of previous) and <code>3</code>
(next element in sequence) to make <code>6</code>. Then adds <code>6</code> and <code>4</code> to make <code>10</code>.</p>
<p><strong>Example 2. create a csv from an array of strings</strong></p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">chars</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="p">[]{</span><span class="s2">"a"</span><span class="p">,</span><span class="s2">"b"</span><span class="p">,</span><span class="s2">"c"</span><span class="p">,</span><span class="s2">"d"</span><span class="p">};</span>
<span class="k">var</span><span class="w"> </span><span class="n">csv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">chars</span><span class="o">.</span><span class="n">Aggregate</span><span class="p">(</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">','</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">);</span>
<span class="n">Console</span><span class="o">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">csv</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">Output</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span>
</pre></div>

<p>This works in much the same way. Concatenate <code>a</code> a comma and <code>b</code> to make
<code>a,b</code>. Then concatenates <code>a,b</code> with a comma and <code>c</code> to make <code>a,b,c</code>. and so
on.</p>
<p><strong>Example 3. Multiplying numbers using a seed</strong></p>
<p>For completeness, there is an overload of <code>Aggregate</code> which takes a seed
value.</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">multipliers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="p">[]{</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">40</span><span class="p">};</span>
<span class="k">var</span><span class="w"> </span><span class="n">multiplied</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">multipliers</span><span class="o">.</span><span class="n">Aggregate</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">b</span><span class="p">);</span>
<span class="n">Console</span><span class="o">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">multiplied</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="n">Output</span><span class="w"> </span><span class="mi">1200000</span><span class="w"> </span><span class="p">((((</span><span class="mi">5</span><span class="o">*</span><span class="mi">10</span><span class="p">)</span><span class="o">*</span><span class="mi">20</span><span class="p">)</span><span class="o">*</span><span class="mi">30</span><span class="p">)</span><span class="o">*</span><span class="mi">40</span><span class="p">)</span>
</pre></div>

<p>Much like the above examples, this starts with a value of <code>5</code> and multiplies
it by the first element of the sequence <code>10</code> giving a result of <code>50</code>. This
result is carried forward and multiplied by the next number in the sequence
<code>20</code> to give a result of <code>1000</code>. This continues through the remaining 2
element of the sequence.</p>
<p>Live examples: http://rextester.com/ZXZ64749<br>
Docs: http://msdn.microsoft.com/en-us/library/bb548651.aspx</p>
<hr>
<p><strong>Addendum</strong></p>
<p>Example 2, above, uses string concatenation to create a list of values
separated by a comma. This is a simplistic way to explain the use of
<code>Aggregate</code> which was the intention of this answer. However, if using this
technique to actually create a large amount of comma separated data, it would
be more appropriate to use a <code>StringBuilder</code>, and this is entirely compatible
with <code>Aggregate</code> using the seeded overload to initiate the <code>StringBuilder</code>.</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">chars</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="p">[]{</span><span class="s2">"a"</span><span class="p">,</span><span class="s2">"b"</span><span class="p">,</span><span class="s2">"c"</span><span class="p">,</span><span class="w"> </span><span class="s2">"d"</span><span class="p">};</span>
<span class="k">var</span><span class="w"> </span><span class="n">csv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">chars</span><span class="o">.</span><span class="n">Aggregate</span><span class="p">(</span><span class="n">new</span><span class="w"> </span><span class="n">StringBuilder</span><span class="p">(),</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">Length</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span>
<span class="w">        </span><span class="n">a</span><span class="o">.</span><span class="n">Append</span><span class="p">(</span><span class="s2">","</span><span class="p">);</span>
<span class="w">    </span><span class="n">a</span><span class="o">.</span><span class="n">Append</span><span class="p">(</span><span class="n">b</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<span class="p">});</span>
<span class="n">Console</span><span class="o">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">csv</span><span class="p">);</span>
</pre></div>

<p>Updated example: http://rextester.com/YZCVXV6464</p>
<p><br></p>
<h3>Suggest</h3>
<p>It partly depends on which overload you're talking about, but the basic idea
is:</p>
<ul>
<li>Start with a seed as the "current value"</li>
<li>Iterate over the sequence. For each value in the sequence: <ul>
<li>Apply a user-specified function to transform <code>(currentValue, sequenceValue)</code> into <code>(nextValue)</code>
</li>
<li>Set <code>currentValue = nextValue</code>
</li>
</ul>
</li>
<li>Return the final <code>currentValue</code>
</li>
</ul>
<p>You may find the <code>Aggregate</code> post in my Edulinq series useful - it includes a
more detailed description (including the various overloads) and
implementations.</p>
<p>One simple example is using <code>Aggregate</code> as an alternative to <code>Count</code>:</p>
<div class="code"><pre class="code literal-block"><span class="c1">// 0 is the seed, and for each item, we effectively increment the current value.</span>
<span class="c1">// In this case we can ignore "item" itself.</span>
<span class="nb">int</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">sequence</span><span class="p">.</span><span class="n">Aggregate</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">current</span><span class="p">,</span><span class="w"> </span><span class="n">item</span><span class="p">)</span><span class="w"> </span><span class="p">=</span><span class="o">&gt;</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
</pre></div>

<p>Or perhaps summing all the lengths of strings in a sequence of strings:</p>
<div class="code"><pre class="code literal-block"><span class="kt">int</span><span class="w"> </span><span class="n">total</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sequence</span><span class="p">.</span><span class="n">Aggregate</span><span class="p">(</span><span class="mh">0</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">current</span><span class="p">,</span><span class="w"> </span><span class="n">item</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">item</span><span class="p">.</span><span class="n">Length</span><span class="p">);</span>
</pre></div>

<p>Personally I <em>rarely</em> find <code>Aggregate</code> useful - the "tailored" aggregation
methods are usually good enough for me.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-650.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-648.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

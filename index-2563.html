<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2563) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2563.html">
<link rel="prev" href="index-2564.html" type="text/html">
<link rel="next" href="index-2562.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/center-plot-title-in-ggplot2/" class="u-url">Center Plot title in ggplot2</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/center-plot-title-in-ggplot2/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T01:20:09+08:00" itemprop="datePublished" title="2023-03-05 01:20">2023-03-05 01:20</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>This simple code (and all my scripts from this morning) has started giving me
an off center title in ggplot2:</p>
<div class="code"><pre class="code literal-block">Ubuntu version: 16.04

R studio version: Version 0.99.896

R version: 3.3.2

GGPLOT2 version: 2.2.0
</pre></div>

<p>I have freshly installed the above this morning to try and fix this...</p>
<div class="code"><pre class="code literal-block"><span class="n">dat</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">data.frame</span><span class="p">(</span>
<span class="n">time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">factor</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="s">"Lunch"</span><span class="p">,</span><span class="s">"Dinner"</span><span class="p">),</span><span class="w"> </span><span class="n">levels</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="s">"Lunch"</span><span class="p">,</span><span class="s">"Dinner"</span><span class="p">)),</span>
<span class="n">total_bill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">14.89</span><span class="p">,</span><span class="w"> </span><span class="m">17.23</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Add title, narrower bars, fill color, and change axis labels</span>
<span class="nf">ggplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">dat</span><span class="p">,</span><span class="w"> </span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">time</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="n">total_bill</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="o">=</span><span class="n">time</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> </span>
<span class="w">  </span><span class="nf">geom_bar</span><span class="p">(</span><span class="n">colour</span><span class="o">=</span><span class="s">"black"</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="o">=</span><span class="s">"#DD8888"</span><span class="p">,</span><span class="w"> </span><span class="n">width</span><span class="o">=</span><span class="n">.</span><span class="m">8</span><span class="p">,</span><span class="w"> </span><span class="n">stat</span><span class="o">=</span><span class="s">"identity"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span>
<span class="w">  </span><span class="nf">guides</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">)</span><span class="w"> </span><span class="o">+</span>
<span class="w">  </span><span class="nf">xlab</span><span class="p">(</span><span class="s">"Time of day"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nf">ylab</span><span class="p">(</span><span class="s">"Total bill"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span>
<span class="w">  </span><span class="nf">ggtitle</span><span class="p">(</span><span class="s">"Average bill for 2 people"</span><span class="p">)</span>
</pre></div>

<p><img alt="enter image description here" src="images/v3zNm.png"></p>
<p><br><br></p>
<h2>Answer</h2>
<p>From the release news of <code>ggplot 2.2.0</code>: "The main plot title is now left-
aligned to better work better with a subtitle". See also the <code>plot.title</code>
argument in <code>?theme</code>: "left-aligned by default".</p>
<p>As pointed out by @J_F, you may add <code>theme(plot.title = element_text(hjust =
0.5))</code> to center the title.</p>
<div class="code"><pre class="code literal-block">ggplot() +
  ggtitle("Default in 2.2.0 is left-aligned")
</pre></div>

<p><img alt="enter image description here" src="images/gCbQz.png"></p>
<div class="code"><pre class="code literal-block">ggplot() +
  ggtitle("Use theme(plot.title = element_text(hjust = 0.5)) to center") +
  theme(plot.title = element_text(hjust = 0.5))
</pre></div>

<p><img alt="enter image description here" src="images/hziol.png"></p>
<p><br></p>
<h3>Suggest</h3>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/why-does-2-40-equal-42/" class="u-url">Why does 2+ 40 equal 42?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/why-does-2-40-equal-42/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T01:19:01+08:00" itemprop="datePublished" title="2023-03-05 01:19">2023-03-05 01:19</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I was baffled when a colleague showed me this line of JavaScript alerting 42.</p>
<div class="code"><pre class="code literal-block">alert(2+ 40);
</pre></div>

<p>It quickly turns out that what looks like a minus sign is actually an arcane
Unicode character with clearly different semantics.</p>
<p>This left me wondering why that character doesn't produce a syntax error when
the expression is parsed. I'd also like to know if there are more characters
behaving like this.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>That character is "OGHAM SPACE MARK", which is a space character. So the code
is equivalent to <code>alert(2+ 40)</code>.</p>
<blockquote>
<p>I'd also like to know if there are more characters behaving like this.</p>
</blockquote>
<p>Any Unicode character in the Zs class is a white space character in
JavaScript, but there don't seem to be that many.</p>
<p>However, JavaScript also allows Unicode characters in identifiers, which lets
you use interesting variable names like <code>ಠ_ಠ</code>.</p>
<p><br></p>
<h3>Suggest</h3>
<p>After reading the other answers, I wrote a simple script to find all Unicode
characters in the range U+0000–U+FFFF that behave like white spaces. As it
seems, there are 26 or 27 of them depending on the browser, with disagreements
about U+0085 and U+FFFE.</p>
<p>Note that most of these characters just look like a regular white space.</p>
<p>Show code snippet</p>
<div class="code"><pre class="code literal-block"><span class="k">function</span><span class="w"> </span><span class="nf">isSpace</span><span class="p">(</span>ch<span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">try</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Function</span><span class="p">(</span><span class="s">'return 2 +'</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">' 2'</span><span class="p">)()</span><span class="w"> </span><span class="o">==</span><span class="p">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">catch</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="nb">var</span><span class="w"> </span><span class="nb">i</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="nb">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span>0<span class="n">xffff</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="nb">i</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="nb">var</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">String</span><span class="p">.</span><span class="n">fromCharCode</span><span class="p">(</span><span class="nb">i</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">isSpace</span><span class="p">(</span><span class="n">ch</span><span class="p">))</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">document</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">appendChild</span><span class="p">(</span><span class="n">document</span><span class="p">.</span><span class="n">createElement</span><span class="p">(</span><span class="s">'DIV'</span><span class="p">)).</span><span class="n">textContent</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">'U+'</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="s">'000'</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">i</span><span class="p">.</span><span class="n">toString</span><span class="p">(</span><span class="mi">16</span><span class="p">).</span><span class="n">toUpperCase</span><span class="p">()).</span><span class="n">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">'    "'</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">'"'</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>


<span class="n">div</span><span class="w"> </span><span class="s">{</span><span class="w"> </span><span class="s">font-family:</span><span class="w"> </span><span class="s">monospace</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/regex-test-v-s-string-match-to-know-if-a-string-matches-a-regular-expression/" class="u-url">regex.test V.S. string.match to know if a string matches a regular expression</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/regex-test-v-s-string-match-to-know-if-a-string-matches-a-regular-expression/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T01:17:52+08:00" itemprop="datePublished" title="2023-03-05 01:17">2023-03-05 01:17</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Many times I'm using the string <code>match</code> function to know if a string matches a
regular expression.</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="p">(</span><span class="n">str</span><span class="p">.</span><span class="n">match</span><span class="p">(</span><span class="o">/</span><span class="p">{</span><span class="n">regex</span><span class="p">}</span><span class="o">/</span><span class="p">))</span>
</pre></div>

<p>Is there any difference between this:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="p">{</span><span class="n">regex</span><span class="p">}</span><span class="o">/</span><span class="p">.</span><span class="n">test</span><span class="p">(</span><span class="n">str</span><span class="p">))</span>
</pre></div>

<p>They seem to give the same result?</p>
<p><br><br></p>
<h2>Answer</h2>
<h3>Basic Usage</h3>
<p>First, let's see what each function does:</p>
<p><em>regexObject</em>. <strong>test</strong> ( <em>String</em> )</p>
<blockquote>
<p>Executes the search for a match between a regular expression and a specified
string. Returns <em>true</em> or <em>false</em>.</p>
</blockquote>
<p><em>string</em>. <strong>match</strong> ( <em>RegExp</em> )</p>
<blockquote>
<p>Used to retrieve the matches when matching a string against a regular
expression. Returns an array with the matches or <code>null</code> if there are none.</p>
</blockquote>
<p>Since <code>null</code> evaluates to <code>false</code>,</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="k">string</span><span class="p">.</span><span class="n">match</span><span class="p">(</span><span class="n">regex</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// There was a match.</span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// No match.</span>
<span class="p">}</span>
</pre></div>

<hr>
<h3>Performance</h3>
<p>Is there any difference regarding performance?</p>
<p><strong>Yes</strong>. I found this short note in the MDN site:</p>
<blockquote>
<p>If you need to know if a string matches a regular expression regexp, use
regexp.test(string).</p>
</blockquote>
<p>Is the difference significant?</p>
<p>The answer once more is <strong>YES</strong>! This jsPerf I put together shows the
difference is <strong>~30% - ~60%</strong> depending on the browser:</p>
<p><img alt="test vs match | Performance Test" src="images/CHYn6.jpg"></p>
<h3>Conclusion</h3>
<p>Use <code>.test</code> if you want a faster boolean check. Use <code>.match</code> to retrieve all
matches when using the <code>g</code> global flag.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Don't forget to take into consideration the global flag in your regexp :</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">reg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">/</span><span class="n">abc</span><span class="o">/</span><span class="n">g</span><span class="p">;</span>
<span class="o">!!</span><span class="s1">'abcdefghi'</span><span class="o">.</span><span class="k">match</span><span class="p">(</span><span class="n">reg</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="bp">true</span>
<span class="o">!!</span><span class="s1">'abcdefghi'</span><span class="o">.</span><span class="k">match</span><span class="p">(</span><span class="n">reg</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="bp">true</span>
<span class="n">reg</span><span class="o">.</span><span class="n">test</span><span class="p">(</span><span class="s1">'abcdefghi'</span><span class="p">);</span><span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="bp">true</span>
<span class="n">reg</span><span class="o">.</span><span class="n">test</span><span class="p">(</span><span class="s1">'abcdefghi'</span><span class="p">);</span><span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="bp">false</span><span class="w"> </span><span class="o">&lt;=</span>
</pre></div>

<p>This is because Regexp keeps track of the lastIndex when a new match is found.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2564.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2562.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

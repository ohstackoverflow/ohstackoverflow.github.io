<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1406) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1406.html">
<link rel="prev" href="index-1407.html" type="text/html">
<link rel="next" href="index-1405.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/nltk-detecting-whether-a-sentence-is-interrogative-or-not/" class="u-url">NLTK. Detecting whether a sentence is Interrogative or Not?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/nltk-detecting-whether-a-sentence-is-interrogative-or-not/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-28T03:18:48+08:00" itemprop="datePublished" title="2023-02-28 03:18">2023-02-28 03:18</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I want to create a python script using NLTK or whatever library is best to
correctly identify given sentence is interrogative (a question) or not. I
tried using regex but there are deeper scenarios where regex fails. so wanted
to use Natural Language Processing can anybody help!</p>
<p><br><br></p>
<h2>Answer</h2>
<p>This will probably solve your question.</p>
<p>Here is the code:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">nltk</span>
<span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">'nps_chat'</span><span class="p">)</span>
<span class="n">posts</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">corpus</span><span class="o">.</span><span class="n">nps_chat</span><span class="o">.</span><span class="n">xml_posts</span><span class="p">()[:</span><span class="mi">10000</span><span class="p">]</span>


<span class="k">def</span> <span class="nf">dialogue_act_features</span><span class="p">(</span><span class="n">post</span><span class="p">):</span>
    <span class="n">features</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">nltk</span><span class="o">.</span><span class="n">word_tokenize</span><span class="p">(</span><span class="n">post</span><span class="p">):</span>
        <span class="n">features</span><span class="p">[</span><span class="s1">'contains(</span><span class="si">{}</span><span class="s1">)'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">word</span><span class="o">.</span><span class="n">lower</span><span class="p">())]</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="n">features</span>

<span class="n">featuresets</span> <span class="o">=</span> <span class="p">[(</span><span class="n">dialogue_act_features</span><span class="p">(</span><span class="n">post</span><span class="o">.</span><span class="n">text</span><span class="p">),</span> <span class="n">post</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'class'</span><span class="p">))</span> <span class="k">for</span> <span class="n">post</span> <span class="ow">in</span> <span class="n">posts</span><span class="p">]</span>
<span class="n">size</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">featuresets</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="n">train_set</span><span class="p">,</span> <span class="n">test_set</span> <span class="o">=</span> <span class="n">featuresets</span><span class="p">[</span><span class="n">size</span><span class="p">:],</span> <span class="n">featuresets</span><span class="p">[:</span><span class="n">size</span><span class="p">]</span>
<span class="n">classifier</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">NaiveBayesClassifier</span><span class="o">.</span><span class="n">train</span><span class="p">(</span><span class="n">train_set</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">nltk</span><span class="o">.</span><span class="n">classify</span><span class="o">.</span><span class="n">accuracy</span><span class="p">(</span><span class="n">classifier</span><span class="p">,</span> <span class="n">test_set</span><span class="p">))</span>
</pre></div>

<p>And that should print something like 0.67, which is decent accuracy. If you
want to process a string of text through this classifier, try:</p>
<div class="code"><pre class="code literal-block">print(classifier.classify(dialogue_act_features(line)))
</pre></div>

<p>And you can categorise strings into whether they are ynQuestion, Statement,
etc, and extract what you desire.</p>
<p>This approach was using NaiveBayes which in my opinion is the easiest, however
surely there are many ways to process this. Hope this helps!</p>
<p><br></p>
<h3>Suggest</h3>
<p>From the answer of @PolkaDot, I created the function that uses NLTK and then
some custom code to get more accuracy.</p>
<div class="code"><pre class="code literal-block"><span class="n">posts = nltk.corpus.nps_chat.xml_posts()[:10000]</span>

<span class="n">def dialogue_act_features(post):</span>
<span class="n">    features = {}</span>
<span class="n">    for word in nltk.word_tokenize(post):</span>
<span class="n">        features['contains({})'.format(word.lower())] = True</span>
<span class="n">    return features</span>

<span class="n">featuresets = [(dialogue_act_features(post.text), post.get('class')) for post in posts]</span>

<span class="c"># 10% of the total data</span>
<span class="n">size = int(len(featuresets) * 0.1)</span>

<span class="c"># first 10% for test_set to check the accuracy, and rest 90% after the first 10% for training</span>
<span class="n">train_set, test_set = featuresets[size:], featuresets[:size]</span>

<span class="c"># get the classifer from the training set</span>
<span class="n">classifier = nltk.NaiveBayesClassifier.train(train_set)</span>
<span class="c"># to check the accuracy - 0.67</span>
<span class="c"># print(nltk.classify.accuracy(classifier, test_set))</span>

<span class="n">question_types = ["whQuestion","ynQuestion"]</span>
<span class="n">def is_ques_using_nltk(ques):</span>
<span class="n">    question_type = classifier.classify(dialogue_act_features(ques)) </span>
<span class="n">    return question_type in question_types</span>
</pre></div>

<p>and then</p>
<div class="code"><pre class="code literal-block"><span class="nv">question_pattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="s2">"do i"</span>,<span class="w"> </span><span class="s2">"do you"</span>,<span class="w"> </span><span class="s2">"what"</span>,<span class="w"> </span><span class="s2">"who"</span>,<span class="w"> </span><span class="s2">"is it"</span>,<span class="w"> </span><span class="s2">"why"</span>,<span class="s2">"would you"</span>,<span class="w"> </span><span class="s2">"how"</span>,<span class="s2">"is there"</span>,
<span class="w">                    </span><span class="s2">"are there"</span>,<span class="w"> </span><span class="s2">"is it so"</span>,<span class="w"> </span><span class="s2">"is this true"</span><span class="w"> </span>,<span class="s2">"to know"</span>,<span class="w"> </span><span class="s2">"is that true"</span>,<span class="w"> </span><span class="s2">"are we"</span>,<span class="w"> </span><span class="s2">"am i"</span>,<span class="w"> </span>
<span class="w">                   </span><span class="s2">"question is"</span>,<span class="w"> </span><span class="s2">"tell me more"</span>,<span class="w"> </span><span class="s2">"can i"</span>,<span class="w"> </span><span class="s2">"can we"</span>,<span class="w"> </span><span class="s2">"tell me"</span>,<span class="w"> </span><span class="s2">"can you explain"</span>,
<span class="w">                   </span><span class="s2">"question"</span>,<span class="s2">"answer"</span>,<span class="w"> </span><span class="s2">"questions"</span>,<span class="w"> </span><span class="s2">"answers"</span>,<span class="w"> </span><span class="s2">"ask"</span>]

<span class="nv">helping_verbs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[<span class="s2">"is"</span>,<span class="s2">"am"</span>,<span class="s2">"can"</span>,<span class="w"> </span><span class="s2">"are"</span>,<span class="w"> </span><span class="s2">"do"</span>,<span class="w"> </span><span class="s2">"does"</span>]
#<span class="w"> </span><span class="nv">check</span><span class="w"> </span><span class="nv">with</span><span class="w"> </span><span class="nv">custom</span><span class="w"> </span><span class="nv">pipeline</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">still</span><span class="w"> </span><span class="nv">this</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">question</span><span class="w"> </span><span class="nv">mark</span><span class="w"> </span><span class="nv">it</span><span class="w"> </span><span class="nv">as</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">question</span>
<span class="nv">def</span><span class="w"> </span><span class="nv">is_question</span><span class="ss">(</span><span class="nv">question</span><span class="ss">)</span>:
<span class="w">    </span><span class="nv">question</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">question</span>.<span class="nv">lower</span><span class="ss">()</span>.<span class="nv">strip</span><span class="ss">()</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nv">not</span><span class="w"> </span><span class="nv">is_ques_using_nltk</span><span class="ss">(</span><span class="nv">question</span><span class="ss">)</span>:
<span class="w">        </span><span class="nv">is_ques</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">False</span>
<span class="w">        </span>#<span class="w"> </span><span class="nv">check</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">any</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">pattern</span><span class="w"> </span><span class="nv">exist</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">sentence</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="nv">pattern</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">question_pattern</span>:
<span class="w">            </span><span class="nv">is_ques</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nv">pattern</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">question</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="nv">is_ques</span>:
<span class="w">                </span><span class="k">break</span>

<span class="w">        </span>#<span class="w"> </span><span class="nv">there</span><span class="w"> </span><span class="nv">could</span><span class="w"> </span><span class="nv">be</span><span class="w"> </span><span class="nv">multiple</span><span class="w"> </span><span class="nv">sentences</span><span class="w"> </span><span class="nv">so</span><span class="w"> </span><span class="nv">divide</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">sentence</span>
<span class="w">        </span><span class="nv">sentence_arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">question</span>.<span class="nv">split</span><span class="ss">(</span><span class="s2">"."</span><span class="ss">)</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="nv">sentence</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">sentence_arr</span>:
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="nv">len</span><span class="ss">(</span><span class="nv">sentence</span>.<span class="nv">strip</span><span class="ss">())</span>:
<span class="w">                </span>#<span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">question</span><span class="w"> </span><span class="nv">ends</span><span class="w"> </span><span class="nv">with</span><span class="w"> </span>?<span class="w"> </span><span class="nv">or</span><span class="w"> </span><span class="nv">start</span><span class="w"> </span><span class="nv">with</span><span class="w"> </span><span class="nv">any</span><span class="w"> </span><span class="nv">helping</span><span class="w"> </span><span class="nv">verb</span>
<span class="w">                </span>#<span class="w"> </span><span class="nv">word_tokenize</span><span class="w"> </span><span class="nv">will</span><span class="w"> </span><span class="nv">strip</span><span class="w"> </span><span class="nv">by</span><span class="w"> </span><span class="nv">default</span>
<span class="w">                </span><span class="nv">first_word</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">nltk</span>.<span class="nv">word_tokenize</span><span class="ss">(</span><span class="nv">sentence</span><span class="ss">)</span>[<span class="mi">0</span>]
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="nv">sentence</span>.<span class="nv">endswith</span><span class="ss">(</span><span class="s2">"?"</span><span class="ss">)</span><span class="w"> </span><span class="nv">or</span><span class="w"> </span><span class="nv">first_word</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">helping_verbs</span>:
<span class="w">                    </span><span class="nv">is_ques</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">True</span>
<span class="w">                    </span><span class="k">break</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nv">is_ques</span><span class="w">    </span>
<span class="w">    </span><span class="k">else</span>:
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nv">True</span>
</pre></div>

<p>you just need to use <code>is_question</code> method to check if passed sentence is
question or not.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/can-evolutionary-computation-be-a-method-of-reinforcement-learning/" class="u-url">Can evolutionary computation be a method of reinforcement learning?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/can-evolutionary-computation-be-a-method-of-reinforcement-learning/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-28T03:18:24+08:00" itemprop="datePublished" title="2023-02-28 03:18">2023-02-28 03:18</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What is <em>evolutionary computation</em>? Is it a method of reinforcement learning?
Or a separate method of machine learning? Or maybe none?</p>
<p>Please, cite references used to answer this question.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>There are evolutionary methods that are explicitly aimed at solving the
reinforcement learning problem. The subfield typically goes by the name of
Learning Classifier Systems (LCS) or occasionally Genetics-Based Machine
Learning (GBML).</p>
<p>Aside from that, I'm not sure your question has a very well-defined answer. It
basically boils down to "what is machine learning?" There's no canon that
we've all agreed on for how to answer that question. For some, EC might be a
part of that subfield. For others, it isn't. I just sampled a handful of ML
textbooks from my shelf, and about half contained material on evolutionary
methods. I suspect 15 years ago that fraction would have been higher, but
fashions change, and machine learning is very nearly a subfield of statistics
now. EC methods don't fit that mold very well.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Evolutionary computation, or evolutionary algorithms, are optimization
algorithms, which, when applied to a neural network (as in neuro-evolution)
can certainly be classified as a form of reinforcement learning, although it
works a bit different than the usual reinforcement learning algorithm.</p>
<p>Generally, in evolutionary algorithms such as genetic algorithms, or evolution
strategy, you have a whole population of individuals to be optimized. For each
of those individuals, a quality function is used to determine their 'fitness'
(as in 'survival of the fittest'), and the best individuals are selected for
the next generation. Those 'parents' are then randomly duplicated, modified,
mutated, or even recombined with each others -- how exactly this is done is a
bit different in each of the different algorithms. Finally, those new mutated
and/or recombined parents form the population for the next generation, and the
process starts again, until some desired quality is reached, or the quality
levels out.</p>
<p>In the case of neuro-evolution, the individuals are neural networks, which are
mutated by randomly changing weights (whereas in classical neural networks the
weights are updated according to very precise mathematical rules) or even
altering their topology, and the quality of the individuals is determined by
how well they perform on the training data.</p>
<p>Sorry, no hard scientific reference here, but maybe this still helped clearing
things up a bit.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-know-when-to-use-a-particular-kind-of-similarity-index-euclidean-distance-vs-pearson-correlation/" class="u-url">How to know when to use a particular kind of Similarity index? Euclidean Distance vs. Pearson Correlation</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-know-when-to-use-a-particular-kind-of-similarity-index-euclidean-distance-vs-pearson-correlation/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-28T03:18:03+08:00" itemprop="datePublished" title="2023-02-28 03:18">2023-02-28 03:18</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What are some of the deciding factors to take into consideration when choosing
a similarity index. In what cases is a Euclidean Distance preferred over
Pearson and vice versa?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Correlation is unit independent; if you scale one of the objects ten times,
you will get different euclidean distances and same correlation distances.
Therefore, correlation metrics is excellent when you want to measure distance
between such objects as genes defined by their expression profile.</p>
<p>Often, absolute or squared correlation is used as a distance metrics, because
we are more interested in the strength of the relationship than in its sign.</p>
<p>However, correlation is only suitable for highly dimensional data; there is
hardly a point of calculating it for two- or three dimensional data points.</p>
<p>Also note that "Pearson distance" is a weighted type of Euclidean distance,
and not the "correlation distance" using Pearson correlation coefficient.</p>
<p><br></p>
<h3>Suggest</h3>
<p>It really depends on the application scenario you have in hand. Very briefly,
if you are dealing with data where the actual <em>difference</em> in values of
attributes is important, go with Euclidean Distance. If you are looking for
trend or shape similarity, then go with correlation. Also note, that if you
perform z-score normalization in each object, Euclidean Distance behaves
similarly to Pearson correlation coefficient. Pearson is not sensitive to
linear transformations of the data. There are other types of correlation
coefficients that take into account the ranks of the values only, being
insensitive to both linear and non linear transformations. Note that the usual
use of correlation as dissimilarity is 1 - correlation, which does not respect
all the rules for a metric distance.</p>
<p>There are some studies on which proximity measure select on a particular
application, for instance:</p>
<p>Pablo A. Jaskowiak, Ricardo J. G. B. Campello, Ivan G. Costa Filho, "Proximity
Measures for Clustering Gene Expression Microarray Data: A Validation
Methodology and a Comparative Analysis," IEEE/ACM Transactions on
Computational Biology and Bioinformatics, vol. 99, no. PrePrints, p. 1, , 2013</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1407.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1405.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

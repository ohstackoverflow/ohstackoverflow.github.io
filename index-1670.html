<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1670) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1670.html">
<link rel="prev" href="index-1671.html" type="text/html">
<link rel="next" href="index-1669.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-git-stash-pop-specific-stash-in-1-8-3/" class="u-url">How to Git stash pop specific stash in 1.8.3?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-git-stash-pop-specific-stash-in-1-8-3/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T06:33:13+08:00" itemprop="datePublished" title="2023-03-03 06:33">2023-03-03 06:33</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I just upgraded Git. I'm on Git version 1.8.3.</p>
<p>This morning I tried to unstash a change 1 deep in the stack.</p>
<p>I ran <code>git stash pop stash@{1}</code> and got this error.</p>
<blockquote>
<p>fatal: ambiguous argument 'stash@1': unknown revision or path not in the
working tree. Use '--' to separate paths from revisions, like this: 'git
[...] -- [...]'</p>
</blockquote>
<p>I've tried about 20+ variations on this as well as using <code>apply</code> instead of
<code>pop</code> with no success. What's changed? Anyone else encounter this?</p>
<p><br><br></p>
<h2>Answer</h2>
<div class="code"><pre class="code literal-block">git stash apply n
</pre></div>

<p>works as of git version 2.11</p>
<p>Original answer, possibly helping to debug issues with the older syntax
involving shell escapes:</p>
<p>As pointed out previously, the curly braces may require escaping or quoting
depending on your OS, shell, etc.</p>
<p>See "stash@{1} is ambiguous?" for some detailed hints of what may be going
wrong, and how to work around it in various shells and platforms.</p>
<div class="code"><pre class="code literal-block">git stash list
git stash apply stash@{n}
</pre></div>

<p>git stash apply version</p>
<p><br></p>
<h3>Suggest</h3>
<p>You need to escape the braces:</p>
<div class="code"><pre class="code literal-block">git stash pop stash@\{1\}
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/nsoperation-vs-grand-central-dispatch/" class="u-url">NSOperation vs Grand Central Dispatch</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/nsoperation-vs-grand-central-dispatch/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T06:32:48+08:00" itemprop="datePublished" title="2023-03-03 06:32">2023-03-03 06:32</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm learning about concurrent programming for iOS. So far I've read about
<code>NSOperation</code>/<code>NSOperationQueue</code> and <code>GCD</code>. <strong>What are the reasons for
using<code>NSOperationQueue</code> over <code>GCD</code> and vice versa?</strong></p>
<p>Sounds like both <code>GCD</code> and <code>NSOperationQueue</code> abstract away the explicit
creation of <code>NSThreads</code> from the user. However the relationship between the
two approaches isn't clear to me so any feedback to appreciated!</p>
<p><br><br></p>
<h2>Answer</h2>
<p><code>GCD</code> is a low-level C-based API that enables very simple use of a task-based
concurrency model. <code>NSOperation</code> and <code>NSOperationQueue</code> are Objective-C
classes that do a similar thing. <code>NSOperation</code> was introduced first, but as of
10.5 and iOS 2, <code>NSOperationQueue</code> and friends are internally implemented
using <code>GCD</code>.</p>
<p>In general, you should use the highest level of abstraction that suits your
needs. This means that you should usually use <code>NSOperationQueue</code> instead of
<code>GCD</code>, unless you need to do something that <code>NSOperationQueue</code> doesn't
support.</p>
<p>Note that <code>NSOperationQueue</code> isn't a "dumbed-down" version of GCD; in fact,
there are many things that you can do very simply with <code>NSOperationQueue</code> that
take a lot of work with pure <code>GCD</code>. (Examples: bandwidth-constrained queues
that only run N operations at a time; establishing dependencies between
operations. Both very simple with <code>NSOperation</code>, very difficult with <code>GCD</code>.)
Apple's done the hard work of leveraging GCD to create a very nice object-
friendly API with <code>NSOperation</code>. Take advantage of their work unless you have
a reason not to.</p>
<p><strong>Caveat</strong> : On the other hand, if you really just need to send off a block,
and don't need any of the additional functionality that <code>NSOperationQueue</code>
provides, there's nothing wrong with using GCD. Just be sure it's the right
tool for the job.</p>
<p><br></p>
<h3>Suggest</h3>
<p>In line with my answer to a related question, I'm going to disagree with BJ
and suggest you first look at GCD over NSOperation / NSOperationQueue, unless
the latter provides something you need that GCD doesn't.</p>
<p>Before GCD, I used a lot of NSOperations / NSOperationQueues within my
applications for managing concurrency. However, since I started using GCD on a
regular basis, I've almost entirely replaced NSOperations and
NSOperationQueues with blocks and dispatch queues. This has come from how I've
used both technologies in practice, and from the profiling I've performed on
them.</p>
<p>First, there is a nontrivial amount of overhead when using NSOperations and
NSOperationQueues. These are Cocoa objects, and they need to be allocated and
deallocated. In an iOS application that I wrote which renders a 3-D scene at
60 FPS, I was using NSOperations to encapsulate each rendered frame. When I
profiled this, the creation and teardown of these NSOperations was accounting
for a significant portion of the CPU cycles in the running application, and
was slowing things down. I replaced these with simple blocks and a GCD serial
queue, and that overhead disappeared, leading to noticeably better rendering
performance. This wasn't the only place where I noticed overhead from using
NSOperations, and I've seen this on both Mac and iOS.</p>
<p>Second, there's an elegance to block-based dispatch code that is hard to match
when using NSOperations. It's so incredibly convenient to wrap a few lines of
code in a block and dispatch it to be performed on a serial or concurrent
queue, where creating a custom NSOperation or NSInvocationOperation to do this
requires a lot more supporting code. I know that you can use an
NSBlockOperation, but you might as well be dispatching something to GCD then.
Wrapping this code in blocks inline with related processing in your
application leads in my opinion to better code organization than having
separate methods or custom NSOperations which encapsulate these tasks.</p>
<p>NSOperations and NSOperationQueues still have very good uses. GCD has no real
concept of dependencies, where NSOperationQueues can set up pretty complex
dependency graphs. I use NSOperationQueues for this in a handful of cases.</p>
<p>Overall, while I usually advocate for using the highest level of abstraction
that accomplishes the task, this is one case where I argue for the lower-level
API of GCD. Among the iOS and Mac developers I've talked with about this, the
vast majority choose to use GCD over NSOperations unless they are targeting OS
versions without support for it (those before iOS 4.0 and Snow Leopard).</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/pods-stuck-in-terminating-status/" class="u-url">Pods stuck in Terminating status</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/pods-stuck-in-terminating-status/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T06:32:22+08:00" itemprop="datePublished" title="2023-03-03 06:32">2023-03-03 06:32</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I tried to delete a <code>ReplicationController</code> with 12 pods and I could see that
some of the pods are stuck in <code>Terminating</code> status.</p>
<p>My Kubernetes cluster consists of one control plane node and three worker
nodes installed on Ubuntu virtual machines.</p>
<p>What could be the reason for this issue?</p>
<div class="code"><pre class="code literal-block">NAME        READY     STATUS        RESTARTS   AGE
pod-186o2   1/1       Terminating   0          2h
pod-4b6qc   1/1       Terminating   0          2h
pod-8xl86   1/1       Terminating   0          1h
pod-d6htc   1/1       Terminating   0          1h
pod-vlzov   1/1       Terminating   0          1h
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>You can use following command to delete the POD forcefully.</p>
<div class="code"><pre class="code literal-block">kubectl delete pod &lt;PODNAME&gt; --grace-period=0 --force --namespace &lt;NAMESPACE&gt;
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>The original question is " <em>What could be the reason for this issue?</em> " and
the answer is discussed at
https://github.com/kubernetes/kubernetes/issues/51835 &amp;
https://github.com/kubernetes/kubernetes/issues/65569 &amp; see
https://www.bountysource.com/issues/33241128-unable-to-remove-a-stopped-
container-device-or-resource-busy</p>
<p>Its caused by docker mount leaking into some other namespace.</p>
<p>You can logon to pod host to investigate.</p>
<div class="code"><pre class="code literal-block">minikube ssh
docker container ps | grep &lt;id&gt;
docker container stop &lt;id&gt;
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1671.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1669.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

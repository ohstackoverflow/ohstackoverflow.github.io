<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 955) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-955.html">
<link rel="prev" href="index-956.html" type="text/html">
<link rel="next" href="index-954.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/redis-command-to-get-all-available-keys/" class="u-url">Redis command to get all available keys?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/redis-command-to-get-all-available-keys/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T20:34:27+08:00" itemprop="datePublished" title="2023-02-17 20:34">2023-02-17 20:34</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is there a Redis command for fetching all keys in the database? I have seen
some python-redis libraries fetching them. But was wondering if it is possible
from redis-client.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Try to look at <code>KEYS</code> command. <code>KEYS *</code> will list all keys stored in redis.</p>
<p><strong>EDIT:</strong> please note the warning at the top of <code>KEYS</code> documentation page:</p>
<blockquote>
<p><strong>Time complexity:</strong> O(N) with N being the number of keys in the database,
under the assumption that the key names in the database and the given
pattern have limited length.</p>
</blockquote>
<p><strong>UPDATE (V2.8 or greater):</strong> <code>SCAN</code> is a superior alternative to <code>KEYS</code>, in
the sense that it does not block the server nor does it consume significant
resources. Prefer using it.</p>
<p><br></p>
<h3>Suggest</h3>
<p><strong>Updated for Redis 2.8 and above</strong></p>
<p>As noted in the comments of previous answers to this question, <code>KEYS</code> is a
potentially dangerous command since your Redis server will be unavailable to
do other operations while it serves it. Another risk with <code>KEYS</code> is that it
can consume (dependent on the size of your keyspace) a lot of RAM to prepare
the response buffer, thus possibly exhausting your server's memory.</p>
<p>Version 2.8 of Redis had introduced the SCAN family of commands that are much
more polite and can be used for the same purpose.</p>
<p>The CLI also provides a nice way to work with it:</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>redis-cli<span class="w"> </span>--scan<span class="w"> </span>--pattern<span class="w"> </span><span class="s1">'*'</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-enter-in-a-docker-container-already-running-with-a-new-tty/" class="u-url">How to enter in a Docker container already running with a new TTY</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-enter-in-a-docker-container-already-running-with-a-new-tty/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T20:33:58+08:00" itemprop="datePublished" title="2023-02-17 20:33">2023-02-17 20:33</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a container that is running the Apache service in the foreground. I
would like to be able to access the container from another shell in order to
"poke around" inside it and examine the files. At the moment, if I attach to
the container, I am left looking at the Apache daemon and cannot run any
commands.</p>
<p>Is it possible to attach another tty to a running container? Possibly, I can
take advantage of the fact that Docker is actually just wrapping around LXC
containers? I have tried <code>sudo lxc-console -n [container-id] -t [1-4]</code> but it
appears that only one tty is made available and that is the one running the
apache daemon. Perhaps there is a way to enable multiple lxc consoles during
the build?</p>
<p>I would rather <strong>not</strong> configure and build the container with an openssh
service if possible.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>With docker 1.3, there is a new command <code>docker exec</code>. This allows you to
enter a running container:</p>
<div class="code"><pre class="code literal-block"><span class="nv">docker</span><span class="w"> </span><span class="k">exec</span><span class="w"> </span><span class="o">-</span><span class="nv">it</span><span class="w"> </span>[<span class="nv">container</span><span class="o">-</span><span class="nv">id</span>]<span class="w"> </span><span class="nv">bash</span>
</pre></div>

<p><strong>Note:</strong> this assumes <code>bash</code> is installed on your container. You may run <code>sh</code>
or whatever interactive shell is installed on the container.</p>
<p><br></p>
<h3>Suggest</h3>
<p>You should use Jérôme Petazzoni's tool called 'nsenter' to enter a container
without using SSH. See: https://github.com/jpetazzo/nsenter</p>
<p>Install with simply running: <code>docker run -v /usr/local/bin:/target
jpetazzo/nsenter</code></p>
<p>Then use the command <code>docker-enter &lt;container-id&gt;</code> to enter the container.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/expand-a-div-to-fill-the-remaining-width/" class="u-url">Expand a div to fill the remaining width</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/expand-a-div-to-fill-the-remaining-width/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T20:33:19+08:00" itemprop="datePublished" title="2023-02-17 20:33">2023-02-17 20:33</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I want a two-column div layout, where each one can have variable width e.g.</p>
<div class="code"><pre class="code literal-block">div<span class="w"> </span>{
<span class="w">  </span>float:<span class="w"> </span>left;
}

.second<span class="w"> </span>{
<span class="w">  </span>background:<span class="w"> </span>#ccc;
}


<span class="nt">&lt;div&gt;</span>Tree<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"second"</span><span class="nt">&gt;</span>View<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p>I want the 'view' div to expand to the whole width available after 'tree' div
has filled needed space.</p>
<p>Currently, my 'view' div is resized to content it contains It will also be
good if both divs take up the whole height.</p>
<hr>
<p><strong>Not duplicate disclaimer:</strong></p>
<ul>
<li>Expand div to max width when float:left is set because there the left one has a fixed width.</li>
<li>Help with div - make div fit the remaining width because I need two columns both aligned to left</li>
</ul>
<p><br><br></p>
<h2>Answer</h2>
<p>The solution to this is actually very easy, but not at <em>all</em> obvious. You have
to trigger something called a "block formatting context" (BFC), which
interacts with floats in a specific way.</p>
<p>Just take that second div, remove the float, and give it <code>overflow:hidden</code>
instead. Any overflow value other than visible makes the block it's set on
become a BFC. BFCs don't allow descendant floats to escape them, nor do they
allow sibling/ancestor floats to intrude into them. The net effect here is
that the floated div will do its thing, then the second div will be an
ordinary block, taking up all available width <em>except that occupied by the
float</em>.</p>
<p>This should work across all current browsers, though you may have to trigger
hasLayout in IE6 and 7. I can't recall.</p>
<p><strong>Demos:</strong></p>
<ul>
<li>Fixed Left: http://jsfiddle.net/A8zLY/5/</li>
<li>
<p>Fixed Right: http://jsfiddle.net/A8zLY/2/</p>
<p>div {
  float: left;
}</p>
<p>.second {
  background: #ccc;
  float: none;
  overflow: hidden;
}</p>
<p></p>
<div>Tree</div>
<div class="second">View</div>
</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<p>I just discovered the magic of flex boxes (display: flex). Try this:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;style&gt;</span>
<span class="w">  </span>#box<span class="w"> </span>{
<span class="w">    </span>display:<span class="w"> </span>flex;
<span class="w">  </span>}
<span class="w">  </span>#b<span class="w"> </span>{
<span class="w">    </span>flex-grow:<span class="w"> </span>100;
<span class="w">    </span>border:<span class="w"> </span>1px<span class="w"> </span>solid<span class="w"> </span>green;
<span class="w">  </span>}
<span class="nt">&lt;/style&gt;</span>
<span class="nt">&lt;div</span><span class="w"> </span><span class="na">id=</span><span class="s">'box'</span><span class="nt">&gt;</span>
<span class="w"> </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">id=</span><span class="s">'a'</span><span class="nt">&gt;</span>Tree<span class="nt">&lt;/div&gt;</span>
<span class="w"> </span><span class="nt">&lt;div</span><span class="w"> </span><span class="na">id=</span><span class="s">'b'</span><span class="nt">&gt;</span>View<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p>Flex boxes give me the control I've wished css had for 15 years. Its finally
here! More info: https://css-tricks.com/snippets/css/a-guide-to-flexbox/</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-956.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-954.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1695) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1695.html">
<link rel="prev" href="index-1696.html" type="text/html">
<link rel="next" href="index-1694.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-move-an-existing-git-submodule-within-a-git-repository/" class="u-url">How do I move an existing Git submodule within a Git repository?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-move-an-existing-git-submodule-within-a-git-repository/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T07:09:09+08:00" itemprop="datePublished" title="2023-03-03 07:09">2023-03-03 07:09</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I would like to change the directory name of a Git submodule in my Git
superproject.</p>
<p>Lets suppose I have the following entry in my <code>.gitmodules</code> file:</p>
<div class="code"><pre class="code literal-block">[submodule ".emacs.d/vimpulse"]  
path = .emacs.d/vimpulse  
url = git://gitorious.org/vimpulse/vimpulse.git
</pre></div>

<p>What do I have to type to move the <code>.emacs.d/vimpulse</code> directory to
<code>.emacs.d/vendor/vimpulse</code> without deleting it first (explained here and here)
and then re-adding it.</p>
<p>Does Git really need the whole path in the submodule tag</p>
<div class="code"><pre class="code literal-block">[submodule ".emacs.d/vimpulse"]
</pre></div>

<p>or is it also possible to store just the name of the subproject?</p>
<div class="code"><pre class="code literal-block">[submodule "vimpulse"]
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<h3>Newer versions of git</h3>
<p>Git now has native support for moving submodules:</p>
<blockquote>
<p>Since git 1.8.5, <code>git mv old/submod new/submod</code> works as expected and does
all the plumbing for you. You might want to use git 1.9.3 or newer, because
it includes fixes for submodule moving.</p>
</blockquote>
<h3>Older versions of git</h3>
<p><em>As mentioned in the comments, this answer refers to the steps needed with
older versions of git.</em></p>
<p>The process is similar to how you'd remove a submodule (see How do I remove a
submodule?):</p>
<ol>
<li>
<p>Edit <code>.gitmodules</code> and change the path of the submodule appropriately, and put it in the index with <code>git add .gitmodules</code>.</p>
</li>
<li>
<p>If needed, create the parent directory of the new location of the submodule (<code>mkdir -p new/parent</code>).</p>
</li>
<li>
<p>Move all content from the old to the new directory (<code>mv -vi old/parent/submodule new/parent/submodule</code>).</p>
</li>
<li>
<p>Make sure Git tracks this directory (<code>git add new/parent</code>).</p>
</li>
<li>
<p>Remove the old directory with <code>git rm --cached old/parent/submodule</code>.</p>
</li>
<li>
<p>Move the directory <code>.git/modules/old/parent/submodule</code> with all its content to <code>.git/modules/new/parent/submodule</code>.</p>
</li>
<li>
<p>Edit the <code>.git/modules/new/parent/config</code> file, make sure that worktree item points to the new locations, so in this example it should be <code>worktree = ../../../../../new/parent/module</code>. Typically there should be two more <code>..</code> than directories in the direct path in that place.</p>
</li>
<li>
<p>Edit the file <code>new/parent/module/.git</code>, make sure that the path in it points to the correct new location inside the main project <code>.git</code> folder, so in this example <code>gitdir: ../../../.git/modules/new/parent/submodule</code>.</p>
</li>
</ol>
<p><code>git status</code> output looks like this for me afterwards:</p>
<div class="code"><pre class="code literal-block"><span class="w">     </span><span class="err">#</span><span class="w"> </span><span class="n">On</span><span class="w"> </span><span class="n">branch</span><span class="w"> </span><span class="n">master</span>
<span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">Changes</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">committed</span><span class="o">:</span>
<span class="w"> </span><span class="err">#</span><span class="w">   </span><span class="p">(</span><span class="n">use</span><span class="w"> </span><span class="s">"git reset HEAD &lt;file&gt;..."</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">unstage</span><span class="p">)</span>
<span class="w"> </span><span class="err">#</span>
<span class="w"> </span><span class="err">#</span><span class="w">       </span><span class="n">modified</span><span class="o">:</span><span class="w">   </span><span class="p">.</span><span class="n">gitmodules</span>
<span class="w"> </span><span class="err">#</span><span class="w">       </span><span class="n">renamed</span><span class="o">:</span><span class="w">    </span><span class="n">old</span><span class="o">/</span><span class="n">parent</span><span class="o">/</span><span class="n">submodule</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">new</span><span class="o">/</span><span class="n">parent</span><span class="o">/</span><span class="n">submodule</span>
<span class="w"> </span><span class="err">#</span>
</pre></div>

<ol>
<li>Finally, commit the changes.</li>
</ol>
<p><br></p>
<h3>Suggest</h3>
<p>The most modern answer, taken from Valloric's comment above:</p>
<ol>
<li>Upgrade to Git 1.9.3 (or 2.18 if the submodule contains nested submodules)</li>
<li><code>git mv old/submod new/submod</code></li>
<li>Afterwards the .gitmodules and the submodule directory are already staged for a commit (you can verify this with <code>git status</code>.)</li>
<li>Commit the changes with <code>git commit</code>and you're good to go!</li>
</ol>
<p>Done!</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/mysql-error-key-specification-without-a-key-length/" class="u-url">MySQL error: key specification without a key length</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/mysql-error-key-specification-without-a-key-length/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T07:08:44+08:00" itemprop="datePublished" title="2023-03-03 07:08">2023-03-03 07:08</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a table with a primary key that is a varchar(255). Some cases have
arisen where 255 characters isn't enough. I tried changing the field to a
text, but I get the following error:</p>
<div class="code"><pre class="code literal-block">BLOB/TEXT column 'message_id' used in key specification without a key length
</pre></div>

<p>how can I fix this?</p>
<p>edit: I should also point out this table has a composite primary key with
multiple columns.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The error happens because MySQL can index only the first N chars of a BLOB or
<code>TEXT</code> column. So The error mainly happens when there is a field/column type
of <code>TEXT</code> or BLOB or those belong to <code>TEXT</code> or <code>BLOB</code> types such as
<code>TINYBLOB</code>, <code>MEDIUMBLOB</code>, <code>LONGBLOB</code>, <code>TINYTEXT</code>, <code>MEDIUMTEXT</code>, and <code>LONGTEXT</code>
that you try to make a primary key or index. With full <code>BLOB</code> or <code>TEXT</code>
without the length value, MySQL is unable to guarantee the uniqueness of the
column as it’s of variable and dynamic size. So, when using <code>BLOB</code> or <code>TEXT</code>
types as an index, the value of N must be supplied so that MySQL can determine
the key length. However, MySQL doesn’t support a key length limit on <code>TEXT</code> or
<code>BLOB</code>. <code>TEXT(88)</code> simply won’t work.</p>
<p>The error will also pop up when you try to convert a table column from <code>non-
TEXT</code> and <code>non-BLOB</code> type such as <code>VARCHAR</code> and <code>ENUM</code> into <code>TEXT</code> or <code>BLOB</code>
type, with the column already been defined as unique constraints or index. The
Alter Table SQL command will fail.</p>
<p>The solution to the problem is to remove the <code>TEXT</code> or <code>BLOB</code> column from the
index or unique constraint or set another field as primary key. If you can't
do that, and wanting to place a limit on the <code>TEXT</code> or <code>BLOB</code> column, try to
use <code>VARCHAR</code> type and place a limit of length on it. By default, <code>VARCHAR</code> is
limited to a maximum of 255 characters and its limit must be specified
implicitly within a bracket right after its declaration, i.e <code>VARCHAR(200)</code>
will limit it to 200 characters long only.</p>
<p>Sometimes, even though you don’t use <code>TEXT</code> or <code>BLOB</code> related type in your
table, the Error 1170 may also appear. It happens in a situation such as when
you specify <code>VARCHAR</code> column as primary key, but wrongly set its length or
characters size. <code>VARCHAR</code> can only accepts up to 256 characters, so anything
such as <code>VARCHAR(512)</code> will force MySQL to auto-convert the <code>VARCHAR(512)</code> to
a <code>SMALLTEXT</code> datatype, which subsequently fails with error 1170 on key length
if the column is used as primary key or unique or non-unique index. To solve
this problem, specify a figure less than 256 as the size for <code>VARCHAR</code> field.</p>
<p>Reference: MySQL Error 1170 (42000): BLOB/TEXT Column Used in Key
Specification Without a Key Length</p>
<p><br></p>
<h3>Suggest</h3>
<p>You should define which leading portion of a <code>TEXT</code> column you want to index.</p>
<p><code>InnoDB</code> has a limitation of <code>768</code> bytes per index key and you won't be able
to create an index longer than that.</p>
<p>This will work fine:</p>
<div class="code"><pre class="code literal-block">CREATE TABLE t_length (
      mydata TEXT NOT NULL,
      KEY ix_length_mydata (mydata(255)))
    ENGINE=InnoDB;
</pre></div>

<p>Note that the maximum value of the key size depends on the column charset.
It's <code>767</code> characters for a single-byte charset like <code>LATIN1</code> and only <code>255</code>
characters for <code>UTF8</code> (<code>MySQL</code> only uses <code>BMP</code> which requires at most <code>3</code>
bytes per character)</p>
<p>If you need your whole column to be the <code>PRIMARY KEY</code>, calculate <code>SHA1</code> or
<code>MD5</code> hash and use it as a <code>PRIMARY KEY</code>.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-properly-create-a-custom-object-in-javascript/" class="u-url">How to "properly" create a custom object in JavaScript?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-properly-create-a-custom-object-in-javascript/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T07:08:17+08:00" itemprop="datePublished" title="2023-03-03 07:08">2023-03-03 07:08</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I wonder about what the best way is to create an JavaScript object that has
properties and methods.</p>
<p>I have seen examples where the person used <code>var self = this</code> and then uses
<code>self.</code> in all functions to make sure the scope is always correct.</p>
<p>Then I have seen examples of using <code>.prototype</code> to add properties, while
others do it inline.</p>
<p>Can someone give me a proper example of a JavaScript object with some
properties and methods?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>There are two models for implementing classes and instances in JavaScript: the
prototyping way, and the closure way. Both have advantages and drawbacks, and
there are plenty of extended variations. Many programmers and libraries have
different approaches and class-handling utility functions to paper over some
of the uglier parts of the language.</p>
<p>The result is that in mixed company you will have a mishmash of metaclasses,
all behaving slightly differently. What's worse, most JavaScript tutorial
material is terrible and serves up some kind of in-between compromise to cover
all bases, leaving you very confused. (Probably the author is also confused.
JavaScript's object model is very different to most programming languages, and
in many places straight-up badly designed.)</p>
<p>Let's start with <strong>the prototype way</strong>. This is the most JavaScript-native you
can get: there is a minimum of overhead code and instanceof will work with
instances of this kind of object.</p>
<div class="code"><pre class="code literal-block">function Shape(x, y) {
    this.x= x;
    this.y= y;
}
</pre></div>

<p>We can add methods to the instance created by <code>new Shape</code> by writing them to
the <code>prototype</code> lookup of this constructor function:</p>
<div class="code"><pre class="code literal-block"><span class="nv">Shape</span>.<span class="nv">prototype</span>.<span class="nv">toString</span><span class="o">=</span><span class="w"> </span><span class="nv">function</span><span class="ss">()</span><span class="w"> </span>{
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s1">'Shape at '</span><span class="o">+</span><span class="nv">this</span>.<span class="nv">x</span><span class="o">+</span><span class="s1">', '</span><span class="o">+</span><span class="nv">this</span>.<span class="nv">y</span><span class="c1">;</span>
}<span class="c1">;</span>
</pre></div>

<p>Now to subclass it, in as much as you can call what JavaScript does
subclassing. We do that by completely replacing that weird magic <code>prototype</code>
property:</p>
<div class="code"><pre class="code literal-block"><span class="n">function</span><span class="w"> </span><span class="n">Circle</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">r</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Shape</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">this</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">);</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">invoke</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">base</span><span class="w"> </span><span class="k">class</span><span class="s1">'s constructor function to take co-ords</span>
<span class="w">    </span><span class="n">this</span><span class="o">.</span><span class="n">r</span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">Circle</span><span class="o">.</span><span class="n">prototype</span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Shape</span><span class="p">();</span>
</pre></div>

<p>before adding methods to it:</p>
<div class="code"><pre class="code literal-block"><span class="nv">Circle</span>.<span class="nv">prototype</span>.<span class="nv">toString</span><span class="o">=</span><span class="w"> </span><span class="nv">function</span><span class="ss">()</span><span class="w"> </span>{
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s1">'Circular '</span><span class="o">+</span><span class="nv">Shape</span>.<span class="nv">prototype</span>.<span class="nv">toString</span>.<span class="nv">call</span><span class="ss">(</span><span class="nv">this</span><span class="ss">)</span><span class="o">+</span><span class="s1">' with radius '</span><span class="o">+</span><span class="nv">this</span>.<span class="nv">r</span><span class="c1">;</span>
}
</pre></div>

<p>This example will work and you will see code like it in many tutorials. But
man, that <code>new Shape()</code> is ugly: we're instantiating the base class even
though no actual Shape is to be created. It happens to work in this simple
case because JavaScript is so sloppy: it allows zero arguments to be passed
in, in which case <code>x</code> and <code>y</code> become <code>undefined</code> and are assigned to the
prototype's <code>this.x</code> and <code>this.y</code>. If the constructor function were doing
anything more complicated, it would fall flat on its face.</p>
<p>So what we need to do is find a way to create a prototype object which
contains the methods and other members we want at a class level, without
calling the base class's constructor function. To do this we are going to have
to start writing helper code. This is the simplest approach I know of:</p>
<div class="code"><pre class="code literal-block"><span class="nv">function</span><span class="w"> </span><span class="nv">subclassOf</span><span class="ss">(</span><span class="nv">base</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="nv">_subclassOf</span>.<span class="nv">prototype</span><span class="o">=</span><span class="w"> </span><span class="nv">base</span>.<span class="nv">prototype</span><span class="c1">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">_subclassOf</span><span class="ss">()</span><span class="c1">;</span>
}
<span class="nv">function</span><span class="w"> </span><span class="nv">_subclassOf</span><span class="ss">()</span><span class="w"> </span>{}<span class="c1">;</span>
</pre></div>

<p>This transfers the base class's members in its prototype to a new constructor
function which does nothing, then uses that constructor. Now we can write
simply:</p>
<div class="code"><pre class="code literal-block">function Circle(x, y, r) {
    Shape.call(this, x, y);
    this.r= r;
}
Circle.prototype= subclassOf(Shape);
</pre></div>

<p>instead of the <code>new Shape()</code> wrongness. We now have an acceptable set of
primitives to built classes.</p>
<p>There are a few refinements and extensions we can consider under this model.
For example here is a syntactical-sugar version:</p>
<div class="code"><pre class="code literal-block"><span class="n">Function</span><span class="o">.</span><span class="n">prototype</span><span class="o">.</span><span class="n">subclass</span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="n">base</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">c</span><span class="o">=</span><span class="w"> </span><span class="n">Function</span><span class="o">.</span><span class="n">prototype</span><span class="o">.</span><span class="n">subclass</span><span class="o">.</span><span class="n">nonconstructor</span><span class="p">;</span>
<span class="w">    </span><span class="n">c</span><span class="o">.</span><span class="n">prototype</span><span class="o">=</span><span class="w"> </span><span class="n">base</span><span class="o">.</span><span class="n">prototype</span><span class="p">;</span>
<span class="w">    </span><span class="n">this</span><span class="o">.</span><span class="n">prototype</span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">c</span><span class="p">();</span>
<span class="p">};</span>
<span class="n">Function</span><span class="o">.</span><span class="n">prototype</span><span class="o">.</span><span class="n">subclass</span><span class="o">.</span><span class="n">nonconstructor</span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{};</span>

<span class="o">...</span>

<span class="n">function</span><span class="w"> </span><span class="n">Circle</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">r</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Shape</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">this</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">);</span>
<span class="w">    </span><span class="n">this</span><span class="o">.</span><span class="n">r</span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">Circle</span><span class="o">.</span><span class="n">subclass</span><span class="p">(</span><span class="n">Shape</span><span class="p">);</span>
</pre></div>

<p>Either version has the drawback that the constructor function cannot be
inherited, as it is in many languages. So even if your subclass adds nothing
to the construction process, it must remember to call the base constructor
with whatever arguments the base wanted. This can be slightly automated using
<code>apply</code>, but still you have to write out:</p>
<div class="code"><pre class="code literal-block">function Point() {
    Shape.apply(this, arguments);
}
Point.subclass(Shape);
</pre></div>

<p>So a common extension is to break out the initialisation stuff into its own
function rather than the constructor itself. This function can then inherit
from the base just fine:</p>
<div class="code"><pre class="code literal-block"><span class="nv">function</span><span class="w"> </span><span class="nv">Shape</span><span class="ss">()</span><span class="w"> </span>{<span class="w"> </span><span class="nv">this</span>.<span class="nv">_init</span>.<span class="nv">apply</span><span class="ss">(</span><span class="nv">this</span>,<span class="w"> </span><span class="nv">arguments</span><span class="ss">)</span><span class="c1">; }</span>
<span class="nv">Shape</span>.<span class="nv">prototype</span>.<span class="nv">_init</span><span class="o">=</span><span class="w"> </span><span class="nv">function</span><span class="ss">(</span><span class="nv">x</span>,<span class="w"> </span><span class="nv">y</span><span class="ss">)</span><span class="w"> </span>{
<span class="w">    </span><span class="nv">this</span>.<span class="nv">x</span><span class="o">=</span><span class="w"> </span><span class="nv">x</span><span class="c1">;</span>
<span class="w">    </span><span class="nv">this</span>.<span class="nv">y</span><span class="o">=</span><span class="w"> </span><span class="nv">y</span><span class="c1">;</span>
}<span class="c1">;</span>

<span class="nv">function</span><span class="w"> </span><span class="nv">Point</span><span class="ss">()</span><span class="w"> </span>{<span class="w"> </span><span class="nv">this</span>.<span class="nv">_init</span>.<span class="nv">apply</span><span class="ss">(</span><span class="nv">this</span>,<span class="w"> </span><span class="nv">arguments</span><span class="ss">)</span><span class="c1">; }</span>
<span class="nv">Point</span>.<span class="nv">subclass</span><span class="ss">(</span><span class="nv">Shape</span><span class="ss">)</span><span class="c1">;</span>
<span class="o">//</span><span class="w"> </span><span class="nv">no</span><span class="w"> </span><span class="nv">need</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">write</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">initialiser</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">Point</span><span class="o">!</span>
</pre></div>

<p>Now we've just got the same constructor function boilerplate for each class.
Maybe we can move that out into its own helper function so we don't have to
keep typing it, for example instead of <code>Function.prototype.subclass</code>, turning
it round and letting the base class's Function spit out subclasses:</p>
<div class="code"><pre class="code literal-block"><span class="n">Function</span><span class="o">.</span><span class="n">prototype</span><span class="o">.</span><span class="n">makeSubclass</span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">function</span><span class="w"> </span><span class="n">Class</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="s1">'_init'</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">this</span><span class="p">)</span>
<span class="w">            </span><span class="n">this</span><span class="o">.</span><span class="n">_init</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">this</span><span class="p">,</span><span class="w"> </span><span class="n">arguments</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">Function</span><span class="o">.</span><span class="n">prototype</span><span class="o">.</span><span class="n">makeSubclass</span><span class="o">.</span><span class="n">nonconstructor</span><span class="o">.</span><span class="n">prototype</span><span class="o">=</span><span class="w"> </span><span class="n">this</span><span class="o">.</span><span class="n">prototype</span><span class="p">;</span>
<span class="w">    </span><span class="n">Class</span><span class="o">.</span><span class="n">prototype</span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Function</span><span class="o">.</span><span class="n">prototype</span><span class="o">.</span><span class="n">makeSubclass</span><span class="o">.</span><span class="n">nonconstructor</span><span class="p">();</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Class</span><span class="p">;</span>
<span class="p">};</span>
<span class="n">Function</span><span class="o">.</span><span class="n">prototype</span><span class="o">.</span><span class="n">makeSubclass</span><span class="o">.</span><span class="n">nonconstructor</span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{};</span>

<span class="o">...</span>

<span class="n">Shape</span><span class="o">=</span><span class="w"> </span><span class="nb nb-Type">Object</span><span class="o">.</span><span class="n">makeSubclass</span><span class="p">();</span>
<span class="n">Shape</span><span class="o">.</span><span class="n">prototype</span><span class="o">.</span><span class="n">_init</span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">this</span><span class="o">.</span><span class="n">x</span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<span class="w">    </span><span class="n">this</span><span class="o">.</span><span class="n">y</span><span class="o">=</span><span class="w"> </span><span class="n">y</span><span class="p">;</span>
<span class="p">};</span>

<span class="n">Point</span><span class="o">=</span><span class="w"> </span><span class="n">Shape</span><span class="o">.</span><span class="n">makeSubclass</span><span class="p">();</span>

<span class="n">Circle</span><span class="o">=</span><span class="w"> </span><span class="n">Shape</span><span class="o">.</span><span class="n">makeSubclass</span><span class="p">();</span>
<span class="n">Circle</span><span class="o">.</span><span class="n">prototype</span><span class="o">.</span><span class="n">_init</span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">r</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Shape</span><span class="o">.</span><span class="n">prototype</span><span class="o">.</span><span class="n">_init</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">this</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">);</span>
<span class="w">    </span><span class="n">this</span><span class="o">.</span><span class="n">r</span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>

<p>...which is starting to look a bit more like other languages, albeit with
slightly clumsier syntax. You can sprinkle in a few extra features if you
like. Maybe you want <code>makeSubclass</code> to take and remember a class name and
provide a default <code>toString</code> using it. Maybe you want to make the constructor
detect when it has accidentally been called without the <code>new</code> operator (which
would otherwise often result in very annoying debugging):</p>
<div class="code"><pre class="code literal-block"><span class="nv">Function</span>.<span class="nv">prototype</span>.<span class="nv">makeSubclass</span><span class="o">=</span><span class="w"> </span><span class="nv">function</span><span class="ss">()</span><span class="w"> </span>{
<span class="w">    </span><span class="nv">function</span><span class="w"> </span><span class="nv">Class</span><span class="ss">()</span><span class="w"> </span>{
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="o">!</span><span class="ss">(</span><span class="nv">this</span><span class="w"> </span><span class="nv">instanceof</span><span class="w"> </span><span class="nv">Class</span><span class="ss">))</span>
<span class="w">            </span><span class="nv">throw</span><span class="ss">(</span><span class="s1">'Constructor called without "new"'</span><span class="ss">)</span><span class="c1">;</span>
<span class="w">        </span>...
</pre></div>

<p>Maybe you want to pass in all the new members and have <code>makeSubclass</code> add them
to the prototype, to save you having to write <code>Class.prototype...</code> quite so
much. A lot of class systems do that, eg:</p>
<div class="code"><pre class="code literal-block"><span class="nt">Circle</span><span class="o">=</span><span class="w"> </span><span class="nt">Shape</span><span class="p">.</span><span class="nc">makeSubclass</span><span class="o">(</span><span class="p">{</span>
<span class="w">    </span><span class="n">_init</span><span class="p">:</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">Shape</span><span class="o">.</span><span class="n">prototype</span><span class="o">.</span><span class="n">_init</span><span class="o">.</span><span class="nf">call</span><span class="p">(</span><span class="n">this</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">);</span>
<span class="w">        </span><span class="err">this.r=</span><span class="w"> </span><span class="err">r</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span><span class="o">,</span>
<span class="w">    </span><span class="o">...</span>
<span class="err">}</span><span class="o">);</span>
</pre></div>

<p>There are a lot of potential features you might consider desirable in an
object system and no-one really agrees on one particular formula.</p>
<hr>
<p>The <strong>closure way</strong> , then. This avoids the problems of JavaScript's
prototype-based inheritance, by not using inheritance at all. Instead:</p>
<div class="code"><pre class="code literal-block"><span class="n">function</span><span class="w"> </span><span class="n">Shape</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">that</span><span class="o">=</span><span class="w"> </span><span class="n">this</span><span class="p">;</span>

<span class="w">    </span><span class="n">this</span><span class="o">.</span><span class="n">x</span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<span class="w">    </span><span class="n">this</span><span class="o">.</span><span class="n">y</span><span class="o">=</span><span class="w"> </span><span class="n">y</span><span class="p">;</span>

<span class="w">    </span><span class="n">this</span><span class="o">.</span><span class="n">toString</span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s1">'Shape at '</span><span class="o">+</span><span class="n">that</span><span class="o">.</span><span class="n">x</span><span class="o">+</span><span class="s1">', '</span><span class="o">+</span><span class="n">that</span><span class="o">.</span><span class="n">y</span><span class="p">;</span>
<span class="w">    </span><span class="p">};</span>
<span class="p">}</span>

<span class="n">function</span><span class="w"> </span><span class="n">Circle</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">r</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">that</span><span class="o">=</span><span class="w"> </span><span class="n">this</span><span class="p">;</span>

<span class="w">    </span><span class="n">Shape</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">this</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">);</span>
<span class="w">    </span><span class="n">this</span><span class="o">.</span><span class="n">r</span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">;</span>

<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">_baseToString</span><span class="o">=</span><span class="w"> </span><span class="n">this</span><span class="o">.</span><span class="n">toString</span><span class="p">;</span>
<span class="w">    </span><span class="n">this</span><span class="o">.</span><span class="n">toString</span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s1">'Circular '</span><span class="o">+</span><span class="n">_baseToString</span><span class="p">(</span><span class="n">that</span><span class="p">)</span><span class="o">+</span><span class="s1">' with radius '</span><span class="o">+</span><span class="n">that</span><span class="o">.</span><span class="n">r</span><span class="p">;</span>
<span class="w">    </span><span class="p">};</span>
<span class="p">};</span>

<span class="k">var</span><span class="w"> </span><span class="n">mycircle</span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Circle</span><span class="p">();</span>
</pre></div>

<p>Now every single instance of <code>Shape</code> will have its own copy of the <code>toString</code>
method (and any other methods or other class members we add).</p>
<p>The bad thing about every instance having its own copy of each class member is
that it's less efficient. If you are dealing with large numbers of subclassed
instances, prototypical inheritance may serve you better. Also calling a
method of the base class is slightly annoying as you can see: we have to
remember what the method was before the subclass constructor overwrote it, or
it gets lost.</p>
<p>[Also because there is no inheritance here, the <code>instanceof</code> operator won't
work; you would have to provide your own mechanism for class-sniffing if you
need it. Whilst you <em>could</em> fiddle the prototype objects in a similar way as
with prototype inheritance, it's a bit tricky and not really worth it just to
get <code>instanceof</code> working.]</p>
<p>The good thing about every instance having its own method is that the method
may then be bound to the specific instance that owns it. This is useful
because of JavaScript's weird way of binding <code>this</code> in method calls, which has
the upshot that if you detach a method from its owner:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">ts</span><span class="o">=</span><span class="w"> </span><span class="n">mycircle</span><span class="o">.</span><span class="n">toString</span><span class="p">;</span>
<span class="n">alert</span><span class="p">(</span><span class="n">ts</span><span class="p">());</span>
</pre></div>

<p>then <code>this</code> inside the method won't be the Circle instance as expected (it'll
actually be the global <code>window</code> object, causing widespread debugging woe). In
reality this typically happens when a method is taken and assigned to a
<code>setTimeout</code>, <code>onclick</code> or <code>EventListener</code> in general.</p>
<p>With the prototype way, you have to include a closure for every such
assignment:</p>
<div class="code"><pre class="code literal-block">setTimeout(function() {
    mycircle.move(1, 1);
}, 1000);
</pre></div>

<p>or, in the future (or now if you hack Function.prototype) you can also do it
with <code>function.bind()</code>:</p>
<div class="code"><pre class="code literal-block">setTimeout(mycircle.move.bind(mycircle, 1, 1), 1000);
</pre></div>

<p>if your instances are done the closure way, the binding is done for free by
the closure over the instance variable (usually called <code>that</code> or <code>self</code>,
though personally I would advise against the latter as <code>self</code> already has
another, different meaning in JavaScript). You don't get the arguments <code>1, 1</code>
in the above snippet for free though, so you would still need another closure
or a <code>bind()</code> if you need to do that.</p>
<p>There are lots of variants on the closure method too. You may prefer to omit
<code>this</code> completely, creating a new <code>that</code> and returning it instead of using the
<code>new</code> operator:</p>
<div class="code"><pre class="code literal-block"><span class="k">function</span><span class="w"> </span><span class="n">Shape</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">var</span><span class="w"> </span><span class="n">that</span><span class="o">=</span><span class="w"> </span><span class="err">{}</span><span class="p">;</span>

<span class="w">    </span><span class="n">that</span><span class="p">.</span><span class="n">x</span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<span class="w">    </span><span class="n">that</span><span class="p">.</span><span class="n">y</span><span class="o">=</span><span class="w"> </span><span class="n">y</span><span class="p">;</span>

<span class="w">    </span><span class="n">that</span><span class="p">.</span><span class="n">toString</span><span class="o">=</span><span class="w"> </span><span class="k">function</span><span class="p">()</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s1">'Shape at '</span><span class="o">+</span><span class="n">that</span><span class="p">.</span><span class="n">x</span><span class="o">+</span><span class="s1">', '</span><span class="o">+</span><span class="n">that</span><span class="p">.</span><span class="n">y</span><span class="p">;</span>
<span class="w">    </span><span class="err">}</span><span class="p">;</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">that</span><span class="p">;</span>
<span class="err">}</span>

<span class="k">function</span><span class="w"> </span><span class="n">Circle</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">r</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="n">var</span><span class="w"> </span><span class="n">that</span><span class="o">=</span><span class="w"> </span><span class="n">Shape</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">);</span>

<span class="w">    </span><span class="n">that</span><span class="p">.</span><span class="n">r</span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">;</span>

<span class="w">    </span><span class="n">var</span><span class="w"> </span><span class="n">_baseToString</span><span class="o">=</span><span class="w"> </span><span class="n">that</span><span class="p">.</span><span class="n">toString</span><span class="p">;</span>
<span class="w">    </span><span class="n">that</span><span class="p">.</span><span class="n">toString</span><span class="o">=</span><span class="w"> </span><span class="k">function</span><span class="p">()</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s1">'Circular '</span><span class="o">+</span><span class="n">_baseToString</span><span class="p">(</span><span class="n">that</span><span class="p">)</span><span class="o">+</span><span class="s1">' with radius '</span><span class="o">+</span><span class="n">r</span><span class="p">;</span>
<span class="w">    </span><span class="err">}</span><span class="p">;</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">that</span><span class="p">;</span>
<span class="err">}</span><span class="p">;</span>

<span class="n">var</span><span class="w"> </span><span class="n">mycircle</span><span class="o">=</span><span class="w"> </span><span class="n">Circle</span><span class="p">();</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">include</span><span class="w"> </span><span class="n n-Quoted">`new`</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">want</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">won</span><span class="s1">'t do anything</span>
</pre></div>

<p>Which way is “proper”? Both. Which is “best”? That depends on your situation.
FWIW I tend towards prototyping for real JavaScript inheritance when I'm doing
strongly OO stuff, and closures for simple throwaway page effects.</p>
<p>But both ways are quite counter-intuitive to most programmers. Both have many
potential messy variations. You will meet both (as well as many in-between and
generally broken schemes) if you use other people's code/libraries. There is
no one generally-accepted answer. Welcome to the wonderful world of JavaScript
objects.</p>
<p>[This has been part 94 of Why JavaScript Is Not My Favourite Programming
Language.]</p>
<p><br></p>
<h3>Suggest</h3>
<p>I use this pattern fairly frequently - I've found that it gives me a pretty
huge amount of flexibility when I need it. In use it's rather similar to Java-
style classes.</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">Foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">()</span>
<span class="p">{</span>

<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">privateStaticMethod</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{};</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">privateStaticVariable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">;</span>

<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">constructor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">Foo</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span><span class="w"> </span><span class="n">bar</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">var</span><span class="w"> </span><span class="n">privateMethod</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{};</span>
<span class="w">        </span><span class="n">this</span><span class="o">.</span><span class="n">publicMethod</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{};</span>
<span class="w">    </span><span class="p">};</span>

<span class="w">    </span><span class="n">constructor</span><span class="o">.</span><span class="n">publicStaticMethod</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{};</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">constructor</span><span class="p">;</span>
<span class="p">}();</span>
</pre></div>

<p>This uses an anonymous function that is called upon creation, returning a new
constructor function. Because the anonymous function is called only once, you
can create private static variables in it (they're inside the closure, visible
to the other members of the class). The constructor function is basically a
standard Javascript object - you define private attributes inside of it, and
public attributes are attached to the <code>this</code> variable.</p>
<p>Basically, this approach combines the Crockfordian approach with standard
Javascript objects to create a more powerful class.</p>
<p>You can use it just like you would any other Javascript object:</p>
<div class="code"><pre class="code literal-block"><span class="n">Foo</span><span class="o">.</span><span class="n">publicStaticMethod</span><span class="p">();</span><span class="w"> </span><span class="o">//</span><span class="n">calling</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">method</span>
<span class="k">var</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Foo</span><span class="p">();</span><span class="w">     </span><span class="o">//</span><span class="n">instantiation</span>
<span class="n">test</span><span class="o">.</span><span class="n">publicMethod</span><span class="p">();</span><span class="w">      </span><span class="o">//</span><span class="n">calling</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">method</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1696.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1694.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

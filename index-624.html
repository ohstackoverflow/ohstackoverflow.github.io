<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 624) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-624.html">
<link rel="prev" href="index-625.html" type="text/html">
<link rel="next" href="index-623.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/understanding-randomness/" class="u-url">Understanding "randomness"</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/understanding-randomness/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T11:38:45+08:00" itemprop="datePublished" title="2023-02-17 11:38">2023-02-17 11:38</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I can't get my head around this, which is more random?</p>
<div class="code"><pre class="code literal-block">rand()
</pre></div>

<p><strong>OR</strong> :</p>
<div class="code"><pre class="code literal-block">rand() * rand()
</pre></div>

<p>I´m finding it a real brain teaser, could you help me out?</p>
<hr>
<p><strong>EDIT:</strong></p>
<p>Intuitively I know that the mathematical answer will be that they are equally
random, but I can't help but think that if you "run the random number
algorithm" twice when you multiply the two together you'll create something
more random than just doing it once.</p>
<p><br><br></p>
<h2>Answer</h2>
<h2>Just a clarification</h2>
<p>Although the previous answers are right whenever you try to spot the
randomness of a pseudo-random variable or its multiplication, you should be
aware that while <strong>Random()</strong> is usually uniformly distributed, <strong>Random() *
Random()</strong> is not.</p>
<h3>Example</h3>
<p>This is a uniform random distribution sample simulated through a pseudo-random
variable:</p>
<p><img alt="Histogram of Random()" src="images/M6XTU.png"></p>
<div class="code"><pre class="code literal-block">        BarChart[BinCounts[RandomReal[{0, 1}, 50000], 0.01]]
</pre></div>

<p>While this is the distribution you get after multiplying two random variables:</p>
<p><img alt="Histogram of Random() * Random()" src="images/S3Oaa.png"></p>
<div class="code"><pre class="code literal-block">        BarChart[BinCounts[Table[RandomReal[{0, 1}, 50000] * 
                                 RandomReal[{0, 1}, 50000], {50000}], 0.01]]
</pre></div>

<p>So, both are “random”, but their distribution is very different.</p>
<h3>Another example</h3>
<p>While <strong>2 * Random()</strong> is uniformly distributed:</p>
<p><img alt="Histogram of 2 * Random()" src="images/XsFWW.png"></p>
<div class="code"><pre class="code literal-block">        BarChart[BinCounts[2 * RandomReal[{0, 1}, 50000], 0.01]]
</pre></div>

<p><strong>Random() + Random() is not!</strong></p>
<p><img alt="Histogram of Random() + Random()" src="images/OyqWF.png"></p>
<div class="code"><pre class="code literal-block">        BarChart[BinCounts[Table[RandomReal[{0, 1}, 50000] + 
                                 RandomReal[{0, 1}, 50000], {50000}], 0.01]]
</pre></div>

<h3>The Central Limit Theorem</h3>
<p><strong>The Central Limit Theorem states that the sum of <em>Random()</em> tends to a
normal distribution as terms increase.</strong></p>
<p>With just four terms you get:</p>
<p><img alt="Histogram of Random() + Random() + Random() +
Random()" src="images/VWnJE.png"></p>
<div class="code"><pre class="code literal-block">BarChart[BinCounts[Table[RandomReal[{0, 1}, 50000] + RandomReal[{0, 1}, 50000] +
                   Table[RandomReal[{0, 1}, 50000] + RandomReal[{0, 1}, 50000],
                   {50000}],
         0.01]]
</pre></div>

<p>And here you can see the road from a uniform to a normal distribution by
adding up 1, 2, 4, 6, 10 and 20 uniformly distributed random variables:</p>
<p><img alt="Histogram of different numbers of random variables added" src="images/Apmgz.png"></p>
<p><strong>Edit</strong></p>
<p>A few credits</p>
<p>Thanks to Thomas Ahle for pointing out in the comments that the probability
distributions shown in the last two images are known as the Irwin-Hall
distribution</p>
<p>Thanks to Heike for her wonderful torn[] function</p>
<p><br></p>
<h3>Suggest</h3>
<p>I guess both methods are as random although my gutfeel would say that <code>rand()
* rand()</code> is less random because it would seed more zeroes. As soon as one
<code>rand()</code> is <code>0</code>, the total becomes <code>0</code></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-update-upgrade-pip-itself-from-inside-my-virtual-environment/" class="u-url">How do I update/upgrade pip itself from inside my virtual environment?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-update-upgrade-pip-itself-from-inside-my-virtual-environment/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T11:38:13+08:00" itemprop="datePublished" title="2023-02-17 11:38">2023-02-17 11:38</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm able to update pip-managed packages, but how do I update pip itself?
According to <code>pip --version</code>, I currently have pip 1.1 installed in my
virtualenv and I want to update to the latest version.</p>
<p>What's the command for that? Do I need to use distribute or is there a native
pip or virtualenv command? I've already tried <code>pip update</code> and <code>pip update
pip</code> with no success.</p>
<p><br><br></p>
<h2>Answer</h2>
<p><code>pip</code> is just a PyPI package like any other; you could use it to upgrade
itself the same way you would upgrade any package:</p>
<div class="code"><pre class="code literal-block">pip install --upgrade pip
</pre></div>

<p>On Windows the recommended command is:</p>
<div class="code"><pre class="code literal-block">python -m pip install --upgrade pip
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>The more safe method is to run pip though a python module:</p>
<div class="code"><pre class="code literal-block">python -m pip install -U pip
</pre></div>

<p>On windows there seem to be a problem with binaries that try to replace
themselves, this method works around that limitation.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/using-boolean-values-in-c/" class="u-url">Using boolean values in C</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/using-boolean-values-in-c/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T11:37:44+08:00" itemprop="datePublished" title="2023-02-17 11:37">2023-02-17 11:37</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>C doesn't have any built-in boolean types. What's the best way to use them in
C?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>From best to worse:</p>
<p><strong>Option 1 (C99 and newer)</strong></p>
<div class="code"><pre class="code literal-block"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdbool.h&gt;</span>
</pre></div>

<p><strong>Option 2</strong></p>
<div class="code"><pre class="code literal-block"><span class="n">typedef</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="bp">false</span><span class="p">,</span><span class="w"> </span><span class="bp">true</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="nb nb-Type">bool</span><span class="p">;</span>
</pre></div>

<p><strong>Option 3</strong></p>
<div class="code"><pre class="code literal-block"><span class="n">typedef</span><span class="w"> </span><span class="nb nb-Type">int</span><span class="w"> </span><span class="nb nb-Type">bool</span><span class="p">;</span>
<span class="k">enum</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="bp">false</span><span class="p">,</span><span class="w"> </span><span class="bp">true</span><span class="w"> </span><span class="p">};</span>
</pre></div>

<p><strong>Option 4</strong></p>
<div class="code"><pre class="code literal-block">typedef int bool;
#define true 1
#define false 0
</pre></div>

<h2>Explanation</h2>
<ul>
<li>Option 1 will work only if you use C99 (or newer) and it's the "standard way" to do it. Choose this if possible.</li>
<li>Options 2, 3 and 4 will have in practice the same identical behavior. #2 and #3 don't use #defines though, which in my opinion is better.</li>
</ul>
<p>If you are undecided, go with #1!</p>
<p><br></p>
<h3>Suggest</h3>
<p>A few thoughts on booleans in C:</p>
<p>I'm old enough that I just use plain <code>int</code>s as my boolean type without any
typedefs or special defines or enums for true/false values. If you follow my
suggestion below on never comparing against boolean constants, then you only
need to use 0/1 to initialize the flags anyway. However, such an approach may
be deemed too reactionary in these modern times. In that case, one should
definitely use <code>&lt;stdbool.h&gt;</code> since it at least has the benefit of being
standardized.</p>
<p>Whatever the boolean constants are called, use them only for initialization.
Never ever write something like</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">ready</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">TRUE</span><span class="ss">)</span><span class="w"> </span>...
<span class="k">while</span><span class="w"> </span><span class="ss">(</span><span class="nv">empty</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">FALSE</span><span class="ss">)</span><span class="w"> </span>...
</pre></div>

<p>These can always be replaced by the clearer</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">ready</span><span class="ss">)</span><span class="w"> </span>...
<span class="k">while</span><span class="w"> </span><span class="ss">(</span><span class="o">!</span><span class="nv">empty</span><span class="ss">)</span><span class="w"> </span>...
</pre></div>

<p>Note that these can actually reasonably and understandably be read out loud.</p>
<p>Give your boolean variables positive names, ie <code>full</code> instead of <code>notfull</code>.
The latter leads to code that is difficult to read easily. Compare</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">full</span><span class="ss">)</span><span class="w"> </span>...
<span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="o">!</span><span class="nv">full</span><span class="ss">)</span><span class="w"> </span>...
</pre></div>

<p>with</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="o">!</span><span class="nv">notfull</span><span class="ss">)</span><span class="w"> </span>...
<span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="nv">notfull</span><span class="ss">)</span><span class="w"> </span>...
</pre></div>

<p>Both of the former pair read naturally, while <code>!notfull</code> is awkward to read
even as it is, and becomes much worse in more complex boolean expressions.</p>
<p>Boolean arguments should generally be avoided. Consider a function defined
like this</p>
<div class="code"><pre class="code literal-block">void foo(bool option) { ... }
</pre></div>

<p>Within the body of the function, it is very clear what the argument means
since it has a convenient, and hopefully meaningful, name. But, the call sites
look like</p>
<div class="code"><pre class="code literal-block">foo(TRUE);
foo(FALSE):
</pre></div>

<p>Here, it's essentially impossible to tell what the parameter meant without
always looking at the function definition or declaration, and it gets much
worse as soon if you add even more boolean parameters. I suggest either</p>
<div class="code"><pre class="code literal-block"><span class="n">typedef</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">OPT_ON</span><span class="p">,</span><span class="w"> </span><span class="n">OPT_OFF</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="n">foo_option</span><span class="p">;</span>
<span class="nb nb-Type">void</span><span class="w"> </span><span class="n">foo</span><span class="p">(</span><span class="n">foo_option</span><span class="w"> </span><span class="n">option</span><span class="p">);</span>
</pre></div>

<p>or</p>
<div class="code"><pre class="code literal-block">#define OPT_ON true
#define OPT_OFF false
void foo(bool option) { ... }
</pre></div>

<p>In either case, the call site now looks like</p>
<div class="code"><pre class="code literal-block">foo(OPT_ON);
foo(OPT_OFF);
</pre></div>

<p>which the reader has at least a chance of understanding without dredging up
the definition of <code>foo</code>.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-625.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-623.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2098) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2098.html">
<link rel="prev" href="index-2099.html" type="text/html">
<link rel="next" href="index-2097.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-remove-the-hash-from-window-location-url-with-javascript-without-page-refresh/" class="u-url">How to remove the hash from window.location (URL) with JavaScript without page refresh?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-remove-the-hash-from-window-location-url-with-javascript-without-page-refresh/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T16:52:23+08:00" itemprop="datePublished" title="2023-03-03 16:52">2023-03-03 16:52</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have URL like: <code>http://example.com#something</code>, how do I remove <code>#something</code>,
without causing the page to refresh?</p>
<p>I attempted the following solution:</p>
<div class="code"><pre class="code literal-block">window.location.hash = '';
</pre></div>

<p><strong>However, this doesn't remove the hash symbol<code>#</code> from the URL.</strong></p>
<p><br><br></p>
<h2>Answer</h2>
<p><strong>Initial question:</strong></p>
<div class="code"><pre class="code literal-block">window.location.href.substr(0, window.location.href.indexOf('#'))
</pre></div>

<p>or</p>
<div class="code"><pre class="code literal-block">window.location.href.split('#')[0]
</pre></div>

<p>both will return the URL without the hash or anything after it.</p>
<p><strong>With regards to your edit:</strong></p>
<p>Any change to <code>window.location</code> will trigger a page refresh. You can change
<code>window.location.hash</code> without triggering the refresh (though the window will
jump if your hash matches an id on the page), but you can't get rid of the
hash sign. Take your pick for which is worse...</p>
<p><strong>MOST UP-TO-DATE ANSWER</strong></p>
<p>The right answer on how to do it without sacrificing (either full reload or
leaving the hash sign there) is up here. Leaving this answer here though with
respect to being the original one in 2009 whereas the correct one which
leverages new browser APIs was given 1.5 years later.</p>
<p><br></p>
<h3>Suggest</h3>
<p><strong>Initial question:</strong></p>
<div class="code"><pre class="code literal-block">window.location.href.substr(0, window.location.href.indexOf('#'))
</pre></div>

<p>or</p>
<div class="code"><pre class="code literal-block">window.location.href.split('#')[0]
</pre></div>

<p>both will return the URL without the hash or anything after it.</p>
<p><strong>With regards to your edit:</strong></p>
<p>Any change to <code>window.location</code> will trigger a page refresh. You can change
<code>window.location.hash</code> without triggering the refresh (though the window will
jump if your hash matches an id on the page), but you can't get rid of the
hash sign. Take your pick for which is worse...</p>
<p><strong>MOST UP-TO-DATE ANSWER</strong></p>
<p>The right answer on how to do it without sacrificing (either full reload or
leaving the hash sign there) is up here. Leaving this answer here though with
respect to being the original one in 2009 whereas the correct one which
leverages new browser APIs was given 1.5 years later.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-disable-right-click-on-my-web-page/" class="u-url">How do I disable right click on my web page?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-disable-right-click-on-my-web-page/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T16:51:56+08:00" itemprop="datePublished" title="2023-03-03 16:51">2023-03-03 16:51</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Can I disable right click on my web page without using JavaScript? I ask this
because most browsers allow user to disable JavaScript.</p>
<p>If not, how do I use JavaScript to disable right click?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can do that with JavaScript by adding an event listener for the
"contextmenu" event and calling the <code>preventDefault()</code> method:</p>
<div class="code"><pre class="code literal-block">document.addEventListener('contextmenu', event =&gt; event.preventDefault());
</pre></div>

<p>That being said: <strong>DON'T DO IT.</strong></p>
<p>Why? Because it achieves nothing other than annoying users. Also many browsers
have a security option to disallow disabling of the right click (context) menu
anyway.</p>
<p>Not sure why you'd want to. If it's out of some misplaced belief that you can
protect your source code or images that way, think again: you can't.</p>
<p><br></p>
<h3>Suggest</h3>
<p><strong>DON'T</strong></p>
<p>Just, don't.</p>
<p>No matter what you do, you can't prevent users from having full access to
every bit of data on your website. Any Javascript you code can be rendered
moot by simply turning off Javascript on the browser (or using a plugin like
NoScript). Additionally, there's no way to disable the ability of any user to
simply "view source" or "view page info" (or use wget) for your site.</p>
<p>It's not worth the effort. It won't actually work. It will make your site
actively hostile to users. They will notice this and stop visiting. There is
no benefit to doing this, only wasted effort and lost traffic.</p>
<p>Don't.</p>
<p><strong>Update:</strong> It seems this little topic has proven quite controversial over
time. Even so, I stand by this answer to this question. Sometimes the correct
answer is advice instead of a literal response.</p>
<p>People who stumble on this question in hopes of finding out how to create
<em>custom</em> context menus should look elsewhere, such as these questions:</p>
<ul>
<li>Making custom right-click context menus for my web-app, which relies on jQuery</li>
<li>How to add a custom right-click menu to a webpage, which uses pure javascript/html</li>
</ul>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/uitableview-scroll-to-the-top/" class="u-url">UITableView - scroll to the top</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/uitableview-scroll-to-the-top/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T16:51:29+08:00" itemprop="datePublished" title="2023-03-03 16:51">2023-03-03 16:51</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>In my table view I have to scroll to the top. But I cannot guarantee that the
first object is going to be section 0, row 0. May be that my table view will
start from section number 5.</p>
<p>So I get an exception, when I call:</p>
<div class="code"><pre class="code literal-block"><span class="p">[</span><span class="n">mainTableView</span><span class="w"> </span><span class="n">scrollToRowAtIndexPath</span><span class="o">:</span><span class="p">[</span><span class="bp">NSIndexPath</span><span class="w"> </span><span class="n">indexPathForRow</span><span class="o">:</span><span class="mi">0</span><span class="w"> </span><span class="n">inSection</span><span class="o">:</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="n">atScrollPosition</span><span class="o">:</span><span class="n">UITableViewScrollPositionTop</span><span class="w"> </span><span class="n">animated</span><span class="o">:</span><span class="nb">NO</span><span class="p">];</span>
</pre></div>

<p>Is there another way to scroll to the top of table view?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>UITableView is a subclass of UIScrollView, so you can also use:</p>
<div class="code"><pre class="code literal-block"><span class="p">[</span><span class="n">mainTableView</span><span class="w"> </span><span class="n">scrollRectToVisible</span><span class="o">:</span><span class="n">CGRectMake</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="n">animated</span><span class="o">:</span><span class="nb">YES</span><span class="p">];</span>
</pre></div>

<p>Or</p>
<div class="code"><pre class="code literal-block"><span class="p">[</span><span class="n">mainTableView</span><span class="w"> </span><span class="n">setContentOffset</span><span class="o">:</span><span class="n">CGPointZero</span><span class="w"> </span><span class="n">animated</span><span class="o">:</span><span class="nb">YES</span><span class="p">];</span>
</pre></div>

<p>And in Swift:</p>
<div class="code"><pre class="code literal-block">mainTableView.setContentOffset(CGPointZero, animated:true)
</pre></div>

<p>And in Swift 3 &amp; above:</p>
<div class="code"><pre class="code literal-block">mainTableView.setContentOffset(.zero, animated: true)
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p><strong>Note</strong> : This answer isn't valid for iOS 11 and later.</p>
<p>I prefer</p>
<div class="code"><pre class="code literal-block"><span class="p">[</span><span class="n">mainTableView</span><span class="w"> </span><span class="n">setContentOffset</span><span class="o">:</span><span class="n">CGPointZero</span><span class="w"> </span><span class="n">animated</span><span class="o">:</span><span class="nb">YES</span><span class="p">];</span>
</pre></div>

<p>If you have a top inset on your table view, you have to subtract it:</p>
<div class="code"><pre class="code literal-block"><span class="p">[</span><span class="n">mainTableView</span><span class="w"> </span><span class="n">setContentOffset</span><span class="o">:</span><span class="n">CGPointMake</span><span class="p">(</span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="n">mainTableView</span><span class="p">.</span><span class="n">contentInset</span><span class="p">.</span><span class="n">top</span><span class="p">)</span><span class="w"> </span><span class="n">animated</span><span class="o">:</span><span class="nb">YES</span><span class="p">];</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2099.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2097.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

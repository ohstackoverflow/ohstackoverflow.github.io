<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 587) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-587.html">
<link rel="prev" href="index-588.html" type="text/html">
<link rel="next" href="index-586.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-define-a-two-dimensional-array/" class="u-url">How to define a two-dimensional array?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-define-a-two-dimensional-array/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T10:41:26+08:00" itemprop="datePublished" title="2023-02-17 10:41">2023-02-17 10:41</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I want to define a two-dimensional array without an initialized length like
this:</p>
<div class="code"><pre class="code literal-block">Matrix = [][]
</pre></div>

<p>But this gives an error:</p>
<blockquote>
<p>IndexError: list index out of range</p>
</blockquote>
<p><br><br></p>
<h2>Answer</h2>
<p>You're technically trying to index an uninitialized array. You have to first
initialize the outer list with lists before adding items; Python calls this
"list comprehension".</p>
<div class="code"><pre class="code literal-block">#<span class="w"> </span><span class="nv">Creates</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">list</span><span class="w"> </span><span class="nv">containing</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="nv">lists</span>,<span class="w"> </span><span class="nv">each</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="nv">items</span>,<span class="w"> </span><span class="nv">all</span><span class="w"> </span><span class="nv">set</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="mi">0</span>
<span class="nv">w</span>,<span class="w"> </span><span class="nv">h</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span>,<span class="w"> </span><span class="mi">5</span>
<span class="nv">Matrix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>[[<span class="mi">0</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">range</span><span class="ss">(</span><span class="nv">w</span><span class="ss">)</span>]<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">y</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="nv">range</span><span class="ss">(</span><span class="nv">h</span><span class="ss">)</span>]
</pre></div>

<h2>You can now add items to the list:</h2>
<div class="code"><pre class="code literal-block">Matrix[0][0] = 1
Matrix[6][0] = 3 # error! range... 
Matrix[0][6] = 3 # valid
</pre></div>

<p>Note that the matrix is "y" address major, in other words, the "y index" comes
before the "x index".</p>
<div class="code"><pre class="code literal-block"><span class="k">print</span><span class="w"> </span><span class="n">Matrix</span><span class="o">[</span><span class="n">0</span><span class="o">][</span><span class="n">0</span><span class="o">]</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">prints</span><span class="w"> </span><span class="mi">1</span>
<span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span>
<span class="k">print</span><span class="w"> </span><span class="n">Matrix</span><span class="o">[</span><span class="n">x</span><span class="o">][</span><span class="n">y</span><span class="o">]</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">prints</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">careful</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">indexing</span><span class="err">!</span>
</pre></div>

<p>Although you can name them as you wish, I look at it this way to avoid some
confusion that could arise with the indexing, if you use "x" for both the
inner and outer lists, and want a non-square Matrix.</p>
<p><br></p>
<h3>Suggest</h3>
<p>If you really want a matrix, you might be better off using <code>numpy</code>. Matrix
operations in <code>numpy</code> most often use an array type with two dimensions. There
are many ways to create a new array; one of the most useful is the <code>zeros</code>
function, which takes a shape parameter and returns an array of the given
shape, with the values initialized to zero:</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">numpy</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">numpy</span><span class="o">.</span><span class="kp">zeros</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="kp">array</span><span class="p">([[</span> <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">,</span>  <span class="mf">0.</span><span class="p">]])</span>
</pre></div>

<p>Here are some other ways to create 2-d arrays and matrices (with output
removed for compactness):</p>
<div class="code"><pre class="code literal-block">numpy.arange(25).reshape((5, 5))         # create a 1-d range and reshape
numpy.array(range(25)).reshape((5, 5))   # pass a Python range and reshape
numpy.array([5] * 25).reshape((5, 5))    # pass a Python list and reshape
numpy.empty((5, 5))                      # allocate, but don't initialize
numpy.ones((5, 5))                       # initialize with ones
</pre></div>

<p><code>numpy</code> provides a <code>matrix</code> type as well, but it is no longer recommended for
<em>any</em> use, and may be removed from <code>numpy</code> in the future.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/the-located-assembly-s-manifest-definition-does-not-match-the-assembly-reference/" class="u-url">The located assembly's manifest definition does not match the assembly reference</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/the-located-assembly-s-manifest-definition-does-not-match-the-assembly-reference/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T10:40:55+08:00" itemprop="datePublished" title="2023-02-17 10:40">2023-02-17 10:40</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I am trying to run some unit tests in a C# Windows Forms application (Visual
Studio 2005), and I get the following error:</p>
<blockquote>
<p>System.IO.FileLoadException: Could not load file or assembly 'Utility,
Version=1.2.0.200, Culture=neutral, PublicKeyToken=764d581291d764f7' or one
of its dependencies. The located assembly's manifest definition does not
match the assembly reference. (Exception from HRESULT: 0x80131040)**</p>
<p>at x.Foo.FooGO()</p>
<p>at x.Foo.Foo2(String groupName_) in Foo.cs:line 123</p>
<p>at x.Foo.UnitTests.FooTests.TestFoo() in FooTests.cs:line 98**</p>
<p>System.IO.FileLoadException: Could not load file or assembly 'Utility,
Version=1.2.0.203, Culture=neutral, PublicKeyToken=764d581291d764f7' or one
of its dependencies. The located assembly's manifest definition does not
match the assembly reference. (Exception from HRESULT: 0x80131040)</p>
</blockquote>
<p>I look in my references, and I only have a reference to <code>Utility version
1.2.0.203</code> (the other one is old).</p>
<p>Any suggestions on how I figure out what is trying to reference this old
version of this DLL file?</p>
<p>Besides, I don't think I even have this old assembly on my hard drive. Is
there any tool to search for this old versioned assembly?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The .NET Assembly loader:</p>
<ul>
<li>is unable to find 1.2.0.203</li>
<li>but did find a 1.2.0.200</li>
</ul>
<p>This assembly does not match what was requested and therefore you get this
error.</p>
<p>In simple words, it can't find the assembly that was referenced. Make sure it
can find the right assembly by putting it in the GAC or in the application
path.</p>
<p>run below command to add the assembly dll file to GAC:</p>
<div class="code"><pre class="code literal-block">gacutil /i "path/to/my.dll"
</pre></div>

<p>Also see https://learn.microsoft.com/archive/blogs/junfeng/the-located-
assemblys-manifest-definition-with-name-xxx-dll-does-not-match-the-assembly-
reference.</p>
<p><br></p>
<h3>Suggest</h3>
<p>You can do a couple of things to troubleshoot this issue. First, use Windows
file search to search your hard drive for your assembly (.dll). Once you have
a list of results, do View-&gt;Choose Details... and then check "File Version".
This will display the version number in the list of results, so you can see
where the old version might be coming from.</p>
<p>Also, like Lars said, check your GAC to see what version is listed there. This
Microsoft article states that assemblies found in the GAC are not copied
locally during a build, so you might need to remove the old version before
doing a rebuild all. (See my answer to this question for notes on creating a
batch file to do this for you)</p>
<p>If you still can't figure out where the old version is coming from, you can
use the fuslogvw.exe application that ships with Visual Studio to get more
information about the binding failures. Microsoft has information about this
tool here. Note that you'll have to enable logging by setting the
<code>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Fusion\EnableLog</code> registry key to 1.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-un-commit-last-un-pushed-git-commit-without-losing-the-changes/" class="u-url">How to un-commit last un-pushed git commit without losing the changes</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-un-commit-last-un-pushed-git-commit-without-losing-the-changes/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T10:40:27+08:00" itemprop="datePublished" title="2023-02-17 10:40">2023-02-17 10:40</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is there a way to revert a commit so that my local copy <em>keeps</em> the changes
made in that commit, but they become non-committed changes in my working copy?
Rolling back a commit takes you to the previous commit - I want to keep the
changes made but I committed them to the wrong branch.</p>
<p>This has not been pushed, only committed.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>There are a lot of ways to do so, for example:</p>
<p>in case you have <strong><em>not</em></strong> pushed the commit publicly yet:</p>
<div class="code"><pre class="code literal-block">git reset HEAD~1 --soft
</pre></div>

<p>That's it, your commit changes will be in your working directory, whereas the
LAST commit will be removed from your current branch. See git reset man</p>
<hr>
<p>In case you <em>did</em> push publicly (on a branch called 'master'):</p>
<div class="code"><pre class="code literal-block">git checkout -b MyCommit //save your commit in a separate branch just in case (so you don't have to dig it from reflog in case you screw up :) )
</pre></div>

<p>revert commit normally and push</p>
<div class="code"><pre class="code literal-block">git checkout master
git revert a8172f36 #hash of the commit you want to destroy
# this introduces a new commit (say, it's hash is 86b48ba) which removes changes, introduced in the commit in question (but those changes are still visible in the history)
git push origin master
</pre></div>

<p>now if you want to have those changes as you local changes in your working
copy ("so that your local copy keeps the changes made in that commit") - just
revert the revert commit with <code>--no-commit</code> option:</p>
<div class="code"><pre class="code literal-block">git revert --no-commit 86b48ba (hash of the revert commit).
</pre></div>

<p>I've crafted a small example: https://github.com/Isantipov/git-
revert/commits/master</p>
<p><br></p>
<h3>Suggest</h3>
<p>The easiest way to undo the last Git commit is to execute the <code>git reset</code>
command with one of the below options</p>
<ul>
<li>soft</li>
<li>hard</li>
<li>mixed</li>
</ul>
<p>Let's assume you have added two commits and you want to undo the last commit</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>git<span class="w"> </span>log<span class="w"> </span>--oneline

45e6e13<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master<span class="o">)</span><span class="w"> </span>Second<span class="w"> </span>commit
eb14168<span class="w"> </span>Initial<span class="w"> </span>commit
</pre></div>

<p><code>–soft</code> option undo the last commit and preserve changes done to your files</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>git<span class="w"> </span>reset<span class="w"> </span>--soft<span class="w"> </span>HEAD~1


$<span class="w"> </span>git<span class="w"> </span>status

On<span class="w"> </span>branch<span class="w"> </span>master
Changes<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>committed:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">"git restore --staged &lt;file&gt;..."</span><span class="w"> </span>to<span class="w"> </span>unstage<span class="o">)</span>
<span class="w">    </span>modified:<span class="w">   </span>file.html


$<span class="w"> </span>git<span class="w"> </span>log<span class="w"> </span>--oneline

eb14168<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master<span class="o">)</span><span class="w"> </span>Initial<span class="w"> </span>commit
</pre></div>

<p><code>–hard</code> option undo the last commit and discard all changes in the working
directory and index</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>git<span class="w"> </span>reset<span class="w"> </span>--hard<span class="w"> </span>HEAD~1


$<span class="w"> </span>git<span class="w"> </span>status

nothing<span class="w"> </span>to<span class="w"> </span>commit,<span class="w"> </span>working<span class="w"> </span>tree<span class="w"> </span>clean


$<span class="w"> </span>git<span class="w"> </span>log<span class="w"> </span>--oneline

eb14168<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master<span class="o">)</span><span class="w"> </span>Initial<span class="w"> </span>commit
</pre></div>

<p><code>--mixed</code> option undo the last commit and keep changes in the working
directory but NOT in the index</p>
<div class="code"><pre class="code literal-block">$<span class="w"> </span>git<span class="w"> </span>reset<span class="w"> </span>--mixed<span class="w"> </span>HEAD~1


$<span class="w"> </span>git<span class="w"> </span>status

On<span class="w"> </span>branch<span class="w"> </span>master
Changes<span class="w"> </span>not<span class="w"> </span>staged<span class="w"> </span><span class="k">for</span><span class="w"> </span>commit:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">"git add &lt;file&gt;..."</span><span class="w"> </span>to<span class="w"> </span>update<span class="w"> </span>what<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>committed<span class="o">)</span>
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">"git restore &lt;file&gt;..."</span><span class="w"> </span>to<span class="w"> </span>discard<span class="w"> </span>changes<span class="w"> </span><span class="k">in</span><span class="w"> </span>working<span class="w"> </span>directory<span class="o">)</span>
<span class="w">    </span>modified:<span class="w">   </span>file.html

no<span class="w"> </span>changes<span class="w"> </span>added<span class="w"> </span>to<span class="w"> </span>commit<span class="w"> </span><span class="o">(</span>use<span class="w"> </span><span class="s2">"git add"</span><span class="w"> </span>and/or<span class="w"> </span><span class="s2">"git commit -a"</span><span class="o">)</span>


$<span class="w"> </span>git<span class="w"> </span>log<span class="w"> </span>--oneline

eb14168<span class="w"> </span><span class="o">(</span>HEAD<span class="w"> </span>-&gt;<span class="w"> </span>master<span class="o">)</span><span class="w"> </span>Initial<span class="w"> </span>commit
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-588.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-586.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

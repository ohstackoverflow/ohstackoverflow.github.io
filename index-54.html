<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 54) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-54.html">
<link rel="prev" href="index-55.html" type="text/html">
<link rel="next" href="index-53.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/git-is-not-working-after-macos-update-xcrun-error-invalid-active-developer-path-library-developer-commandlinetools/" class="u-url">Git is not working after macOS Update (xcrun: error: invalid active developer path (/Library/Developer/CommandLineTools)</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/git-is-not-working-after-macos-update-xcrun-error-invalid-active-developer-path-library-developer-commandlinetools/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T19:48:06+08:00" itemprop="datePublished" title="2023-02-16 19:48">2023-02-16 19:48</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I updated to the latest OS, and/or restarted my computer (this happens on
every major update, but this time all I did was restart my computer on
2022-09-13)</p>
<p>This morning I navigated to my work's codebase in the Command Line on my
MacBook pro, typed in "git status" in the repository and received an error:</p>
<p>(IN 9/2022, this error was much different, but I didn't capture it)</p>
<blockquote>
<p>xcrun: error: invalid active developer path
(/Library/Developer/CommandLineTools), missing xcrun at:
/Library/Developer/CommandLineTools/usr/bin/xcrun</p>
</blockquote>
<p>git will not work!</p>
<p>How do I fix git, and command line tools?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The problem is that Xcode Command-line Tools needs to be updated.</p>
<p><strong> UPDATED for Ventura and updated apple dev download page </strong></p>
<p>After opening the terminal after a restart, I tried to go to my code, and do a
git status, and I got an error and prompt for command line software agreement.</p>
<p>So press space until you get to the <code>[agree, print, cancel]</code> option, so
careful hit space to scroll down to the end, if you blow past It you have to
run a command to get it back. Use <code>sudo xcodebuild -license</code> to get to it
again.</p>
<p>Just be careful on scrolling down and enter <code>agree</code> and press return and it
will launch into an update.</p>
<p><img alt="Xcode software license" src="images/Jm3iY.png"></p>
<p>Then I tried to use git after the install, and it prompted me to install Xcode
tools again.</p>
<p>I followed my own advice from previous years (see below), and went to
https://developer.apple.com/download/all/?q=Command%20Line%20Tools and
downloaded "Command Line Tools for Xcode 14" (You have to log in with your
Apple ID, so have that login readily available.</p>
<p><img alt='developer download page selection for "Command Line Tools for Xcode
14"' src="images/YS2KU.png"></p>
<p><strong>You have to either download the tools from CLI or the developer page and
before you can use git, you need to reboot!!! SUPER IMPORTANT, you can get
stuck in a loop of downloading</strong></p>
<p>Rebooting will break the loop and complete the installation of your CLI tools
<em>including</em> git so that you can get back to work</p>
<p>Solutions for previous years, these may or may not be valid these days as the
downloads page has changed significantly:</p>
<p>PREVIOUS YEARS SOLUTIONS, probably #2 is most helpful.</p>
<p><strong> Solution #1 </strong></p>
<p>Go back to your terminal and enter:</p>
<div class="code"><pre class="code literal-block">xcode-select --install
</pre></div>

<p>You'll then receive the following output:</p>
<div class="code"><pre class="code literal-block"><span class="n">xcode</span><span class="o">-</span><span class="n">select</span><span class="p">:</span><span class="w"> </span><span class="n">note</span><span class="p">:</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">requested</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">developer</span><span class="w"> </span><span class="n">tools</span>
</pre></div>

<p>You will then be prompted in a window to update Xcode Command Line tools.
(which may take a while)</p>
<p>Open a new terminal window and your development tools should be returned.</p>
<p><strong>Addition:</strong> With any major or semi-major update you'll need to update the
command line tools in order to get them functioning properly again. Check
Xcode with any update. This goes beyond Mojave...</p>
<p><strong>After that restart your terminal</strong></p>
<p>Alternatively, <strong>IF that fails,</strong> and it very well might.... you'll get a pop-
up box saying "Software not found on server", see below!</p>
<p><strong>Solution #2</strong></p>
<p>and you hit <code>xcode-select --install</code> and it doesn't find the software, log
into Apple Developer, and install it via webpage.</p>
<p>Log in or sign up here:</p>
<p>https://developer.apple.com/download/more/</p>
<p>Look for: <strong>"Command Line Tools for Xcode 14.x"</strong> in the list of downloads
Then click the dmg and download.</p>
<p><img alt="image of apple developer page and dmg for DL" src="images/WwAlF.png"></p>
<p><br></p>
<h3>Suggest</h3>
<p>I got some errors that the software was unavailable from the update server
when trying</p>
<div class="code"><pre class="code literal-block">xcode-select --install
</pre></div>

<p>What fixed it for me was going here https://developer.apple.com/download/more/
and downloading <code>Command Line Tools (macOS 10.14) for Xcode 10</code> and then
installing it manually.</p>
<p>After that, the errors should be gone when you open up a new terminal.</p>
<hr>
<p><strong>Update for macOS Ventura 13.0.1 (Nov 2022)</strong></p>
<p>Install Command Line Tools for Xcode 14.1</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-iterate-over-the-words-of-a-string/" class="u-url">How do I iterate over the words of a string?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-iterate-over-the-words-of-a-string/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T19:46:51+08:00" itemprop="datePublished" title="2023-02-16 19:46">2023-02-16 19:46</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How do I iterate over the words of a string composed of words separated by
whitespace?</p>
<p>Note that I'm not interested in C string functions or that kind of character
manipulation/access. I prefer elegance over efficiency. My current solution:</p>
<div class="code"><pre class="code literal-block"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sstream&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;string&gt;</span>

<span class="n">using</span><span class="w"> </span><span class="n">namespace</span><span class="w"> </span><span class="nn">std</span><span class="p">;</span>

<span class="kr">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kr">string</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"Somewhere down the road"</span><span class="p">;</span>
<span class="w">    </span><span class="n">istringstream</span><span class="w"> </span><span class="n">iss</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>

<span class="w">    </span><span class="k">do</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kr">string</span><span class="w"> </span><span class="n">subs</span><span class="p">;</span>
<span class="w">        </span><span class="n">iss</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">subs</span><span class="p">;</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"Substring: "</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">subs</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">iss</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>For what it's worth, here's another way to extract tokens from an input
string, relying only on standard library facilities. It's an example of the
power and elegance behind the design of the STL.</p>
<div class="code"><pre class="code literal-block"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;string&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sstream&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;algorithm&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iterator&gt;</span>

<span class="kr">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">using</span><span class="w"> </span><span class="n">namespace</span><span class="w"> </span><span class="nn">std</span><span class="p">;</span>
<span class="w">    </span><span class="kr">string</span><span class="w"> </span><span class="n">sentence</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"And I feel fine..."</span><span class="p">;</span>
<span class="w">    </span><span class="n">istringstream</span><span class="w"> </span><span class="nf">iss</span><span class="p">(</span><span class="n">sentence</span><span class="p">);</span>
<span class="w">    </span><span class="n">copy</span><span class="p">(</span><span class="n">istream_iterator</span><span class="o">&lt;</span><span class="kr">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">iss</span><span class="p">),</span>
<span class="w">         </span><span class="n">istream_iterator</span><span class="o">&lt;</span><span class="kr">string</span><span class="o">&gt;</span><span class="p">(),</span>
<span class="w">         </span><span class="n">ostream_iterator</span><span class="o">&lt;</span><span class="kr">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">cout</span><span class="p">,</span><span class="w"> </span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>

<p>Instead of copying the extracted tokens to an output stream, one could insert
them into a container, using the same generic <code>copy</code> algorithm.</p>
<div class="code"><pre class="code literal-block">vector&lt;string&gt; tokens;
copy(istream_iterator&lt;string&gt;(iss),
     istream_iterator&lt;string&gt;(),
     back_inserter(tokens));
</pre></div>

<p>... or create the <code>vector</code> directly:</p>
<div class="code"><pre class="code literal-block">vector&lt;string&gt; tokens{istream_iterator&lt;string&gt;{iss},
                      istream_iterator&lt;string&gt;{}};
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>For what it's worth, here's another way to extract tokens from an input
string, relying only on standard library facilities. It's an example of the
power and elegance behind the design of the STL.</p>
<div class="code"><pre class="code literal-block"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;string&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sstream&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;algorithm&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iterator&gt;</span>

<span class="kr">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">using</span><span class="w"> </span><span class="n">namespace</span><span class="w"> </span><span class="nn">std</span><span class="p">;</span>
<span class="w">    </span><span class="kr">string</span><span class="w"> </span><span class="n">sentence</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"And I feel fine..."</span><span class="p">;</span>
<span class="w">    </span><span class="n">istringstream</span><span class="w"> </span><span class="nf">iss</span><span class="p">(</span><span class="n">sentence</span><span class="p">);</span>
<span class="w">    </span><span class="n">copy</span><span class="p">(</span><span class="n">istream_iterator</span><span class="o">&lt;</span><span class="kr">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">iss</span><span class="p">),</span>
<span class="w">         </span><span class="n">istream_iterator</span><span class="o">&lt;</span><span class="kr">string</span><span class="o">&gt;</span><span class="p">(),</span>
<span class="w">         </span><span class="n">ostream_iterator</span><span class="o">&lt;</span><span class="kr">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">cout</span><span class="p">,</span><span class="w"> </span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>

<p>Instead of copying the extracted tokens to an output stream, one could insert
them into a container, using the same generic <code>copy</code> algorithm.</p>
<div class="code"><pre class="code literal-block">vector&lt;string&gt; tokens;
copy(istream_iterator&lt;string&gt;(iss),
     istream_iterator&lt;string&gt;(),
     back_inserter(tokens));
</pre></div>

<p>... or create the <code>vector</code> directly:</p>
<div class="code"><pre class="code literal-block">vector&lt;string&gt; tokens{istream_iterator&lt;string&gt;{iss},
                      istream_iterator&lt;string&gt;{}};
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-change-an-element-s-class-with-javascript/" class="u-url">How can I change an element's class with JavaScript?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-change-an-element-s-class-with-javascript/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-16T19:46:17+08:00" itemprop="datePublished" title="2023-02-16 19:46">2023-02-16 19:46</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How can I change the class of an HTML element in response to an <code>onclick</code> or
any other events using JavaScript?</p>
<p><br><br></p>
<h2>Answer</h2>
<h3>Modern HTML5 Techniques for changing classes</h3>
<p>Modern browsers have added <strong>classList</strong> which provides methods to make it
easier to manipulate classes without needing a library:</p>
<div class="code"><pre class="code literal-block"><span class="nv">document</span>.<span class="nv">getElementById</span><span class="ss">(</span><span class="s2">"MyElement"</span><span class="ss">)</span>.<span class="nv">classList</span>.<span class="nv">add</span><span class="ss">(</span><span class="s1">'MyClass'</span><span class="ss">)</span><span class="c1">;</span>

<span class="nv">document</span>.<span class="nv">getElementById</span><span class="ss">(</span><span class="s2">"MyElement"</span><span class="ss">)</span>.<span class="nv">classList</span>.<span class="nv">remove</span><span class="ss">(</span><span class="s1">'MyClass'</span><span class="ss">)</span><span class="c1">;</span>

<span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="w"> </span><span class="nv">document</span>.<span class="nv">getElementById</span><span class="ss">(</span><span class="s2">"MyElement"</span><span class="ss">)</span>.<span class="nv">classList</span>.<span class="nv">contains</span><span class="ss">(</span><span class="s1">'MyClass'</span><span class="ss">)</span><span class="w"> </span><span class="ss">)</span>

<span class="nv">document</span>.<span class="nv">getElementById</span><span class="ss">(</span><span class="s2">"MyElement"</span><span class="ss">)</span>.<span class="nv">classList</span>.<span class="nv">toggle</span><span class="ss">(</span><span class="s1">'MyClass'</span><span class="ss">)</span><span class="c1">;</span>
</pre></div>

<p>Unfortunately, these do not work in Internet Explorer prior to v10, though
there is a shim to add support for it to IE8 and IE9, available from this
page. It is, though, getting more and more supported.</p>
<h3>Simple cross-browser solution</h3>
<p>The standard JavaScript way to select an element is using
<code>document.getElementById("Id")</code>, which is what the following examples use -
you can of course obtain elements in other ways, and in the right situation
may simply use <code>this</code> instead - however, going into detail on this is beyond
the scope of the answer.</p>
<h4>To change all classes for an element:</h4>
<p>To replace all existing classes with one or more new classes, set the
className attribute:</p>
<div class="code"><pre class="code literal-block">document.getElementById("MyElement").className = "MyClass";
</pre></div>

<p>(You can use a space-delimited list to apply multiple classes.)</p>
<h4>To add an additional class to an element:</h4>
<p>To add a class to an element, without removing/affecting existing values,
append a space and the new classname, like so:</p>
<div class="code"><pre class="code literal-block">document.getElementById("MyElement").className += " MyClass";
</pre></div>

<h4>To remove a class from an element:</h4>
<p>To remove a single class to an element, without affecting other potential
classes, a simple regex replace is required:</p>
<div class="code"><pre class="code literal-block"><span class="nv">document</span>.<span class="nv">getElementById</span><span class="ss">(</span><span class="s2">"MyElement"</span><span class="ss">)</span>.<span class="nv">className</span><span class="w"> </span><span class="o">=</span>
<span class="w">   </span><span class="nv">document</span>.<span class="nv">getElementById</span><span class="ss">(</span><span class="s2">"MyElement"</span><span class="ss">)</span>.<span class="nv">className</span>.<span class="nv">replace</span>
<span class="w">      </span><span class="ss">(</span><span class="w"> </span><span class="o">/</span><span class="ss">(</span>?:<span class="o">^|</span>\<span class="nv">s</span><span class="ss">)</span><span class="nv">MyClass</span><span class="ss">(</span>?<span class="o">!</span>\<span class="nv">S</span><span class="ss">)</span><span class="o">/</span><span class="nv">g</span><span class="w"> </span>,<span class="w"> </span><span class="s1">''</span><span class="w"> </span><span class="ss">)</span>
<span class="cm">/* Code wrapped for readability - above is all one statement */</span>
</pre></div>

<p>An explanation of this regex is as follows:</p>
<div class="code"><pre class="code literal-block"><span class="ss">(</span>?:<span class="o">^|</span>\<span class="nv">s</span><span class="ss">)</span><span class="w"> </span>#<span class="w"> </span><span class="nv">Match</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">start</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">string</span><span class="w"> </span><span class="nv">or</span><span class="w"> </span><span class="nv">any</span><span class="w"> </span><span class="nv">single</span><span class="w"> </span><span class="nv">whitespace</span><span class="w"> </span><span class="nv">character</span>

<span class="nv">MyClass</span><span class="w">  </span>#<span class="w"> </span><span class="nv">The</span><span class="w"> </span><span class="nv">literal</span><span class="w"> </span><span class="nv">text</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">classname</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">remove</span>

<span class="ss">(</span>?<span class="o">!</span>\<span class="nv">S</span><span class="ss">)</span><span class="w">   </span>#<span class="w"> </span><span class="nv">Negative</span><span class="w"> </span><span class="nv">lookahead</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">verify</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">above</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">whole</span><span class="w"> </span><span class="nv">classname</span>
<span class="w">         </span>#<span class="w"> </span><span class="nv">Ensures</span><span class="w"> </span><span class="nv">there</span><span class="w"> </span><span class="nv">is</span><span class="w"> </span><span class="nv">no</span><span class="w"> </span><span class="nv">non</span><span class="o">-</span><span class="nv">space</span><span class="w"> </span><span class="nv">character</span><span class="w"> </span><span class="nv">following</span>
<span class="w">         </span>#<span class="w"> </span><span class="ss">(</span><span class="nv">i</span>.<span class="nv">e</span>.<span class="w"> </span><span class="nv">must</span><span class="w"> </span><span class="nv">be</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">string</span><span class="w"> </span><span class="nv">or</span><span class="w"> </span><span class="nv">space</span><span class="ss">)</span>
</pre></div>

<p>The <code>g</code> flag tells the replace to repeat as required, in case the class name
has been added multiple times.</p>
<h4>To check if a class is already applied to an element:</h4>
<p>The same regex used above for removing a class can also be used as a check as
to whether a particular class exists:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="w"> </span><span class="nv">document</span>.<span class="nv">getElementById</span><span class="ss">(</span><span class="s2">"MyElement"</span><span class="ss">)</span>.<span class="nv">className</span>.<span class="nv">match</span><span class="ss">(</span><span class="o">/</span><span class="ss">(</span>?:<span class="o">^|</span>\<span class="nv">s</span><span class="ss">)</span><span class="nv">MyClass</span><span class="ss">(</span>?<span class="o">!</span>\<span class="nv">S</span><span class="ss">)</span><span class="o">/</span><span class="ss">)</span><span class="w"> </span><span class="ss">)</span>
</pre></div>

<h4>Assigning these actions to onClick events:</h4>
<p>Whilst it is possible to write JavaScript directly inside the HTML event
attributes (such as <code>onClick="this.className+=' MyClass'"</code>) this is not
recommended behavior. Especially on larger applications, more maintainable
code is achieved by separating HTML markup from JavaScript interaction logic.</p>
<p>The first step to achieving this is by creating a function, and calling the
function in the onClick attribute, for example:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;script</span><span class="w"> </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>
<span class="w">    </span>function<span class="w"> </span>changeClass(){
<span class="w">        </span>//<span class="w"> </span>Code<span class="w"> </span>examples<span class="w"> </span>from<span class="w"> </span>above
<span class="w">    </span>}
<span class="nt">&lt;/script&gt;</span>
...
<span class="nt">&lt;button</span><span class="w"> </span><span class="na">onClick=</span><span class="s">"changeClass()"</span><span class="nt">&gt;</span>My<span class="w"> </span>Button<span class="nt">&lt;/button&gt;</span>
</pre></div>

<p><em>(It is not required to have this code in script tags, this is simply for the
brevity of example, and including the JavaScript in a distinct file may be
more appropriate.)</em></p>
<p>The second step is to move the onClick event out of the HTML and into
JavaScript, for example using addEventListener</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;script</span><span class="w"> </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>
<span class="w">    </span>function<span class="w"> </span>changeClass(){
<span class="w">        </span>//<span class="w"> </span>Code<span class="w"> </span>examples<span class="w"> </span>from<span class="w"> </span>above
<span class="w">    </span>}

<span class="w">    </span>window.onload<span class="w"> </span>=<span class="w"> </span>function(){
<span class="w">        </span>document.getElementById("MyElement").addEventListener(<span class="w"> </span>'click',<span class="w"> </span>changeClass);
<span class="w">    </span>}
<span class="nt">&lt;/script&gt;</span>
...
<span class="nt">&lt;button</span><span class="w"> </span><span class="na">id=</span><span class="s">"MyElement"</span><span class="nt">&gt;</span>My<span class="w"> </span>Button<span class="nt">&lt;/button&gt;</span>
</pre></div>

<p>(Note that the window.onload part is required so that the contents of that
function are executed <em>after</em> the HTML has finished loading - without this,
the MyElement might not exist when the JavaScript code is called, so that line
would fail.)</p>
<h3>JavaScript Frameworks and Libraries</h3>
<p>The above code is all in standard JavaScript, however, it is common practice
to use either a framework or a library to simplify common tasks, as well as
benefit from fixed bugs and edge cases that you might not think of when
writing your code.</p>
<p>Whilst some people consider it overkill to add a ~50 KB framework for simply
changing a class, if you are doing any substantial amount of JavaScript work
or anything that might have unusual cross-browser behavior, it is well worth
considering.</p>
<p><em>(Very roughly, a library is a set of tools designed for a specific task,
whilst a framework generally contains multiple libraries and performs a
complete set of duties.)</em></p>
<p>The examples above have been reproduced below using jQuery, probably the most
commonly used JavaScript library (though there are others worth investigating
too).</p>
<p>(Note that <code>$</code> here is the jQuery object.)</p>
<h4>Changing Classes with jQuery:</h4>
<div class="code"><pre class="code literal-block">$<span class="ss">(</span><span class="s1">'#MyElement'</span><span class="ss">)</span>.<span class="nv">addClass</span><span class="ss">(</span><span class="s1">'MyClass'</span><span class="ss">)</span><span class="c1">;</span>

$<span class="ss">(</span><span class="s1">'#MyElement'</span><span class="ss">)</span>.<span class="nv">removeClass</span><span class="ss">(</span><span class="s1">'MyClass'</span><span class="ss">)</span><span class="c1">;</span>

<span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="w"> </span>$<span class="ss">(</span><span class="s1">'#MyElement'</span><span class="ss">)</span>.<span class="nv">hasClass</span><span class="ss">(</span><span class="s1">'MyClass'</span><span class="ss">)</span><span class="w"> </span><span class="ss">)</span>
</pre></div>

<p>In addition, jQuery provides a shortcut for adding a class if it doesn't
apply, or removing a class that does:</p>
<div class="code"><pre class="code literal-block">$('#MyElement').toggleClass('MyClass');
</pre></div>

<h4>Assigning a function to a click event with jQuery:</h4>
<div class="code"><pre class="code literal-block">$('#MyElement').click(changeClass);
</pre></div>

<p>or, without needing an id:</p>
<div class="code"><pre class="code literal-block"><span class="o">$(</span><span class="s1">':button:contains(My Button)'</span><span class="o">)</span><span class="p">.</span><span class="nc">click</span><span class="o">(</span><span class="nt">changeClass</span><span class="o">);</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>You could also just do:</p>
<div class="code"><pre class="code literal-block">document.getElementById('id').classList.add('class');
document.getElementById('id').classList.remove('class');
</pre></div>

<p>And to toggle a class (remove if exists else add it):</p>
<div class="code"><pre class="code literal-block">document.getElementById('id').classList.toggle('class');
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-55.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-53.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

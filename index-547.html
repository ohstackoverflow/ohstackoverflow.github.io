<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 547) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-547.html">
<link rel="prev" href="index-548.html" type="text/html">
<link rel="next" href="index-546.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-are-the-differences-between-and-assignment-operators/" class="u-url">What are the differences between "=" and "&lt;-" assignment operators?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-are-the-differences-between-and-assignment-operators/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T09:39:26+08:00" itemprop="datePublished" title="2023-02-17 09:39">2023-02-17 09:39</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What are the differences between the assignment operators <code>=</code> and <code>&lt;-</code> in R?</p>
<p>I know that operators are slightly different, as this example shows</p>
<div class="code"><pre class="code literal-block"><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">5</span>
<span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span>
<span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">5</span>
<span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span>
<span class="c1"># Error in (x &lt;- y) = 5 : could not find function "&lt;-&lt;-"</span>
</pre></div>

<p>But is this the only difference?</p>
<p><br><br></p>
<h2>Answer</h2>
<blockquote>
<p>What are the differences between the assignment operators <code>=</code> and <code>&lt;-</code> in R?</p>
</blockquote>
<p>As your example shows, <code>=</code> and <code>&lt;-</code> have slightly different operator
precedence (which determines the order of evaluation when they are mixed in
the same expression). In fact, <code>?Syntax</code> in R gives the following operator
precedence table, from highest to lowest:</p>
<blockquote>
<div class="code"><pre class="code literal-block"><span class="err">…</span>
<span class="err">‘</span><span class="o">-&gt;</span><span class="w"> </span><span class="o">-&gt;&gt;</span><span class="err">’</span><span class="w">           </span><span class="n">rightwards</span><span class="w"> </span><span class="n">assignment</span>
<span class="err">‘</span><span class="o">&lt;-</span><span class="w"> </span><span class="o">&lt;&lt;-</span><span class="err">’</span><span class="w">           </span><span class="n">assignment</span><span class="w"> </span><span class="p">(</span><span class="n">right</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">left</span><span class="p">)</span>
<span class="err">‘</span><span class="o">=</span><span class="err">’</span><span class="w">                </span><span class="n">assignment</span><span class="w"> </span><span class="p">(</span><span class="n">right</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">left</span><span class="p">)</span>
<span class="err">…</span>
</pre></div>

</blockquote>
<p>But is this the only difference?</p>
<p>Since you were asking about the <em>assignment operators</em> : yes, that is the only
difference. However, you would be forgiven for believing otherwise. Even the R
documentation of <code>?assignOps</code> claims that there are more differences:</p>
<blockquote>
<p>The operator <code>&lt;-</code> can be used anywhere, whereas the operator <code>=</code> is only
allowed at the top level (e.g., in the complete expression typed at the
command prompt) or as one of the subexpressions in a braced list of
expressions.</p>
</blockquote>
<p>Let’s not put too fine a point on it: <strong>the R documentation is wrong</strong>. This
is easy to show: we just need to find a counter-example of the <code>=</code> operator
that isn’t (a) at the top level, nor (b) a subexpression in a braced list of
expressions (i.e. <code>{…; …}</code>). — Without further ado:</p>
<div class="code"><pre class="code literal-block">x
# Error: object 'x' not found
sum((x = 1), 2)
# [1] 3
x
# [1] 1
</pre></div>

<p>Clearly we’ve performed an assignment, using <code>=</code>, outside of contexts (a) and
(b). So, why has the documentation of a core R language feature been wrong for
decades?</p>
<p>It’s because in R’s syntax the symbol <code>=</code> has two distinct meanings that get
routinely conflated (even by experts, including in the documentation cited
above):</p>
<ol>
<li>The first meaning is as an <strong>assignment operator</strong>. This is all we’ve talked about so far.</li>
<li>The second meaning isn’t an operator but rather a <strong>syntax token</strong> that signals <em>named argument passing</em> in a function call. Unlike the <code>=</code> <em>operator</em> it performs no action at runtime, it merely changes the way an expression is parsed.</li>
</ol>
<p>So how does R decide whether a given usage of <code>=</code> refers to the operator or to
named argument passing? Let’s see.</p>
<p>In any piece of code of the general form …</p>
<div class="code"><pre class="code literal-block">‹function_name›(‹argname› = ‹value›, …)
‹function_name›(‹args›, ‹argname› = ‹value›, …)
</pre></div>

<p>… the <strong><code>=</code></strong> is the token that defines named argument passing: it is <em>not</em>
the assignment operator. Furthermore, <code>=</code> is entirely <em>forbidden</em> in some
syntactic contexts:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="err">‹</span><span class="k">var</span><span class="err">›</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">‹</span><span class="n">value</span><span class="err">›</span><span class="p">)</span><span class="w"> </span><span class="err">…</span>
<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="err">‹</span><span class="k">var</span><span class="err">›</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">‹</span><span class="n">value</span><span class="err">›</span><span class="p">)</span><span class="w"> </span><span class="err">…</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="err">‹</span><span class="k">var</span><span class="err">›</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">‹</span><span class="n">value</span><span class="err">›</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="err">‹</span><span class="n">value2</span><span class="err">›</span><span class="p">)</span><span class="w"> </span><span class="err">…</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="err">‹</span><span class="n">var1</span><span class="err">›</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="err">‹</span><span class="n">var2</span><span class="err">›</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">‹</span><span class="n">value</span><span class="err">›</span><span class="p">)</span><span class="w"> </span><span class="err">…</span>
</pre></div>

<p>Any of these will raise an error “unexpected '=' in ‹bla›”.</p>
<p>In any other context, <code>=</code> refers to the assignment operator call. In
particular, merely putting parentheses around the subexpression makes any of
the above (a) valid, and (b) an <em>assignment</em>. For instance, the following
performs assignment:</p>
<div class="code"><pre class="code literal-block">median((x = 1 : 10))
</pre></div>

<p>But also:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="o">!</span><span class="w"> </span><span class="ss">(</span><span class="nv">nf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">length</span><span class="ss">(</span><span class="nv">from</span><span class="ss">)))</span><span class="w"> </span><span class="k">return</span><span class="ss">()</span>
</pre></div>

<p>Now you might object that such code is atrocious (and you may be right). But I
took this code from the <code>base::file.copy</code> function (replacing <code>&lt;-</code> with <code>=</code>) —
it’s a pervasive pattern in much of the core R codebase.</p>
<p>The original explanation by John Chambers, which the the R documentation is
probably based on, actually explains this correctly:</p>
<blockquote>
<p>[<code>=</code> assignment is] allowed in only two places in the grammar: at the top
level (as a complete program or user-typed expression); and when isolated
from surrounding logical structure, by braces or an extra pair of
parentheses.</p>
</blockquote>
<hr>
<p>In sum, by default the operators <code>&lt;-</code> and <code>=</code> do the same thing. But either of
them can be <em>overridden</em> separately to change its behaviour. By contrast, <code>&lt;-</code>
and <code>-&gt;</code> (left-to-right assignment), though syntactically distinct, always
call the <em>same</em> function. Overriding one also overrides the other. Knowing
this is rarely practical but it <em>can</em> be used for some fun shenanigans.</p>
<p><br></p>
<h3>Suggest</h3>
<blockquote>
<p>What are the differences between the assignment operators <code>=</code> and <code>&lt;-</code> in R?</p>
</blockquote>
<p>As your example shows, <code>=</code> and <code>&lt;-</code> have slightly different operator
precedence (which determines the order of evaluation when they are mixed in
the same expression). In fact, <code>?Syntax</code> in R gives the following operator
precedence table, from highest to lowest:</p>
<blockquote>
<div class="code"><pre class="code literal-block"><span class="err">…</span>
<span class="err">‘</span><span class="o">-&gt;</span><span class="w"> </span><span class="o">-&gt;&gt;</span><span class="err">’</span><span class="w">           </span><span class="n">rightwards</span><span class="w"> </span><span class="n">assignment</span>
<span class="err">‘</span><span class="o">&lt;-</span><span class="w"> </span><span class="o">&lt;&lt;-</span><span class="err">’</span><span class="w">           </span><span class="n">assignment</span><span class="w"> </span><span class="p">(</span><span class="n">right</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">left</span><span class="p">)</span>
<span class="err">‘</span><span class="o">=</span><span class="err">’</span><span class="w">                </span><span class="n">assignment</span><span class="w"> </span><span class="p">(</span><span class="n">right</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">left</span><span class="p">)</span>
<span class="err">…</span>
</pre></div>

</blockquote>
<p>But is this the only difference?</p>
<p>Since you were asking about the <em>assignment operators</em> : yes, that is the only
difference. However, you would be forgiven for believing otherwise. Even the R
documentation of <code>?assignOps</code> claims that there are more differences:</p>
<blockquote>
<p>The operator <code>&lt;-</code> can be used anywhere, whereas the operator <code>=</code> is only
allowed at the top level (e.g., in the complete expression typed at the
command prompt) or as one of the subexpressions in a braced list of
expressions.</p>
</blockquote>
<p>Let’s not put too fine a point on it: <strong>the R documentation is wrong</strong>. This
is easy to show: we just need to find a counter-example of the <code>=</code> operator
that isn’t (a) at the top level, nor (b) a subexpression in a braced list of
expressions (i.e. <code>{…; …}</code>). — Without further ado:</p>
<div class="code"><pre class="code literal-block">x
# Error: object 'x' not found
sum((x = 1), 2)
# [1] 3
x
# [1] 1
</pre></div>

<p>Clearly we’ve performed an assignment, using <code>=</code>, outside of contexts (a) and
(b). So, why has the documentation of a core R language feature been wrong for
decades?</p>
<p>It’s because in R’s syntax the symbol <code>=</code> has two distinct meanings that get
routinely conflated (even by experts, including in the documentation cited
above):</p>
<ol>
<li>The first meaning is as an <strong>assignment operator</strong>. This is all we’ve talked about so far.</li>
<li>The second meaning isn’t an operator but rather a <strong>syntax token</strong> that signals <em>named argument passing</em> in a function call. Unlike the <code>=</code> <em>operator</em> it performs no action at runtime, it merely changes the way an expression is parsed.</li>
</ol>
<p>So how does R decide whether a given usage of <code>=</code> refers to the operator or to
named argument passing? Let’s see.</p>
<p>In any piece of code of the general form …</p>
<div class="code"><pre class="code literal-block">‹function_name›(‹argname› = ‹value›, …)
‹function_name›(‹args›, ‹argname› = ‹value›, …)
</pre></div>

<p>… the <strong><code>=</code></strong> is the token that defines named argument passing: it is <em>not</em>
the assignment operator. Furthermore, <code>=</code> is entirely <em>forbidden</em> in some
syntactic contexts:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="err">‹</span><span class="k">var</span><span class="err">›</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">‹</span><span class="n">value</span><span class="err">›</span><span class="p">)</span><span class="w"> </span><span class="err">…</span>
<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="err">‹</span><span class="k">var</span><span class="err">›</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">‹</span><span class="n">value</span><span class="err">›</span><span class="p">)</span><span class="w"> </span><span class="err">…</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="err">‹</span><span class="k">var</span><span class="err">›</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">‹</span><span class="n">value</span><span class="err">›</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="err">‹</span><span class="n">value2</span><span class="err">›</span><span class="p">)</span><span class="w"> </span><span class="err">…</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="err">‹</span><span class="n">var1</span><span class="err">›</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="err">‹</span><span class="n">var2</span><span class="err">›</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">‹</span><span class="n">value</span><span class="err">›</span><span class="p">)</span><span class="w"> </span><span class="err">…</span>
</pre></div>

<p>Any of these will raise an error “unexpected '=' in ‹bla›”.</p>
<p>In any other context, <code>=</code> refers to the assignment operator call. In
particular, merely putting parentheses around the subexpression makes any of
the above (a) valid, and (b) an <em>assignment</em>. For instance, the following
performs assignment:</p>
<div class="code"><pre class="code literal-block">median((x = 1 : 10))
</pre></div>

<p>But also:</p>
<div class="code"><pre class="code literal-block"><span class="k">if</span><span class="w"> </span><span class="ss">(</span><span class="o">!</span><span class="w"> </span><span class="ss">(</span><span class="nv">nf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">length</span><span class="ss">(</span><span class="nv">from</span><span class="ss">)))</span><span class="w"> </span><span class="k">return</span><span class="ss">()</span>
</pre></div>

<p>Now you might object that such code is atrocious (and you may be right). But I
took this code from the <code>base::file.copy</code> function (replacing <code>&lt;-</code> with <code>=</code>) —
it’s a pervasive pattern in much of the core R codebase.</p>
<p>The original explanation by John Chambers, which the the R documentation is
probably based on, actually explains this correctly:</p>
<blockquote>
<p>[<code>=</code> assignment is] allowed in only two places in the grammar: at the top
level (as a complete program or user-typed expression); and when isolated
from surrounding logical structure, by braces or an extra pair of
parentheses.</p>
</blockquote>
<hr>
<p>In sum, by default the operators <code>&lt;-</code> and <code>=</code> do the same thing. But either of
them can be <em>overridden</em> separately to change its behaviour. By contrast, <code>&lt;-</code>
and <code>-&gt;</code> (left-to-right assignment), though syntactically distinct, always
call the <em>same</em> function. Overriding one also overrides the other. Knowing
this is rarely practical but it <em>can</em> be used for some fun shenanigans.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/difference-between-text-and-varchar-character-varying/" class="u-url">Difference between text and varchar (character varying)</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/difference-between-text-and-varchar-character-varying/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T09:39:00+08:00" itemprop="datePublished" title="2023-02-17 09:39">2023-02-17 09:39</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What's the difference between the <code>text</code> data type and the <code>character varying</code>
(<code>varchar</code>) data types?</p>
<p>According to the documentation</p>
<blockquote>
<p>If character varying is used without length specifier, the type accepts
strings of any size. The latter is a PostgreSQL extension.</p>
</blockquote>
<p>and</p>
<blockquote>
<p>In addition, PostgreSQL provides the text type, which stores strings of any
length. Although the type text is not in the SQL standard, several other SQL
database management systems have it as well.</p>
</blockquote>
<p>So what's the difference?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>There is no difference, under the hood it's all <code>varlena</code> (variable length
array).</p>
<p>Check this article from Depesz:
http://www.depesz.com/index.php/2010/03/02/charx-vs-varcharx-vs-varchar-vs-
text/</p>
<p>A couple of highlights:</p>
<blockquote>
<p>To sum it all up:</p>
<ul>
<li>char(n) – takes too much space when dealing with values shorter than <code>n</code>
(pads them to <code>n</code>), and can lead to subtle errors because of adding trailing
spaces, plus it is problematic to change the limit</li>
<li>varchar(n) – it's problematic to change the limit in live environment
(requires exclusive lock while altering table)</li>
<li>varchar – just like text</li>
<li>
<strong>text – for me a winner</strong> – over (n) data types because it lacks their
problems, and over varchar – because it has distinct name
</li>
</ul>
</blockquote>
<p>The article does detailed testing to show that the performance of inserts and
selects for all 4 data types are similar. It also takes a detailed look at
alternate ways on constraining the length when needed. Function based
constraints or domains provide the advantage of instant increase of the length
constraint, and on the basis that decreasing a string length constraint is
rare, depesz concludes that one of them is usually the best choice for a
length limit.</p>
<p><br></p>
<h3>Suggest</h3>
<p>As "Character Types" in the documentation points out, <code>varchar(n)</code>, <code>char(n)</code>,
and <code>text</code> are all stored the same way. The only difference is extra cycles
are needed to check the length, if one is given, and the extra space and time
required if padding is needed for <code>char(n)</code>.</p>
<p>However, when you only need to store a single character, there is a slight
performance advantage to using the special type <code>"char"</code> (keep the double-
quotes — they're part of the type name). You get faster access to the field,
and there is no overhead to store the length.</p>
<p>I just made a table of 1,000,000 random <code>"char"</code> chosen from the lower-case
alphabet. A query to get a frequency distribution (<code>select count(*), field ...
group by field</code>) takes about 650 milliseconds, vs about 760 on the same data
using a <code>text</code> field.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/convert-date-to-datetime-in-python/" class="u-url">Convert date to datetime in Python</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/convert-date-to-datetime-in-python/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T09:38:34+08:00" itemprop="datePublished" title="2023-02-17 09:38">2023-02-17 09:38</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is there a built-in method for converting a <code>date</code> to a <code>datetime</code> in Python,
for example getting the <code>datetime</code> for the midnight of the given date? The
opposite conversion is easy: <code>datetime</code> has a <code>.date()</code> method.</p>
<p>Do I really have to manually call <code>datetime(d.year, d.month, d.day)</code>?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can use <code>datetime.combine(date, time)</code>; for the time, you create a
<code>datetime.time</code> object initialized to midnight.</p>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<span class="n">dt</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">combine</span><span class="p">(</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">(),</span> <span class="n">datetime</span><span class="o">.</span><span class="n">min</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>There are several ways, although I do believe the one you mention (and
dislike) is the most readable one.</p>
<div class="code"><pre class="code literal-block"><span class="s s-Atom">&gt;&gt;&gt;</span> <span class="s s-Atom">import</span> <span class="s s-Atom">datetime</span>
<span class="s s-Atom">&gt;&gt;&gt;</span> <span class="s s-Atom">t</span><span class="o">=</span><span class="s s-Atom">datetime</span><span class="p">.</span><span class="s s-Atom">date</span><span class="p">.</span><span class="nf">today</span><span class="p">()</span>
<span class="s s-Atom">&gt;&gt;&gt;</span> <span class="s s-Atom">datetime</span><span class="p">.</span><span class="s s-Atom">datetime</span><span class="p">.</span><span class="nf">fromordinal</span><span class="p">(</span><span class="s s-Atom">t</span><span class="p">.</span><span class="nf">toordinal</span><span class="p">())</span>
<span class="s s-Atom">datetime</span><span class="p">.</span><span class="nf">datetime</span><span class="p">(</span><span class="mi">2009</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

<span class="s s-Atom">&gt;&gt;&gt;</span> <span class="s s-Atom">datetime</span><span class="p">.</span><span class="nf">datetime</span><span class="p">(</span><span class="s s-Atom">t</span><span class="p">.</span><span class="s s-Atom">year</span><span class="p">,</span> <span class="s s-Atom">t</span><span class="p">.</span><span class="s s-Atom">month</span><span class="p">,</span> <span class="s s-Atom">t</span><span class="p">.</span><span class="s s-Atom">day</span><span class="p">)</span>
<span class="s s-Atom">datetime</span><span class="p">.</span><span class="nf">datetime</span><span class="p">(</span><span class="mi">2009</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

<span class="s s-Atom">&gt;&gt;&gt;</span> <span class="s s-Atom">datetime</span><span class="p">.</span><span class="nf">datetime</span><span class="p">(</span><span class="o">*</span><span class="s s-Atom">t</span><span class="p">.</span><span class="nf">timetuple</span><span class="p">()[</span><span class="o">:-</span><span class="mi">4</span><span class="p">])</span>
<span class="s s-Atom">datetime</span><span class="p">.</span><span class="nf">datetime</span><span class="p">(</span><span class="mi">2009</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

<p>and so forth -- but basically they all hinge on appropriately extracting info
from the <code>date</code> object and ploughing it back into the suitable ctor or
classfunction for <code>datetime</code>.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-548.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-546.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

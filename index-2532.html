<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2532) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2532.html">
<link rel="prev" href="index-2533.html" type="text/html">
<link rel="next" href="index-2531.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-get-the-selected-radio-buttons-value/" class="u-url">How to get the selected radio button’s value?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-get-the-selected-radio-buttons-value/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T23:05:07+08:00" itemprop="datePublished" title="2023-03-04 23:05">2023-03-04 23:05</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I’m having some strange problem with my JS program. I had this working
properly but for some reason it’s no longer working. I just want to find the
value of the radio button (which one is selected) and return it to a variable.
For some reason it keeps returning <code>undefined</code>.</p>
<p>Here is my code:</p>
<div class="code"><pre class="code literal-block"><span class="k">function</span><span class="w"> </span><span class="n">findSelection</span><span class="p">(</span><span class="n">field</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="nf">var</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'document.theForm.'</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">field</span><span class="p">;</span>
<span class="w">    </span><span class="nf">var</span><span class="w"> </span><span class="n">sizes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">test</span><span class="p">;</span>

<span class="w">    </span><span class="n">alert</span><span class="p">(</span><span class="n">sizes</span><span class="p">);</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">sizes</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">sizes</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">.</span><span class="n">checked</span><span class="o">==</span><span class="k">true</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">            </span><span class="n">alert</span><span class="p">(</span><span class="n">sizes</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">.</span><span class="k">value</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">' you got a value'</span><span class="p">);</span><span class="w">     </span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">sizes</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">.</span><span class="k">value</span><span class="p">;</span>
<span class="w">        </span><span class="err">}</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>
</pre></div>

<p><code>submitForm</code>:</p>
<div class="code"><pre class="code literal-block"><span class="n">function</span><span class="w"> </span><span class="n">submitForm</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">genderS</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">findSelection</span><span class="p">(</span><span class="s2">"genderS"</span><span class="p">);</span>
<span class="w">    </span><span class="n">alert</span><span class="p">(</span><span class="n">genderS</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

<p>HTML:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;form</span><span class="w"> </span><span class="na">action=</span><span class="s">"#n"</span><span class="w"> </span><span class="na">name=</span><span class="s">"theForm"</span><span class="nt">&gt;</span>

<span class="w">    </span><span class="nt">&lt;label</span><span class="w"> </span><span class="na">for=</span><span class="s">"gender"</span><span class="nt">&gt;</span>Gender:<span class="w"> </span><span class="nt">&lt;/label&gt;</span>
<span class="w">    </span><span class="nt">&lt;input</span><span class="w"> </span><span class="na">type=</span><span class="s">"radio"</span><span class="w"> </span><span class="na">name=</span><span class="s">"genderS"</span><span class="w"> </span><span class="na">value=</span><span class="s">"1"</span><span class="w"> </span><span class="err">checked</span><span class="nt">&gt;</span><span class="w"> </span>Male
<span class="w">    </span><span class="nt">&lt;input</span><span class="w"> </span><span class="na">type=</span><span class="s">"radio"</span><span class="w"> </span><span class="na">name=</span><span class="s">"genderS"</span><span class="w"> </span><span class="na">value=</span><span class="s">"0"</span><span class="w"> </span><span class="nt">&gt;</span><span class="w"> </span>Female<span class="nt">&lt;br&gt;&lt;br&gt;</span>
<span class="w">    </span><span class="nt">&lt;a</span><span class="w"> </span><span class="na">href=</span><span class="s">"javascript: submitForm()"</span><span class="nt">&gt;</span>Search<span class="nt">&lt;/A&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>You can do something like this:</p>
<div class="code"><pre class="code literal-block"><span class="nf">var</span><span class="w"> </span><span class="n">radios</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">document</span><span class="p">.</span><span class="n">getElementsByName</span><span class="p">(</span><span class="s1">'genderS'</span><span class="p">);</span>

<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="nf">var</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">radios</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">radios</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">.</span><span class="n">checked</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">do</span><span class="w"> </span><span class="n">whatever</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">want</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">checked</span><span class="w"> </span><span class="n">radio</span>
<span class="w">    </span><span class="n">alert</span><span class="p">(</span><span class="n">radios</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">.</span><span class="k">value</span><span class="p">);</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="k">only</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">radio</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">logically</span><span class="w"> </span><span class="n">checked</span><span class="p">,</span><span class="w"> </span><span class="n">don</span><span class="err">'</span><span class="n">t</span><span class="w"> </span><span class="k">check</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rest</span>
<span class="w">    </span><span class="k">break</span><span class="p">;</span>
<span class="w">  </span><span class="err">}</span>
<span class="err">}</span>


<span class="o">&lt;</span><span class="n">label</span><span class="w"> </span><span class="k">for</span><span class="o">=</span><span class="ss">"gender"</span><span class="o">&gt;</span><span class="nl">Gender</span><span class="p">:</span><span class="w"> </span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="k">input</span><span class="w"> </span><span class="n">type</span><span class="o">=</span><span class="ss">"radio"</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="ss">"genderS"</span><span class="w"> </span><span class="k">value</span><span class="o">=</span><span class="ss">"1"</span><span class="w"> </span><span class="n">checked</span><span class="o">=</span><span class="ss">"checked"</span><span class="o">&gt;</span><span class="n">Male</span><span class="o">&lt;/</span><span class="k">input</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="k">input</span><span class="w"> </span><span class="n">type</span><span class="o">=</span><span class="ss">"radio"</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="ss">"genderS"</span><span class="w"> </span><span class="k">value</span><span class="o">=</span><span class="ss">"0"</span><span class="o">&gt;</span><span class="n">Female</span><span class="o">&lt;/</span><span class="k">input</span><span class="o">&gt;</span>
</pre></div>

<p>jsfiddle</p>
<p>Edit: Thanks HATCHA and jpsetung for your edit suggestions.</p>
<p><br></p>
<h3>Suggest</h3>
<p>You can do something like this:</p>
<div class="code"><pre class="code literal-block"><span class="nf">var</span><span class="w"> </span><span class="n">radios</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">document</span><span class="p">.</span><span class="n">getElementsByName</span><span class="p">(</span><span class="s1">'genderS'</span><span class="p">);</span>

<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="nf">var</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">radios</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">radios</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">.</span><span class="n">checked</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">do</span><span class="w"> </span><span class="n">whatever</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">want</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">checked</span><span class="w"> </span><span class="n">radio</span>
<span class="w">    </span><span class="n">alert</span><span class="p">(</span><span class="n">radios</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">.</span><span class="k">value</span><span class="p">);</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="k">only</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">radio</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">logically</span><span class="w"> </span><span class="n">checked</span><span class="p">,</span><span class="w"> </span><span class="n">don</span><span class="err">'</span><span class="n">t</span><span class="w"> </span><span class="k">check</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rest</span>
<span class="w">    </span><span class="k">break</span><span class="p">;</span>
<span class="w">  </span><span class="err">}</span>
<span class="err">}</span>


<span class="o">&lt;</span><span class="n">label</span><span class="w"> </span><span class="k">for</span><span class="o">=</span><span class="ss">"gender"</span><span class="o">&gt;</span><span class="nl">Gender</span><span class="p">:</span><span class="w"> </span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="k">input</span><span class="w"> </span><span class="n">type</span><span class="o">=</span><span class="ss">"radio"</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="ss">"genderS"</span><span class="w"> </span><span class="k">value</span><span class="o">=</span><span class="ss">"1"</span><span class="w"> </span><span class="n">checked</span><span class="o">=</span><span class="ss">"checked"</span><span class="o">&gt;</span><span class="n">Male</span><span class="o">&lt;/</span><span class="k">input</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="k">input</span><span class="w"> </span><span class="n">type</span><span class="o">=</span><span class="ss">"radio"</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="ss">"genderS"</span><span class="w"> </span><span class="k">value</span><span class="o">=</span><span class="ss">"0"</span><span class="o">&gt;</span><span class="n">Female</span><span class="o">&lt;/</span><span class="k">input</span><span class="o">&gt;</span>
</pre></div>

<p>jsfiddle</p>
<p>Edit: Thanks HATCHA and jpsetung for your edit suggestions.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-the-difference-between-ndarray-and-array-in-numpy/" class="u-url">What is the difference between ndarray and array in NumPy?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-the-difference-between-ndarray-and-array-in-numpy/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T23:03:39+08:00" itemprop="datePublished" title="2023-03-04 23:03">2023-03-04 23:03</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What is the difference between <code>ndarray</code> and <code>array</code> in NumPy? Where is their
implementation in the NumPy source code?</p>
<p><br><br></p>
<h2>Answer</h2>
<p><code>numpy.array</code> is just a convenience function to create an <code>ndarray</code>; it is not
a class itself.</p>
<p>You can also create an array using <code>numpy.ndarray</code>, but it is not the
recommended way. From the docstring of <code>numpy.ndarray</code>:</p>
<blockquote>
<p>Arrays should be constructed using <code>array</code>, <code>zeros</code> or <code>empty</code> ... The
parameters given here refer to a low-level method (<code>ndarray(...)</code>) for
instantiating an array.</p>
</blockquote>
<p>Most of the meat of the implementation is in C code, here in multiarray, but
you can start looking at the ndarray interfaces here:</p>
<p>https://github.com/numpy/numpy/blob/master/numpy/core/numeric.py</p>
<p><br></p>
<h3>Suggest</h3>
<p><code>numpy.array</code> is a function that returns a <code>numpy.ndarray</code> object.</p>
<p>There is no object of type <code>numpy.array</code>.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-the-formal-difference-in-scala-between-braces-and-parentheses-and-when-should-they-be-used/" class="u-url">What is the formal difference in Scala between braces and parentheses, and when should they be used?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-the-formal-difference-in-scala-between-braces-and-parentheses-and-when-should-they-be-used/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-04T23:02:08+08:00" itemprop="datePublished" title="2023-03-04 23:02">2023-03-04 23:02</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What is the formal difference between passing arguments to functions in
parentheses <code>()</code> and in braces <code>{}</code>?</p>
<p>The feeling I got from the <em>Programming in Scala</em> book is that Scala's pretty
flexible and I should use the one I like best, but I find that some cases
compile while others don't.</p>
<p>For instance (just meant as an example; I would appreciate any response that
discusses the general case, not this particular example only):</p>
<div class="code"><pre class="code literal-block">val tupleList = List[(String, String)]()
val filtered = tupleList.takeWhile( case (s1, s2) =&gt; s1 == s2 )
</pre></div>

<p>=&gt; error: illegal start of simple expression</p>
<div class="code"><pre class="code literal-block">val filtered = tupleList.takeWhile{ case (s1, s2) =&gt; s1 == s2 }
</pre></div>

<p>=&gt; fine.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>I tried once to write about this, but I gave up in the end, as the rules are
somewhat diffuse. Basically, you’ll have to get the hang of it.</p>
<p>Perhaps it is best to concentrate on where curly braces and parentheses can be
used interchangeably: when passing parameters to method calls. You <em>may</em>
replace curly braces with parentheses if, and only if, the method expects a
single parameter. For example:</p>
<div class="code"><pre class="code literal-block"><span class="n">List</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">reduceLeft</span><span class="p">{</span><span class="n">_</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">_</span><span class="p">}</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">valid</span><span class="p">,</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="n">Function2</span><span class="p">[</span><span class="n">Int</span><span class="p">,</span><span class="n">Int</span><span class="p">]</span><span class="w"> </span><span class="n">parameter</span>

<span class="n">List</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">}</span><span class="o">.</span><span class="n">reduceLeft</span><span class="p">(</span><span class="n">_</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">invalid</span><span class="p">,</span><span class="w"> </span><span class="n">A</span><span class="o">*</span><span class="w"> </span><span class="n">vararg</span><span class="w"> </span><span class="n">parameter</span>
</pre></div>

<p>However, there’s more you need to know to better grasp these rules.</p>
<h4>Increased compile checking with parens</h4>
<p>The authors of Spray recommend round parens because they give increased
compile checking. This is especially important for DSLs like Spray. By using
parens you are telling the compiler that it should only be given a single
line; therefore if you accidentally give it two or more, it will complain. Now
this isn’t the case with curly braces – if for example you forget an operator
somewhere, then your code will compile, and you get unexpected results and
potentially a very hard bug to find. Below is contrived (since the expressions
are pure and will at least give a warning), but makes the point:</p>
<div class="code"><pre class="code literal-block">method {
  1 +
  2
  3
}

method(
  1 +
  2
  3
)
</pre></div>

<p>The first compiles, the second gives <code>error: ')' expected but integer literal
found</code>. The author wanted to write <code>1 + 2 + 3</code>.</p>
<p>One could argue it’s similar for multi-parameter methods with default
arguments; it’s impossible to accidentally forget a comma to separate
parameters when using parens.</p>
<h4>Verbosity</h4>
<p>An important often overlooked note about verbosity. Using curly braces
inevitably leads to verbose code since the Scala style guide clearly states
that closing curly braces must be on their own line:</p>
<blockquote>
<p>… the closing brace is on its own line immediately following the last line
of the function.</p>
</blockquote>
<p>Many auto-reformatters, like in IntelliJ, will automatically perform this
reformatting for you. So try to stick to using round parens when you can.</p>
<h4>Infix Notation</h4>
<p>When using infix notation, like <code>List(1,2,3) indexOf (2)</code> you can omit
parentheses if there is only one parameter and write it as <code>List(1, 2, 3)
indexOf 2</code>. This is not the case of dot-notation.</p>
<p>Note also that when you have a single parameter that is a multi-token
expression, like <code>x + 2</code> or <code>a =&gt; a % 2 == 0</code>, you have to use parentheses to
indicate the boundaries of the expression.</p>
<h4>Tuples</h4>
<p>Because you can omit parentheses sometimes, sometimes a tuple needs extra
parentheses like in <code>((1, 2))</code>, and sometimes the outer parentheses can be
omitted, like in <code>(1, 2)</code>. This may cause confusion.</p>
<h4>Function/Partial Function literals with <code>case</code>
</h4>
<p>Scala has a syntax for function and partial function literals. It looks like
this:</p>
<div class="code"><pre class="code literal-block">{
<span class="w">    </span><span class="nv">case</span><span class="w"> </span><span class="nv">pattern</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">guard</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nv">statements</span>
<span class="w">    </span><span class="nv">case</span><span class="w"> </span><span class="nv">pattern</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nv">statements</span>
}
</pre></div>

<p>The only other places where you can use <code>case</code> statements are with the <code>match</code>
and <code>catch</code> keywords:</p>
<div class="code"><pre class="code literal-block"><span class="nv">object</span><span class="w"> </span><span class="nv">match</span><span class="w"> </span>{
<span class="w">    </span><span class="nv">case</span><span class="w"> </span><span class="nv">pattern</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">guard</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nv">statements</span>
<span class="w">    </span><span class="nv">case</span><span class="w"> </span><span class="nv">pattern</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nv">statements</span>
}



<span class="nv">try</span><span class="w"> </span>{
<span class="w">    </span><span class="nv">block</span>
}<span class="w"> </span><span class="nv">catch</span><span class="w"> </span>{
<span class="w">    </span><span class="nv">case</span><span class="w"> </span><span class="nv">pattern</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nv">guard</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nv">statements</span>
<span class="w">    </span><span class="nv">case</span><span class="w"> </span><span class="nv">pattern</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nv">statements</span>
}<span class="w"> </span><span class="nv">finally</span><span class="w"> </span>{
<span class="w">    </span><span class="nv">block</span>
}
</pre></div>

<p><em>You cannot use<code>case</code> statements in any other context</em>. So, if you want to use
<code>case</code>, you <em>need</em> curly braces. In case you are wondering what makes the
distinction between a function and partial function literal, the answer is:
context. If Scala expects a function, a function you get. If it expects a
partial function, you get a partial function. If both are expected, it gives
an error about ambiguity.</p>
<h4>Expressions and Blocks</h4>
<p>Parentheses can be used to make subexpressions. Curly braces can be used to
make blocks of code (this is <em>not</em> a function literal, so beware of trying to
use it like one). A block of code consists of multiple statements, each of
which can be an import statement, a declaration or an expression. It goes like
this:</p>
<div class="code"><pre class="code literal-block"><span class="p">{</span>
    <span class="kn">import</span> <span class="nn">stuff._</span>
    <span class="n">statement</span> <span class="p">;</span> <span class="o">//</span> <span class="p">;</span> <span class="n">optional</span> <span class="n">at</span> <span class="n">the</span> <span class="n">end</span> <span class="n">of</span> <span class="n">the</span> <span class="n">line</span>
    <span class="n">statement</span> <span class="p">;</span> <span class="n">statement</span> <span class="o">//</span> <span class="ow">not</span> <span class="n">optional</span> <span class="n">here</span>
    <span class="n">var</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">//</span> <span class="n">declaration</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span> <span class="n">x</span> <span class="o">+=</span> <span class="mi">1</span> <span class="p">}</span> <span class="o">//</span> <span class="n">stuff</span>
    <span class="p">(</span><span class="n">x</span> <span class="o">%</span> <span class="mi">5</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">//</span> <span class="n">expression</span>
<span class="p">}</span>

<span class="p">(</span> <span class="n">expression</span> <span class="p">)</span>
</pre></div>

<p>So, if you need declarations, multiple statements, an <code>import</code> or anything
like that, you need curly braces. And because an expression is a statement,
parentheses may appear inside curly braces. But the interesting thing is that
blocks of code are <em>also</em> expressions, so you can use them anywhere <em>inside</em>
an expression:</p>
<div class="code"><pre class="code literal-block"><span class="p">(</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">var</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="p">};</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>
</pre></div>

<p>So, since expressions are statements, and blocks of codes are expressions,
everything below is valid:</p>
<div class="code"><pre class="code literal-block"><span class="mf">1</span><span class="w">       </span><span class="o">//</span><span class="w"> </span><span class="n">literal</span>
<span class="p">(</span><span class="mf">1</span><span class="p">)</span><span class="w">     </span><span class="o">//</span><span class="w"> </span><span class="nb">exp</span><span class="n">ression</span>
<span class="err">{</span><span class="mf">1</span><span class="err">}</span><span class="w">     </span><span class="o">//</span><span class="w"> </span><span class="n">block</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">code</span>
<span class="p">(</span><span class="err">{</span><span class="mf">1</span><span class="err">}</span><span class="p">)</span><span class="w">   </span><span class="o">//</span><span class="w"> </span><span class="nb">exp</span><span class="n">ression</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">block</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">code</span>
<span class="err">{</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span><span class="err">}</span><span class="w">   </span><span class="o">//</span><span class="w"> </span><span class="n">block</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nb">exp</span><span class="n">ression</span>
<span class="p">(</span><span class="err">{</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span><span class="err">}</span><span class="p">)</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="kr">get</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">drift</span><span class="mf">...</span>
</pre></div>

<h4>Where they are not interchangeable</h4>
<p>Basically, you can’t replace <code>{}</code> with <code>()</code> or vice versa anywhere else. For
example:</p>
<div class="code"><pre class="code literal-block"><span class="k">while</span><span class="w"> </span><span class="ss">(</span><span class="nv">x</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="ss">)</span><span class="w"> </span>{<span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span>}
</pre></div>

<p>This is not a method call, so you can’t write it in any other way. Well, you
can put curly braces <em>inside</em> the parentheses for the <code>condition</code>, as well as
use parentheses <em>inside</em> the curly braces for the block of code:</p>
<div class="code"><pre class="code literal-block"><span class="k">while</span><span class="w"> </span><span class="ss">(</span>{<span class="nv">x</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span>}<span class="ss">)</span><span class="w"> </span>{<span class="w"> </span><span class="ss">(</span><span class="nv">x</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="ss">)</span><span class="w"> </span>}
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>There are a couple of different rules and inferences going on here: first of
all, Scala infers the braces when a parameter is a function, e.g. in
<code>list.map(_ * 2)</code> the braces are inferred, it's just a shorter form of
<code>list.map({_ * 2})</code>. Secondly, Scala allows you to skip the parentheses on the
last parameter list, if that parameter list has one parameter and it is a
function, so <code>list.foldLeft(0)(_ + _)</code> can be written as <code>list.foldLeft(0) { _
+ _ }</code> (or <code>list.foldLeft(0)({_ + _})</code> if you want to be extra explicit).</p>
<p>However, if you add <code>case</code> you get, as others have mentioned, a partial
function instead of a function, and Scala will not infer the braces for
partial functions, so <code>list.map(case x =&gt; x * 2)</code> won't work, but both
<code>list.map({case x =&gt; 2 * 2})</code> and <code>list.map { case x =&gt; x * 2 }</code> will.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2533.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2531.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 637) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-637.html">
<link rel="prev" href="index-638.html" type="text/html">
<link rel="next" href="index-636.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/getting-today-s-date-in-yyyy-mm-dd-in-python/" class="u-url">Getting today's date in YYYY-MM-DD in Python?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/getting-today-s-date-in-yyyy-mm-dd-in-python/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T11:59:15+08:00" itemprop="datePublished" title="2023-02-17 11:59">2023-02-17 11:59</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is there a nicer way than the following to return today's date in the <code>YYYY-
MM-DD</code> format?</p>
<div class="code"><pre class="code literal-block">str(datetime.datetime.today()).split()[0]
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>Use <code>strftime</code>:</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">datetime</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">'%Y-%m-</span><span class="si">%d</span><span class="s1">'</span><span class="p">)</span>
<span class="s1">'2021-01-26'</span>
</pre></div>

<p>To also include a zero-padded <code>Hour:Minute:Second</code> at the end:</p>
<div class="code"><pre class="code literal-block">&gt;&gt;&gt; datetime.today().strftime('%Y-%m-%d %H:%M:%S')
'2021-01-26 16:50:03'
</pre></div>

<p>To get the UTC date and time:</p>
<div class="code"><pre class="code literal-block">&gt;&gt;&gt; datetime.utcnow().strftime('%Y-%m-%d %H:%M:%S')
'2021-01-27 00:50:03'
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>You can use <code>datetime.date.today()</code> and convert the resulting <code>datetime.date</code>
object to a string:</p>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span>
<span class="n">today</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">today</span><span class="p">)</span>   <span class="c1"># '2017-12-26'</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-read-embedded-resource-text-file/" class="u-url">How to read embedded resource text file</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-read-embedded-resource-text-file/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T11:58:44+08:00" itemprop="datePublished" title="2023-02-17 11:58">2023-02-17 11:58</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How do I read an embedded resource (text file) using <code>StreamReader</code> and return
it as a string? My current script uses a Windows form and textbox that allows
the user to find and replace text in a text file that is not embedded.</p>
<div class="code"><pre class="code literal-block"><span class="n">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">button1_Click</span><span class="p">(</span><span class="n">object</span><span class="w"> </span><span class="n">sender</span><span class="p">,</span><span class="w"> </span><span class="n">EventArgs</span><span class="w"> </span><span class="n">e</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">StringCollection</span><span class="w"> </span><span class="n">strValuesToSearch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">StringCollection</span><span class="p">();</span>
<span class="w">    </span><span class="n">strValuesToSearch</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">"Apple"</span><span class="p">);</span>
<span class="w">    </span><span class="n">string</span><span class="w"> </span><span class="n">stringToReplace</span><span class="p">;</span>
<span class="w">    </span><span class="n">stringToReplace</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">textBox1</span><span class="p">.</span><span class="n">Text</span><span class="p">;</span>

<span class="w">    </span><span class="n">StreamReader</span><span class="w"> </span><span class="n">FileReader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">StreamReader</span><span class="p">(</span><span class="s">@"C:\MyFile.txt"</span><span class="p">);</span>
<span class="w">    </span><span class="n">string</span><span class="w"> </span><span class="n">FileContents</span><span class="p">;</span>
<span class="w">    </span><span class="n">FileContents</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FileReader</span><span class="p">.</span><span class="n">ReadToEnd</span><span class="p">();</span>
<span class="w">    </span><span class="n">FileReader</span><span class="p">.</span><span class="n">Close</span><span class="p">();</span>
<span class="w">    </span><span class="n">foreach</span><span class="w"> </span><span class="p">(</span><span class="n">string</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">strValuesToSearch</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">FileContents</span><span class="p">.</span><span class="n">Contains</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
<span class="w">            </span><span class="n">FileContents</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FileContents</span><span class="p">.</span><span class="n">Replace</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">stringToReplace</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">StreamWriter</span><span class="w"> </span><span class="n">FileWriter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">StreamWriter</span><span class="p">(</span><span class="s">@"MyFile.txt"</span><span class="p">);</span>
<span class="w">    </span><span class="n">FileWriter</span><span class="p">.</span><span class="n">Write</span><span class="p">(</span><span class="n">FileContents</span><span class="p">);</span>
<span class="w">    </span><span class="n">FileWriter</span><span class="p">.</span><span class="n">Close</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>You can use the <strong><code>Assembly.GetManifestResourceStream</code></strong> Method:</p>
<ol>
<li>
<p>Add the following usings</p>
<div class="code"><pre class="code literal-block"> using System.IO;
</pre></div>

<p>using System.Reflection;</p>
</li>
<li>
<p>Set property of relevant file:<br>
Parameter <code>Build Action</code> with value <code>Embedded Resource</code></p>
</li>
<li>
<p>Use the following code</p>
<div class="code"><pre class="code literal-block"><span class="w"> </span><span class="k">var</span><span class="w"> </span><span class="n">assembly</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Assembly</span><span class="o">.</span><span class="n">GetExecutingAssembly</span><span class="p">();</span>
</pre></div>

<p>var resourceName = "MyCompany.MyProduct.MyFile.txt";</p>
<p>using (Stream stream = assembly.GetManifestResourceStream(resourceName))
 using (StreamReader reader = new StreamReader(stream))
 {
     string result = reader.ReadToEnd();
 }</p>
</li>
</ol>
<p><code>resourceName</code> is the name of one of the resources embedded in <code>assembly</code>. For
example, if you embed a text file named <code>"MyFile.txt"</code> that is placed in the
root of a project with default namespace <code>"MyCompany.MyProduct"</code>, then
<code>resourceName</code> is <code>"MyCompany.MyProduct.MyFile.txt"</code>. You can get a list of
all resources in an assembly using the <strong><code>Assembly.GetManifestResourceNames</code></strong>
Method.</p>
<hr>
<p>A no brainer astute to get the <code>resourceName</code> from the file name only (by pass
the namespace stuff):</p>
<div class="code"><pre class="code literal-block">string resourceName = assembly.GetManifestResourceNames()
  .Single(str =&gt; str.EndsWith("YourFileName.txt"));
</pre></div>

<hr>
<p>A complete example:</p>
<div class="code"><pre class="code literal-block"><span class="n">public</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="n">ReadResource</span><span class="p">(</span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Determine</span><span class="w"> </span><span class="n">path</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">assembly</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Assembly</span><span class="o">.</span><span class="n">GetExecutingAssembly</span><span class="p">();</span>
<span class="w">    </span><span class="n">string</span><span class="w"> </span><span class="n">resourcePath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Format</span><span class="p">:</span><span class="w"> </span><span class="s2">"{Namespace}.{Folder}.{filename}.{Extension}"</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">name</span><span class="o">.</span><span class="n">StartsWith</span><span class="p">(</span><span class="n">nameof</span><span class="p">(</span><span class="n">SignificantDrawerCompiler</span><span class="p">)))</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">resourcePath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">assembly</span><span class="o">.</span><span class="n">GetManifestResourceNames</span><span class="p">()</span>
<span class="w">            </span><span class="o">.</span><span class="n">Single</span><span class="p">(</span><span class="nb">str</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nb">str</span><span class="o">.</span><span class="n">EndsWith</span><span class="p">(</span><span class="n">name</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">using</span><span class="w"> </span><span class="p">(</span><span class="n">Stream</span><span class="w"> </span><span class="n">stream</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">assembly</span><span class="o">.</span><span class="n">GetManifestResourceStream</span><span class="p">(</span><span class="n">resourcePath</span><span class="p">))</span>
<span class="w">    </span><span class="n">using</span><span class="w"> </span><span class="p">(</span><span class="n">StreamReader</span><span class="w"> </span><span class="n">reader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">StreamReader</span><span class="p">(</span><span class="n">stream</span><span class="p">))</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">reader</span><span class="o">.</span><span class="n">ReadToEnd</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>or as an async extension method:</p>
<div class="code"><pre class="code literal-block"><span class="nt">internal</span><span class="w"> </span><span class="nt">static</span><span class="w"> </span><span class="nt">class</span><span class="w"> </span><span class="nt">AssemblyExtensions</span>
<span class="p">{</span>
<span class="w">    </span><span class="err">public</span><span class="w"> </span><span class="err">static</span><span class="w"> </span><span class="err">async</span><span class="w"> </span><span class="err">Task&lt;string&gt;</span><span class="w"> </span><span class="err">ReadResourceAsync(this</span><span class="w"> </span><span class="err">Assembly</span><span class="w"> </span><span class="err">assembly,</span><span class="w"> </span><span class="err">string</span><span class="w"> </span><span class="err">name)</span>
<span class="w">    </span><span class="err">{</span>
<span class="w">        </span><span class="err">//</span><span class="w"> </span><span class="err">Determine</span><span class="w"> </span><span class="err">path</span>
<span class="w">        </span><span class="err">string</span><span class="w"> </span><span class="err">resourcePath</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">name</span><span class="p">;</span>
<span class="w">        </span><span class="err">//</span><span class="w"> </span><span class="n">Format</span><span class="p">:</span><span class="w"> </span><span class="s2">"{Namespace}.{Folder}.{filename}.{Extension}"</span>
<span class="w">        </span><span class="n">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">name</span><span class="o">.</span><span class="nf">StartsWith</span><span class="p">(</span><span class="nf">nameof</span><span class="p">(</span><span class="n">SignificantDrawerCompiler</span><span class="p">)))</span>
<span class="w">        </span><span class="err">{</span>
<span class="w">            </span><span class="n">resourcePath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">assembly</span><span class="o">.</span><span class="nf">GetManifestResourceNames</span><span class="p">()</span>
<span class="w">                </span><span class="o">.</span><span class="nf">Single</span><span class="p">(</span><span class="n">str</span><span class="w"> </span><span class="err">=&gt;</span><span class="w"> </span><span class="n">str</span><span class="err">.</span><span class="nf">EndsWith</span><span class="p">(</span><span class="n">name</span><span class="p">));</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="nt">using</span><span class="w"> </span><span class="nt">Stream</span><span class="w"> </span><span class="nt">stream</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">assembly</span><span class="p">.</span><span class="nc">GetManifestResourceStream</span><span class="o">(</span><span class="nt">resourcePath</span><span class="o">)!;</span>
<span class="w">        </span><span class="nt">using</span><span class="w"> </span><span class="nt">StreamReader</span><span class="w"> </span><span class="nt">reader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">new</span><span class="o">(</span><span class="nt">stream</span><span class="o">);</span>
<span class="w">        </span><span class="nt">return</span><span class="w"> </span><span class="nt">await</span><span class="w"> </span><span class="nt">reader</span><span class="p">.</span><span class="nc">ReadToEndAsync</span><span class="o">();</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>

<span class="o">//</span><span class="w"> </span><span class="nt">Usage</span>
<span class="nt">string</span><span class="w"> </span><span class="nt">resourceText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">await</span><span class="w"> </span><span class="nt">Assembly</span><span class="p">.</span><span class="nc">GetExecutingAssembly</span><span class="o">()</span><span class="p">.</span><span class="nc">ReadResourceAsync</span><span class="o">(</span><span class="s2">"myResourceName"</span><span class="o">);</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>You can add a file as a resource using two separate methods.</p>
<p><em>The C# code required to access the file is different</em> , depending on the
method used to add the file in the first place.</p>
<h3>Method 1: Add existing file, set property to <code>Embedded Resource</code>
</h3>
<p>Add the file to your project, then set the type to <code>Embedded Resource</code>.</p>
<p><em>NOTE: If you add the file using this method, you can
use<code>GetManifestResourceStream</code> to access it (see answer from @dtb).</em></p>
<p><img alt="enter image description here" src="images/qimwi.png"></p>
<h3>Method 2: Add file to <code>Resources.resx</code>
</h3>
<p>Open up the <code>Resources.resx</code> file, use the dropdown box to add the file, set
<code>Access Modifier</code> to <code>public</code>.</p>
<p><em>NOTE: If you add the file using this method, you can
use<code>Properties.Resources</code> to access it (see answer from @Night Walker).</em></p>
<p><img alt="enter image description here" src="images/m56aJ.png"></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-exactly-do-u-and-r-string-prefixes-do-and-what-are-raw-string-literals/" class="u-url">What exactly do "u" and "r" string prefixes do, and what are raw string literals?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-exactly-do-u-and-r-string-prefixes-do-and-what-are-raw-string-literals/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T11:58:16+08:00" itemprop="datePublished" title="2023-02-17 11:58">2023-02-17 11:58</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>While asking this question, I realized I didn't know much about raw strings.
For somebody claiming to be a Django trainer, this sucks.</p>
<p>I know what an encoding is, and I know what <code>u''</code> alone does since I get what
is Unicode.</p>
<ul>
<li>
<p>But what does <code>r''</code> do exactly? What kind of string does it result in?</p>
</li>
<li>
<p>And above all, what the heck does <code>ur''</code> do?</p>
</li>
<li>
<p>Finally, is there any reliable way to go back from a Unicode string to a simple raw string?</p>
</li>
<li>
<p>Ah, and by the way, if your system and your text editor charset are set to UTF-8, does <code>u''</code> actually do anything?</p>
</li>
</ul>
<p><br><br></p>
<h2>Answer</h2>
<p>There's not really any "raw <em>string</em> "; there are raw <em>string literals</em> ,
which are exactly the string literals marked by an <code>'r'</code> before the opening
quote.</p>
<p>A "raw string literal" is a slightly different syntax for a string literal, in
which a backslash, <code>\</code>, is taken as meaning "just a backslash" (except when it
comes right before a quote that would otherwise terminate the literal) -- no
"escape sequences" to represent newlines, tabs, backspaces, form-feeds, and so
on. In normal string literals, each backslash must be doubled up to avoid
being taken as the start of an escape sequence.</p>
<p>This syntax variant exists mostly because the syntax of regular expression
patterns is heavy with backslashes (but never at the end, so the "except"
clause above doesn't matter) and it looks a bit better when you avoid doubling
up each of them -- that's all. It also gained some popularity to express
native Windows file paths (with backslashes instead of regular slashes like on
other platforms), but that's very rarely needed (since normal slashes mostly
work fine on Windows too) and imperfect (due to the "except" clause above).</p>
<p><code>r'...'</code> is a byte string (in Python 2.<em>), <code>ur'...'</code> is a Unicode string
(again, in Python 2.</em>), and any of the other three kinds of quoting also
produces exactly the same types of strings (so for example <code>r'...'</code>,
<code>r'''...'''</code>, <code>r"..."</code>, <code>r"""..."""</code> are all byte strings, and so on).</p>
<p>Not sure what you mean by "going <em>back</em> " - there is no intrinsically back and
forward directions, because there's no raw string <strong>type</strong> , it's just an
alternative syntax to express perfectly normal string objects, byte or unicode
as they may be.</p>
<p>And yes, in Python 2.<em>, <code>u'...'</code> </em><em>is</em>* of course always distinct from just
<code>'...'</code> -- the former is a unicode string, the latter is a byte string. What
encoding the literal might be expressed in is a completely orthogonal issue.</p>
<p>E.g., consider (Python 2.6):</p>
<div class="code"><pre class="code literal-block">&gt;&gt;&gt; sys.getsizeof('ciao')
28
&gt;&gt;&gt; sys.getsizeof(u'ciao')
34
</pre></div>

<p>The Unicode object of course takes more memory space (very small difference
for a very short string, obviously ;-).</p>
<p><br></p>
<h3>Suggest</h3>
<p>There are two types of string in Python 2: the traditional <code>str</code> type and the
newer <code>unicode</code> type. If you type a string literal without the <code>u</code> in front
you get the old <code>str</code> type which stores 8-bit characters, and with the <code>u</code> in
front you get the newer <code>unicode</code> type that can store any Unicode character.</p>
<p>The <code>r</code> doesn't change the type at all, it just changes how the string literal
is interpreted. Without the <code>r</code>, backslashes are treated as escape characters.
With the <code>r</code>, backslashes are treated as literal. Either way, the type is the
same.</p>
<p><code>ur</code> is of course a Unicode string where backslashes are literal backslashes,
not part of escape codes.</p>
<p>You can try to convert a Unicode string to an old string using the <code>str()</code>
function, but if there are any unicode characters that cannot be represented
in the old string, you will get an exception. You could replace them with
question marks first if you wish, but of course this would cause those
characters to be unreadable. It is not recommended to use the <code>str</code> type if
you want to correctly handle unicode characters.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-638.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-636.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

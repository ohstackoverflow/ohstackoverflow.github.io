<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1270) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1270.html">
<link rel="prev" href="index-1271.html" type="text/html">
<link rel="next" href="index-1269.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/multiple-lines-of-input-in-input-type-text/" class="u-url">Multiple lines of input in &lt;input type="text" /&gt;</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/multiple-lines-of-input-in-input-type-text/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T05:20:54+08:00" itemprop="datePublished" title="2023-02-18 05:20">2023-02-18 05:20</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have this text input in a form:</p>
<div class="code"><pre class="code literal-block"><span class="o">&lt;</span><span class="nt">input</span><span class="w"> </span><span class="nt">type</span><span class="o">=</span><span class="s2">"text"</span>
<span class="w">       </span><span class="nt">cols</span><span class="o">=</span><span class="s2">"40"</span><span class="w"> </span>
<span class="w">       </span><span class="nt">rows</span><span class="o">=</span><span class="s2">"5"</span><span class="w"> </span>
<span class="w">       </span><span class="nt">style</span><span class="o">=</span><span class="s2">"width:200px; height:50px;"</span><span class="w"> </span>
<span class="w">       </span><span class="nt">name</span><span class="o">=</span><span class="s2">"Text1"</span><span class="w"> </span>
<span class="w">       </span><span class="nt">id</span><span class="o">=</span><span class="s2">"Text1"</span><span class="w"> </span>
<span class="w">       </span><span class="nt">value</span><span class="o">=</span><span class="s2">""</span><span class="w"> </span><span class="o">/&gt;</span>
</pre></div>

<p>I am trying to get it to take multiple lines of input. The width and height
make the box to be bigger, but the user can enter text all (s)he wants yet it
fills one line only.</p>
<p>How do I make the input more like a textarea?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You need to use a textarea to get multiline handling.</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;textarea</span><span class="w"> </span><span class="na">name=</span><span class="s">"Text1"</span><span class="w"> </span><span class="na">cols=</span><span class="s">"40"</span><span class="w"> </span><span class="na">rows=</span><span class="s">"5"</span><span class="nt">&gt;&lt;/textarea&gt;</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>You can't. At the time of writing, the only HTML form element that's designed
to be multi-line is <code>&lt;textarea&gt;</code>.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/type-definition-in-object-literal-in-typescript/" class="u-url">Type definition in object literal in TypeScript</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/type-definition-in-object-literal-in-typescript/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T05:20:29+08:00" itemprop="datePublished" title="2023-02-18 05:20">2023-02-18 05:20</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>In TypeScript classes it's possible to declare types for properties, for
example:</p>
<div class="code"><pre class="code literal-block"><span class="nt">class</span><span class="w"> </span><span class="nt">className</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">property</span><span class="p">:</span><span class="w"> </span><span class="n">string</span><span class="p">;</span>
<span class="p">}</span><span class="o">;</span>
</pre></div>

<p>How do declare the type of a property in an object literal?</p>
<p>I've tried the following code but it doesn't compile:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">property</span><span class="p">:</span><span class="w"> </span><span class="n">string</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>

<p>I'm getting the following error:</p>
<blockquote>
<p>The name 'string' does not exist in the current scope</p>
</blockquote>
<p>Am I doing something wrong or is this a bug?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You're pretty close, you just need to replace the <code>=</code> with a <code>:</code>. You can use
an object type literal (see spec section 3.5.3) or an interface. Using an
object type literal is close to what you have:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">obj</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">property</span><span class="p">:</span><span class="w"> </span><span class="n">string</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">property</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="w"> </span><span class="p">};</span>
</pre></div>

<p>But you can also use an interface</p>
<div class="code"><pre class="code literal-block"><span class="n">interface</span><span class="w"> </span><span class="n">MyObjLayout</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">property</span><span class="p">:</span><span class="w"> </span><span class="n">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">var</span><span class="w"> </span><span class="n">obj</span><span class="p">:</span><span class="w"> </span><span class="n">MyObjLayout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">property</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="w"> </span><span class="p">};</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<h4>Update 2019-05-15 (Improved Code Pattern as Alternative)</h4>
<p>After many years of using <code>const</code> and benefiting from more functional code, I
would recommend against using my original answers in most cases (the headings
below this section i.e. when building objects, forcing the type system into a
specific type instead of letting it infer types is often an indication that
something is wrong).</p>
<p>Instead I would recommend using <code>const</code> variables as much as possible and then
compose the object as the final step:</p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getId</span><span class="p">();</span>
<span class="k">const</span><span class="w"> </span><span class="n">hasStarted</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">true</span><span class="p">;</span>
<span class="o">...</span>
<span class="k">const</span><span class="w"> </span><span class="n">hasFinished</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">false</span><span class="p">;</span>
<span class="o">...</span>
<span class="k">return</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">hasStarted</span><span class="p">,</span><span class="w"> </span><span class="n">hasFinished</span><span class="p">,</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="p">};</span>
</pre></div>

<ul>
<li>This will properly type everything without any need for explicit typing.</li>
<li>There is no need to retype the field names.</li>
<li>This leads to the cleanest code from my experience.</li>
<li>This allows the compiler to provide more state verification (for example, if you return in multiple locations, the compiler will ensure the same type of object is always returned - which encourages you to declare the whole return value at each position - giving a perfectly clear intention of that value).</li>
</ul>
<h4>Bonus: Optional Fields 2022-09-29</h4>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getId</span><span class="p">();</span>
<span class="k">const</span><span class="w"> </span><span class="n">optionalField</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getOptionalValue</span><span class="p">();</span>
<span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">id</span><span class="p">,</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">always</span><span class="w"> </span><span class="n">exist</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">object</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">undefined</span>
<span class="w">    </span><span class="n">optionalField</span><span class="p">,</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">exist</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">object</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">truthy</span><span class="w"> </span><span class="n">value</span>
<span class="w">    </span><span class="o">...</span><span class="n">optionalField2</span><span class="w"> </span><span class="err">?</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">optionalField</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">exist</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">object</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">undefined</span>
<span class="w">    </span><span class="o">...</span><span class="n">optionalField2</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="w"> </span><span class="err">?</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">optionalField</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
<span class="p">};</span>
</pre></div>

<h4>Addition 2020-02-26</h4>
<p>If you do actually need a type that you can be lazily initialized: Mark it is
a nullable union type (null or Type). The type system will prevent you from
using it without first ensuring it has a value.</p>
<p>In <code>tsconfig.json</code>, make sure you enable strict null checks:</p>
<p><code>"strictNullChecks": true</code></p>
<p>Then use this pattern and allow the type system to protect you from accidental
null/undefined access:</p>
<div class="code"><pre class="code literal-block"><span class="k">const</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">instance</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">ApiService</span><span class="p">,</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">OR</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">instance</span><span class="p">:</span><span class="w"> </span><span class="n">undefined</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">undefined</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">ApiService</span><span class="p">,</span>

<span class="p">};</span>

<span class="k">const</span><span class="w"> </span><span class="n">useApi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">If</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="n">try</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">here</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">requires</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">safe</span><span class="w"> </span><span class="n">way</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">it</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Simple</span><span class="w"> </span><span class="n">lazy</span><span class="o">-</span><span class="n">initialization</span><span class="w"> </span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">api</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">state</span><span class="err">?</span><span class="o">.</span><span class="n">instance</span><span class="w"> </span><span class="err">??</span><span class="w"> </span><span class="p">(</span><span class="n">state</span><span class="o">.</span><span class="n">instance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">ApiService</span><span class="p">());</span>
<span class="w">    </span><span class="n">api</span><span class="o">.</span><span class="n">fun</span><span class="p">();</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Also</span><span class="w"> </span><span class="n">here</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">ways</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">value</span><span class="p">:</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="s1">'right'</span><span class="w"> </span><span class="n">way</span><span class="p">:</span><span class="w"> </span><span class="n">Typescript</span><span class="w"> </span><span class="mf">3.7</span><span class="w"> </span><span class="n">required</span>
<span class="w">    </span><span class="n">state</span><span class="o">.</span><span class="n">instance</span><span class="err">?</span><span class="o">.</span><span class="n">fun</span><span class="p">();</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">old</span><span class="w"> </span><span class="n">way</span><span class="p">:</span><span class="w"> </span><span class="n">If</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">stuck</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">Typescript</span><span class="w"> </span><span class="mf">3.7</span>
<span class="w">    </span><span class="n">state</span><span class="o">.</span><span class="n">instance</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">state</span><span class="o">.</span><span class="n">instance</span><span class="o">.</span><span class="n">fun</span><span class="p">();</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">long</span><span class="w"> </span><span class="n">winded</span><span class="w"> </span><span class="n">way</span><span class="w"> </span><span class="n">because</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">above</span><span class="w"> </span><span class="n">just</span><span class="w"> </span><span class="n">feels</span><span class="w"> </span><span class="n">weird</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">state</span><span class="o">.</span><span class="n">instance</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">state</span><span class="o">.</span><span class="n">instance</span><span class="o">.</span><span class="n">fun</span><span class="p">();</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="n">came</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">C</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">can</span><span class="s1">'t check for nulls like they are booleans way</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">state</span><span class="o">.</span><span class="n">instance</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">state</span><span class="o">.</span><span class="n">instance</span><span class="o">.</span><span class="n">fun</span><span class="p">();</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">Or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="n">came</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">C</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">can</span><span class="s1">'t check for nulls like they are booleans </span>
<span class="w">    </span><span class="o">//</span><span class="w"> </span><span class="n">AND</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">told</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">always</span><span class="w"> </span><span class="n">use</span><span class="w"> </span><span class="n">triple</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">javascript</span><span class="w"> </span><span class="n">even</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="w"> </span><span class="n">checks</span><span class="w"> </span><span class="n">way</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">state</span><span class="o">.</span><span class="n">instance</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">state</span><span class="o">.</span><span class="n">instance</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="n">undefined</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">state</span><span class="o">.</span><span class="n">instance</span><span class="o">.</span><span class="n">fun</span><span class="p">();</span><span class="w"> </span><span class="p">}</span>
<span class="p">};</span>

<span class="k">class</span><span class="w"> </span><span class="n">ApiService</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">fun</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="n">Do</span><span class="w"> </span><span class="n">something</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="n">here</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<hr>
<h4>Do not do the below in 99% of cases:</h4>
<h4>Update 2016-02-10 - To Handle TSX (Thanks @Josh)</h4>
<p>Use the <code>as</code> operator for TSX.</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">property</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">string</span>
<span class="p">};</span>
</pre></div>

<p>A longer example:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">hasStarted</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">boolean</span><span class="p">,</span>
<span class="w">    </span><span class="n">hasFinished</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">boolean</span><span class="p">,</span>
<span class="w">    </span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">number</span><span class="p">,</span>
<span class="p">};</span>
</pre></div>

<h4>Original Answer</h4>
<p>Use the cast operator to make this succinct (by casting null to the desired
type).</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">property</span><span class="p">:</span><span class="w"> </span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span><span class="w"> </span><span class="nb nb-Type">null</span>
<span class="p">};</span>
</pre></div>

<p>A longer example:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">hasStarted</span><span class="p">:</span><span class="w"> </span><span class="o">&lt;</span><span class="n">boolean</span><span class="o">&gt;</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">,</span>
<span class="w">    </span><span class="n">hasFinished</span><span class="p">:</span><span class="w"> </span><span class="o">&lt;</span><span class="n">boolean</span><span class="o">&gt;</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">,</span>
<span class="w">    </span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="o">&lt;</span><span class="n">number</span><span class="o">&gt;</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">,</span>
<span class="p">};</span>
</pre></div>

<p>This is much better than having two parts (one to declare types, the second to
declare defaults):</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">callVerbose</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">hasStarted</span><span class="p">:</span><span class="w"> </span><span class="n">boolean</span><span class="p">;</span>
<span class="w">    </span><span class="n">hasFinished</span><span class="p">:</span><span class="w"> </span><span class="n">boolean</span><span class="p">;</span>
<span class="w">    </span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="n">number</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">hasStarted</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">,</span>
<span class="w">    </span><span class="n">hasFinished</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">,</span>
<span class="w">    </span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">,</span>
<span class="p">};</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/private-properties-in-javascript-es6-classes/" class="u-url">Private properties in JavaScript ES6 classes</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/private-properties-in-javascript-es6-classes/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T05:19:58+08:00" itemprop="datePublished" title="2023-02-18 05:19">2023-02-18 05:19</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is it possible to create private properties in ES6 classes?</p>
<p>Here's an example. How can I prevent access to <code>instance.property</code>?</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span><span class="w"> </span><span class="n">Something</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">constructor</span><span class="p">(){</span>
<span class="w">    </span><span class="n">this</span><span class="o">.</span><span class="n">property</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"test"</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">var</span><span class="w"> </span><span class="n">instance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Something</span><span class="p">();</span>
<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">instance</span><span class="o">.</span><span class="n">property</span><span class="p">);</span><span class="w"> </span><span class="o">//=&gt;</span><span class="w"> </span><span class="s2">"test"</span>
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>Private class features is now supported by the majority of browsers.</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span><span class="w"> </span><span class="n">Something</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">#property;</span>

<span class="w">  </span><span class="n">constructor</span><span class="p">(){</span>
<span class="w">    </span><span class="n">this</span><span class="o">.</span><span class="c1">#property = "test";</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">#privateMethod() {</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s1">'hello world'</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">getPrivateMessage</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">this</span><span class="o">.</span><span class="c1">#property;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">const</span><span class="w"> </span><span class="n">instance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Something</span><span class="p">();</span>
<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">instance</span><span class="o">.</span><span class="n">property</span><span class="p">);</span><span class="w"> </span><span class="o">//=&gt;</span><span class="w"> </span><span class="n">undefined</span>
<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">instance</span><span class="o">.</span><span class="n">privateMethod</span><span class="p">);</span><span class="w"> </span><span class="o">//=&gt;</span><span class="w"> </span><span class="n">undefined</span>
<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">instance</span><span class="o">.</span><span class="n">getPrivateMessage</span><span class="p">());</span><span class="w"> </span><span class="o">//=&gt;</span><span class="w"> </span><span class="n">test</span>
<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">instance</span><span class="o">.</span><span class="c1">#property); //=&gt; Syntax error</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<h3>Update: See others answer, this is outdated.</h3>
<p>Short answer, no, there is no native support for private properties with ES6
classes.</p>
<p>But you could mimic that behaviour by not attaching the new properties to the
object, but keeping them inside a class constructor, and use getters and
setters to reach the hidden properties. Note that the getters and setters gets
redefine on each new instance of the class.</p>
<p>ES6</p>
<div class="code"><pre class="code literal-block"><span class="k">class</span><span class="w"> </span><span class="n">Person</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">constructor</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">var</span><span class="w"> </span><span class="n">_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span>
<span class="w">        </span><span class="n">this</span><span class="o">.</span><span class="n">setName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">        </span><span class="n">this</span><span class="o">.</span><span class="n">getName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">_name</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>ES5</p>
<div class="code"><pre class="code literal-block"><span class="n">function</span><span class="w"> </span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span>
<span class="w">    </span><span class="n">this</span><span class="o">.</span><span class="n">setName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="n">this</span><span class="o">.</span><span class="n">getName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">_name</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1271.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1269.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1886) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1886.html">
<link rel="prev" href="index-1887.html" type="text/html">
<link rel="next" href="index-1885.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-rename-a-table-in-sql-server/" class="u-url">How to rename a table in SQL Server?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-rename-a-table-in-sql-server/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T11:44:43+08:00" itemprop="datePublished" title="2023-03-03 11:44">2023-03-03 11:44</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>The <code>SQL</code> query that I have used is :</p>
<div class="code"><pre class="code literal-block">ALTER TABLE oldtable RENAME TO newtable;
</pre></div>

<p>But, it gives me an error.</p>
<blockquote>
<p>Server: Msg 156, Level 15, State 1, Line 1<br>
 Incorrect syntax near the keyword 'TO'.</p>
</blockquote>
<p><br><br></p>
<h2>Answer</h2>
<p>To rename a table in SQL Server, use the <code>sp_rename</code> command:</p>
<div class="code"><pre class="code literal-block"><span class="k">exec</span><span class="w"> </span><span class="nv">sp_rename</span><span class="w"> </span><span class="s1">'schema.old_table_name'</span>,<span class="w"> </span><span class="s1">'new_table_name'</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>To rename a column:</p>
<div class="code"><pre class="code literal-block">sp_rename 'table_name.old_column_name', 'new_column_name' , 'COLUMN';
</pre></div>

<p>To rename a table:</p>
<div class="code"><pre class="code literal-block">sp_rename 'old_table_name','new_table_name';
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-use-timeit-module/" class="u-url">How to use timeit module</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-use-timeit-module/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T11:44:18+08:00" itemprop="datePublished" title="2023-03-03 11:44">2023-03-03 11:44</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>How do I use <code>timeit</code> to compare the performance of my own functions such as
"<code>insertion_sort</code>" and "<code>tim_sort</code>"?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The way <em>timeit</em> works is to run setup code once and then make repeated calls
to a series of statements. So, if you want to test sorting, some care is
required so that one pass at an in-place sort doesn't affect the next pass
with already sorted data (that, of course, would make the Timsort really shine
because it performs best when the data already partially ordered).</p>
<p>Here is an example of how to set up a test for sorting:</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">timeit</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">setup</span> <span class="o">=</span> <span class="s1">'''</span>
<span class="s1">import random</span>

<span class="s1">random.seed('slartibartfast')</span>
<span class="s1">s = [random.random() for i in range(1000)]</span>
<span class="s1">timsort = list.sort</span>
<span class="s1">'''</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span> <span class="nb">min</span><span class="p">(</span><span class="n">timeit</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="s1">'a=s[:]; timsort(a)'</span><span class="p">,</span> <span class="n">setup</span><span class="o">=</span><span class="n">setup</span><span class="p">)</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">1000</span><span class="p">))</span>
<span class="mf">0.334147930145</span>
</pre></div>

<p>Note that the series of statements makes a fresh copy of the unsorted data on
every pass.</p>
<p>Also, note the timing technique of running the measurement suite seven times
and keeping only the best time -- this can really help reduce measurement
distortions due to other processes running on your system.</p>
<p>Those are my tips for using timeit correctly.</p>
<p><br></p>
<h3>Suggest</h3>
<p>The way <em>timeit</em> works is to run setup code once and then make repeated calls
to a series of statements. So, if you want to test sorting, some care is
required so that one pass at an in-place sort doesn't affect the next pass
with already sorted data (that, of course, would make the Timsort really shine
because it performs best when the data already partially ordered).</p>
<p>Here is an example of how to set up a test for sorting:</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">timeit</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">setup</span> <span class="o">=</span> <span class="s1">'''</span>
<span class="s1">import random</span>

<span class="s1">random.seed('slartibartfast')</span>
<span class="s1">s = [random.random() for i in range(1000)]</span>
<span class="s1">timsort = list.sort</span>
<span class="s1">'''</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span> <span class="nb">min</span><span class="p">(</span><span class="n">timeit</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="s1">'a=s[:]; timsort(a)'</span><span class="p">,</span> <span class="n">setup</span><span class="o">=</span><span class="n">setup</span><span class="p">)</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">1000</span><span class="p">))</span>
<span class="mf">0.334147930145</span>
</pre></div>

<p>Note that the series of statements makes a fresh copy of the unsorted data on
every pass.</p>
<p>Also, note the timing technique of running the measurement suite seven times
and keeping only the best time -- this can really help reduce measurement
distortions due to other processes running on your system.</p>
<p>Those are my tips for using timeit correctly.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-remove-a-field-completely-from-a-mongodb-document/" class="u-url">How to remove a field completely from a MongoDB document?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-remove-a-field-completely-from-a-mongodb-document/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T11:43:52+08:00" itemprop="datePublished" title="2023-03-03 11:43">2023-03-03 11:43</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <div class="code"><pre class="code literal-block">{ 
    name: 'book',
    tags: {
        words: ['abc','123'],
        lat: 33,
        long: 22
    }
}
</pre></div>

<p>Suppose this is a document. How do I remove "<code>words</code>" completely from all the
documents in this collection? I want all documents to be without "<code>words</code>":</p>
<div class="code"><pre class="code literal-block"> { 
     name: 'book',
     tags: {
         lat: 33,
         long: 22
     }
}
</pre></div>

<p><br><br></p>
<h2>Answer</h2>
<p>Try this: If your collection was 'example'</p>
<div class="code"><pre class="code literal-block"><span class="nt">db</span><span class="p">.</span><span class="nc">example</span><span class="p">.</span><span class="nc">update</span><span class="o">(</span><span class="p">{}</span><span class="o">,</span><span class="w"> </span><span class="p">{</span><span class="err">$</span><span class="n">unset</span><span class="p">:</span><span class="w"> </span><span class="err">{</span><span class="n">words</span><span class="o">:</span><span class="mi">1</span><span class="p">}</span><span class="err">}</span><span class="o">,</span><span class="w"> </span><span class="nt">false</span><span class="o">,</span><span class="w"> </span><span class="nt">true</span><span class="o">);</span>
</pre></div>

<p>Refer this:</p>
<p>http://www.mongodb.org/display/DOCS/Updating#Updating-%24unset</p>
<p><strong>UPDATE</strong> :</p>
<p>The above link no longer covers '$unset'ing. Be sure to add <code>{multi: true}</code> if
you want to remove this field from all of the documents in the collection;
otherwise, it will only remove it from the first document it finds that
matches. See this for updated documentation:</p>
<p>https://docs.mongodb.com/manual/reference/operator/update/unset/</p>
<p>Example:</p>
<div class="code"><pre class="code literal-block"><span class="nt">db</span><span class="p">.</span><span class="nc">example</span><span class="p">.</span><span class="nc">update</span><span class="o">(</span><span class="p">{}</span><span class="o">,</span><span class="w"> </span><span class="p">{</span><span class="err">$</span><span class="n">unset</span><span class="p">:</span><span class="w"> </span><span class="err">{</span><span class="n">words</span><span class="o">:</span><span class="mi">1</span><span class="p">}</span><span class="err">}</span><span class="w"> </span><span class="o">,</span><span class="w"> </span><span class="p">{</span><span class="n">multi</span><span class="p">:</span><span class="w"> </span><span class="n">true</span><span class="p">}</span><span class="o">);</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>In the beginning, I did not get why the question has a bounty (I thought that
the question has a nice answer and there is nothing to add), but then I
noticed that the answer which was accepted and upvoted 15 times was actually
wrong!</p>
<p>Yes, you have to use <code>$unset</code> operator, but this unset is going to remove the
words key which does not exist for a document for a collection. So basically
it will do nothing.</p>
<p>So you need to tell Mongo to look in the document tags and then in the words
using dot notation. So the correct query is.</p>
<div class="code"><pre class="code literal-block">db.example.update(
  {},
  { $unset: {'tags.words':1}},
  false, true
)
</pre></div>

<p>Just for the sake of completion, I will refer to another way of doing it,
which is much worse, but this way you can change the field with any custom
code (even based on another field from this document).</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1887.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1885.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

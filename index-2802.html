<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2802) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2802.html">
<link rel="prev" href="index-2803.html" type="text/html">
<link rel="next" href="index-2801.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-determine-what-type-of-exception-occurred/" class="u-url">How do I determine what type of exception occurred?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-determine-what-type-of-exception-occurred/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T19:01:56+08:00" itemprop="datePublished" title="2023-03-05 19:01">2023-03-05 19:01</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p><code>some_function()</code> raises an exception while executing, so the program jumps to
the <code>except</code>:</p>
<div class="code"><pre class="code literal-block"><span class="k">try</span><span class="o">:</span>
<span class="w">    </span><span class="n">some_function</span><span class="o">()</span>
<span class="n">except</span><span class="o">:</span>
<span class="w">    </span><span class="n">print</span><span class="o">(</span><span class="s2">"exception happened!"</span><span class="o">)</span>
</pre></div>

<p>How do I see what caused the exception to occur?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The other answers all point out that you should not catch generic exceptions,
but no one seems to want to tell you why, which is essential to understanding
when you can break the "rule". Here is an explanation. Basically, it's so that
you don't hide:</p>
<ul>
<li>the fact that an error occurred </li>
<li>the specifics of the error that occurred (error hiding antipattern)</li>
</ul>
<p>So as long as you take care to do none of those things, it's OK to catch the
generic exception. For instance, you could provide information about the
exception to the user another way, like:</p>
<ul>
<li>Present exceptions as dialogs in a GUI</li>
<li>Transfer exceptions from a worker thread or process to the controlling thread or process in a multithreading or multiprocessing application</li>
</ul>
<p>So how to catch the generic exception? There are several ways. If you just
want the exception object, do it like this:</p>
<div class="code"><pre class="code literal-block"><span class="k">try</span><span class="o">:</span>
<span class="w">    </span><span class="n">someFunction</span><span class="o">()</span>
<span class="n">except</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">ex</span><span class="o">:</span>
<span class="w">    </span><span class="n">template</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"An exception of type {0} occurred. Arguments:\n{1!r}"</span>
<span class="w">    </span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">template</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">type</span><span class="o">(</span><span class="n">ex</span><span class="o">).</span><span class="n">__name__</span><span class="o">,</span><span class="w"> </span><span class="n">ex</span><span class="o">.</span><span class="na">args</span><span class="o">)</span>
<span class="w">    </span><span class="n">print</span><span class="w"> </span><span class="n">message</span>
</pre></div>

<p>Make <em>sure</em> <code>message</code> is brought to the attention of the user in a hard-to-
miss way! Printing it, as shown above, may not be enough if the message is
buried in lots of other messages. Failing to get the users attention is
tantamount to swallowing all exceptions, and if there's one impression you
should have come away with after reading the answers on this page, it's that
this is <em>not a good thing</em>. Ending the except block with a <code>raise</code> statement
will remedy the problem by transparently reraising the exception that was
caught.</p>
<p>The difference between the above and using just <code>except:</code> without any argument
is twofold:</p>
<ul>
<li>A bare <code>except:</code> doesn't give you the exception object to inspect</li>
<li>The exceptions <code>SystemExit</code>, <code>KeyboardInterrupt</code> and <code>GeneratorExit</code> aren't caught by the above code, which is generally what you want. See the exception hierarchy.</li>
</ul>
<p>If you also want the same stacktrace you get if you do not catch the
exception, you can get that like this (still inside the except clause):</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">traceback</span>
<span class="nb">print</span> <span class="n">traceback</span><span class="o">.</span><span class="n">format_exc</span><span class="p">()</span>
</pre></div>

<p>If you use the <code>logging</code> module, you can print the exception to the log (along
with a message) like this:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">logging</span>
<span class="n">log</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span>
<span class="n">log</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="s2">"Message for you, sir!"</span><span class="p">)</span>
</pre></div>

<p>If you want to dig deeper and examine the stack, look at variables etc., use
the <code>post_mortem</code> function of the <code>pdb</code> module inside the except block:</p>
<div class="code"><pre class="code literal-block"><span class="kn">import</span> <span class="nn">pdb</span>
<span class="n">pdb</span><span class="o">.</span><span class="n">post_mortem</span><span class="p">()</span>
</pre></div>

<p>I've found this last method to be invaluable when hunting down bugs.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Get the name of the class that exception object belongs:</p>
<div class="code"><pre class="code literal-block">e.__class__.__name__
</pre></div>

<p>and using print_exc() function will also print stack trace which is essential
info for any error message.</p>
<p>Like this:</p>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">traceback</span> <span class="kn">import</span> <span class="n">print_exc</span>

<span class="k">class</span> <span class="nc">CustomException</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span> <span class="k">pass</span>

<span class="k">try</span><span class="p">:</span>
    <span class="k">raise</span> <span class="n">CustomException</span><span class="p">(</span><span class="s2">"hi"</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span> <span class="p">(</span><span class="s1">'type is:'</span><span class="p">,</span> <span class="n">e</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
    <span class="n">print_exc</span><span class="p">()</span>
    <span class="c1"># print("exception happened!")</span>
</pre></div>

<p>You will get output like this:</p>
<div class="code"><pre class="code literal-block">type is: CustomException
Traceback (most recent call last):
  File "exc.py", line 7, in &lt;module&gt;
    raise CustomException("hi")
CustomException: hi
</pre></div>

<p>And after print and analysis, the code can decide not to handle exception and
just execute <code>raise</code>:</p>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">traceback</span> <span class="kn">import</span> <span class="n">print_exc</span>

<span class="k">class</span> <span class="nc">CustomException</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span> <span class="k">pass</span>

<span class="k">def</span> <span class="nf">calculate</span><span class="p">():</span>
    <span class="k">raise</span> <span class="n">CustomException</span><span class="p">(</span><span class="s2">"hi"</span><span class="p">)</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">calculate</span><span class="p">()</span>
<span class="k">except</span> <span class="n">CustomException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="c1"># here do some extra steps in case of CustomException</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'custom logic doing cleanup and more'</span><span class="p">)</span>
    <span class="c1"># then re raise same exception</span>
    <span class="k">raise</span>
</pre></div>

<p>Output:</p>
<div class="code"><pre class="code literal-block">custom logic doing cleanup and more
</pre></div>

<p>And interpreter prints exception:</p>
<div class="code"><pre class="code literal-block">Traceback (most recent call last):
  File "test.py", line 9, in &lt;module&gt;
    calculate()
  File "test.py", line 6, in calculate
    raise CustomException("hi")
__main__.CustomException: hi
</pre></div>

<p>After <code>raise</code> original exception continues to propagate further up the call
stack. ( <strong>Beware of possible pitfall</strong> ) If you raise new exception it caries
new (shorter) stack trace.</p>
<div class="code"><pre class="code literal-block"><span class="kn">from</span> <span class="nn">traceback</span> <span class="kn">import</span> <span class="n">print_exc</span>

<span class="k">class</span> <span class="nc">CustomException</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ok</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ok</span> <span class="o">=</span> <span class="n">ok</span>

<span class="k">def</span> <span class="nf">calculate</span><span class="p">():</span>
    <span class="k">raise</span> <span class="n">CustomException</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">calculate</span><span class="p">()</span>
<span class="k">except</span> <span class="n">CustomException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">e</span><span class="o">.</span><span class="n">ok</span><span class="p">:</span>
        <span class="c1"># Always use `raise` to rethrow exception</span>
        <span class="c1"># following is usually mistake, but here we want to stress this point</span>
        <span class="k">raise</span> <span class="n">CustomException</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">ok</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"handling exception"</span><span class="p">)</span>
</pre></div>

<p>Output:</p>
<div class="code"><pre class="code literal-block">Traceback (most recent call last):
  File "test.py", line 13, in &lt;module&gt;
    raise CustomException(e.message)
__main__.CustomException: hi
</pre></div>

<p>Notice how traceback does not include <code>calculate()</code> function from line <code>9</code>
which is the origin of original exception <code>e</code>.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/docker-for-windows-error-hardware-assisted-virtualization-and-data-execution-protection-must-be-enabled-in-the-bios/" class="u-url">Docker for Windows error: "Hardware assisted virtualization and data execution protection must be enabled in the BIOS"</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/docker-for-windows-error-hardware-assisted-virtualization-and-data-execution-protection-must-be-enabled-in-the-bios/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T19:00:28+08:00" itemprop="datePublished" title="2023-03-05 19:00">2023-03-05 19:00</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I've installed Docker and I'm getting this error when I run the GUI:</p>
<blockquote>
<p>Hardware assisted virtualization and data execution protection must be
enabled in the BIOS</p>
</blockquote>
<p>Seems like a bug since Docker works like a charm from the command line, but
I'm wondering if anyone has a clue about why this is happening?</p>
<p>Before you ask, yes, I've enabled virtualization in the BIOS and the Intel
Processor Identification Utility confirms that it's activated. Docker, docker-
machine and docker-compose all work from the command line, Virtualbox works,
running Docker from a Debian or Ubuntu VM works.</p>
<p>There's just this weird issue about the GUI.</p>
<p>My specs:</p>
<ul>
<li>Windows 10 Pro x64 Anniversary Edition</li>
<li>Intel core i5-6300HQ @ 2.30GHz</li>
</ul>
<p><br><br></p>
<h2>Answer</h2>
<p>If the features described are enabled, the problem is with Hyper-V that is
disabled or Hypervisor agent not running.</p>
<p><strong>SOLUTION A</strong> (If Hyper-V is totally disabled or not installed)</p>
<ol>
<li>
<p>Open PowerShell as administrator and</p>
</li>
<li>
<p>Enable Hyper-V with</p>
</li>
</ol>
<p><code>dism.exe /Online /Enable-Feature:Microsoft-Hyper-V /All</code></p>
<p><strong>SOLUTION B</strong> (If Hyper-V feature is already enabled but doesn't work)</p>
<p>Enable Hypervisor with</p>
<div class="code"><pre class="code literal-block">bcdedit /set hypervisorlaunchtype auto
</pre></div>

<p>Now restart the system and try again.</p>
<p><strong>SOLUTION C</strong></p>
<p>If the problem persists, probably Hyper-V on your system is corrupted, so</p>
<ol>
<li>
<p>Go in <code>Control Panel -&gt; [Programs] -&gt; [Windows Features]</code> and completely uncheck all Hyper-V related components. Restart the system.</p>
</li>
<li>
<p>Enable Hyper-V again. Restart.</p>
</li>
</ol>
<p><strong><em>NOTE 1</em> :</strong></p>
<p>Hyper-V needs hardware virtualization as prerequisite. Make sure your PC
supports it, if yes and still won't work, there is the possibility your BIOS
is not configured correctly and this feature is disabled. In this case, check,
enable it and try again. The virtualization features could be reported under
different names according the platform used (e.g if you don't see any option
that uses virtualization label explicitly, on AMD you have to check <em>SVM</em>
feature state, on Intel the <em>VT-x</em> feature state).</p>
<p><em><strong>NOTE 2:</strong></em></p>
<p>Hyper-V <strong>can</strong> be installed only with some version e.g.:</p>
<blockquote>
<p>Windows 10 Enterprise; Windows 10 Professional; Windows 10 Education.</p>
</blockquote>
<p>Hyper-V <strong>cannot</strong> be installed on cheaper or mobile Windows versions e.g.:</p>
<blockquote>
<p>Windows 10 Home; Windows 10 Mobile; Windows 10 Mobile Enterprise.</p>
</blockquote>
<p><br></p>
<h3>Suggest</h3>
<p>Below is <strong>working solution</strong> for me, please follow these steps</p>
<ol>
<li>
<p>Open PowerShell as administrator or CMD prompt as administrator </p>
</li>
<li>
<p>Run this command in PowerShell-&gt; <code>bcdedit /set hypervisorlaunchtype auto</code></p>
</li>
<li>
<p>Now restart the system and try again.</p>
</li>
</ol>
<p>cheers.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/angularjs-http-post-does-not-send-data/" class="u-url">AngularJs $http.post() does not send data</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/angularjs-http-post-does-not-send-data/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T18:58:28+08:00" itemprop="datePublished" title="2023-03-05 18:58">2023-03-05 18:58</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Could anyone tell me why the following statement does not send the post data
to the designated url? The url is called but on the server when I print $_POST
- I get an empty array. If I print message in the console before adding it to
the data - it shows the correct content.</p>
<div class="code"><pre class="code literal-block">$http.post('request-url',  { 'message' : message });
</pre></div>

<p>I've also tried it with the data as string (with the same outcome):</p>
<div class="code"><pre class="code literal-block">$http.post('request-url',  "message=" + message);
</pre></div>

<p>It seem to be working when I use it in the following format:</p>
<div class="code"><pre class="code literal-block"><span class="o">$</span><span class="nt">http</span><span class="o">(</span><span class="p">{</span>
<span class="w">    </span><span class="n">method</span><span class="p">:</span><span class="w"> </span><span class="s1">'POST'</span><span class="p">,</span>
<span class="w">    </span><span class="n">url</span><span class="o">:</span><span class="w"> </span><span class="s1">'request-url'</span><span class="p">,</span>
<span class="w">    </span><span class="n">data</span><span class="o">:</span><span class="w"> </span><span class="s2">"message="</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">message</span><span class="p">,</span>
<span class="w">    </span><span class="n">headers</span><span class="o">:</span><span class="w"> </span><span class="err">{</span><span class="s1">'Content-Type'</span><span class="o">:</span><span class="w"> </span><span class="s1">'application/x-www-form-urlencoded'</span><span class="p">}</span>
<span class="err">}</span><span class="o">);</span>
</pre></div>

<p>but is there a way of doing it with the $http.post() - and do I always have to
include the header in order for it to work? I believe that the above content
type is specifying format of the sent data, but can I send it as javascript
object?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>I had the same problem using asp.net MVC and found the solution here</p>
<blockquote>
<p>There is much confusion among newcomers to <strong>AngularJS</strong> as to why the
<code>$http</code> service shorthand functions (<code>$http.post()</code>, etc.) don’t appear to
be swappable with the <strong>jQuery</strong> equivalents (<code>jQuery.post()</code>, etc.)</p>
<p>The difference is in how <strong>jQuery</strong> and <strong>AngularJS</strong> serialize and transmit
the data. Fundamentally, the problem lies with your server language of
choice being unable to understand AngularJS’s transmission natively ... By
default, <strong>jQuery</strong> transmits data using</p>
</blockquote>
<div class="code"><pre class="code literal-block">Content-Type: x-www-form-urlencoded
</pre></div>

<blockquote>
<p>and the familiar <code>foo=bar&amp;baz=moe</code> serialization.</p>
</blockquote>
<p><strong>AngularJS</strong> , however, transmits data using</p>
<blockquote>
<div class="code"><pre class="code literal-block">Content-Type: application/json
</pre></div>

<p>and <code>{ "foo": "bar", "baz": "moe" }</code></p>
<p>JSON serialization, which unfortunately some Web server languages— <em>notably
PHP</em> —do not unserialize natively.</p>
</blockquote>
<p>Works like a charm.</p>
<p><strong>CODE</strong></p>
<div class="code"><pre class="code literal-block"><span class="c1">// Your app's root module...</span>
<span class="n">angular</span><span class="p">.</span><span class="n">module</span><span class="p">(</span><span class="err">'</span><span class="n">MyModule</span><span class="err">'</span><span class="p">,</span><span class="w"> </span><span class="p">[],</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="n">$httpProvider</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Use x-www-form-urlencoded Content-Type</span>
<span class="w">  </span><span class="n">$httpProvider</span><span class="p">.</span><span class="n">defaults</span><span class="p">.</span><span class="n">headers</span><span class="p">.</span><span class="n">post</span><span class="p">[</span><span class="err">'</span><span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="err">'</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">'</span><span class="n">application</span><span class="o">/</span><span class="n">x</span><span class="o">-</span><span class="n">www</span><span class="o">-</span><span class="n">form</span><span class="o">-</span><span class="n">urlencoded</span><span class="p">;</span><span class="n">charset</span><span class="o">=</span><span class="n">utf</span><span class="mi">-8</span><span class="err">'</span><span class="p">;</span>

<span class="w">  </span><span class="cm">/**</span>
<span class="cm">   * The workhorse; converts an object to x-www-form-urlencoded serialization.</span>
<span class="cm">   * @param {Object} obj</span>
<span class="cm">   * @return {String}</span>
<span class="cm">   */</span><span class="w"> </span>
<span class="w">  </span><span class="n">var</span><span class="w"> </span><span class="n">param</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">var</span><span class="w"> </span><span class="n">query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">''</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">fullSubName</span><span class="p">,</span><span class="w"> </span><span class="n">subName</span><span class="p">,</span><span class="w"> </span><span class="n">subValue</span><span class="p">,</span><span class="w"> </span><span class="n">innerObj</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>

<span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">obj</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">obj</span><span class="p">[</span><span class="n">name</span><span class="p">];</span>

<span class="w">      </span><span class="k">if</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="n">instanceof</span><span class="w"> </span><span class="n">Array</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="n">value</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="n">subValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="w">          </span><span class="n">fullSubName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="sc">'['</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="sc">']'</span><span class="p">;</span>
<span class="w">          </span><span class="n">innerObj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{};</span>
<span class="w">          </span><span class="n">innerObj</span><span class="p">[</span><span class="n">fullSubName</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">subValue</span><span class="p">;</span>
<span class="w">          </span><span class="n">query</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">param</span><span class="p">(</span><span class="n">innerObj</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="sc">'&amp;'</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">      </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="n">instanceof</span><span class="w"> </span><span class="n">Object</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">for</span><span class="p">(</span><span class="n">subName</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="n">subValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value</span><span class="p">[</span><span class="n">subName</span><span class="p">];</span>
<span class="w">          </span><span class="n">fullSubName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="sc">'['</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">subName</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="sc">']'</span><span class="p">;</span>
<span class="w">          </span><span class="n">innerObj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{};</span>
<span class="w">          </span><span class="n">innerObj</span><span class="p">[</span><span class="n">fullSubName</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">subValue</span><span class="p">;</span>
<span class="w">          </span><span class="n">query</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">param</span><span class="p">(</span><span class="n">innerObj</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="sc">'&amp;'</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">      </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="n">undefined</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="n">null</span><span class="p">)</span>
<span class="w">        </span><span class="n">query</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">encodeURIComponent</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="sc">'='</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">encodeURIComponent</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="sc">'&amp;'</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">query</span><span class="p">.</span><span class="n">length</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">query</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">query</span><span class="p">.</span><span class="n">length</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">query</span><span class="p">;</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="c1">// Override $http service's default transformRequest</span>
<span class="w">  </span><span class="n">$httpProvider</span><span class="p">.</span><span class="n">defaults</span><span class="p">.</span><span class="n">transformRequest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">function</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">angular</span><span class="p">.</span><span class="n">isObject</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">String</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="err">'</span><span class="p">[</span><span class="n">object</span><span class="w"> </span><span class="n">File</span><span class="p">]</span><span class="err">'</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">param</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">data</span><span class="p">;</span>
<span class="w">  </span><span class="p">}];</span>
<span class="p">});</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>It's not super clear above, but if you are receiving the request in PHP you
can use:</p>
<p><code>$params = json_decode(file_get_contents('php://input'),true);</code></p>
<p>To access an array in PHP from an AngularJS POST.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2803.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2801.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

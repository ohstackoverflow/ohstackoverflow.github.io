<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 802) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-802.html">
<link rel="prev" href="index-803.html" type="text/html">
<link rel="next" href="index-801.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/get-class-list-for-element-with-jquery/" class="u-url">Get class list for element with jQuery</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/get-class-list-for-element-with-jquery/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T16:21:04+08:00" itemprop="datePublished" title="2023-02-17 16:21">2023-02-17 16:21</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is there a way in jQuery to loop through or assign to an array all of the
classes that are assigned to an element?</p>
<p>ex.</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">"Lorem ipsum dolor_spec sit amet"</span><span class="nt">&gt;</span>Hello<span class="w"> </span>World!<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p>I will be looking for a "special" class as in "dolor_spec" above. I know that
I could use hasClass() but the actual class name may not necessarily be known
at the time.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>You can use <code>document.getElementById('divId').className.split(/\s+/);</code> to get
you an array of class names.</p>
<p>Then you can iterate and find the one you want.</p>
<div class="code"><pre class="code literal-block"><span class="nf">var</span><span class="w"> </span><span class="n">classList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">document</span><span class="p">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s1">'divId'</span><span class="p">).</span><span class="n">className</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="o">/</span><span class="err">\</span><span class="n">s</span><span class="o">+/</span><span class="p">);</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="nf">var</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">classList</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">classList</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">'someClass'</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="o">//</span><span class="n">do</span><span class="w"> </span><span class="n">something</span>
<span class="w">    </span><span class="err">}</span>
<span class="err">}</span>
</pre></div>

<p>jQuery does not really help you here...</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">classList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="s1">'#divId'</span><span class="p">)</span><span class="o">.</span><span class="n">attr</span><span class="p">(</span><span class="s1">'class'</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="o">/</span>\<span class="n">s</span><span class="o">+/</span><span class="p">);</span>
<span class="o">$.</span><span class="n">each</span><span class="p">(</span><span class="n">classList</span><span class="p">,</span><span class="w"> </span><span class="n">function</span><span class="p">(</span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="n">item</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">item</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">'someClass'</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="o">//</span><span class="n">do</span><span class="w"> </span><span class="n">something</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">});</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Why has no one simply listed.</p>
<div class="code"><pre class="code literal-block">$(element).attr("class").split(/\s+/);
</pre></div>

<p>EDIT: Split on <code>/\s+/</code> instead of <code>' '</code> to fix @MarkAmery's objection. (Thanks
@YashaOlatoto.)</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/metadataexception-unable-to-load-the-specified-metadata-resource/" class="u-url">MetadataException: Unable to load the specified metadata resource</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/metadataexception-unable-to-load-the-specified-metadata-resource/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T16:20:36+08:00" itemprop="datePublished" title="2023-02-17 16:20">2023-02-17 16:20</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>All of a sudden I keep getting a <code>MetadataException</code> on instantiating my
generated <code>ObjectContext</code> class. The connection string in App.Config looks
correct - hasn't changed since last it worked - and I've tried regenerating a
new model (edmx-file) from the underlying database with no change.</p>
<p>Anyone have any ideas?</p>
<p>Further details: I haven't changed any properties, I haven't changed the name
of any output assemblies, I haven't tried to embed the EDMX in the assembly.
I've merely waited 10 hours from leaving work until I got back. And then it
wasn't working anymore.</p>
<p>I've tried recreating the EDMX. I've tried recreating the project. I've even
tried recreating the database, from scratch. No luck, whatsoever.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>This means that the application is unable to load the EDMX. There are several
things which can cause this.</p>
<ul>
<li>You might have changed the MetadataArtifactProcessing property of the model to Copy to Output Directory.</li>
<li>The connection string could be wrong. I know you say you haven't changed it, but if you have changed other things (say, the name of an assembly), it could still be wrong.</li>
<li>You might be using a post-compile task to embed the EDMX in the assembly, which is no longer working for some reason.</li>
</ul>
<p>In short, there is not really enough detail in your question to give an
accurate answer, but hopefully these ideas should get you on the right track.</p>
<p><strong>Update:</strong> I've written a blog post with more complete steps for
troubleshooting.</p>
<p><br></p>
<h3>Suggest</h3>
<p>A minor amendment helped me with this problem.</p>
<p>I had a solution with 3 project references:</p>
<div class="code"><pre class="code literal-block"><span class="nt">connectionString</span><span class="o">=</span><span class="err">"</span><span class="nt">metadata</span><span class="o">=</span><span class="nt">res</span><span class="o">:/</span><span class="c">/*/Model.Project.csdl|res://*/</span><span class="nt">Model</span><span class="p">.</span><span class="nc">Project</span><span class="p">.</span><span class="nc">ssdl</span><span class="o">|</span><span class="nt">res</span><span class="o">://*/</span><span class="nt">Model</span><span class="p">.</span><span class="nc">Project</span><span class="p">.</span><span class="nc">msl</span><span class="o">;</span>
</pre></div>

<p>which I changed to:</p>
<div class="code"><pre class="code literal-block"><span class="nt">connectionString</span><span class="o">=</span><span class="err">"</span><span class="nt">metadata</span><span class="o">=</span><span class="nt">res</span><span class="o">://*/;</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-write-standard-error-to-a-file-while-using-tee-with-a-pipe/" class="u-url">How do I write standard error to a file while using "tee" with a pipe?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-write-standard-error-to-a-file-while-using-tee-with-a-pipe/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-17T16:20:07+08:00" itemprop="datePublished" title="2023-02-17 16:20">2023-02-17 16:20</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I know how to use <code>tee</code> to write the output (standard output) of <code>aaa.sh</code> to
<code>bbb.out</code>, while still displaying it in the terminal:</p>
<div class="code"><pre class="code literal-block">./aaa.sh | tee bbb.out
</pre></div>

<p>How would I now also write standard error to a file named <code>ccc.out</code>, while
still having it displayed?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>I'm assuming you want to still see standard error and standard output on the
terminal. You could go for Josh Kelley's answer, but I find keeping a <code>tail</code>
around in the background which outputs your log file very hackish and cludgy.
Notice how you need to keep an extra file descriptor and do cleanup afterward
by killing it and technically should be doing that in a <code>trap '...' EXIT</code>.</p>
<p>There is a better way to do this, and you've already discovered it: <code>tee</code>.</p>
<p>Only, instead of just using it for your standard output, have a tee for
standard output and one for standard error. How will you accomplish this?
Process substitution and file redirection:</p>
<div class="code"><pre class="code literal-block">command &gt; &gt;(tee -a stdout.log) 2&gt; &gt;(tee -a stderr.log &gt;&amp;2)
</pre></div>

<p>Let's split it up and explain:</p>
<div class="code"><pre class="code literal-block">&gt; &gt;(..)
</pre></div>

<p><code>&gt;(...)</code> (process substitution) creates a FIFO and lets <code>tee</code> listen on it.
Then, it uses <code>&gt;</code> (file redirection) to redirect the standard output of
<code>command</code> to the FIFO that your first <code>tee</code> is listening on.</p>
<p>The same thing for the second:</p>
<div class="code"><pre class="code literal-block"><span class="mf">2</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&gt;</span><span class="p">(</span><span class="n">tee</span><span class="w"> </span><span class="o">-</span><span class="n">a</span><span class="w"> </span><span class="n">stderr</span><span class="mf">.</span><span class="nb">log</span><span class="w"> </span><span class="o">&gt;</span><span class="err">&amp;</span><span class="mf">2</span><span class="p">)</span>
</pre></div>

<p>We use process substitution again to make a <code>tee</code> process that reads from
standard input and dumps it into <code>stderr.log</code>. <code>tee</code> outputs its input back on
standard output, but since its input is our standard error, we want to
redirect <code>tee</code>'s standard output to our standard error again. Then we use file
redirection to redirect <code>command</code>'s standard error to the FIFO's input
(<code>tee</code>'s standard input).</p>
<p>See <em>Input And Output</em></p>
<p>Process substitution is one of those really lovely things you get as a bonus
of choosing Bash as your shell as opposed to <code>sh</code> (POSIX or Bourne).</p>
<hr>
<p>In <code>sh</code>, you'd have to do things manually:</p>
<div class="code"><pre class="code literal-block"><span class="s s-Atom">out=</span><span class="s2">"${TMPDIR:-/tmp}/out.$$"</span> <span class="s s-Atom">err=</span><span class="s2">"${TMPDIR:-/tmp}/err.$$"</span>
<span class="s s-Atom">mkfifo</span> <span class="s2">"$out"</span> <span class="s2">"$err"</span>
<span class="s s-Atom">trap</span> <span class="s s-Atom">'rm "$out" "$err"'</span> <span class="nv">EXIT</span>
<span class="s s-Atom">tee</span> <span class="o">-</span><span class="s s-Atom">a</span> <span class="s s-Atom">stdout</span><span class="p">.</span><span class="s s-Atom">log</span> <span class="o">&lt;</span> <span class="s2">"$out"</span> <span class="s s-Atom">&amp;</span>
<span class="s s-Atom">tee</span> <span class="o">-</span><span class="s s-Atom">a</span> <span class="s s-Atom">stderr</span><span class="p">.</span><span class="s s-Atom">log</span> <span class="o">&lt;</span> <span class="s2">"$err"</span> <span class="s s-Atom">&gt;&amp;</span><span class="mi">2</span> <span class="s s-Atom">&amp;</span>
<span class="s s-Atom">command</span> <span class="s s-Atom">&gt;</span><span class="s2">"$out"</span> <span class="mi">2</span><span class="s s-Atom">&gt;</span><span class="s2">"$err"</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Simply:</p>
<div class="code"><pre class="code literal-block">./aaa.sh 2&gt;&amp;1 | tee -a log
</pre></div>

<p>This simply redirects standard error to standard output, so tee echoes both to
<em>log</em> and to the screen. Maybe I'm missing something, because some of the
other solutions seem really complicated.</p>
<p><strong>Note:</strong> Since Bash version 4 you may use <code>|&amp;</code> as an abbreviation for <code>2&gt;&amp;1
|</code>:</p>
<div class="code"><pre class="code literal-block">./aaa.sh |&amp; tee -a log
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-803.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-801.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

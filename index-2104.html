<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2104) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2104.html">
<link rel="prev" href="index-2105.html" type="text/html">
<link rel="next" href="index-2103.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/virtual-pure-virtual-explained/" class="u-url">Virtual/pure virtual explained</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/virtual-pure-virtual-explained/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T17:02:07+08:00" itemprop="datePublished" title="2023-03-03 17:02">2023-03-03 17:02</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What exactly does it mean if a function is defined as virtual and is that the
same as pure virtual?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>From Wikipedia's Virtual function ...</p>
<blockquote>
<p>In object-oriented programming, in languages such as C++, and Object Pascal,
a virtual function or virtual method is an inheritable and overridable
function or method for which dynamic dispatch is facilitated. This concept
is an important part of the (runtime) polymorphism portion of object-
oriented programming (OOP). In short, a virtual function defines a target
function to be executed, but the target might not be known at compile time.</p>
</blockquote>
<p>Unlike a non-virtual function, when a virtual function is overridden the most-
derived version is used at all levels of the class hierarchy, rather than just
the level at which it was created. Therefore if one method of the base class
<em>calls</em> a virtual method, the version defined in the derived class will be
used instead of the version defined in the base class.</p>
<p>This is in contrast to non-virtual functions, which can still be overridden in
a derived class, but the "new" version will only be used by the derived class
and below, but will not change the functionality of the base class at all.</p>
<p>whereas..</p>
<blockquote>
<p>A pure virtual function or pure virtual method is a virtual function that is
required to be implemented by a derived class if the derived class is not
abstract.</p>
</blockquote>
<p>When a pure virtual method exists, the class is "abstract" and can not be
instantiated on its own. Instead, a derived class that implements the pure-
virtual method(s) must be used. A pure-virtual isn't defined in the base-class
at all, so a derived class <em>must</em> define it, or that derived class is also
abstract, and can not be instantiated. Only a class that has no abstract
methods can be instantiated.</p>
<p>A virtual provides a way to override the functionality of the base class, and
a pure-virtual <em>requires</em> it.</p>
<p><br></p>
<h3>Suggest</h3>
<p>I'd like to comment on Wikipedia's definition of virtual, as repeated by
several here. [At the time this answer was written,] Wikipedia defined a
virtual method as one that can be overridden in subclasses. [Fortunately,
Wikipedia has been edited since, and it now explains this correctly.] That is
incorrect: any method, not just virtual ones, can be overridden in subclasses.
What virtual does is to give you polymorphism, that is, the <strong>ability to
select at run-time the most-derived override of a method</strong>.</p>
<p>Consider the following code:</p>
<div class="code"><pre class="code literal-block"><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="n">using</span><span class="w"> </span><span class="n">namespace</span><span class="w"> </span><span class="nn">std</span><span class="p">;</span>

<span class="kr">class</span><span class="w"> </span><span class="nc">Base</span><span class="w"> </span><span class="p">{</span>
<span class="kr">public</span><span class="o">:</span>
<span class="w">    </span><span class="kr">void</span><span class="w"> </span><span class="n">NonVirtual</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"Base NonVirtual called.</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="kr">virtual</span><span class="w"> </span><span class="kr">void</span><span class="w"> </span><span class="n">Virtual</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"Base Virtual called.</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">};</span>
<span class="kr">class</span><span class="w"> </span><span class="nc">Derived</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kr">public</span><span class="w"> </span><span class="n">Base</span><span class="w"> </span><span class="p">{</span>
<span class="kr">public</span><span class="o">:</span>
<span class="w">    </span><span class="kr">void</span><span class="w"> </span><span class="n">NonVirtual</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"Derived NonVirtual called.</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="kr">void</span><span class="w"> </span><span class="n">Virtual</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"Derived Virtual called.</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">};</span>

<span class="kr">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Base</span><span class="o">*</span><span class="w"> </span><span class="n">bBase</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Base</span><span class="p">();</span>
<span class="w">    </span><span class="n">Base</span><span class="o">*</span><span class="w"> </span><span class="n">bDerived</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Derived</span><span class="p">();</span>

<span class="w">    </span><span class="n">bBase</span><span class="o">-&gt;</span><span class="n">NonVirtual</span><span class="p">();</span>
<span class="w">    </span><span class="n">bBase</span><span class="o">-&gt;</span><span class="n">Virtual</span><span class="p">();</span>
<span class="w">    </span><span class="n">bDerived</span><span class="o">-&gt;</span><span class="n">NonVirtual</span><span class="p">();</span>
<span class="w">    </span><span class="n">bDerived</span><span class="o">-&gt;</span><span class="n">Virtual</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>

<p>What is the output of this program?</p>
<div class="code"><pre class="code literal-block">Base NonVirtual called.
Base Virtual called.
Base NonVirtual called.
Derived Virtual called.
</pre></div>

<p>Derived overrides every method of Base: not just the virtual one, but also the
non-virtual.</p>
<p>We see that when you have a Base-pointer-to-Derived (bDerived), calling
NonVirtual calls the Base class implementation. This is resolved at compile-
time: the compiler sees that bDerived is a Base*, that NonVirtual is not
virtual, so it does the resolution on class Base.</p>
<p>However, calling Virtual calls the Derived class implementation. Because of
the keyword virtual, the selection of the method happens at <em>run-time</em> , not
compile-time. What happens here at compile-time is that the compiler sees that
this is a Base*, and that it's calling a virtual method, so it insert a call
to the vtable instead of class Base. This vtable is instantiated at run-time,
hence the run-time resolution to the most-derived override.</p>
<p>I hope this wasn't too confusing. In short, any method can be overridden, but
only virtual methods give you polymorphism, that is, run-time selection of the
most derived override. In practice, however, overriding a non-virtual method
is considered bad practice and rarely used, so many people (including whoever
wrote that Wikipedia article) think that only virtual methods can be
overridden.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-s-the-difference-between-process-cwd-vs-dirname/" class="u-url">What's the difference between process.cwd() vs __dirname?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-s-the-difference-between-process-cwd-vs-dirname/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T17:01:46+08:00" itemprop="datePublished" title="2023-03-03 17:01">2023-03-03 17:01</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What's the difference between</p>
<div class="code"><pre class="code literal-block">console.log(process.cwd())
</pre></div>

<p>and</p>
<div class="code"><pre class="code literal-block">console.log(__dirname);
</pre></div>

<p>I've seen both used in similar contexts.</p>
<p><br><br></p>
<h2>Answer</h2>
<p><code>process.cwd()</code> returns the current working directory,</p>
<p>i.e. the directory from which you invoked the <code>node</code> command.</p>
<p><code>__dirname</code> returns the directory name of the directory containing the
JavaScript source code file</p>
<p><br></p>
<h3>Suggest</h3>
<p>As per node js doc <code>process.cwd()</code></p>
<p><code>cwd</code> is a method of global object <code>process</code>, returns a string value which is
the current working directory of the Node.js process.</p>
<p>As per node js doc <code>__dirname</code></p>
<p>The directory name of current script as a string value. <code>__dirname</code> is not
actually a global but rather local to each module.</p>
<p>Let me explain with examples:</p>
<p>suppose we have a <code>main.js</code> file that resides inside <code>C:/Project/main.js</code> and
running <code>node main.js</code> both these values return same file.</p>
<p>or simply with the following folder structure</p>
<div class="code"><pre class="code literal-block">Project 
├── main.js
└──lib
   └── script.js
</pre></div>

<p><code>main.js</code></p>
<div class="code"><pre class="code literal-block">console.log(process.cwd())
// C:\Project
console.log(__dirname)
// C:\Project
console.log(__dirname === process.cwd())
// true
</pre></div>

<p>suppose we have another file <code>script.js</code> files inside a sub directory of
project, i.e. <code>C:/Project/lib/script.js</code> and running <code>node main.js</code> which
require <code>script.js</code></p>
<p><code>main.js</code></p>
<div class="code"><pre class="code literal-block">require('./lib/script.js')
console.log(process.cwd())
// C:\Project
console.log(__dirname)
// C:\Project
console.log(__dirname === process.cwd())
// true
</pre></div>

<p><code>script.js</code></p>
<div class="code"><pre class="code literal-block">console.log(process.cwd())
// C:\Project
console.log(__dirname)
// C:\Project\lib
console.log(__dirname === process.cwd())
// false
</pre></div>

<blockquote>
<p>Simply it can be stated as:</p>
<p><code>process.cwd()</code> returns the value of directory where we run the node
process, whereas</p>
<p><code>__dirname</code> returns the value of directory where the current running file
resides.</p>
</blockquote>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/css-not-last-child-after-selector/" class="u-url">CSS :not(:last-child):after selector</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/css-not-last-child-after-selector/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T17:01:22+08:00" itemprop="datePublished" title="2023-03-03 17:01">2023-03-03 17:01</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a list of elements, which are styled like this:</p>
<div class="code"><pre class="code literal-block">ul<span class="w"> </span>{
<span class="w">    </span>list-style-type:<span class="w"> </span>none;
<span class="w">    </span>text-align:<span class="w"> </span>center;
}

li<span class="w"> </span>{
<span class="w">    </span>display:<span class="w"> </span>inline;
}

li:not(:last-child):after<span class="w"> </span>{
<span class="w">    </span>content:'<span class="w"> </span>|';
}


<span class="nt">&lt;ul&gt;</span>
<span class="w">    </span><span class="nt">&lt;li&gt;</span>One<span class="nt">&lt;/li&gt;</span>
<span class="w">    </span><span class="nt">&lt;li&gt;</span>Two<span class="nt">&lt;/li&gt;</span>
<span class="w">    </span><span class="nt">&lt;li&gt;</span>Three<span class="nt">&lt;/li&gt;</span>
<span class="w">    </span><span class="nt">&lt;li&gt;</span>Four<span class="nt">&lt;/li&gt;</span>
<span class="w">    </span><span class="nt">&lt;li&gt;</span>Five<span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span>
</pre></div>

<p>Outputs <code>One | Two | Three | Four | Five |</code> instead of <code>One | Two | Three |
Four | Five</code></p>
<p>Anyone know how to CSS select all but the last element?</p>
<p>You can see the definition of the <code>:not()</code> selector here</p>
<p><br><br></p>
<h2>Answer</h2>
<p>If it's a problem with the not selector, you can set all of them and override
the last one</p>
<div class="code"><pre class="code literal-block"><span class="n">li</span><span class="o">:</span><span class="n">after</span>
<span class="o">{</span>
<span class="w">  </span><span class="n">content</span><span class="o">:</span><span class="w"> </span><span class="s1">' |'</span><span class="o">;</span>
<span class="o">}</span>
<span class="n">li</span><span class="o">:</span><span class="n">last</span><span class="o">-</span><span class="n">child</span><span class="o">:</span><span class="n">after</span>
<span class="o">{</span>
<span class="w">  </span><span class="n">content</span><span class="o">:</span><span class="w"> </span><span class="s1">''</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>

<p>or if you can use before, no need for last-child</p>
<div class="code"><pre class="code literal-block"><span class="nt">li</span><span class="o">+</span><span class="nt">li</span><span class="p">:</span><span class="nd">before</span>
<span class="p">{</span>
<span class="w">  </span><span class="k">content</span><span class="p">:</span><span class="w"> </span><span class="s1">'| '</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Every things seems correct. You might want to use the following css selector
instead of what you used.</p>
<div class="code"><pre class="code literal-block">ul &gt; li:not(:last-child)::after
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2105.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2103.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

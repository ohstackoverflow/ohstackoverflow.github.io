<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2600) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2600.html">
<link rel="prev" href="index-2601.html" type="text/html">
<link rel="next" href="index-2599.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/difference-between-spi-and-api/" class="u-url">Difference between SPI and API?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/difference-between-spi-and-api/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T03:57:32+08:00" itemprop="datePublished" title="2023-03-05 03:57">2023-03-05 03:57</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What is the difference between Service Provider Interface (SPI) and
Application Programming Interface (API)?</p>
<p>More specifically, for Java libraries, what makes them an API and/or SPI?</p>
<p><br><br></p>
<h2>Answer</h2>
<ul>
<li>The API is the description of classes/interfaces/methods/... that you <em>call and use</em> to achieve a goal, and</li>
<li>the SPI is the description of classes/interfaces/methods/... that you <em>extend and implement</em> to achieve a goal.</li>
</ul>
<p>Put differently, the API tells you what a specific class/method does for you,
and the SPI tells you what you must do to conform.</p>
<p>Usually API and SPI are separate. For example, in JDBC the <code>Driver</code> class is
part of the SPI: If you simply want to use JDBC, you don't need to use it
directly, but everyone who implements a JDBC driver must implement that class.</p>
<p>Sometimes they overlap, however. The <code>Connection</code> interface is <strong>both</strong> SPI
and API: You use it routinely when you use a JDBC driver and it needs to be
implemented by the developer of the JDBC driver.</p>
<p><br></p>
<h3>Suggest</h3>
<p>From <em>Effective Java, 2nd Edition</em> :</p>
<blockquote>
<p>A service provider framework is a system in which multiple service providers
implement a service, and the system makes the implementations available to
its clients, decoupling them from the implementations.</p>
<p>There are three essential components of a service provider framework: a
service interface, which providers implement; a provider registration API,
which the system uses to register implementations, giving clients access to
them; and a service access API, which clients use to obtain an instance of
the service. The service access API typically allows but does not require
the client to specify some criteria for choosing a provider. In the absence
of such a specification, the API returns an instance of a default
implementation. The service access API is the “flexible static factory” that
forms the basis of the service provider framework.</p>
<p>An optional fourth component of a service provider framework is a service
provider interface, which providers implement to create instances of their
service implementation. In the absence of a service provider interface,
implementations are registered by class name and instantiated reflectively
(Item 53). In the case of JDBC, Connection plays the part of the service
interface, DriverManager.registerDriver is the provider registration API,
DriverManager.getConnection is the service access API, and Driver is the
service provider interface.</p>
<p>There are numerous variants of the service provider framework pattern. For
example, the service access API can return a richer service interface than
the one required of the provider, using the Adapter pattern [Gamma95, p.
139]. Here is a simple implementation with a service provider interface and
a default provider:</p>
</blockquote>
<div class="code"><pre class="code literal-block"><span class="c1">// Service provider framework sketch</span>

<span class="c1">// Service interface</span>
<span class="n">public</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="n">Service</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">...</span><span class="w"> </span><span class="c1">// Service-specific methods go here</span>
<span class="p">}</span>

<span class="c1">// Service provider interface</span>
<span class="n">public</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="n">Provider</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Service</span><span class="w"> </span><span class="n">newService</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">// Noninstantiable class for service registration and access</span>
<span class="n">public</span><span class="w"> </span><span class="n">class</span><span class="w"> </span><span class="n">Services</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">private</span><span class="w"> </span><span class="n">Services</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">  </span><span class="c1">// Prevents instantiation (Item 4)</span>

<span class="w">    </span><span class="c1">// Maps service names to services</span>
<span class="w">    </span><span class="n">private</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">final</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Provider</span><span class="o">&gt;</span><span class="w"> </span><span class="n">providers</span><span class="w"> </span><span class="p">=</span>
<span class="w">        </span><span class="n">new</span><span class="w"> </span><span class="n">ConcurrentHashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Provider</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">DEFAULT_PROVIDER_NAME</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">"&lt;def&gt;"</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Provider registration API</span>
<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">void</span><span class="w"> </span><span class="n">registerDefaultProvider</span><span class="p">(</span><span class="n">Provider</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">registerProvider</span><span class="p">(</span><span class="n">DEFAULT_PROVIDER_NAME</span><span class="p">,</span><span class="w"> </span><span class="n">p</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">void</span><span class="w"> </span><span class="n">registerProvider</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">Provider</span><span class="w"> </span><span class="n">p</span><span class="p">){</span>
<span class="w">        </span><span class="n">providers</span><span class="p">.</span><span class="n">put</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">p</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Service access API</span>
<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">Service</span><span class="w"> </span><span class="n">newInstance</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">newInstance</span><span class="p">(</span><span class="n">DEFAULT_PROVIDER_NAME</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">Service</span><span class="w"> </span><span class="n">newInstance</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Provider</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">providers</span><span class="p">.</span><span class="k">get</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">null</span><span class="p">)</span>
<span class="w">            </span><span class="n">throw</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="p">(</span>
<span class="w">                </span><span class="s">"No provider registered with name: "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">name</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">newService</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/what-is-the-difference-between-focus-and-active/" class="u-url">What is the difference between :focus and :active?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/what-is-the-difference-between-focus-and-active/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T03:56:06+08:00" itemprop="datePublished" title="2023-03-05 03:56">2023-03-05 03:56</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What is the difference between the <code>:focus</code> and <code>:active</code> pseudo-classes?</p>
<p><br><br></p>
<h2>Answer</h2>
<p><code>:focus</code> and <code>:active</code> are two different states.</p>
<ul>
<li>
<code>:focus</code> represents the state when the element is currently selected to receive input and </li>
<li>
<code>:active</code> represents the state when the element is currently being activated by the user.</li>
</ul>
<p>For example let's say we have a <code>&lt;button&gt;</code>. The <code>&lt;button&gt;</code> will not have any
state to begin with. It just exists. If we use <code>Tab</code> to give "focus" to the
<code>&lt;button&gt;</code>, it now enters its <code>:focus</code> state. If you then click (or press
<code>space</code>), you then make the button enter its (<code>:active</code>) state.</p>
<p>On that note, when you click on an element, you give it focus, which also
cultivates the illusion that <code>:focus</code> and <code>:active</code> are the same. <strong>They are
not the same.</strong> When clicked the button is in <code>:focus:active</code> state.</p>
<p>An example:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;style</span><span class="w"> </span><span class="na">type=</span><span class="s">"text/css"</span><span class="nt">&gt;</span>
<span class="w">  </span>button<span class="w"> </span>{<span class="w"> </span>font-weight:<span class="w"> </span>normal;<span class="w"> </span>color:<span class="w"> </span>black;<span class="w"> </span>}
<span class="w">  </span>button:focus<span class="w"> </span>{<span class="w"> </span>color:<span class="w"> </span>red;<span class="w"> </span>}
<span class="w">  </span>button:active<span class="w"> </span>{<span class="w"> </span>font-weight:<span class="w"> </span>bold;<span class="w"> </span>}
<span class="nt">&lt;/style&gt;</span>

<span class="nt">&lt;button&gt;</span>
<span class="w">  </span>When<span class="w"> </span>clicked,<span class="w"> </span>my<span class="w"> </span>text<span class="w"> </span>turns<span class="w"> </span>red<span class="w"> </span>AND<span class="w"> </span>bold!<span class="nt">&lt;br</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">  </span>But<span class="w"> </span>not<span class="w"> </span>when<span class="w"> </span>focused<span class="w"> </span>only,<span class="nt">&lt;br</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w"> </span>where<span class="w"> </span>my<span class="w"> </span>text<span class="w"> </span>just<span class="w"> </span>turns<span class="w"> </span>red
<span class="nt">&lt;/button&gt;</span>
</pre></div>

<p>edit: jsfiddle</p>
<p><br></p>
<h3>Suggest</h3>
<div class="code"><pre class="code literal-block">:active       Adds a style to an element that is activated
:focus        Adds a style to an element that has keyboard input focus
:hover        Adds a style to an element when you mouse over it
:lang         Adds a style to an element with a specific lang attribute
:link         Adds a style to an unvisited link
:visited      Adds a style to a visited link
</pre></div>

<p>Source: CSS Pseudo-classes</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/127-return-code-from/" class="u-url">127 Return code from $?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/127-return-code-from/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-05T03:54:50+08:00" itemprop="datePublished" title="2023-03-05 03:54">2023-03-05 03:54</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>What is the meaning of return value 127 from $? in UNIX.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Value 127 is returned by <code>/bin/sh</code> when the given command is not found within
your <code>PATH</code> system variable and it is not a built-in shell command. In other
words, the system doesn't understand your command, because it doesn't know
where to find the binary you're trying to call.</p>
<p><br></p>
<h3>Suggest</h3>
<p>Generally it means:</p>
<p>127 - command not found</p>
<p>but it can also mean that the command <strong>is found</strong> ,<br>
but a library that is required by the command <strong>is NOT found</strong>.</p>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2601.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2599.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

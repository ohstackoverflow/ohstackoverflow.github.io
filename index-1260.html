<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 1260) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-1260.html">
<link rel="prev" href="index-1261.html" type="text/html">
<link rel="next" href="index-1259.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/should-a-restful-put-operation-return-something/" class="u-url">Should a RESTful 'PUT' operation return something....</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/should-a-restful-put-operation-return-something/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T05:06:33+08:00" itemprop="datePublished" title="2023-02-18 05:06">2023-02-18 05:06</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I was wondering what people's opinions are of a RESTful <code>PUT</code> operation that
returns nothing (null) in the response body.</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The HTTP specification (RFC 2616) has a number of recommendations that are
applicable. Here is my interpretation:</p>
<ul>
<li>HTTP status code <code>200 OK</code> for a successful PUT of an update to an existing resource. No response body needed. (Per Section 9.6, <code>204 No Content</code> is even more appropriate.)</li>
<li>HTTP status code <code>201 Created</code> for a successful PUT of a new resource, with the most specific URI for the new resource returned in the Location header field and any other relevant URIs and metadata of the resource echoed in the response body. (RFC 2616 Section 10.2.2)</li>
<li>HTTP status code <code>409 Conflict</code> for a PUT that is unsuccessful due to a 3rd-party modification, with a list of differences between the attempted update and the current resource in the response body. (RFC 2616 Section 10.4.10)</li>
<li>HTTP status code <code>400 Bad Request</code> for an unsuccessful PUT, with natural-language text (such as English) in the response body that explains why the PUT failed. (RFC 2616 Section 10.4)</li>
</ul>
<p><br></p>
<h3>Suggest</h3>
<p>As opposed to most of the answers here, I actually think that PUT should
return the updated resource (in addition to the HTTP code of course).</p>
<p>The reason why you would want to return the resource as a response for PUT
operation is because when you send a resource representation to the server,
the server can also apply some processing to this resource, so the client
would like to know how does this resource look like after the request
completed successfully. (otherwise it will have to issue another GET request).</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-use-linq-to-select-object-with-minimum-or-maximum-property-value/" class="u-url">How to use LINQ to select object with minimum or maximum property value</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-use-linq-to-select-object-with-minimum-or-maximum-property-value/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T05:06:07+08:00" itemprop="datePublished" title="2023-02-18 05:06">2023-02-18 05:06</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a Person object with a Nullable DateOfBirth property. Is there a way to
use LINQ to query a list of Person objects for the one with the
earliest/smallest DateOfBirth value?</p>
<p>Here's what I started with:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">firstBornDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">People</span><span class="o">.</span><span class="n">Min</span><span class="p">(</span><span class="n">p</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">p</span><span class="o">.</span><span class="n">DateOfBirth</span><span class="o">.</span><span class="n">GetValueOrDefault</span><span class="p">(</span><span class="n">DateTime</span><span class="o">.</span><span class="n">MaxValue</span><span class="p">));</span>
</pre></div>

<p>Null DateOfBirth values are set to DateTime.MaxValue in order to rule them out
of the Min consideration (assuming at least one has a specified DOB).</p>
<p>But all that does for me is to set firstBornDate to a DateTime value. What I'd
like to get is the Person object that matches that. Do I need to write a
second query like so:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">firstBorn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">People</span><span class="o">.</span><span class="n">Single</span><span class="p">(</span><span class="n">p</span><span class="o">=&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">DateOfBirth</span><span class="w"> </span><span class="err">??</span><span class="w"> </span><span class="n">DateTime</span><span class="o">.</span><span class="n">MaxValue</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">firstBornDate</span><span class="p">);</span>
</pre></div>

<p>Or is there a leaner way of doing it?</p>
<p><br><br></p>
<h2>Answer</h2>
<div class="code"><pre class="code literal-block"><span class="n">People</span><span class="p">.</span><span class="n">Aggregate</span><span class="p">((</span><span class="n">curMin</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">curMin</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="n">DateOfBirth</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="n">DateTime</span><span class="p">.</span><span class="n">MaxValue</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span>
<span class="w">    </span><span class="n">curMin</span><span class="p">.</span><span class="n">DateOfBirth</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">curMin</span><span class="p">))</span>
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Unfortunately there isn't a built-in method to do this, but it's easy enough
to implement for yourself. Here are the guts of it:</p>
<div class="code"><pre class="code literal-block"><span class="n">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">TSource</span><span class="w"> </span><span class="n">MinBy</span><span class="o">&lt;</span><span class="n">TSource</span><span class="p">,</span><span class="w"> </span><span class="n">TKey</span><span class="o">&gt;</span><span class="p">(</span><span class="n">this</span><span class="w"> </span><span class="n">IEnumerable</span><span class="o">&lt;</span><span class="n">TSource</span><span class="o">&gt;</span><span class="w"> </span><span class="n">source</span><span class="p">,</span>
<span class="w">    </span><span class="n">Func</span><span class="o">&lt;</span><span class="n">TSource</span><span class="p">,</span><span class="w"> </span><span class="n">TKey</span><span class="o">&gt;</span><span class="w"> </span><span class="n">selector</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="n">MinBy</span><span class="p">(</span><span class="n">selector</span><span class="p">,</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">TSource</span><span class="w"> </span><span class="n">MinBy</span><span class="o">&lt;</span><span class="n">TSource</span><span class="p">,</span><span class="w"> </span><span class="n">TKey</span><span class="o">&gt;</span><span class="p">(</span><span class="n">this</span><span class="w"> </span><span class="n">IEnumerable</span><span class="o">&lt;</span><span class="n">TSource</span><span class="o">&gt;</span><span class="w"> </span><span class="n">source</span><span class="p">,</span>
<span class="w">    </span><span class="n">Func</span><span class="o">&lt;</span><span class="n">TSource</span><span class="p">,</span><span class="w"> </span><span class="n">TKey</span><span class="o">&gt;</span><span class="w"> </span><span class="n">selector</span><span class="p">,</span><span class="w"> </span><span class="n">IComparer</span><span class="o">&lt;</span><span class="n">TKey</span><span class="o">&gt;</span><span class="w"> </span><span class="n">comparer</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">source</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">)</span><span class="w"> </span><span class="n">throw</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">ArgumentNullException</span><span class="p">(</span><span class="s2">"source"</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">selector</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb nb-Type">null</span><span class="p">)</span><span class="w"> </span><span class="n">throw</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">ArgumentNullException</span><span class="p">(</span><span class="s2">"selector"</span><span class="p">);</span>
<span class="w">    </span><span class="n">comparer</span><span class="w"> </span><span class="err">??</span><span class="o">=</span><span class="w"> </span><span class="n">Comparer</span><span class="o">&lt;</span><span class="n">TKey</span><span class="o">&gt;.</span><span class="n">Default</span><span class="p">;</span>

<span class="w">    </span><span class="n">using</span><span class="w"> </span><span class="p">(</span><span class="k">var</span><span class="w"> </span><span class="n">sourceIterator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="n">GetEnumerator</span><span class="p">())</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">sourceIterator</span><span class="o">.</span><span class="n">MoveNext</span><span class="p">())</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="n">throw</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">InvalidOperationException</span><span class="p">(</span><span class="s2">"Sequence contains no elements"</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">var</span><span class="w"> </span><span class="nb">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sourceIterator</span><span class="o">.</span><span class="n">Current</span><span class="p">;</span>
<span class="w">        </span><span class="k">var</span><span class="w"> </span><span class="n">minKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">selector</span><span class="p">(</span><span class="nb">min</span><span class="p">);</span>
<span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">sourceIterator</span><span class="o">.</span><span class="n">MoveNext</span><span class="p">())</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="k">var</span><span class="w"> </span><span class="n">candidate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sourceIterator</span><span class="o">.</span><span class="n">Current</span><span class="p">;</span>
<span class="w">            </span><span class="k">var</span><span class="w"> </span><span class="n">candidateProjected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">selector</span><span class="p">(</span><span class="n">candidate</span><span class="p">);</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">comparer</span><span class="o">.</span><span class="n">Compare</span><span class="p">(</span><span class="n">candidateProjected</span><span class="p">,</span><span class="w"> </span><span class="n">minKey</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="nb">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">candidate</span><span class="p">;</span>
<span class="w">                </span><span class="n">minKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">candidateProjected</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">min</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>Example usage:</p>
<div class="code"><pre class="code literal-block"><span class="k">var</span><span class="w"> </span><span class="n">firstBorn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">People</span><span class="o">.</span><span class="n">MinBy</span><span class="p">(</span><span class="n">p</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">p</span><span class="o">.</span><span class="n">DateOfBirth</span><span class="w"> </span><span class="err">??</span><span class="w"> </span><span class="n">DateTime</span><span class="o">.</span><span class="n">MaxValue</span><span class="p">);</span>
</pre></div>

<p>Note that this will throw an exception if the sequence is empty, and will
return the <em>first</em> element with the minimal value if there's more than one.</p>
<p>Alternatively, you can use the implementation we've got in MoreLINQ, in
MinBy.cs. (There's a corresponding <code>MaxBy</code>, of course.)</p>
<p>Install via package manager console:</p>
<blockquote>
<p>PM&gt; Install-Package morelinq</p>
</blockquote>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-can-i-make-my-match-non-greedy-in-vim/" class="u-url">How can I make my match non greedy in vim?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-can-i-make-my-match-non-greedy-in-vim/" rel="bookmark">
            <time class="published dt-published" datetime="2023-02-18T05:05:45+08:00" itemprop="datePublished" title="2023-02-18 05:05">2023-02-18 05:05</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I have a big HTML file that has lots of markup that looks like this:</p>
<div class="code"><pre class="code literal-block"><span class="nt">&lt;p</span><span class="w"> </span><span class="na">class=</span><span class="s">"MsoNormal"</span><span class="w"> </span><span class="na">style=</span><span class="s">"margin: 0in 0in 0pt;"</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;span</span><span class="w"> </span><span class="na">style=</span><span class="s">"font-size: small; font-family: Times New Roman;"</span><span class="nt">&gt;</span>stuff<span class="w"> </span>here<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;/p&gt;</span>
</pre></div>

<p>I'm trying to do a Vim search-and-replace to get rid of all <code>class=""</code> and
<code>style=""</code> but I'm having trouble making the match ungreedy.</p>
<p>My first attempt was this</p>
<div class="code"><pre class="code literal-block"><span class="nf">%s</span><span class="o">/</span><span class="n">style</span><span class="o">=</span><span class="s">".*?"</span><span class="c1">//g</span>
</pre></div>

<p>but Vim doesn't seem to like the <code>?</code>. Unfortunately removing the <code>?</code> makes the
match too greedy.</p>
<p>How can I make my match ungreedy?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>Instead of <code>.*</code> use <code>.\{-}</code>.</p>
<p><code>%s/style=".\{-}"//g</code></p>
<p>Also, see <code>:help non-greedy</code></p>
<p><br></p>
<h3>Suggest</h3>
<p>Non greedy search in vim is done using {-} operator. Like this:</p>
<div class="code"><pre class="code literal-block"><span class="nf">%s</span><span class="o">/</span><span class="n">style</span><span class="o">=</span><span class="s">".\{-}"</span><span class="c1">//g</span>
</pre></div>

<p>just try:</p>
<div class="code"><pre class="code literal-block">:help non-greedy
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-1261.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1259.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow-ZH</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a snapshot site for StackOverflow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>StackOverflow Snapshot (old posts, page 2112) | StackOverflow Snapshot</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://ohstackoverflow.netlify.app/index-2112.html">
<link rel="prev" href="index-2113.html" type="text/html">
<link rel="next" href="index-2111.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://ohstackoverflow.netlify.app/">

                <span id="blog-title">StackOverflow Snapshot</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<div style="display:table;min-height:5rem;min-width:27rem;">
					<div class="input-group" style="display: table-cell;vertical-align: middle;">
						<input id="words" type="text" class="form-control" style="max-width:22rem;" onkeydown="if(event.keyCode==13){btn.click()}"><span class="input-group-btn" style="float:left">
							<button id="btn" class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal">
								<span class="glyphicon glyphicon-search">
							</span></button>
						</span>
					</div>
<!-- /input-group -->
				</div>

				
                
                
                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><!-- 模态框（Modal） --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
				</button>
				<h4 class="modal-title" id="myModalLabel">
					查找结果
				</h4>
			</div>
			<div class="modal-body">
				<div id="search-count" style="min-height:4rem;">
				查找中，请稍后...
				</div>
				<div id="search-result">
				</div>

				
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					关闭
				</button>
			</div>
		</div>
<!-- /.modal-content -->
	</div>
<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-do-i-concatenate-const-literal-strings-in-c/" class="u-url">How do I concatenate const/literal strings in C?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-do-i-concatenate-const-literal-strings-in-c/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T17:12:45+08:00" itemprop="datePublished" title="2023-03-03 17:12">2023-03-03 17:12</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>I'm working in C, and I have to concatenate a few things.</p>
<p>Right now I have this:</p>
<div class="code"><pre class="code literal-block"><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">strcat</span><span class="p">(</span><span class="s2">"TEXT "</span><span class="p">,</span><span class="w"> </span><span class="k">var</span><span class="p">);</span>

<span class="n">message2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">strcat</span><span class="p">(</span><span class="n">strcat</span><span class="p">(</span><span class="s2">"TEXT "</span><span class="p">,</span><span class="w"> </span><span class="n">foo</span><span class="p">),</span><span class="w"> </span><span class="n">strcat</span><span class="p">(</span><span class="s2">" TEXT "</span><span class="p">,</span><span class="w"> </span><span class="n">bar</span><span class="p">));</span>
</pre></div>

<p>Now if you have experience in C I'm sure you realize that this gives you a
segmentation fault when you try to run it. So how do I work around that?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>In C, "strings" are just plain <code>char</code> arrays. Therefore, you can't directly
concatenate them with other "strings".</p>
<p>You can use the <code>strcat</code> function, which appends the string pointed to by
<code>src</code> to the end of the string pointed to by <code>dest</code>:</p>
<div class="code"><pre class="code literal-block"><span class="nb">char</span><span class="w"> </span><span class="o">*</span><span class="n">strcat</span><span class="p">(</span><span class="nb">char</span><span class="w"> </span><span class="o">*</span><span class="n">dest</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="nb">char</span><span class="w"> </span><span class="o">*</span><span class="n">src</span><span class="p">);</span>
</pre></div>

<p>Here is an example from cplusplus.com:</p>
<div class="code"><pre class="code literal-block">char str[80];
strcpy(str, "these ");
strcat(str, "strings ");
strcat(str, "are ");
strcat(str, "concatenated.");
</pre></div>

<p>For the first parameter, you need to provide the destination buffer itself.
The destination buffer must be a char array buffer. E.g.: <code>char buffer[1024];</code></p>
<p><strong>Make sure</strong> that the first parameter has enough space to store what you're
trying to copy into it. If available to you, it is safer to use functions
like: <code>strcpy_s</code> and <code>strcat_s</code> where you explicitly have to specify the size
of the destination buffer.</p>
<p><em>Note</em> : A string literal cannot be used as a buffer, since it is a constant.
Thus, you always have to allocate a char array for the buffer.</p>
<p>The return value of <code>strcat</code> can simply be ignored, it merely returns the same
pointer as was passed in as the first argument. It is there for convenience,
and allows you to chain the calls into one line of code:</p>
<div class="code"><pre class="code literal-block">strcat(strcat(str, foo), bar);
</pre></div>

<p>So your problem could be solved as follows:</p>
<div class="code"><pre class="code literal-block">char *foo = "foo";
char *bar = "bar";
char str[80];
strcpy(str, "TEXT ");
strcat(str, foo);
strcat(str, bar);
</pre></div>

<p><br></p>
<h3>Suggest</h3>
<p>Avoid using <code>strcat</code> in C code. The cleanest and, most importantly, the safest
way is to use <code>snprintf</code>:</p>
<div class="code"><pre class="code literal-block">char buf[256];
snprintf(buf, sizeof(buf), "%s%s%s%s", str1, str2, str3, str4);
</pre></div>

<p>Some commenters raised an issue that the number of arguments may not match the
format string and the code will still compile, but most compilers already
issue a warning if this is the case.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/how-to-delete-a-module-in-android-studio/" class="u-url">How to delete a module in Android Studio</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/how-to-delete-a-module-in-android-studio/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T17:12:20+08:00" itemprop="datePublished" title="2023-03-03 17:12">2023-03-03 17:12</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>Is there a way to delete a module within Android Studio? When I right click on
a module I can't find an option for deletion, is it elsewhere?</p>
<p><br><br></p>
<h2>Answer</h2>
<p>The "Mark as Excluded" option isn't there anymore.</p>
<p>The current (Android Studio <strong>0.8.x - 2.2.x</strong> ) way to do this is via the
<strong>Project Structure</strong> dialog. It can be accessed via "File -&gt; Project
Structure" or by right-clicking on a Module and selecting "Module Settings".</p>
<p><img alt="enter image description here" src="images/piX7s.png"></p>
<p>Then select the module, and click the "minus" button to remove it.</p>
<p><img alt="enter image description here" src="images/cUfVZ.png"></p>
<p>The directory will still be visible in the "Project" view (though not in the
"Android" view) since it's not actually deleted, but it will no longer be
treated as a module.</p>
<p>If you want, you can then physically delete the files it by right-clicking on
it and pressing "Delete".</p>
<p><br></p>
<h3>Suggest</h3>
<p><em>(Editor's Note: This answer was correct in May 2013 for Android Studio v0.1,
but is no longer accurate as of July 2014, since the mentioned menu option
does not exist anymore -- see this answer for up-to-date alternative).</em></p>
<p>First you will have to mark it as excluded. Then on right click you will be
able to delete the project.</p>
<p><img alt="Step 1" src="images/AEu5e.png"></p>
<p><img alt="Step 2" src="images/4RKJP.png"></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/docker-adding-a-file-from-a-parent-directory/" class="u-url">Docker: adding a file from a parent directory</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                <a href="authors/arya/">Arya</a>
            </span></p>
            <p class="dateline">
            <a href="posts/docker-adding-a-file-from-a-parent-directory/" rel="bookmark">
            <time class="published dt-published" datetime="2023-03-03T17:11:55+08:00" itemprop="datePublished" title="2023-03-03 17:11">2023-03-03 17:11</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <p>In my <code>Dockerfile</code> I've got :</p>
<div class="code"><pre class="code literal-block">ADD ../../myapp.war /opt/tomcat7/webapps/
</pre></div>

<p>That file exists as <code>ls ../../myapp.war</code> returns me the correct file but when
I execute <code>sudo docker build -t myapp .</code> I've got :</p>
<div class="code"><pre class="code literal-block">Step 1 : ADD ../../myapp.war /opt/tomcat7/webapps/
2014/07/02 19:18:09 ../../myapp.war: no such file or directory
</pre></div>

<p>Does somebody know why and how to do it correctly?</p>
<p><br><br></p>
<h2>Answer</h2>
<ol>
<li>
<code>cd</code> to your parent directory instead</li>
<li>
<p>build the image from the parent directory, specifying the path to your Dockerfile</p>
<p>docker build -t <some tag> -f <dir> .</dir></some></p>
</li>
</ol>
<p>In this case, the context of the docker will be switched to the parent
directory and accessible for ADD and COPY</p>
<p><br></p>
<h3>Suggest</h3>
<p>With docker-compose, you could set context folder:</p>
<div class="code"><pre class="code literal-block"># docker-compose.yml

version: '3.3'    
services:
  yourservice:
    build:
      context: ./
      dockerfile: ./docker/yourservice/Dockerfile
</pre></div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2113.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-2111.html" rel="next">Older posts</a>
            </li>
        </ul></nav>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2023         Go to StackOverflow Chinese Site  <a href="http://stackoverflow.ink">StackOverflow中文网</a>  
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script src="assets/js/search.js"></script>
</body>
</html>
